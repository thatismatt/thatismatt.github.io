/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={187:t=>{"use strict";function e(t,e,i){i=i||2;var o,s,a,h,c,d,p,_=e&&e.length,v=_?e[0]*i:t.length,m=r(t,0,v,i,!0),g=[];if(!m||m.next===m.prev)return g;if(_&&(m=function(t,e,i,n){var o,s,a,h=[];for(o=0,s=e.length;o<s;o++)(a=r(t,e[o]*n,o<s-1?e[o+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),h.push(f(a));for(h.sort(u),o=0;o<h.length;o++)i=l(h[o],i);return i}(t,e,m,i)),t.length>80*i){o=a=t[0],s=h=t[1];for(var y=i;y<v;y+=i)(c=t[y])<o&&(o=c),(d=t[y+1])<s&&(s=d),c>a&&(a=c),d>h&&(h=d);p=0!==(p=Math.max(a-o,h-s))?32767/p:0}return n(m,g,i,o,s,p,0),g}function r(t,e,r,i,n){var o,s;if(n===S(t,e,r,i)>0)for(o=e;o<r;o+=i)s=E(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=E(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(A(s),s=s.next),s}function i(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!m(i,i.next)&&0!==v(i.prev,i,i.next))i=i.next;else{if(A(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function n(t,e,r,u,l,c,f){if(t){!f&&c&&function(t,e,r,i){var n=t;do{0===n.z&&(n.z=d(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,u,l,c);for(var p,_,v=t;t.prev!==t.next;)if(p=t.prev,_=t.next,c?s(t,u,l,c):o(t))e.push(p.i/r|0),e.push(t.i/r|0),e.push(_.i/r|0),A(t),t=_.next,v=_.next;else if((t=_)===v){f?1===f?n(t=a(i(t),e,r),e,r,u,l,c,2):2===f&&h(t,e,r,u,l,c):n(i(t),e,r,u,l,c,1);break}}}function o(t){var e=t.prev,r=t,i=t.next;if(v(e,r,i)>=0)return!1;for(var n=e.x,o=r.x,s=i.x,a=e.y,h=r.y,u=i.y,l=n<o?n<s?n:s:o<s?o:s,c=a<h?a<u?a:u:h<u?h:u,d=n>o?n>s?n:s:o>s?o:s,f=a>h?a>u?a:u:h>u?h:u,_=i.next;_!==e;){if(_.x>=l&&_.x<=d&&_.y>=c&&_.y<=f&&p(n,a,o,h,s,u,_.x,_.y)&&v(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function s(t,e,r,i){var n=t.prev,o=t,s=t.next;if(v(n,o,s)>=0)return!1;for(var a=n.x,h=o.x,u=s.x,l=n.y,c=o.y,f=s.y,_=a<h?a<u?a:u:h<u?h:u,m=l<c?l<f?l:f:c<f?c:f,g=a>h?a>u?a:u:h>u?h:u,y=l>c?l>f?l:f:c>f?c:f,b=d(_,m,e,r,i),x=d(g,y,e,r,i),T=t.prevZ,E=t.nextZ;T&&T.z>=b&&E&&E.z<=x;){if(T.x>=_&&T.x<=g&&T.y>=m&&T.y<=y&&T!==n&&T!==s&&p(a,l,h,c,u,f,T.x,T.y)&&v(T.prev,T,T.next)>=0)return!1;if(T=T.prevZ,E.x>=_&&E.x<=g&&E.y>=m&&E.y<=y&&E!==n&&E!==s&&p(a,l,h,c,u,f,E.x,E.y)&&v(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;T&&T.z>=b;){if(T.x>=_&&T.x<=g&&T.y>=m&&T.y<=y&&T!==n&&T!==s&&p(a,l,h,c,u,f,T.x,T.y)&&v(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;E&&E.z<=x;){if(E.x>=_&&E.x<=g&&E.y>=m&&E.y<=y&&E!==n&&E!==s&&p(a,l,h,c,u,f,E.x,E.y)&&v(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function a(t,e,r){var n=t;do{var o=n.prev,s=n.next.next;!m(o,s)&&g(o,n,n.next,s)&&x(o,s)&&x(s,o)&&(e.push(o.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),A(n),A(n.next),n=t=s),n=n.next}while(n!==t);return i(n)}function h(t,e,r,o,s,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&_(h,u)){var l=T(h,u);return h=i(h,h.next),l=i(l,l.next),n(h,e,r,o,s,a,0),void n(l,e,r,o,s,a,0)}u=u.next}h=h.next}while(h!==t)}function u(t,e){return t.x-e.x}function l(t,e){var r=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s&&(s=a,r=i.x<i.next.x?i:i.next,a===n))return r}i=i.next}while(i!==e);if(!r)return null;var h,u=r,l=r.x,d=r.y,f=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&p(o<d?n:s,o,l,d,o<d?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),x(i,t)&&(h<f||h===f&&(i.x>r.x||i.x===r.x&&c(r,i)))&&(r=i,f=h)),i=i.next}while(i!==u);return r}(t,e);if(!r)return e;var n=T(r,t);return i(n,n.next),i(r,r.next)}function c(t,e){return v(t.prev,t,e.prev)<0&&v(e.next,t,t.next)<0}function d(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function p(t,e,r,i,n,o,s,a){return(n-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(i-a)>=(r-s)*(e-a)&&(r-s)*(o-a)>=(n-s)*(i-a)}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&g(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(v(t.prev,t,e.prev)||v(t,e.prev,e))||m(t,e)&&v(t.prev,t,t.next)>0&&v(e.prev,e,e.next)>0)}function v(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,r,i){var n=b(v(t,e,r)),o=b(v(t,e,i)),s=b(v(r,i,t)),a=b(v(r,i,e));return n!==o&&s!==a||!(0!==n||!y(t,r,e))||!(0!==o||!y(t,i,e))||!(0!==s||!y(r,t,i))||!(0!==a||!y(r,e,i))}function y(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function b(t){return t>0?1:t<0?-1:0}function x(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function T(t,e){var r=new R(t.i,t.x,t.y),i=new R(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function E(t,e,r,i){var n=new R(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function R(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(S(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,f=i[a+1]*r,p=i[a+2]*r;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,o||t,s),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,o),!0;case 6:return l.fn.call(l.context,e,i,n,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||i&&a[h].context!==i)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,h=n(t),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))r.call(s,l)&&(h[l]=s[l]);if(e){a=e(s);for(var c=0;c<a.length;c++)i.call(s,a[c])&&(h[a[c]]=s[a[c]])}}return h}},971:function(t,e,r){var i;t=r.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function _(t){throw RangeError(d[t])}function v(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function m(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+v((t=t.replace(c,".")).split("."),e).join(".")}function g(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function y(t){return v(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+p(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,r){var i=0;for(t=r?f(t/700):t>>1,t+=f(t/e);t>455;i+=h)t=f(t/35);return f(i+36*t/(t+38))}function T(t){var e,r,i,n,o,s,u,l,c,d,p,v=[],m=t.length,g=0,b=128,T=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&_("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<m;){for(o=g,s=1,u=h;n>=m&&_("invalid-input"),((l=(p=t.charCodeAt(n++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:h)>=h||l>f((a-g)/s))&&_("overflow"),g+=l*s,!(l<(c=u<=T?1:u>=T+26?26:u-T));u+=h)s>f(a/(d=h-c))&&_("overflow"),s*=d;T=x(g-o,e=v.length+1,0==o),f(g/e)>a-b&&_("overflow"),b+=f(g/e),g%=e,v.splice(g++,0,b)}return y(v)}function E(t){var e,r,i,n,o,s,u,l,c,d,v,m,y,T,E,A=[];for(m=(t=g(t)).length,e=128,r=0,o=72,s=0;s<m;++s)(v=t[s])<128&&A.push(p(v));for(i=n=A.length,n&&A.push("-");i<m;){for(u=a,s=0;s<m;++s)(v=t[s])>=e&&v<u&&(u=v);for(u-e>f((a-r)/(y=i+1))&&_("overflow"),r+=(u-e)*y,e=u,s=0;s<m;++s)if((v=t[s])<e&&++r>a&&_("overflow"),v==e){for(l=r,c=h;!(l<(d=c<=o?1:c>=o+26?26:c-o));c+=h)E=l-d,T=h-d,A.push(p(b(d+E%T,0))),l=f(E/T);A.push(p(b(l,0))),o=x(r,y,i==n),r=0,++i}++r,++e}return A.join("")}s={version:"1.3.2",ucs2:{decode:g,encode:y},decode:T,encode:E,toASCII:function(t){return m(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return m(t,(function(t){return u.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,r,e,t))||(t.exports=i)}()},587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,i,n){r=r||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var l,c,d,f,p=t[u].replace(s,"%20"),_=p.indexOf(i);_>=0?(l=p.substr(0,_),c=p.substr(_+1)):(l=p,c=""),d=decodeURIComponent(l),f=decodeURIComponent(c),e(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o}},361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,i,n){return r=r||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var o=encodeURIComponent(e(n))+i;return Array.isArray(t[n])?t[n].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[n]))})).join(r):n?encodeURIComponent(e(n))+i+encodeURIComponent(e(t)):""}},673:(t,e,r)=>{"use strict";e.decode=e.parse=r(587),e.encode=e.stringify=r(361)},575:(t,e,r)=>{"use strict";var i=r(971),n=r(502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.Qc=y,e.DB=function(t,e){return y(t,!1,!0).resolve(e)},e.WU=function(t){return n.isString(t)&&(t=y(t)),t instanceof o?t.format():o.prototype.format.call(t)};var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(673);function y(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var y=t=u.join(a);if(y=y.trim(),!r&&1===t.split("#").length){var b=h.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(y);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,y=y.substr(x.length)}if(r||x||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===y.substr(0,2);!E||x&&v[x]||(y=y.substr(2),this.slashes=!0)}if(!v[x]&&(E||x&&!m[x])){for(var A,R,S=-1,O=0;O<d.length;O++)-1!==(w=y.indexOf(d[O]))&&(-1===S||w<S)&&(S=w);for(-1!==(R=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(A=y.slice(0,R),y=y.slice(R+1),this.auth=decodeURIComponent(A)),S=-1,O=0;O<c.length;O++){var w;-1!==(w=y.indexOf(c[O]))&&(-1===S||w<S)&&(S=w)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var I=this.hostname.split(/\./),M=(O=0,I.length);O<M;O++){var D=I[O];if(D&&!D.match(f)){for(var C="",F=0,B=D.length;F<B;F++)D.charCodeAt(F)>127?C+="x":C+=D[F];if(!C.match(f)){var N=I.slice(0,O),L=I.slice(O+1),G=D.match(p);G&&(N.push(G[1]),L.unshift(G[2])),L.length&&(y="/"+L.join(".")+y),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=i.toASCII(this.hostname));var U=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+U,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!_[T])for(O=0,M=l.length;O<M;O++){var X=l[O];if(-1!==y.indexOf(X)){var j=encodeURIComponent(X);j===X&&(j=escape(X)),y=y.split(X).join(j)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var Y=y.indexOf("?");if(-1!==Y?(this.search=y.substr(Y),this.query=y.substr(Y+1),e&&(this.query=g.parse(this.query)),y=y.slice(0,Y)):e&&(this.search="",this.query={}),y&&(this.pathname=y),m[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var z=this.search||"";this.path=U+z}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var f=c[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var _=r.pathname||"",g=r.search||"";r.path=_+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||y||r.host&&t.pathname,T=x,E=r.pathname&&r.pathname.split("/")||[],A=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===E[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search))return A&&(r.hostname=r.host=E.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift())),r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var R=E.slice(-1)[0],S=(r.host||t.host||E.length>1)&&("."===R||".."===R)||""===R,O=0,w=E.length;w>=0;w--)"."===(R=E[w])?E.splice(w,1):".."===R?(E.splice(w,1),O++):O&&(E.splice(w,1),O--);if(!x&&!T)for(;O--;O)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var P,I=""===E[0]||E[0]&&"/"===E[0].charAt(0);return A&&(r.hostname=r.host=I?"":E.length?E.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift())),(x=x||r.host&&E.length)&&!I&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t={};r.r(t),r.d(t,{BaseTextureCache:()=>jt,CanvasRenderTarget:()=>zt,DATA_URI:()=>qt,EventEmitter:()=>ot,ProgramCache:()=>kt,TextureCache:()=>Xt,clearTextureCache:()=>Yt,correctBlendMode:()=>Et,createIndicesForQuads:()=>Ot,decomposeDataUri:()=>Kt,deprecation:()=>Ut,destroyTextureCache:()=>Ht,determineCrossOrigin:()=>Zt,earcut:()=>st,getBufferType:()=>wt,getResolutionOfUrl:()=>Qt,hex2rgb:()=>gt,hex2string:()=>yt,interleaveTypedArrays:()=>It,isMobile:()=>it,isPow2:()=>Dt,isWebGLSupported:()=>vt,log2:()=>Ct,nextPow2:()=>Mt,path:()=>ct,premultiplyBlendMode:()=>Tt,premultiplyRgba:()=>At,premultiplyTint:()=>Rt,premultiplyTintToRgba:()=>St,removeItems:()=>Ft,rgb2hex:()=>xt,sayHello:()=>_t,sign:()=>Bt,skipHello:()=>pt,string2hex:()=>bt,trimCanvas:()=>Vt,uid:()=>Lt,url:()=>ht});var e={};r.r(e),r.d(e,{ALPHA_MODES:()=>w,AbstractBatchRenderer:()=>Qi,AbstractMultiResource:()=>ze,AbstractRenderer:()=>ki,AccessibilityManager:()=>dn,AnimatedSprite:()=>Ua,AppLoaderPlugin:()=>Un,Application:()=>Pa,ArrayResource:()=>Ve,Attribute:()=>lr,BLEND_MODES:()=>y,BUFFER_BITS:()=>g,BUFFER_TYPE:()=>B,BaseImageResource:()=>We,BasePrepare:()=>Rs,BaseRenderTexture:()=>ir,BaseTexture:()=>Ye,BatchDrawCall:()=>qi,BatchGeometry:()=>$i,BatchPluginFactory:()=>rn,BatchRenderer:()=>nn,BatchShaderGenerator:()=>Ji,BatchSystem:()=>Or,BatchTextureArray:()=>Ki,BitmapFont:()=>na,BitmapFontData:()=>Ks,BitmapFontLoader:()=>ua,BitmapText:()=>ha,BlobResource:()=>Zn,Bounds:()=>be,BrowserAdapter:()=>k,Buffer:()=>dr,BufferResource:()=>je,CLEAR_MODES:()=>P,COLOR_MASK_BITS:()=>C,CanvasResource:()=>qe,Circle:()=>oe,CompressedTextureLoader:()=>Jn,CompressedTextureResource:()=>Qn,Container:()=>Se,ContextSystem:()=>Pr,CountLimiter:()=>ms,CubeResource:()=>Ke,DDSLoader:()=>_o,DEG_TO_RAD:()=>ee,DRAW_MODES:()=>b,DisplayObject:()=>Ee,ENV:()=>v,Ellipse:()=>se,ExtensionType:()=>Oe,Extract:()=>Tn,FORMATS:()=>x,FORMATS_TO_COMPONENTS:()=>lo,FillStyle:()=>Ro,Filter:()=>hi,FilterState:()=>Tr,FilterSystem:()=>Rr,Framebuffer:()=>rr,FramebufferSystem:()=>Dr,GC_MODES:()=>I,GLFramebuffer:()=>Ir,GLProgram:()=>Pi,GLTexture:()=>Ni,GRAPHICS_CURVES:()=>Ao,Geometry:()=>mr,GeometrySystem:()=>Fr,Graphics:()=>$o,GraphicsData:()=>Wo,GraphicsGeometry:()=>Ko,IGLUniformData:()=>wi,INSTALLED:()=>Ne,INTERNAL_FORMATS:()=>Hn,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>zn,ImageBitmapResource:()=>$e,ImageResource:()=>Ze,InteractionData:()=>fn,InteractionEvent:()=>_n,InteractionManager:()=>bn,InteractionTrackingData:()=>vn,KTXLoader:()=>vo,LINE_CAP:()=>bo,LINE_JOIN:()=>yo,LineStyle:()=>Zo,Loader:()=>Gn,LoaderResource:()=>Dn,MASK_TYPES:()=>D,MIPMAP_MODES:()=>O,MSAA_QUALITY:()=>F,MaskData:()=>Br,MaskSystem:()=>di,Matrix:()=>le,Mesh:()=>zs,MeshBatchUvs:()=>js,MeshGeometry:()=>Ws,MeshMaterial:()=>Vs,NineSlicePlane:()=>La,ObjectRenderer:()=>Sr,ObservablePoint:()=>ue,PI_2:()=>$t,PRECISION:()=>M,ParticleContainer:()=>xo,ParticleRenderer:()=>Eo,PlaneGeometry:()=>Da,Point:()=>re,Polygon:()=>ae,Prepare:()=>Ps,Program:()=>oi,ProjectionSystem:()=>gi,Quad:()=>gr,QuadUv:()=>yr,RAD_TO_DEG:()=>te,RENDERER_TYPE:()=>m,Rectangle:()=>ne,RenderTexture:()=>hr,RenderTexturePool:()=>ur,RenderTextureSystem:()=>xi,Renderer:()=>Hi,ResizePlugin:()=>wa,Resource:()=>Xe,RopeGeometry:()=>Ca,RoundedRectangle:()=>he,Runner:()=>De,SAMPLER_TYPES:()=>A,SCALE_MODES:()=>R,SHAPES:()=>Jt,SVGResource:()=>Qe,ScissorSystem:()=>vi,Shader:()=>si,ShaderSystem:()=>Ci,SimpleMesh:()=>Na,SimplePlane:()=>Ba,SimpleRope:()=>Fa,Sprite:()=>ns,SpriteMaskFilter:()=>ci,Spritesheet:()=>Ms,SpritesheetLoader:()=>Ds,State:()=>ai,StateSystem:()=>Fi,StencilSystem:()=>mi,System:()=>Wi,TARGETS:()=>T,TEXT_GRADIENT:()=>Uo,TYPES:()=>E,TYPES_TO_BYTES_PER_COMPONENT:()=>uo,TYPES_TO_BYTES_PER_PIXEL:()=>co,TemporaryDisplayObject:()=>Ae,Text:()=>_s,TextFormat:()=>Zs,TextMetrics:()=>fs,TextStyle:()=>hs,Texture:()=>ar,TextureGCSystem:()=>Bi,TextureLoader:()=>kn,TextureMatrix:()=>li,TextureSystem:()=>Li,TextureUvs:()=>nr,Ticker:()=>Fe,TickerPlugin:()=>Be,TilingSprite:()=>Ns,TilingSpriteRenderer:()=>Us,TimeLimiter:()=>Is,Transform:()=>ye,UPDATE_PRIORITY:()=>Pe,UniformGroup:()=>xr,VERSION:()=>ln,VideoResource:()=>Je,ViewableBuffer:()=>Zi,WRAP_MODES:()=>S,XMLFormat:()=>Qs,XMLStringFormat:()=>Js,accessibleTarget:()=>cn,autoDetectFormat:()=>ta,autoDetectRenderer:()=>Yi,autoDetectResource:()=>Le,checkMaxIfStatementsInShader:()=>ri,createUBOElements:()=>Ri,defaultFilterVertex:()=>Vi,defaultVertex:()=>zi,extensions:()=>Me,filters:()=>Ya,generateProgram:()=>Ii,generateUniformBufferSync:()=>Oi,getTestContext:()=>Hr,getUBOData:()=>Si,graphicsUtils:()=>ts,groupD8:()=>ge,interactiveTarget:()=>gn,isMobile:()=>it,parseDDS:()=>ao,parseKTX:()=>fo,resources:()=>on,settings:()=>nt,systems:()=>hn,uniformParsers:()=>Qr,utils:()=>t});var i=setTimeout;function n(t){return Boolean(t&&void 0!==t.length)}function o(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn((function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var i;try{i=r(t._value)}catch(t){return void u(e.promise,t)}h(e.promise,i)}else(1===t._state?h:u)(e.promise,t._value)}))):t._deferreds.push(e)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof s)return t._state=3,t._value=e,void l(t);if("function"==typeof r)return void d((i=r,n=e,function(){i.apply(n,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var i,n}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&s._immediateFn((function(){t._handled||s._unhandledRejectionFn(t._value)}));for(var e=0,r=t._deferreds.length;e<r;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function d(t,e){var r=!1;try{t((function(t){r||(r=!0,h(e,t))}),(function(t){r||(r=!0,u(e,t))}))}catch(t){if(r)return;r=!0,u(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var r=new this.constructor(o);return a(this,new c(t,e,r)),r},s.prototype.finally=function(t){var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){return e.reject(r)}))}))},s.all=function(t){return new s((function(e,r){if(!n(t))return r(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var o=i.length;function s(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(e){s(t,e)}),r)}i[t]=n,0==--o&&e(i)}catch(t){r(t)}}for(var a=0;a<i.length;a++)s(a,i[a])}))},s.allSettled=function(t){return new this((function(e,r){if(!t||void 0===t.length)return r(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var n=i.length;function o(t,r){if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(e){o(t,e)}),(function(r){i[t]={status:"rejected",reason:r},0==--n&&e(i)}))}i[t]={status:"fulfilled",value:r},0==--n&&e(i)}for(var s=0;s<i.length;s++)o(s,i[s])}))},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s((function(e){e(t)}))},s.reject=function(t){return new s((function(e,r){r(t)}))},s.race=function(t){return new s((function(e,r){if(!n(t))return r(new TypeError("Promise.race accepts an array"));for(var i=0,o=t.length;i<o;i++)s.resolve(t[i]).then(e,r)}))},s._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const f=s;var p=r(418);if("undefined"==typeof globalThis&&("undefined"!=typeof self?self.globalThis=self:"undefined"!=typeof global&&(global.globalThis=global)),globalThis.Promise||(globalThis.Promise=f),Object.assign||(Object.assign=p),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!globalThis.performance||!globalThis.performance.now){var _=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-_}}for(var v,m,g,y,b,x,T,E,A,R,S,O,w,P,I,M,D,C,F,B,N=Date.now(),L=["ms","moz","webkit","o"],G=0;G<L.length&&!globalThis.requestAnimationFrame;++G){var U=L[G];globalThis.requestAnimationFrame=globalThis[U+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[U+"CancelAnimationFrame"]||globalThis[U+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+N-e;return r<0&&(r=0),N=e,globalThis.self.setTimeout((function(){N=Date.now(),t(performance.now())}),r)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(v||(v={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(m||(m={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(g||(g={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(y||(y={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(b||(b={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(x||(x={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(T||(T={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(E||(E={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(A||(A={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(R||(R={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(S||(S={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(O||(O={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(w||(w={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(P||(P={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(I||(I={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(M||(M={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"}(D||(D={})),function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"}(C||(C={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(F||(F={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(B||(B={}));var k={createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return null!==(t=document.baseURI)&&void 0!==t?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},X=/iPhone/i,j=/iPod/i,H=/iPad/i,Y=/\biOS-universal(?:.+)Mac\b/i,z=/\bAndroid(?:.+)Mobile\b/i,V=/Android/i,W=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,q=/Silk/i,K=/Windows Phone/i,Z=/\bWindows(?:.+)ARM\b/i,Q=/BlackBerry/i,J=/BB10/i,$=/Opera Mini/i,tt=/\b(CriOS|Chrome)(?:.+)Mobile/i,et=/Mobile(?:.+)Firefox\b/i,rt=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},it=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:n(X)&&!n(K),ipod:n(j),tablet:!n(X)&&(n(H)||rt(e))&&!n(K),universal:n(Y),device:(n(X)||n(j)||n(H)||n(Y)||rt(e))&&!n(K)},amazon:{phone:n(W),tablet:!n(W)&&n(q),device:n(W)||n(q)},android:{phone:!n(K)&&n(W)||!n(K)&&n(z),tablet:!n(K)&&!n(W)&&!n(z)&&(n(q)||n(V)),device:!n(K)&&(n(W)||n(q)||n(z)||n(V))||n(/\bokhttp\b/i)},windows:{phone:n(K),tablet:n(Z),device:n(K)||n(Z)},other:{blackberry:n(Q),blackberry10:n(J),opera:n($),firefox:n(et),chrome:n(tt),device:n(Q)||n(J)||n($)||n(et)||n(tt)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(globalThis.navigator),nt={ADAPTER:k,MIPMAP_TEXTURES:O.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:F.NONE,SPRITE_MAX_TEXTURES:function(t){var e,r=!0;(it.tablet||it.phone)&&(it.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(r=!1),it.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(r=!1));return r?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:I.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:S.CLAMP,SCALE_MODE:R.LINEAR,PRECISION_VERTEX:M.HIGH,PRECISION_FRAGMENT:it.apple.device?M.HIGH:M.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!it.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},ot=r(729),st=r(187),at=r(575),ht={parse:at.Qc,format:at.WU,resolve:at.DB};function ut(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function lt(t){return t.split("?")[0].split("#")[0]}var ct={toPosix:function(t){return"\\","/",t.replace(new RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"/")},isUrl:function(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:function(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol:function(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol:function(t){ut(t),t=this.toPosix(t);var e="",r=/^file:\/\/\//.exec(t),i=/^[^/:]+:\/\//.exec(t),n=/^[^/:]+:\//.exec(t);if(r||i||n){var o=(null==r?void 0:r[0])||(null==i?void 0:i[0])||(null==n?void 0:n[0]);e=o,t=t.slice(o.length)}return e},toAbsolute:function(t,e,r){if(this.isDataUrl(t))return t;var i=lt(this.toPosix(null!=e?e:nt.ADAPTER.getBaseUrl())),n=lt(this.toPosix(null!=r?r:this.rootname(i)));return ut(t),(t=this.toPosix(t)).startsWith("/")?ct.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize:function(t){if(ut(t=this.toPosix(t)),0===t.length)return".";var e="",r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));var i=t.endsWith("/");return(t=function(t,e){for(var r,i="",n=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var h=i.lastIndexOf("/");if(h!==i.length-1){-1===h?(i="",n=0):n=(i=i.slice(0,h)).length-1-i.lastIndexOf("/"),o=a,s=0;continue}}else if(2===i.length||1===i.length){i="",n=0,o=a,s=0;continue}}else i.length>0?i+="/"+t.slice(o+1,a):i=t.slice(o+1,a),n=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return i}(t)).length>0&&i&&(t+="/"),r?"/"+t:e+t},isAbsolute:function(t){return ut(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join:function(){for(var t,e,r=arguments,i=[],n=0;n<arguments.length;n++)i[n]=r[n];if(0===i.length)return".";for(var o=0;o<i.length;++o){var s=i[o];if(ut(s),s.length>0)if(void 0===e)e=s;else{var a=null!==(t=i[o-1])&&void 0!==t?t:"";this.extname(a)?e+="/../"+s:e+="/"+s}}return void 0===e?".":this.normalize(e)},dirname:function(t){if(ut(t),0===t.length)return".";for(var e=(t=this.toPosix(t)).charCodeAt(0),r=47===e,i=-1,n=!0,o=this.getProtocol(t),s=t,a=(t=t.slice(o.length)).length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!n){i=a;break}}else n=!1;return-1===i?r?"/":this.isUrl(s)?o+t:o:r&&1===i?"//":o+t.slice(0,i)},rootname:function(t){ut(t);var e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){var r=t.indexOf("/",e.length);(e=-1!==r?t.slice(0,r):t).endsWith("/")||(e+="/")}return e},basename:function(t,e){ut(t),e&&ut(e),t=this.toPosix(t);var r,i=0,n=-1,o=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,a=-1;for(r=t.length-1;r>=0;--r){var h=t.charCodeAt(r);if(47===h){if(!o){i=r+1;break}}else-1===a&&(o=!1,a=r+1),s>=0&&(h===e.charCodeAt(s)?-1==--s&&(n=r):(s=-1,n=a))}return i===n?n=a:-1===n&&(n=t.length),t.slice(i,n)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!o){i=r+1;break}}else-1===n&&(o=!1,n=r+1);return-1===n?"":t.slice(i,n)},extname:function(t){ut(t);for(var e=-1,r=0,i=-1,n=!0,o=0,s=(t=this.toPosix(t)).length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===i&&(n=!1,i=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!n){r=s+1;break}}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===r+1?"":t.slice(e,i)},parse:function(t){ut(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,i=(t=this.toPosix(t)).charCodeAt(0),n=this.isAbsolute(t);e.root=this.rootname(t),r=n||this.hasProtocol(t)?1:0;for(var o=-1,s=0,a=-1,h=!0,u=t.length-1,l=0;u>=r;--u)if(47!==(i=t.charCodeAt(u)))-1===a&&(h=!1,a=u+1),46===i?-1===o?o=u:1!==l&&(l=1):-1!==o&&(l=-1);else if(!h){s=u+1;break}return-1===o||-1===a||0===l||1===l&&o===a-1&&o===s+1?-1!==a&&(e.base=e.name=0===s&&n?t.slice(1,a):t.slice(s,a)):(0===s&&n?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};nt.RETINA_PREFIX=/@([0-9\.]+)x/,nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var dt,ft=!1;function pt(){ft=!0}function _t(t){var e;if(!ft){if(nt.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 6.5.8 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS 6.5.8 - "+t+" - http://www.pixijs.com/");ft=!0}}function vt(){return void 0===dt&&(dt=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!nt.ADAPTER.getWebGLRenderingContext())return!1;var e=nt.ADAPTER.createCanvas(),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),dt}var mt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function gt(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function yt(t){var e=t.toString(16);return"#"+("000000".substring(0,6-e.length)+e)}function bt(t){return"string"==typeof t&&"#"===(t=mt[t.toLowerCase()]||t)[0]&&(t=t.slice(1)),parseInt(t,16)}function xt(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var Tt=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[y.NORMAL_NPM]=y.NORMAL,t[y.ADD_NPM]=y.ADD,t[y.SCREEN_NPM]=y.SCREEN,e[y.NORMAL]=y.NORMAL_NPM,e[y.ADD]=y.ADD_NPM,e[y.SCREEN]=y.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function Et(t,e){return Tt[e?1:0][t]}function At(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function Rt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n*e+.5|0)}function St(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Ot(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function wt(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Pt={Float32Array,Uint32Array,Int32Array,Uint8Array};function It(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=wt(l);n[c]||(n[c]=new Pt[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)}function Mt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function Dt(t){return!(t&t-1||!t)}function Ct(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function Ft(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function Bt(t){return 0===t?0:t<0?-1:1}var Nt=0;function Lt(){return++Nt}var Gt={};function Ut(t,e,r){if(void 0===r&&(r=3),!Gt[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),Gt[e]=!0}}var kt={},Xt=Object.create(null),jt=Object.create(null);function Ht(){var t;for(t in Xt)Xt[t].destroy();for(t in jt)jt[t].destroy()}function Yt(){var t;for(t in Xt)delete Xt[t];for(t in jt)delete jt[t]}var zt=function(){function t(t,e,r){this.canvas=nt.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=r||nt.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),t}();function Vt(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d",{willReadFrequently:!0}),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),(null===u.left||r<u.left)&&(u.left=r),(null===u.right||u.right<r)&&(u.right=r+1),(null===u.bottom||u.bottom<i)&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}var Wt,qt=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Kt(t){var e=qt.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function Zt(t,e){if(void 0===e&&(e=globalThis.location),0===t.indexOf("data:"))return"";e=e||globalThis.location,Wt||(Wt=document.createElement("a")),Wt.href=t;var r=ht.parse(Wt.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}function Qt(t,e){var r=nt.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var Jt,$t=2*Math.PI,te=180/Math.PI,ee=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(Jt||(Jt={}));var re=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),ie=[new re,new re,new re,new re],ne=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=Jt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.intersects=function(t,e){if(!e){var r=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=r)return!1;var i=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>i}var n=this.left,o=this.right,s=this.top,a=this.bottom;if(o<=n||a<=s)return!1;var h=ie[0].set(t.left,t.top),u=ie[1].set(t.left,t.bottom),l=ie[2].set(t.right,t.top),c=ie[3].set(t.right,t.bottom);if(l.x<=h.x||u.y<=h.y)return!1;var d=Math.sign(e.a*e.d-e.b*e.c);if(0===d)return!1;if(e.apply(h,h),e.apply(u,u),e.apply(l,l),e.apply(c,c),Math.max(h.x,u.x,l.x,c.x)<=n||Math.min(h.x,u.x,l.x,c.x)>=o||Math.max(h.y,u.y,l.y,c.y)<=s||Math.min(h.y,u.y,l.y,c.y)>=a)return!1;var f=d*(u.y-h.y),p=d*(h.x-u.x),_=f*n+p*s,v=f*o+p*s,m=f*n+p*a,g=f*o+p*a;if(Math.max(_,v,m,g)<=f*h.x+p*h.y||Math.min(_,v,m,g)>=f*c.x+p*c.y)return!1;var y=d*(h.y-l.y),b=d*(l.x-h.x),x=y*n+b*s,T=y*o+b*s,E=y*n+b*a,A=y*o+b*a;return!(Math.max(x,T,E,A)<=y*h.x+b*h.y||Math.min(x,T,E,A)>=y*c.x+b*c.y)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),oe=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=Jt.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new ne(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),se=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=Jt.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new ne(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),ae=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var n=[],o=0,s=i.length;o<s;o++)n.push(i[o].x,i[o].y);i=n}this.points=i,this.type=Jt.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),he=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=Jt.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;var i=t-(this.x+r),n=e-(this.y+r),o=r*r;if(i*i+n*n<=o)return!0;if((i=t-(this.x+this.width-r))*i+n*n<=o)return!0;if(i*i+(n=e-(this.y+this.height-r))*n<=o)return!0;if((i=t-(this.x+r))*i+n*n<=o)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),ue=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),le=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new re;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new re;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=t.pivot,s=-Math.atan2(-i,n),a=Math.atan2(r,e),h=Math.abs(s+a);return h<1e-5||Math.abs($t-h)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx+(o.x*e+o.y*i),t.position.y=this.ty+(o.x*r+o.y*n),t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),ce=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],de=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],fe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],pe=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],_e=[],ve=[],me=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];_e.push(e);for(var r=0;r<16;r++)for(var i=me(ce[t]*ce[r]+fe[t]*de[r]),n=me(de[t]*ce[r]+pe[t]*de[r]),o=me(ce[t]*fe[r]+fe[t]*pe[r]),s=me(de[t]*fe[r]+pe[t]*pe[r]),a=0;a<16;a++)if(ce[a]===i&&de[a]===n&&fe[a]===o&&pe[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new le;h.set(ce[t],de[t],fe[t],pe[t],0,0),ve.push(h)}}();var ge={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ce[t]},uY:function(t){return de[t]},vX:function(t){return fe[t]},vY:function(t){return pe[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return _e[t][e]},sub:function(t,e){return _e[t][ge.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?ge.S:ge.N:2*Math.abs(e)<=Math.abs(t)?t>0?ge.E:ge.W:e>0?t>0?ge.SE:ge.SW:t>0?ge.NE:ge.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=ve[ge.inv(e)];n.tx=r,n.ty=i,t.append(n)}},ye=function(){function t(){this.worldTransform=new le,this.localTransform=new le,this.position=new ue(this.onChange,this,0,0),this.scale=new ue(this.onChange,this,1,1),this.pivot=new ue(this.onChange,this,0,0),this.skew=new ue(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();nt.SORTABLE_CHILDREN=!1;var be=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?ne.EMPTY:((t=t||new ne(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var r=t.a,i=t.b,n=t.c,o=t.d,s=t.tx,a=t.ty,h=r*e.x+n*e.y+s,u=i*e.x+o*e.y+a;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},t.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,f=this.maxX,p=this.maxY,_=o*e+a*r+u,v=s*e+h*r+l;c=_<c?_:c,d=v<d?v:d,f=_>f?_:f,p=v>p?v:p,c=(_=o*i+a*r+u)<c?_:c,d=(v=s*i+h*r+l)<d?v:d,f=_>f?_:f,p=v>p?v:p,c=(_=o*e+a*n+u)<c?_:c,d=(v=s*e+h*n+l)<d?v:d,f=_>f?_:f,p=v>p?v:p,c=(_=o*i+a*n+u)<c?_:c,d=(v=s*i+h*n+l)<d?v:d,f=_>f?_:f,p=v>p?v:p,this.minX=c,this.minY=d,this.maxX=f,this.maxY=p},t.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},t.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,f=this.minY,p=this.maxX,_=this.maxY,v=r;v<i;v+=2){var m=e[v],g=e[v+1],y=s*m+h*g+l,b=u*g+a*m+c;d=Math.min(d,y-n),p=Math.max(p,y+n),f=Math.min(f,b-o),_=Math.max(_,b+o)}this.minX=d,this.minY=f,this.maxX=p,this.maxY=_},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),xe=function(t,e){return xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},xe(t,e)};function Te(t,e){function r(){this.constructor=t}xe(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ee=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new ye,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new be,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Te(e,t),e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new ne),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new ne),t=this._localBoundsRect),this._localBounds||(this._localBounds=new be);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Ae),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*te},set:function(t){this.transform.rotation=t*ee},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask!==t&&(this._mask&&(e=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1)),this._mask=t,this._mask&&(e=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++))},enumerable:!1,configurable:!0}),e}(ot),Ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Te(e,t),e}(Ee);function Re(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Ee.prototype.displayObjectUpdateTransform=Ee.prototype.updateTransform;var Se=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=nt.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Te(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);Ft(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,Ft(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ft(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=t,n=e-i;if(n>0&&n<=e){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Re),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(t){var r=t.renderTexture.sourceFrame;if(r.width>0&&r.height>0){var i,n;if(this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&r.intersects(i,n))this._render(t);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var a=this.children[o],h=a.cullable;a.cullable=h||!this.cullArea,a.render(t),a.cullable=h}}},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i])}var n=e&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==D.NONE));if(n&&t.batch.flush(),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t),i=0;for(var o=this.children.length;i<o;++i)this.children[i].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Ee);Se.prototype.containerUpdateTransform=Se.prototype.updateTransform;var Oe,we=function(){return we=Object.assign||function(t){for(var e,r=arguments,i=1,n=arguments.length;i<n;i++)for(var o in e=r[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},we.apply(this,arguments)};!function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"}(Oe||(Oe={}));var Pe,Ie=function(t){if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e="object"!=typeof t.extension?{type:t.extension}:t.extension;t=we(we({},e),{ref:t})}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t=we({},t)).type&&(t.type=[t.type]),t},Me={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,r=[],i=0;i<arguments.length;i++)r[i]=t[i];return r.map(Ie).forEach((function(t){t.type.forEach((function(r){var i,n;return null===(n=(i=e._removeHandlers)[r])||void 0===n?void 0:n.call(i,t)}))})),this},add:function(){for(var t=arguments,e=this,r=[],i=0;i<arguments.length;i++)r[i]=t[i];return r.map(Ie).forEach((function(t){t.type.forEach((function(r){var i=e._addHandlers,n=e._queue;i[r]?i[r](t):(n[r]=n[r]||[],n[r].push(t))}))})),this},handle:function(t,e,r){var i=this._addHandlers=this._addHandlers||{},n=this._removeHandlers=this._removeHandlers||{};if(i[t]||n[t])throw new Error("Extension type "+t+" already has a handler");i[t]=e,n[t]=r;var o=this._queue;return o[t]&&(o[t].forEach((function(t){return e(t)})),delete o[t]),this},handleByMap:function(t,e){return this.handle(t,(function(t){e[t.name]=t.ref}),(function(t){delete e[t.name]}))},handleByList:function(t,e){return this.handle(t,(function(r){var i,n;e.push(r.ref),t===Oe.Loader&&(null===(n=(i=r.ref).add)||void 0===n||n.call(i))}),(function(t){var r=e.indexOf(t.ref);-1!==r&&e.splice(r,1)}))}},De=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(De.prototype,{dispatch:{value:De.prototype.emit},run:{value:De.prototype.emit}}),nt.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Pe||(Pe={}));var Ce=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=i}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Fe=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ce(null,null,1/0),this.deltaMS=1/nt.TARGET_FPMS,this.elapsedMS=1/nt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=Pe.NORMAL),this._addListener(new Ce(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Pe.NORMAL),this._addListener(new Ce(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*nt.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,nt.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Be=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Pe.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Fe.shared:new Fe,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t.extension=Oe.Application,t}();nt.PREFER_ENV=it.any?v.WEBGL:v.WEBGL2,nt.STRICT_TEXTURE_CACHE=!1;var Ne=[];function Le(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=Ne.length-1;n>=0;--n){var o=Ne[n];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var Ge=function(t,e){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ge(t,e)};function Ue(t,e){function r(){this.constructor=t}Ge(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ke=function(){return ke=Object.assign||function(t){for(var e,r=arguments,i=1,n=arguments.length;i<n;i++)for(var o in e=r[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ke.apply(this,arguments)},Xe=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new De("setRealSize"),this.onUpdate=new De("update"),this.onError=new De("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),je=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)||this).data=e,i}return Ue(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===w.UNPACK);var n=e.realWidth,o=e.realHeight;return r.width===n&&r.height===o?i.texSubImage2D(e.target,0,0,0,n,o,e.format,r.type,this.data):(r.width=n,r.height=o,i.texImage2D(e.target,0,r.internalFormat,n,o,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Xe),He={scaleMode:R.NEAREST,format:x.RGBA,alphaMode:w.NPM},Ye=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=t.call(this)||this,n=(r=r||{}).alphaMode,o=r.mipmap,s=r.anisotropicLevel,a=r.scaleMode,h=r.width,u=r.height,l=r.wrapMode,c=r.format,d=r.type,f=r.target,p=r.resolution,_=r.resourceOptions;return!e||e instanceof Xe||((e=Le(e,_)).internal=!0),i.resolution=p||nt.RESOLUTION,i.width=Math.round((h||0)*i.resolution)/i.resolution,i.height=Math.round((u||0)*i.resolution)/i.resolution,i._mipmap=void 0!==o?o:nt.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:nt.ANISOTROPIC_LEVEL,i._wrapMode=l||nt.WRAP_MODE,i._scaleMode=void 0!==a?a:nt.SCALE_MODE,i.format=c||x.RGBA,i.type=d||E.UNSIGNED_BYTE,i.target=f||T.TEXTURE_2D,i.alphaMode=void 0!==n?n:w.UNPACK,i.uid=Lt(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=h>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return Ue(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Dt(this.realWidth)&&Dt(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete jt[this.cacheId],delete Xt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,i){void 0===i&&(i=nt.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;if(n)o=t;else{if(!t._pixiId){var s=r&&r.pixiIdPrefix||"pixiid";t._pixiId=s+"_"+Lt()}o=t._pixiId}var a=jt[o];if(n&&i&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new e(t,r)).cacheId=o,e.addToCache(a,o)),a},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new je(t,{width:r,height:i}),s=t instanceof Float32Array?E.FLOAT:E.UNSIGNED_BYTE;return new e(o,Object.assign({},He,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),jt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),jt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=jt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete jt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete jt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(ot),ze=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;(i=t.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new Ye;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return Ue(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof Xe?this.addResourceAt(t[r],r):this.addResourceAt(Le(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;return t.resize(r,i),Promise.resolve(t)})),this._load},e}(Xe),Ve=function(t){function e(e,r){var i,n,o=this,s=r||{},a=s.width,h=s.height;return Array.isArray(e)?(i=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:h})||this,i&&o.initFromArray(i,r),o}return Ue(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=T.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var i=this,n=i.length,o=i.itemDirtyIds,s=i.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,n,0,e.format,r.type,null);for(var h=0;h<n;h++){var u=s[h];o[h]<u.dirtyId&&(o[h]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,u.resource.width,u.resource.height,1,e.format,r.type,u.resource.source))}return!0},e}(ze),We=function(t){function e(e){var r=this,i=e,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,n,o)||this).source=e,r.noSubImage=!1,r}return Ue(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=Zt(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;if((i=i||this.source)instanceof HTMLImageElement){if(!i.complete||0===i.naturalWidth)return!1}else if(i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===w.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,r.internalFormat,e.format,r.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,r.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Xe),qe=function(t){function e(e){return t.call(this,e)||this}return Ue(e,t),e.test=function(t){var e=globalThis.OffscreenCanvas;return!!(e&&t instanceof e)||globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(We),Ke=function(t){function e(r,i){var n=this,o=i||{},s=o.width,a=o.height,h=o.autoLoad,u=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");n=t.call(this,6,{width:s,height:a})||this;for(var l=0;l<e.SIDES;l++)n.items[l].target=T.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=!1!==u,r&&n.initFromArray(r,i),!1!==h&&n.load(),n}return Ue(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=T.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=T.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];(n[o]<s.dirtyId||i.dirtyId<r.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,i),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(ze),Ze=function(t){function e(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var n=new Image;We.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:nt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return Ue(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var i=e.source;e.url=i.src;var n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var r=globalThis.createImageBitmap,i=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then((function(t){return t.blob()})).then((function(i){return r(i,0,0,e.width,e.height,{premultiplyAlpha:null===t.alphaMode||t.alphaMode===w.UNPACK?"premultiply":"none"})})).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process},e.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(We),Qe=function(t){function e(e,r){var i=this;return r=r||{},(i=t.call(this,nt.ADAPTER.createCanvas())||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return Ue(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(r){if(t._resolve=function(){t.resize(t.source.width,t.source.height),r(t)},e.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;We.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*t.scale,o=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/i*r,o=t._overrideHeight||t._overrideWidth/r*i),n=Math.round(n),o=Math.round(o);var s=t.source;s.width=n,s.height=o,s._pixiId="canvas_"+Lt(),s.getContext("2d").drawImage(e,0,0,r,i,0,0,n,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,r){return"svg"===r||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(We),Je=function(t){function e(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];We.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var h=document.createElement("source"),u=r[a],l=u.src,c=u.mime,d=(l=l||r[a]).split("?").shift().toLowerCase(),f=d.slice(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[f]||"video/"+f,h.src=l,h.type=c,o.appendChild(h)}r=o}return(n=t.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return Ue(e,t),e.prototype.update=function(e){if(!this.destroyed){var r=Fe.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){return this.source.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Fe.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Fe.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Fe.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Fe.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Fe.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(We),$e=function(t){function e(e){return t.call(this,e)||this}return Ue(e,t),e.test=function(t){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},e}(We);Ne.push(Ze,$e,qe,Je,Qe,je,Ke,Ve);var tr={__proto__:null,Resource:Xe,BaseImageResource:We,INSTALLED:Ne,autoDetectResource:Le,AbstractMultiResource:ze,ArrayResource:Ve,BufferResource:je,CanvasResource:qe,CubeResource:Ke,ImageResource:Ze,SVGResource:Qe,VideoResource:Je,ImageBitmapResource:$e},er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ue(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===w.UNPACK);var n=e.realWidth,o=e.realHeight;return r.width===n&&r.height===o?i.texSubImage2D(e.target,0,0,0,n,o,e.format,r.type,this.data):(r.width=n,r.height=o,i.texImage2D(e.target,0,r.internalFormat,n,o,0,e.format,r.type,this.data)),!0},e}(je),rr=function(){function t(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new De("disposeFramebuffer"),this.multisample=F.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Ye(null,{scaleMode:R.NEAREST,resolution:1,mipmap:O.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Ye(new er(null,{width:this.width,height:this.height}),{scaleMode:R.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:O.OFF,format:x.DEPTH_COMPONENT,type:E.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),ir=function(t){function e(e){void 0===e&&(e={});var r=this;if("number"==typeof e){var i=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:n,scaleMode:o,resolution:s}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:F.NONE,(r=t.call(this,null,e)||this).mipmap=O.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new rr(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=e.multisample,r.maskStack=[],r.filterStack=[{}],r}return Ue(e,t),e.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Ye),nr=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=ge.add(r,ge.NW),this.x0=a+o*ge.uX(r),this.y0=h+s*ge.uY(r),r=ge.add(r,2),this.x1=a+o*ge.uX(r),this.y1=h+s*ge.uY(r),r=ge.add(r,2),this.x2=a+o*ge.uX(r),this.y2=h+s*ge.uY(r),r=ge.add(r,2),this.x3=a+o*ge.uX(r),this.y3=h+s*ge.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),or=new nr;function sr(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var ar=function(t){function e(r,i,n,o,s,a){var h=t.call(this)||this;if(h.noFrame=!1,i||(h.noFrame=!0,i=new ne(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=i,h.trim=o,h.valid=!1,h._uvs=or,h.uvMatrix=null,h.orig=n||i,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new re(a.x,a.y):new re(0,0),h._updateID=0,h.textureCacheIds=[],r.valid?h.noFrame?r.valid&&h.onBaseTextureUpdated(r):h.frame=i:r.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&r.on("update",h.onBaseTextureUpdated,h),h}return Ue(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&r.url&&Xt[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&t,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=t),i},e.prototype.updateUvs=function(){this._uvs===or&&(this._uvs=new nr),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=nt.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;if(n)o=t;else if(t instanceof Ye){if(!t.cacheId){var s=r&&r.pixiIdPrefix||"pixiid";t.cacheId=s+"-"+Lt(),Ye.addToCache(t,t.cacheId)}o=t.cacheId}else t._pixiId||(s=r&&r.pixiIdPrefix||"pixiid",t._pixiId=s+"_"+Lt()),o=t._pixiId;var a=Xt[o];if(n&&i&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||t instanceof Ye?!a&&t instanceof Ye&&(a=new e(t),e.addToCache(a,o)):(r.resolution||(r.resolution=Qt(t)),(a=new e(new Ye(t,r))).baseTexture.cacheId=o,Ye.addToCache(a.baseTexture,o),e.addToCache(a,o)),a},e.fromURL=function(t,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),n=e.from(t,Object.assign({resourceOptions:i},r),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,r,i,n){return new e(Ye.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i,n){var o=new Ye(t,Object.assign({scaleMode:nt.SCALE_MODE,resolution:Qt(r)},n)),s=o.resource;s instanceof Ze&&(s.url=r);var a=new e(o);return i||(i=r),Ye.addToCache(a.baseTexture,i),e.addToCache(a,i),i!==r&&(Ye.addToCache(a.baseTexture,r),e.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise((function(t){a.baseTexture.once("loaded",(function(){return t(a)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Xt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Xt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Xt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Xt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)Xt[t.textureCacheIds[i]]===t&&delete Xt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Ye),sr(e._EMPTY),sr(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var t=nt.ADAPTER.createCanvas(16,16),r=t.getContext("2d");t.width=16,t.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),e._WHITE=new e(Ye.from(t)),sr(e._WHITE),sr(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(ot),hr=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Ue(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0);var i=this.baseTexture.resolution,n=Math.round(t*i)/i,o=Math.round(e*i)/i;this.valid=n>0&&o>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(n,o),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var r=arguments,i=[],n=1;n<arguments.length;n++)i[n-1]=r[n];return"number"==typeof t&&(Ut("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new ir(t))},e}(ar),ur=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e,r){void 0===r&&(r=F.NONE);var i=new ir(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new hr(i)},t.prototype.getOptimalTexture=function(t,e,r,i){var n;void 0===r&&(r=1),void 0===i&&(i=F.NONE),t=Math.ceil(t*r-1e-6),e=Math.ceil(e*r-1e-6),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?n=i>1?-i:-1:(n=((65535&(t=Mt(t)))<<16|65535&(e=Mt(e)))>>>0,i>1&&(n+=4294967296*i)),this.texturePool[n]||(this.texturePool[n]=[]);var o=this.texturePool[n].pop();return o||(o=this.createTexture(t,e,i)),o.filterPoolKey=n,o.setResolution(r),o},t.prototype.getFilterTexture=function(t,e,r){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||F.NONE);return i.filterFrame=t.filterFrame,i},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},t.SCREEN_KEY=-1,t}(),lr=function(){function t(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=E.FLOAT),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,i,n,o){return new t(e,r,i,n,o)},t}(),cr=0,dr=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=cr++,this.disposeRunner=new De("disposeBuffer")}return t.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===B.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?B.ELEMENT_ARRAY_BUFFER:B.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),fr={Float32Array,Uint32Array,Int32Array,Uint8Array},pr={5126:4,5123:2,5121:1},_r=0,vr={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},mr=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=_r++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new De("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof dr||(e instanceof Array&&(e=new Float32Array(e)),e=new dr(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new lr(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof dr||(t instanceof Array&&(t=new Uint16Array(t)),t=new dr(t)),t.type=B.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new dr;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*pr[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=wt(l);n[c]||(n[c]=new fr[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new dr(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];e.attributes[r]=new lr(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=B.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r,i=new t,n=[],o=[],s=[],a=0;a<e.length;a++){r=e[a];for(var h=0;h<r.buffers.length;h++)o[h]=o[h]||0,o[h]+=r.buffers[h].data.length,s[h]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(vr[wt(r.buffers[a].data)])(o[a]),i.buffers[a]=new dr(n[a]);for(a=0;a<e.length;a++)for(r=e[a],h=0;h<r.buffers.length;h++)n[h].set(r.buffers[h].data,s[h]),s[h]+=r.buffers[h].data.length;if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.type=B.ELEMENT_ARRAY_BUFFER;var u=0,l=0,c=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var f=r.attributes[a];(0|f.buffer)===d&&(l+=f.size*pr[f.type]/4)}for(a=0;a<e.length;a++){var p=e[a].indexBuffer.data;for(h=0;h<p.length;h++)i.indexBuffer.data[h+c]+=u;u+=e[a].buffers[d].data.length/l,c+=p.length}}return i},t}(),gr=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Ue(e,t),e}(mr),yr=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new dr(e.vertices),e.uvBuffer=new dr(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Ue(e,t),e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(mr),br=0,xr=function(){function t(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=br++,this.static=!!e,this.ubo=!!r,t instanceof dr?(this.buffer=t,this.buffer.type=B.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new dr(new Float32Array(1)),this.buffer.type=B.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new t(r,i)},t.from=function(e,r,i){return new t(e,r,i)},t.uboFrom=function(e,r){return new t(e,null==r||r,!0)},t}(),Tr=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=F.NONE,this.sourceFrame=new ne,this.destinationFrame=new ne,this.bindingSourceFrame=new ne,this.bindingDestinationFrame=new ne,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Er=[new re,new re,new re,new re],Ar=new le,Rr=function(){function t(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new ur,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new gr,this.quadUv=new yr,this.tempRect=new ne,this.activeState={},this.globalUniforms=new xr({outputFrame:new ne,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(t,e){for(var r,i,n=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new Tr,a=this.renderer.renderTexture,h=e[0].resolution,u=e[0].multisample,l=e[0].padding,c=e[0].autoFit,d=null===(r=e[0].legacy)||void 0===r||r,f=1;f<e.length;f++){var p=e[f];h=Math.min(h,p.resolution),u=Math.min(u,p.multisample),l=this.useMaxPadding?Math.max(l,p.padding):l+p.padding,c=c&&p.autoFit,d=d||null===(i=p.legacy)||void 0===i||i}1===o.length&&(this.defaultFilterStack[0].renderTexture=a.current),o.push(s),s.resolution=h,s.multisample=u,s.legacy=d,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(l);var _=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(Ar.copyFrom(n.projection.transform).invert(),_),c?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,h,u),s.filters=e,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,v),n.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=Math.round(n[0]*e.resolution),o[1]=Math.round(n[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,P.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<r.length-1;++c){1===c&&e.multisample>1&&((l=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),r[c].apply(this,u,l,P.CLEAR,e);var d=u;u=l,l=d}r[c].apply(this,u,h.renderTexture,P.BLEND,e),c>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(t,e){void 0===e&&(e=P.CLEAR);var r=this.renderer,i=r.renderTexture,n=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,i.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&n.stateId||this.forceClear;(e===P.CLEAR||e===P.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;n.state.set(t.state),this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(b.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(b.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(le.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(t,e,r,i){return void 0===r&&(r=1),void 0===i&&(i=F.NONE),this.texturePool.getOptimalTexture(t,e,r,i)},t.prototype.getFilterTexture=function(t,e,r){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,r||F.NONE);return n.filterFrame=t.filterFrame,n},t.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(t,e){var r=Er[0],i=Er[1],n=Er[2],o=Er[3];r.set(e.left,e.top),i.set(e.left,e.bottom),n.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(r,r),t.apply(i,i),t.apply(n,n),t.apply(o,o);var s=Math.min(r.x,i.x,n.x,o.x),a=Math.min(r.y,i.y,n.y,o.y),h=Math.max(r.x,i.x,n.x,o.x),u=Math.max(r.y,i.y,n.y,o.y);e.x=s,e.y=a,e.width=h-s,e.height=u-a},t.prototype.roundFrame=function(t,e,r,i,n){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(n){var o=n.a,s=n.b,a=n.c,h=n.d;if((Math.abs(s)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}(n=n?Ar.copyFrom(n):Ar.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(n,t),t.ceil(e),this.transformAABB(n.invert(),t)}},t}(),Sr=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),Or=function(){function t(t){this.renderer=t,this.emptyRenderer=new Sr(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},t.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},t.prototype.destroy=function(){this.renderer=null},t}(),wr=0,Pr=function(){function t(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=wr++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=wr++,this.renderer.runners.contextChange.emit(t)},t.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},t.prototype.createContext=function(t,e){var r;if(nt.PREFER_ENV>=v.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(t){t.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),Ir=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=F.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Mr=new ne,Dr=function(){function t(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new rr(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ne,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;nt.PREFER_ENV===v.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},t.prototype.bind=function(t,e,r){void 0===r&&(r=0);var i=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,n.mipLevel=r),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,n.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var s=t.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var a=e.width>>r,h=e.height>>r,u=a/e.width;this.setViewport(e.x*u,e.y*u,a,h)}else a=t.width>>r,h=t.height>>r,this.setViewport(0,0,a,h)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(t,e,r,i){var n=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),i=Math.round(i),n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(t,e,r,i,n){void 0===n&&(n=g.COLOR|g.DEPTH);var o=this.gl;o.clearColor(t,e,r,i),o.clear(n)},t.prototype.initFramebuffer=function(t){var e=this.gl,r=new Ir(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},t.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height)),r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,n=i.length;e.drawBuffers||(n=Math.min(n,1));for(var o=0;o<n;o++){var s=i[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},t.prototype.updateFramebuffer=function(t,e){var r=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures,o=n.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],a=0;a<o;a++){var h=n[a],u=h.parentTextureArray||h;this.renderer.texture.bind(u,0),0===a&&i.msaaBuffer||(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,h.target,u._glTextures[this.CONTEXT_UID].texture,e),s.push(r.COLOR_ATTACHMENT0+a))}if(s.length>1&&r.drawBuffers(s),t.depthTexture&&this.writeDepthTexture){var l=t.depthTexture;this.renderer.texture.bind(l,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))},t.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},t.prototype.detectSamples=function(t){var e=this.msaaSamples,r=F.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=F.NONE),r},t.prototype.blit=function(t,e,r){var i=this,n=i.current,o=i.renderer,s=i.gl,a=i.CONTEXT_UID;if(2===o.context.webGLVersion&&n){var h=n.glFramebuffers[a];if(h){if(!t){if(!h.msaaBuffer)return;var u=n.colorTextures[0];if(!u)return;h.blitFramebuffer||(h.blitFramebuffer=new rr(n.width,n.height),h.blitFramebuffer.addColorTexture(0,u)),(t=h.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),t.width===n.width&&t.height===n.height||(t.width=n.width,t.height=n.height,t.dirtyId++,t.dirtySize++)}e||((e=Mr).width=n.width,e.height=n.height),r||(r=e);var l=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,h.framebuffer),s.blitFramebuffer(e.left,e.top,e.right,e.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,l?s.NEAREST:s.LINEAR)}}},t.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},t.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),e.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,e.multisample,n.DEPTH24_STENCIL8,r,i):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ne},t.prototype.destroy=function(){this.renderer=null},t}(),Cr={5126:4,5123:2,5121:1},Fr=function(){function t(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;nt.PREFER_ENV===v.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var o=i[e.program.id]||this.initGeometryVao(t,e,n);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,r=0;r<t.buffers.length;r++){var i=t.buffers[r];e.update(i)}},t.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},t.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o,i[o].location);return n.join("-")},t.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0);var i=this.gl,n=this.CONTEXT_UID,o=this.renderer.buffer,s=e.program;s.glPrograms[n]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,s);var a=this.getSignature(t,s),h=t.glVertexArrayObjects[this.CONTEXT_UID],u=h[a];if(u)return h[s.id]=u,u;var l=t.buffers,c=t.attributes,d={},f={};for(var p in l)d[p]=0,f[p]=0;for(var p in c)!c[p].size&&s.attributeData[p]?c[p].size=s.attributeData[p].size:c[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[c[p].buffer]+=c[p].size*Cr[c[p].type];for(var p in c){var _=c[p],v=_.size;void 0===_.stride&&(d[_.buffer]===v*Cr[_.type]?_.stride=0:_.stride=d[_.buffer]),void 0===_.start&&(_.start=f[_.buffer],f[_.buffer]+=v*Cr[_.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(var m=0;m<l.length;m++){var g=l[m];o.bind(g),r&&g._glBuffers[n].refCount++}return this.activateVao(t,s),this._activeVao=u,h[s.id]=u,h[a]=u,u},t.prototype.disposeGeometry=function(t,e){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,o=t.buffers,s=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(t.disposeRunner.remove(this),i){if(s)for(var a=0;a<o.length;a++){var h=o[a]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,0!==h.refCount||e||s.dispose(o[a],e))}if(!e)for(var u in i)if("g"===u[0]){var l=i[u];this._activeVao===l&&this.unbind(),n.deleteVertexArray(l)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)},t.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=this.renderer.buffer,o=t.buffers,s=t.attributes;t.indexBuffer&&n.bind(t.indexBuffer);var a=null;for(var h in s){var u=s[h],l=o[u.buffer],c=l._glBuffers[i];if(e.attributeData[h]){a!==c&&(n.bind(l),a=c);var d=e.attributeData[h].location;if(r.enableVertexAttribArray(d),r.vertexAttribPointer(d,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(d,1)}}}},t.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),Br=function(){function t(t){void 0===t&&(t=null),this.type=D.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=nt.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=D.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Nr(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function Lr(t,e){var r=t.getShaderSource(e).split("\n").map((function(t,e){return e+": "+t})),i=t.getShaderInfoLog(e),n=i.split("\n"),o={},s=n.map((function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(t){return!(!t||o[t]||(o[t]=!0,0))})),a=[""];s.forEach((function(t){r[t-1]="%c"+r[t-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var h=r.join("\n");a[0]=h,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function Gr(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Ur(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Gr(2*e);case"bvec3":return Gr(3*e);case"bvec4":return Gr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var kr,Xr={},jr=Xr;function Hr(){if(jr===Xr||jr&&jr.isContextLost()){var t=nt.ADAPTER.createCanvas(),e=void 0;nt.PREFER_ENV>=v.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),jr=e}return jr}function Yr(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===M.HIGH&&r!==M.HIGH&&(i=M.MEDIUM),"precision "+i+" float;\n"+t}return r!==M.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var zr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Vr(t){return zr[t]}var Wr=null,qr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Kr(t,e){if(!Wr){var r=Object.keys(qr);Wr={};for(var i=0;i<r.length;++i){var n=r[i];Wr[t[n]]=qr[n]}}return Wr[e]}var Zr,Qr=[{test:function(t){return"float"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t,e){return!("sampler2D"!==t.type&&"samplerCube"!==t.type&&"sampler2DArray"!==t.type||1!==t.size||t.isArray||null!=e&&void 0===e.castToBaseTexture)},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&!t.isArray&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Jr={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},$r={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},ti=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ei(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}function ri(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=ti.replace(/%forloop%/gi,ei(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var ii=0,ni={},oi=function(){function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=ii++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),ni[i]?(ni[i]++,i+="-"+ni[i]):ni[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=Yr(this.vertexSrc,nt.PRECISION_VERTEX,M.HIGH),this.fragmentSrc=Yr(this.fragmentSrc,nt.PRECISION_FRAGMENT,function(){if(!kr){kr=M.MEDIUM;var t=Hr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);kr=e.precision?M.HIGH:M.MEDIUM}}return kr}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,i){var n=e+r,o=kt[n];return o||(kt[n]=o=new t(e,r,i)),o},t}(),si=function(){function t(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof xr?e:new xr(e):new xr({}),this.disposeRunner=new De("disposeShader")}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,i){return new t(oi.from(e,r),i)},t}(),ai=function(){function t(){this.data=0,this.blendMode=y.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==y.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),hi=function(t){function e(r,i,n){var o=this,s=oi.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(o=t.call(this,s,n)||this).padding=0,o.resolution=nt.FILTER_RESOLUTION,o.multisample=nt.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new ai,o}return Ue(e,t),e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(si),ui=new le,li=function(){function t(t,e){this._texture=t,this.mapCoord=new le,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(ui.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(ui));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),ci=function(t){function e(e,r,i){var n=this,o=null;return"string"!=typeof e&&void 0===r&&void 0===i&&(o=e,e=void 0,r=void 0,i=void 0),(n=t.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)||this).maskSprite=o,n.maskMatrix=new le,n}return Ue(e,t),Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,e,r,i){var n=this._maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new li(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},e}(hi),di=function(){function t(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},t.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new Br;i.pooled=!0,i.maskObject=e,r=i}var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(n),r._colorMask=n?n._colorMask:15,r.autoDetect&&this.detect(r),r._target=t,r.type!==D.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case D.SCISSOR:this.renderer.scissor.push(r);break;case D.STENCIL:this.renderer.stencil.push(r);break;case D.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case D.COLOR:this.pushColorMask(r)}r.type===D.SPRITE&&this.maskStack.push(r)},t.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case D.SCISSOR:this.renderer.scissor.pop(e);break;case D.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case D.SPRITE:this.popSpriteMask(e);break;case D.COLOR:this.popColorMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var r=this.maskStack[this.maskStack.length-1];r.type===D.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},t.prototype.detect=function(t){var e=t.maskObject;e?e.isSprite?t.type=D.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=D.SCISSOR:t.type=D.STENCIL:t.type=D.COLOR},t.prototype.pushSpriteMask=function(t){var e,r,i=t.maskObject,n=t._target,o=t._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new ci]);var s,a,h=this.renderer,u=h.renderTexture;if(u.current){var l=u.current;s=t.resolution||l.resolution,a=null!==(e=t.multisample)&&void 0!==e?e:l.multisample}else s=t.resolution||h.resolution,a=null!==(r=t.multisample)&&void 0!==r?r:h.multisample;o[0].resolution=s,o[0].multisample=a,o[0].maskSprite=i;var c=n.filterArea;n.filterArea=i.getBounds(!0),h.filter.push(n,o),n.filterArea=c,t._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(t){var e=t._colorMask,r=t._colorMask=e&t.colorMask;r!==e&&this.renderer.gl.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))},t.prototype.popColorMask=function(t){var e=t._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==e&&this.renderer.gl.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))},t.prototype.destroy=function(){this.renderer=null},t}(),fi=function(){function t(t){this.renderer=t,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),pi=new le,_i=[],vi=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=nt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,r}return Ue(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.calcScissorRect=function(t){var e;if(!t._scissorRectLocal){var r=t._scissorRect,i=t.maskObject,n=this.renderer,o=n.renderTexture,s=i.getBounds(!0,null!==(e=_i.pop())&&void 0!==e?e:new ne);this.roundFrameToPixels(s,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),r&&s.fit(r),t._scissorRectLocal=s}},e.isMatrixRotated=function(t){if(!t)return!1;var e=t.a,r=t.b,i=t.c,n=t.d;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)},e.prototype.testScissor=function(t){var r=t.maskObject;if(!r.isFastRect||!r.isFastRect())return!1;if(e.isMatrixRotated(r.worldTransform))return!1;if(e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);var i=t._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(t,r,i,n,o){e.isMatrixRotated(o)||((o=o?pi.copyFrom(o):pi.identity()).translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(o,t),t.fit(n),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))},e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var e=this.renderer.gl;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;t&&_i.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t,e=this.maskStack[this.maskStack.length-1]._scissorRect;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)},e}(fi),mi=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=nt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,r}return Ue(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),t._stencilCounter++;var n=t._colorMask;0!==n&&(t._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(t._colorMask=n,r.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;if(0===this.getStackLength())e.disable(e.STENCIL_TEST);else{var r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;0!==i&&(r._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(r._colorMask=i,e.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))),this._useCurrent()}},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e}(fi),gi=function(){function t(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new le,this.transform=null}return t.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},t.prototype.setTransform=function(t){},t.prototype.destroy=function(){this.renderer=null},t}(),yi=new ne,bi=new ne,xi=function(){function t(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ne,this.destinationFrame=new ne,this.viewportFrame=new ne}return t.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;this.current=t,t?(o=(i=t.baseTexture).resolution,e||(yi.width=t.frame.width,yi.height=t.frame.height,e=yi),r||(bi.x=t.frame.x,bi.y=t.frame.y,bi.width=e.width,bi.height=e.height,r=bi),n=i.framebuffer):(o=s.resolution,e||(yi.width=s.screen.width,yi.height=s.screen.height,e=yi),r||((r=yi).width=e.width,r.height=e.height));var a=this.viewportFrame;a.x=r.x*o,a.y=r.y*o,a.width=r.width*o,a.height=r.height*o,t||(a.y=s.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(n,a),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,n=r.width!==i.width||r.height!==i.height;if(n){var o=this.viewportFrame,s=o.x,a=o.y,h=o.width,u=o.height;s=Math.round(s),a=Math.round(a),h=Math.round(h),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,a,h,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),n&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function Ti(t,e,r,i,n){r.buffer.update(n)}var Ei={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Ai={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Ri(t){for(var e=t.map((function(t){return{data:t,offset:0,dataLen:0,dirty:0}})),r=0,i=0,n=0,o=0;o<e.length;o++){var s=e[o];if(r=Ai[s.data.type],s.data.size>1&&(r=Math.max(r,16)*s.data.size),s.dataLen=r,i%r!=0&&i<16){var a=i%r%16;i+=a,n+=a}i+r>16?(n=16*Math.ceil(n/16),s.offset=n,n+=r,i=r):(s.offset=n,i+=r,n+=r)}return{uboElements:e,size:n=16*Math.ceil(n/16)}}function Si(t,e){var r=[];for(var i in t)e[i]&&r.push(e[i]);return r.sort((function(t,e){return t.index-e.index})),r}function Oi(t,e){if(!t.autoManage)return{size:0,syncFunc:Ti};for(var r=Ri(Si(t.uniforms,e)),i=r.uboElements,n=r.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],s=0;s<i.length;s++){for(var a=i[s],h=t.uniforms[a.data.name],u=a.data.name,l=!1,c=0;c<Qr.length;c++){var d=Qr[c];if(d.codeUbo&&d.test(a.data,h)){o.push("offset = "+a.offset/4+";",Qr[c].codeUbo(a.data.name,h)),l=!0;break}}if(!l)if(a.data.size>1){var f=Vr(a.data.type),p=Math.max(Ai[a.data.type]/16,1),_=f/p,v=(4-_%4)%4;o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+a.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+a.data.size*p+"; i++)\n                {\n                    for(var j = 0; j < "+_+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+v+";\n                }\n\n                ")}else{var m=Ei[a.data.type];o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+a.offset/4+";\n                "+m+";\n                ")}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}var wi=function(){},Pi=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function Ii(t,e){var r=Nr(t,t.VERTEX_SHADER,e.vertexSrc),i=Nr(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();if(t.attachShader(n,r),t.attachShader(n,i),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||function(t,e,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Lr(t,r),t.getShaderParameter(i,t.COMPILE_STATUS)||Lr(t,i),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}(t,n,r,i),e.attributeData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<i;n++){var o=e.getActiveAttrib(t,n);if(0!==o.name.indexOf("gl_")){var s=Kr(e,o.type),a={type:s,name:o.name,size:Vr(s),location:e.getAttribLocation(t,o.name)};r[o.name]=a}}return r}(n,t),e.uniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),h=Kr(e,o.type);r[s]={name:s,index:n,type:h,size:o.size,isArray:a,value:Ur(h,o.size)}}return r}(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var o=Object.keys(e.attributeData);o.sort((function(t,e){return t>e?1:-1}));for(var s=0;s<o.length;s++)e.attributeData[o[s]].location=s,t.bindAttribLocation(n,s,o[s]);t.linkProgram(n)}t.deleteShader(r),t.deleteShader(i);var a={};for(var s in e.uniformData){var h=e.uniformData[s];a[s]={location:t.getUniformLocation(n,s),value:Ur(h.type,h.size)}}return new Pi(n,a)}var Mi=0,Di={textureCount:0,uboCount:0},Ci=function(){function t(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Mi++}return t.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Zr)return Zr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Zr=!0===t({a:"b"},"a","b")}catch(t){Zr=!1}return Zr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(t){this.gl=t,this.reset()},t.prototype.bind=function(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(Di.textureCount=0,Di.uboCount=0,this.syncUniformGroup(t.uniformGroup,Di)),i},t.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},t.prototype.syncUniformGroup=function(t,e){var r=this.getGlProgram();t.static&&t.dirtyId===r.uniformDirtyGroups[t.id]||(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},t.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var r,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var n in t.uniforms){var o=e[n];if(o){for(var s=t.uniforms[n],a=!1,h=0;h<Qr.length;h++)if(Qr[h].test(o,s)){i.push(Qr[h].code(n,s)),a=!0;break}if(!a){var u=(1!==o.size||o.isArray?$r:Jr)[o.type].replace("location",'ud["'+n+'"].location');i.push('\n            cu = ud["'+n+'"];\n            cv = cu.value;\n            v = uv["'+n+'"];\n            '+u+";")}}else(null===(r=t.uniforms[n])||void 0===r?void 0:r.group)&&(t.uniforms[n].ubo?i.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+n+", '"+n+"');\n                    "):i.push("\n                        renderer.shader.syncUniformGroup(uv."+n+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(t,e){var r=this.getGlProgram();if(!t.static||0!==t.dirtyId||!r.uniformGroups[t.id]){t.dirtyId=0;var i=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),i(r.uniformData,t.uniforms,this.renderer,Di,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(t,e,r){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var n=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(e.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=Oi(t,this.shader.program.uniformData)),t.autoManage){var a=new Float32Array(s.size/4);t.buffer.update(a)}return e.uniformGroups[t.id]=s.syncFunc,e.uniformGroups[t.id]},t.prototype.getSignature=function(t,e,r){var i=t.uniforms,n=[r+"-"];for(var o in i)n.push(o),e[o]&&n.push(e[o].type);return n.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(t){var e=this.gl,r=t.program,i=Ii(e,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(t){this.shader===t&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}(),Fi=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=y.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new ai,this.defaultState.blend=!0}return t.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[y.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.ADD]=[t.ONE,t.ONE],e[y.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.NONE]=[0,0],e[y.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[y.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[y.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[y.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[y.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[y.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[y.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[y.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[y.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[y.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},t.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},t.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(t){this.gl.depthMask(t)},t.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},t.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},t.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},t.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),Bi=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=nt.GC_MAX_IDLE,this.checkCountMax=nt.GC_MAX_CHECK_COUNT,this.mode=nt.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==I.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},t.prototype.destroy=function(){this.renderer=null},t}(),Ni=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=E.UNSIGNED_BYTE,this.internalFormat=x.RGBA,this.samplerType=0},Li=function(){function t(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ye,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(t){var e,r,i,n,o,s,a,h,u,l,c,d,f,p,_,v,m,g,y,b,T,A,R;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?((e={})[E.UNSIGNED_BYTE]=((r={})[x.RGBA]=t.RGBA8,r[x.RGB]=t.RGB8,r[x.RG]=t.RG8,r[x.RED]=t.R8,r[x.RGBA_INTEGER]=t.RGBA8UI,r[x.RGB_INTEGER]=t.RGB8UI,r[x.RG_INTEGER]=t.RG8UI,r[x.RED_INTEGER]=t.R8UI,r[x.ALPHA]=t.ALPHA,r[x.LUMINANCE]=t.LUMINANCE,r[x.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[E.BYTE]=((i={})[x.RGBA]=t.RGBA8_SNORM,i[x.RGB]=t.RGB8_SNORM,i[x.RG]=t.RG8_SNORM,i[x.RED]=t.R8_SNORM,i[x.RGBA_INTEGER]=t.RGBA8I,i[x.RGB_INTEGER]=t.RGB8I,i[x.RG_INTEGER]=t.RG8I,i[x.RED_INTEGER]=t.R8I,i),e[E.UNSIGNED_SHORT]=((n={})[x.RGBA_INTEGER]=t.RGBA16UI,n[x.RGB_INTEGER]=t.RGB16UI,n[x.RG_INTEGER]=t.RG16UI,n[x.RED_INTEGER]=t.R16UI,n[x.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,n),e[E.SHORT]=((o={})[x.RGBA_INTEGER]=t.RGBA16I,o[x.RGB_INTEGER]=t.RGB16I,o[x.RG_INTEGER]=t.RG16I,o[x.RED_INTEGER]=t.R16I,o),e[E.UNSIGNED_INT]=((s={})[x.RGBA_INTEGER]=t.RGBA32UI,s[x.RGB_INTEGER]=t.RGB32UI,s[x.RG_INTEGER]=t.RG32UI,s[x.RED_INTEGER]=t.R32UI,s[x.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,s),e[E.INT]=((a={})[x.RGBA_INTEGER]=t.RGBA32I,a[x.RGB_INTEGER]=t.RGB32I,a[x.RG_INTEGER]=t.RG32I,a[x.RED_INTEGER]=t.R32I,a),e[E.FLOAT]=((h={})[x.RGBA]=t.RGBA32F,h[x.RGB]=t.RGB32F,h[x.RG]=t.RG32F,h[x.RED]=t.R32F,h[x.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,h),e[E.HALF_FLOAT]=((u={})[x.RGBA]=t.RGBA16F,u[x.RGB]=t.RGB16F,u[x.RG]=t.RG16F,u[x.RED]=t.R16F,u),e[E.UNSIGNED_SHORT_5_6_5]=((l={})[x.RGB]=t.RGB565,l),e[E.UNSIGNED_SHORT_4_4_4_4]=((c={})[x.RGBA]=t.RGBA4,c),e[E.UNSIGNED_SHORT_5_5_5_1]=((d={})[x.RGBA]=t.RGB5_A1,d),e[E.UNSIGNED_INT_2_10_10_10_REV]=((f={})[x.RGBA]=t.RGB10_A2,f[x.RGBA_INTEGER]=t.RGB10_A2UI,f),e[E.UNSIGNED_INT_10F_11F_11F_REV]=((p={})[x.RGB]=t.R11F_G11F_B10F,p),e[E.UNSIGNED_INT_5_9_9_9_REV]=((_={})[x.RGB]=t.RGB9_E5,_),e[E.UNSIGNED_INT_24_8]=((v={})[x.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,v),e[E.FLOAT_32_UNSIGNED_INT_24_8_REV]=((m={})[x.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,m),R=e):((g={})[E.UNSIGNED_BYTE]=((y={})[x.RGBA]=t.RGBA,y[x.RGB]=t.RGB,y[x.ALPHA]=t.ALPHA,y[x.LUMINANCE]=t.LUMINANCE,y[x.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,y),g[E.UNSIGNED_SHORT_5_6_5]=((b={})[x.RGB]=t.RGB,b),g[E.UNSIGNED_SHORT_4_4_4_4]=((T={})[x.RGBA]=t.RGBA,T),g[E.UNSIGNED_SHORT_5_5_5_1]=((A={})[x.RGBA]=t.RGBA,A),R=g),R}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Ni(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ni(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},t.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},t.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)},t.prototype.ensureSamplerType=function(t){var e=this,r=e.boundTextures,i=e.hasIntegerTextures,n=e.CONTEXT_UID;if(i)for(var o=t-1;o>=0;--o){var s=r[o];s&&s._glTextures[n].samplerType!==A.FLOAT&&this.renderer.texture.unbind(s)}},t.prototype.initTexture=function(t){var e=new Ni(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(t,e){var r,i;e.internalFormat=null!==(i=null===(r=this.internalFormats[t.type])||void 0===r?void 0:r[t.format])&&void 0!==i?i:t.format,2===this.webGLVersion&&t.type===E.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},t.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e))e.samplerType!==A.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},t.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&Ft(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==O.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=S.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},t.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&t.mipmap!==O.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===R.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===R.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===R.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===R.LINEAR?r.LINEAR:r.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Gi={__proto__:null,FilterSystem:Rr,BatchSystem:Or,ContextSystem:Pr,FramebufferSystem:Dr,GeometrySystem:Fr,MaskSystem:di,ScissorSystem:vi,StencilSystem:mi,ProjectionSystem:gi,RenderTextureSystem:xi,ShaderSystem:Ci,StateSystem:Fi,TextureGCSystem:Bi,TextureSystem:Li},Ui=new le,ki=function(t){function e(e,r){void 0===e&&(e=m.UNKNOWN);var i=t.call(this)||this;return r=Object.assign({},nt.RENDER_OPTIONS,r),i.options=r,i.type=e,i.screen=new ne(0,0,r.width,r.height),i.view=r.view||nt.ADAPTER.createCanvas(),i.resolution=r.resolution||nt.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&(Ut("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return Ue(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);var r=this.view.width/this.resolution,i=this.view.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=i+"px"),this.emit("resize",r,i)},e.prototype.generateTexture=function(t,e,r,i){void 0===e&&(e={}),"number"==typeof e&&(Ut("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:r,region:i});var n=e.region,o=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}(e,["region"]);0===(i=n||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var s=hr.create(ke({width:i.width,height:i.height},o));return Ui.tx=-i.x,Ui.ty=-i.y,this.render(t,{renderTexture:s,clear:!1,transform:Ui,skipUpdateTransform:!!t.parent}),s},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=m.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=yt(t),gt(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(ot),Xi=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ji=function(){function t(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(t){var e=this.gl,r=this.CONTEXT_UID,i=t._glBuffers[r]||this.createGLBuffer(t);e.bindBuffer(t.type,i.buffer)},t.prototype.bindBufferBase=function(t,e){var r=this.gl,i=this.CONTEXT_UID;if(this.boundBufferBases[e]!==t){var n=t._glBuffers[i]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,n.buffer)}},t.prototype.bindBufferRange=function(t,e,r){var i=this.gl,n=this.CONTEXT_UID;r=r||0;var o=t._glBuffers[n]||this.createGLBuffer(t);i.bindBufferRange(i.UNIFORM_BUFFER,e||0,o.buffer,256*r,256)},t.prototype.update=function(t){var e=this.gl,r=this.CONTEXT_UID,i=t._glBuffers[r];if(t._updateID!==i.updateID)if(i.updateID=t._updateID,e.bindBuffer(t.type,i.buffer),i.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{var n=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;i.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,n)}},t.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)},t.prototype.createGLBuffer=function(t){var e=this.CONTEXT_UID,r=this.gl;return t._glBuffers[e]=new Xi(r.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]},t}(),Hi=function(t){function e(r){var i=t.call(this,m.WEBGL,r)||this;return r=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new De("destroy"),contextChange:new De("contextChange"),reset:new De("reset"),update:new De("update"),postrender:new De("postrender"),prerender:new De("prerender"),resize:new De("resize")},i.runners.contextChange.add(i),i.globalUniforms=new xr({projectionMatrix:new le},!0),i.addSystem(di,"mask").addSystem(Pr,"context").addSystem(Fi,"state").addSystem(Ci,"shader").addSystem(Li,"texture").addSystem(ji,"buffer").addSystem(Fr,"geometry").addSystem(Dr,"framebuffer").addSystem(vi,"scissor").addSystem(mi,"stencil").addSystem(gi,"projection").addSystem(Bi,"textureGC").addSystem(Rr,"filter").addSystem(xi,"renderTexture").addSystem(Or,"batch"),i.initPlugins(e.__plugins),i.multisample=void 0,r.context?i.context.initFromContext(r.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:r.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,_t(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return Ue(e,t),e.create=function(t){if(vt())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var t,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);t>=F.HIGH?this.multisample=F.HIGH:t>=F.MEDIUM?this.multisample=F.MEDIUM:t>=F.LOW?this.multisample=F.LOW:this.multisample=F.NONE},e.prototype.addSystem=function(t,e){var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e){var r,i,n,o;if(e&&(e instanceof hr?(Ut("6.0.0","Renderer#render arguments changed, use options instead."),r=e,i=arguments[2],n=arguments[3],o=arguments[4]):(r=e.renderTexture,i=e.clear,n=e.transform,o=e.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(r||(this._lastObjectRendered=t),!o){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(e,r,i,n){void 0===r&&(r={});var o=t.prototype.generateTexture.call(this,e,r,i,n);return this.framebuffer.blit(),o},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Ut("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,e){Ut("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Me.add({name:t,type:Oe.RendererPlugin,ref:e})},e.__plugins={},e}(ki);function Yi(t){return Hi.create(t)}Me.handleByMap(Oe.RendererPlugin,Hi.__plugins);var zi="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Vi="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Wi=function(){function t(t){Ut("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),qi=function(){this.texArray=null,this.blend=0,this.type=b.TRIANGLES,this.start=0,this.size=0,this.data=null},Ki=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),Zi=function(){function t(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),Qi=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=ai.for2d(),r.size=4*nt.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return Ue(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;nt.PREFER_ENV===v.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),nt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ri(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new qi);for(;r.length<n;)r.push(new Ki);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,i=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++Ye._globalBatch,h=0,u=i[0],l=0;n.copyBoundTextures(o,r);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=r&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,c),l=c,u=i[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}for(u.count>0&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,this._bufferSize),++h,++a),c=0;c<o.length;c++)o[c]=null;Ye._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,i){var n=this,o=n._bufferedElements,s=n._attributeBuffer,a=n._indexBuffer,h=n.vertexSize,u=e._drawCallPool,l=this._dcIndex,c=this._aIndex,d=this._iIndex,f=u[l];f.start=this._iIndex,f.texArray=t;for(var p=r;p<i;++p){var _=o[p],v=_._texture.baseTexture,m=Tt[v.alphaMode?1:0][_.blendMode];o[p]=null,r<p&&f.blend!==m&&(f.size=d-f.start,r=p,(f=u[++l]).texArray=t,f.start=d),this.packInterleavedGeometry(_,s,a,c,d),c+=_.vertexData.length/2*h,d+=_.indices.length,f.blend=m}r<i&&(f.size=d-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,i=t._indexBuffer;nt.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,f=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=f,n.set(this.state),i.drawElements(l,c,i.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),nt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Mt(Math.ceil(t/8)),r=Ct(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new Zi(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=Mt(Math.ceil(t/12)),r=Ct(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?Rt(t._tintRGB,d):t._tintRGB+(255*d<<24),p=0;p<l.length;p+=2)s[i++]=l[p],s[i++]=l[p+1],s[i++]=h[p],s[i++]=h[p+1],o[i++]=f,s[i++]=c;for(p=0;p<u.length;p++)r[n++]=a+u[p]},e._drawCallPool=[],e._textureArrayPool=[],e}(Sr),Ji=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=xr.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new oi(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new le,default:this.defaultGroupCache[t]};return new si(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),$i=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new dr(null,e,!1),r._indexBuffer=new dr(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,E.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,E.FLOAT).addAttribute("aColor",r._buffer,4,!0,E.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,E.FLOAT).addIndex(r._indexBuffer),r}return Ue(e,t),e}(mr),tn="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",en="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",rn=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:tn,fragment:en,geometryClass:$i,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new Ji(r,i),s.geometryClass=o,s.vertexSize=n,s}return Ue(e,t),e}(Qi)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return tn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return en},enumerable:!1,configurable:!0}),t}(),nn=rn.create();Object.assign(nn,{extension:{name:"batch",type:Oe.RendererPlugin}});var on={},sn=function(t){Object.defineProperty(on,t,{get:function(){return Ut("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),tr[t]}})};for(var an in tr)sn(an);var hn={},un=function(t){Object.defineProperty(hn,t,{get:function(){return Ut("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Gi[t]}})};for(var an in Gi)un(an);var ln="6.5.8",cn={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ee.mixin(cn);var dn=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(it.tablet||it.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(it.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.left,i=e.top,n=e.width,o=e.height,s=this.renderer,a=s.width,h=s.height,u=s.resolution,l=n/a*u,c=o/h*u,d=this.div;d.style.left=r+"px",d.style.top=i+"px",d.style.width=a+"px",d.style.height=h+"px";for(var f=0;f<this.children.length;f++){var p=this.children[f];if(p.renderId!==this.renderId)p._accessibleActive=!1,Ft(this.children,f,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,f--;else{d=p._accessibleDiv;var _=p.hitArea,v=p.worldTransform;p.hitArea?(d.style.left=(v.tx+_.x*v.a)*l+"px",d.style.top=(v.ty+_.y*v.d)*c+"px",d.style.width=_.width*v.a*l+"px",d.style.height=_.height*v.d*c+"px"):(_=p.getBounds(),this.capHitArea(_),d.style.left=_.x*l+"px",d.style.top=_.y*c+"px",d.style.width=_.width*l+"px",d.style.height=_.height*c+"px",d.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(d.title=p.accessibleTitle),d.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&d.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===d.title&&p.tabIndex===d.tabIndex||(d.title=p.accessibleTitle,d.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,r=e.width,i=e.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>i&&(t.height=i-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"click",i),e.dispatchEvent(r,"pointertap",i),e.dispatchEvent(r,"tap",i)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"mouseover",i)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"mouseout",i)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[Oe.RendererPlugin,Oe.CanvasRendererPlugin]},t}(),fn=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new re,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),pn=function(t,e){return pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},pn(t,e)},_n=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),vn=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),mn=function(){function t(){this._tempPoint=new re}return t.prototype.recursiveFindHit=function(t,e,r,i,n){var o;if(!e||!e.visible)return!1;var s=t.data.global,a=!1,h=n=e.interactive||n,u=!0;if(e.hitArea)i&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(i=!1,u=!1)),h=!1;else if(e._mask&&i){var l=e._mask.isMaskData?e._mask.maskObject:e._mask;l&&!(null===(o=l.containsPoint)||void 0===o?void 0:o.call(l,s))&&(i=!1)}if(u&&e.interactiveChildren&&e.children)for(var c=e.children,d=c.length-1;d>=0;d--){var f=c[d],p=this.recursiveFindHit(t,f,r,i,h);if(p){if(!f.parent)continue;h=!1,p&&(t.target&&(i=!1),a=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),r&&r(t,e,!!a))),a},t.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},t}(),gn={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Ee.mixin(gn);var yn={target:null,data:{global:null}},bn=function(t){function e(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new fn,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new _n,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new mn,i._tempDisplayObject=new Ae,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){function r(){this.constructor=t}pn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return yn.target=null,yn.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(yn,e,null,!0),yn.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Fe.system.add(this.tickerUpdate,this,Pe.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Fe.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,r)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new vn(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){var i=this.normalizeToPointerData(t),n=i.length,o=t.target;t.composedPath&&t.composedPath().length>0&&(o=t.composedPath()[0]);for(var s=o!==this.interactionDOMElement?"outside":"",a=0;a<n;a++){var h=i[a],u=this.getInteractionDataForPointerId(h),l=this.configureInteractionEventForDOMEvent(this.eventData,h,u);if(l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,r,e||!s),this.emit(e?"pointercancel":"pointerup"+s,l),"mouse"===h.pointerType||"pen"===h.pointerType){var c=2===h.button;this.emit(c?"rightup"+s:"mouseup"+s,l)}else"touch"===h.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,l),this.releaseInteractionDataForPointerId(h.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=vn.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new vn(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)}},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new fn).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof globalThis.PointerEvent)){var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}else e.push(t);return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[Oe.RendererPlugin,Oe.CanvasRendererPlugin]},e}(ot),xn=new ne,Tn=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e,r){var i,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof hr?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(i=n.baseTexture.resolution,r=null!=r?r:n.frame,s=!1,o.renderTexture.bind(n)):(i=o.resolution,r||((r=xn).width=o.width,r.height=o.height),s=!0,o.renderTexture.bind(null));var h=Math.round(r.width*i),u=Math.round(r.height*i),l=new zt(h,u,1),c=new Uint8Array(4*h*u),d=o.gl;d.readPixels(Math.round(r.x*i),Math.round(r.y*i),h,u,d.RGBA,d.UNSIGNED_BYTE,c);var f=l.context.getImageData(0,0,h,u);if(t.arrayPostDivide(c,f.data),l.context.putImageData(f,0,0),s){var p=new zt(l.width,l.height,1);p.context.scale(1,-1),p.context.drawImage(l.canvas,0,-u),l.destroy(),l=p}return a&&n.destroy(!0),l.canvas},t.prototype.pixels=function(e,r){var i,n,o=this.renderer,s=!1;e&&(e instanceof hr?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(i=n.baseTexture.resolution,r=null!=r?r:n.frame,o.renderTexture.bind(n)):(i=o.resolution,r||((r=xn).width=o.width,r.height=o.height),o.renderTexture.bind(null));var a=Math.round(r.width*i),h=Math.round(r.height*i),u=new Uint8Array(4*a*h),l=o.gl;return l.readPixels(Math.round(r.x*i),Math.round(r.y*i),a,h,l.RGBA,l.UNSIGNED_BYTE,u),s&&n.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t.extension={name:"extract",type:Oe.RendererPlugin},t}(),En=function(){function t(t,e,r){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},t}();function An(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var Rn,Sn=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r},t.prototype.has=function(t){if(!(t instanceof En))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},t.prototype.dispatch=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,e),i=i._next;return!0},t.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return An(this,new En(t,!1,e))},t.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return An(this,new En(t,!0,e))},t.prototype.detach=function(t){if(!(t instanceof En))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},t.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},t}();function On(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}var wn=null;function Pn(){}function In(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Mn(t){return t.toString().replace("object ","")}var Dn=function(){function t(e,r,i){if(this._dequeue=Pn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Pn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Sn,this.onProgress=new Sn,this.onComplete=new Sn,this.onAfterMiddleware=new Sn}return t.setExtensionLoadType=function(e,r){In(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){In(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:void 0===Rn&&(Rn=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest)),Rn&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==globalThis.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==globalThis.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;"use-credentials"===this.crossOrigin&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(Mn(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(Mn(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(Mn(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,wn||(wn=document.createElement("a")),wn.href=t;var r=On(wn.href,{strictMode:!0}),i=!r.port&&""===e.port||r.port===e.port,n=r.protocol?r.protocol+":":"";return r.host===e.hostname&&i&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();function Cn(){}function Fn(t){return function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(null===t)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,r)}}!function(t){var e,r,i,n;(e=t.STATUS_FLAGS||(t.STATUS_FLAGS={}))[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING",(r=t.TYPE||(t.TYPE={}))[r.UNKNOWN=0]="UNKNOWN",r[r.JSON=1]="JSON",r[r.XML=2]="XML",r[r.IMAGE=3]="IMAGE",r[r.AUDIO=4]="AUDIO",r[r.VIDEO=5]="VIDEO",r[r.TEXT=6]="TEXT",(i=t.LOAD_TYPE||(t.LOAD_TYPE={}))[i.XHR=1]="XHR",i[i.IMAGE=2]="IMAGE",i[i.AUDIO=3]="AUDIO",i[i.VIDEO=4]="VIDEO",(n=t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})).DEFAULT="text",n.BUFFER="arraybuffer",n.BLOB="blob",n.DOCUMENT="document",n.JSON="json",n.TEXT="text",t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(Dn||(Dn={}));var Bn=function(t,e){this.data=t,this.callback=e},Nn=function(){function t(t,e){var r=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=Cn,this.unsaturated=Cn,this.empty=Cn,this.drain=Cn,this.error=Cn,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,i){if(i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout((function(){return r.drain()}),1);else{var n=new Bn(t,"function"==typeof i?i:Cn);e?r._tasks.unshift(n):r._tasks.push(n),setTimeout(r.process,1)}},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(t.data,Fn(r._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(t){var e=this;return function(){for(var r=arguments,i=[],n=0;n<arguments.length;n++)i[n]=r[n];e.workers-=1,t.callback.apply(t,i),null!=i[0]&&e.error(i[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(t,e){this._insert(t,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=Cn,this.started=!1,this._tasks=[]},t.prototype.unshift=function(t,e){this._insert(t,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},t.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},t.eachSeries=function(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()},t.queue=function(e,r){return new t(e,r)},t}(),Ln=/(#[\w-]+)?$/,Gn=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=Nn.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Sn,this.onError=new Sn,this.onLoad=new Sn,this.onStart=new Sn,this.onComplete=new Sn;for(var n=0;n<t._plugins.length;++n){var o=t._plugins[n],s=o.pre,a=o.use;s&&this.pre(s),a&&this.use(a)}this._protected=!1}return t.prototype._add=function(t,e,r,i){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Dn(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var n=r.parentResource,o=[],s=0;s<n.children.length;++s)n.children[s].isComplete||o.push(n.children[s]);var a=n.progressChunk*(o.length+1)/(o.length+2);for(n.children.push(this.resources[t]),n.progressChunk=a,s=0;s<o.length;++s)o[s].progressChunk=a;this.resources[t].progressChunk=a}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(t){if(Ut("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),"function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(t){var e,r=On(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Ln.exec(e)[0];-1!==(e=e.slice(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,Nn.eachSeries(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Nn.eachSeries(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return Ut("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),Me.add({type:Oe.Loader,ref:e}),t},t._plugins=[],t}();Me.handleByList(Oe.Loader,Gn._plugins),Gn.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(r=t,i=e||r.callback||r.onComplete,e=r.url,t=r.name||r.key||r.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof r&&(i=r,r=null),this._add(t,e,r,i)};var Un=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Gn.shared:new Gn},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=Oe.Application,t}(),kn=function(){function t(){}return t.add=function(){Dn.setExtensionLoadType("svg",Dn.LOAD_TYPE.XHR),Dn.setExtensionXhrType("svg",Dn.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==Dn.TYPE.IMAGE&&"svg"!==t.extension)e();else{var r=t.data,i=t.url,n=t.name,o=t.metadata;ar.fromLoader(r,i,n,o).then((function(r){t.texture=r,e()})).catch(e)}},t.extension=Oe.Loader,t}();function Xn(t,e){if(t.data){if(t.xhr&&t.xhrType===Dn.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=globalThis.URL||globalThis.webkitURL,i=r.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Dn.TYPE.IMAGE,void(t.data.onload=function(){r.revokeObjectURL(i),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(o=0;o<n.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[o])}return e}(t.xhr.responseText),t.type=Dn.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}var jn,Hn,Yn=function(){function t(){}return t.extension=Oe.Loader,t.use=Xn,t}();Me.add(kn,Yn),function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"}(Hn||(Hn={}));var zn=((jn={})[Hn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,jn[Hn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,jn[Hn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,jn[Hn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,jn[Hn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,jn[Hn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,jn[Hn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,jn[Hn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,jn[Hn.COMPRESSED_R11_EAC]=.5,jn[Hn.COMPRESSED_SIGNED_R11_EAC]=.5,jn[Hn.COMPRESSED_RG11_EAC]=1,jn[Hn.COMPRESSED_SIGNED_RG11_EAC]=1,jn[Hn.COMPRESSED_RGB8_ETC2]=.5,jn[Hn.COMPRESSED_RGBA8_ETC2_EAC]=1,jn[Hn.COMPRESSED_SRGB8_ETC2]=.5,jn[Hn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,jn[Hn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,jn[Hn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,jn[Hn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,jn[Hn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,jn[Hn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,jn[Hn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,jn[Hn.COMPRESSED_RGB_ETC1_WEBGL]=.5,jn[Hn.COMPRESSED_RGB_ATC_WEBGL]=.5,jn[Hn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,jn[Hn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,jn[Hn.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,jn),Vn=function(t,e){return Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Vn(t,e)};function Wn(t,e){function r(){this.constructor=t}Vn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var qn,Kn,Zn=function(t){function e(e,r){void 0===r&&(r={width:1,height:1,autoLoad:!0});var i,n,o=this;return"string"==typeof e?(i=e,n=new Uint8Array):(i=null,n=e),(o=t.call(this,n,r)||this).origin=i,o.buffer=n?new Zi(n):null,o.origin&&!1!==r.autoLoad&&o.load(),n&&n.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return Wn(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return t=this,e=void 0,i=function(){var t;return function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new Zi(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))},new((r=Promise)||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}));var t,e,r,i},e}(je),Qn=function(t){function e(r,i){var n=t.call(this,r,i)||this;return n.format=i.format,n.levels=i.levels||1,n._width=i.width,n._height=i.height,n._extension=e._formatToExtension(n.format),(i.levelBuffers||n.buffer)&&(n._levelBuffers=i.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return Wn(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var n=0,o=this.levels;n<o;n++){var s=this._levelBuffers[n],a=s.levelID,h=s.levelWidth,u=s.levelHeight,l=s.levelBuffer;i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,h,u,0,l)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,r,i,n,o,s){for(var a=new Array(r),h=t.byteOffset,u=o,l=s,c=u+i-1&~(i-1),d=l+n-1&~(n-1),f=c*d*zn[e],p=0;p<r;p++)a[p]={levelID:p,levelWidth:r>1?u:c,levelHeight:r>1?l:d,levelBuffer:new Uint8Array(t.buffer,h,f)},h+=f,f=(c=(u=u>>1||1)+i-1&~(i-1))*(d=(l=l>>1||1)+n-1&~(n-1))*zn[e];return a},e}(Zn),Jn=function(){function t(){}return t.use=function(e,r){var i=e.data;if(e.type===Dn.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var n=i.textures,o=void 0,s=void 0,a=0,h=n.length;a<h;a++){var u=n[a],l=u.src,c=u.format;if(c||(s=l),t.textureFormats[c]){o=l;break}}if(!(o=o||s))return void r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));if(o===e.url)return void r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},f=ht.resolve(e.url.replace(this.baseUrl,""),o),p=i.cacheID;this.add(p,f,d,(function(t){if(t.error)r(t.error);else{var i=t.texture,n=void 0===i?null:i,o=t.textures,s=void 0===o?{}:o;Object.assign(e,{texture:n,textures:s}),r()}}))}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=nt.ADAPTER.createCanvas().getContext("webgl");if(!e)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var r={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=r}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;for(var r in t._textureFormats={},e){var i=e[r];i&&Object.assign(t._textureFormats,Object.getPrototypeOf(i))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=Oe.Loader,t}();function $n(t,e,r){var i={textures:{},texture:null};return e?(e.map((function(t){return new ar(new Ye(t,Object.assign({mipmap:O.OFF,alphaMode:w.NO_PREMULTIPLIED_ALPHA},r)))})).forEach((function(e,r){var n=e.baseTexture,o=t+"-"+(r+1);Ye.addToCache(n,o),ar.addToCache(e,o),0===r&&(Ye.addToCache(n,t),ar.addToCache(e,t),i.texture=e),i.textures[o]=e})),i):i}var to,eo;!function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(to||(to={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(eo||(eo={}));var ro,io,no,oo=((qn={})[827611204]=Hn.COMPRESSED_RGBA_S3TC_DXT1_EXT,qn[861165636]=Hn.COMPRESSED_RGBA_S3TC_DXT3_EXT,qn[894720068]=Hn.COMPRESSED_RGBA_S3TC_DXT5_EXT,qn),so=((Kn={})[to.DXGI_FORMAT_BC1_TYPELESS]=Hn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Kn[to.DXGI_FORMAT_BC1_UNORM]=Hn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Kn[to.DXGI_FORMAT_BC2_TYPELESS]=Hn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Kn[to.DXGI_FORMAT_BC2_UNORM]=Hn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Kn[to.DXGI_FORMAT_BC3_TYPELESS]=Hn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Kn[to.DXGI_FORMAT_BC3_UNORM]=Hn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Kn[to.DXGI_FORMAT_BC1_UNORM_SRGB]=Hn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Kn[to.DXGI_FORMAT_BC2_UNORM_SRGB]=Hn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Kn[to.DXGI_FORMAT_BC3_UNORM_SRGB]=Hn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Kn);function ao(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),i=r[3],n=r[4],o=r[7],s=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=s[1];if(4&a){var h=s[2];if(808540228!==h){var u=oo[h],l=new Uint8Array(t,128);return[new Qn(l,{format:u,width:n,height:i,levels:o})]}var c=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),d=c[0],f=c[1],p=c[2],_=c[3],v=so[d];if(void 0===v)throw new Error("DDSParser cannot parse texture data with DXGI format "+d);if(4===p)throw new Error("DDSParser does not support cubemap textures");if(f===eo.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var m=new Array;if(1===_)m.push(new Uint8Array(t,148));else{for(var g=zn[v],y=0,b=n,x=i,T=0;T<o;T++)y+=Math.max(1,b+3&-4)*Math.max(1,x+3&-4)*g,b>>>=1,x>>>=1;var E=148;for(T=0;T<_;T++)m.push(new Uint8Array(t,E,y)),E+=y}return m.map((function(t){return new Qn(t,{format:v,width:n,height:i,levels:o})}))}if(64&a)throw new Error("DDSParser does not support uncompressed texture data.");if(512&a)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&a)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&a)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}var ho=[171,75,84,88,32,49,49,187,13,10,26,10],uo=((ro={})[E.UNSIGNED_BYTE]=1,ro[E.UNSIGNED_SHORT]=2,ro[E.INT]=4,ro[E.UNSIGNED_INT]=4,ro[E.FLOAT]=4,ro[E.HALF_FLOAT]=8,ro),lo=((io={})[x.RGBA]=4,io[x.RGB]=3,io[x.RG]=2,io[x.RED]=1,io[x.LUMINANCE]=1,io[x.LUMINANCE_ALPHA]=2,io[x.ALPHA]=1,io),co=((no={})[E.UNSIGNED_SHORT_4_4_4_4]=2,no[E.UNSIGNED_SHORT_5_5_5_1]=2,no[E.UNSIGNED_SHORT_5_6_5]=2,no);function fo(t,e,r){void 0===r&&(r=!1);var i=new DataView(e);if(!function(t,e){for(var r=0;r<ho.length;r++)if(e.getUint8(r)!==ho[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}(t,i))return null;var n=67305985===i.getUint32(12,!0),o=i.getUint32(16,n),s=i.getUint32(24,n),a=i.getUint32(28,n),h=i.getUint32(36,n),u=i.getUint32(40,n)||1,l=i.getUint32(44,n)||1,c=i.getUint32(48,n)||1,d=i.getUint32(52,n),f=i.getUint32(56,n),p=i.getUint32(60,n);if(0===u||1!==l)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==c)throw new Error("WebGL does not support array textures");var _,v=h+3&-4,m=u+3&-4,g=new Array(c),y=h*u;if(0===o&&(y=v*m),void 0===(_=0!==o?uo[o]?uo[o]*lo[s]:co[o]:zn[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var b=r?function(t,e,r){for(var i=new Map,n=0;n<e;){var o=t.getUint32(64+n,r),s=64+n+4,a=3-(o+3)%4;if(0===o||o>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var h=0;h<o&&0!==t.getUint8(s+h);h++);if(-1===h){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var u=(new TextDecoder).decode(new Uint8Array(t.buffer,s,h)),l=new DataView(t.buffer,s+h+1,o-h-1);i.set(u,l),n+=4+o+a}return i}(i,p,n):null,x=y*_,T=h,A=u,R=v,S=m,O=64+p,w=0;w<f;w++){for(var P=i.getUint32(O,n),I=O+4,M=0;M<c;M++){var D=g[M];D||(D=g[M]=new Array(f)),D[w]={levelID:w,levelWidth:f>1||0!==o?T:R,levelHeight:f>1||0!==o?A:S,levelBuffer:new Uint8Array(e,I,x)},I+=x}O=(O+=P+4)%4!=0?O+4-O%4:O,x=(R=(T=T>>1||1)+4-1&-4)*(S=(A=A>>1||1)+4-1&-4)*_}return 0!==o?{uncompressed:g.map((function(t){var e=t[0].levelBuffer,r=!1;return o===E.FLOAT?e=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):o===E.UNSIGNED_INT?(r=!0,e=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):o===E.INT&&(r=!0,e=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new je(e,{width:t[0].levelWidth,height:t[0].levelHeight}),type:o,format:r?po(s):s}})),kvData:b}:{compressed:g.map((function(t){return new Qn(null,{format:a,width:h,height:u,levels:f,levelBuffers:t})})),kvData:b}}function po(t){switch(t){case x.RGBA:return x.RGBA_INTEGER;case x.RGB:return x.RGB_INTEGER;case x.RG:return x.RG_INTEGER;case x.RED:return x.RED_INTEGER;default:return t}}Dn.setExtensionXhrType("dds",Dn.XHR_RESPONSE_TYPE.BUFFER);var _o=function(){function t(){}return t.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,$n(t.name||t.url,ao(t.data),t.metadata))}catch(t){return void e(t)}e()},t.extension=Oe.Loader,t}();Dn.setExtensionXhrType("ktx",Dn.XHR_RESPONSE_TYPE.BUFFER);var vo=function(){function t(){}return t.use=function(t,e){if("ktx"===t.extension&&t.data)try{var r=t.name||t.url,i=fo(r,t.data,this.loadKeyValueData),n=i.compressed,o=i.uncompressed,s=i.kvData;if(n){var a=$n(r,n,t.metadata);if(s&&a.textures)for(var h in a.textures)a.textures[h].baseTexture.ktxKeyValueData=s;Object.assign(t,a)}else if(o){var u={};o.forEach((function(t,e){var i=new ar(new Ye(t.resource,{mipmap:O.OFF,alphaMode:w.NO_PREMULTIPLIED_ALPHA,type:t.type,format:t.format})),n=r+"-"+(e+1);s&&(i.baseTexture.ktxKeyValueData=s),Ye.addToCache(i.baseTexture,n),ar.addToCache(i,n),0===e&&(u[r]=i,Ye.addToCache(i.baseTexture,r),ar.addToCache(i,r)),u[n]=i})),Object.assign(t,{textures:u})}}catch(t){return void e(t)}e()},t.extension=Oe.Loader,t.loadKeyValueData=!1,t}(),mo=function(t,e){return mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},mo(t,e)};function go(t,e){function r(){this.constructor=t}mo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var yo,bo,xo=function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return i>16384&&(i=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=y.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return go(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,gt(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Se),To=function(){function t(t,e,r){this.geometry=new mr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||E.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new dr(Ot(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size;var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new dr(this.dynamicData,!1,!1);var n=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(s=this.staticProperties[r]).offset=n,n+=s.size,this.staticStride+=s.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new dr(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===E.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r)s=this.staticProperties[r],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===E.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===E.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===E.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),Eo=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new le,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:E.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=si.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=ai.for2d(),r}return go(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture,h=a.alphaMode>0;this.state.blendMode=Et(t.blendMode,h),n.state.set(this.state);var u=n.gl,l=t.worldTransform.copyTo(this.tempMatrix);l.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=At(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,h),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var c=!1,d=0,f=0;d<o;d+=i,f+=1){var p=o-d;p>i&&(p=i),f>=s.length&&s.push(this._generateOneMoreBuffer(t));var _=s[f];_.uploadDynamic(e,d,p);var v=t._bufferUpdateIDs[f]||0;(c=c||_._updateID<v)&&(_._updateID=t._updateID,_.uploadStatic(e,d,p)),n.geometry.bind(_.geometry),u.drawElements(u.TRIANGLES,6*p,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new To(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new To(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,f=c.scale.x,p=c.scale.y,_=d.trim,v=d.orig;_?(s=(a=_.x-c.anchor.x*v.width)+_.width,h=(u=_.y-c.anchor.y*v.height)+_.height):(s=v.width*(1-c.anchor.x),a=v.width*-c.anchor.x,h=v.height*(1-c.anchor.y),u=v.height*-c.anchor.y),i[o]=a*f,i[o+1]=u*p,i[o+n]=s*f,i[o+n+1]=u*p,i[o+2*n]=s*f,i[o+2*n+1]=h*p,i[o+3*n]=a*f,i[o+3*n+1]=h*p,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?Rt(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:Oe.RendererPlugin},e}(Sr);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(yo||(yo={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(bo||(bo={}));var Ao={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Ro=function(){function t(){this.color=16777215,this.alpha=1,this.texture=ar.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ar.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),So=function(t,e){return So=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},So(t,e)};function Oo(t,e){function r(){this.constructor=t}So(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function wo(t,e){var r,i;void 0===e&&(e=!1);var n=t.length;if(!(n<6)){for(var o=0,s=0,a=t[n-2],h=t[n-1];s<n;s+=2){var u=t[s],l=t[s+1];o+=(u-a)*(l+h),a=u,h=l}if(!e&&o>0||e&&o<=0){var c=n/2;for(s=c+c%2;s<n;s+=2){var d=n-s-2,f=n-s-1,p=s,_=s+1;r=[t[p],t[d]],t[d]=r[0],t[p]=r[1],i=[t[_],t[f]],t[f]=i[0],t[_]=i[1]}}}}var Po={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){wo(r,!1);for(var s=[],a=0;a<i.length;a++){var h=i[a];wo(h.points,!0),s.push(r.length/2),r=r.concat(h.points)}var u=st(r,s,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<r.length;a++)n.push(r[a])}}},Io={build:function(t){var e,r,i,n,o,s,a=t.points;if(t.type===Jt.CIRC){var h=t.shape;e=h.x,r=h.y,o=s=h.radius,i=n=0}else if(t.type===Jt.ELIP){var u=t.shape;e=u.x,r=u.y,o=u.width,s=u.height,i=n=0}else{var l=t.shape,c=l.width/2,d=l.height/2;e=l.x+c,r=l.y+d,i=c-(o=s=Math.max(0,Math.min(l.radius,Math.min(c,d)))),n=d-s}if(o>=0&&s>=0&&i>=0&&n>=0){var f=Math.ceil(2.3*Math.sqrt(o+s)),p=8*f+(i?4:0)+(n?4:0);if(a.length=p,0!==p){if(0===f)return a.length=8,a[0]=a[6]=e+i,a[1]=a[3]=r+n,a[2]=a[4]=e-i,void(a[5]=a[7]=r-n);var _,v,m=0,g=4*f+(i?2:0)+2,y=g,b=p,x=e+(_=i+o),T=e-_,E=r+(v=n);if(a[m++]=x,a[m++]=E,a[--g]=E,a[--g]=T,n){var A=r-v;a[y++]=T,a[y++]=A,a[--b]=A,a[--b]=x}for(var R=1;R<f;R++){var S=Math.PI/2*(R/f);x=e+(_=i+Math.cos(S)*o),T=e-_,E=r+(v=n+Math.sin(S)*s),A=r-v,a[m++]=x,a[m++]=E,a[--g]=E,a[--g]=T,a[y++]=T,a[y++]=A,a[--b]=A,a[--b]=x}x=e+(_=i),T=e-_,E=r+(v=n+s),A=r-v,a[m++]=x,a[m++]=E,a[--b]=A,a[--b]=x,i&&(a[m++]=T,a[m++]=E,a[--b]=A,a[--b]=T)}}else a.length=0},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices;if(0!==r.length){var o,s,a=i.length/2,h=a;if(t.type!==Jt.RREC){var u=t.shape;o=u.x,s=u.y}else{var l=t.shape;o=l.x+l.width/2,s=l.y+l.height/2}var c=t.matrix;i.push(t.matrix?c.a*o+c.c*s+c.tx:o,t.matrix?c.b*o+c.d*s+c.ty:s),a++,i.push(r[0],r[1]);for(var d=2;d<r.length;d+=2)i.push(r[d],r[d+1]),n.push(a++,h,a);n.push(h+1,h,a)}}},Mo={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function Do(t,e,r){return t+(e-t)*r}function Co(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,f=0,p=0,_=0;p<=20;++p)h=Do(t,r,_=p/20),u=Do(e,i,_),l=Do(r,n,_),c=Do(i,o,_),d=Do(h,l,_),f=Do(u,c,_),0===p&&a[a.length-2]===d&&a[a.length-1]===f||a.push(d,f);return a}var Fo={build:function(t){if($o.nextRoundedRectBehavior)Io.build(t);else{var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(Co(i,n+a,i,n,i+a,n,r),Co(i+o-a,n,i+o,n,i+o,n+a,r),Co(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),Co(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)}},triangulate:function(t,e){if($o.nextRoundedRectBehavior)Io.triangulate(t,e);else{for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=st(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)i.push(r[a],r[++a])}}};function Bo(t,e,r,i,n,o,s,a){var h,u;s?(h=i,u=-r):(h=-i,u=r);var l=t-r*n+h,c=e-i*n+u,d=t+r*o+h,f=e+i*o+u;return a.push(l,c),a.push(d,f),2}function No(t,e,r,i,n,o,s,a){var h=r-t,u=i-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,f=c-l,p=Math.abs(f),_=Math.sqrt(h*h+u*u),v=1+(15*p*Math.sqrt(_)/Math.PI>>0),m=f/v;if(d+=m,a){s.push(t,e),s.push(r,i);for(var g=1,y=d;g<v;g++,y+=m)s.push(t,e),s.push(t+Math.sin(y)*_,e+Math.cos(y)*_);s.push(t,e),s.push(n,o)}else{for(s.push(r,i),s.push(t,e),g=1,y=d;g<v;g++,y+=m)s.push(t+Math.sin(y)*_,e+Math.cos(y)*_),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*v}function Lo(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==Jt.POLY||i.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o=t.lineStyle,s=new re(i[0],i[1]),a=new re(i[i.length-2],i[i.length-1]),h=r.type!==Jt.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var l=.5*(s.x+a.x),c=.5*(a.y+s.y);i.unshift(l,c),i.push(l,c)}var d=e.points,f=i.length/2,p=i.length,_=d.length/2,v=o.width/2,m=v*v,g=o.miterLimit*o.miterLimit,y=i[0],b=i[1],x=i[2],T=i[3],E=0,A=0,R=-(b-T),S=y-x,O=0,w=0,P=Math.sqrt(R*R+S*S);R/=P,S/=P,R*=v,S*=v;var I=o.alignment,M=2*(1-I),D=2*I;h||(o.cap===bo.ROUND?p+=No(y-R*(M-D)*.5,b-S*(M-D)*.5,y-R*M,b-S*M,y+R*D,b+S*D,d,!0)+2:o.cap===bo.SQUARE&&(p+=Bo(y,b,R,S,M,D,!0,d))),d.push(y-R*M,b-S*M),d.push(y+R*D,b+S*D);for(var C=1;C<f-1;++C){y=i[2*(C-1)],b=i[2*(C-1)+1],x=i[2*C],T=i[2*C+1],E=i[2*(C+1)],A=i[2*(C+1)+1],R=-(b-T),S=y-x,R/=P=Math.sqrt(R*R+S*S),S/=P,R*=v,S*=v,O=-(T-A),w=x-E,O/=P=Math.sqrt(O*O+w*w),w/=P,O*=v,w*=v;var F=x-y,B=b-T,N=x-E,L=A-T,G=F*N+B*L,U=B*N-L*F,k=U<0;if(Math.abs(U)<.001*Math.abs(G))d.push(x-R*M,T-S*M),d.push(x+R*D,T+S*D),G>=0&&(o.join===yo.ROUND?p+=No(x,T,x-R*M,T-S*M,x-O*M,T-w*M,d,!1)+4:p+=2,d.push(x-O*D,T-w*D),d.push(x+O*M,T+w*M));else{var X=(-R+y)*(-S+T)-(-R+x)*(-S+b),j=(-O+E)*(-w+T)-(-O+x)*(-w+A),H=(F*j-N*X)/U,Y=(L*X-B*j)/U,z=(H-x)*(H-x)+(Y-T)*(Y-T),V=x+(H-x)*M,W=T+(Y-T)*M,q=x-(H-x)*D,K=T-(Y-T)*D,Z=k?M:D;z<=Math.min(F*F+B*B,N*N+L*L)+Z*Z*m?o.join===yo.BEVEL||z/m>g?(k?(d.push(V,W),d.push(x+R*D,T+S*D),d.push(V,W),d.push(x+O*D,T+w*D)):(d.push(x-R*M,T-S*M),d.push(q,K),d.push(x-O*M,T-w*M),d.push(q,K)),p+=2):o.join===yo.ROUND?k?(d.push(V,W),d.push(x+R*D,T+S*D),p+=No(x,T,x+R*D,T+S*D,x+O*D,T+w*D,d,!0)+4,d.push(V,W),d.push(x+O*D,T+w*D)):(d.push(x-R*M,T-S*M),d.push(q,K),p+=No(x,T,x-R*M,T-S*M,x-O*M,T-w*M,d,!1)+4,d.push(x-O*M,T-w*M),d.push(q,K)):(d.push(V,W),d.push(q,K)):(d.push(x-R*M,T-S*M),d.push(x+R*D,T+S*D),o.join===yo.ROUND?p+=k?No(x,T,x+R*D,T+S*D,x+O*D,T+w*D,d,!0)+2:No(x,T,x-R*M,T-S*M,x-O*M,T-w*M,d,!1)+2:o.join===yo.MITER&&z/m<=g&&(k?(d.push(q,K),d.push(q,K)):(d.push(V,W),d.push(V,W)),p+=2),d.push(x-O*M,T-w*M),d.push(x+O*D,T+w*D),p+=2)}}y=i[2*(f-2)],b=i[2*(f-2)+1],x=i[2*(f-1)],R=-(b-(T=i[2*(f-1)+1])),S=y-x,R/=P=Math.sqrt(R*R+S*S),S/=P,R*=v,S*=v,d.push(x-R*M,T-S*M),d.push(x+R*D,T+S*D),h||(o.cap===bo.ROUND?p+=No(x-R*(M-D)*.5,T-S*(M-D)*.5,x-R*M,T-S*M,x+R*D,T+S*D,d,!1)+2:o.cap===bo.SQUARE&&(p+=Bo(x,T,R,S,M,D,!1,d)));var Q=e.indices,J=Ao.epsilon*Ao.epsilon;for(C=_;C<p+_-2;++C)y=d[2*C],b=d[2*C+1],x=d[2*(C+1)],T=d[2*(C+1)+1],E=d[2*(C+2)],A=d[2*(C+2)+1],Math.abs(y*(T-A)+x*(A-b)+E*(b-T))<J||Q.push(C,C+1,C+2)}}(t,e)}var Go,Uo,ko=function(){function t(){}return t.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,f=u*u+l*l,p=a*u+h*l,_=n*Math.sqrt(d)/c,v=n*Math.sqrt(f)/c,m=_*p/d,g=v*p/f,y=_*l+v*h,b=_*u+v*a,x=h*(v+m),T=a*(v+m),E=l*(_+g),A=u*(_+g);return{cx:y+t,cy:b+e,radius:n,startAngle:Math.atan2(T-b,x-y),endAngle:Math.atan2(A-b,E-y),anticlockwise:h*u>l*a}},t.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=Ao._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/$t)),c=u/(2*l),d=2*c,f=Math.cos(c),p=Math.sin(c),_=l-1,v=_%1/_,m=0;m<=_;++m){var g=c+o+d*(m+v*m),y=Math.cos(g),b=-Math.sin(g);h.push((f*y+p*b)*n+r,(f*-b+p*y)*n+i)}},t}(),Xo=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,f=0,p=0,_=0,v=0,m=0,g=0,y=t,b=e,x=1;x<=10;++x)m=y-(_=(p=(f=(d=1-(u=x/10))*d)*d)*t+3*f*u*r+3*d*(l=u*u)*n+(c=l*u)*s),g=b-(v=p*e+3*f*u*i+3*d*l*o+c*a),y=_,b=v,h+=Math.sqrt(m*m+g*g);return h},t.curveTo=function(e,r,i,n,o,s,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=Ao._segmentsCount(t.curveLength(h,u,e,r,i,n,o,s)),c=0,d=0,f=0,p=0,_=0;a.push(h,u);for(var v=1,m=0;v<=l;++v)f=(d=(c=1-(m=v/l))*c)*c,_=(p=m*m)*m,a.push(f*h+3*d*m*e+3*c*p*i+_*o,f*u+3*d*m*r+3*c*p*n+_*s)},t}(),jo=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,f=2*Math.sqrt(l+c+d),p=Math.sqrt(l),_=2*l*p,v=2*Math.sqrt(d),m=c/p;return(_*f+p*c*(f-v)+(4*d*l-c*c)*Math.log((2*p+m+f)/(m+v)))/(4*_)},t.curveTo=function(e,r,i,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=Ao._segmentsCount(t.curveLength(s,a,e,r,i,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=s+(e-s)*d,l=a+(r-a)*d,o.push(u+(e+(i-e)*d-u)*d,l+(r+(n-r)*d-l)*d)}},t}(),Ho=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Yo=((Go={})[Jt.POLY]=Po,Go[Jt.CIRC]=Io,Go[Jt.ELIP]=Io,Go[Jt.RECT]=Mo,Go[Jt.RREC]=Fo,Go),zo=[],Vo=[],Wo=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),qo=new re,Ko=function(t){function e(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new be,e.boundsDirty=-1,e}return Oo(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Vo.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),zo.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new Wo(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new Wo(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,qo):qo.copyFrom(t),i.shape.contains(qo.x,qo.y))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(qo.x,qo.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,e=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var n=this.shapeIndex;n<e.length;n++){this.shapeIndex++;var o=e[n],s=o.fillStyle,a=o.lineStyle;Yo[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(s.visible||a.visible)&&this.processHoles(o.holes);for(var h=0;h<2;h++){var u=0===h?s:a;if(u.visible){var l=u.texture.baseTexture,c=this.indices.length,d=this.points.length/2;l.wrapMode=S.REPEAT,0===h?this.processFill(o):this.processLine(o);var f=this.points.length/2-d;0!==f&&(r&&!this._compareStyles(i,u)&&(r.end(c,d),r=null),r||((r=zo.pop()||new Ho).begin(u,c,d),this.batches.push(r),i=u),this.addUvs(this.points,t,u.texture,d,f,u.matrix))}}}var p=this.indices.length,_=this.points.length/2;if(r&&r.end(p,_),0!==this.batches.length){var v=_>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&v===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=v?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++Ye._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Vo.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=Vo.pop();n||((n=new qi).texArray=new Ki),n.texArray.count=0,n.start=0,n.size=0,n.type=b.TRIANGLES;var o=0,s=null,a=0,h=!1,u=b.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,f=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?b.LINES:b.TRIANGLES,s=null,o=8,t++),s!==f&&(s=f,f._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=Vo.pop())||((n=new qi).texArray=new Ki),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),f.touched=1,f._batchEnabled=t,f._batchLocation=o,f.wrapMode=S.REPEAT,n.texArray.elements[n.texArray.count++]=f,o++)),n.size+=c.size,l+=c.size,a=f._batchLocation,this.addColors(r,d.color,d.alpha,c.attribSize,c.attribStart),this.addTextureIds(i,a,c.attribSize,c.attribStart)}Ye._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?Po.triangulate(t,this):Yo[t.type].triangulate(t,this)},e.prototype.processLine=function(t){Lo(t,this);for(var e=0;e<t.holes.length;e++)Lo(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Yo[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i,n){void 0===n&&(n=0);var o=Rt((e>>16)+(65280&e)+((255&e)<<16),r);t.length=Math.max(t.length,n+i);for(var s=0;s<i;s++)t[n+s]=o},e.prototype.addTextureIds=function(t,e,r,i){void 0===i&&(i=0),t.length=Math.max(t.length,i+r);for(var n=0;n<r;n++)t[i+n]=e},e.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,s=r+2*i,a=e.frame,h=a.width/n.width,u=a.height/n.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[r]+o),f=Math.floor(t[r+1]+o),p=r+2;p<s;p+=2)d=Math.min(d,Math.floor(t[p]+o)),f=Math.min(f,Math.floor(t[p+1]+o));for(l-=d,c-=f,p=r;p<s;p+=2)t[p]=(t[p]+l)*h,t[p+1]=(t[p+1]+c)*u},e.BATCHABLE_SIZE=100,e}($i),Zo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=bo.BUTT,e.join=yo.MITER,e.miterLimit=10,e}return Oo(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Ro),Qo=new Float32Array(3),Jo={},$o=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new Ro,r._lineStyle=new Zo,r._matrix=null,r._holeMode=!1,r.state=ai.for2d(),r._geometry=e||new Ko,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=y.NORMAL,r}return Oo(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),"number"==typeof t&&(t={width:t,color:e,alpha:r,alignment:i,native:n}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:ar.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:bo.BUTT,join:yo.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ae,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ae,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),jo.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),Xo.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=ko.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=$t:o&&i<=n&&(i+=$t),0==n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return ko.arc(s,a,t,e,r,i,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:ar.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:ar.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new ne(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new he(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new oe(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new se(t,e,r,i))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new ae(t);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==Jt.RECT||t[0].matrix||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:gt(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!Jo[r]){for(var i=t.plugins[r].MAX_TEXTURES,n=new Int32Array(i),o=0;o<i;o++)n[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new le,default:xr.from({uSamplers:n},!0)},a=t.plugins[r]._shader.program;Jo[r]=new si(a,s)}e=Jo[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=gt(this.tint,Qo),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],f=h[c+1];u[l++]=r*d+n*f+s,u[l++]=o*f+i*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new re,e}(Se),ts={buildPoly:Po,buildCircle:Io,buildRectangle:Mo,buildRoundedRectangle:Fo,buildLine:Lo,ArcUtils:ko,BezierUtils:Xo,QuadraticUtils:jo,BatchPart:Ho,FILL_COMMANDS:Yo,BATCH_POOL:zo,DRAW_CALL_POOL:Vo},es=function(t,e){return es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},es(t,e)},rs=new re,is=new Uint16Array([0,1,2,0,2,3]),ns=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new ue(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=y.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||ar.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=is,r.pluginName="batch",r.isSprite=!0,r._roundPixels=nt.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}es(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Bt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Bt(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,f=0,p=0,_=0;if(u?(d=(f=u.x-c._x*l.width)+u.width,p=(_=u.y-c._y*l.height)+u.height):(d=(f=-c._x*l.width)+l.width,p=(_=-c._y*l.height)+l.height),h[0]=r*f+n*_+s,h[1]=o*_+i*f+a,h[2]=r*d+n*_+s,h[3]=o*_+i*d+a,h[4]=r*d+n*p+s,h[5]=o*p+i*d+a,h[6]=r*f+n*p+s,h[7]=o*p+i*f+a,this._roundPixels)for(var v=nt.RESOLUTION,m=0;m<h.length;++m)h[m]=Math.round((h[m]*v|0)/v)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,f=-i._y*r.height,p=f+r.height;e[0]=o*c+a*f+u,e[1]=h*f+s*c+l,e[2]=o*d+a*f+u,e[3]=h*f+s*d+l,e[4]=o*d+a*p+u,e[5]=h*p+s*d+l,e[6]=o*c+a*p+u,e[7]=h*p+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new be),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ne),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,rs);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return rs.x>=i&&rs.x<i+e&&(n=-r*this.anchor.y,rs.y>=n&&rs.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof ar?t:ar.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Bt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Bt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||ar.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Se),os=function(t,e){return os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},os(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Uo||(Uo={}));var ss={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Uo.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},as=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hs=function(){function t(t){this.styleID=0,this.reset(),cs(this,t,t)}return t.prototype.clone=function(){var e={};return cs(e,this,ss),new t(e)},t.prototype.reset=function(){cs(this,ss,ss)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=ls(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=ls(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=ls(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&as.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function us(t){return"number"==typeof t?yt(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function ls(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=us(t[e]);return t}return us(t)}function cs(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var ds={willReadFrequently:!0},fs=function(){function t(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,r,i,n){void 0===n&&(n=t._canvas),i=null==i?r.wordWrap:i;var o=r.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=n.getContext("2d",ds);a.font=o;for(var h=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var d=a.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;u[c]=d,l=Math.max(l,d)}var f=l+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,_=Math.max(p,s.fontSize+r.strokeThickness)+(h.length-1)*(p+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new t(e,r,f,_,h,u,p+r.leading,l,s)},t.wordWrap=function(e,r,i){void 0===i&&(i=t._canvas);for(var n=i.getContext("2d",ds),o=0,s="",a="",h=Object.create(null),u=r.letterSpacing,l=r.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),f=!c,p=r.wordWrapWidth+u,_=t.tokenize(e),v=0;v<_.length;v++){var m=_[v];if(t.isNewline(m)){if(!d){a+=t.addLine(s),f=!c,s="",o=0;continue}m=" "}if(c){var g=t.isBreakingSpace(m),y=t.isBreakingSpace(s[s.length-1]);if(g&&y)continue}var b=t.getFromCache(m,u,h,n);if(b>p)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(m,r.breakWords))for(var x=t.wordWrapSplit(m),T=0;T<x.length;T++){for(var E=x[T],A=1;x[T+A];){var R=x[T+A],S=E[E.length-1];if(t.canBreakChars(S,R,m,T,r.breakWords))break;E+=R,A++}T+=E.length-1;var O=t.getFromCache(E,u,h,n);O+o>p&&(a+=t.addLine(s),f=!1,s="",o=0),s+=E,o+=O}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var w=v===_.length-1;a+=t.addLine(m,!w),f=!1,s="",o=0}else b+o>p&&(f=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(m)||f)&&(s+=m,o+=b)}return a+t.addLine(s,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),r?e+"\n":e},t.getFromCache=function(t,e,r,i){var n=r[t];if("number"!=typeof n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var i=e[r];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],i="";if("string"!=typeof e)return r;for(var n=0;n<e.length;n++){var o=e[n],s=e[n+1];t.isBreakingSpace(o,s)||t.isNewline(o)?(""!==i&&(r.push(i),i=""),r.push(o)):i+=o}return""!==i&&r.push(i),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,i,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},i=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=Math.ceil(t.HEIGHT_MULTIPLIER*a);a=a*t.BASELINE_MULTIPLIER|0,i.width=s,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var u=n.getImageData(0,0,s,h).data,l=u.length,c=4*s,d=0,f=0,p=!1;for(d=0;d<a;++d){for(var _=0;_<c;_+=4)if(255!==u[f+_]){p=!0;break}if(p)break;f+=c}for(r.ascent=a-d,f=l-c,p=!1,d=h;d>a;--d){for(_=0;_<c;_+=4)if(255!==u[f+_]){p=!0;break}if(p)break;f-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),i=r.getContext("2d",ds);if(i&&i.measureText)return t.__canvas=r,r;e=nt.ADAPTER.createCanvas()}catch(t){e=nt.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",ds)),t.__context},enumerable:!1,configurable:!0}),t}();fs._fonts={},fs.METRICS_STRING="|ÉqÅ",fs.BASELINE_SYMBOL="M",fs.BASELINE_MULTIPLIER=1.4,fs.HEIGHT_MULTIPLIER=2,fs._newlines=[10,13],fs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var ps={texture:!0,children:!1,baseTexture:!0},_s=function(t){function e(e,r,i){var n=this,o=!1;i||(i=nt.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;var s=ar.from(i);return s.orig=new ne,s.trim=new ne,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=i.getContext("2d",{willReadFrequently:!0}),n._resolution=nt.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=r,n.localStyleID=-1,n}return function(t,e){function r(){this.constructor=t}os(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,n,o=this.context,s=fs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,h=s.height,u=s.lines,l=s.lineHeight,c=s.lineWidths,d=s.maxLineWidth,f=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+2*r.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=r.strokeThickness,o.textBaseline=r.textBaseline,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit;for(var p=r.dropShadow?2:1,_=0;_<p;++_){var v=r.dropShadow&&0===_,m=v?Math.ceil(Math.max(1,h)+2*r.padding):0,g=m*this._resolution;if(v){o.fillStyle="black",o.strokeStyle="black";var y=r.dropShadowColor,b=gt("number"==typeof y?y:bt(y)),x=r.dropShadowBlur*this._resolution,T=r.dropShadowDistance*this._resolution;o.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+r.dropShadowAlpha+")",o.shadowBlur=x,o.shadowOffsetX=Math.cos(r.dropShadowAngle)*T,o.shadowOffsetY=Math.sin(r.dropShadowAngle)*T+g}else o.fillStyle=this._generateFillStyle(r,u,s),o.strokeStyle=r.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var E=(l-f.fontSize)/2;(!e.nextLineHeightBehavior||l-f.fontSize<0)&&(E=0);for(var A=0;A<u.length;A++)i=r.strokeThickness/2,n=r.strokeThickness/2+A*l+f.ascent+E,"right"===r.align?i+=d-c[A]:"center"===r.align&&(i+=(d-c[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(u[A],i+r.padding,n+r.padding-m,!0),r.fill&&this.drawLetterSpacing(u[A],i+r.padding,n+r.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,r,i,n){void 0===n&&(n=!1);var o=this._style.letterSpacing,s=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(0===o||s)return s&&(this.context.letterSpacing=o,this.context.textLetterSpacing=o),void(n?this.context.strokeText(t,r,i):this.context.fillText(t,r,i));for(var a=r,h=Array.from?Array.from(t):t.split(""),u=this.context.measureText(t).width,l=0,c=0;c<h.length;++c){var d=h[c];n?this.context.strokeText(d,a,i):this.context.fillText(d,a,i);for(var f="",p=c+1;p<h.length;++p)f+=h[p];a+=u-(l=this.context.measureText(f).width)+o,u=l}},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Vt(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=t.width/this._resolution,r.trim.height=r._frame.height=t.height/this._resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),r.updateUvs(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(e,r){return this.updateText(!0),-1===this._textureID&&(e=!1),t.prototype.getBounds.call(this,e,r)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=this.canvas.width/this._resolution-o-2*s,h=this.canvas.height/this._resolution-o-2*s,u=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,d=1;d<c;++d)l.push(d/c);if(u.unshift(n[0]),l.unshift(0),u.push(n[n.length-1]),l.push(1),t.fillGradientType===Uo.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,h+s);var f=r.fontProperties.fontSize+t.strokeThickness;for(d=0;d<e.length;d++){var p=r.lineHeight*(d-1)+f,_=r.lineHeight*d,v=_;d>0&&p>_&&(v=(_+p)/2);var m=_+f,g=r.lineHeight*(d+1),y=m;d+1<e.length&&g<m&&(y=(m+g)/2);for(var b=(y-v)/h,x=0;x<u.length;x++){var T;T="number"==typeof l[x]?l[x]:x/u.length;var E=Math.min(1,Math.max(0,v/h+T*b));E=Number(E.toFixed(5)),i.addColorStop(E,u[x])}}}else{i=this.context.createLinearGradient(s,h/2,a+s,h/2);var A=u.length+1,R=1;for(d=0;d<u.length;d++){var S;S="number"==typeof l[d]?l[d]:R/A,i.addColorStop(S,u[d]),R++}}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},ps,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Bt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Bt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof hs?t:new hs(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(ns);nt.UPLOADS_PER_FRAME=4;var vs=function(t,e){return vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},vs(t,e)},ms=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function gs(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ar){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function ys(t,e){if(t.baseTexture instanceof Ye){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function bs(t,e){if(t._texture&&t._texture instanceof ar){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function xs(t,e){return e instanceof _s&&(e.updateText(!0),!0)}function Ts(t,e){if(e instanceof hs){var r=e.toFontString();return fs.measureFont(r),!0}return!1}function Es(t,e){if(t instanceof _s){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function As(t,e){return t instanceof hs&&(-1===e.indexOf(t)&&e.push(t),!0)}var Rs=function(){function t(t){var e=this;this.limiter=new ms(nt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Es),this.registerFindHook(As),this.registerFindHook(gs),this.registerFindHook(ys),this.registerFindHook(bs),this.registerUploadHook(xs),this.registerUploadHook(Ts)}return t.prototype.upload=function(t,e){var r=this;return"function"==typeof t&&(e=t,t=null),e&&Ut("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise((function(i){t&&r.add(t);var n=function(){null==e||e(),i()};r.queue.length?(r.completes.push(n),r.ticking||(r.ticking=!0,Fe.system.addOnce(r.tick,r,Pe.UTILITY))):n()}))},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Fe.system.addOnce(this.tick,this,Pe.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,r=0,i=n.length;r<i;r++)n[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Se)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&Fe.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Ss(t,e){return e instanceof Ye&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Os(t,e){if(!(e instanceof $o))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&Ss(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function ws(t,e){return t instanceof $o&&(e.push(t),!0)}var Ps=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(ws),r.registerUploadHook(Ss),r.registerUploadHook(Os),r}return function(t,e){function r(){this.constructor=t}vs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.extension={name:"prepare",type:Oe.RendererPlugin},e}(Rs),Is=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),Ms=function(){function t(t,e,r){void 0===r&&(r=null),this.linkedSheets=[],this._texture=t instanceof ar?t:null,this.baseTexture=t instanceof Ye?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=Qt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){var r=this;return e&&Ut("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise((function(i){r._callback=function(t){null==e||e(t),i(t)},r._batchIndex=0,r._frameKeys.length<=t.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()}))},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE;r-e<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],o=this._frames[n],s=o.frame;if(s){var a,h=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new ne(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new ne(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new ne(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new ne(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new ar(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),ar.addToCache(this.textures[n],n)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),Ds=function(){function t(){}return t.use=function(e,r){var i,n,o=this,s=e.name+"_image";if(e.data&&e.type===Dn.TYPE.JSON&&e.data.frames&&!o.resources[s]){var a=null===(n=null===(i=e.data)||void 0===i?void 0:i.meta)||void 0===n?void 0:n.related_multi_packs;if(Array.isArray(a))for(var h=function(t){if("string"!=typeof t)return"continue";var r=t.replace(".json",""),i=ht.resolve(e.url.replace(o.baseUrl,""),t);if(o.resources[r]||Object.values(o.resources).some((function(t){return ht.format(ht.parse(t.url))===i})))return"continue";var n={crossOrigin:e.crossOrigin,loadType:Dn.LOAD_TYPE.XHR,xhrType:Dn.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};o.add(r,i,n)},u=0,l=a;u<l.length;u++)h(l[u]);var c={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=t.getResourcePath(e,o.baseUrl);o.add(s,d,c,(function(t){if(t.error)r(t.error);else{var i=new Ms(t.texture,e.data,e.url);i.parse().then((function(){e.spritesheet=i,e.textures=i.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:ht.resolve(t.url.replace(e,""),t.data.meta.image)},t.extension=Oe.Loader,t}(),Cs=function(t,e){return Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Cs(t,e)};function Fs(t,e){function r(){this.constructor=t}Cs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Bs=new re,Ns=function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=t.call(this,e)||this;return n.tileTransform=new ye,n._width=r,n._height=i,n.uvMatrix=n.texture.uvMatrix||new li(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return Fs(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ne),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Bs);var e=this._width,r=this._height,i=-e*this.anchor._x;if(Bs.x>=i&&Bs.x<i+e){var n=-r*this.anchor._y;if(Bs.y>=n&&Bs.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return new e(t instanceof ar?t:ar.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(ns),Ls="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Gs=new le,Us=function(t){function e(e){var r=t.call(this,e)||this;return e.runners.contextChange.add(r),r.quad=new yr,r.state=ai.for2d(),r}return Fs(e,t),e.prototype.contextChange=function(){var t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=si.from(Ls,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=t.context.webGLVersion>1?si.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):si.from(Ls,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)},e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);var n=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;(i=r.uvs)[0]=i[6]=-n,i[1]=i[3]=-o,i[2]=i[4]=1-n,i[5]=i[7]=1-o,r.invalidate();var s=t._texture,a=s.baseTexture,h=a.alphaMode>0,u=t.tileTransform.localTransform,l=t.uvMatrix,c=a.isPowerOfTwo&&s.frame.width===a.width&&s.frame.height===a.height;c&&(a._glTextures[e.CONTEXT_UID]?c=a.wrapMode!==S.CLAMP:a.wrapMode===S.CLAMP&&(a.wrapMode=S.REPEAT));var d=c?this.simpleShader:this.shader,f=s.width,p=s.height,_=t._width,v=t._height;Gs.set(u.a*f/_,u.b*f/v,u.c*p/_,u.d*p/v,u.tx/_,u.ty/v),Gs.invert(),c?Gs.prepend(l.mapCoord):(d.uniforms.uMapCoord=l.mapCoord.toArray(!0),d.uniforms.uClampFrame=l.uClampFrame,d.uniforms.uClampOffset=l.uClampOffset),d.uniforms.uTransform=Gs.toArray(!0),d.uniforms.uColor=St(t.tint,t.worldAlpha,d.uniforms.uColor,h),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=s,e.shader.bind(d),e.geometry.bind(r),this.state.blendMode=Et(t.blendMode,h),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:Oe.RendererPlugin},e}(Sr),ks=function(t,e){return ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ks(t,e)};function Xs(t,e){function r(){this.constructor=t}ks(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var js=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Hs=new re,Ys=new ae,zs=function(t){function e(e,r,i,n){void 0===n&&(n=b.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,o.shader=r,o.state=i||ai.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=nt.ROUND_PIXELS,o.batchUvs=null,o}return Xs(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===b.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,n=i.a,o=i.b,s=i.c,a=i.d,h=i.tx,u=i.ty,l=this.vertexData,c=0;c<l.length/2;c++){var d=e[2*c],f=e[2*c+1];l[2*c]=n*d+s*f+h,l[2*c+1]=o*d+a*f+u}if(this._roundPixels){var p=nt.RESOLUTION;for(c=0;c<l.length;++c)l[c]=Math.round((l[c]*p|0)/p)}this.vertexDirty=r}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new js(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Hs);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=Ys.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],Ys.contains(Hs.x,Hs.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Se),Vs=function(t){function e(e,r){var i=this,n={uSampler:e,alpha:1,uTextureMatrix:le.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=t.call(this,r.program||oi.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,i.uvMatrix=new li(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return Xs(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;St(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(si),Ws=function(t){function e(e,r,i){var n=t.call(this)||this,o=new dr(e),s=new dr(r,!0),a=new dr(i,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,E.FLOAT).addAttribute("aTextureCoord",s,2,!1,E.FLOAT).addIndex(a),n._updateId=-1,n}return Xs(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(mr),qs=function(t,e){return qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},qs(t,e)},Ks=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},Zs=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}r[n].push(s)}var f=new Ks;return r.info.forEach((function(t){return f.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return f.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return f.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return f.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return f.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),r.distanceField.forEach((function(t){return f.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType})})),f},t}(),Qs=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new Ks,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=t.getElementsByTagName("distanceField"),h=0;h<r.length;h++)e.info.push({face:r[h].getAttribute("face"),size:parseInt(r[h].getAttribute("size"),10)});for(h=0;h<i.length;h++)e.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(h=0;h<n.length;h++)e.page.push({id:parseInt(n[h].getAttribute("id"),10)||0,file:n[h].getAttribute("file")});for(h=0;h<o.length;h++){var u=o[h];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(h=0;h<s.length;h++)e.kerning.push({first:parseInt(s[h].getAttribute("first"),10),second:parseInt(s[h].getAttribute("second"),10),amount:parseInt(s[h].getAttribute("amount"),10)});for(h=0;h<a.length;h++)e.distanceField.push({fieldType:a[h].getAttribute("fieldType"),distanceRange:parseInt(a[h].getAttribute("distanceRange"),10)});return e},t}(),Js=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new globalThis.DOMParser).parseFromString(t,"text/xml");return Qs.test(e)}return!1},t.parse=function(t){var e=(new globalThis.DOMParser).parseFromString(t,"text/xml");return Qs.parse(e)},t}(),$s=[Zs,Qs,Js];function ta(t){for(var e=0;e<$s.length;e++)if($s[e].test(t))return $s[e];return null}function ea(t,e,r,i,n,o,s){var a=r.text,h=r.fontProperties;e.translate(i,n),e.scale(o,o);var u=s.strokeThickness/2,l=-s.strokeThickness/2;if(e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=function(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=t.width/i-h-2*u,c=t.height/i-h-2*u,d=a.slice(),f=r.fillGradientStops.slice();if(!f.length)for(var p=d.length+1,_=1;_<p;++_)f.push(_/p);if(d.unshift(a[0]),f.unshift(0),d.push(a[a.length-1]),f.push(1),r.fillGradientType===Uo.LINEAR_VERTICAL){s=e.createLinearGradient(l/2,u,l/2,c+u);var v=0,m=(o.fontProperties.fontSize+r.strokeThickness)/c;for(_=0;_<n.length;_++)for(var g=o.lineHeight*_,y=0;y<d.length;y++){var b=g/c+("number"==typeof f[y]?f[y]:y/d.length)*m,x=Math.max(v,b);x=Math.min(x,1),s.addColorStop(x,d[y]),v=x}}else{s=e.createLinearGradient(u,c/2,l+u,c/2);var T=d.length+1,E=1;for(_=0;_<d.length;_++){var A;A="number"==typeof f[_]?f[_]:E/T,s.addColorStop(A,d[_]),E++}}return s}(t,e,s,o,[a],r),e.strokeStyle=s.stroke,s.dropShadow){var c=s.dropShadowColor,d=gt("number"==typeof c?c:bt(c)),f=s.dropShadowBlur*o,p=s.dropShadowDistance*o;e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=f,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;s.stroke&&s.strokeThickness&&e.strokeText(a,u,l+r.lineHeight-h.descent),s.fill&&e.fillText(a,u,l+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ra(t){return Array.from?Array.from(t):t.split("")}function ia(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var na=function(){function t(t,e,r){var i,n,o=t.info[0],s=t.common[0],a=t.page[0],h=t.distanceField[0],u=Qt(a.file),l={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=l;for(var c=0;c<t.page.length;c++){var d=t.page[c],f=d.id,p=d.file;l[f]=e instanceof Array?e[c]:e[p],(null==h?void 0:h.fieldType)&&"none"!==h.fieldType&&(l[f].baseTexture.alphaMode=w.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=O.OFF)}for(c=0;c<t.char.length;c++){var _=t.char[c],v=(f=_.id,_.page),m=t.char[c],g=m.x,y=m.y,b=m.width,x=m.height,T=m.xoffset,E=m.yoffset,A=m.xadvance;y/=u,b/=u,x/=u,T/=u,E/=u,A/=u;var R=new ne((g/=u)+l[v].frame.x/u,y+l[v].frame.y/u,b,x);this.chars[f]={xOffset:T,yOffset:E,xAdvance:A,kerning:{},texture:new ar(l[v].baseTexture,R),page:v}}for(c=0;c<t.kerning.length;c++){var S=t.kerning[c],P=S.first,I=S.second,M=S.amount;P/=u,I/=u,M/=u,this.chars[I]&&(this.chars[I].kerning[P]=M)}this.distanceFieldRange=null==h?void 0:h.distanceRange,this.distanceFieldType=null!==(n=null===(i=null==h?void 0:h.fieldType)||void 0===i?void 0:i.toLowerCase())&&void 0!==n?n:"none"}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,i){var n;if(e instanceof Ks)n=e;else{var o=ta(e);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(e)}r instanceof ar&&(r=[r]);var s=new t(n,r,i);return t.available[s.font]=s,s},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,i),o=n.chars,s=n.padding,a=n.resolution,h=n.textureWidth,u=n.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,ra(n))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=r instanceof hs?r:new hs(r),d=h,f=new Ks;f.info[0]={face:c.fontFamily,size:c.fontSize},f.common[0]={lineHeight:c.fontSize};for(var p,_,v,m=0,g=0,y=0,b=[],x=0;x<l.length;x++){p||((p=nt.ADAPTER.createCanvas()).width=h,p.height=u,_=p.getContext("2d"),v=new Ye(p,{resolution:a}),b.push(new ar(v)),f.page.push({id:b.length-1,file:""}));var T=l[x],E=fs.measureText(T,c,!1,p),A=E.width,R=Math.ceil(E.height),S=Math.ceil(("italic"===c.fontStyle?2:1)*A);if(g>=u-R*a){if(0===g)throw new Error("[BitmapFont] textureHeight "+u+"px is too small (fontFamily: '"+c.fontFamily+"', fontSize: "+c.fontSize+"px, char: '"+T+"')");--x,p=null,_=null,v=null,g=0,m=0,y=0}else if(y=Math.max(R+E.fontProperties.descent,y),S*a+m>=d){if(0===m)throw new Error("[BitmapFont] textureWidth "+h+"px is too small (fontFamily: '"+c.fontFamily+"', fontSize: "+c.fontSize+"px, char: '"+T+"')");--x,g+=y*a,g=Math.ceil(g),m=0,y=0}else{ea(p,_,E,m,g,a,c);var O=ia(E.text);f.char.push({id:O,page:b.length-1,x:m/a,y:g/a,width:S,height:R,xoffset:0,yoffset:0,xadvance:Math.ceil(A-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),m+=(S+2*s)*a,m=Math.ceil(m)}}x=0;for(var w=l.length;x<w;x++)for(var P=l[x],I=0;I<w;I++){var M=l[I],D=_.measureText(P).width,C=_.measureText(M).width,F=_.measureText(P+M).width-(D+C);F&&f.kerning.push({first:ia(P),second:ia(M),amount:F})}var B=new t(f,b,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=B,B},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),oa=[],sa=[],aa=[],ha=function(t){function e(r,i){void 0===i&&(i={});var n=t.call(this)||this;n._tint=16777215;var o=Object.assign({},e.styleDefaults,i),s=o.align,a=o.tint,h=o.maxWidth,u=o.letterSpacing,l=o.fontName,c=o.fontSize;if(!na.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._font=void 0,n._fontName=l,n._fontSize=c,n.text=r,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new ue((function(){n.dirty=!0}),n,0,0),n._roundPixels=nt.ROUND_PIXELS,n.dirty=!0,n._resolution=nt.RESOLUTION,n._autoResolution=!0,n._textureCache={},n}return function(t,e){function r(){this.constructor=t}qs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(){for(var t,e=na.available[this._fontName],r=this.fontSize,i=r/e.size,n=new re,o=[],s=[],a=[],h=ra(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),u=this._maxWidth*e.size/r,l="none"===e.distanceFieldType?oa:sa,c=null,d=0,f=0,p=0,_=-1,v=0,m=0,g=0,b=0,x=0;x<h.length;x++){var T=ia(j=h[x]);if(/(?:\s)/.test(j)&&(_=x,v=d,b++),"\r"!==j&&"\n"!==j){var E=e.chars[T];if(E){c&&E.kerning[c]&&(n.x+=E.kerning[c]);var A=aa.pop()||{texture:ar.EMPTY,line:0,charCode:0,prevSpaces:0,position:new re};A.texture=E.texture,A.line=p,A.charCode=T,A.position.x=n.x+E.xOffset+this._letterSpacing/2,A.position.y=n.y+E.yOffset,A.prevSpaces=b,o.push(A),d=A.position.x+Math.max(E.xAdvance-E.xOffset,E.texture.orig.width),n.x+=E.xAdvance+this._letterSpacing,g=Math.max(g,E.yOffset+E.texture.height),c=T,-1!==_&&u>0&&n.x>u&&(Ft(o,1+_-++m,1+x-_),x=_,_=-1,s.push(v),a.push(o.length>0?o[o.length-1].prevSpaces:0),f=Math.max(f,v),p++,n.x=0,n.y+=e.lineHeight,c=null,b=0)}}else s.push(d),a.push(-1),f=Math.max(f,d),++p,++m,n.x=0,n.y+=e.lineHeight,c=null,b=0}var R=h[h.length-1];"\r"!==R&&"\n"!==R&&(/(?:\s)/.test(R)&&(d=v),s.push(d),f=Math.max(f,d),a.push(-1));var S=[];for(x=0;x<=p;x++){var O=0;"right"===this._align?O=f-s[x]:"center"===this._align?O=(f-s[x])/2:"justify"===this._align&&(O=a[x]<0?0:(f-s[x])/a[x]),S.push(O)}var w=o.length,P={},I=[],M=this._activePagesMeshData;for(l.push.apply(l,M),x=0;x<w;x++){var D=(Y=o[x].texture).baseTexture.uid;if(!P[D]){if(!(Q=l.pop())){var C=new Ws,F=void 0,B=void 0;"none"===e.distanceFieldType?(F=new Vs(ar.EMPTY),B=y.NORMAL):(F=new Vs(ar.EMPTY,{program:oi.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),B=y.NORMAL_NPM);var N=new zs(C,F);N.blendMode=B,Q={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}Q.index=0,Q.indexCount=0,Q.vertexCount=0,Q.uvsCount=0,Q.total=0;var L=this._textureCache;L[D]=L[D]||new ar(Y.baseTexture),Q.mesh.texture=L[D],Q.mesh.tint=this._tint,I.push(Q),P[D]=Q}P[D].total++}for(x=0;x<M.length;x++)-1===I.indexOf(M[x])&&this.removeChild(M[x].mesh);for(x=0;x<I.length;x++)I[x].mesh.parent!==this&&this.addChild(I[x].mesh);for(var x in this._activePagesMeshData=I,P){var G=(Q=P[x]).total;if(!((null===(t=Q.indices)||void 0===t?void 0:t.length)>6*G)||Q.vertices.length<2*zs.BATCHABLE_SIZE)Q.vertices=new Float32Array(8*G),Q.uvs=new Float32Array(8*G),Q.indices=new Uint16Array(6*G);else for(var U=Q.total,k=Q.vertices,X=4*U*2;X<k.length;X++)k[X]=0;Q.mesh.size=6*G}for(x=0;x<w;x++){var j,H=(j=o[x]).position.x+S[j.line]*("justify"===this._align?j.prevSpaces:1);this._roundPixels&&(H=Math.round(H));var Y,z=H*i,V=j.position.y*i,W=P[(Y=j.texture).baseTexture.uid],q=Y.frame,K=Y._uvs,Z=W.index++;W.indices[6*Z+0]=0+4*Z,W.indices[6*Z+1]=1+4*Z,W.indices[6*Z+2]=2+4*Z,W.indices[6*Z+3]=0+4*Z,W.indices[6*Z+4]=2+4*Z,W.indices[6*Z+5]=3+4*Z,W.vertices[8*Z+0]=z,W.vertices[8*Z+1]=V,W.vertices[8*Z+2]=z+q.width*i,W.vertices[8*Z+3]=V,W.vertices[8*Z+4]=z+q.width*i,W.vertices[8*Z+5]=V+q.height*i,W.vertices[8*Z+6]=z,W.vertices[8*Z+7]=V+q.height*i,W.uvs[8*Z+0]=K.x0,W.uvs[8*Z+1]=K.y0,W.uvs[8*Z+2]=K.x1,W.uvs[8*Z+3]=K.y1,W.uvs[8*Z+4]=K.x2,W.uvs[8*Z+5]=K.y2,W.uvs[8*Z+6]=K.x3,W.uvs[8*Z+7]=K.y3}for(var x in this._textWidth=f*i,this._textHeight=(n.y+e.lineHeight)*i,P){var Q=P[x];if(0!==this.anchor.x||0!==this.anchor.y)for(var J=0,$=this._textWidth*this.anchor.x,tt=this._textHeight*this.anchor.y,et=0;et<Q.total;et++)Q.vertices[J++]-=$,Q.vertices[J++]-=tt,Q.vertices[J++]-=$,Q.vertices[J++]-=tt,Q.vertices[J++]-=$,Q.vertices[J++]-=tt,Q.vertices[J++]-=$,Q.vertices[J++]-=tt;this._maxLineHeight=g*i;var rt=Q.mesh.geometry.getBuffer("aVertexPosition"),it=Q.mesh.geometry.getBuffer("aTextureCoord"),nt=Q.mesh.geometry.getIndex();rt.data=Q.vertices,it.data=Q.uvs,nt.data=Q.indices,rt.update(),it.update(),nt.update()}for(x=0;x<o.length;x++)aa.push(o[x]);this._font=e,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var r=na.available[this._fontName],i=r.distanceFieldRange,n=r.distanceFieldType,o=r.size;if("none"!==n)for(var s=this.worldTransform,a=s.a,h=s.b,u=s.c,l=s.d,c=Math.sqrt(a*a+h*h),d=Math.sqrt(u*u+l*l),f=(Math.abs(c)+Math.abs(d))/2,p=this.fontSize/o,_=0,v=this._activePagesMeshData;_<v.length;_++)v[_].mesh.shader.uniforms.uFWidth=f*i*p*this._resolution;t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var t=na.available[this._fontName];if(!t)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!na.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var t;return null!==(t=this._fontSize)&&void 0!==t?t:na.available[this._fontName].size},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var r=this._textureCache,i="none"===na.available[this._fontName].distanceFieldType?oa:sa;i.push.apply(i,this._activePagesMeshData);for(var n=0,o=this._activePagesMeshData;n<o.length;n++){var s=o[n];this.removeChild(s.mesh)}for(var a in this._activePagesMeshData=[],i.filter((function(t){return r[t.mesh.texture.baseTexture.uid]})).forEach((function(t){t.mesh.texture=ar.EMPTY})),r)r[a].destroy(),delete r[a];this._font=null,this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Se),ua=function(){function t(){}return t.add=function(){Dn.setExtensionXhrType("fnt",Dn.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var i=ta(e.data);if(i)for(var n=t.getBaseUrl(this,e),o=i.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=na.install(o,s,!0),r())},h=0;h<o.page.length;++h){var u=o.page[h].file,l=n+u,c=!1;for(var d in this.resources){var f=this.resources[d];if(f.url===l){f.metadata.pageFile=u,f.texture?a(f):f.onAfterMiddleware.add(a),c=!0;break}}if(!c){var p={crossOrigin:e.crossOrigin,loadType:Dn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,p,a)}}else r()},t.getBaseUrl=function(e,r){var i=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),e.baseUrl&&i&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(i+="/")),(i=i.replace(e.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t.extension=Oe.Loader,t}(),la=function(t,e){return la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},la(t,e)},ca=function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,zi,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}return function(t,e){function r(){this.constructor=t}la(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(hi),da=function(t,e){return da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},da(t,e)};function fa(t,e){function r(){this.constructor=t}da(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var pa={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},_a=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),va=function(t){function e(e,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=nt.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),h=function(t){for(var e,r=pa[t],i=r.length,n=_a,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,h)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return fa(e,t),e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,P.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,P.BLIT),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(hi),ma=function(t){function e(e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=nt.FILTER_RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new va(!0,e,r,i,n),o.blurYFilter=new va(!1,e,r,i,n),o.resolution=i,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}return fa(e,t),e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,P.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(hi),ga=function(t,e){return ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ga(t,e)},ya=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,Vi,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}ga(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.tint=function(t,e){var r=[(t>>16&255)/255,0,0,0,0,0,(t>>8&255)/255,0,0,0,0,0,(255&t)/255,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(hi);ya.prototype.grayscale=ya.prototype.greyscale;var ba=function(t,e){return ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ba(t,e)},xa=function(t){function e(e,r){var i=this,n=new le;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=n,null==r&&(r=20),i.scale=new re(r,r),i}return function(t,e){function r(){this.constructor=t}ba(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(hi),Ta=function(t,e){return Ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ta(t,e)},Ea=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function r(){this.constructor=t}Ta(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(hi),Aa=function(t,e){return Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Aa(t,e)},Ra=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,Vi,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}return function(t,e){function r(){this.constructor=t}Aa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(hi),Sa=new le;Ee.prototype._cacheAsBitmap=!1,Ee.prototype._cacheData=null,Ee.prototype._cacheAsBitmapResolution=null,Ee.prototype._cacheAsBitmapMultisample=F.NONE;var Oa=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Ee.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Oa),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Ee.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Ee.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var r=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var n=this.filters[0].padding;i.pad(n)}i.ceil(nt.RESOLUTION);var o=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),a=t.renderTexture.destinationFrame.clone(),h=t.projection.transform,u=hr.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),l="cacheAsBitmap_"+Lt();this._cacheData.textureCacheId=l,Ye.addToCache(u.baseTexture,l),ar.addToCache(u,l);var c=this.transform.localTransform.copyTo(Sa).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=h,t.renderTexture.bind(o,s,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var d=new ns(u);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-i.x/i.width,d.anchor.y=-i.y/i.height,d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}},Ee.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Ee.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,n=t._projTransform;e.ceil(nt.RESOLUTION);var o=hr.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+Lt();this._cacheData.textureCacheId=s,Ye.addToCache(o.baseTexture,s),ar.addToCache(o,s);var a=Sa;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:a,skipUpdateTransform:!1}),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var h=new ns(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},Ee.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Ee.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Ee.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ye.removeFromCache(this._cacheData.textureCacheId),ar.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Ee.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Ee.prototype.name=null,Se.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++){var n=this.children[r];if(n.getChildByName){var o=n.getChildByName(t,!0);if(o)return o}}return null},Ee.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new re),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var wa=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,r=i.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=Oe.Application,t}(),Pa=function(){function t(e){var r=this;this.stage=new Se,e=Object.assign({forceCanvas:!1},e),this.renderer=Yi(e),t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(t){Ut("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),Me.add({type:Oe.Application,ref:t})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var i=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();Me.handleByList(Oe.Application,Pa._plugins),Me.add(wa);var Ia=function(t,e){return Ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ia(t,e)};function Ma(t,e){function r(){this.constructor=t}Ia(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Da=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=e,o.height=r,o.build(),o}return Ma(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}var c=n*o;for(h=0;h<c;h++){var d=h%n,f=h/n|0,p=f*this.segWidth+d,_=f*this.segWidth+d+1,v=(f+1)*this.segWidth+d,m=(f+1)*this.segWidth+d+1;i.push(p,_,v,_,m,v)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Ws),Ca=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var n=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=e,n.textureScale=i,n.build(),n}return Ma(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,f=a.y-t[l].y,p=Math.sqrt(d*d+f*f);a=t[l],s+=p/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var _=0;for(l=0;l<u-1;l++)c=2*l,o[_++]=c,o[_++]=c+1,o[_++]=c+2,o[_++]=c+2,o[_++]=c+1,o[_++]=c+3;r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Ws),Fa=function(t){function e(e,r,i){void 0===i&&(i=0);var n=this,o=new Ca(e.height,r,i),s=new Vs(e);return i>0&&(e.baseTexture.wrapMode=S.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}return Ma(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)},e}(zs),Ba=function(t){function e(e,r,i){var n=this,o=new Da(e.width,e.height,r,i),s=new Vs(ar.WHITE);return(n=t.call(this,o,s)||this).texture=e,n.autoResize=!0,n}return Ma(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,e=this.shader.texture,r=e.width,i=e.height;!this.autoResize||t.width===r&&t.height===i||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(zs),Na=function(t){function e(e,r,i,n,o){void 0===e&&(e=ar.EMPTY);var s=this,a=new Ws(r,i,n);a.getBuffer("aVertexPosition").static=!1;var h=new Vs(e);return(s=t.call(this,a,h,null,o)||this).autoUpdate=!0,s}return Ma(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(zs),La=function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,ar.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}return Ma(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(Ba),Ga=function(t,e){return Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ga(t,e)},Ua=function(t){function e(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof ar?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return function(t,e){function r(){this.constructor=t}Ga(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Fe.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Fe.shared.add(this.update,this,Pe.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(ar.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(ar.from(t[i]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof ar)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Fe.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Fe.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(ns);Me.add(dn,Tn,bn,Eo,Ps,nn,Us,ua,Jn,_o,vo,Ds,Be,Un);var ka,Xa,ja,Ha,Ya={AlphaFilter:ca,BlurFilter:ma,BlurFilterPass:va,ColorMatrixFilter:ya,DisplacementFilter:xa,FXAAFilter:Ea,NoiseFilter:Ra};function za(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))}function Va(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}!function(t){t[t.cTFETC1=0]="cTFETC1",t[t.cTFETC2=1]="cTFETC2",t[t.cTFBC1=2]="cTFBC1",t[t.cTFBC3=3]="cTFBC3",t[t.cTFBC4=4]="cTFBC4",t[t.cTFBC5=5]="cTFBC5",t[t.cTFBC7=6]="cTFBC7",t[t.cTFPVRTC1_4_RGB=8]="cTFPVRTC1_4_RGB",t[t.cTFPVRTC1_4_RGBA=9]="cTFPVRTC1_4_RGBA",t[t.cTFASTC_4x4=10]="cTFASTC_4x4",t[t.cTFATC_RGB=11]="cTFATC_RGB",t[t.cTFATC_RGBA_INTERPOLATED_ALPHA=12]="cTFATC_RGBA_INTERPOLATED_ALPHA",t[t.cTFRGBA32=13]="cTFRGBA32",t[t.cTFRGB565=14]="cTFRGB565",t[t.cTFBGR565=15]="cTFBGR565",t[t.cTFRGBA4444=16]="cTFRGBA4444"}(Ha||(Ha={}));var Wa=((ka={})[Ha.cTFETC1]=Hn.COMPRESSED_RGB_ETC1_WEBGL,ka[Ha.cTFBC1]=Hn.COMPRESSED_RGB_S3TC_DXT1_EXT,ka[Ha.cTFBC3]=Hn.COMPRESSED_RGBA_S3TC_DXT5_EXT,ka[Ha.cTFPVRTC1_4_RGB]=Hn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,ka[Ha.cTFPVRTC1_4_RGBA]=Hn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,ka[Ha.cTFATC_RGB]=Hn.COMPRESSED_RGB_ATC_WEBGL,ka[Ha.cTFASTC_4x4]=Hn.COMPRESSED_RGBA_ASTC_4x4_KHR,ka),qa=((Xa={})[Ha.cTFRGBA32]=E.UNSIGNED_BYTE,Xa[Ha.cTFRGB565]=E.UNSIGNED_SHORT_5_6_5,Xa[Ha.cTFRGBA4444]=E.UNSIGNED_SHORT_4_4_4_4,Xa),Ka=Object.keys(Wa).map((function(t){return Number(t)})).reduce((function(t,e){return t[Wa[e]]=e,t}),{}),Za=((ja={})[Ha.cTFBC3]=!0,ja[Ha.cTFPVRTC1_4_RGBA]=!0,ja[Ha.cTFASTC_4x4]=!0,ja);function Qa(){var t,e={init:function(e){return self.BASIS?(self.BASIS({wasmBinary:e.wasmSource}).then((function(e){e.initializeBasis(),t=e,self.postMessage({type:"init",success:!0})})),null):(console.warn("jsSource was not prepended?"),{type:"init",success:!1})},transcode:function(e){var r=e.basisData,i=new t.BasisFile(r),n=i.getNumImages(),o=i.getHasAlpha()?e.rgbaFormat:e.rgbFormat,s=new Array(n),a=!1;if(!i.startTranscoding())return i.close(),i.delete(),{type:"transcode",requestID:e.requestID,success:!1,imageArray:null};for(var h=0;h<n;h++){for(var u=i.getNumLevels(h),l={imageID:h,levelArray:new Array,width:null,height:null},c=0;c<u;c++){var d=a?14:o,f=i.getImageWidth(h,c),p=i.getImageHeight(h,c),_=i.getImageTranscodedSizeInBytes(h,c,d),v=f+3&-4,m=p+3&-4;0===c&&(l.width=v,l.height=m);var g=new Uint8Array(_);if(!i.transcodeImage(g,h,c,d,!1,!1)){if(a)return console.error("Basis failed to transcode image "+h+", level "+c+"!"),{type:"transcode",requestID:e.requestID,success:!1};console.warn("Basis failed to transcode image "+h+", level "+c+"! Retrying to an uncompressed texture format!"),h=-1,a=!0;break}l.levelArray.push({levelID:c,levelWidth:f,levelHeight:p,levelBuffer:g})}s[h]=l}return i.close(),i.delete(),{type:"transcode",requestID:e.requestID,success:!0,basisFormat:a?14:o,imageArray:s}}};self.onmessage=function(t){var r=t.data,i=e[r.type](r);i&&self.postMessage(i)}}var Ja=function(){function t(){var e=this;this.requests={},this.onMessage=function(t){var r=t.data;if("init"===r.type){if(!r.success)throw new Error("BasisResource.TranscoderWorker failed to initialize.");e.isInit=!0,e.onInit()}else if("transcode"===r.type){--e.load;var i=r.requestID;r.success?e.requests[i].resolve(r):e.requests[i].reject(),delete e.requests[i]}},this.isInit=!1,this.load=0,this.initPromise=new Promise((function(t){e.onInit=t})),t.wasmSource||console.warn("PIXI.resources.BasisResource.TranscoderWorker has not been given the transcoder WASM binary!"),this.worker=new Worker(t.workerURL),this.worker.onmessage=this.onMessage,this.worker.postMessage({type:"init",jsSource:t.jsSource,wasmSource:t.wasmSource})}return Object.defineProperty(t,"workerURL",{get:function(){if(!t._workerURL){var e=Qa.toString(),r=e.indexOf("{"),i=e.lastIndexOf("}");e=e.slice(r+1,i),t.jsSource&&(e=t.jsSource+"\n"+e),t._workerURL=URL.createObjectURL(new Blob([e]))}return t._workerURL},enumerable:!1,configurable:!0}),t.prototype.initAsync=function(){return this.initPromise},t.prototype.transcodeAsync=function(e,r,i){return za(this,void 0,Promise,(function(){var n,o,s=this;return Va(this,(function(a){return++this.load,n=t._tempID++,o=new Promise((function(t,e){s.requests[n]={resolve:t,reject:e}})),this.worker.postMessage({requestID:n,basisData:e,rgbaFormat:r,rgbFormat:i,type:"transcode"}),[2,o]}))}))},t.loadTranscoder=function(e,r){var i=this,n=fetch(e).then((function(t){return t.text()})).then((function(e){t.jsSource=e})),o=fetch(r).then((function(t){return t.arrayBuffer()})).then((function(e){t.wasmSource=e}));return Promise.all([n,o]).then((function(t){return i._onTranscoderInitializedResolve(),t}))},t.setTranscoder=function(e,r){t.jsSource=e,t.wasmSource=r},t.onTranscoderInitialized=new Promise((function(e){t._onTranscoderInitializedResolve=e})),t._tempID=0,t}(),$a=function(){function t(){}return t.transcode=function(e){return za(this,void 0,Promise,(function(){var r;return Va(this,(function(i){switch(i.label){case 0:return"undefined"!=typeof Worker&&t.TranscoderWorker.wasmSource?[4,t.transcodeAsync(e)]:[3,2];case 1:return r=i.sent(),[3,3];case 2:r=t.transcodeSync(e),i.label=3;case 3:return[2,r]}}))}))},t.transcodeAsync=function(e){return za(this,void 0,Promise,(function(){var r,i,n,o,s,a,h,u,l,c;return Va(this,(function(d){switch(d.label){case 0:for(t.defaultRGBAFormat||t.defaultRGBFormat||t.autoDetectFormats(),r=t.workerPool,i=268435456,n=null,l=0,c=r.length;l<c;l++)r[l].load<i&&(n=r[l],i=n.load);return n||(n=new Ja,r.push(n)),[4,n.initAsync()];case 1:return d.sent(),[4,n.transcodeAsync(new Uint8Array(e),t.defaultRGBAFormat.basisFormat,t.defaultRGBFormat.basisFormat)];case 2:if(o=d.sent(),s=o.basisFormat,a=o.imageArray,s>12)h=a.map((function(t){return new je(new Uint16Array(t.levelArray[0].levelBuffer.buffer),{width:t.width,height:t.height})}));else for(u=Wa[o.basisFormat],h=new Array(a.length),l=0,c=a.length;l<c;l++)h[l]=new Qn(null,{format:u,width:a[l].width,height:a[l].height,levelBuffers:a[l].levelArray,levels:a[l].levelArray.length});return h.basisFormat=s,[2,h]}}))}))},t.transcodeSync=function(e){t.defaultRGBAFormat||t.defaultRGBFormat||t.autoDetectFormats();var r=t.basisBinding,i=new Uint8Array(e),n=new r.BasisFile(i),o=n.getNumImages(),s=n.getHasAlpha()?t.defaultRGBAFormat.basisFormat:t.defaultRGBFormat.basisFormat,a=Ha.cTFRGB565,h=new Array(o),u=t.fallbackMode;if(!n.startTranscoding())return console.error("Basis failed to start transcoding!"),n.close(),n.delete(),null;for(var l=0;l<o;l++){for(var c=u?1:n.getNumLevels(l),d=n.getImageWidth(l,0),f=n.getImageHeight(l,0),p=d+3&-4,_=f+3&-4,v=new Array(c),m=0;m<c;m++){var g=n.getImageWidth(l,m),y=n.getImageHeight(l,m),b=n.getImageTranscodedSizeInBytes(l,0,u?a:s);if(v[m]={levelID:m,levelBuffer:new Uint8Array(b),levelWidth:g,levelHeight:y},n.transcodeImage(v[m].levelBuffer,l,0,u?a:s,!1,!1));else{if(u){console.error("Basis failed to transcode image "+l+", level 0!");break}l=-1,u=!0,console.warn("Basis failed to transcode image "+l+", level 0 to a compressed texture format. Retrying to an uncompressed fallback format!")}}var x;x=u?new je(new Uint16Array(v[0].levelBuffer.buffer),{width:d,height:f}):new Qn(null,{format:Wa[s],width:p,height:_,levelBuffers:v,levels:c}),h[l]=x}n.close(),n.delete();var T=h;return T.basisFormat=u?a:s,T},t.autoDetectFormats=function(e){if(!e){var r=nt.ADAPTER.createCanvas().getContext("webgl");if(!r)return void console.error("WebGL not available for BASIS transcoding. Silently failing.");e={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),astc:r.getExtension("WEBGL_compressed_texture_astc"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc")}}var i={};for(var n in e){var o=e[n];o&&Object.assign(i,Object.getPrototypeOf(o))}for(var s=0;s<2;s++){var a=!!s,h=void 0,u=void 0;for(var l in i)if(void 0!==(u=Ka[h=i[l]])&&(a&&Za[u]||!a&&!Za[u]))break;h?t[a?"defaultRGBAFormat":"defaultRGBFormat"]={textureFormat:h,basisFormat:u}:(t[a?"defaultRGBAFormat":"defaultRGBFormat"]={textureFormat:E.UNSIGNED_SHORT_5_6_5,basisFormat:Ha.cTFRGB565},t.fallbackMode=!0)}},t.bindTranscoder=function(e){t.basisBinding=e},t.loadTranscoder=function(e,r){return t.TranscoderWorker.loadTranscoder(e,r)},t.setTranscoder=function(e,r){t.TranscoderWorker.setTranscoder(e,r)},Object.defineProperty(t,"TRANSCODER_WORKER_POOL_LIMIT",{get:function(){return this.workerPool.length||1},set:function(t){for(var e=this.workerPool.length;e<t;e++)this.workerPool[e]=new Ja,this.workerPool[e].initAsync()},enumerable:!1,configurable:!0}),t.extension=Oe.Loader,t.fallbackMode=!1,t.workerPool=[],t.TranscoderWorker=Ja,t}();Dn.setExtensionXhrType("basis",Dn.XHR_RESPONSE_TYPE.BUFFER);var th=function(){function t(){}return t.use=function(e,r){"basis"===e.extension&&e.data?za(this,void 0,void 0,(function(){var i;return Va(this,(function(n){switch(n.label){case 0:return $a.basisBinding||$a.TranscoderWorker.wasmSource?[3,2]:[4,Ja.onTranscoderInitialized];case 1:n.sent(),n.label=2;case 2:return[4,$a.transcode(e.data)];case 3:return i=n.sent(),Object.assign(e,t.registerTextures(e.url,i,e.metadata)),r(),[2]}}))})):r()},t.registerTextures=function(t,e,r){var i={textures:{},texture:null};if(!e)return i;var n=qa[e.basisFormat],o=e.basisFormat!==Ha.cTFRGBA32?x.RGB:x.RGBA;return e.map((function(t){return new ar(new Ye(t,Object.assign({mipmap:t instanceof Qn&&t.levels>1?O.ON_MANUAL:O.OFF,alphaMode:w.NO_PREMULTIPLIED_ALPHA,type:n,format:o},r)))})).forEach((function(e,r){var n=e.baseTexture,o=t+"-"+(r+1);Ye.addToCache(n,o),ar.addToCache(e,o),0===r&&(Ye.addToCache(n,t),ar.addToCache(e,t),i.texture=e),i.textures[o]=e})),i},t.bindTranscoder=function(t){$a.basisBinding=t},t.loadTranscoder=function(t,e){return $a.TranscoderWorker.loadTranscoder(t,e)},t.setTranscoder=function(t,e){$a.TranscoderWorker.setTranscoder(t,e)},t.extension=Oe.Loader,t}();Me.add(th);var eh=function(){return eh=Object.assign||function(t){for(var e,r=arguments,i=1,n=arguments.length;i<n;i++)for(var o in e=r[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},eh.apply(this,arguments)};function rh(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))}function ih(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var nh=function(){function t(t,e){void 0===e&&(e=!1),this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}return t.prototype.add=function(t){var e=this;t.forEach((function(t){e._assetList.push(t)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()},t.prototype._next=function(){return rh(this,void 0,Promise,(function(){var t,e,r;return ih(this,(function(i){switch(i.label){case 0:if(!this._assetList.length||!this._isActive)return[3,2];for(this._isLoading=!0,t=[],e=Math.min(this._assetList.length,this._maxConcurrent),r=0;r<e;r++)t.push(this._assetList.pop());return[4,this._loader.load(t)];case 1:i.sent(),this._isLoading=!1,this._next(),i.label=2;case 2:return[2]}}))}))},Object.defineProperty(t.prototype,"active",{get:function(){return this._isActive},set:function(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())},enumerable:!1,configurable:!0}),t}(),oh=function(t,e){return Array.isArray(t)||(t=[t]),e?t.map((function(t){return"string"==typeof t?e(t):t})):t};function sh(t,e,r,i,n){for(var o=e[r],s=0;s<o.length;s++){var a=o[s];r<e.length-1?sh(t.replace(i[r],a),e,r+1,i,n):n.push(t.replace(i[r],a))}}function ah(t){var e=t.match(/\{(.*?)\}/g),r=[];if(e){var i=[];e.forEach((function(t){var e=t.substring(1,t.length-1).split(",");i.push(e)})),sh(t,i,0,e,r)}else r.push(t);return r}var hh=function(t){return!Array.isArray(t)},uh=new(function(){function t(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}return t.prototype.reset=function(){this._cacheMap.clear(),this._cache.clear()},t.prototype.has=function(t){return this._cache.has(t)},t.prototype.get=function(t){var e=this._cache.get(t);return e||console.warn("[Assets] Asset id "+t+" was not found in the Cache"),e},t.prototype.set=function(t,e){for(var r,i=this,n=oh(t),o=0;o<this.parsers.length;o++){var s=this.parsers[o];if(s.test(e)){r=s.getCacheableAssets(n,e);break}}r||(r={},n.forEach((function(t){r[t]=e})));var a=Object.keys(r),h={cacheKeys:a,keys:n};if(n.forEach((function(t){i._cacheMap.set(t,h)})),a.forEach((function(t){i._cache.has(t)&&i._cache.get(t)!==e&&console.warn("[Cache] already has key:",t),i._cache.set(t,r[t])})),e instanceof ar){var u=e;n.forEach((function(t){u.baseTexture!==ar.EMPTY.baseTexture&&Ye.addToCache(u.baseTexture,t),ar.addToCache(u,t)}))}},t.prototype.remove=function(t){var e=this;if(this._cacheMap.get(t),this._cacheMap.has(t)){var r=this._cacheMap.get(t);r.cacheKeys.forEach((function(t){e._cache.delete(t)})),r.keys.forEach((function(t){e._cacheMap.delete(t)}))}else console.warn("[Assets] Asset id "+t+" was not found in the Cache")},Object.defineProperty(t.prototype,"parsers",{get:function(){return this._parsers},enumerable:!1,configurable:!0}),t}());function lh(t,e,r){var i={};if(t.forEach((function(t){i[t]=e})),Object.keys(e.textures).forEach((function(t){i[t]=e.textures[t]})),!r){var n=ct.dirname(t[0]);e.linkedSheets.forEach((function(t,r){var o=lh([n+"/"+e.data.meta.related_multi_packs[r]],t,!0);Object.assign(i,o)}))}return i}var ch={extension:Oe.CacheParser,test:function(t){return t instanceof Ms},getCacheableAssets:function(t,e){return lh(t,e,!1)}},dh={extension:Oe.CacheParser,test:function(t){return Array.isArray(t)&&t.every((function(t){return t instanceof ar}))},getCacheableAssets:function(t,e){var r={};return t.forEach((function(t){e.forEach((function(e,i){r[t+(0===i?"":i+1)]=e}))})),r}};function fh(){for(var t=arguments,e=this,r=[],i=0;i<arguments.length;i++)r[i]=t[i];return function(t){return rh(e,void 0,void 0,(function(){return ih(this,(function(e){return t.unshift.apply(t,r),[2,t]}))}))}}function ph(){for(var t=arguments,e=this,r=[],i=0;i<arguments.length;i++)r[i]=t[i];return function(t){return rh(e,void 0,void 0,(function(){var e,i,n,o;return ih(this,(function(s){for(e=0,i=r;e<i.length;e++)n=i[e],-1!==(o=t.indexOf(n))&&t.splice(o,1);return[2,t]}))}))}}var _h={extension:Oe.DetectionParser,test:function(){return rh(void 0,void 0,Promise,(function(){var t;return ih(this,(function(e){switch(e.label){case 0:return globalThis.createImageBitmap?[4,nt.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((function(t){return t.blob()}))]:[2,!1];case 1:return t=e.sent(),[2,createImageBitmap(t).then((function(){return!0}),(function(){return!1}))]}}))}))},add:fh("avif"),remove:ph("avif")};Oe.DetectionParser,Oe.DetectionParser,fh("basis"),ph("basis");var vh={extension:Oe.DetectionParser,test:function(){return rh(void 0,void 0,Promise,(function(){var t;return ih(this,(function(e){switch(e.label){case 0:return globalThis.createImageBitmap?[4,nt.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((function(t){return t.blob()}))]:[2,!1];case 1:return t=e.sent(),[2,createImageBitmap(t).then((function(){return!0}),(function(){return!1}))]}}))}))},add:fh("webp"),remove:ph("webp")},mh=[".xml",".fnt"],gh={extension:Oe.LoadParser,test:function(t){return mh.includes(ct.extname(t))},testParse:function(t){return rh(this,void 0,Promise,(function(){return ih(this,(function(e){return[2,Zs.test(t)||Js.test(t)]}))}))},parse:function(t,e,r){return rh(this,void 0,Promise,(function(){var i,n,o,s,a,h,u,l,c;return ih(this,(function(d){switch(d.label){case 0:for(i=Zs.test(t)?Zs.parse(t):Js.parse(t),n=e.src,o=i.page,s=[],a=0;a<o.length;++a)h=o[a].file,u=ct.join(ct.dirname(n),h),s.push(u);return[4,r.load(s)];case 1:return l=d.sent(),c=s.map((function(t){return l[t]})),[2,na.install(i,c,!0)]}}))}))},load:function(t,e){return rh(this,void 0,Promise,(function(){return ih(this,(function(e){switch(e.label){case 0:return[4,nt.ADAPTER.fetch(t)];case 1:return[2,e.sent().text()]}}))}))},unload:function(t){t.destroy()}},yh={extension:Oe.LoadParser,test:function(t){return ct.extname(t).includes(".json")},load:function(t){return rh(this,void 0,Promise,(function(){return ih(this,(function(e){switch(e.label){case 0:return[4,nt.ADAPTER.fetch(t)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))}},bh={extension:Oe.LoadParser,testParse:function(t,e){return rh(this,void 0,Promise,(function(){return ih(this,(function(r){return[2,ct.extname(e.src).includes(".json")&&!!t.frames]}))}))},parse:function(t,e,r){var i,n;return rh(this,void 0,Promise,(function(){var o,s,a,h,u,l,c,d,f,p,_,v;return ih(this,(function(m){switch(m.label){case 0:return(o=ct.dirname(e.src))&&o.lastIndexOf("/")!==o.length-1&&(o+="/"),s=o+t.meta.image,[4,r.load([s])];case 1:return a=m.sent(),h=a[s],[4,(u=new Ms(h.baseTexture,t,e.src)).parse()];case 2:if(m.sent(),l=null===(i=null==t?void 0:t.meta)||void 0===i?void 0:i.related_multi_packs,!Array.isArray(l))return[3,4];for(c=[],d=0,f=l;d<f.length;d++)"string"==typeof(p=f[d])&&(_=o+p,(null===(n=e.data)||void 0===n?void 0:n.ignoreMultiPack)||c.push(r.load({src:_,data:{ignoreMultiPack:!0}})));return[4,Promise.all(c)];case 3:v=m.sent(),u.linkedSheets=v,v.forEach((function(t){t.linkedSheets=[u].concat(u.linkedSheets.filter((function(e){return e!==t})))})),m.label=4;case 4:return[2,u]}}))}))},unload:function(t){t.destroy(!0)}},xh={extension:Oe.LoadParser,test:function(t){return ct.extname(t).includes(".txt")},load:function(t){return rh(this,void 0,Promise,(function(){return ih(this,(function(e){switch(e.label){case 0:return[4,nt.ADAPTER.fetch(t)];case 1:return[4,e.sent().text()];case 2:return[2,e.sent()]}}))}))}},Th=["normal","bold","100","200","300","400","500","600","700","800","900"],Eh=["woff","woff2","ttf","otf"],Ah={extension:Oe.LoadParser,test:function(t){var e=t.split("?")[0].split(".").pop();return Eh.includes(e)},load:function(t,e){var r,i,n,o,s,a;return rh(this,void 0,Promise,(function(){var h,u,l,c,d,f,p;return ih(this,(function(_){switch(_.label){case 0:if(!window.navigator.onLine)throw new Error("[loadWebFont] Cannot load font - navigator is offline");if(!("FontFace"in window))return[3,5];h=[],u=null!==(i=null===(r=e.data)||void 0===r?void 0:r.family)&&void 0!==i?i:function(t){var e=ct.extname(t);return ct.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")}(t),l=null!==(s=null===(o=null===(n=e.data)||void 0===n?void 0:n.weights)||void 0===o?void 0:o.filter((function(t){return Th.includes(t)})))&&void 0!==s?s:["normal"],c=null!==(a=e.data)&&void 0!==a?a:{},d=0,_.label=1;case 1:return d<l.length?(f=l[d],[4,(p=new FontFace(u,"url("+t+")",eh(eh({},c),{weight:f}))).load()]):[3,4];case 2:_.sent(),document.fonts.add(p),h.push(p),_.label=3;case 3:return d++,[3,1];case 4:return[2,1===h.length?h[0]:h];case 5:return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),[2,null]}}))}))},unload:function(t){(Array.isArray(t)?t:[t]).forEach((function(t){return document.fonts.delete(t)}))}};function Rh(t,e,r){var i=new ar(t);return i.baseTexture.on("dispose",(function(){delete e.promiseCache[r]})),i}Oe.LoadParser,Oe.LoadParser,Oe.LoadParser;var Sh,Oh,wh=0,Ph="\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ",Ih=function(){function t(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}return t.prototype.isImageBitmapSupported=function(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((function(t){var e=URL.createObjectURL(new Blob([Ph],{type:"application/javascript"})),r=new Worker(e);r.addEventListener("message",(function(i){r.terminate(),URL.revokeObjectURL(e),t(i.data)}))}))),this._isImageBitmapSupported},t.prototype.loadImageBitmap=function(t){return this._run("loadImageBitmap",[t])},t.prototype._initWorkers=function(){return rh(this,void 0,void 0,(function(){return ih(this,(function(t){return this._initialized||(this._initialized=!0),[2]}))}))},t.prototype.getWorker=function(){var t=this;void 0===Sh&&(Sh=navigator.hardwareConcurrency||4);var e=this.workerPool.pop();return!e&&this._createdWorkers<Sh&&(Oh||(Oh=URL.createObjectURL(new Blob(["\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"],{type:"application/javascript"}))),this._createdWorkers++,(e=new Worker(Oh)).addEventListener("message",(function(e){t.complete(e.data),t.returnWorker(e.target),t.next()}))),e},t.prototype.returnWorker=function(t){this.workerPool.push(t)},t.prototype.complete=function(t){void 0!==t.error?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null},t.prototype._run=function(t,e){return rh(this,void 0,Promise,(function(){var r,i=this;return ih(this,(function(n){switch(n.label){case 0:return[4,this._initWorkers()];case 1:return n.sent(),r=new Promise((function(r,n){i.queue.push({id:t,arguments:e,resolve:r,reject:n})})),this.next(),[2,r]}}))}))},t.prototype.next=function(){if(this.queue.length){var t=this.getWorker();if(t){var e=this.queue.pop(),r=e.id;this.resolveHash[wh]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:wh++,id:r})}}},t}(),Mh=new Ih,Dh=[".jpg",".png",".jpeg",".avif",".webp"];function Ch(t){return rh(this,void 0,Promise,(function(){var e,r;return ih(this,(function(i){switch(i.label){case 0:return[4,nt.ADAPTER.fetch(t)];case 1:if(!(e=i.sent()).ok)throw new Error("[loadImageBitmap] Failed to fetch "+t+": "+e.status+" "+e.statusText);return[4,e.blob()];case 2:return r=i.sent(),[4,createImageBitmap(r)];case 3:return[2,i.sent()]}}))}))}var Fh={extension:Oe.LoadParser,config:{preferWorkers:!0},test:function(t){for(var e=!1,r=0;r<Dh.length;r++)if(0===t.indexOf("data:image/"+Dh[r].slice(1))){e=!0;break}return e||function(t,e){var r=t.split("?")[0],i=ct.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i.toLowerCase()):i.toLowerCase()===e}(t,Dh)},load:function(t,e,r){return rh(this,void 0,Promise,(function(){var i,n,o;return ih(this,(function(s){switch(s.label){case 0:return i=null,window.createImageBitmap?(n=this.config.preferWorkers)?[4,Mh.isImageBitmapSupported()]:[3,2]:[3,7];case 1:n=s.sent(),s.label=2;case 2:return n?[4,Mh.loadImageBitmap(t)]:[3,4];case 3:return i=s.sent(),[3,6];case 4:return[4,Ch(t)];case 5:i=s.sent(),s.label=6;case 6:return[3,9];case 7:return[4,new Promise((function(e){(i=new Image).crossOrigin="anonymous",i.src=t,i.complete?e(i):i.onload=function(){e(i)}}))];case 8:i=s.sent(),s.label=9;case 9:return(o=new Ye(i,eh({resolution:Qt(t)},e.data))).resource.src=t,[2,Rh(o,r,t)]}}))}))},unload:function(t){t.destroy(!0)}},Bh={extension:Oe.LoadParser,test:function(t){return ct.extname(t).includes(".svg")},testParse:function(t){return rh(this,void 0,Promise,(function(){return ih(this,(function(e){return[2,Qe.test(t)]}))}))},parse:function(t,e,r){var i,n,o;return rh(this,void 0,Promise,(function(){var s,a,h;return ih(this,(function(u){switch(u.label){case 0:return s=new Qe(t,null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.resourceOptions),(a=new Ye(s,eh({resolution:Qt(t)},null==e?void 0:e.data))).resource.src=t,h=Rh(a,r,t),(null===(o=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.resourceOptions)||void 0===o?void 0:o.autoLoad)?[3,2]:[4,s.load()];case 1:u.sent(),u.label=2;case 2:return[2,h]}}))}))},load:function(t,e){return rh(this,void 0,Promise,(function(){return ih(this,(function(e){switch(e.label){case 0:return[4,nt.ADAPTER.fetch(t)];case 1:return[2,e.sent().text()]}}))}))},unload:Fh.unload},Nh=function(){function t(){this._parsers=[],this.promiseCache={}}return t.prototype.reset=function(){this.promiseCache={}},t.prototype._getLoadPromiseAndParser=function(t,e){var r={promise:null,parser:null};return r.promise=rh(this,void 0,void 0,(function(){var i,n,o,s,a,h;return ih(this,(function(u){switch(u.label){case 0:i=null,n=0,u.label=1;case 1:return n<this.parsers.length?(o=this.parsers[n]).load&&(null===(a=o.test)||void 0===a?void 0:a.call(o,t,e,this))?[4,o.load(t,e,this)]:[3,3]:[3,4];case 2:return i=u.sent(),r.parser=o,[3,4];case 3:return n++,[3,1];case 4:if(!r.parser)return console.warn("[Assets] "+t+" could not be loaded as we don't know how to parse it, ensure the correct parser has being added"),[2,null];n=0,u.label=5;case 5:return n<this.parsers.length?(o=this.parsers[n]).parse?(s=o.parse)?[4,null===(h=o.testParse)||void 0===h?void 0:h.call(o,i,e,this)]:[3,7]:[3,9]:[3,10];case 6:s=u.sent(),u.label=7;case 7:return s?[4,o.parse(i,e,this)]:[3,9];case 8:i=u.sent()||i,r.parser=o,u.label=9;case 9:return n++,[3,5];case 10:return[2,i]}}))})),r},t.prototype.load=function(t,e){return rh(this,void 0,Promise,(function(){var r,i,n,o,s,a,h=this;return ih(this,(function(u){switch(u.label){case 0:return r=0,i={},n=hh(t),o=oh(t,(function(t){return{src:t}})),s=o.length,a=o.map((function(t){return rh(h,void 0,void 0,(function(){var n,o,a,h;return ih(this,(function(u){switch(u.label){case 0:if(n=ct.toAbsolute(t.src),i[t.src])return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),this.promiseCache[n]||(this.promiseCache[n]=this._getLoadPromiseAndParser(n,t)),o=i,a=t.src,[4,this.promiseCache[n].promise];case 2:return o[a]=u.sent(),e&&e(++r/s),[3,4];case 3:throw h=u.sent(),delete this.promiseCache[n],delete i[t.src],new Error("[Loader.load] Failed to load "+n+".\n"+h);case 4:return[2]}}))}))})),[4,Promise.all(a)];case 1:return u.sent(),[2,n?i[o[0].src]:i]}}))}))},t.prototype.unload=function(t){return rh(this,void 0,Promise,(function(){var e,r,i=this;return ih(this,(function(n){switch(n.label){case 0:return e=oh(t,(function(t){return{src:t}})),r=e.map((function(t){return rh(i,void 0,void 0,(function(){var e,r,i,n,o;return ih(this,(function(s){switch(s.label){case 0:return e=ct.toAbsolute(t.src),(r=this.promiseCache[e])?[4,r.promise]:[3,2];case 1:i=s.sent(),null===(o=null===(n=r.parser)||void 0===n?void 0:n.unload)||void 0===o||o.call(n,i,t,this),delete this.promiseCache[e],s.label=2;case 2:return[2]}}))}))})),[4,Promise.all(r)];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"parsers",{get:function(){return this._parsers},enumerable:!1,configurable:!0}),t}(),Lh=["jpg","png","jpeg","avif","webp"],Gh={extension:Oe.ResolveParser,test:function(t){var e=t.split("?")[0].split("."),r=e.pop(),i=e.pop();return"json"===r&&Lh.includes(i)},parse:function(t){var e,r,i=t.split(".");return{resolution:parseFloat(null!==(r=null===(e=nt.RETINA_PREFIX.exec(t))||void 0===e?void 0:e[1])&&void 0!==r?r:"1"),format:i[i.length-2],src:t}}},Uh={extension:Oe.ResolveParser,test:Fh.test,parse:function(t){var e,r;return{resolution:parseFloat(null!==(r=null===(e=nt.RETINA_PREFIX.exec(t))||void 0===e?void 0:e[1])&&void 0!==r?r:"1"),format:t.split(".").pop(),src:t}}},kh=(Oe.ResolveParser,function(){function t(){this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}return t.prototype.prefer=function(){for(var t=arguments,e=this,r=[],i=0;i<arguments.length;i++)r[i]=t[i];r.forEach((function(t){e._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}},Object.defineProperty(t.prototype,"basePath",{get:function(){return this._basePath},set:function(t){this._basePath=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootPath",{get:function(){return this._rootPath},set:function(t){this._rootPath=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parsers",{get:function(){return this._parsers},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._preferredOrder=[],this._resolverHash={},this._assetMap={},this._rootPath=null,this._basePath=null,this._manifest=null},t.prototype.addManifest=function(t){var e=this;this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach((function(t){e.addBundle(t.name,t.assets)}))},t.prototype.addBundle=function(t,e){var r=this,i=[];Array.isArray(e)?e.forEach((function(t){"string"==typeof t.name?i.push(t.name):i.push.apply(i,t.name),r.add(t.name,t.srcs)})):Object.keys(e).forEach((function(t){i.push(t),r.add(t,e[t])})),this._bundles[t]=i},t.prototype.add=function(t,e,r){var i=this,n=oh(t);n.forEach((function(t){i._assetMap[t]&&console.warn("[Resolver] already has key: "+t+" overwriting")})),Array.isArray(e)||(e="string"==typeof e?ah(e):[e]);var o=e.map((function(t){var e,o=t;if("string"==typeof t){for(var s=!1,a=0;a<i._parsers.length;a++){var h=i._parsers[a];if(h.test(t)){o=h.parse(t),s=!0;break}}s||(o={src:t})}return o.format||(o.format=o.src.split(".").pop()),o.alias||(o.alias=n),(i._basePath||i._rootPath)&&(o.src=ct.toAbsolute(o.src,i._basePath,i._rootPath)),o.data=null!==(e=o.data)&&void 0!==e?e:r,o}));n.forEach((function(t){i._assetMap[t]=o}))},t.prototype.resolveBundle=function(t){var e=this,r=hh(t);t=oh(t);var i={};return t.forEach((function(t){var r=e._bundles[t];r&&(i[t]=e.resolve(r))})),r?i[t[0]]:i},t.prototype.resolveUrl=function(t){var e=this.resolve(t);if("string"!=typeof t){var r={};for(var i in e)r[i]=e[i].src;return r}return e.src},t.prototype.resolve=function(t){var e=this,r=hh(t);t=oh(t);var i={};return t.forEach((function(t){var r;if(!e._resolverHash[t])if(e._assetMap[t]){var n=e._assetMap[t],o=e._getPreferredOrder(n),s=n[0];null==o||o.priority.forEach((function(t){o.params[t].forEach((function(e){var r=n.filter((function(r){return!!r[t]&&r[t]===e}));r.length&&(n=r)}))})),e._resolverHash[t]=null!==(r=n[0])&&void 0!==r?r:s}else{var a=t;(e._basePath||e._rootPath)&&(a=ct.toAbsolute(a,e._basePath,e._rootPath)),e._resolverHash[t]={src:a}}i[t]=e._resolverHash[t]})),r?i[t[0]]:i},t.prototype._getPreferredOrder=function(t){for(var e=function(e){var i=t[0],n=r._preferredOrder.find((function(t){return t.params.format.includes(i.format)}));if(n)return{value:n}},r=this,i=0;i<t.length;i++){var n=e();if("object"==typeof n)return n.value}return this._preferredOrder[0]},t}()),Xh=function(){function t(){this._detections=[],this._initialized=!1,this.resolver=new kh,this.loader=new Nh,this.cache=uh,this._backgroundLoader=new nh(this.loader),this._backgroundLoader.active=!0,this.reset()}return t.prototype.init=function(t){var e,r,i,n;return void 0===t&&(t={}),rh(this,void 0,Promise,(function(){var o,s,a,h,u,l,c,d,f,p;return ih(this,(function(_){switch(_.label){case 0:return this._initialized?(console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?"),[2]):(this._initialized=!0,t.basePath&&(this.resolver.basePath=t.basePath),t.manifest?"string"!=typeof(o=t.manifest)?[3,2]:[4,this.load(o)]:[3,3]);case 1:o=_.sent(),_.label=2;case 2:this.resolver.addManifest(o),_.label=3;case 3:if(s=null!==(r=null===(e=t.texturePreference)||void 0===e?void 0:e.resolution)&&void 0!==r?r:1,a="number"==typeof s?[s]:s,!(null===(i=t.texturePreference)||void 0===i?void 0:i.format))return[3,9];u=null===(n=t.texturePreference)||void 0===n?void 0:n.format,h="string"==typeof u?[u]:u,l=0,c=this._detections,_.label=4;case 4:return l<c.length?[4,(p=c[l]).test()]:[3,8];case 5:return _.sent()?[3,7]:[4,p.remove(h)];case 6:h=_.sent(),_.label=7;case 7:return l++,[3,4];case 8:return[3,14];case 9:h=["png","jpg","jpeg"],d=0,f=this._detections,_.label=10;case 10:return d<f.length?[4,(p=f[d]).test()]:[3,14];case 11:return _.sent()?[4,p.add(h)]:[3,13];case 12:h=_.sent(),_.label=13;case 13:return d++,[3,10];case 14:return this.resolver.prefer({params:{format:h,resolution:a}}),[2]}}))}))},t.prototype.add=function(t,e,r){this.resolver.add(t,e,r)},t.prototype.load=function(t,e){return rh(this,void 0,Promise,(function(){var r,i,n,o,s=this;return ih(this,(function(a){switch(a.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:a.sent(),a.label=2;case 2:return r=hh(t),i=oh(t).map((function(t){return"string"!=typeof t?(s.resolver.add(t.src,t),t.src):t})),n=this.resolver.resolve(i),[4,this._mapLoadToResolve(n,e)];case 3:return o=a.sent(),[2,r?o[i[0]]:o]}}))}))},t.prototype.addBundle=function(t,e){this.resolver.addBundle(t,e)},t.prototype.loadBundle=function(t,e){return rh(this,void 0,Promise,(function(){var r,i,n,o,s,a,h,u,l=this;return ih(this,(function(c){switch(c.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:c.sent(),c.label=2;case 2:return r=!1,"string"==typeof t&&(r=!0,t=[t]),i=this.resolver.resolveBundle(t),n={},o=Object.keys(i),s=0,a=0,h=function(){null==e||e(++s/a)},u=o.map((function(t){var e=i[t];return a+=Object.keys(e).length,l._mapLoadToResolve(e,h).then((function(e){n[t]=e}))})),[4,Promise.all(u)];case 3:return c.sent(),[2,r?n[t[0]]:n]}}))}))},t.prototype.backgroundLoad=function(t){return rh(this,void 0,Promise,(function(){var e;return ih(this,(function(r){switch(r.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:r.sent(),r.label=2;case 2:return"string"==typeof t&&(t=[t]),e=this.resolver.resolve(t),this._backgroundLoader.add(Object.values(e)),[2]}}))}))},t.prototype.backgroundLoadBundle=function(t){return rh(this,void 0,Promise,(function(){var e,r=this;return ih(this,(function(i){switch(i.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:i.sent(),i.label=2;case 2:return"string"==typeof t&&(t=[t]),e=this.resolver.resolveBundle(t),Object.values(e).forEach((function(t){r._backgroundLoader.add(Object.values(t))})),[2]}}))}))},t.prototype.reset=function(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1},t.prototype.get=function(t){if("string"==typeof t)return uh.get(t);for(var e={},r=0;r<t.length;r++)e[r]=uh.get(t[r]);return e},t.prototype._mapLoadToResolve=function(t,e){return rh(this,void 0,Promise,(function(){var r,i,n,o;return ih(this,(function(s){switch(s.label){case 0:return r=Object.values(t),i=Object.keys(t),this._backgroundLoader.active=!1,[4,this.loader.load(r,e)];case 1:return n=s.sent(),this._backgroundLoader.active=!0,o={},r.forEach((function(t,e){var r=n[t.src],s=[t.src];t.alias&&s.push.apply(s,t.alias),o[i[e]]=r,uh.set(s,r)})),[2,o]}}))}))},t.prototype.unload=function(t){return rh(this,void 0,Promise,(function(){var e,r;return ih(this,(function(i){switch(i.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:i.sent(),i.label=2;case 2:return e=oh(t).map((function(t){return"string"!=typeof t?t.src:t})),r=this.resolver.resolve(e),[4,this._unloadFromResolved(r)];case 3:return i.sent(),[2]}}))}))},t.prototype.unloadBundle=function(t){return rh(this,void 0,Promise,(function(){var e,r,i=this;return ih(this,(function(n){switch(n.label){case 0:return this._initialized?[3,2]:[4,this.init()];case 1:n.sent(),n.label=2;case 2:return t=oh(t),e=this.resolver.resolveBundle(t),r=Object.keys(e).map((function(t){return i._unloadFromResolved(e[t])})),[4,Promise.all(r)];case 3:return n.sent(),[2]}}))}))},t.prototype._unloadFromResolved=function(t){return rh(this,void 0,void 0,(function(){var e;return ih(this,(function(r){switch(r.label){case 0:return(e=Object.values(t)).forEach((function(t){uh.remove(t.src)})),[4,this.loader.unload(e)];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"detections",{get:function(){return this._detections},enumerable:!1,configurable:!0}),t}(),jh=new Xh;Me.handleByList(Oe.LoadParser,jh.loader.parsers).handleByList(Oe.ResolveParser,jh.resolver.parsers).handleByList(Oe.CacheParser,jh.cache.parsers).handleByList(Oe.DetectionParser,jh.detections),Me.add(Fh,Bh,xh,yh,bh,gh,Ah,ch,dh,Uh,Gh,vh,_h),window.PIXI=e;let Hh=new Pa({width:640,height:360,backgroundColor:1087931});document.body.appendChild(Hh.view),Gn.shared.add("assets/purple-gem.json"),Gn.shared.load((()=>{const t=new Ua(Gn.shared.resources["assets/purple-gem.json"].spritesheet.animations["purple-gem"]);t.x=450,t.y=10,t.animationSpeed=.5,t.play(),Hh.stage.addChild(t)}));const Yh=new _s("WELCOME TO SHMAZ");Yh.x=50,Yh.y=50,Hh.stage.addChild(Yh);const zh=new _s("");zh.x=500,zh.y=20,Hh.stage.addChild(zh);let Vh=10;const Wh=(t,e)=>{const r=ns.from("assets/husky1.jpg");return r.x=t,r.y=150,r.width=150,r.height=100,r.interactive=!0,r.on("click",e),r},qh=Wh(50,(()=>{Vh-=3})),Kh=Wh(250,(()=>{Vh-=5})),Zh=Wh(450,(()=>{Vh-=10}));Hh.stage.addChild(qh),Hh.stage.addChild(Kh),Hh.stage.addChild(Zh),Hh.ticker.add((t=>{zh.text="= "+Vh}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiO2tDQUtBLFNBQVNBLEVBQU9DLEVBQU1DLEVBQWFDLEdBRS9CQSxFQUFNQSxHQUFPLEVBRWIsSUFPSUMsRUFBTUMsRUFBTUMsRUFBTUMsRUFBTUMsRUFBR0MsRUFBR0MsRUFQOUJDLEVBQVdULEdBQWVBLEVBQVlVLE9BQ3RDQyxFQUFXRixFQUFXVCxFQUFZLEdBQUtDLEVBQU1GLEVBQUtXLE9BQ2xERSxFQUFZQyxFQUFXZCxFQUFNLEVBQUdZLEVBQVVWLEdBQUssR0FDL0NhLEVBQVksR0FFaEIsSUFBS0YsR0FBYUEsRUFBVUcsT0FBU0gsRUFBVUksS0FBTSxPQUFPRixFQU81RCxHQUhJTCxJQUFVRyxFQTJQbEIsU0FBd0JiLEVBQU1DLEVBQWFZLEVBQVdYLEdBQ2xELElBQ0lnQixFQUFHQyxFQUFpQkMsRUFEcEJDLEVBQVEsR0FHWixJQUFLSCxFQUFJLEVBQUdDLEVBQU1sQixFQUFZVSxPQUFRTyxFQUFJQyxFQUFLRCxLQUczQ0UsRUFBT04sRUFBV2QsRUFGVkMsRUFBWWlCLEdBQUtoQixFQUNuQmdCLEVBQUlDLEVBQU0sRUFBSWxCLEVBQVlpQixFQUFJLEdBQUtoQixFQUFNRixFQUFLVyxPQUNoQlQsR0FBSyxNQUM1QmtCLEVBQUtKLE9BQU1JLEVBQUtFLFNBQVUsR0FDdkNELEVBQU1FLEtBQUtDLEVBQVlKLElBTTNCLElBSEFDLEVBQU1JLEtBQUtDLEdBR05SLEVBQUksRUFBR0EsRUFBSUcsRUFBTVYsT0FBUU8sSUFDMUJMLEVBQVljLEVBQWNOLEVBQU1ILEdBQUlMLEdBR3hDLE9BQU9BLENBQ1gsQ0EvUThCZSxDQUFlNUIsRUFBTUMsRUFBYVksRUFBV1gsSUFHbkVGLEVBQUtXLE9BQVMsR0FBS1QsRUFBSyxDQUN4QkMsRUFBT0UsRUFBT0wsRUFBSyxHQUNuQkksRUFBT0UsRUFBT04sRUFBSyxHQUVuQixJQUFLLElBQUlrQixFQUFJaEIsRUFBS2dCLEVBQUlOLEVBQVVNLEdBQUtoQixHQUNqQ0ssRUFBSVAsRUFBS2tCLElBRURmLElBQU1BLEVBQU9JLElBRHJCQyxFQUFJUixFQUFLa0IsRUFBSSxJQUVMZCxJQUFNQSxFQUFPSSxHQUNqQkQsRUFBSUYsSUFBTUEsRUFBT0UsR0FDakJDLEVBQUlGLElBQU1BLEVBQU9FLEdBS3pCQyxFQUFzQixLQUR0QkEsRUFBVW9CLEtBQUtDLElBQUl6QixFQUFPRixFQUFNRyxFQUFPRixJQUNiLE1BQVFLLEVBQVUsQ0FDaEQsQ0FJQSxPQUZBc0IsRUFBYWxCLEVBQVdFLEVBQVdiLEVBQUtDLEVBQU1DLEVBQU1LLEVBQVMsR0FFdERNLENBQ1gsQ0FHQSxTQUFTRCxFQUFXZCxFQUFNZ0MsRUFBT0MsRUFBSy9CLEVBQUtnQyxHQUN2QyxJQUFJaEIsRUFBR2lCLEVBRVAsR0FBSUQsSUFBZUUsRUFBV3BDLEVBQU1nQyxFQUFPQyxFQUFLL0IsR0FBTyxFQUNuRCxJQUFLZ0IsRUFBSWMsRUFBT2QsRUFBSWUsRUFBS2YsR0FBS2hCLEVBQUtpQyxFQUFPRSxFQUFXbkIsRUFBR2xCLEVBQUtrQixHQUFJbEIsRUFBS2tCLEVBQUksR0FBSWlCLFFBRTlFLElBQUtqQixFQUFJZSxFQUFNL0IsRUFBS2dCLEdBQUtjLEVBQU9kLEdBQUtoQixFQUFLaUMsRUFBT0UsRUFBV25CLEVBQUdsQixFQUFLa0IsR0FBSWxCLEVBQUtrQixFQUFJLEdBQUlpQixHQVF6RixPQUxJQSxHQUFRRyxFQUFPSCxFQUFNQSxFQUFLbkIsUUFDMUJ1QixFQUFXSixHQUNYQSxFQUFPQSxFQUFLbkIsTUFHVG1CLENBQ1gsQ0FHQSxTQUFTSyxFQUFhUixFQUFPQyxHQUN6QixJQUFLRCxFQUFPLE9BQU9BLEVBQ2RDLElBQUtBLEVBQU1ELEdBRWhCLElBQ0lTLEVBREFDLEVBQUlWLEVBRVIsR0FHSSxHQUZBUyxHQUFRLEVBRUhDLEVBQUVwQixVQUFZZ0IsRUFBT0ksRUFBR0EsRUFBRTFCLE9BQXFDLElBQTVCMkIsRUFBS0QsRUFBRXpCLEtBQU15QixFQUFHQSxFQUFFMUIsTUFPdEQwQixFQUFJQSxFQUFFMUIsU0FQOEQsQ0FHcEUsR0FGQXVCLEVBQVdHLElBQ1hBLEVBQUlULEVBQU1TLEVBQUV6QixRQUNGeUIsRUFBRTFCLEtBQU0sTUFDbEJ5QixHQUFRLENBRVosUUFHS0EsR0FBU0MsSUFBTVQsR0FFeEIsT0FBT0EsQ0FDWCxDQUdBLFNBQVNGLEVBQWFhLEVBQUs3QixFQUFXYixFQUFLQyxFQUFNQyxFQUFNSyxFQUFTb0MsR0FDNUQsR0FBS0QsRUFBTCxFQUdLQyxHQUFRcEMsR0F1UmpCLFNBQW9CdUIsRUFBTzdCLEVBQU1DLEVBQU1LLEdBQ25DLElBQUlpQyxFQUFJVixFQUNSLEdBQ2dCLElBQVJVLEVBQUVJLElBQVNKLEVBQUVJLEVBQUlDLEVBQU9MLEVBQUVuQyxFQUFHbUMsRUFBRWxDLEVBQUdMLEVBQU1DLEVBQU1LLElBQ2xEaUMsRUFBRU0sTUFBUU4sRUFBRXpCLEtBQ1p5QixFQUFFTyxNQUFRUCxFQUFFMUIsS0FDWjBCLEVBQUlBLEVBQUUxQixXQUNEMEIsSUFBTVYsR0FFZlUsRUFBRU0sTUFBTUMsTUFBUSxLQUNoQlAsRUFBRU0sTUFBUSxLQU9kLFNBQW9CNUIsR0FDaEIsSUFBSUYsRUFBR3dCLEVBQUdRLEVBQUdDLEVBQUdDLEVBQU1DLEVBQVdDLEVBQU9DLEVBQ3BDQyxFQUFTLEVBRWIsRUFBRyxDQU1DLElBTEFkLEVBQUl0QixFQUNKQSxFQUFPLEtBQ1BnQyxFQUFPLEtBQ1BDLEVBQVksRUFFTFgsR0FBRyxDQUlOLElBSEFXLElBQ0FILEVBQUlSLEVBQ0pZLEVBQVEsRUFDSHBDLEVBQUksRUFBR0EsRUFBSXNDLElBQ1pGLElBQ0FKLEVBQUlBLEVBQUVELE9BRmMvQixLQU94QixJQUZBcUMsRUFBUUMsRUFFREYsRUFBUSxHQUFNQyxFQUFRLEdBQUtMLEdBRWhCLElBQVZJLElBQTBCLElBQVZDLElBQWdCTCxHQUFLUixFQUFFSSxHQUFLSSxFQUFFSixJQUM5Q0ssRUFBSVQsRUFDSkEsRUFBSUEsRUFBRU8sTUFDTkssTUFFQUgsRUFBSUQsRUFDSkEsRUFBSUEsRUFBRUQsTUFDTk0sS0FHQUgsRUFBTUEsRUFBS0gsTUFBUUUsRUFDbEIvQixFQUFPK0IsRUFFWkEsRUFBRUgsTUFBUUksRUFDVkEsRUFBT0QsRUFHWFQsRUFBSVEsQ0FDUixDQUVBRSxFQUFLSCxNQUFRLEtBQ2JPLEdBQVUsQ0FFZCxPQUFTSCxFQUFZLEVBR3pCLENBdERJSSxDQUFXZixFQUNmLENBcFMwQmdCLENBQVdkLEVBQUt6QyxFQUFNQyxFQUFNSyxHQU1sRCxJQUpBLElBQ0lRLEVBQU1ELEVBRE4yQyxFQUFPZixFQUlKQSxFQUFJM0IsT0FBUzJCLEVBQUk1QixNQUlwQixHQUhBQyxFQUFPMkIsRUFBSTNCLEtBQ1hELEVBQU80QixFQUFJNUIsS0FFUFAsRUFBVW1ELEVBQVloQixFQUFLekMsRUFBTUMsRUFBTUssR0FBV29ELEVBQU1qQixHQUV4RDdCLEVBQVVRLEtBQUtOLEVBQUtDLEVBQUloQixFQUFNLEdBQzlCYSxFQUFVUSxLQUFLcUIsRUFBSTFCLEVBQUloQixFQUFNLEdBQzdCYSxFQUFVUSxLQUFLUCxFQUFLRSxFQUFJaEIsRUFBTSxHQUU5QnFDLEVBQVdLLEdBR1hBLEVBQU01QixFQUFLQSxLQUNYMkMsRUFBTzNDLEVBQUtBLFVBUWhCLElBSEE0QixFQUFNNUIsS0FHTTJDLEVBQU0sQ0FFVGQsRUFJZSxJQUFUQSxFQUVQZCxFQURBYSxFQUFNa0IsRUFBdUJ0QixFQUFhSSxHQUFNN0IsRUFBV2IsR0FDekNhLEVBQVdiLEVBQUtDLEVBQU1DLEVBQU1LLEVBQVMsR0FHdkMsSUFBVG9DLEdBQ1BrQixFQUFZbkIsRUFBSzdCLEVBQVdiLEVBQUtDLEVBQU1DLEVBQU1LLEdBVDdDc0IsRUFBYVMsRUFBYUksR0FBTTdCLEVBQVdiLEVBQUtDLEVBQU1DLEVBQU1LLEVBQVMsR0FZekUsS0FDSixDQS9DWSxDQWlEcEIsQ0FHQSxTQUFTb0QsRUFBTWpCLEdBQ1gsSUFBSW9CLEVBQUlwQixFQUFJM0IsS0FDUmdELEVBQUlyQixFQUNKc0IsRUFBSXRCLEVBQUk1QixLQUVaLEdBQUkyQixFQUFLcUIsRUFBR0MsRUFBR0MsSUFBTSxFQUFHLE9BQU8sRUFZL0IsSUFUQSxJQUFJQyxFQUFLSCxFQUFFekQsRUFBRzZELEVBQUtILEVBQUUxRCxFQUFHOEQsRUFBS0gsRUFBRTNELEVBQUcrRCxFQUFLTixFQUFFeEQsRUFBRytELEVBQUtOLEVBQUV6RCxFQUFHZ0UsRUFBS04sRUFBRTFELEVBR3pEaUUsRUFBS04sRUFBS0MsRUFBTUQsRUFBS0UsRUFBS0YsRUFBS0UsRUFBT0QsRUFBS0MsRUFBS0QsRUFBS0MsRUFDckRLLEVBQUtKLEVBQUtDLEVBQU1ELEVBQUtFLEVBQUtGLEVBQUtFLEVBQU9ELEVBQUtDLEVBQUtELEVBQUtDLEVBQ3JERyxFQUFLUixFQUFLQyxFQUFNRCxFQUFLRSxFQUFLRixFQUFLRSxFQUFPRCxFQUFLQyxFQUFLRCxFQUFLQyxFQUNyRE8sRUFBS04sRUFBS0MsRUFBTUQsRUFBS0UsRUFBS0YsRUFBS0UsRUFBT0QsRUFBS0MsRUFBS0QsRUFBS0MsRUFFckQ5QixFQUFJd0IsRUFBRWxELEtBQ0gwQixJQUFNc0IsR0FBRyxDQUNaLEdBQUl0QixFQUFFbkMsR0FBS2tFLEdBQU0vQixFQUFFbkMsR0FBS29FLEdBQU1qQyxFQUFFbEMsR0FBS2tFLEdBQU1oQyxFQUFFbEMsR0FBS29FLEdBQzlDQyxFQUFnQlYsRUFBSUcsRUFBSUYsRUFBSUcsRUFBSUYsRUFBSUcsRUFBSTlCLEVBQUVuQyxFQUFHbUMsRUFBRWxDLElBQy9DbUMsRUFBS0QsRUFBRXpCLEtBQU15QixFQUFHQSxFQUFFMUIsT0FBUyxFQUFHLE9BQU8sRUFDekMwQixFQUFJQSxFQUFFMUIsSUFDVixDQUVBLE9BQU8sQ0FDWCxDQUVBLFNBQVM0QyxFQUFZaEIsRUFBS3pDLEVBQU1DLEVBQU1LLEdBQ2xDLElBQUl1RCxFQUFJcEIsRUFBSTNCLEtBQ1JnRCxFQUFJckIsRUFDSnNCLEVBQUl0QixFQUFJNUIsS0FFWixHQUFJMkIsRUFBS3FCLEVBQUdDLEVBQUdDLElBQU0sRUFBRyxPQUFPLEVBa0IvQixJQWhCQSxJQUFJQyxFQUFLSCxFQUFFekQsRUFBRzZELEVBQUtILEVBQUUxRCxFQUFHOEQsRUFBS0gsRUFBRTNELEVBQUcrRCxFQUFLTixFQUFFeEQsRUFBRytELEVBQUtOLEVBQUV6RCxFQUFHZ0UsRUFBS04sRUFBRTFELEVBR3pEaUUsRUFBS04sRUFBS0MsRUFBTUQsRUFBS0UsRUFBS0YsRUFBS0UsRUFBT0QsRUFBS0MsRUFBS0QsRUFBS0MsRUFDckRLLEVBQUtKLEVBQUtDLEVBQU1ELEVBQUtFLEVBQUtGLEVBQUtFLEVBQU9ELEVBQUtDLEVBQUtELEVBQUtDLEVBQ3JERyxFQUFLUixFQUFLQyxFQUFNRCxFQUFLRSxFQUFLRixFQUFLRSxFQUFPRCxFQUFLQyxFQUFLRCxFQUFLQyxFQUNyRE8sRUFBS04sRUFBS0MsRUFBTUQsRUFBS0UsRUFBS0YsRUFBS0UsRUFBT0QsRUFBS0MsRUFBS0QsRUFBS0MsRUFHckRNLEVBQU8vQixFQUFPMEIsRUFBSUMsRUFBSXZFLEVBQU1DLEVBQU1LLEdBQ2xDc0UsRUFBT2hDLEVBQU80QixFQUFJQyxFQUFJekUsRUFBTUMsRUFBTUssR0FFbENpQyxFQUFJRSxFQUFJSSxNQUNSZ0MsRUFBSXBDLEVBQUlLLE1BR0xQLEdBQUtBLEVBQUVJLEdBQUtnQyxHQUFRRSxHQUFLQSxFQUFFbEMsR0FBS2lDLEdBQU0sQ0FDekMsR0FBSXJDLEVBQUVuQyxHQUFLa0UsR0FBTS9CLEVBQUVuQyxHQUFLb0UsR0FBTWpDLEVBQUVsQyxHQUFLa0UsR0FBTWhDLEVBQUVsQyxHQUFLb0UsR0FBTWxDLElBQU1zQixHQUFLdEIsSUFBTXdCLEdBQ3JFVyxFQUFnQlYsRUFBSUcsRUFBSUYsRUFBSUcsRUFBSUYsRUFBSUcsRUFBSTlCLEVBQUVuQyxFQUFHbUMsRUFBRWxDLElBQU1tQyxFQUFLRCxFQUFFekIsS0FBTXlCLEVBQUdBLEVBQUUxQixPQUFTLEVBQUcsT0FBTyxFQUc5RixHQUZBMEIsRUFBSUEsRUFBRU0sTUFFRmdDLEVBQUV6RSxHQUFLa0UsR0FBTU8sRUFBRXpFLEdBQUtvRSxHQUFNSyxFQUFFeEUsR0FBS2tFLEdBQU1NLEVBQUV4RSxHQUFLb0UsR0FBTUksSUFBTWhCLEdBQUtnQixJQUFNZCxHQUNyRVcsRUFBZ0JWLEVBQUlHLEVBQUlGLEVBQUlHLEVBQUlGLEVBQUlHLEVBQUlRLEVBQUV6RSxFQUFHeUUsRUFBRXhFLElBQU1tQyxFQUFLcUMsRUFBRS9ELEtBQU0rRCxFQUFHQSxFQUFFaEUsT0FBUyxFQUFHLE9BQU8sRUFDOUZnRSxFQUFJQSxFQUFFL0IsS0FDVixDQUdBLEtBQU9QLEdBQUtBLEVBQUVJLEdBQUtnQyxHQUFNLENBQ3JCLEdBQUlwQyxFQUFFbkMsR0FBS2tFLEdBQU0vQixFQUFFbkMsR0FBS29FLEdBQU1qQyxFQUFFbEMsR0FBS2tFLEdBQU1oQyxFQUFFbEMsR0FBS29FLEdBQU1sQyxJQUFNc0IsR0FBS3RCLElBQU13QixHQUNyRVcsRUFBZ0JWLEVBQUlHLEVBQUlGLEVBQUlHLEVBQUlGLEVBQUlHLEVBQUk5QixFQUFFbkMsRUFBR21DLEVBQUVsQyxJQUFNbUMsRUFBS0QsRUFBRXpCLEtBQU15QixFQUFHQSxFQUFFMUIsT0FBUyxFQUFHLE9BQU8sRUFDOUYwQixFQUFJQSxFQUFFTSxLQUNWLENBR0EsS0FBT2dDLEdBQUtBLEVBQUVsQyxHQUFLaUMsR0FBTSxDQUNyQixHQUFJQyxFQUFFekUsR0FBS2tFLEdBQU1PLEVBQUV6RSxHQUFLb0UsR0FBTUssRUFBRXhFLEdBQUtrRSxHQUFNTSxFQUFFeEUsR0FBS29FLEdBQU1JLElBQU1oQixHQUFLZ0IsSUFBTWQsR0FDckVXLEVBQWdCVixFQUFJRyxFQUFJRixFQUFJRyxFQUFJRixFQUFJRyxFQUFJUSxFQUFFekUsRUFBR3lFLEVBQUV4RSxJQUFNbUMsRUFBS3FDLEVBQUUvRCxLQUFNK0QsRUFBR0EsRUFBRWhFLE9BQVMsRUFBRyxPQUFPLEVBQzlGZ0UsRUFBSUEsRUFBRS9CLEtBQ1YsQ0FFQSxPQUFPLENBQ1gsQ0FHQSxTQUFTYSxFQUF1QjlCLEVBQU9qQixFQUFXYixHQUM5QyxJQUFJd0MsRUFBSVYsRUFDUixFQUFHLENBQ0MsSUFBSWdDLEVBQUl0QixFQUFFekIsS0FDTmdELEVBQUl2QixFQUFFMUIsS0FBS0EsTUFFVnNCLEVBQU8wQixFQUFHQyxJQUFNZ0IsRUFBV2pCLEVBQUd0QixFQUFHQSxFQUFFMUIsS0FBTWlELElBQU1pQixFQUFjbEIsRUFBR0MsSUFBTWlCLEVBQWNqQixFQUFHRCxLQUV4RmpELEVBQVVRLEtBQUt5QyxFQUFFOUMsRUFBSWhCLEVBQU0sR0FDM0JhLEVBQVVRLEtBQUttQixFQUFFeEIsRUFBSWhCLEVBQU0sR0FDM0JhLEVBQVVRLEtBQUswQyxFQUFFL0MsRUFBSWhCLEVBQU0sR0FHM0JxQyxFQUFXRyxHQUNYSCxFQUFXRyxFQUFFMUIsTUFFYjBCLEVBQUlWLEVBQVFpQyxHQUVoQnZCLEVBQUlBLEVBQUUxQixJQUNWLE9BQVMwQixJQUFNVixHQUVmLE9BQU9RLEVBQWFFLEVBQ3hCLENBR0EsU0FBU3FCLEVBQVkvQixFQUFPakIsRUFBV2IsRUFBS0MsRUFBTUMsRUFBTUssR0FFcEQsSUFBSXVELEVBQUloQyxFQUNSLEVBQUcsQ0FFQyxJQURBLElBQUlpQyxFQUFJRCxFQUFFaEQsS0FBS0EsS0FDUmlELElBQU1ELEVBQUUvQyxNQUFNLENBQ2pCLEdBQUkrQyxFQUFFOUMsSUFBTStDLEVBQUUvQyxHQUFLaUUsRUFBZ0JuQixFQUFHQyxHQUFJLENBRXRDLElBQUlDLEVBQUlrQixFQUFhcEIsRUFBR0MsR0FTeEIsT0FOQUQsRUFBSXhCLEVBQWF3QixFQUFHQSxFQUFFaEQsTUFDdEJrRCxFQUFJMUIsRUFBYTBCLEVBQUdBLEVBQUVsRCxNQUd0QmUsRUFBYWlDLEVBQUdqRCxFQUFXYixFQUFLQyxFQUFNQyxFQUFNSyxFQUFTLFFBQ3JEc0IsRUFBYW1DLEVBQUduRCxFQUFXYixFQUFLQyxFQUFNQyxFQUFNSyxFQUFTLEVBRXpELENBQ0F3RCxFQUFJQSxFQUFFakQsSUFDVixDQUNBZ0QsRUFBSUEsRUFBRWhELElBQ1YsT0FBU2dELElBQU1oQyxFQUNuQixDQXlCQSxTQUFTTixFQUFTc0MsRUFBR0MsR0FDakIsT0FBT0QsRUFBRXpELEVBQUkwRCxFQUFFMUQsQ0FDbkIsQ0FHQSxTQUFTb0IsRUFBYzBELEVBQU14RSxHQUN6QixJQUFJeUUsRUFhUixTQUF3QkQsRUFBTXhFLEdBQzFCLElBSUkwRSxFQUpBN0MsRUFBSTdCLEVBQ0oyRSxFQUFLSCxFQUFLOUUsRUFDVmtGLEVBQUtKLEVBQUs3RSxFQUNWa0YsR0FBSyxJQUtULEVBQUcsQ0FDQyxHQUFJRCxHQUFNL0MsRUFBRWxDLEdBQUtpRixHQUFNL0MsRUFBRTFCLEtBQUtSLEdBQUtrQyxFQUFFMUIsS0FBS1IsSUFBTWtDLEVBQUVsQyxFQUFHLENBQ2pELElBQUlELEVBQUltQyxFQUFFbkMsR0FBS2tGLEVBQUsvQyxFQUFFbEMsSUFBTWtDLEVBQUUxQixLQUFLVCxFQUFJbUMsRUFBRW5DLElBQU1tQyxFQUFFMUIsS0FBS1IsRUFBSWtDLEVBQUVsQyxHQUM1RCxHQUFJRCxHQUFLaUYsR0FBTWpGLEVBQUltRixJQUNmQSxFQUFLbkYsRUFDTGdGLEVBQUk3QyxFQUFFbkMsRUFBSW1DLEVBQUUxQixLQUFLVCxFQUFJbUMsRUFBSUEsRUFBRTFCLEtBQ3ZCVCxJQUFNaUYsR0FBSSxPQUFPRCxDQUU3QixDQUNBN0MsRUFBSUEsRUFBRTFCLElBQ1YsT0FBUzBCLElBQU03QixHQUVmLElBQUswRSxFQUFHLE9BQU8sS0FNZixJQUlJSSxFQUpBaEMsRUFBTzRCLEVBQ1BLLEVBQUtMLEVBQUVoRixFQUNQc0YsRUFBS04sRUFBRS9FLEVBQ1BzRixFQUFTQyxJQUdickQsRUFBSTZDLEVBRUosR0FDUUMsR0FBTTlDLEVBQUVuQyxHQUFLbUMsRUFBRW5DLEdBQUtxRixHQUFNSixJQUFPOUMsRUFBRW5DLEdBQy9Cc0UsRUFBZ0JZLEVBQUtJLEVBQUtMLEVBQUtFLEVBQUlELEVBQUlHLEVBQUlDLEVBQUlKLEVBQUtJLEVBQUtILEVBQUtGLEVBQUlDLEVBQUkvQyxFQUFFbkMsRUFBR21DLEVBQUVsQyxLQUVqRm1GLEVBQU05RCxLQUFLbUUsSUFBSVAsRUFBSy9DLEVBQUVsQyxJQUFNZ0YsRUFBSzlDLEVBQUVuQyxHQUUvQjJFLEVBQWN4QyxFQUFHMkMsS0FDaEJNLEVBQU1HLEdBQVdILElBQVFHLElBQVdwRCxFQUFFbkMsRUFBSWdGLEVBQUVoRixHQUFNbUMsRUFBRW5DLElBQU1nRixFQUFFaEYsR0FBSzBGLEVBQXFCVixFQUFHN0MsT0FDMUY2QyxFQUFJN0MsRUFDSm9ELEVBQVNILElBSWpCakQsRUFBSUEsRUFBRTFCLFdBQ0QwQixJQUFNaUIsR0FFZixPQUFPNEIsQ0FDWCxDQWpFaUJXLENBQWViLEVBQU14RSxHQUNsQyxJQUFLeUUsRUFDRCxPQUFPekUsRUFHWCxJQUFJc0YsRUFBZ0JmLEVBQWFFLEVBQVFELEdBSXpDLE9BREE3QyxFQUFhMkQsRUFBZUEsRUFBY25GLE1BQ25Dd0IsRUFBYThDLEVBQVFBLEVBQU90RSxLQUN2QyxDQTBEQSxTQUFTaUYsRUFBcUJWLEVBQUc3QyxHQUM3QixPQUFPQyxFQUFLNEMsRUFBRXRFLEtBQU1zRSxFQUFHN0MsRUFBRXpCLE1BQVEsR0FBSzBCLEVBQUtELEVBQUUxQixLQUFNdUUsRUFBR0EsRUFBRXZFLE1BQVEsQ0FDcEUsQ0F3RUEsU0FBUytCLEVBQU94QyxFQUFHQyxFQUFHTCxFQUFNQyxFQUFNSyxHQWU5QixPQVBBRixFQUFxQixhQURyQkEsRUFBcUIsWUFEckJBLEVBQXFCLFlBRHJCQSxFQUFxQixXQUhyQkEsR0FBS0EsRUFBSUosR0FBUU0sRUFBVSxHQUdqQkYsR0FBSyxJQUNMQSxHQUFLLElBQ0xBLEdBQUssSUFDTEEsR0FBSyxLQUtmQyxFQUFxQixhQURyQkEsRUFBcUIsWUFEckJBLEVBQXFCLFlBRHJCQSxFQUFxQixXQVByQkEsR0FBS0EsRUFBSUosR0FBUUssRUFBVSxHQU9qQkQsR0FBSyxJQUNMQSxHQUFLLElBQ0xBLEdBQUssSUFDTEEsR0FBSyxLQUVFLENBQ3JCLENBR0EsU0FBU2dCLEVBQVlRLEdBQ2pCLElBQUlVLEVBQUlWLEVBQ0pvRSxFQUFXcEUsRUFDZixJQUNRVSxFQUFFbkMsRUFBSTZGLEVBQVM3RixHQUFNbUMsRUFBRW5DLElBQU02RixFQUFTN0YsR0FBS21DLEVBQUVsQyxFQUFJNEYsRUFBUzVGLEtBQUk0RixFQUFXMUQsR0FDN0VBLEVBQUlBLEVBQUUxQixXQUNEMEIsSUFBTVYsR0FFZixPQUFPb0UsQ0FDWCxDQUdBLFNBQVN2QixFQUFnQlYsRUFBSUcsRUFBSUYsRUFBSUcsRUFBSUYsRUFBSUcsRUFBSTZCLEVBQUlDLEdBQ2pELE9BQVFqQyxFQUFLZ0MsSUFBTy9CLEVBQUtnQyxLQUFRbkMsRUFBS2tDLElBQU83QixFQUFLOEIsS0FDMUNuQyxFQUFLa0MsSUFBTzlCLEVBQUsrQixLQUFRbEMsRUFBS2lDLElBQU8vQixFQUFLZ0MsS0FDMUNsQyxFQUFLaUMsSUFBTzdCLEVBQUs4QixLQUFRakMsRUFBS2dDLElBQU85QixFQUFLK0IsRUFDdEQsQ0FHQSxTQUFTbkIsRUFBZ0JuQixFQUFHQyxHQUN4QixPQUFPRCxFQUFFaEQsS0FBS0UsSUFBTStDLEVBQUUvQyxHQUFLOEMsRUFBRS9DLEtBQUtDLElBQU0rQyxFQUFFL0MsSUEyQzlDLFNBQTJCOEMsRUFBR0MsR0FDMUIsSUFBSXZCLEVBQUlzQixFQUNSLEVBQUcsQ0FDQyxHQUFJdEIsRUFBRXhCLElBQU04QyxFQUFFOUMsR0FBS3dCLEVBQUUxQixLQUFLRSxJQUFNOEMsRUFBRTlDLEdBQUt3QixFQUFFeEIsSUFBTStDLEVBQUUvQyxHQUFLd0IsRUFBRTFCLEtBQUtFLElBQU0rQyxFQUFFL0MsR0FDN0QrRCxFQUFXdkMsRUFBR0EsRUFBRTFCLEtBQU1nRCxFQUFHQyxHQUFJLE9BQU8sRUFDNUN2QixFQUFJQSxFQUFFMUIsSUFDVixPQUFTMEIsSUFBTXNCLEdBRWYsT0FBTyxDQUNYLENBcERvRHVDLENBQWtCdkMsRUFBR0MsS0FDN0RpQixFQUFjbEIsRUFBR0MsSUFBTWlCLEVBQWNqQixFQUFHRCxJQTZEcEQsU0FBc0JBLEVBQUdDLEdBQ3JCLElBQUl2QixFQUFJc0IsRUFDSndDLEdBQVMsRUFDVEgsR0FBTXJDLEVBQUV6RCxFQUFJMEQsRUFBRTFELEdBQUssRUFDbkIrRixHQUFNdEMsRUFBRXhELEVBQUl5RCxFQUFFekQsR0FBSyxFQUN2QixHQUNVa0MsRUFBRWxDLEVBQUk4RixHQUFTNUQsRUFBRTFCLEtBQUtSLEVBQUk4RixHQUFRNUQsRUFBRTFCLEtBQUtSLElBQU1rQyxFQUFFbEMsR0FDOUM2RixHQUFNM0QsRUFBRTFCLEtBQUtULEVBQUltQyxFQUFFbkMsSUFBTStGLEVBQUs1RCxFQUFFbEMsSUFBTWtDLEVBQUUxQixLQUFLUixFQUFJa0MsRUFBRWxDLEdBQUtrQyxFQUFFbkMsSUFDL0RpRyxHQUFVQSxHQUNkOUQsRUFBSUEsRUFBRTFCLFdBQ0QwQixJQUFNc0IsR0FFZixPQUFPd0MsQ0FDWCxDQTFFMERDLENBQWF6QyxFQUFHQyxLQUM3RHRCLEVBQUtxQixFQUFFL0MsS0FBTStDLEVBQUdDLEVBQUVoRCxPQUFTMEIsRUFBS3FCLEVBQUdDLEVBQUVoRCxLQUFNZ0QsS0FDNUMzQixFQUFPMEIsRUFBR0MsSUFBTXRCLEVBQUtxQixFQUFFL0MsS0FBTStDLEVBQUdBLEVBQUVoRCxNQUFRLEdBQUsyQixFQUFLc0IsRUFBRWhELEtBQU1nRCxFQUFHQSxFQUFFakQsTUFBUSxFQUNyRixDQUdBLFNBQVMyQixFQUFLRCxFQUFHUSxFQUFHd0QsR0FDaEIsT0FBUXhELEVBQUUxQyxFQUFJa0MsRUFBRWxDLElBQU1rRyxFQUFFbkcsRUFBSTJDLEVBQUUzQyxJQUFNMkMsRUFBRTNDLEVBQUltQyxFQUFFbkMsSUFBTW1HLEVBQUVsRyxFQUFJMEMsRUFBRTFDLEVBQzlELENBR0EsU0FBUzhCLEVBQU9xRSxFQUFJQyxHQUNoQixPQUFPRCxFQUFHcEcsSUFBTXFHLEVBQUdyRyxHQUFLb0csRUFBR25HLElBQU1vRyxFQUFHcEcsQ0FDeEMsQ0FHQSxTQUFTeUUsRUFBVzBCLEVBQUlFLEVBQUlELEVBQUlFLEdBQzVCLElBQUlDLEVBQUtDLEVBQUtyRSxFQUFLZ0UsRUFBSUUsRUFBSUQsSUFDdkJLLEVBQUtELEVBQUtyRSxFQUFLZ0UsRUFBSUUsRUFBSUMsSUFDdkJJLEVBQUtGLEVBQUtyRSxFQUFLaUUsRUFBSUUsRUFBSUgsSUFDdkJRLEVBQUtILEVBQUtyRSxFQUFLaUUsRUFBSUUsRUFBSUQsSUFFM0IsT0FBSUUsSUFBT0UsR0FBTUMsSUFBT0MsS0FFYixJQUFQSixJQUFZSyxFQUFVVCxFQUFJQyxFQUFJQyxPQUN2QixJQUFQSSxJQUFZRyxFQUFVVCxFQUFJRyxFQUFJRCxPQUN2QixJQUFQSyxJQUFZRSxFQUFVUixFQUFJRCxFQUFJRyxPQUN2QixJQUFQSyxJQUFZQyxFQUFVUixFQUFJQyxFQUFJQyxHQUd0QyxDQUdBLFNBQVNNLEVBQVUxRSxFQUFHUSxFQUFHd0QsR0FDckIsT0FBT3hELEVBQUUzQyxHQUFLc0IsS0FBS0MsSUFBSVksRUFBRW5DLEVBQUdtRyxFQUFFbkcsSUFBTTJDLEVBQUUzQyxHQUFLc0IsS0FBS3dGLElBQUkzRSxFQUFFbkMsRUFBR21HLEVBQUVuRyxJQUFNMkMsRUFBRTFDLEdBQUtxQixLQUFLQyxJQUFJWSxFQUFFbEMsRUFBR2tHLEVBQUVsRyxJQUFNMEMsRUFBRTFDLEdBQUtxQixLQUFLd0YsSUFBSTNFLEVBQUVsQyxFQUFHa0csRUFBRWxHLEVBQ3pILENBRUEsU0FBU3dHLEVBQUtNLEdBQ1YsT0FBT0EsRUFBTSxFQUFJLEVBQUlBLEVBQU0sR0FBSyxFQUFJLENBQ3hDLENBZUEsU0FBU3BDLEVBQWNsQixFQUFHQyxHQUN0QixPQUFPdEIsRUFBS3FCLEVBQUUvQyxLQUFNK0MsRUFBR0EsRUFBRWhELE1BQVEsRUFDN0IyQixFQUFLcUIsRUFBR0MsRUFBR0QsRUFBRWhELE9BQVMsR0FBSzJCLEVBQUtxQixFQUFHQSxFQUFFL0MsS0FBTWdELElBQU0sRUFDakR0QixFQUFLcUIsRUFBR0MsRUFBR0QsRUFBRS9DLE1BQVEsR0FBSzBCLEVBQUtxQixFQUFHQSxFQUFFaEQsS0FBTWlELEdBQUssQ0FDdkQsQ0FvQkEsU0FBU21CLEVBQWFwQixFQUFHQyxHQUNyQixJQUFJc0QsRUFBSyxJQUFJQyxFQUFLeEQsRUFBRTlDLEVBQUc4QyxFQUFFekQsRUFBR3lELEVBQUV4RCxHQUMxQmlILEVBQUssSUFBSUQsRUFBS3ZELEVBQUUvQyxFQUFHK0MsRUFBRTFELEVBQUcwRCxFQUFFekQsR0FDMUJrSCxFQUFLMUQsRUFBRWhELEtBQ1AyRyxFQUFLMUQsRUFBRWhELEtBY1gsT0FaQStDLEVBQUVoRCxLQUFPaUQsRUFDVEEsRUFBRWhELEtBQU8rQyxFQUVUdUQsRUFBR3ZHLEtBQU8wRyxFQUNWQSxFQUFHekcsS0FBT3NHLEVBRVZFLEVBQUd6RyxLQUFPdUcsRUFDVkEsRUFBR3RHLEtBQU93RyxFQUVWRSxFQUFHM0csS0FBT3lHLEVBQ1ZBLEVBQUd4RyxLQUFPMEcsRUFFSEYsQ0FDWCxDQUdBLFNBQVNwRixFQUFXbkIsRUFBR1gsRUFBR0MsRUFBRzJCLEdBQ3pCLElBQUlPLEVBQUksSUFBSThFLEVBQUt0RyxFQUFHWCxFQUFHQyxHQVl2QixPQVZLMkIsR0FLRE8sRUFBRTFCLEtBQU9tQixFQUFLbkIsS0FDZDBCLEVBQUV6QixLQUFPa0IsRUFDVEEsRUFBS25CLEtBQUtDLEtBQU95QixFQUNqQlAsRUFBS25CLEtBQU8wQixJQVBaQSxFQUFFekIsS0FBT3lCLEVBQ1RBLEVBQUUxQixLQUFPMEIsR0FRTkEsQ0FDWCxDQUVBLFNBQVNILEVBQVdHLEdBQ2hCQSxFQUFFMUIsS0FBS0MsS0FBT3lCLEVBQUV6QixLQUNoQnlCLEVBQUV6QixLQUFLRCxLQUFPMEIsRUFBRTFCLEtBRVowQixFQUFFTSxRQUFPTixFQUFFTSxNQUFNQyxNQUFRUCxFQUFFTyxPQUMzQlAsRUFBRU8sUUFBT1AsRUFBRU8sTUFBTUQsTUFBUU4sRUFBRU0sTUFDbkMsQ0FFQSxTQUFTd0UsRUFBS3RHLEVBQUdYLEVBQUdDLEdBRWhCb0gsS0FBSzFHLEVBQUlBLEVBR1QwRyxLQUFLckgsRUFBSUEsRUFDVHFILEtBQUtwSCxFQUFJQSxFQUdUb0gsS0FBSzNHLEtBQU8sS0FDWjJHLEtBQUs1RyxLQUFPLEtBR1o0RyxLQUFLOUUsRUFBSSxFQUdUOEUsS0FBSzVFLE1BQVEsS0FDYjRFLEtBQUszRSxNQUFRLEtBR2IyRSxLQUFLdEcsU0FBVSxDQUNuQixDQStCQSxTQUFTYyxFQUFXcEMsRUFBTWdDLEVBQU9DLEVBQUsvQixHQUVsQyxJQURBLElBQUkySCxFQUFNLEVBQ0QzRyxFQUFJYyxFQUFPOEYsRUFBSTdGLEVBQU0vQixFQUFLZ0IsRUFBSWUsRUFBS2YsR0FBS2hCLEVBQzdDMkgsSUFBUTdILEVBQUs4SCxHQUFLOUgsRUFBS2tCLEtBQU9sQixFQUFLa0IsRUFBSSxHQUFLbEIsRUFBSzhILEVBQUksSUFDckRBLEVBQUk1RyxFQUVSLE9BQU8yRyxDQUNYLENBcHBCQUUsRUFBT0MsUUFBVWpJLEVBQ2pCZ0ksRUFBT0MsUUFBUCxRQUF5QmpJLEVBaW5CekJBLEVBQU9rSSxVQUFZLFNBQVVqSSxFQUFNQyxFQUFhQyxFQUFLYSxHQUNqRCxJQUFJTCxFQUFXVCxHQUFlQSxFQUFZVSxPQUN0Q0MsRUFBV0YsRUFBV1QsRUFBWSxHQUFLQyxFQUFNRixFQUFLVyxPQUVsRHVILEVBQWNyRyxLQUFLbUUsSUFBSTVELEVBQVdwQyxFQUFNLEVBQUdZLEVBQVVWLElBQ3pELEdBQUlRLEVBQ0EsSUFBSyxJQUFJUSxFQUFJLEVBQUdDLEVBQU1sQixFQUFZVSxPQUFRTyxFQUFJQyxFQUFLRCxJQUFLLENBQ3BELElBQUljLEVBQVEvQixFQUFZaUIsR0FBS2hCLEVBQ3pCK0IsRUFBTWYsRUFBSUMsRUFBTSxFQUFJbEIsRUFBWWlCLEVBQUksR0FBS2hCLEVBQU1GLEVBQUtXLE9BQ3hEdUgsR0FBZXJHLEtBQUttRSxJQUFJNUQsRUFBV3BDLEVBQU1nQyxFQUFPQyxFQUFLL0IsR0FDekQsQ0FHSixJQUFJaUksRUFBZ0IsRUFDcEIsSUFBS2pILEVBQUksRUFBR0EsRUFBSUgsRUFBVUosT0FBUU8sR0FBSyxFQUFHLENBQ3RDLElBQUk4QyxFQUFJakQsRUFBVUcsR0FBS2hCLEVBQ25CK0QsRUFBSWxELEVBQVVHLEVBQUksR0FBS2hCLEVBQ3ZCZ0UsRUFBSW5ELEVBQVVHLEVBQUksR0FBS2hCLEVBQzNCaUksR0FBaUJ0RyxLQUFLbUUsS0FDakJoRyxFQUFLZ0UsR0FBS2hFLEVBQUtrRSxLQUFPbEUsRUFBS2lFLEVBQUksR0FBS2pFLEVBQUtnRSxFQUFJLEtBQzdDaEUsRUFBS2dFLEdBQUtoRSxFQUFLaUUsS0FBT2pFLEVBQUtrRSxFQUFJLEdBQUtsRSxFQUFLZ0UsRUFBSSxJQUN0RCxDQUVBLE9BQXVCLElBQWhCa0UsR0FBdUMsSUFBbEJDLEVBQXNCLEVBQzlDdEcsS0FBS21FLEtBQUttQyxFQUFnQkQsR0FBZUEsRUFDakQsRUFZQW5JLEVBQU9xSSxRQUFVLFNBQVVwSSxHQUt2QixJQUpBLElBQUlFLEVBQU1GLEVBQUssR0FBRyxHQUFHVyxPQUNqQjBILEVBQVMsQ0FBQ0MsU0FBVSxHQUFJQyxNQUFPLEdBQUlDLFdBQVl0SSxHQUMvQ3VJLEVBQVksRUFFUHZILEVBQUksRUFBR0EsRUFBSWxCLEVBQUtXLE9BQVFPLElBQUssQ0FDbEMsSUFBSyxJQUFJNEcsRUFBSSxFQUFHQSxFQUFJOUgsRUFBS2tCLEdBQUdQLE9BQVFtSCxJQUNoQyxJQUFLLElBQUlZLEVBQUksRUFBR0EsRUFBSXhJLEVBQUt3SSxJQUFLTCxFQUFPQyxTQUFTL0csS0FBS3ZCLEVBQUtrQixHQUFHNEcsR0FBR1ksSUFFOUR4SCxFQUFJLElBQ0p1SCxHQUFhekksRUFBS2tCLEVBQUksR0FBR1AsT0FDekIwSCxFQUFPRSxNQUFNaEgsS0FBS2tILEdBRTFCLENBQ0EsT0FBT0osQ0FDWCx3QkN0cUJBLElBQUlNLEVBQU1DLE9BQU9DLFVBQVVDLGVBQ3ZCQyxFQUFTLElBU2IsU0FBU0MsSUFBVSxDQTRCbkIsU0FBU0MsRUFBR0MsRUFBSUMsRUFBU0MsR0FDdkJ4QixLQUFLc0IsR0FBS0EsRUFDVnRCLEtBQUt1QixRQUFVQSxFQUNmdkIsS0FBS3dCLEtBQU9BLElBQVEsQ0FDdEIsQ0FhQSxTQUFTQyxFQUFZQyxFQUFTQyxFQUFPTCxFQUFJQyxFQUFTQyxHQUNoRCxHQUFrQixtQkFBUEYsRUFDVCxNQUFNLElBQUlNLFVBQVUsbUNBR3RCLElBQUlDLEVBQVcsSUFBSVIsRUFBR0MsRUFBSUMsR0FBV0csRUFBU0YsR0FDMUNNLEVBQU1YLEVBQVNBLEVBQVNRLEVBQVFBLEVBTXBDLE9BSktELEVBQVFLLFFBQVFELEdBQ1hKLEVBQVFLLFFBQVFELEdBQUtSLEdBQzFCSSxFQUFRSyxRQUFRRCxHQUFPLENBQUNKLEVBQVFLLFFBQVFELEdBQU1ELEdBRGhCSCxFQUFRSyxRQUFRRCxHQUFLbkksS0FBS2tJLElBRGxDSCxFQUFRSyxRQUFRRCxHQUFPRCxFQUFVSCxFQUFRTSxnQkFJN0ROLENBQ1QsQ0FTQSxTQUFTTyxFQUFXUCxFQUFTSSxHQUNJLEtBQXpCSixFQUFRTSxhQUFvQk4sRUFBUUssUUFBVSxJQUFJWCxTQUM1Q00sRUFBUUssUUFBUUQsRUFDOUIsQ0FTQSxTQUFTSSxJQUNQbEMsS0FBSytCLFFBQVUsSUFBSVgsRUFDbkJwQixLQUFLZ0MsYUFBZSxDQUN0QixDQXpFSWhCLE9BQU9tQixTQUNUZixFQUFPSCxVQUFZRCxPQUFPbUIsT0FBTyxPQU01QixJQUFJZixHQUFTZ0IsWUFBV2pCLEdBQVMsSUEyRXhDZSxFQUFhakIsVUFBVW9CLFdBQWEsV0FDbEMsSUFDSUMsRUFDQUMsRUFGQUMsRUFBUSxHQUlaLEdBQTBCLElBQXRCeEMsS0FBS2dDLGFBQW9CLE9BQU9RLEVBRXBDLElBQUtELEtBQVNELEVBQVN0QyxLQUFLK0IsUUFDdEJoQixFQUFJMEIsS0FBS0gsRUFBUUMsSUFBT0MsRUFBTTdJLEtBQUt3SCxFQUFTb0IsRUFBS0csTUFBTSxHQUFLSCxHQUdsRSxPQUFJdkIsT0FBTzJCLHNCQUNGSCxFQUFNSSxPQUFPNUIsT0FBTzJCLHNCQUFzQkwsSUFHNUNFLENBQ1QsRUFTQU4sRUFBYWpCLFVBQVU0QixVQUFZLFNBQW1CbEIsR0FDcEQsSUFBSUcsRUFBTVgsRUFBU0EsRUFBU1EsRUFBUUEsRUFDaENtQixFQUFXOUMsS0FBSytCLFFBQVFELEdBRTVCLElBQUtnQixFQUFVLE1BQU8sR0FDdEIsR0FBSUEsRUFBU3hCLEdBQUksTUFBTyxDQUFDd0IsRUFBU3hCLElBRWxDLElBQUssSUFBSWhJLEVBQUksRUFBR3lKLEVBQUlELEVBQVMvSixPQUFRaUssRUFBSyxJQUFJQyxNQUFNRixHQUFJekosRUFBSXlKLEVBQUd6SixJQUM3RDBKLEVBQUcxSixHQUFLd0osRUFBU3hKLEdBQUdnSSxHQUd0QixPQUFPMEIsQ0FDVCxFQVNBZCxFQUFhakIsVUFBVWlDLGNBQWdCLFNBQXVCdkIsR0FDNUQsSUFBSUcsRUFBTVgsRUFBU0EsRUFBU1EsRUFBUUEsRUFDaENrQixFQUFZN0MsS0FBSytCLFFBQVFELEdBRTdCLE9BQUtlLEVBQ0RBLEVBQVV2QixHQUFXLEVBQ2xCdUIsRUFBVTlKLE9BRk0sQ0FHekIsRUFTQW1KLEVBQWFqQixVQUFVa0MsS0FBTyxTQUFjeEIsRUFBT3lCLEVBQUl6RCxFQUFJMEQsRUFBSUMsRUFBSUMsR0FDakUsSUFBSXpCLEVBQU1YLEVBQVNBLEVBQVNRLEVBQVFBLEVBRXBDLElBQUszQixLQUFLK0IsUUFBUUQsR0FBTSxPQUFPLEVBRS9CLElBRUkwQixFQUNBbEssRUFIQXVKLEVBQVk3QyxLQUFLK0IsUUFBUUQsR0FDekJ2SSxFQUFNa0ssVUFBVTFLLE9BSXBCLEdBQUk4SixFQUFVdkIsR0FBSSxDQUdoQixPQUZJdUIsRUFBVXJCLE1BQU14QixLQUFLMEQsZUFBZS9CLEVBQU9rQixFQUFVdkIsUUFBSXFDLEdBQVcsR0FFaEVwSyxHQUNOLEtBQUssRUFBRyxPQUFPc0osRUFBVXZCLEdBQUdtQixLQUFLSSxFQUFVdEIsVUFBVSxFQUNyRCxLQUFLLEVBQUcsT0FBT3NCLEVBQVV2QixHQUFHbUIsS0FBS0ksRUFBVXRCLFFBQVM2QixJQUFLLEVBQ3pELEtBQUssRUFBRyxPQUFPUCxFQUFVdkIsR0FBR21CLEtBQUtJLEVBQVV0QixRQUFTNkIsRUFBSXpELElBQUssRUFDN0QsS0FBSyxFQUFHLE9BQU9rRCxFQUFVdkIsR0FBR21CLEtBQUtJLEVBQVV0QixRQUFTNkIsRUFBSXpELEVBQUkwRCxJQUFLLEVBQ2pFLEtBQUssRUFBRyxPQUFPUixFQUFVdkIsR0FBR21CLEtBQUtJLEVBQVV0QixRQUFTNkIsRUFBSXpELEVBQUkwRCxFQUFJQyxJQUFLLEVBQ3JFLEtBQUssRUFBRyxPQUFPVCxFQUFVdkIsR0FBR21CLEtBQUtJLEVBQVV0QixRQUFTNkIsRUFBSXpELEVBQUkwRCxFQUFJQyxFQUFJQyxJQUFLLEVBRzNFLElBQUtqSyxFQUFJLEVBQUdrSyxFQUFPLElBQUlQLE1BQU0xSixFQUFLLEdBQUlELEVBQUlDLEVBQUtELElBQzdDa0ssRUFBS2xLLEVBQUksR0FBS21LLFVBQVVuSyxHQUcxQnVKLEVBQVV2QixHQUFHc0MsTUFBTWYsRUFBVXRCLFFBQVNpQyxFQUN4QyxLQUFPLENBQ0wsSUFDSXRELEVBREFuSCxFQUFTOEosRUFBVTlKLE9BR3ZCLElBQUtPLEVBQUksRUFBR0EsRUFBSVAsRUFBUU8sSUFHdEIsT0FGSXVKLEVBQVV2SixHQUFHa0ksTUFBTXhCLEtBQUswRCxlQUFlL0IsRUFBT2tCLEVBQVV2SixHQUFHZ0ksUUFBSXFDLEdBQVcsR0FFdEVwSyxHQUNOLEtBQUssRUFBR3NKLEVBQVV2SixHQUFHZ0ksR0FBR21CLEtBQUtJLEVBQVV2SixHQUFHaUksU0FBVSxNQUNwRCxLQUFLLEVBQUdzQixFQUFVdkosR0FBR2dJLEdBQUdtQixLQUFLSSxFQUFVdkosR0FBR2lJLFFBQVM2QixHQUFLLE1BQ3hELEtBQUssRUFBR1AsRUFBVXZKLEdBQUdnSSxHQUFHbUIsS0FBS0ksRUFBVXZKLEdBQUdpSSxRQUFTNkIsRUFBSXpELEdBQUssTUFDNUQsS0FBSyxFQUFHa0QsRUFBVXZKLEdBQUdnSSxHQUFHbUIsS0FBS0ksRUFBVXZKLEdBQUdpSSxRQUFTNkIsRUFBSXpELEVBQUkwRCxHQUFLLE1BQ2hFLFFBQ0UsSUFBS0csRUFBTSxJQUFLdEQsRUFBSSxFQUFHc0QsRUFBTyxJQUFJUCxNQUFNMUosRUFBSyxHQUFJMkcsRUFBSTNHLEVBQUsyRyxJQUN4RHNELEVBQUt0RCxFQUFJLEdBQUt1RCxVQUFVdkQsR0FHMUIyQyxFQUFVdkosR0FBR2dJLEdBQUdzQyxNQUFNZixFQUFVdkosR0FBR2lJLFFBQVNpQyxHQUdwRCxDQUVBLE9BQU8sQ0FDVCxFQVdBdEIsRUFBYWpCLFVBQVU0QyxHQUFLLFNBQVlsQyxFQUFPTCxFQUFJQyxHQUNqRCxPQUFPRSxFQUFZekIsS0FBTTJCLEVBQU9MLEVBQUlDLEdBQVMsRUFDL0MsRUFXQVcsRUFBYWpCLFVBQVVPLEtBQU8sU0FBY0csRUFBT0wsRUFBSUMsR0FDckQsT0FBT0UsRUFBWXpCLEtBQU0yQixFQUFPTCxFQUFJQyxHQUFTLEVBQy9DLEVBWUFXLEVBQWFqQixVQUFVeUMsZUFBaUIsU0FBd0IvQixFQUFPTCxFQUFJQyxFQUFTQyxHQUNsRixJQUFJTSxFQUFNWCxFQUFTQSxFQUFTUSxFQUFRQSxFQUVwQyxJQUFLM0IsS0FBSytCLFFBQVFELEdBQU0sT0FBTzlCLEtBQy9CLElBQUtzQixFQUVILE9BREFXLEVBQVdqQyxLQUFNOEIsR0FDVjlCLEtBR1QsSUFBSTZDLEVBQVk3QyxLQUFLK0IsUUFBUUQsR0FFN0IsR0FBSWUsRUFBVXZCLEdBRVZ1QixFQUFVdkIsS0FBT0EsR0FDZkUsSUFBUXFCLEVBQVVyQixNQUNsQkQsR0FBV3NCLEVBQVV0QixVQUFZQSxHQUVuQ1UsRUFBV2pDLEtBQU04QixPQUVkLENBQ0wsSUFBSyxJQUFJeEksRUFBSSxFQUFHZ0osRUFBUyxHQUFJdkosRUFBUzhKLEVBQVU5SixPQUFRTyxFQUFJUCxFQUFRTyxLQUVoRXVKLEVBQVV2SixHQUFHZ0ksS0FBT0EsR0FDbkJFLElBQVNxQixFQUFVdkosR0FBR2tJLE1BQ3RCRCxHQUFXc0IsRUFBVXZKLEdBQUdpSSxVQUFZQSxJQUVyQ2UsRUFBTzNJLEtBQUtrSixFQUFVdkosSUFPdEJnSixFQUFPdkosT0FBUWlILEtBQUsrQixRQUFRRCxHQUF5QixJQUFsQlEsRUFBT3ZKLE9BQWV1SixFQUFPLEdBQUtBLEVBQ3BFTCxFQUFXakMsS0FBTThCLEVBQ3hCLENBRUEsT0FBTzlCLElBQ1QsRUFTQWtDLEVBQWFqQixVQUFVNkMsbUJBQXFCLFNBQTRCbkMsR0FDdEUsSUFBSUcsRUFVSixPQVJJSCxHQUNGRyxFQUFNWCxFQUFTQSxFQUFTUSxFQUFRQSxFQUM1QjNCLEtBQUsrQixRQUFRRCxJQUFNRyxFQUFXakMsS0FBTThCLEtBRXhDOUIsS0FBSytCLFFBQVUsSUFBSVgsRUFDbkJwQixLQUFLZ0MsYUFBZSxHQUdmaEMsSUFDVCxFQUtBa0MsRUFBYWpCLFVBQVU4QyxJQUFNN0IsRUFBYWpCLFVBQVV5QyxlQUNwRHhCLEVBQWFqQixVQUFVUSxZQUFjUyxFQUFhakIsVUFBVTRDLEdBSzVEM0IsRUFBYThCLFNBQVc3QyxFQUt4QmUsRUFBYUEsYUFBZUEsRUFNMUIvQixFQUFPQyxRQUFVOEIsd0JDdFVuQixJQUFJUyxFQUF3QjNCLE9BQU8yQixzQkFDL0J6QixFQUFpQkYsT0FBT0MsVUFBVUMsZUFDbEMrQyxFQUFtQmpELE9BQU9DLFVBQVVpRCxxQkFFeEMsU0FBU0MsRUFBU0MsR0FDakIsR0FBSUEsUUFDSCxNQUFNLElBQUl4QyxVQUFVLHlEQUdyQixPQUFPWixPQUFPb0QsRUFDZixDQThDQWpFLEVBQU9DLFFBNUNQLFdBQ0MsSUFDQyxJQUFLWSxPQUFPcUQsT0FDWCxPQUFPLEVBTVIsSUFBSUMsRUFBUSxJQUFJQyxPQUFPLE9BRXZCLEdBREFELEVBQU0sR0FBSyxLQUNrQyxNQUF6Q3RELE9BQU93RCxvQkFBb0JGLEdBQU8sR0FDckMsT0FBTyxFQUtSLElBREEsSUFBSUcsRUFBUSxDQUFDLEVBQ0puTCxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDdkJtTCxFQUFNLElBQU1GLE9BQU9HLGFBQWFwTCxJQUFNQSxFQUt2QyxHQUF3QixlQUhYMEgsT0FBT3dELG9CQUFvQkMsR0FBT0UsS0FBSSxTQUFVdkgsR0FDNUQsT0FBT3FILEVBQU1ySCxFQUNkLElBQ1d3SCxLQUFLLElBQ2YsT0FBTyxFQUlSLElBQUlDLEVBQVEsQ0FBQyxFQUliLE1BSEEsdUJBQXVCQyxNQUFNLElBQUlDLFNBQVEsU0FBVUMsR0FDbERILEVBQU1HLEdBQVVBLENBQ2pCLElBRUUseUJBREVoRSxPQUFPaUUsS0FBS2pFLE9BQU9xRCxPQUFPLENBQUMsRUFBR1EsSUFBUUQsS0FBSyxHQVNoRCxDQUhFLE1BQU9NLEdBRVIsT0FBTyxDQUNSLENBQ0QsQ0FFaUJDLEdBQW9CbkUsT0FBT3FELE9BQVMsU0FBVWUsRUFBUUMsR0FLdEUsSUFKQSxJQUFJQyxFQUVBQyxFQURBQyxFQUFLckIsRUFBU2lCLEdBR1RLLEVBQUksRUFBR0EsRUFBSWhDLFVBQVUxSyxPQUFRME0sSUFBSyxDQUcxQyxJQUFLLElBQUlDLEtBRlRKLEVBQU90RSxPQUFPeUMsVUFBVWdDLElBR25CdkUsRUFBZXVCLEtBQUs2QyxFQUFNSSxLQUM3QkYsRUFBR0UsR0FBT0osRUFBS0ksSUFJakIsR0FBSS9DLEVBQXVCLENBQzFCNEMsRUFBVTVDLEVBQXNCMkMsR0FDaEMsSUFBSyxJQUFJaE0sRUFBSSxFQUFHQSxFQUFJaU0sRUFBUXhNLE9BQVFPLElBQy9CMkssRUFBaUJ4QixLQUFLNkMsRUFBTUMsRUFBUWpNLE1BQ3ZDa00sRUFBR0QsRUFBUWpNLElBQU1nTSxFQUFLQyxFQUFRak0sSUFHakMsQ0FDRCxDQUVBLE9BQU9rTSxDQUNSLHVCQ3pGQSxpQkFDRSxTQUFTRyxHQUdzQ3ZGLEdBQzlDQSxFQUFRd0YsU0FDb0N6RixHQUM1Q0EsRUFBT3lGLFNBSFQsSUFJSUMsRUFBOEIsaUJBQVYsRUFBQUMsR0FBc0IsRUFBQUEsRUFFN0NELEVBQVdFLFNBQVdGLEdBQ3RCQSxFQUFXRyxTQUFXSCxHQUN0QkEsRUFBV0ksS0FVWixJQUFJQyxFQUdKQyxFQUFTLFdBR1RDLEVBQU8sR0FVUEMsRUFBZ0IsUUFDaEJDLEVBQWdCLGVBQ2hCQyxFQUFrQiw0QkFHbEJDLEVBQVMsQ0FDUixTQUFZLGtEQUNaLFlBQWEsaURBQ2IsZ0JBQWlCLGlCQUtsQkMsRUFBUXhNLEtBQUt3TSxNQUNiQyxFQUFxQm5DLE9BQU9HLGFBYTVCLFNBQVNpQyxFQUFNQyxHQUNkLE1BQU1DLFdBQVdMLEVBQU9JLEdBQ3pCLENBVUEsU0FBU2pDLEVBQUltQyxFQUFPeEYsR0FHbkIsSUFGQSxJQUFJdkksRUFBUytOLEVBQU0vTixPQUNmMEgsRUFBUyxHQUNOMUgsS0FDTjBILEVBQU8xSCxHQUFVdUksRUFBR3dGLEVBQU0vTixJQUUzQixPQUFPMEgsQ0FDUixDQVlBLFNBQVNzRyxFQUFVQyxFQUFRMUYsR0FDMUIsSUFBSTJGLEVBQVFELEVBQU9sQyxNQUFNLEtBQ3JCckUsRUFBUyxHQVdiLE9BVkl3RyxFQUFNbE8sT0FBUyxJQUdsQjBILEVBQVN3RyxFQUFNLEdBQUssSUFDcEJELEVBQVNDLEVBQU0sSUFNVHhHLEVBRE9rRSxHQUZkcUMsRUFBU0EsRUFBT0UsUUFBUVgsRUFBaUIsTUFDckJ6QixNQUFNLEtBQ0F4RCxHQUFJc0QsS0FBSyxJQUVwQyxDQWVBLFNBQVN1QyxFQUFXSCxHQU1uQixJQUxBLElBR0lJLEVBQ0FDLEVBSkFDLEVBQVMsR0FDVEMsRUFBVSxFQUNWeE8sRUFBU2lPLEVBQU9qTyxPQUdid08sRUFBVXhPLElBQ2hCcU8sRUFBUUosRUFBT1EsV0FBV0QsT0FDYixPQUFVSCxHQUFTLE9BQVVHLEVBQVV4TyxFQUczQixRQUFYLE9BRGJzTyxFQUFRTCxFQUFPUSxXQUFXRCxPQUV6QkQsRUFBTzNOLE9BQWUsS0FBUnlOLElBQWtCLEtBQWUsS0FBUkMsR0FBaUIsUUFJeERDLEVBQU8zTixLQUFLeU4sR0FDWkcsS0FHREQsRUFBTzNOLEtBQUt5TixHQUdkLE9BQU9FLENBQ1IsQ0FVQSxTQUFTRyxFQUFXWCxHQUNuQixPQUFPbkMsRUFBSW1DLEdBQU8sU0FBU00sR0FDMUIsSUFBSUUsRUFBUyxHQU9iLE9BTklGLEVBQVEsUUFFWEUsR0FBVVosR0FEVlUsR0FBUyxTQUM4QixHQUFLLEtBQVEsT0FDcERBLEVBQVEsTUFBaUIsS0FBUkEsR0FFbEJFLEVBQVVaLEVBQW1CVSxFQUU5QixJQUFHeEMsS0FBSyxHQUNULENBbUNBLFNBQVM4QyxFQUFhQyxFQUFPQyxHQUc1QixPQUFPRCxFQUFRLEdBQUssSUFBTUEsRUFBUSxNQUFnQixHQUFSQyxJQUFjLEVBQ3pELENBT0EsU0FBU0MsRUFBTUMsRUFBT0MsRUFBV0MsR0FDaEMsSUFBSUMsRUFBSSxFQUdSLElBRkFILEVBQVFFLEVBQVl2QixFQUFNcUIsRUExTHBCLEtBMExvQ0EsR0FBUyxFQUNuREEsR0FBU3JCLEVBQU1xQixFQUFRQyxHQUNPRCxFQUFRSSxJQUEyQkQsR0FBSzdCLEVBQ3JFMEIsRUFBUXJCLEVBQU1xQixFQTNLQTFCLElBNktmLE9BQU9LLEVBQU13QixFQUFJLEdBQXNCSCxHQUFTQSxFQWhNMUMsSUFpTVAsQ0FTQSxTQUFTSyxFQUFPQyxHQUVmLElBRUlDLEVBSUFDLEVBQ0FwSSxFQUNBcUksRUFDQUMsRUFDQUMsRUFDQVIsRUFDQU4sRUFDQWUsRUFFQUMsRUFyRWlCQyxFQXNEakJ0QixFQUFTLEdBQ1R1QixFQUFjVCxFQUFNclAsT0FFcEJPLEVBQUksRUFDSjhELEVBN01NLElBOE1OMEwsRUEvTVMsR0FvT2IsS0FMQVIsRUFBUUYsRUFBTVcsWUE3TkgsTUE4TkMsSUFDWFQsRUFBUSxHQUdKcEksRUFBSSxFQUFHQSxFQUFJb0ksSUFBU3BJLEVBRXBCa0ksRUFBTVosV0FBV3RILElBQU0sS0FDMUJ5RyxFQUFNLGFBRVBXLEVBQU8zTixLQUFLeU8sRUFBTVosV0FBV3RILElBTTlCLElBQUtxSSxFQUFRRCxFQUFRLEVBQUlBLEVBQVEsRUFBSSxFQUFHQyxFQUFRTSxHQUF3QyxDQU92RixJQUFLTCxFQUFPbFAsRUFBR21QLEVBQUksRUFBR1IsRUFBSTdCLEVBRXJCbUMsR0FBU00sR0FDWmxDLEVBQU0sbUJBR1BnQixHQXhHbUJpQixFQXdHRVIsRUFBTVosV0FBV2UsTUF2R3hCLEdBQUssR0FDYkssRUFBWSxHQUVoQkEsRUFBWSxHQUFLLEdBQ2JBLEVBQVksR0FFaEJBLEVBQVksR0FBSyxHQUNiQSxFQUFZLEdBRWJ4QyxJQWdHUUEsR0FBUXVCLEVBQVFsQixHQUFPTixFQUFTN00sR0FBS21QLEtBQ2pEOUIsRUFBTSxZQUdQck4sR0FBS3FPLEVBQVFjLElBR1RkLEdBRkplLEVBQUlULEdBQUthLEVBdlFMLEVBdVFvQmIsR0FBS2EsRUF0UXpCLE1Bc1E4Q2IsRUFBSWEsSUFiSGIsR0FBSzdCLEVBb0JwRHFDLEVBQUloQyxFQUFNTixHQURkd0MsRUFBYXZDLEVBQU9zQyxLQUVuQi9CLEVBQU0sWUFHUDhCLEdBQUtFLEVBS05HLEVBQU9qQixFQUFNdk8sRUFBSWtQLEVBRGpCSCxFQUFNZixFQUFPdk8sT0FBUyxFQUNjLEdBQVJ5UCxHQUl4Qi9CLEVBQU1uTixFQUFJK08sR0FBT2xDLEVBQVMvSSxHQUM3QnVKLEVBQU0sWUFHUHZKLEdBQUtxSixFQUFNbk4sRUFBSStPLEdBQ2YvTyxHQUFLK08sRUFHTGYsRUFBTzBCLE9BQU8xUCxJQUFLLEVBQUc4RCxFQUV2QixDQUVBLE9BQU9xSyxFQUFXSCxFQUNuQixDQVNBLFNBQVMyQixFQUFPYixHQUNmLElBQUloTCxFQUNBMEssRUFDQW9CLEVBQ0FDLEVBQ0FMLEVBQ0E1SSxFQUNBdkMsRUFDQXJDLEVBQ0EyTSxFQUNBUyxFQUNBVSxFQUdBUCxFQUVBUSxFQUNBVixFQUNBVyxFQU5BaEMsRUFBUyxHQW9CYixJQVJBdUIsR0FIQVQsRUFBUWpCLEVBQVdpQixJQUdDclAsT0FHcEJxRSxFQXZVVSxJQXdVVjBLLEVBQVEsRUFDUmdCLEVBMVVhLEdBNlVSNUksRUFBSSxFQUFHQSxFQUFJMkksSUFBZTNJLEdBQzlCa0osRUFBZWhCLEVBQU1sSSxJQUNGLEtBQ2xCb0gsRUFBTzNOLEtBQUsrTSxFQUFtQjBDLElBZWpDLElBWEFGLEVBQWlCQyxFQUFjN0IsRUFBT3ZPLE9BTWxDb1EsR0FDSDdCLEVBQU8zTixLQXpWRyxLQTZWSnVQLEVBQWlCTCxHQUFhLENBSXBDLElBQUtsTCxFQUFJd0ksRUFBUWpHLEVBQUksRUFBR0EsRUFBSTJJLElBQWUzSSxHQUMxQ2tKLEVBQWVoQixFQUFNbEksS0FDRDlDLEdBQUtnTSxFQUFlekwsSUFDdkNBLEVBQUl5TCxHQWNOLElBUEl6TCxFQUFJUCxFQUFJcUosR0FBT04sRUFBUzJCLElBRDVCdUIsRUFBd0JILEVBQWlCLEtBRXhDdkMsRUFBTSxZQUdQbUIsSUFBVW5LLEVBQUlQLEdBQUtpTSxFQUNuQmpNLEVBQUlPLEVBRUN1QyxFQUFJLEVBQUdBLEVBQUkySSxJQUFlM0ksRUFPOUIsSUFOQWtKLEVBQWVoQixFQUFNbEksSUFFRjlDLEtBQU8wSyxFQUFRM0IsR0FDakNRLEVBQU0sWUFHSHlDLEdBQWdCaE0sRUFBRyxDQUV0QixJQUFLOUIsRUFBSXdNLEVBQU9HLEVBQUk3QixJQUVmOUssR0FESm9OLEVBQUlULEdBQUthLEVBbFlQLEVBa1lzQmIsR0FBS2EsRUFqWTNCLE1BaVlnRGIsRUFBSWEsSUFEVGIsR0FBSzdCLEVBS2xEa0QsRUFBVWhPLEVBQUlvTixFQUNkQyxFQUFhdkMsRUFBT3NDLEVBQ3BCcEIsRUFBTzNOLEtBQ04rTSxFQUFtQmdCLEVBQWFnQixFQUFJWSxFQUFVWCxFQUFZLEtBRTNEck4sRUFBSW1MLEVBQU02QyxFQUFVWCxHQUdyQnJCLEVBQU8zTixLQUFLK00sRUFBbUJnQixFQUFhcE0sRUFBRyxLQUMvQ3dOLEVBQU9qQixFQUFNQyxFQUFPdUIsRUFBdUJILEdBQWtCQyxHQUM3RHJCLEVBQVEsSUFDTm9CLENBQ0gsR0FHQ3BCLElBQ0ExSyxDQUVILENBQ0EsT0FBT2tLLEVBQU8xQyxLQUFLLEdBQ3BCLENBMkNBc0IsRUFBVyxDQU1WLFFBQVcsUUFRWCxLQUFRLENBQ1AsT0FBVWlCLEVBQ1YsT0FBVU0sR0FFWCxPQUFVVSxFQUNWLE9BQVVjLEVBQ1YsUUEvQkQsU0FBaUJiLEdBQ2hCLE9BQU9yQixFQUFVcUIsR0FBTyxTQUFTcEIsR0FDaEMsT0FBT1YsRUFBY2lELEtBQUt2QyxHQUN2QixPQUFTaUMsRUFBT2pDLEdBQ2hCQSxDQUNKLEdBQ0QsRUEwQkMsVUFuREQsU0FBbUJvQixHQUNsQixPQUFPckIsRUFBVXFCLEdBQU8sU0FBU3BCLEdBQ2hDLE9BQU9YLEVBQWNrRCxLQUFLdkMsR0FDdkJtQixFQUFPbkIsRUFBT3RFLE1BQU0sR0FBRzhHLGVBQ3ZCeEMsQ0FDSixHQUNELFFBMERFLEtBRkQsYUFDQyxPQUFPZCxDQUNQLCtCQWFILENBaGhCQyx5QkN5QkQsU0FBU2hGLEVBQWV1SSxFQUFLQyxHQUMzQixPQUFPMUksT0FBT0MsVUFBVUMsZUFBZXVCLEtBQUtnSCxFQUFLQyxFQUNuRCxDQUVBdkosRUFBT0MsUUFBVSxTQUFTdUosRUFBSUMsRUFBS0MsRUFBSUMsR0FDckNGLEVBQU1BLEdBQU8sSUFDYkMsRUFBS0EsR0FBTSxJQUNYLElBQUlKLEVBQU0sQ0FBQyxFQUVYLEdBQWtCLGlCQUFQRSxHQUFpQyxJQUFkQSxFQUFHNVEsT0FDL0IsT0FBTzBRLEVBR1QsSUFBSU0sRUFBUyxNQUNiSixFQUFLQSxFQUFHN0UsTUFBTThFLEdBRWQsSUFBSUksRUFBVSxJQUNWRixHQUFzQyxpQkFBcEJBLEVBQVFFLFVBQzVCQSxFQUFVRixFQUFRRSxTQUdwQixJQUFJelEsRUFBTW9RLEVBQUc1USxPQUVUaVIsRUFBVSxHQUFLelEsRUFBTXlRLElBQ3ZCelEsRUFBTXlRLEdBR1IsSUFBSyxJQUFJMVEsRUFBSSxFQUFHQSxFQUFJQyxJQUFPRCxFQUFHLENBQzVCLElBRUkyUSxFQUFNQyxFQUFNakMsRUFBR2tDLEVBRmZ4UixFQUFJZ1IsRUFBR3JRLEdBQUc0TixRQUFRNkMsRUFBUSxPQUMxQkssRUFBTXpSLEVBQUUwUixRQUFRUixHQUdoQk8sR0FBTyxHQUNUSCxFQUFPdFIsRUFBRTJSLE9BQU8sRUFBR0YsR0FDbkJGLEVBQU92UixFQUFFMlIsT0FBT0YsRUFBTSxLQUV0QkgsRUFBT3RSLEVBQ1B1UixFQUFPLElBR1RqQyxFQUFJc0MsbUJBQW1CTixHQUN2QkUsRUFBSUksbUJBQW1CTCxHQUVsQmhKLEVBQWV1SSxFQUFLeEIsR0FFZGhGLE1BQU11SCxRQUFRZixFQUFJeEIsSUFDM0J3QixFQUFJeEIsR0FBR3RPLEtBQUt3USxHQUVaVixFQUFJeEIsR0FBSyxDQUFDd0IsRUFBSXhCLEdBQUlrQyxHQUpsQlYsRUFBSXhCLEdBQUtrQyxDQU1iLENBRUEsT0FBT1YsQ0FDVCx3QkN4REEsSUFBSWdCLEVBQXFCLFNBQVNOLEdBQ2hDLGNBQWVBLEdBQ2IsSUFBSyxTQUNILE9BQU9BLEVBRVQsSUFBSyxVQUNILE9BQU9BLEVBQUksT0FBUyxRQUV0QixJQUFLLFNBQ0gsT0FBT08sU0FBU1AsR0FBS0EsRUFBSSxHQUUzQixRQUNFLE1BQU8sR0FFYixFQUVBaEssRUFBT0MsUUFBVSxTQUFTcUosRUFBS0csRUFBS0MsRUFBSXRILEdBT3RDLE9BTkFxSCxFQUFNQSxHQUFPLElBQ2JDLEVBQUtBLEdBQU0sSUFDQyxPQUFSSixJQUNGQSxPQUFNOUYsR0FHVyxpQkFBUjhGLEVBQ0Z6SSxPQUFPaUUsS0FBS3dFLEdBQUs5RSxLQUFJLFNBQVNzRCxHQUNuQyxJQUFJMEMsRUFBS0MsbUJBQW1CSCxFQUFtQnhDLElBQU00QixFQUNyRCxPQUFJNUcsTUFBTXVILFFBQVFmLEVBQUl4QixJQUNid0IsRUFBSXhCLEdBQUd0RCxLQUFJLFNBQVN3RixHQUN6QixPQUFPUSxFQUFLQyxtQkFBbUJILEVBQW1CTixHQUNwRCxJQUFHdkYsS0FBS2dGLEdBRURlLEVBQUtDLG1CQUFtQkgsRUFBbUJoQixFQUFJeEIsSUFFMUQsSUFBR3JELEtBQUtnRixHQUlMckgsRUFDRXFJLG1CQUFtQkgsRUFBbUJsSSxJQUFTc0gsRUFDL0NlLG1CQUFtQkgsRUFBbUJoQixJQUYzQixFQUdwQiw4QkM3REFySixFQUFRK0gsT0FBUy9ILEVBQVF5SyxNQUFRLEVBQWhCLEtBQ2pCekssRUFBUTZJLE9BQVM3SSxFQUFRMEssVUFBWSxFQUFwQixxQ0NvQmI1RSxFQUFXLEVBQVEsS0FDbkI2RSxFQUFPLEVBQVEsS0FTbkIsU0FBU0MsSUFDUGhMLEtBQUtpTCxTQUFXLEtBQ2hCakwsS0FBS2tMLFFBQVUsS0FDZmxMLEtBQUttTCxLQUFPLEtBQ1puTCxLQUFLb0wsS0FBTyxLQUNacEwsS0FBS3FMLEtBQU8sS0FDWnJMLEtBQUtzTCxTQUFXLEtBQ2hCdEwsS0FBS3VMLEtBQU8sS0FDWnZMLEtBQUt3TCxPQUFTLEtBQ2R4TCxLQUFLeUwsTUFBUSxLQUNiekwsS0FBSzBMLFNBQVcsS0FDaEIxTCxLQUFLMkwsS0FBTyxLQUNaM0wsS0FBSzRMLEtBQU8sSUFDZCxDQXBCQXhMLEVBQVEsR0FBUXlMLEVBQ2hCekwsRUFBUSxHQTBaUixTQUFvQmlGLEVBQVF5RyxHQUMxQixPQUFPRCxFQUFTeEcsR0FBUSxHQUFPLEdBQU0wRyxRQUFRRCxFQUMvQyxFQTFaQTFMLEVBQVEsR0FzVlIsU0FBbUJxSixHQU1qQixPQURJc0IsRUFBS2lCLFNBQVN2QyxLQUFNQSxFQUFNb0MsRUFBU3BDLElBQ2pDQSxhQUFldUIsRUFDZHZCLEVBQUl3QyxTQUR1QmpCLEVBQUkvSixVQUFVZ0wsT0FBT3hKLEtBQUtnSCxFQUU5RCxFQXZVQSxJQUFJeUMsRUFBa0Isb0JBQ2xCQyxFQUFjLFdBR2RDLEVBQW9CLHFDQU9wQkMsRUFBUyxDQUFDLElBQUssSUFBSyxJQUFLLEtBQU0sSUFBSyxLQUFLekosT0FIaEMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FBTSxLQUFNLE9BTS9DMEosRUFBYSxDQUFDLEtBQU0xSixPQUFPeUosR0FLM0JFLEVBQWUsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLEtBQUszSixPQUFPMEosR0FDaERFLEVBQWtCLENBQUMsSUFBSyxJQUFLLEtBRTdCQyxFQUFzQix5QkFDdEJDLEVBQW9CLCtCQUVwQkMsRUFBaUIsQ0FDZixZQUFjLEVBQ2QsZUFBZSxHQUdqQkMsRUFBbUIsQ0FDakIsWUFBYyxFQUNkLGVBQWUsR0FHakJDLEVBQWtCLENBQ2hCLE1BQVEsRUFDUixPQUFTLEVBQ1QsS0FBTyxFQUNQLFFBQVUsRUFDVixNQUFRLEVBQ1IsU0FBUyxFQUNULFVBQVUsRUFDVixRQUFRLEVBQ1IsV0FBVyxFQUNYLFNBQVMsR0FFWEMsRUFBYyxFQUFRLEtBRTFCLFNBQVNqQixFQUFTa0IsRUFBS0MsRUFBa0JDLEdBQ3ZDLEdBQUlGLEdBQU9oQyxFQUFLbUMsU0FBU0gsSUFBUUEsYUFBZS9CLEVBQUssT0FBTytCLEVBRTVELElBQUlJLEVBQUksSUFBSW5DLEVBRVosT0FEQW1DLEVBQUV0QyxNQUFNa0MsRUFBS0MsRUFBa0JDLEdBQ3hCRSxDQUNULENBRUFuQyxFQUFJL0osVUFBVTRKLE1BQVEsU0FBU2tDLEVBQUtDLEVBQWtCQyxHQUNwRCxJQUFLbEMsRUFBS2lCLFNBQVNlLEdBQ2pCLE1BQU0sSUFBSW5MLFVBQVUsZ0RBQWtEbUwsR0FNeEUsSUFBSUssRUFBYUwsRUFBSTFDLFFBQVEsS0FDekJnRCxHQUNxQixJQUFoQkQsR0FBcUJBLEVBQWFMLEVBQUkxQyxRQUFRLEtBQVEsSUFBTSxJQUNqRWlELEVBQVNQLEVBQUlqSSxNQUFNdUksR0FFdkJDLEVBQU8sR0FBS0EsRUFBTyxHQUFHcEcsUUFETCxNQUN5QixLQUcxQyxJQUFJcUcsRUFGSlIsRUFBTU8sRUFBTzFJLEtBQUt5SSxHQVFsQixHQUZBRSxFQUFPQSxFQUFLQyxRQUVQUCxHQUErQyxJQUExQkYsRUFBSWpJLE1BQU0sS0FBSy9MLE9BQWMsQ0FFckQsSUFBSTBVLEVBQWFyQixFQUFrQnNCLEtBQUtILEdBQ3hDLEdBQUlFLEVBZUYsT0FkQXpOLEtBQUsyTCxLQUFPNEIsRUFDWnZOLEtBQUs0TCxLQUFPMkIsRUFDWnZOLEtBQUswTCxTQUFXK0IsRUFBVyxHQUN2QkEsRUFBVyxJQUNiek4sS0FBS3dMLE9BQVNpQyxFQUFXLEdBRXZCek4sS0FBS3lMLE1BREh1QixFQUNXRixFQUFZakMsTUFBTTdLLEtBQUt3TCxPQUFPbEIsT0FBTyxJQUVyQ3RLLEtBQUt3TCxPQUFPbEIsT0FBTyxJQUV6QjBDLElBQ1RoTixLQUFLd0wsT0FBUyxHQUNkeEwsS0FBS3lMLE1BQVEsQ0FBQyxHQUVUekwsSUFFWCxDQUVBLElBQUkyTixFQUFRekIsRUFBZ0J3QixLQUFLSCxHQUNqQyxHQUFJSSxFQUFPLENBRVQsSUFBSUMsR0FESkQsRUFBUUEsRUFBTSxJQUNTbkUsY0FDdkJ4SixLQUFLaUwsU0FBVzJDLEVBQ2hCTCxFQUFPQSxFQUFLakQsT0FBT3FELEVBQU01VSxPQUMzQixDQU1BLEdBQUlrVSxHQUFxQlUsR0FBU0osRUFBS00sTUFBTSx3QkFBeUIsQ0FDcEUsSUFBSTNDLEVBQWdDLE9BQXRCcUMsRUFBS2pELE9BQU8sRUFBRyxJQUN6QlksR0FBYXlDLEdBQVNmLEVBQWlCZSxLQUN6Q0osRUFBT0EsRUFBS2pELE9BQU8sR0FDbkJ0SyxLQUFLa0wsU0FBVSxFQUVuQixDQUVBLElBQUswQixFQUFpQmUsS0FDakJ6QyxHQUFZeUMsSUFBVWQsRUFBZ0JjLElBQVUsQ0FtQm5ELElBREEsSUFTSXhDLEVBQU0yQyxFQVROQyxHQUFXLEVBQ056VSxFQUFJLEVBQUdBLEVBQUlrVCxFQUFnQnpULE9BQVFPLEtBRTdCLEtBRFQwVSxFQUFNVCxFQUFLbEQsUUFBUW1DLEVBQWdCbFQsUUFDUCxJQUFieVUsR0FBa0JDLEVBQU1ELEtBQ3pDQSxFQUFVQyxHQXlCZCxLQVJnQixLQVRkRixHQUZlLElBQWJDLEVBRU9SLEVBQUt4RSxZQUFZLEtBSWpCd0UsRUFBS3hFLFlBQVksSUFBS2dGLE1BTS9CNUMsRUFBT29DLEVBQUs3SyxNQUFNLEVBQUdvTCxHQUNyQlAsRUFBT0EsRUFBSzdLLE1BQU1vTCxFQUFTLEdBQzNCOU4sS0FBS21MLEtBQU9aLG1CQUFtQlksSUFJakM0QyxHQUFXLEVBQ0Z6VSxFQUFJLEVBQUdBLEVBQUlpVCxFQUFheFQsT0FBUU8sSUFBSyxDQUM1QyxJQUFJMFUsR0FDUyxLQURUQSxFQUFNVCxFQUFLbEQsUUFBUWtDLEVBQWFqVCxRQUNKLElBQWJ5VSxHQUFrQkMsRUFBTUQsS0FDekNBLEVBQVVDLEVBQ2QsRUFFaUIsSUFBYkQsSUFDRkEsRUFBVVIsRUFBS3hVLFFBRWpCaUgsS0FBS29MLEtBQU9tQyxFQUFLN0ssTUFBTSxFQUFHcUwsR0FDMUJSLEVBQU9BLEVBQUs3SyxNQUFNcUwsR0FHbEIvTixLQUFLaU8sWUFJTGpPLEtBQUtzTCxTQUFXdEwsS0FBS3NMLFVBQVksR0FJakMsSUFBSTRDLEVBQW9DLE1BQXJCbE8sS0FBS3NMLFNBQVMsSUFDZSxNQUE1Q3RMLEtBQUtzTCxTQUFTdEwsS0FBS3NMLFNBQVN2UyxPQUFTLEdBR3pDLElBQUttVixFQUVILElBREEsSUFBSUMsRUFBWW5PLEtBQUtzTCxTQUFTeEcsTUFBTSxNQUNwQi9CLEdBQVB6SixFQUFJLEVBQU82VSxFQUFVcFYsUUFBUU8sRUFBSXlKLEVBQUd6SixJQUFLLENBQ2hELElBQUk4VSxFQUFPRCxFQUFVN1UsR0FDckIsR0FBSzhVLElBQ0FBLEVBQUtQLE1BQU1wQixHQUFzQixDQUVwQyxJQURBLElBQUk0QixFQUFVLEdBQ0xuTyxFQUFJLEVBQUcrSCxFQUFJbUcsRUFBS3JWLE9BQVFtSCxFQUFJK0gsRUFBRy9ILElBQ2xDa08sRUFBSzVHLFdBQVd0SCxHQUFLLElBSXZCbU8sR0FBVyxJQUVYQSxHQUFXRCxFQUFLbE8sR0FJcEIsSUFBS21PLEVBQVFSLE1BQU1wQixHQUFzQixDQUN2QyxJQUFJNkIsRUFBYUgsRUFBVXpMLE1BQU0sRUFBR3BKLEdBQ2hDaVYsRUFBVUosRUFBVXpMLE1BQU1wSixFQUFJLEdBQzlCa1YsRUFBTUosRUFBS1AsTUFBTW5CLEdBQ2pCOEIsSUFDRkYsRUFBVzNVLEtBQUs2VSxFQUFJLElBQ3BCRCxFQUFRRSxRQUFRRCxFQUFJLEtBRWxCRCxFQUFReFYsU0FDVndVLEVBQU8sSUFBTWdCLEVBQVEzSixLQUFLLEtBQU8ySSxHQUVuQ3ZOLEtBQUtzTCxTQUFXZ0QsRUFBVzFKLEtBQUssS0FDaEMsS0FDRixDQUNGLENBQ0YsQ0FHRTVFLEtBQUtzTCxTQUFTdlMsT0FqTkQsSUFrTmZpSCxLQUFLc0wsU0FBVyxHQUdoQnRMLEtBQUtzTCxTQUFXdEwsS0FBS3NMLFNBQVM5QixjQUczQjBFLElBS0hsTyxLQUFLc0wsU0FBV3BGLEVBQVN3SSxRQUFRMU8sS0FBS3NMLFdBR3hDLElBQUl4USxFQUFJa0YsS0FBS3FMLEtBQU8sSUFBTXJMLEtBQUtxTCxLQUFPLEdBQ2xDc0QsRUFBSTNPLEtBQUtzTCxVQUFZLEdBQ3pCdEwsS0FBS29MLEtBQU91RCxFQUFJN1QsRUFDaEJrRixLQUFLNEwsTUFBUTVMLEtBQUtvTCxLQUlkOEMsSUFDRmxPLEtBQUtzTCxTQUFXdEwsS0FBS3NMLFNBQVNoQixPQUFPLEVBQUd0SyxLQUFLc0wsU0FBU3ZTLE9BQVMsR0FDL0MsTUFBWndVLEVBQUssS0FDUEEsRUFBTyxJQUFNQSxHQUduQixDQUlBLElBQUtaLEVBQWVpQixHQUtsQixJQUFTdFUsRUFBSSxFQUFHeUosRUFBSXVKLEVBQVd2VCxPQUFRTyxFQUFJeUosRUFBR3pKLElBQUssQ0FDakQsSUFBSXNWLEVBQUt0QyxFQUFXaFQsR0FDcEIsSUFBMEIsSUFBdEJpVSxFQUFLbEQsUUFBUXVFLEdBQWpCLENBRUEsSUFBSUMsRUFBTWpFLG1CQUFtQmdFLEdBQ3pCQyxJQUFRRCxJQUNWQyxFQUFNQyxPQUFPRixJQUVmckIsRUFBT0EsRUFBS3pJLE1BQU04SixHQUFJaEssS0FBS2lLLEVBTGpCLENBTVosQ0FLRixJQUFJdEQsRUFBT2dDLEVBQUtsRCxRQUFRLE1BQ1YsSUFBVmtCLElBRUZ2TCxLQUFLdUwsS0FBT2dDLEVBQUtqRCxPQUFPaUIsR0FDeEJnQyxFQUFPQSxFQUFLN0ssTUFBTSxFQUFHNkksSUFFdkIsSUFBSXdELEVBQUt4QixFQUFLbEQsUUFBUSxLQW9CdEIsSUFuQlksSUFBUjBFLEdBQ0YvTyxLQUFLd0wsT0FBUytCLEVBQUtqRCxPQUFPeUUsR0FDMUIvTyxLQUFLeUwsTUFBUThCLEVBQUtqRCxPQUFPeUUsRUFBSyxHQUMxQi9CLElBQ0ZoTixLQUFLeUwsTUFBUXFCLEVBQVlqQyxNQUFNN0ssS0FBS3lMLFFBRXRDOEIsRUFBT0EsRUFBSzdLLE1BQU0sRUFBR3FNLElBQ1ovQixJQUVUaE4sS0FBS3dMLE9BQVMsR0FDZHhMLEtBQUt5TCxNQUFRLENBQUMsR0FFWjhCLElBQU12TixLQUFLMEwsU0FBVzZCLEdBQ3RCVixFQUFnQmUsSUFDaEI1TixLQUFLc0wsV0FBYXRMLEtBQUswTCxXQUN6QjFMLEtBQUswTCxTQUFXLEtBSWQxTCxLQUFLMEwsVUFBWTFMLEtBQUt3TCxPQUFRLENBQzVCMVEsRUFBSWtGLEtBQUswTCxVQUFZLEdBQXpCLElBQ0lqRyxFQUFJekYsS0FBS3dMLFFBQVUsR0FDdkJ4TCxLQUFLMkwsS0FBTzdRLEVBQUkySyxDQUNsQixDQUlBLE9BREF6RixLQUFLNEwsS0FBTzVMLEtBQUtpTSxTQUNWak0sSUFDVCxFQWFBZ0wsRUFBSS9KLFVBQVVnTCxPQUFTLFdBQ3JCLElBQUlkLEVBQU9uTCxLQUFLbUwsTUFBUSxHQUNwQkEsSUFFRkEsR0FEQUEsRUFBT1AsbUJBQW1CTyxJQUNkakUsUUFBUSxPQUFRLEtBQzVCaUUsR0FBUSxLQUdWLElBQUlGLEVBQVdqTCxLQUFLaUwsVUFBWSxHQUM1QlMsRUFBVzFMLEtBQUswTCxVQUFZLEdBQzVCSCxFQUFPdkwsS0FBS3VMLE1BQVEsR0FDcEJILEdBQU8sRUFDUEssRUFBUSxHQUVSekwsS0FBS29MLEtBQ1BBLEVBQU9ELEVBQU9uTCxLQUFLb0wsS0FDVnBMLEtBQUtzTCxXQUNkRixFQUFPRCxJQUF3QyxJQUFoQ25MLEtBQUtzTCxTQUFTakIsUUFBUSxLQUNqQ3JLLEtBQUtzTCxTQUNMLElBQU10TCxLQUFLc0wsU0FBVyxLQUN0QnRMLEtBQUtxTCxPQUNQRCxHQUFRLElBQU1wTCxLQUFLcUwsT0FJbkJyTCxLQUFLeUwsT0FDTFYsRUFBS21DLFNBQVNsTixLQUFLeUwsUUFDbkJ6SyxPQUFPaUUsS0FBS2pGLEtBQUt5TCxPQUFPMVMsU0FDMUIwUyxFQUFRcUIsRUFBWWhDLFVBQVU5SyxLQUFLeUwsUUFHckMsSUFBSUQsRUFBU3hMLEtBQUt3TCxRQUFXQyxHQUFVLElBQU1BLEdBQVcsR0FzQnhELE9BcEJJUixHQUFvQyxNQUF4QkEsRUFBU1gsUUFBUSxLQUFZVyxHQUFZLEtBSXJEakwsS0FBS2tMLFdBQ0hELEdBQVk0QixFQUFnQjVCLE1BQXVCLElBQVRHLEdBQzlDQSxFQUFPLE1BQVFBLEdBQVEsSUFDbkJNLEdBQW1DLE1BQXZCQSxFQUFTc0QsT0FBTyxLQUFZdEQsRUFBVyxJQUFNQSxJQUNuRE4sSUFDVkEsRUFBTyxJQUdMRyxHQUEyQixNQUFuQkEsRUFBS3lELE9BQU8sS0FBWXpELEVBQU8sSUFBTUEsR0FDN0NDLEdBQStCLE1BQXJCQSxFQUFPd0QsT0FBTyxLQUFZeEQsRUFBUyxJQUFNQSxHQU9oRFAsRUFBV0csR0FMbEJNLEVBQVdBLEVBQVN4RSxRQUFRLFNBQVMsU0FBUzJHLEdBQzVDLE9BQU9qRCxtQkFBbUJpRCxFQUM1QixNQUNBckMsRUFBU0EsRUFBT3RFLFFBQVEsSUFBSyxRQUVnQnFFLENBQy9DLEVBTUFQLEVBQUkvSixVQUFVOEssUUFBVSxTQUFTRCxHQUMvQixPQUFPOUwsS0FBS2lQLGNBQWNwRCxFQUFTQyxHQUFVLEdBQU8sSUFBT0csUUFDN0QsRUFPQWpCLEVBQUkvSixVQUFVZ08sY0FBZ0IsU0FBU25ELEdBQ3JDLEdBQUlmLEVBQUtpQixTQUFTRixHQUFXLENBQzNCLElBQUlvRCxFQUFNLElBQUlsRSxFQUNka0UsRUFBSXJFLE1BQU1pQixHQUFVLEdBQU8sR0FDM0JBLEVBQVdvRCxDQUNiLENBSUEsSUFGQSxJQUFJek8sRUFBUyxJQUFJdUssRUFDYm1FLEVBQVFuTyxPQUFPaUUsS0FBS2pGLE1BQ2ZvUCxFQUFLLEVBQUdBLEVBQUtELEVBQU1wVyxPQUFRcVcsSUFBTSxDQUN4QyxJQUFJQyxFQUFPRixFQUFNQyxHQUNqQjNPLEVBQU80TyxHQUFRclAsS0FBS3FQLEVBQ3RCLENBT0EsR0FIQTVPLEVBQU84SyxLQUFPTyxFQUFTUCxLQUdELEtBQWxCTyxFQUFTRixLQUVYLE9BREFuTCxFQUFPbUwsS0FBT25MLEVBQU93TCxTQUNkeEwsRUFJVCxHQUFJcUwsRUFBU1osVUFBWVksRUFBU2IsU0FBVSxDQUcxQyxJQURBLElBQUlxRSxFQUFRdE8sT0FBT2lFLEtBQUs2RyxHQUNmeUQsRUFBSyxFQUFHQSxFQUFLRCxFQUFNdlcsT0FBUXdXLElBQU0sQ0FDeEMsSUFBSUMsRUFBT0YsRUFBTUMsR0FDSixhQUFUQyxJQUNGL08sRUFBTytPLEdBQVExRCxFQUFTMEQsR0FDNUIsQ0FTQSxPQU5JM0MsRUFBZ0JwTSxFQUFPd0ssV0FDdkJ4SyxFQUFPNkssV0FBYTdLLEVBQU9pTCxXQUM3QmpMLEVBQU9rTCxLQUFPbEwsRUFBT2lMLFNBQVcsS0FHbENqTCxFQUFPbUwsS0FBT25MLEVBQU93TCxTQUNkeEwsQ0FDVCxDQUVBLEdBQUlxTCxFQUFTYixVQUFZYSxFQUFTYixXQUFheEssRUFBT3dLLFNBQVUsQ0FTOUQsSUFBSzRCLEVBQWdCZixFQUFTYixVQUFXLENBRXZDLElBREEsSUFBSWhHLEVBQU9qRSxPQUFPaUUsS0FBSzZHLEdBQ2QzQixFQUFJLEVBQUdBLEVBQUlsRixFQUFLbE0sT0FBUW9SLElBQUssQ0FDcEMsSUFBSWxDLEVBQUloRCxFQUFLa0YsR0FDYjFKLEVBQU93SCxHQUFLNkQsRUFBUzdELEVBQ3ZCLENBRUEsT0FEQXhILEVBQU9tTCxLQUFPbkwsRUFBT3dMLFNBQ2R4TCxDQUNULENBR0EsR0FEQUEsRUFBT3dLLFNBQVdhLEVBQVNiLFNBQ3RCYSxFQUFTVixNQUFTd0IsRUFBaUJkLEVBQVNiLFVBUy9DeEssRUFBT2lMLFNBQVdJLEVBQVNKLGFBVCtCLENBRTFELElBREEsSUFBSStELEdBQVczRCxFQUFTSixVQUFZLElBQUk1RyxNQUFNLEtBQ3ZDMkssRUFBUTFXLFVBQVkrUyxFQUFTVixLQUFPcUUsRUFBUUMsV0FDOUM1RCxFQUFTVixPQUFNVSxFQUFTVixLQUFPLElBQy9CVSxFQUFTUixXQUFVUSxFQUFTUixTQUFXLElBQ3pCLEtBQWZtRSxFQUFRLElBQVdBLEVBQVFoQixRQUFRLElBQ25DZ0IsRUFBUTFXLE9BQVMsR0FBRzBXLEVBQVFoQixRQUFRLElBQ3hDaE8sRUFBT2lMLFNBQVcrRCxFQUFRN0ssS0FBSyxJQUNqQyxDQVVBLEdBUEFuRSxFQUFPK0ssT0FBU00sRUFBU04sT0FDekIvSyxFQUFPZ0wsTUFBUUssRUFBU0wsTUFDeEJoTCxFQUFPMkssS0FBT1UsRUFBU1YsTUFBUSxHQUMvQjNLLEVBQU8wSyxLQUFPVyxFQUFTWCxLQUN2QjFLLEVBQU82SyxTQUFXUSxFQUFTUixVQUFZUSxFQUFTVixLQUNoRDNLLEVBQU80SyxLQUFPUyxFQUFTVCxLQUVuQjVLLEVBQU9pTCxVQUFZakwsRUFBTytLLE9BQVEsQ0FDcEMsSUFBSTFRLEVBQUkyRixFQUFPaUwsVUFBWSxHQUN2QmpHLEVBQUloRixFQUFPK0ssUUFBVSxHQUN6Qi9LLEVBQU9rTCxLQUFPN1EsRUFBSTJLLENBQ3BCLENBR0EsT0FGQWhGLEVBQU95SyxRQUFVekssRUFBT3lLLFNBQVdZLEVBQVNaLFFBQzVDekssRUFBT21MLEtBQU9uTCxFQUFPd0wsU0FDZHhMLENBQ1QsQ0FFQSxJQUFJa1AsRUFBZWxQLEVBQU9pTCxVQUEwQyxNQUE5QmpMLEVBQU9pTCxTQUFTc0QsT0FBTyxHQUN6RFksRUFDSTlELEVBQVNWLE1BQ1RVLEVBQVNKLFVBQTRDLE1BQWhDSSxFQUFTSixTQUFTc0QsT0FBTyxHQUVsRGEsRUFBY0QsR0FBWUQsR0FDWGxQLEVBQU8ySyxNQUFRVSxFQUFTSixTQUN2Q29FLEVBQWdCRCxFQUNoQkUsRUFBVXRQLEVBQU9pTCxVQUFZakwsRUFBT2lMLFNBQVM1RyxNQUFNLE1BQVEsR0FFM0RrTCxHQURBUCxFQUFVM0QsRUFBU0osVUFBWUksRUFBU0osU0FBUzVHLE1BQU0sTUFBUSxHQUNuRHJFLEVBQU93SyxXQUFhNEIsRUFBZ0JwTSxFQUFPd0ssV0EyQjNELEdBcEJJK0UsSUFDRnZQLEVBQU82SyxTQUFXLEdBQ2xCN0ssRUFBTzRLLEtBQU8sS0FDVjVLLEVBQU8ySyxPQUNVLEtBQWYyRSxFQUFRLEdBQVdBLEVBQVEsR0FBS3RQLEVBQU8ySyxLQUN0QzJFLEVBQVF0QixRQUFRaE8sRUFBTzJLLE9BRTlCM0ssRUFBTzJLLEtBQU8sR0FDVlUsRUFBU2IsV0FDWGEsRUFBU1IsU0FBVyxLQUNwQlEsRUFBU1QsS0FBTyxLQUNaUyxFQUFTVixPQUNRLEtBQWZxRSxFQUFRLEdBQVdBLEVBQVEsR0FBSzNELEVBQVNWLEtBQ3hDcUUsRUFBUWhCLFFBQVEzQyxFQUFTVixPQUVoQ1UsRUFBU1YsS0FBTyxNQUVsQnlFLEVBQWFBLElBQThCLEtBQWZKLEVBQVEsSUFBNEIsS0FBZk0sRUFBUSxLQUd2REgsRUFFRm5QLEVBQU8ySyxLQUFRVSxFQUFTVixNQUEwQixLQUFsQlUsRUFBU1YsS0FDM0JVLEVBQVNWLEtBQU8zSyxFQUFPMkssS0FDckMzSyxFQUFPNkssU0FBWVEsRUFBU1IsVUFBa0MsS0FBdEJRLEVBQVNSLFNBQy9CUSxFQUFTUixTQUFXN0ssRUFBTzZLLFNBQzdDN0ssRUFBTytLLE9BQVNNLEVBQVNOLE9BQ3pCL0ssRUFBT2dMLE1BQVFLLEVBQVNMLE1BQ3hCc0UsRUFBVU4sT0FFTCxHQUFJQSxFQUFRMVcsT0FHWmdYLElBQVNBLEVBQVUsSUFDeEJBLEVBQVFFLE1BQ1JGLEVBQVVBLEVBQVFuTixPQUFPNk0sR0FDekJoUCxFQUFPK0ssT0FBU00sRUFBU04sT0FDekIvSyxFQUFPZ0wsTUFBUUssRUFBU0wsV0FDbkIsSUFBS1YsRUFBS21GLGtCQUFrQnBFLEVBQVNOLFFBd0IxQyxPQXBCSXdFLElBQ0Z2UCxFQUFPNkssU0FBVzdLLEVBQU8ySyxLQUFPMkUsRUFBUUwsU0FJcENTLEtBQWExUCxFQUFPMkssTUFBUTNLLEVBQU8ySyxLQUFLZixRQUFRLEtBQU8sSUFDMUM1SixFQUFPMkssS0FBS3RHLE1BQU0sUUFFakNyRSxFQUFPMEssS0FBT2dGLEVBQVdULFFBQ3pCalAsRUFBTzJLLEtBQU8zSyxFQUFPNkssU0FBVzZFLEVBQVdULFVBRy9DalAsRUFBTytLLE9BQVNNLEVBQVNOLE9BQ3pCL0ssRUFBT2dMLE1BQVFLLEVBQVNMLE1BRW5CVixFQUFLcUYsT0FBTzNQLEVBQU9pTCxXQUFjWCxFQUFLcUYsT0FBTzNQLEVBQU8rSyxVQUN2RC9LLEVBQU9rTCxNQUFRbEwsRUFBT2lMLFNBQVdqTCxFQUFPaUwsU0FBVyxLQUNwQ2pMLEVBQU8rSyxPQUFTL0ssRUFBTytLLE9BQVMsS0FFakQvSyxFQUFPbUwsS0FBT25MLEVBQU93TCxTQUNkeEwsRUFHVCxJQUFLc1AsRUFBUWhYLE9BV1gsT0FSQTBILEVBQU9pTCxTQUFXLEtBRWRqTCxFQUFPK0ssT0FDVC9LLEVBQU9rTCxLQUFPLElBQU1sTCxFQUFPK0ssT0FFM0IvSyxFQUFPa0wsS0FBTyxLQUVoQmxMLEVBQU9tTCxLQUFPbkwsRUFBT3dMLFNBQ2R4TCxFQWNULElBUkEsSUFBSWxHLEVBQU93VixFQUFRck4sT0FBTyxHQUFHLEdBQ3pCMk4sR0FDQzVQLEVBQU8ySyxNQUFRVSxFQUFTVixNQUFRMkUsRUFBUWhYLE9BQVMsS0FDeEMsTUFBVHdCLEdBQXlCLE9BQVRBLElBQTJCLEtBQVRBLEVBSW5DK1YsRUFBSyxFQUNBaFgsRUFBSXlXLEVBQVFoWCxPQUFRTyxHQUFLLEVBQUdBLElBRXRCLE9BRGJpQixFQUFPd1YsRUFBUXpXLElBRWJ5VyxFQUFRL0csT0FBTzFQLEVBQUcsR0FDQSxPQUFUaUIsR0FDVHdWLEVBQVEvRyxPQUFPMVAsRUFBRyxHQUNsQmdYLEtBQ1NBLElBQ1RQLEVBQVEvRyxPQUFPMVAsRUFBRyxHQUNsQmdYLEtBS0osSUFBS1QsSUFBZUMsRUFDbEIsS0FBT1EsSUFBTUEsRUFDWFAsRUFBUXRCLFFBQVEsT0FJaEJvQixHQUE2QixLQUFmRSxFQUFRLElBQ3BCQSxFQUFRLElBQStCLE1BQXpCQSxFQUFRLEdBQUdmLE9BQU8sSUFDcENlLEVBQVF0QixRQUFRLElBR2Q0QixHQUFzRCxNQUFqQ04sRUFBUW5MLEtBQUssS0FBSzBGLFFBQVEsSUFDakR5RixFQUFRcFcsS0FBSyxJQUdmLElBVU13VyxFQVZGSSxFQUE0QixLQUFmUixFQUFRLElBQ3BCQSxFQUFRLElBQStCLE1BQXpCQSxFQUFRLEdBQUdmLE9BQU8sR0FzQ3JDLE9BbkNJZ0IsSUFDRnZQLEVBQU82SyxTQUFXN0ssRUFBTzJLLEtBQU9tRixFQUFhLEdBQ2JSLEVBQVFoWCxPQUFTZ1gsRUFBUUwsUUFBVSxJQUkvRFMsS0FBYTFQLEVBQU8ySyxNQUFRM0ssRUFBTzJLLEtBQUtmLFFBQVEsS0FBTyxJQUMxQzVKLEVBQU8ySyxLQUFLdEcsTUFBTSxRQUVqQ3JFLEVBQU8wSyxLQUFPZ0YsRUFBV1QsUUFDekJqUCxFQUFPMkssS0FBTzNLLEVBQU82SyxTQUFXNkUsRUFBV1QsV0FJL0NHLEVBQWFBLEdBQWVwUCxFQUFPMkssTUFBUTJFLEVBQVFoWCxVQUVoQ3dYLEdBQ2pCUixFQUFRdEIsUUFBUSxJQUdic0IsRUFBUWhYLE9BSVgwSCxFQUFPaUwsU0FBV3FFLEVBQVFuTCxLQUFLLE1BSC9CbkUsRUFBT2lMLFNBQVcsS0FDbEJqTCxFQUFPa0wsS0FBTyxNQU1YWixFQUFLcUYsT0FBTzNQLEVBQU9pTCxXQUFjWCxFQUFLcUYsT0FBTzNQLEVBQU8rSyxVQUN2RC9LLEVBQU9rTCxNQUFRbEwsRUFBT2lMLFNBQVdqTCxFQUFPaUwsU0FBVyxLQUNwQ2pMLEVBQU8rSyxPQUFTL0ssRUFBTytLLE9BQVMsS0FFakQvSyxFQUFPMEssS0FBT1csRUFBU1gsTUFBUTFLLEVBQU8wSyxLQUN0QzFLLEVBQU95SyxRQUFVekssRUFBT3lLLFNBQVdZLEVBQVNaLFFBQzVDekssRUFBT21MLEtBQU9uTCxFQUFPd0wsU0FDZHhMLENBQ1QsRUFFQXVLLEVBQUkvSixVQUFVZ04sVUFBWSxXQUN4QixJQUFJN0MsRUFBT3BMLEtBQUtvTCxLQUNaQyxFQUFPYyxFQUFZdUIsS0FBS3RDLEdBQ3hCQyxJQUVXLE9BRGJBLEVBQU9BLEVBQUssTUFFVnJMLEtBQUtxTCxLQUFPQSxFQUFLZixPQUFPLElBRTFCYyxFQUFPQSxFQUFLZCxPQUFPLEVBQUdjLEVBQUtyUyxPQUFTc1MsRUFBS3RTLFNBRXZDcVMsSUFBTXBMLEtBQUtzTCxTQUFXRixFQUM1Qix3QkN6dEJBakwsRUFBT0MsUUFBVSxDQUNmNEwsU0FBVSxTQUFTd0UsR0FDakIsTUFBdUIsaUJBQVYsQ0FDZixFQUNBdEQsU0FBVSxTQUFTc0QsR0FDakIsTUFBdUIsaUJBQVYsR0FBOEIsT0FBUkEsQ0FDckMsRUFDQUosT0FBUSxTQUFTSSxHQUNmLE9BQWUsT0FBUkEsQ0FDVCxFQUNBTixrQkFBbUIsU0FBU00sR0FDMUIsT0FBYyxNQUFQQSxDQUNULEtDYkVDLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQmhOLElBQWpCaU4sRUFDSCxPQUFPQSxFQUFheFEsUUFHckIsSUFBSUQsRUFBU3NRLEVBQXlCRSxHQUFZLENBQ2pERSxHQUFJRixFQUNKRyxRQUFRLEVBQ1IxUSxRQUFTLENBQUMsR0FVWCxPQU5BMlEsRUFBb0JKLEdBQVVsTyxLQUFLdEMsRUFBT0MsUUFBU0QsRUFBUUEsRUFBT0MsUUFBU3NRLEdBRzNFdlEsRUFBTzJRLFFBQVMsRUFHVDNRLEVBQU9DLE9BQ2YsQ0N4QkFzUSxFQUFvQjVQLEVBQUksQ0FBQ1YsRUFBUzRRLEtBQ2pDLElBQUksSUFBSXRMLEtBQU9zTCxFQUNYTixFQUFvQk8sRUFBRUQsRUFBWXRMLEtBQVNnTCxFQUFvQk8sRUFBRTdRLEVBQVNzRixJQUM1RTFFLE9BQU9rUSxlQUFlOVEsRUFBU3NGLEVBQUssQ0FBRXlMLFlBQVksRUFBTUMsSUFBS0osRUFBV3RMLElBRTFFLEVDTkRnTCxFQUFvQjVLLEVBQUksV0FDdkIsR0FBMEIsaUJBQWZ1TCxXQUF5QixPQUFPQSxXQUMzQyxJQUNDLE9BQU9yUixNQUFRLElBQUlzUixTQUFTLGNBQWIsRUFHaEIsQ0FGRSxNQUFPL1YsR0FDUixHQUFzQixpQkFBWHlLLE9BQXFCLE9BQU9BLE1BQ3hDLENBQ0EsQ0FQdUIsR0NBeEIwSyxFQUFvQk8sRUFBSSxDQUFDeEgsRUFBS0MsSUFBVTFJLE9BQU9DLFVBQVVDLGVBQWV1QixLQUFLZ0gsRUFBS0MsR0NDbEZnSCxFQUFvQjVSLEVBQUtzQixJQUNILG9CQUFYbVIsUUFBMEJBLE9BQU9DLGFBQzFDeFEsT0FBT2tRLGVBQWU5USxFQUFTbVIsT0FBT0MsWUFBYSxDQUFFcEssTUFBTyxXQUU3RHBHLE9BQU9rUSxlQUFlOVEsRUFBUyxhQUFjLENBQUVnSCxPQUFPLEdBQU8sRUNMOURzSixFQUFvQmUsSUFBT3RSLElBQzFCQSxFQUFPdVIsTUFBUSxHQUNWdlIsRUFBT3dSLFdBQVV4UixFQUFPd1IsU0FBVyxJQUNqQ3hSLDRvSkNFUixJQUFJeVIsRUFBaUJDLFdBRXJCLFNBQVNySCxFQUFRN1IsR0FDZixPQUFPbVosUUFBUW5aLFFBQXlCLElBQWJBLEVBQUVJLE9BQy9CLENBRUEsU0FBU2daLElBQVEsQ0FhakIsU0FBUyxFQUFRelEsR0FDZixLQUFNdEIsZ0JBQWdCLEdBQ3BCLE1BQU0sSUFBSTRCLFVBQVUsd0NBQ3RCLEdBQWtCLG1CQUFQTixFQUFtQixNQUFNLElBQUlNLFVBQVUsa0JBRWxENUIsS0FBS2dTLE9BQVMsRUFFZGhTLEtBQUtpUyxVQUFXLEVBRWhCalMsS0FBS2tTLFlBQVN2TyxFQUVkM0QsS0FBS21TLFdBQWEsR0FFbEJDLEVBQVU5USxFQUFJdEIsS0FDaEIsQ0FFQSxTQUFTcVMsRUFBT3BNLEVBQU1xTSxHQUNwQixLQUF1QixJQUFoQnJNLEVBQUsrTCxRQUNWL0wsRUFBT0EsRUFBS2lNLE9BRU0sSUFBaEJqTSxFQUFLK0wsUUFJVC9MLEVBQUtnTSxVQUFXLEVBQ2hCLEVBQVFNLGNBQWEsV0FDbkIsSUFBSUMsRUFBcUIsSUFBaEJ2TSxFQUFLK0wsT0FBZU0sRUFBU0csWUFBY0gsRUFBU0ksV0FDN0QsR0FBVyxPQUFQRixFQUFKLENBSUEsSUFBSUcsRUFDSixJQUNFQSxFQUFNSCxFQUFHdk0sRUFBS2lNLE9BSWhCLENBSEUsTUFBTzNXLEdBRVAsWUFEQXFYLEVBQU9OLEVBQVNPLFFBQVN0WCxFQUUzQixDQUNBd1EsRUFBUXVHLEVBQVNPLFFBQVNGLEVBUjFCLE1BRm1CLElBQWhCMU0sRUFBSytMLE9BQWVqRyxFQUFVNkcsR0FBUU4sRUFBU08sUUFBUzVNLEVBQUtpTSxPQVdsRSxLQWxCRWpNLEVBQUtrTSxXQUFXeFksS0FBSzJZLEVBbUJ6QixDQUVBLFNBQVN2RyxFQUFROUYsRUFBTTZNLEdBQ3JCLElBRUUsR0FBSUEsSUFBYTdNLEVBQ2YsTUFBTSxJQUFJckUsVUFBVSw2Q0FDdEIsR0FDRWtSLElBQ3FCLGlCQUFiQSxHQUE2QyxtQkFBYkEsR0FDeEMsQ0FDQSxJQUFJQyxFQUFPRCxFQUFTQyxLQUNwQixHQUFJRCxhQUFvQixFQUl0QixPQUhBN00sRUFBSytMLE9BQVMsRUFDZC9MLEVBQUtpTSxPQUFTWSxPQUNkRSxFQUFPL00sR0FFRixHQUFvQixtQkFBVDhNLEVBRWhCLFlBREFYLEdBcEVNOVEsRUFvRVN5UixFQXBFTEUsRUFvRVdILEVBbkVwQixXQUNMeFIsRUFBR3NDLE1BQU1xUCxFQUFTeFAsVUFDcEIsR0FpRXNDd0MsRUFHcEMsQ0FDQUEsRUFBSytMLE9BQVMsRUFDZC9MLEVBQUtpTSxPQUFTWSxFQUNkRSxFQUFPL00sRUFHVCxDQUZFLE1BQU8xSyxHQUNQcVgsRUFBTzNNLEVBQU0xSyxFQUNmLENBN0VGLElBQWMrRixFQUFJMlIsQ0E4RWxCLENBRUEsU0FBU0wsRUFBTzNNLEVBQU02TSxHQUNwQjdNLEVBQUsrTCxPQUFTLEVBQ2QvTCxFQUFLaU0sT0FBU1ksRUFDZEUsRUFBTy9NLEVBQ1QsQ0FFQSxTQUFTK00sRUFBTy9NLEdBQ00sSUFBaEJBLEVBQUsrTCxRQUEyQyxJQUEzQi9MLEVBQUtrTSxXQUFXcFosUUFDdkMsRUFBUXdaLGNBQWEsV0FDZHRNLEVBQUtnTSxVQUNSLEVBQVFpQixzQkFBc0JqTixFQUFLaU0sT0FFdkMsSUFHRixJQUFLLElBQUk1WSxFQUFJLEVBQUdDLEVBQU0wTSxFQUFLa00sV0FBV3BaLE9BQVFPLEVBQUlDLEVBQUtELElBQ3JEK1ksRUFBT3BNLEVBQU1BLEVBQUtrTSxXQUFXN1ksSUFFL0IyTSxFQUFLa00sV0FBYSxJQUNwQixDQUtBLFNBQVNnQixFQUFRVixFQUFhQyxFQUFZRyxHQUN4QzdTLEtBQUt5UyxZQUFxQyxtQkFBaEJBLEVBQTZCQSxFQUFjLEtBQ3JFelMsS0FBSzBTLFdBQW1DLG1CQUFmQSxFQUE0QkEsRUFBYSxLQUNsRTFTLEtBQUs2UyxRQUFVQSxDQUNqQixDQVFBLFNBQVNULEVBQVU5USxFQUFJMkUsR0FDckIsSUFBSW1OLEdBQU8sRUFDWCxJQUNFOVIsR0FDRSxTQUFTOEYsR0FDSGdNLElBQ0pBLEdBQU8sRUFDUHJILEVBQVE5RixFQUFNbUIsR0FDaEIsSUFDQSxTQUFTaU0sR0FDSEQsSUFDSkEsR0FBTyxFQUNQUixFQUFPM00sRUFBTW9OLEdBQ2YsR0FNSixDQUpFLE1BQU9DLEdBQ1AsR0FBSUYsRUFBTSxPQUNWQSxHQUFPLEVBQ1BSLEVBQU8zTSxFQUFNcU4sRUFDZixDQUNGLENBRUEsRUFBUXJTLFVBQWlCLE1BQUksU0FBU3lSLEdBQ3BDLE9BQU8xUyxLQUFLK1MsS0FBSyxLQUFNTCxFQUN6QixFQUVBLEVBQVF6UixVQUFVOFIsS0FBTyxTQUFTTixFQUFhQyxHQUU3QyxJQUFJYSxFQUFPLElBQUl2VCxLQUFLd1QsWUFBWXpCLEdBR2hDLE9BREFNLEVBQU9yUyxLQUFNLElBQUltVCxFQUFRVixFQUFhQyxFQUFZYSxJQUMzQ0EsQ0FDVCxFQUVBLEVBQVF0UyxVQUFtQixRQ2pLM0IsU0FBNEJ3UyxHQUMxQixJQUFJRCxFQUFjeFQsS0FBS3dULFlBQ3ZCLE9BQU94VCxLQUFLK1MsTUFDVixTQUFTM0wsR0FFUCxPQUFPb00sRUFBWXpILFFBQVEwSCxLQUFZVixNQUFLLFdBQzFDLE9BQU8zTCxDQUNULEdBQ0YsSUFDQSxTQUFTaU0sR0FFUCxPQUFPRyxFQUFZekgsUUFBUTBILEtBQVlWLE1BQUssV0FFMUMsT0FBT1MsRUFBWVosT0FBT1MsRUFDNUIsR0FDRixHQUVKLEVEa0pBLEVBQVFLLElBQU0sU0FBU0MsR0FDckIsT0FBTyxJQUFJLEdBQVEsU0FBUzVILEVBQVM2RyxHQUNuQyxJQUFLcEksRUFBUW1KLEdBQ1gsT0FBT2YsRUFBTyxJQUFJaFIsVUFBVSxpQ0FHOUIsSUFBSTRCLEVBQU9QLE1BQU1oQyxVQUFVeUIsTUFBTUQsS0FBS2tSLEdBQ3RDLEdBQW9CLElBQWhCblEsRUFBS3pLLE9BQWMsT0FBT2dULEVBQVEsSUFDdEMsSUFBSTZILEVBQVlwUSxFQUFLekssT0FFckIsU0FBUzhhLEVBQUl2YSxFQUFHOEssR0FDZCxJQUNFLEdBQUlBLElBQXVCLGlCQUFSQSxHQUFtQyxtQkFBUkEsR0FBcUIsQ0FDakUsSUFBSTJPLEVBQU8zTyxFQUFJMk8sS0FDZixHQUFvQixtQkFBVEEsRUFRVCxZQVBBQSxFQUFLdFEsS0FDSDJCLEdBQ0EsU0FBU0EsR0FDUHlQLEVBQUl2YSxFQUFHOEssRUFDVCxHQUNBd08sRUFJTixDQUNBcFAsRUFBS2xLLEdBQUs4SyxFQUNVLEtBQWR3UCxHQUNKN0gsRUFBUXZJLEVBSVosQ0FGRSxNQUFPOFAsR0FDUFYsRUFBT1UsRUFDVCxDQUNGLENBRUEsSUFBSyxJQUFJaGEsRUFBSSxFQUFHQSxFQUFJa0ssRUFBS3pLLE9BQVFPLElBQy9CdWEsRUFBSXZhLEVBQUdrSyxFQUFLbEssR0FFaEIsR0FDRixFQUVBLEVBQVF3YSxXRTlNUixTQUFvQkgsR0FFbEIsT0FBTyxJQURDM1QsTUFDSyxTQUFTK0wsRUFBUzZHLEdBQzdCLElBQU1lLFFBQTZCLElBQWZBLEVBQUk1YSxPQUN0QixPQUFPNlosRUFDTCxJQUFJaFIsaUJBQ0srUixFQUNMLElBQ0FBLEVBQ0EsbUVBSVIsSUFBSW5RLEVBQU9QLE1BQU1oQyxVQUFVeUIsTUFBTUQsS0FBS2tSLEdBQ3RDLEdBQW9CLElBQWhCblEsRUFBS3pLLE9BQWMsT0FBT2dULEVBQVEsSUFDdEMsSUFBSTZILEVBQVlwUSxFQUFLekssT0FFckIsU0FBUzhhLEVBQUl2YSxFQUFHOEssR0FDZCxHQUFJQSxJQUF1QixpQkFBUkEsR0FBbUMsbUJBQVJBLEdBQXFCLENBQ2pFLElBQUkyTyxFQUFPM08sRUFBSTJPLEtBQ2YsR0FBb0IsbUJBQVRBLEVBYVQsWUFaQUEsRUFBS3RRLEtBQ0gyQixHQUNBLFNBQVNBLEdBQ1B5UCxFQUFJdmEsRUFBRzhLLEVBQ1QsSUFDQSxTQUFTN0ksR0FDUGlJLEVBQUtsSyxHQUFLLENBQUV5YSxPQUFRLFdBQVlWLE9BQVE5WCxHQUNwQixLQUFkcVksR0FDSjdILEVBQVF2SSxFQUVaLEdBSU4sQ0FDQUEsRUFBS2xLLEdBQUssQ0FBRXlhLE9BQVEsWUFBYTNNLE1BQU9oRCxHQUNwQixLQUFkd1AsR0FDSjdILEVBQVF2SSxFQUVaLENBRUEsSUFBSyxJQUFJbEssRUFBSSxFQUFHQSxFQUFJa0ssRUFBS3pLLE9BQVFPLElBQy9CdWEsRUFBSXZhLEVBQUdrSyxFQUFLbEssR0FFaEIsR0FDRixFRmtLQSxFQUFReVMsUUFBVSxTQUFTM0UsR0FDekIsT0FBSUEsR0FBMEIsaUJBQVZBLEdBQXNCQSxFQUFNb00sY0FBZ0IsRUFDdkRwTSxFQUdGLElBQUksR0FBUSxTQUFTMkUsR0FDMUJBLEVBQVEzRSxFQUNWLEdBQ0YsRUFFQSxFQUFRd0wsT0FBUyxTQUFTeEwsR0FDeEIsT0FBTyxJQUFJLEdBQVEsU0FBUzJFLEVBQVM2RyxHQUNuQ0EsRUFBT3hMLEVBQ1QsR0FDRixFQUVBLEVBQVE0TSxLQUFPLFNBQVNMLEdBQ3RCLE9BQU8sSUFBSSxHQUFRLFNBQVM1SCxFQUFTNkcsR0FDbkMsSUFBS3BJLEVBQVFtSixHQUNYLE9BQU9mLEVBQU8sSUFBSWhSLFVBQVUsa0NBRzlCLElBQUssSUFBSXRJLEVBQUksRUFBR0MsRUFBTW9hLEVBQUk1YSxPQUFRTyxFQUFJQyxFQUFLRCxJQUN6QyxFQUFReVMsUUFBUTRILEVBQUlyYSxJQUFJeVosS0FBS2hILEVBQVM2RyxFQUUxQyxHQUNGLEVBR0EsRUFBUUwsYUFFbUIsbUJBQWpCMEIsY0FDTixTQUFTM1MsR0FFUDJTLGFBQWEzUyxFQUNmLEdBQ0YsU0FBU0EsR0FDUHNRLEVBQWV0USxFQUFJLEVBQ3JCLEVBRUYsRUFBUTRSLHNCQUF3QixTQUErQmhPLEdBQ3RDLG9CQUFaZ1AsU0FBMkJBLFNBQ3BDQSxRQUFRQyxLQUFLLHdDQUF5Q2pQLEVBRTFELEVBRUEsdUJHNU1BLEdBeEMwQixvQkFBZm1NLGFBQ2Esb0JBQVRwTCxLQUdQQSxLQUFLb0wsV0FBYXBMLEtBRUssb0JBQVhGLFNBR1pBLE9BQU9zTCxXQUFhdEwsU0FLdkJzTCxXQUFXK0MsVUFDWi9DLFdBQVcrQyxRQUFVLEdBSXBCcFQsT0FBT3FELFNBQ1JyRCxPQUFPcUQsT0FBUyxHQWNkZ1EsS0FBS0MsS0FBT0QsS0FBS3BULFVBQVVzVCxVQUM3QkYsS0FBS0MsSUFBTSxXQUNQLE9BQU8sSUFBSUQsTUFBT0UsU0FDdEIsSUFHRWxELFdBQVdtRCxjQUFlbkQsV0FBV21ELFlBQVlGLElBQU0sQ0FDekQsSUFBSUcsRUFBY0osS0FBS0MsTUFDbEJqRCxXQUFXbUQsY0FDWm5ELFdBQVdtRCxZQUFjLENBQUMsR0FFOUJuRCxXQUFXbUQsWUFBWUYsSUFBTSxXQUFjLE9BQU9ELEtBQUtDLE1BQVFHLENBQWEsQ0FDaEYsQ0FJQSxJQUZBLElDeENJQyxFQWdCQUMsRUFnQkFDLEVBK0NBQyxFQWtEQUMsRUE4QkFDLEVBZ0NBQyxFQW1DQUMsRUE4QkFDLEVBa0JBQyxFQXNCQUMsRUF5QkFDLEVBdUJBQyxFQTBCQUMsRUEyQkFDLEVBZ0JBQyxFQW1CQUMsRUFtQkFDLEVBbUJBQyxFQWtCQUMsRURoY0FDLEVBQVd6QixLQUFLQyxNQUNoQnlCLEVBQVUsQ0FBQyxLQUFNLE1BQU8sU0FBVSxLQUM3QnBkLEVBQUksRUFBR0EsRUFBSW9kLEVBQVFoZCxTQUFXc1ksV0FBVzJFLHdCQUF5QnJkLEVBQUcsQ0FDMUUsSUFBSW1DLEVBQUlpYixFQUFRcGQsR0FDaEIwWSxXQUFXMkUsc0JBQXdCM0UsV0FBV3ZXLEVBQUkseUJBQ2xEdVcsV0FBVzRFLHFCQUF1QjVFLFdBQVd2VyxFQUFJLHlCQUMxQ3VXLFdBQVd2VyxFQUFJLDhCQUMxQixDQUNLdVcsV0FBVzJFLHdCQUNaM0UsV0FBVzJFLHNCQUF3QixTQUFVdkMsR0FDekMsR0FBd0IsbUJBQWJBLEVBQ1AsTUFBTSxJQUFJN1IsVUFBVTZSLEVBQVcscUJBRW5DLElBQUl5QyxFQUFjN0IsS0FBS0MsTUFDbkI2QixFQTlCUyxHQThCZ0JMLEVBQVdJLEVBS3hDLE9BSklDLEVBQVEsSUFDUkEsRUFBUSxHQUVaTCxFQUFXSSxFQUNKN0UsV0FBV3BMLEtBQUs0TCxZQUFXLFdBQzlCaUUsRUFBV3pCLEtBQUtDLE1BQ2hCYixFQUFTZSxZQUFZRixNQUN6QixHQUFHNkIsRUFDUCxHQUVDOUUsV0FBVzRFLHVCQUNaNUUsV0FBVzRFLHFCQUF1QixTQUFVcEYsR0FBTSxPQUFPdUYsYUFBYXZGLEVBQUssR0FLMUU1VyxLQUFLbUYsT0FDTm5GLEtBQUttRixLQUFPLFNBQWtCekcsR0FFMUIsT0FBVSxLQURWQSxFQUFJMGQsT0FBTzFkLEtBQ0kyZCxNQUFNM2QsR0FDVkEsRUFFSkEsRUFBSSxFQUFJLEdBQUssQ0FDeEIsR0FLQzBkLE9BQU9FLFlBQ1JGLE9BQU9FLFVBQVksU0FBeUJuUCxHQUN4QyxNQUF3QixpQkFBVkEsR0FBc0JzRCxTQUFTdEQsSUFBVW5OLEtBQUt3TSxNQUFNVyxLQUFXQSxDQUNqRixHQUdDaUssV0FBV21GLGNBQ1puRixXQUFXbUYsWUFBY3ZULE9BRXhCb08sV0FBV29GLGVBQ1pwRixXQUFXb0YsYUFBZXhULE9BRXpCb08sV0FBV3FGLGNBQ1pyRixXQUFXcUYsWUFBY3pULE9BRXhCb08sV0FBV3NGLGNBQ1p0RixXQUFXc0YsWUFBYzFULE9BRXhCb08sV0FBV3VGLGFBQ1p2RixXQUFXdUYsV0FBYTNULE9BRXZCb08sV0FBV3dGLGFBQ1p4RixXQUFXd0YsV0FBYTVULE9DeEc1QixTQUFXeVIsR0FDUEEsRUFBSUEsRUFBa0IsYUFBSSxHQUFLLGVBQy9CQSxFQUFJQSxFQUFXLE1BQUksR0FBSyxRQUN4QkEsRUFBSUEsRUFBWSxPQUFJLEdBQUssUUFDNUIsQ0FKRCxDQUlHQSxJQUFRQSxFQUFNLENBQUMsSUFZbEIsU0FBV0MsR0FDUEEsRUFBY0EsRUFBdUIsUUFBSSxHQUFLLFVBQzlDQSxFQUFjQSxFQUFxQixNQUFJLEdBQUssUUFDNUNBLEVBQWNBLEVBQXNCLE9BQUksR0FBSyxRQUNoRCxDQUpELENBSUdBLElBQWtCQSxFQUFnQixDQUFDLElBWXRDLFNBQVdDLEdBQ1BBLEVBQVlBLEVBQW1CLE1BQUksT0FBUyxRQUM1Q0EsRUFBWUEsRUFBbUIsTUFBSSxLQUFPLFFBQzFDQSxFQUFZQSxFQUFxQixRQUFJLE1BQVEsU0FDaEQsQ0FKRCxDQUlHQSxJQUFnQkEsRUFBYyxDQUFDLElBMkNsQyxTQUFXQyxHQUNQQSxFQUFZQSxFQUFvQixPQUFJLEdBQUssU0FDekNBLEVBQVlBLEVBQWlCLElBQUksR0FBSyxNQUN0Q0EsRUFBWUEsRUFBc0IsU0FBSSxHQUFLLFdBQzNDQSxFQUFZQSxFQUFvQixPQUFJLEdBQUssU0FDekNBLEVBQVlBLEVBQXFCLFFBQUksR0FBSyxVQUMxQ0EsRUFBWUEsRUFBb0IsT0FBSSxHQUFLLFNBQ3pDQSxFQUFZQSxFQUFxQixRQUFJLEdBQUssVUFDMUNBLEVBQVlBLEVBQXlCLFlBQUksR0FBSyxjQUM5Q0EsRUFBWUEsRUFBd0IsV0FBSSxHQUFLLGFBQzdDQSxFQUFZQSxFQUF3QixXQUFJLEdBQUssYUFDN0NBLEVBQVlBLEVBQXdCLFdBQUksSUFBTSxhQUM5Q0EsRUFBWUEsRUFBd0IsV0FBSSxJQUFNLGFBQzlDQSxFQUFZQSxFQUF1QixVQUFJLElBQU0sWUFDN0NBLEVBQVlBLEVBQWlCLElBQUksSUFBTSxNQUN2Q0EsRUFBWUEsRUFBd0IsV0FBSSxJQUFNLGFBQzlDQSxFQUFZQSxFQUFtQixNQUFJLElBQU0sUUFDekNBLEVBQVlBLEVBQXdCLFdBQUksSUFBTSxhQUM5Q0EsRUFBWUEsRUFBd0IsV0FBSSxJQUFNLGFBQzlDQSxFQUFZQSxFQUFxQixRQUFJLElBQU0sVUFDM0NBLEVBQVlBLEVBQXdCLFdBQUksSUFBTSxhQUM5Q0EsRUFBWUEsRUFBa0IsS0FBSSxJQUFNLE9BQ3hDQSxFQUFZQSxFQUFzQixTQUFJLEdBQUssV0FDM0NBLEVBQVlBLEVBQW9CLE9BQUksSUFBTSxTQUMxQ0EsRUFBWUEsRUFBcUIsUUFBSSxJQUFNLFVBQzNDQSxFQUFZQSxFQUFzQixTQUFJLElBQU0sV0FDNUNBLEVBQVlBLEVBQXNCLFNBQUksSUFBTSxXQUM1Q0EsRUFBWUEsRUFBb0IsT0FBSSxJQUFNLFNBQzFDQSxFQUFZQSxFQUFxQixRQUFJLElBQU0sVUFDM0NBLEVBQVlBLEVBQXNCLFNBQUksSUFBTSxXQUM1Q0EsRUFBWUEsRUFBbUIsTUFBSSxJQUFNLFFBQ3pDQSxFQUFZQSxFQUFzQixTQUFJLElBQU0sV0FDNUNBLEVBQVlBLEVBQWlCLElBQUksSUFBTSxLQUMxQyxDQWpDRCxDQWlDR0EsSUFBZ0JBLEVBQWMsQ0FBQyxJQWlCbEMsU0FBV0MsR0FDUEEsRUFBV0EsRUFBbUIsT0FBSSxHQUFLLFNBQ3ZDQSxFQUFXQSxFQUFrQixNQUFJLEdBQUssUUFDdENBLEVBQVdBLEVBQXNCLFVBQUksR0FBSyxZQUMxQ0EsRUFBV0EsRUFBdUIsV0FBSSxHQUFLLGFBQzNDQSxFQUFXQSxFQUFzQixVQUFJLEdBQUssWUFDMUNBLEVBQVdBLEVBQTJCLGVBQUksR0FBSyxpQkFDL0NBLEVBQVdBLEVBQXlCLGFBQUksR0FBSyxjQUNoRCxDQVJELENBUUdBLElBQWVBLEVBQWEsQ0FBQyxJQXNCaEMsU0FBV0MsR0FDUEEsRUFBUUEsRUFBYyxLQUFJLE1BQVEsT0FDbENBLEVBQVFBLEVBQWEsSUFBSSxNQUFRLE1BQ2pDQSxFQUFRQSxFQUFZLEdBQUksT0FBUyxLQUNqQ0EsRUFBUUEsRUFBYSxJQUFJLE1BQVEsTUFDakNBLEVBQVFBLEVBQXNCLGFBQUksT0FBUyxlQUMzQ0EsRUFBUUEsRUFBcUIsWUFBSSxPQUFTLGNBQzFDQSxFQUFRQSxFQUFvQixXQUFJLE9BQVMsYUFDekNBLEVBQVFBLEVBQXFCLFlBQUksT0FBUyxjQUMxQ0EsRUFBUUEsRUFBZSxNQUFJLE1BQVEsUUFDbkNBLEVBQVFBLEVBQW1CLFVBQUksTUFBUSxZQUN2Q0EsRUFBUUEsRUFBeUIsZ0JBQUksTUFBUSxrQkFDN0NBLEVBQVFBLEVBQXlCLGdCQUFJLE1BQVEsa0JBQzdDQSxFQUFRQSxFQUF1QixjQUFJLE9BQVMsZUFDL0MsQ0FkRCxDQWNHQSxJQUFZQSxFQUFVLENBQUMsSUFrQjFCLFNBQVdDLEdBQ1BBLEVBQVFBLEVBQW9CLFdBQUksTUFBUSxhQUN4Q0EsRUFBUUEsRUFBMEIsaUJBQUksT0FBUyxtQkFDL0NBLEVBQVFBLEVBQTBCLGlCQUFJLE9BQVMsbUJBQy9DQSxFQUFRQSxFQUFxQyw0QkFBSSxPQUFTLDhCQUMxREEsRUFBUUEsRUFBcUMsNEJBQUksT0FBUyw4QkFDMURBLEVBQVFBLEVBQXFDLDRCQUFJLE9BQVMsOEJBQzFEQSxFQUFRQSxFQUFxQyw0QkFBSSxPQUFTLDhCQUMxREEsRUFBUUEsRUFBcUMsNEJBQUksT0FBUyw4QkFDMURBLEVBQVFBLEVBQXFDLDRCQUFJLE9BQVMsNkJBQzdELENBVkQsQ0FVR0EsSUFBWUEsRUFBVSxDQUFDLElBeUIxQixTQUFXQyxHQUNQQSxFQUFNQSxFQUFxQixjQUFJLE1BQVEsZ0JBQ3ZDQSxFQUFNQSxFQUFzQixlQUFJLE1BQVEsaUJBQ3hDQSxFQUFNQSxFQUE0QixxQkFBSSxPQUFTLHVCQUMvQ0EsRUFBTUEsRUFBOEIsdUJBQUksT0FBUyx5QkFDakRBLEVBQU1BLEVBQThCLHVCQUFJLE9BQVMseUJBQ2pEQSxFQUFNQSxFQUFvQixhQUFJLE1BQVEsZUFDdENBLEVBQU1BLEVBQW9DLDZCQUFJLE9BQVMsK0JBQ3ZEQSxFQUFNQSxFQUFtQyw0QkFBSSxPQUFTLDhCQUN0REEsRUFBTUEsRUFBeUIsa0JBQUksT0FBUyxvQkFDNUNBLEVBQU1BLEVBQWdDLHlCQUFJLE9BQVMsMkJBQ25EQSxFQUFNQSxFQUFZLEtBQUksTUFBUSxPQUM5QkEsRUFBTUEsRUFBYSxNQUFJLE1BQVEsUUFDL0JBLEVBQU1BLEVBQVcsSUFBSSxNQUFRLE1BQzdCQSxFQUFNQSxFQUFhLE1BQUksTUFBUSxRQUMvQkEsRUFBTUEsRUFBc0MsK0JBQUksT0FBUyxpQ0FDekRBLEVBQU1BLEVBQWtCLFdBQUksT0FBUyxZQUN4QyxDQWpCRCxDQWlCR0EsSUFBVUEsRUFBUSxDQUFDLElBYXRCLFNBQVdDLEdBQ1BBLEVBQWNBLEVBQXFCLE1BQUksR0FBSyxRQUM1Q0EsRUFBY0EsRUFBbUIsSUFBSSxHQUFLLE1BQzFDQSxFQUFjQSxFQUFvQixLQUFJLEdBQUssTUFDOUMsQ0FKRCxDQUlHQSxJQUFrQkEsRUFBZ0IsQ0FBQyxJQWN0QyxTQUFXQyxHQUNQQSxFQUFZQSxFQUFxQixRQUFJLEdBQUssVUFDMUNBLEVBQVlBLEVBQW9CLE9BQUksR0FBSyxRQUM1QyxDQUhELENBR0dBLElBQWdCQSxFQUFjLENBQUMsSUFtQmxDLFNBQVdDLEdBQ1BBLEVBQVdBLEVBQWtCLE1BQUksT0FBUyxRQUMxQ0EsRUFBV0EsRUFBbUIsT0FBSSxPQUFTLFNBQzNDQSxFQUFXQSxFQUE0QixnQkFBSSxPQUFTLGlCQUN2RCxDQUpELENBSUdBLElBQWVBLEVBQWEsQ0FBQyxJQXFCaEMsU0FBV0MsR0FDUEEsRUFBYUEsRUFBa0IsSUFBSSxHQUFLLE1BQ3hDQSxFQUFhQSxFQUFtQixLQUFJLEdBQUssT0FDekNBLEVBQWFBLEVBQWlCLEdBQUksR0FBSyxLQUN2Q0EsRUFBYUEsRUFBd0IsVUFBSSxHQUFLLFdBQ2pELENBTEQsQ0FLR0EsSUFBaUJBLEVBQWUsQ0FBQyxJQWtCcEMsU0FBV0MsR0FDUEEsRUFBWUEsRUFBaUIsSUFBSSxHQUFLLE1BQ3RDQSxFQUFZQSxFQUFvQixPQUFJLEdBQUssU0FDekNBLEVBQVlBLEVBQWlCLElBQUksR0FBSyxNQUN0Q0EsRUFBWUEsRUFBb0MsdUJBQUksR0FBSyx5QkFDekRBLEVBQVlBLEVBQW1DLHNCQUFJLEdBQUssd0JBQ3hEQSxFQUFZQSxFQUErQixrQkFBSSxHQUFLLG9CQUNwREEsRUFBWUEsRUFBaUMsb0JBQUksR0FBSyxxQkFDekQsQ0FSRCxDQVFHQSxJQUFnQkEsRUFBYyxDQUFDLElBa0JsQyxTQUFXQyxHQUNQQSxFQUFZQSxFQUFnQixHQUFJLEdBQUssS0FDckNBLEVBQVlBLEVBQWlCLElBQUksR0FBSyxNQUN0Q0EsRUFBWUEsRUFBa0IsS0FBSSxHQUFLLE9BQ3ZDQSxFQUFZQSxFQUFtQixNQUFJLEdBQUssUUFDeENBLEVBQVlBLEVBQW1CLE1BQUksR0FBSyxRQUN4Q0EsRUFBWUEsRUFBa0IsS0FBSSxHQUFLLE1BQzFDLENBUEQsQ0FPR0EsSUFBZ0JBLEVBQWMsQ0FBQyxJQW9CbEMsU0FBV0MsR0FDUEEsRUFBU0EsRUFBZSxLQUFJLEdBQUssT0FDakNBLEVBQVNBLEVBQWlCLE9BQUksR0FBSyxRQUN0QyxDQUhELENBR0dBLElBQWFBLEVBQVcsQ0FBQyxJQWE1QixTQUFXQyxHQUNQQSxFQUFlLElBQUksT0FDbkJBLEVBQWtCLE9BQUksVUFDdEJBLEVBQWdCLEtBQUksT0FDdkIsQ0FKRCxDQUlHQSxJQUFjQSxFQUFZLENBQUMsSUFlOUIsU0FBV0MsR0FDUEEsRUFBV0EsRUFBaUIsS0FBSSxHQUFLLE9BQ3JDQSxFQUFXQSxFQUFvQixRQUFJLEdBQUssVUFDeENBLEVBQVdBLEVBQW9CLFFBQUksR0FBSyxVQUN4Q0EsRUFBV0EsRUFBbUIsT0FBSSxHQUFLLFNBQ3ZDQSxFQUFXQSxFQUFrQixNQUFJLEdBQUssT0FDekMsQ0FORCxDQU1HQSxJQUFlQSxFQUFhLENBQUMsSUFhaEMsU0FBV0MsR0FDUEEsRUFBZ0JBLEVBQXFCLElBQUksR0FBSyxNQUM5Q0EsRUFBZ0JBLEVBQXVCLE1BQUksR0FBSyxRQUNoREEsRUFBZ0JBLEVBQXNCLEtBQUksR0FBSyxPQUMvQ0EsRUFBZ0JBLEVBQXVCLE1BQUksR0FBSyxPQUNuRCxDQUxELENBS0dBLElBQW9CQSxFQUFrQixDQUFDLElBYzFDLFNBQVdDLEdBQ1BBLEVBQWFBLEVBQW1CLEtBQUksR0FBSyxPQUN6Q0EsRUFBYUEsRUFBa0IsSUFBSSxHQUFLLE1BQ3hDQSxFQUFhQSxFQUFxQixPQUFJLEdBQUssU0FDM0NBLEVBQWFBLEVBQW1CLEtBQUksR0FBSyxNQUM1QyxDQUxELENBS0dBLElBQWlCQSxFQUFlLENBQUMsSUFhcEMsU0FBV0MsR0FDUEEsRUFBWUEsRUFBa0MscUJBQUksT0FBUyx1QkFDM0RBLEVBQVlBLEVBQTBCLGFBQUksT0FBUyxlQUVuREEsRUFBWUEsRUFBNEIsZUFBSSxPQUFTLGdCQUN4RCxDQUxELENBS0dBLElBQWdCQSxFQUFjLENBQUMsSUN2ZmxDLElBQUlpQixFQUFpQixDQU9qQkMsYUFBYyxTQUFVQyxFQUFPQyxHQUMzQixJQUFJQyxFQUFTQyxTQUFTQyxjQUFjLFVBR3BDLE9BRkFGLEVBQU9GLE1BQVFBLEVBQ2ZFLEVBQU9ELE9BQVNBLEVBQ1RDLENBQ1gsRUFDQUcseUJBQTBCLFdBQWMsT0FBT0MscUJBQXVCLEVBQ3RFQyxhQUFjLFdBQWMsT0FBT0MsU0FBVyxFQUM5Q0MsV0FBWSxXQUFjLElBQUlDLEVBQUksT0FBb0MsUUFBM0JBLEVBQUtQLFNBQVNRLGVBQTRCLElBQVBELEVBQWdCQSxFQUFLMVIsT0FBTzRSLFNBQVNoTSxJQUFPLEVBQzFIaU0sTUFBTyxTQUFVOUssRUFBS2pELEdBQVcsT0FBTytOLE1BQU05SyxFQUFLakQsRUFBVSxHQUc3RGdPLEVBQWMsVUFDZEMsRUFBWSxRQUNaQyxFQUFjLFFBQ2RDLEVBQWlCLDhCQUNqQkMsRUFBZSwyQkFDZkMsRUFBZ0IsV0FDaEJDLEVBQWMscUNBQ2RDLEVBQWUsUUFDZkMsRUFBZSxpQkFDZkMsRUFBZ0Isd0JBQ2hCQyxFQUFrQixjQUNsQkMsRUFBb0IsUUFDcEJDLEVBQWEsY0FDYkMsR0FBYyxnQ0FDZEMsR0FBZSx5QkFDZkMsR0FBdUIsU0FBVXJCLEdBQ2pDLFlBQTZCLElBQWRBLEdBQ1ksYUFBdkJBLEVBQVVzQixVQUMwQixpQkFBN0J0QixFQUFVdUIsZ0JBQ2pCdkIsRUFBVXVCLGVBQWlCLEdBQ1Asb0JBQWJDLFFBQ2YsRUF3R0lDLEdBcEdKLFNBQW9CQyxHQUNoQixJQUFJQyxFQUFNLENBQ05DLFVBQVcsR0FDWE4sU0FBVSxHQUNWQyxlQUFnQixHQUVmRyxHQUE4QixvQkFBZDFCLFVBT0ssaUJBQVYwQixFQUNaQyxFQUFJQyxVQUFZRixFQUVYQSxHQUFTQSxFQUFNRSxZQUNwQkQsRUFBTSxDQUNGQyxVQUFXRixFQUFNRSxVQUNqQk4sU0FBVUksRUFBTUosU0FDaEJDLGVBQWdCRyxFQUFNSCxnQkFBa0IsSUFiNUNJLEVBQU0sQ0FDRkMsVUFBVzVCLFVBQVU0QixVQUNyQk4sU0FBVXRCLFVBQVVzQixTQUNwQkMsZUFBZ0J2QixVQUFVdUIsZ0JBQWtCLEdBYXBELElBQUlLLEVBQVlELEVBQUlDLFVBQ2hCQyxFQUFNRCxFQUFVdFUsTUFBTSxjQUNKLElBQVh1VSxFQUFJLEtBQ1hELEVBQVlDLEVBQUksU0FHRSxLQUR0QkEsRUFBTUQsRUFBVXRVLE1BQU0sWUFDUCxLQUNYc1UsRUFBWUMsRUFBSSxJQUVwQixJQUFJeEwsRUFuQ1IsU0FBcUJ1TCxHQUNqQixPQUFPLFNBQVVFLEdBQVMsT0FBT0EsRUFBTS9QLEtBQUs2UCxFQUFZLENBQzVELENBaUNnQkcsQ0FBWUgsR0FDcEIzWSxFQUFTLENBQ1QrWSxNQUFPLENBQ0hDLE1BQU81TCxFQUFNaUssS0FBaUJqSyxFQUFNeUssR0FDcENvQixLQUFNN0wsRUFBTWtLLEdBQ1o0QixRQUFTOUwsRUFBTWlLLEtBQ1ZqSyxFQUFNbUssSUFBZ0JhLEdBQXFCTSxNQUMzQ3RMLEVBQU15SyxHQUNYc0IsVUFBVy9MLEVBQU1vSyxHQUNqQjRCLFFBQVNoTSxFQUFNaUssSUFDWGpLLEVBQU1rSyxJQUNObEssRUFBTW1LLElBQ05uSyxFQUFNb0ssSUFDTlksR0FBcUJNLE1BQ3BCdEwsRUFBTXlLLElBRWZ3QixPQUFRLENBQ0pMLE1BQU81TCxFQUFNdUssR0FDYnVCLFFBQVM5TCxFQUFNdUssSUFBZ0J2SyxFQUFNd0ssR0FDckN3QixPQUFRaE0sRUFBTXVLLElBQWdCdkssRUFBTXdLLElBRXhDMEIsUUFBUyxDQUNMTixPQUFTNUwsRUFBTXlLLElBQWlCekssRUFBTXVLLEtBQ2hDdkssRUFBTXlLLElBQWlCekssRUFBTXFLLEdBQ25DeUIsUUFBUzlMLEVBQU15SyxLQUNWekssRUFBTXVLLEtBQ052SyxFQUFNcUssS0FDTnJLLEVBQU13SyxJQUFpQnhLLEVBQU1zSyxJQUNsQzBCLFFBQVVoTSxFQUFNeUssS0FDWHpLLEVBQU11SyxJQUNIdkssRUFBTXdLLElBQ054SyxFQUFNcUssSUFDTnJLLEVBQU1zSyxLQUNWdEssRUFBTSxnQkFFZG1NLFFBQVMsQ0FDTFAsTUFBTzVMLEVBQU15SyxHQUNicUIsT0FBUTlMLEVBQU0wSyxHQUNkc0IsT0FBUWhNLEVBQU15SyxJQUFpQnpLLEVBQU0wSyxJQUV6QzBCLE1BQU8sQ0FDSEMsV0FBWXJNLEVBQU0ySyxHQUNsQjJCLGFBQWN0TSxFQUFNNEssR0FDcEIyQixNQUFPdk0sRUFBTTZLLEdBQ2IyQixRQUFTeE0sRUFBTStLLElBQ2YwQixPQUFRek0sRUFBTThLLElBQ2RrQixPQUFRaE0sRUFBTTJLLElBQ1YzSyxFQUFNNEssSUFDTjVLLEVBQU02SyxJQUNON0ssRUFBTStLLEtBQ04vSyxFQUFNOEssS0FFZDRCLEtBQUssRUFDTGQsT0FBTyxFQUNQRSxRQUFRLEdBV1osT0FUQWxaLEVBQU84WixJQUNIOVosRUFBTytZLE1BQU1LLFFBQ1RwWixFQUFPc1osUUFBUUYsUUFDZnBaLEVBQU91WixRQUFRSCxRQUNmcFosRUFBT3daLE1BQU1KLE9BQ3JCcFosRUFBT2daLE1BQ0hoWixFQUFPK1ksTUFBTUMsT0FBU2haLEVBQU9zWixRQUFRTixPQUFTaFosRUFBT3VaLFFBQVFQLE1BQ2pFaFosRUFBT2taLE9BQ0hsWixFQUFPK1ksTUFBTUcsUUFBVWxaLEVBQU9zWixRQUFRSixRQUFVbFosRUFBT3VaLFFBQVFMLE9BQzVEbFosQ0FDWCxDQUVlK1osQ0FBV25KLFdBQVdtRyxXQWdFakNpRCxHQUFXLENBYVhDLFFBQVM1RCxFQVVUNkQsZ0JBQWlCdEYsRUFBYXVGLEtBVTlCQyxrQkFBbUIsRUFTbkJDLFdBQVksRUFTWkMsa0JBQW1CLEVBU25CQyxtQkFBb0JwRixFQUFhcUYsS0FTakNDLG9CQTVHSixTQUFnQ2hoQixHQUM1QixJQWFZMlQsRUFiUnNOLEdBQVcsR0FDWGxDLEdBQVNVLFFBQVVWLEdBQVNRLFNBQ3hCUixHQUFTTyxNQUFNSyxTQUNYaE0sRUFBUzJKLFVBQW1CLFVBQUUzSixNQUFNLHFCQUVqQnVOLFNBQVN2TixFQUFNLEdBQUksSUFFbkIsS0FDZnNOLEdBQVcsR0FJbkJsQyxHQUFTYyxRQUFRRixTQUNiaE0sRUFBUzJKLFVBQW1CLFVBQUUzSixNQUFNLHdCQUVqQnVOLFNBQVN2TixFQUFNLEdBQUksSUFFbkIsSUFDZnNOLEdBQVcsSUFLM0IsT0FBT0EsRUFvRnFDLEdBcEZwQixDQUM1QixDQW1GeUJFLEdBYXJCQyxrQkFBbUIsS0FvQm5CQyxlQUFnQixDQUNaQyxLQUFNLEtBQ05DLFdBQVcsRUFDWEMsYUFBYSxFQUNiQyxnQkFBaUIsRUFDakJDLGdCQUFpQixFQUNqQkMsaUJBQWlCLEVBQ2pCQyxtQkFBbUIsRUFDbkJDLHVCQUF1QixFQUN2Qi9FLE1BQU8sSUFDUEMsT0FBUSxJQUNSK0UsUUFBUSxHQVVaQyxRQUFTekcsRUFBUzBHLEtBU2xCQyxZQUFhLEtBU2JDLG1CQUFvQixJQVNwQkMsVUFBV2pILEVBQVdrSCxNQVN0QkMsV0FBWXBILEVBQVlxSCxPQVN4QkMsaUJBQWtCaEgsRUFBVWlILEtBVTVCQyxtQkFBb0IxRCxHQUFTTyxNQUFNSyxPQUFTcEUsRUFBVWlILEtBQU9qSCxFQUFVbUgsT0FRdkVDLHdCQWhQUTVELEdBQVNPLE1BQU1LLE9BeVB2QmlELHFCQUFxQixFQVdyQkMsY0FBYyxpQ0NuWmQsR0FBTSxDQUNObFMsTUFBTyxNQUNQb0IsT0FBUSxNQUNSRixRQUFTLE9BR2IsU0FBU2lSLEdBQVdyUixHQUNoQixHQUFvQixpQkFBVEEsRUFDUCxNQUFNLElBQUkvSixVQUFVLG1DQUFxQ3FiLEtBQUtuUyxVQUFVYSxHQUVoRixDQUNBLFNBQVN1UixHQUFnQm5RLEdBRXJCLE9BRFNBLEVBQUlqSSxNQUFNLEtBQUssR0FDZEEsTUFBTSxLQUFLLEVBQ3pCLENBc0ZBLElBQUk2RyxHQUFPLENBS1B3UixRQUFTLFNBQVV4UixHQUFRLE1BQXdCLEtBQU0sSUFBWkEsRUF0RmxDekUsUUFBUSxJQUFJa1csT0FzRjRCLEtBekZyQ2xXLFFBQVEsc0JBQXVCLFFBR0ssS0FzRk8sSUFBTSxFQUsvRG1XLE1BQU8sU0FBVTFSLEdBQVEsTUFBTyxXQUFhcEMsS0FBS3ZKLEtBQUttZCxRQUFReFIsR0FBUSxFQUt2RTJSLFVBQVcsU0FBVTNSLEdBRWpCLE1BQU8seUlBQ0ZwQyxLQUFLb0MsRUFDZCxFQU1BNFIsWUFBYSxTQUFVNVIsR0FBUSxNQUFPLGFBQWVwQyxLQUFLdkosS0FBS21kLFFBQVF4UixHQUFRLEVBSy9FNlIsWUFBYSxTQUFVN1IsR0FDbkJxUixHQUFXclIsR0FDWEEsRUFBTzNMLEtBQUttZCxRQUFReFIsR0FDcEIsSUFBSVYsRUFBVyxHQUNYd1MsRUFBUyxlQUFpQi9QLEtBQUsvQixHQUMvQitSLEVBQVMsZUFBaUJoUSxLQUFLL0IsR0FDL0JnUyxFQUFZLGFBQWVqUSxLQUFLL0IsR0FDcEMsR0FBSThSLEdBQVVDLEdBQVVDLEVBQVcsQ0FDL0IsSUFBSWhLLEdBQU84SixhQUF1QyxFQUFTQSxFQUFPLE1BQVFDLGFBQXVDLEVBQVNBLEVBQU8sTUFBUUMsYUFBNkMsRUFBU0EsRUFBVSxJQUN6TTFTLEVBQVcwSSxFQUNYaEksRUFBT0EsRUFBS2pKLE1BQU1pUixFQUFJNWEsT0FDMUIsQ0FDQSxPQUFPa1MsQ0FDWCxFQVVBMlMsV0FBWSxTQUFVN1EsRUFBSzhRLEVBQWVDLEdBQ3RDLEdBQUk5ZCxLQUFLc2QsVUFBVXZRLEdBQ2IsT0FBT0EsRUFDYixJQUFJZ1IsRUFBVWIsR0FBZ0JsZCxLQUFLbWQsUUFBUVUsUUFBcURBLEVBQWdCcEQsR0FBU0MsUUFBUWpELGVBQzdIdUcsRUFBVWQsR0FBZ0JsZCxLQUFLbWQsUUFBUVcsUUFBcURBLEVBQWdCOWQsS0FBS2llLFNBQVNGLEtBSTlILE9BSEFmLEdBQVdqUSxJQUNYQSxFQUFNL00sS0FBS21kLFFBQVFwUSxJQUVYbVIsV0FBVyxLQUNSdlMsR0FBSy9HLEtBQUtvWixFQUFTalIsRUFBSXJLLE1BQU0sSUFFckIxQyxLQUFLdVEsV0FBV3hELEdBQU9BLEVBQU0vTSxLQUFLNEUsS0FBS21aLEVBQVNoUixFQUV2RSxFQUtBb1IsVUFBVyxTQUFVeFMsR0FHakIsR0FEQXFSLEdBREFyUixFQUFPM0wsS0FBS21kLFFBQVF4UixJQUVBLElBQWhCQSxFQUFLNVMsT0FDSCxNQUFPLElBQ2IsSUFBSWtTLEVBQVcsR0FDWHNGLEVBQWE1RSxFQUFLdVMsV0FBVyxLQUM3QmxlLEtBQUt1ZCxZQUFZNVIsS0FDakJWLEVBQVdqTCxLQUFLaWUsU0FBU3RTLEdBQ3pCQSxFQUFPQSxFQUFLakosTUFBTXVJLEVBQVNsUyxTQUUvQixJQUFJcWxCLEVBQW9CelMsRUFBSzBTLFNBQVMsS0FLdEMsT0FIQTFTLEVBbEtSLFNBQThCQSxFQUFNMlMsR0FNaEMsSUFMQSxJQUlJQyxFQUpBMUssRUFBTSxHQUNOMkssRUFBb0IsRUFDcEJDLEdBQWEsRUFDYkMsRUFBTyxFQUVGcGxCLEVBQUksRUFBR0EsR0FBS3FTLEVBQUs1UyxTQUFVTyxFQUFHLENBQ25DLEdBQUlBLEVBQUlxUyxFQUFLNVMsT0FDVHdsQixFQUFPNVMsRUFBS25FLFdBQVdsTyxPQUV0QixJQUFhLEtBQVRpbEIsRUFDTCxNQUdBQSxFQUFPLEVBQ1gsQ0FDQSxHQUFhLEtBQVRBLEVBQWEsQ0FDYixHQUFJRSxJQUFjbmxCLEVBQUksR0FBYyxJQUFUb2xCLFFBQ3RCLEdBQUlELElBQWNubEIsRUFBSSxHQUFjLElBQVRvbEIsR0FDNUIsR0FBSTdLLEVBQUk5YSxPQUFTLEdBQ1ksSUFBdEJ5bEIsR0FDbUMsS0FBbkMzSyxFQUFJck0sV0FBV3FNLEVBQUk5YSxPQUFTLElBQ08sS0FBbkM4YSxFQUFJck0sV0FBV3FNLEVBQUk5YSxPQUFTLEdBQy9CLEdBQUk4YSxFQUFJOWEsT0FBUyxFQUFHLENBQ2hCLElBQUk0bEIsRUFBaUI5SyxFQUFJOUssWUFBWSxLQUNyQyxHQUFJNFYsSUFBbUI5SyxFQUFJOWEsT0FBUyxFQUFHLEVBQ1gsSUFBcEI0bEIsR0FDQTlLLEVBQU0sR0FDTjJLLEVBQW9CLEdBSXBCQSxHQURBM0ssRUFBTUEsRUFBSW5SLE1BQU0sRUFBR2ljLElBQ0s1bEIsT0FBUyxFQUFJOGEsRUFBSTlLLFlBQVksS0FFekQwVixFQUFZbmxCLEVBQ1pvbEIsRUFBTyxFQUNQLFFBQ0osQ0FDSixNQUNLLEdBQW1CLElBQWY3SyxFQUFJOWEsUUFBK0IsSUFBZjhhLEVBQUk5YSxPQUFjLENBQzNDOGEsRUFBTSxHQUNOMkssRUFBb0IsRUFDcEJDLEVBQVlubEIsRUFDWm9sQixFQUFPLEVBQ1AsUUFDSixPQWFBN0ssRUFBSTlhLE9BQVMsRUFDYjhhLEdBQU8sSUFBTWxJLEVBQUtqSixNQUFNK2IsRUFBWSxFQUFHbmxCLEdBR3ZDdWEsRUFBTWxJLEVBQUtqSixNQUFNK2IsRUFBWSxFQUFHbmxCLEdBRXBDa2xCLEVBQW9CbGxCLEVBQUltbEIsRUFBWSxFQUV4Q0EsRUFBWW5sQixFQUNab2xCLEVBQU8sQ0FDWCxNQUNrQixLQUFUSCxJQUF5QixJQUFWRyxJQUNsQkEsRUFHRkEsR0FBUSxDQUVoQixDQUNBLE9BQU83SyxDQUNYLENBcUZlK0ssQ0FBcUJqVCxJQUNuQjVTLE9BQVMsR0FBS3FsQixJQUNqQnpTLEdBQVEsS0FDVjRFLEVBQ1MsSUFBTTVFLEVBQ1pWLEVBQVdVLENBQ3RCLEVBTUE0RSxXQUFZLFNBQVU1RSxHQUdsQixPQUZBcVIsR0FBV3JSLEdBQ1hBLEVBQU8zTCxLQUFLbWQsUUFBUXhSLEtBQ2hCM0wsS0FBS3VkLFlBQVk1UixJQUVkQSxFQUFLdVMsV0FBVyxJQUMzQixFQU1BdFosS0FBTSxXQUtGLElBSkEsSUFFSThTLEVBUUFtSCxFQVZBQyxFQUFjcmIsVUFHZHNiLEVBQVcsR0FDTkMsRUFBSyxFQUFHQSxFQUFLdmIsVUFBVTFLLE9BQVFpbUIsSUFDcENELEVBQVNDLEdBQU1GLEVBQVlFLEdBRS9CLEdBQXdCLElBQXBCRCxFQUFTaG1CLE9BQ1QsTUFBTyxJQUdYLElBQUssSUFBSU8sRUFBSSxFQUFHQSxFQUFJeWxCLEVBQVNobUIsU0FBVU8sRUFBRyxDQUN0QyxJQUFJa1gsRUFBTXVPLEVBQVN6bEIsR0FFbkIsR0FEQTBqQixHQUFXeE0sR0FDUEEsRUFBSXpYLE9BQVMsRUFDYixRQUFlNEssSUFBWGtiLEVBQ0VBLEVBQVNyTyxNQUNWLENBQ0QsSUFBSXlPLEVBQXFDLFFBQTFCdkgsRUFBS3FILEVBQVN6bEIsRUFBSSxVQUF1QixJQUFQb2UsRUFBZ0JBLEVBQUssR0FDbEUxWCxLQUFLa2YsUUFBUUQsR0FDYkosR0FBVSxPQUFTck8sRUFHbkJxTyxHQUFVLElBQU1yTyxDQUV4QixDQUVSLENBQ0EsWUFBZTdNLElBQVhrYixFQUNPLElBRUo3ZSxLQUFLbWUsVUFBVVUsRUFDMUIsRUFLQU0sUUFBUyxTQUFVeFQsR0FFZixHQURBcVIsR0FBV3JSLEdBQ1MsSUFBaEJBLEVBQUs1UyxPQUNILE1BQU8sSUFTYixJQVBBLElBQUl3bEIsR0FESjVTLEVBQU8zTCxLQUFLbWQsUUFBUXhSLElBQ0puRSxXQUFXLEdBQ3ZCNFgsRUFBbUIsS0FBVGIsRUFDVmxrQixHQUFPLEVBQ1BnbEIsR0FBZSxFQUNmMVIsRUFBUTNOLEtBQUt3ZCxZQUFZN1IsR0FDekIyVCxFQUFXM1QsRUFFTnJTLEdBRFRxUyxFQUFPQSxFQUFLakosTUFBTWlMLEVBQU01VSxTQUNOQSxPQUFTLEVBQUdPLEdBQUssSUFBS0EsRUFFcEMsR0FBYSxNQURiaWxCLEVBQU81UyxFQUFLbkUsV0FBV2xPLEtBRW5CLElBQUsrbEIsRUFBYyxDQUNmaGxCLEVBQU1mLEVBQ04sS0FDSixPQUlBK2xCLEdBQWUsRUFLdkIsT0FBYSxJQUFUaGxCLEVBQ1Mra0IsRUFBVSxJQUFNcGYsS0FBS3FkLE1BQU1pQyxHQUFZM1IsRUFBUWhDLEVBQU9nQyxFQUMvRHlSLEdBQW1CLElBQVIva0IsRUFDRixLQUNOc1QsRUFBUWhDLEVBQUtqSixNQUFNLEVBQUdySSxFQUNqQyxFQUtBNGpCLFNBQVUsU0FBVXRTLEdBQ2hCcVIsR0FBV3JSLEdBRVgsSUFBSWhHLEVBQU8sR0FNWCxHQUpNQSxHQUhOZ0csRUFBTzNMLEtBQUttZCxRQUFReFIsSUFFWHVTLFdBQVcsS0FDUCxJQUVGbGUsS0FBS3dkLFlBQVk3UixHQUV4QjNMLEtBQUtxZCxNQUFNMVIsR0FBTyxDQUVsQixJQUFJcEQsRUFBUW9ELEVBQUt0QixRQUFRLElBQUsxRSxFQUFLNU0sU0FFL0I0TSxHQURXLElBQVg0QyxFQUNPb0QsRUFBS2pKLE1BQU0sRUFBRzZGLEdBR1pvRCxHQUNIMFMsU0FBUyxPQUNiMVksR0FBUSxJQUNsQixDQUNBLE9BQU9BLENBQ1gsRUFNQTRaLFNBQVUsU0FBVTVULEVBQU02VCxHQUN0QnhDLEdBQVdyUixHQUNQNlQsR0FDRXhDLEdBQVd3QyxHQUNqQjdULEVBQU8zTCxLQUFLbWQsUUFBUXhSLEdBQ3BCLElBR0lyUyxFQUhBYyxFQUFRLEVBQ1JDLEdBQU8sRUFDUGdsQixHQUFlLEVBRW5CLFFBQVkxYixJQUFSNmIsR0FBcUJBLEVBQUl6bUIsT0FBUyxHQUFLeW1CLEVBQUl6bUIsUUFBVTRTLEVBQUs1UyxPQUFRLENBQ2xFLEdBQUl5bUIsRUFBSXptQixTQUFXNFMsRUFBSzVTLFFBQVV5bUIsSUFBUTdULEVBQ3BDLE1BQU8sR0FDYixJQUFJOFQsRUFBU0QsRUFBSXptQixPQUFTLEVBQ3RCMm1CLEdBQW9CLEVBQ3hCLElBQUtwbUIsRUFBSXFTLEVBQUs1UyxPQUFTLEVBQUdPLEdBQUssSUFBS0EsRUFBRyxDQUNuQyxJQUFJaWxCLEVBQU81UyxFQUFLbkUsV0FBV2xPLEdBQzNCLEdBQWEsS0FBVGlsQixHQUdBLElBQUtjLEVBQWMsQ0FDZmpsQixFQUFRZCxFQUFJLEVBQ1osS0FDSixPQUcwQixJQUF0Qm9tQixJQUdBTCxHQUFlLEVBQ2ZLLEVBQW1CcG1CLEVBQUksR0FFdkJtbUIsR0FBVSxJQUVObEIsSUFBU2lCLEVBQUloWSxXQUFXaVksSUFDTixLQUFaQSxJQUdGcGxCLEVBQU1mLElBTVZtbUIsR0FBVSxFQUNWcGxCLEVBQU1xbEIsR0FJdEIsQ0FLQSxPQUpJdGxCLElBQVVDLEVBQ1JBLEVBQU1xbEIsR0FDTSxJQUFUcmxCLElBQ0hBLEVBQU1zUixFQUFLNVMsUUFDVjRTLEVBQUtqSixNQUFNdEksRUFBT0MsRUFDN0IsQ0FDQSxJQUFLZixFQUFJcVMsRUFBSzVTLE9BQVMsRUFBR08sR0FBSyxJQUFLQSxFQUNoQyxHQUEyQixLQUF2QnFTLEVBQUtuRSxXQUFXbE8sSUFHaEIsSUFBSytsQixFQUFjLENBQ2ZqbEIsRUFBUWQsRUFBSSxFQUNaLEtBQ0osT0FFYyxJQUFUZSxJQUdMZ2xCLEdBQWUsRUFDZmhsQixFQUFNZixFQUFJLEdBR2xCLE9BQWEsSUFBVGUsRUFDUyxHQUNOc1IsRUFBS2pKLE1BQU10SSxFQUFPQyxFQUM3QixFQU9BNmtCLFFBQVMsU0FBVXZULEdBQ2ZxUixHQUFXclIsR0FTWCxJQVBBLElBQUlnVSxHQUFZLEVBQ1pDLEVBQVksRUFDWnZsQixHQUFPLEVBQ1BnbEIsR0FBZSxFQUdmUSxFQUFjLEVBQ1R2bUIsR0FSVHFTLEVBQU8zTCxLQUFLbWQsUUFBUXhSLElBUUY1UyxPQUFTLEVBQUdPLEdBQUssSUFBS0EsRUFBRyxDQUN2QyxJQUFJaWxCLEVBQU81UyxFQUFLbkUsV0FBV2xPLEdBQzNCLEdBQWEsS0FBVGlsQixHQVNTLElBQVRsa0IsSUFHQWdsQixHQUFlLEVBQ2ZobEIsRUFBTWYsRUFBSSxHQUVELEtBQVRpbEIsR0FFa0IsSUFBZG9CLEVBQ0VBLEVBQVdybUIsRUFDUSxJQUFoQnVtQixJQUNIQSxFQUFjLElBRUQsSUFBZEYsSUFHTEUsR0FBZSxRQXRCZixJQUFLUixFQUFjLENBQ2ZPLEVBQVl0bUIsRUFBSSxFQUNoQixLQUNKLENBcUJSLENBQ0EsT0FBa0IsSUFBZHFtQixJQUE0QixJQUFUdGxCLEdBRUEsSUFBaEJ3bEIsR0FHZ0IsSUFBaEJBLEdBQXFCRixJQUFhdGxCLEVBQU0sR0FBS3NsQixJQUFhQyxFQUFZLEVBQ2xFLEdBRUpqVSxFQUFLakosTUFBTWlkLEVBQVV0bEIsRUFDaEMsRUFLQXdRLE1BQU8sU0FBVWMsR0FDYnFSLEdBQVdyUixHQUNYLElBQUlnSCxFQUFNLENBQUVoTixLQUFNLEdBQUltYSxJQUFLLEdBQUkxWixLQUFNLEdBQUlvWixJQUFLLEdBQUlqZCxLQUFNLElBQ3hELEdBQW9CLElBQWhCb0osRUFBSzVTLE9BQ0gsT0FBTzRaLEVBRWIsSUFFSXZZLEVBRkFta0IsR0FESjVTLEVBQU8zTCxLQUFLbWQsUUFBUXhSLElBQ0puRSxXQUFXLEdBQ3ZCK0ksRUFBYXZRLEtBQUt1USxXQUFXNUUsR0FFakNnSCxFQUFJaE4sS0FBTzNGLEtBQUtpZSxTQUFTdFMsR0FFckJ2UixFQURBbVcsR0FBY3ZRLEtBQUt1ZCxZQUFZNVIsR0FDdkIsRUFHQSxFQVdaLElBVEEsSUFBSWdVLEdBQVksRUFDWkMsRUFBWSxFQUNadmxCLEdBQU8sRUFDUGdsQixHQUFlLEVBQ2YvbEIsRUFBSXFTLEVBQUs1UyxPQUFTLEVBR2xCOG1CLEVBQWMsRUFFWHZtQixHQUFLYyxJQUFTZCxFQUVqQixHQUFhLE1BRGJpbEIsRUFBTzVTLEVBQUtuRSxXQUFXbE8sS0FVVixJQUFUZSxJQUdBZ2xCLEdBQWUsRUFDZmhsQixFQUFNZixFQUFJLEdBRUQsS0FBVGlsQixHQUVrQixJQUFkb0IsRUFDRUEsRUFBV3JtQixFQUNRLElBQWhCdW1CLElBQ0hBLEVBQWMsSUFFRCxJQUFkRixJQUdMRSxHQUFlLFFBdEJmLElBQUtSLEVBQWMsQ0FDZk8sRUFBWXRtQixFQUFJLEVBQ2hCLEtBQ0osQ0ErQ1IsT0F6QmtCLElBQWRxbUIsSUFBNEIsSUFBVHRsQixHQUVBLElBQWhCd2xCLEdBR2dCLElBQWhCQSxHQUFxQkYsSUFBYXRsQixFQUFNLEdBQUtzbEIsSUFBYUMsRUFBWSxHQUM1RCxJQUFUdmxCLElBRU1zWSxFQUFJdk0sS0FBT3VNLEVBQUlwUSxLQURILElBQWRxZCxHQUFtQnJQLEVBQ0s1RSxFQUFLakosTUFBTSxFQUFHckksR0FFZHNSLEVBQUtqSixNQUFNa2QsRUFBV3ZsQixLQUlwQyxJQUFkdWxCLEdBQW1CclAsR0FDbkJvQyxFQUFJcFEsS0FBT29KLEVBQUtqSixNQUFNLEVBQUdpZCxHQUN6QmhOLEVBQUl2TSxLQUFPdUYsRUFBS2pKLE1BQU0sRUFBR3JJLEtBR3pCc1ksRUFBSXBRLEtBQU9vSixFQUFLakosTUFBTWtkLEVBQVdELEdBQ2pDaE4sRUFBSXZNLEtBQU91RixFQUFLakosTUFBTWtkLEVBQVd2bEIsSUFFckNzWSxFQUFJNk0sSUFBTTdULEVBQUtqSixNQUFNaWQsRUFBVXRsQixJQUVuQ3NZLEVBQUltTixJQUFNOWYsS0FBS21mLFFBQVF4VCxHQUNoQmdILENBQ1gsRUFDQS9JLElBQUssSUFDTG1XLFVBQVcsS0FZZnRGLEdBQVN1RixjQUFnQixlQTBCekJ2RixHQUFTd0Ysa0NBQW1DLEVBRTVDLElBNENJQyxHQTVDQUMsSUFBWSxFQU9oQixTQUFTQyxLQUNMRCxJQUFZLENBQ2hCLENBVUEsU0FBU0UsR0FBU3paLEdBQ2QsSUFBSThRLEVBQ0osSUFBSXlJLEdBQUosQ0FHQSxHQUFJMUYsR0FBU0MsUUFBUW5ELGVBQWU2QixVQUFVNVAsY0FBY2EsUUFBUSxXQUFhLEVBQUcsQ0FDaEYsSUFBSTdHLEVBQU8sQ0FDUCxnQ0FBaURvRCxFQUFPLHlEQUN4RCxzQ0FDQSxzQ0FDQSxzREFDQSxzQ0FDQSxzQ0FDQSxzQ0FDQSxtREFDQSxtREFDQSxxREFDSDhRLEVBQUtyRyxXQUFXNkMsU0FBU29NLElBQUkxYyxNQUFNOFQsRUFBSWxVLEVBQzVDLE1BQ1M2TixXQUFXNkMsU0FDaEI3QyxXQUFXNkMsUUFBUW9NLElBQUksa0JBQThCMVosRUFBTyw2QkFFaEV1WixJQUFZLENBbEJaLENBbUJKLENBU0EsU0FBU0ksS0E2QkwsWUE1QnlCLElBQWRMLEtBQ1BBLEdBQVksV0FDUixJQUFJTSxFQUFpQixDQUNqQkMsU0FBUyxFQUNUQyw2QkFBOEJqRyxHQUFTd0Ysa0NBRTNDLElBQ0ksSUFBS3hGLEdBQVNDLFFBQVFyRCwyQkFDbEIsT0FBTyxFQUVYLElBQUlILEVBQVN1RCxHQUFTQyxRQUFRM0QsZUFDMUI0SixFQUFNekosRUFBTzBKLFdBQVcsUUFBU0osSUFDOUJ0SixFQUFPMEosV0FBVyxxQkFBc0JKLEdBQzNDSyxLQUFhRixJQUFNQSxFQUFHRyx1QkFBdUJMLFNBQ2pELEdBQUlFLEVBQUksQ0FDSixJQUFJSSxFQUFjSixFQUFHSyxhQUFhLHNCQUM5QkQsR0FDQUEsRUFBWUEsYUFFcEIsQ0FFQSxPQURBSixFQUFLLEtBQ0VFLENBSVgsQ0FGQSxNQUFPdGxCLEdBQ0gsT0FBTyxDQUNYLENBQ0gsQ0F6QlcsSUEyQlQya0IsRUFDWCxDQUVBLElBb0pJZSxHQUFnQixDQUNuQkMsVUFySmUsVUFzSmZDLGFBckprQixVQXNKbEJDLEtBckpVLFVBc0pWQyxXQXJKZ0IsVUFzSmhCQyxNQXJKVyxVQXNKWEMsTUFySlcsVUFzSlhDLE9BckpZLFVBc0paQyxNQXJKVyxVQXNKWEMsZUFySm9CLFVBc0pwQkMsS0FySlUsVUFzSlZDLFdBckpnQixVQXNKaEJDLE1BckpXLFVBc0pYQyxVQXJKZSxVQXNKZkMsVUFySmUsVUFzSmZDLFdBckpnQixVQXNKaEJDLFVBckplLFVBc0pmQyxNQXJKVyxVQXNKWEMsZUFySm9CLFVBc0pwQkMsU0FySmMsVUFzSmRDLFFBckphLFVBc0piQyxLQXJKVSxVQXNKVkMsU0FySmMsVUFzSmRDLFNBckpjLFVBc0pkQyxjQXJKbUIsVUFzSm5CQyxTQXJKYyxVQXNKZEMsVUFySmUsVUFzSmZDLFNBckpjLFVBc0pkQyxVQXJKZSxVQXNKZkMsWUFySmlCLFVBc0pqQkMsZUFySm9CLFVBc0pwQkMsV0FySmdCLFVBc0poQkMsV0FySmdCLFVBc0poQkMsUUFySmEsVUFzSmJDLFdBckpnQixVQXNKaEJDLGFBckprQixVQXNKbEJDLGNBckptQixVQXNKbkJDLGNBckptQixVQXNKbkJDLGNBckptQixVQXNKbkJDLGNBckptQixVQXNKbkJDLFdBckpnQixVQXNKaEJDLFNBckpjLFVBc0pkQyxZQXJKaUIsVUFzSmpCQyxRQXJKYSxVQXNKYkMsUUFySmEsVUFzSmJDLFdBckpnQixVQXNKaEJDLFVBckplLFVBc0pmQyxZQXJKaUIsVUFzSmpCQyxZQXJKaUIsVUFzSmpCQyxRQXJKYSxVQXNKYkMsVUFySmUsVUFzSmZDLFdBckpnQixVQXNKaEJDLFVBckplLFVBc0pmQyxLQXJKVSxVQXNKVkMsS0FySlUsVUFzSlZDLE1BckpXLFVBc0pYQyxZQXJKaUIsVUFzSmpCQyxLQXJKVSxVQXNKVkMsU0FySmMsVUFzSmRDLFFBckphLFVBc0piQyxVQXJKZSxVQXNKZkMsT0FySlksVUFzSlpDLE1BckpXLFVBc0pYQyxNQXJKVyxVQXNKWEMsY0FySm1CLFVBc0puQkMsU0FySmMsVUFzSmRDLFVBckplLFVBc0pmQyxhQXJKa0IsVUFzSmxCQyxVQXJKZSxVQXNKZkMsV0FySmdCLFVBc0poQkMsVUFySmUsVUFzSmZDLHFCQXJKMEIsVUFzSjFCQyxVQXJKZSxVQXNKZkMsV0FySmdCLFVBc0poQkMsVUFySmUsVUFzSmZDLFVBckplLFVBc0pmQyxZQXJKaUIsVUFzSmpCQyxjQXJKbUIsVUFzSm5CQyxhQXJKa0IsVUFzSmxCQyxlQXJKb0IsVUFzSnBCQyxlQXJKb0IsVUFzSnBCQyxlQXJKb0IsVUFzSnBCQyxZQXJKaUIsVUFzSmpCQyxLQXJKVSxVQXNKVkMsVUFySmUsVUFzSmZDLE1BckpXLFVBc0pYQyxRQXJKYSxVQXNKYkMsT0FySlksVUFzSlpDLGlCQXJKc0IsVUFzSnRCQyxXQXJKZ0IsVUFzSmhCQyxhQXJKa0IsVUFzSmxCQyxhQXJKa0IsVUFzSmxCQyxlQXJKb0IsVUFzSnBCQyxnQkFySnFCLFVBc0pyQkMsa0JBckp1QixVQXNKdkJDLGdCQXJKcUIsVUFzSnJCQyxnQkFySnFCLFVBc0pyQkMsYUFySmtCLFVBc0psQkMsVUFySmUsVUFzSmZDLFVBckplLFVBc0pmQyxTQXJKYyxVQXNKZEMsWUFySmlCLFVBc0pqQkMsS0FySlUsVUFzSlZDLFFBckphLFVBc0piQyxNQXJKVyxVQXNKWEMsVUFySmUsVUFzSmZDLE9BckpZLFVBc0paQyxVQXJKZSxVQXNKZkMsT0FySlksVUFzSlpDLGNBckptQixVQXNKbkJDLFVBckplLFVBc0pmQyxjQXJKbUIsVUFzSm5CQyxjQXJKbUIsVUFzSm5CQyxXQXJKZ0IsVUFzSmhCQyxVQXJKZSxVQXNKZkMsS0FySlUsVUFzSlZDLEtBckpVLFVBc0pWQyxLQXJKVSxVQXNKVkMsV0FySmdCLFVBc0poQkMsT0FySlksVUFzSlpDLGNBckptQixVQXNKbkJDLElBckpTLFVBc0pUQyxVQXJKZSxVQXNKZkMsVUFySmUsVUFzSmZDLFlBckppQixVQXNKakJDLE9BckpZLFVBc0paQyxXQXJKZ0IsVUFzSmhCQyxTQXJKYyxVQXNKZEMsU0FySmMsVUFzSmRDLE9BckpZLFVBc0paQyxPQXJKWSxVQXNKWkMsUUFySmEsVUFzSmJDLFVBckplLFVBc0pmQyxVQXJKZSxVQXNKZkMsVUFySmUsVUFzSmZDLEtBckpVLFVBc0pWQyxZQXJKaUIsVUFzSmpCQyxVQXJKZSxVQXNKZjNyQixJQXJKUyxVQXNKVDRyQixLQXJKVSxVQXNKVkMsUUFySmEsVUFzSmJDLE9BckpZLFVBc0paQyxVQXJKZSxVQXNKZkMsT0FySlksVUFzSlpDLE1BckpXLFVBc0pYQyxNQXJKVyxVQXNKWEMsV0FySmdCLFVBc0poQkMsT0FySlksVUFzSlpDLFlBckppQixXQWtLbEIsU0FBU0MsR0FBUUMsRUFBS2ppQixHQUtsQixZQUpZLElBQVJBLElBQWtCQSxFQUFNLElBQzVCQSxFQUFJLElBQU9paUIsR0FBTyxHQUFNLEtBQVEsSUFDaENqaUIsRUFBSSxJQUFPaWlCLEdBQU8sRUFBSyxLQUFRLElBQy9CamlCLEVBQUksSUFBWSxJQUFOaWlCLEdBQWMsSUFDakJqaUIsQ0FDWCxDQVVBLFNBQVNraUIsR0FBV0QsR0FDaEIsSUFBSUUsRUFBWUYsRUFBSUcsU0FBUyxJQUU3QixNQUFPLEtBREssU0FBU0MsVUFBVSxFQUFHLEVBQUlGLEVBQVV6eEIsUUFBVXl4QixFQUU5RCxDQWVBLFNBQVNHLEdBQVczakIsR0FPaEIsTUFOc0IsaUJBQVhBLEdBRVcsT0FEbEJBLEVBQVNpYSxHQUFjamEsRUFBT3dDLGdCQUFrQnhDLEdBQ3JDLEtBQ1BBLEVBQVNBLEVBQU90RSxNQUFNLElBR3ZCMFksU0FBU3BVLEVBQVEsR0FDNUIsQ0FVQSxTQUFTNGpCLEdBQVFDLEdBQ2IsT0FBbUIsSUFBVEEsRUFBSSxJQUFhLEtBQWlCLElBQVRBLEVBQUksSUFBYSxJQUFlLElBQVRBLEVBQUksR0FBVyxFQUM3RSxDQWlDQSxJQUFJQyxHQXhCSixXQUdJLElBRkEsSUFBSUMsRUFBSyxHQUNMQyxFQUFNLEdBQ0QxeEIsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3BCeXhCLEVBQUd6eEIsR0FBS0EsRUFDUjB4QixFQUFJMXhCLEdBQUtBLEVBRWJ5eEIsRUFBR2xXLEVBQVlvVyxZQUFjcFcsRUFBWXFXLE9BQ3pDSCxFQUFHbFcsRUFBWXNXLFNBQVd0VyxFQUFZdVcsSUFDdENMLEVBQUdsVyxFQUFZd1csWUFBY3hXLEVBQVl5VyxPQUN6Q04sRUFBSW5XLEVBQVlxVyxRQUFVclcsRUFBWW9XLFdBQ3RDRCxFQUFJblcsRUFBWXVXLEtBQU92VyxFQUFZc1csUUFDbkNILEVBQUluVyxFQUFZeVcsUUFBVXpXLEVBQVl3VyxXQUN0QyxJQUFJdmtCLEVBQVEsR0FHWixPQUZBQSxFQUFNbk4sS0FBS3F4QixHQUNYbGtCLEVBQU1uTixLQUFLb3hCLEdBQ0pqa0IsQ0FDWCxDQU8yQnlrQixHQVMzQixTQUFTQyxHQUFpQkMsRUFBV0MsR0FDakMsT0FBT1osR0FBcUJZLEVBQWdCLEVBQUksR0FBR0QsRUFDdkQsQ0FXQSxTQUFTRSxHQUFnQmQsRUFBS2UsRUFBT3ZqQixFQUFLd2pCLEdBYXRDLE9BWkF4akIsRUFBTUEsR0FBTyxJQUFJb08sYUFBYSxHQUMxQm9WLFFBQStCbG9CLElBQWhCa29CLEdBQ2Z4akIsRUFBSSxHQUFLd2lCLEVBQUksR0FBS2UsRUFDbEJ2akIsRUFBSSxHQUFLd2lCLEVBQUksR0FBS2UsRUFDbEJ2akIsRUFBSSxHQUFLd2lCLEVBQUksR0FBS2UsSUFHbEJ2akIsRUFBSSxHQUFLd2lCLEVBQUksR0FDYnhpQixFQUFJLEdBQUt3aUIsRUFBSSxHQUNieGlCLEVBQUksR0FBS3dpQixFQUFJLElBRWpCeGlCLEVBQUksR0FBS3VqQixFQUNGdmpCLENBQ1gsQ0FTQSxTQUFTeWpCLEdBQWdCQyxFQUFNSCxHQUMzQixHQUFjLElBQVZBLEVBQ0EsT0FBZ0IsSUFBUkEsR0FBZSxJQUFNRyxFQUVqQyxHQUFjLElBQVZILEVBQ0EsT0FBTyxFQUVYLElBQUlJLEVBQU1ELEdBQVEsR0FBTSxJQUNwQkUsRUFBTUYsR0FBUSxFQUFLLElBQ25CRyxFQUFZLElBQVBILEVBSVQsT0FBZ0IsSUFBUkgsR0FBZSxNQUh2QkksRUFBTUEsRUFBSUosRUFBUyxHQUFPLElBR1MsTUFGbkNLLEVBQU1BLEVBQUlMLEVBQVMsR0FBTyxJQUVxQixJQUR6Q00sRUFBSU4sRUFBUyxHQUFPLEVBRTlCLENBV0EsU0FBU08sR0FBc0JKLEVBQU1ILEVBQU92akIsRUFBS3dqQixHQVc3QyxPQVZBeGpCLEVBQU1BLEdBQU8sSUFBSW9PLGFBQWEsSUFDMUIsSUFBT3NWLEdBQVEsR0FBTSxLQUFRLElBQ2pDMWpCLEVBQUksSUFBTzBqQixHQUFRLEVBQUssS0FBUSxJQUNoQzFqQixFQUFJLElBQWEsSUFBUDBqQixHQUFlLEtBQ3JCRixRQUErQmxvQixJQUFoQmtvQixLQUNmeGpCLEVBQUksSUFBTXVqQixFQUNWdmpCLEVBQUksSUFBTXVqQixFQUNWdmpCLEVBQUksSUFBTXVqQixHQUVkdmpCLEVBQUksR0FBS3VqQixFQUNGdmpCLENBQ1gsQ0FVQSxTQUFTK2pCLEdBQXNCQyxFQUFNQyxRQUNmLElBQWRBLElBQXdCQSxFQUFZLE1BRXhDLElBQUlDLEVBQXNCLEVBQVBGLEVBRW5CLElBREFDLEVBQVlBLEdBQWEsSUFBSTNWLFlBQVk0VixJQUMzQnh6QixTQUFXd3pCLEVBQ3JCLE1BQU0sSUFBSUMsTUFBTSx1Q0FBeUNGLEVBQVV2ekIsT0FBUyxpQkFBbUJ3ekIsR0FHbkcsSUFBSyxJQUFJanpCLEVBQUksRUFBRzRHLEVBQUksRUFBRzVHLEVBQUlpekIsRUFBY2p6QixHQUFLLEVBQUc0RyxHQUFLLEVBQ2xEb3NCLEVBQVVoekIsRUFBSSxHQUFLNEcsRUFBSSxFQUN2Qm9zQixFQUFVaHpCLEVBQUksR0FBSzRHLEVBQUksRUFDdkJvc0IsRUFBVWh6QixFQUFJLEdBQUs0RyxFQUFJLEVBQ3ZCb3NCLEVBQVVoekIsRUFBSSxHQUFLNEcsRUFBSSxFQUN2Qm9zQixFQUFVaHpCLEVBQUksR0FBSzRHLEVBQUksRUFDdkJvc0IsRUFBVWh6QixFQUFJLEdBQUs0RyxFQUFJLEVBRTNCLE9BQU9vc0IsQ0FDWCxDQUVBLFNBQVNHLEdBQWMzbEIsR0FDbkIsR0FBZ0MsSUFBNUJBLEVBQU00bEIsa0JBQ04sT0FBSTVsQixhQUFpQjJQLGFBQ1YsZUFFRjNQLGFBQWlCNFAsWUFDZixjQUVKLGFBRU4sR0FBZ0MsSUFBNUI1UCxFQUFNNGxCLG1CQUNYLEdBQUk1bEIsYUFBaUI2UCxZQUNqQixNQUFPLG1CQUdWLEdBQWdDLElBQTVCN1AsRUFBTTRsQixtQkFDUDVsQixhQUFpQjhQLFdBQ2pCLE1BQU8sYUFJZixPQUFPLElBQ1gsQ0FHQSxJQUFJalMsR0FBTSxDQUFFOFIsYUFBNEJDLFlBQTBCRyxXQUF3QkQsWUFDMUYsU0FBUytWLEdBQXNCQyxFQUFRQyxHQUluQyxJQUhBLElBQUlDLEVBQVUsRUFDVkMsRUFBUyxFQUNUQyxFQUFRLENBQUMsRUFDSjF6QixFQUFJLEVBQUdBLEVBQUlzekIsRUFBTzd6QixPQUFRTyxJQUMvQnl6QixHQUFVRixFQUFNdnpCLEdBQ2hCd3pCLEdBQVdGLEVBQU90ekIsR0FBR1AsT0FFekIsSUFBSWswQixFQUFTLElBQUl6VyxZQUFzQixFQUFWc1csR0FDekJ6a0IsRUFBTSxLQUNONmtCLEVBQWUsRUFDbkIsSUFBUzV6QixFQUFJLEVBQUdBLEVBQUlzekIsRUFBTzd6QixPQUFRTyxJQUFLLENBQ3BDLElBQUkreUIsRUFBT1EsRUFBTXZ6QixHQUNid04sRUFBUThsQixFQUFPdHpCLEdBS2ZzTixFQUFPNmxCLEdBQWMzbEIsR0FDcEJrbUIsRUFBTXBtQixLQUNQb21CLEVBQU1wbUIsR0FBUSxJQUFJakMsR0FBSWlDLEdBQU1xbUIsSUFFaEM1a0IsRUFBTTJrQixFQUFNcG1CLEdBQ1osSUFBSyxJQUFJMUcsRUFBSSxFQUFHQSxFQUFJNEcsRUFBTS9OLE9BQVFtSCxJQUc5Qm1JLEdBRm1CbkksRUFBSW1zQixFQUFPLEdBQUtVLEVBQVVHLEVBQ2pDaHRCLEVBQUltc0IsR0FDVXZsQixFQUFNNUcsR0FFcENndEIsR0FBZ0JiLENBQ3BCLENBQ0EsT0FBTyxJQUFJNVYsYUFBYXdXLEVBQzVCLENBVUEsU0FBU0UsR0FBU2hqQixHQVFkLE9BUEFBLEdBQVcsSUFBTkEsRUFBVSxFQUFJLElBQ2pCQSxFQUNGQSxHQUFLQSxJQUFNLEVBQ1hBLEdBQUtBLElBQU0sRUFDWEEsR0FBS0EsSUFBTSxFQUNYQSxHQUFLQSxJQUFNLEVBRUEsR0FEWEEsR0FBS0EsSUFBTSxHQUVmLENBUUEsU0FBU2lqQixHQUFPampCLEdBQ1osUUFBU0EsRUFBS0EsRUFBSSxJQUFVQSxFQUNoQyxDQVFBLFNBQVNrakIsR0FBS2xqQixHQUNWLElBQUlyTCxHQUFLcUwsRUFBSSxNQUFTLEVBQUksSUFBTSxFQUU1QnVGLElBREp2RixLQUFPckwsR0FDVSxJQUFPLEVBQUksSUFBTSxFQVNsQyxPQVBBQSxHQUFLNFEsRUFHTDVRLEdBRkE0USxJQUZBdkYsS0FBT3VGLEdBRU0sR0FBTSxFQUFJLElBQU0sR0FLN0I1USxHQUZBNFEsSUFGQXZGLEtBQU91RixHQUVNLEVBQU0sRUFBSSxJQUFNLElBQzdCdkYsS0FBT3VGLElBRVUsQ0FDckIsQ0FVQSxTQUFTNGQsR0FBWTNaLEVBQUs0WixFQUFVQyxHQUNoQyxJQUNJbDBCLEVBREFQLEVBQVM0YSxFQUFJNWEsT0FFakIsS0FBSXcwQixHQUFZeDBCLEdBQTBCLElBQWhCeTBCLEdBQTFCLENBSUEsSUFBSWowQixFQUFNUixHQURWeTBCLEVBQWVELEVBQVdDLEVBQWN6MEIsRUFBU0EsRUFBU3cwQixFQUFXQyxHQUVyRSxJQUFLbDBCLEVBQUlpMEIsRUFBVWowQixFQUFJQyxJQUFPRCxFQUMxQnFhLEVBQUlyYSxHQUFLcWEsRUFBSXJhLEVBQUlrMEIsR0FFckI3WixFQUFJNWEsT0FBU1EsQ0FOYixDQU9KLENBU0EsU0FBUzZGLEdBQUtoQyxHQUNWLE9BQVUsSUFBTkEsRUFDUyxFQUNOQSxFQUFJLEdBQUssRUFBSSxDQUN4QixDQUVBLElBQUlxd0IsR0FBVSxFQU9kLFNBQVNDLEtBQ0wsUUFBU0QsRUFDYixDQUdBLElBQUlFLEdBQVcsQ0FBQyxFQVloQixTQUFTQyxHQUFZQyxFQUFTQyxFQUFTQyxHQUduQyxRQUZvQixJQUFoQkEsSUFBMEJBLEVBQWMsSUFFeENKLEdBQVNHLEdBQWIsQ0FJQSxJQUFJRSxHQUFRLElBQUl4QixPQUFRd0IsV0FFSCxJQUFWQSxFQUNQOVosUUFBUUMsS0FBSywrQkFBZ0MyWixFQUFVLHVCQUF5QkQsSUFJaEZHLEVBQVFBLEVBQU1scEIsTUFBTSxNQUFNa0UsT0FBTytrQixHQUFhbnBCLEtBQUssTUFDL0NzUCxRQUFRK1osZ0JBQ1IvWixRQUFRK1osZUFBZSxxQ0FBc0MsbUNBQW9DLHNEQUF1REgsRUFBVSx1QkFBeUJELEdBQzNMM1osUUFBUUMsS0FBSzZaLEdBQ2I5WixRQUFRZ2EsYUFHUmhhLFFBQVFDLEtBQUssK0JBQWdDMlosRUFBVSx1QkFBeUJELEdBQ2hGM1osUUFBUUMsS0FBSzZaLEtBSXJCTCxHQUFTRyxJQUFXLENBckJwQixDQXNCSixDQVNBLElBQUlLLEdBQWUsQ0FBQyxFQVFoQkMsR0FBZXB0QixPQUFPbUIsT0FBTyxNQVE3QmtzQixHQUFtQnJ0QixPQUFPbUIsT0FBTyxNQU1yQyxTQUFTbXNCLEtBQ0wsSUFBSTVvQixFQUNKLElBQUtBLEtBQU8wb0IsR0FDUkEsR0FBYTFvQixHQUFLNm9CLFVBRXRCLElBQUs3b0IsS0FBTzJvQixHQUNSQSxHQUFpQjNvQixHQUFLNm9CLFNBRTlCLENBTUEsU0FBU0MsS0FDTCxJQUFJOW9CLEVBQ0osSUFBS0EsS0FBTzBvQixVQUNEQSxHQUFhMW9CLEdBRXhCLElBQUtBLEtBQU8yb0IsVUFDREEsR0FBaUIzb0IsRUFFaEMsQ0FPQSxJQUFJK29CLEdBQW9DLFdBTXBDLFNBQVNBLEVBQW1CelgsRUFBT0MsRUFBUXlYLEdBQ3ZDMXVCLEtBQUtrWCxPQUFTdUQsR0FBU0MsUUFBUTNELGVBQy9CL1csS0FBS3VCLFFBQVV2QixLQUFLa1gsT0FBTzBKLFdBQVcsTUFDdEM1Z0IsS0FBSzB1QixXQUFhQSxHQUFjalUsR0FBU0ssV0FDekM5YSxLQUFLMnVCLE9BQU8zWCxFQUFPQyxFQUN2QixDQW1EQSxPQTlDQXdYLEVBQW1CeHRCLFVBQVUydEIsTUFBUSxXQUNqQzV1QixLQUFLdUIsUUFBUXN0QixhQUFhLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUN6Qzd1QixLQUFLdUIsUUFBUXV0QixVQUFVLEVBQUcsRUFBRzl1QixLQUFLa1gsT0FBT0YsTUFBT2hYLEtBQUtrWCxPQUFPRCxPQUNoRSxFQU1Bd1gsRUFBbUJ4dEIsVUFBVTB0QixPQUFTLFNBQVVJLEVBQWNDLEdBQzFEaHZCLEtBQUtrWCxPQUFPRixNQUFRL2MsS0FBS2cxQixNQUFNRixFQUFlL3VCLEtBQUswdUIsWUFDbkQxdUIsS0FBS2tYLE9BQU9ELE9BQVNoZCxLQUFLZzFCLE1BQU1ELEVBQWdCaHZCLEtBQUswdUIsV0FDekQsRUFFQUQsRUFBbUJ4dEIsVUFBVXN0QixRQUFVLFdBQ25DdnVCLEtBQUt1QixRQUFVLEtBQ2Z2QixLQUFLa1gsT0FBUyxJQUNsQixFQUNBbFcsT0FBT2tRLGVBQWV1ZCxFQUFtQnh0QixVQUFXLFFBQVMsQ0FLekRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtrWCxPQUFPRixLQUN2QixFQUNBa1ksSUFBSyxTQUFVOXFCLEdBQ1hwRSxLQUFLa1gsT0FBT0YsTUFBUS9jLEtBQUtnMUIsTUFBTTdxQixFQUNuQyxFQUNBK00sWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXVkLEVBQW1CeHRCLFVBQVcsU0FBVSxDQUsxRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS2tYLE9BQU9ELE1BQ3ZCLEVBQ0FpWSxJQUFLLFNBQVU5cUIsR0FDWHBFLEtBQUtrWCxPQUFPRCxPQUFTaGQsS0FBS2cxQixNQUFNN3FCLEVBQ3BDLEVBQ0ErTSxZQUFZLEVBQ1pnZSxjQUFjLElBRVhWLENBQ1gsQ0EvRHVDLEdBd0V2QyxTQUFTVyxHQUFXbFksR0FFaEIsSUFlSTVkLEVBQ0FYLEVBQ0FDLEVBakJBb2UsRUFBUUUsRUFBT0YsTUFDZkMsRUFBU0MsRUFBT0QsT0FDaEIxVixFQUFVMlYsRUFBTzBKLFdBQVcsS0FBTSxDQUNsQ3lPLG9CQUFvQixJQUdwQkMsRUFEWS90QixFQUFRZ3VCLGFBQWEsRUFBRyxFQUFHdlksRUFBT0MsR0FDM0I3ZSxLQUNuQm1CLEVBQU0rMUIsRUFBT3YyQixPQUNieTJCLEVBQVEsQ0FDUkMsSUFBSyxLQUNMQyxLQUFNLEtBQ05DLE1BQU8sS0FDUEMsT0FBUSxNQUVSeDNCLEVBQU8sS0FJWCxJQUFLa0IsRUFBSSxFQUFHQSxFQUFJQyxFQUFLRCxHQUFLLEVBQ0EsSUFBbEJnMkIsRUFBT2gyQixFQUFJLEtBQ1hYLEVBQUtXLEVBQUksRUFBSzBkLEVBQ2RwZSxLQUFRVSxFQUFJLEVBQUswZCxHQUNDLE9BQWR3WSxFQUFNQyxNQUNORCxFQUFNQyxJQUFNNzJCLElBRUcsT0FBZjQyQixFQUFNRSxNQUdELzJCLEVBQUk2MkIsRUFBTUUsUUFGZkYsRUFBTUUsS0FBTy8yQixJQUtHLE9BQWhCNjJCLEVBQU1HLE9BR0RILEVBQU1HLE1BQVFoM0IsS0FGbkI2MkIsRUFBTUcsTUFBUWgzQixFQUFJLElBS0QsT0FBakI2MkIsRUFBTUksUUFHREosRUFBTUksT0FBU2gzQixLQUZwQjQyQixFQUFNSSxPQUFTaDNCLElBWTNCLE9BTGtCLE9BQWQ0MkIsRUFBTUMsTUFDTnpZLEVBQVF3WSxFQUFNRyxNQUFRSCxFQUFNRSxLQUM1QnpZLEVBQVN1WSxFQUFNSSxPQUFTSixFQUFNQyxJQUFNLEVBQ3BDcjNCLEVBQU9tSixFQUFRZ3VCLGFBQWFDLEVBQU1FLEtBQU1GLEVBQU1DLElBQUt6WSxFQUFPQyxJQUV2RCxDQUNIQSxPQUFRQSxFQUNSRCxNQUFPQSxFQUNQNWUsS0FBTUEsRUFFZCxDQVVBLElBb0RJeTNCLEdBcERBQyxHQUFXLCtFQXNDZixTQUFTQyxHQUFpQkMsR0FDdEIsSUFBSUMsRUFBZUgsR0FBU3BpQixLQUFLc2lCLEdBQ2pDLEdBQUlDLEVBQ0EsTUFBTyxDQUNIQyxVQUFXRCxFQUFhLEdBQUtBLEVBQWEsR0FBR3ptQixtQkFBZ0I3RixFQUM3RHdzQixRQUFTRixFQUFhLEdBQUtBLEVBQWEsR0FBR3ptQixtQkFBZ0I3RixFQUMzRHlzQixRQUFTSCxFQUFhLEdBQUtBLEVBQWEsR0FBR3ptQixtQkFBZ0I3RixFQUMzRDBzQixTQUFVSixFQUFhLEdBQUtBLEVBQWEsR0FBR3ptQixtQkFBZ0I3RixFQUM1RHZMLEtBQU02M0IsRUFBYSxHQUkvQixDQWFBLFNBQVNLLEdBQXFCQyxFQUFPQyxHQUdqQyxRQUZZLElBQVJBLElBQWtCQSxFQUFNbmYsV0FBV3VHLFVBRVIsSUFBM0IyWSxFQUFNbG1CLFFBQVEsU0FDZCxNQUFPLEdBR1htbUIsRUFBTUEsR0FBT25mLFdBQVd1RyxTQUNuQmlZLEtBQ0RBLEdBQWExWSxTQUFTQyxjQUFjLE1BS3hDeVksR0FBV2prQixLQUFPMmtCLEVBQ2xCLElBQUlFLEVBQVksR0FBSTVsQixNQUFNZ2xCLEdBQVdqa0IsTUFDakM4a0IsR0FBYUQsRUFBVXBsQixNQUFxQixLQUFibWxCLEVBQUlubEIsTUFBaUJvbEIsRUFBVXBsQixPQUFTbWxCLEVBQUlubEIsS0FFL0UsT0FBSW9sQixFQUFVbmxCLFdBQWFrbEIsRUFBSWxsQixVQUFhb2xCLEdBQVlELEVBQVV4bEIsV0FBYXVsQixFQUFJdmxCLFNBRzVFLEdBRkksV0FHZixDQVdBLFNBQVMwbEIsR0FBbUI1akIsRUFBSzZqQixHQUM3QixJQUFJbEMsRUFBYWpVLEdBQVN1RixjQUFjdFMsS0FBS1gsR0FDN0MsT0FBSTJoQixFQUNPbUMsV0FBV25DLEVBQVcsU0FFVC9xQixJQUFqQml0QixFQUE2QkEsRUFBZSxDQUN2RCxDQy9uREEsSUEwQklFLEdBMUJBQyxHQUFpQixFQUFWOTJCLEtBQUsrMkIsR0FPWkMsR0FBYSxJQUFNaDNCLEtBQUsrMkIsR0FPeEJFLEdBQWFqM0IsS0FBSysyQixHQUFLLEtBYTNCLFNBQVdGLEdBQ1BBLEVBQU9BLEVBQWEsS0FBSSxHQUFLLE9BQzdCQSxFQUFPQSxFQUFhLEtBQUksR0FBSyxPQUM3QkEsRUFBT0EsRUFBYSxLQUFJLEdBQUssT0FDN0JBLEVBQU9BLEVBQWEsS0FBSSxHQUFLLE9BQzdCQSxFQUFPQSxFQUFhLEtBQUksR0FBSyxNQUNoQyxDQU5ELENBTUdBLEtBQVdBLEdBQVMsQ0FBQyxJQVN4QixJQUFJSyxHQUF1QixXQU12QixTQUFTQSxFQUFNeDRCLEVBQUdDLFFBQ0osSUFBTkQsSUFBZ0JBLEVBQUksUUFDZCxJQUFOQyxJQUFnQkEsRUFBSSxHQUV4Qm9ILEtBQUtySCxFQUFJLEVBRVRxSCxLQUFLcEgsRUFBSSxFQUNUb0gsS0FBS3JILEVBQUlBLEVBQ1RxSCxLQUFLcEgsRUFBSUEsQ0FDYixDQW1EQSxPQTlDQXU0QixFQUFNbHdCLFVBQVVtd0IsTUFBUSxXQUNwQixPQUFPLElBQUlELEVBQU1ueEIsS0FBS3JILEVBQUdxSCxLQUFLcEgsRUFDbEMsRUFNQXU0QixFQUFNbHdCLFVBQVVvd0IsU0FBVyxTQUFVdjJCLEdBRWpDLE9BREFrRixLQUFLa3ZCLElBQUlwMEIsRUFBRW5DLEVBQUdtQyxFQUFFbEMsR0FDVG9ILElBQ1gsRUFNQW14QixFQUFNbHdCLFVBQVVxd0IsT0FBUyxTQUFVeDJCLEdBRS9CLE9BREFBLEVBQUVvMEIsSUFBSWx2QixLQUFLckgsRUFBR3FILEtBQUtwSCxHQUNaa0MsQ0FDWCxFQU1BcTJCLEVBQU1sd0IsVUFBVXZHLE9BQVMsU0FBVUksR0FDL0IsT0FBUUEsRUFBRW5DLElBQU1xSCxLQUFLckgsR0FBT21DLEVBQUVsQyxJQUFNb0gsS0FBS3BILENBQzdDLEVBUUF1NEIsRUFBTWx3QixVQUFVaXVCLElBQU0sU0FBVXYyQixFQUFHQyxHQUsvQixZQUpVLElBQU5ELElBQWdCQSxFQUFJLFFBQ2QsSUFBTkMsSUFBZ0JBLEVBQUlELEdBQ3hCcUgsS0FBS3JILEVBQUlBLEVBQ1RxSCxLQUFLcEgsRUFBSUEsRUFDRm9ILElBQ1gsRUFDQW14QixFQUFNbHdCLFVBQVV3cEIsU0FBVyxXQUN2QixNQUFPLHVCQUF5QnpxQixLQUFLckgsRUFBSSxNQUFRcUgsS0FBS3BILEVBQUksR0FDOUQsRUFDT3U0QixDQUNYLENBbkUwQixHQXFFdEJJLEdBQWEsQ0FBQyxJQUFJSixHQUFTLElBQUlBLEdBQVMsSUFBSUEsR0FBUyxJQUFJQSxJQWF6REssR0FBMkIsV0FPM0IsU0FBU0EsRUFBVTc0QixFQUFHQyxFQUFHb2UsRUFBT0MsUUFDbEIsSUFBTnRlLElBQWdCQSxFQUFJLFFBQ2QsSUFBTkMsSUFBZ0JBLEVBQUksUUFDVixJQUFWb2UsSUFBb0JBLEVBQVEsUUFDakIsSUFBWEMsSUFBcUJBLEVBQVMsR0FDbENqWCxLQUFLckgsRUFBSTBkLE9BQU8xZCxHQUNoQnFILEtBQUtwSCxFQUFJeWQsT0FBT3pkLEdBQ2hCb0gsS0FBS2dYLE1BQVFYLE9BQU9XLEdBQ3BCaFgsS0FBS2lYLE9BQVNaLE9BQU9ZLEdBQ3JCalgsS0FBSzRHLEtBQU9rcUIsR0FBT1csSUFDdkIsQ0FtT0EsT0FsT0F6d0IsT0FBT2tRLGVBQWVzZ0IsRUFBVXZ3QixVQUFXLE9BQVEsQ0FFL0NtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtySCxDQUNoQixFQUNBd1ksWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXNnQixFQUFVdndCLFVBQVcsUUFBUyxDQUVoRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3JILEVBQUlxSCxLQUFLZ1gsS0FDekIsRUFDQTdGLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVzZ0IsRUFBVXZ3QixVQUFXLE1BQU8sQ0FFOUNtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtwSCxDQUNoQixFQUNBdVksWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXNnQixFQUFVdndCLFVBQVcsU0FBVSxDQUVqRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3BILEVBQUlvSCxLQUFLaVgsTUFDekIsRUFDQTlGLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVzZ0IsRUFBVyxRQUFTLENBRXRDcGdCLElBQUssV0FDRCxPQUFPLElBQUlvZ0IsRUFBVSxFQUFHLEVBQUcsRUFBRyxFQUNsQyxFQUNBcmdCLFlBQVksRUFDWmdlLGNBQWMsSUFNbEJxQyxFQUFVdndCLFVBQVVtd0IsTUFBUSxXQUN4QixPQUFPLElBQUlJLEVBQVV4eEIsS0FBS3JILEVBQUdxSCxLQUFLcEgsRUFBR29ILEtBQUtnWCxNQUFPaFgsS0FBS2lYLE9BQzFELEVBTUF1YSxFQUFVdndCLFVBQVVvd0IsU0FBVyxTQUFVSyxHQUtyQyxPQUpBMXhCLEtBQUtySCxFQUFJKzRCLEVBQVUvNEIsRUFDbkJxSCxLQUFLcEgsRUFBSTg0QixFQUFVOTRCLEVBQ25Cb0gsS0FBS2dYLE1BQVEwYSxFQUFVMWEsTUFDdkJoWCxLQUFLaVgsT0FBU3lhLEVBQVV6YSxPQUNqQmpYLElBQ1gsRUFNQXd4QixFQUFVdndCLFVBQVVxd0IsT0FBUyxTQUFVSSxHQUtuQyxPQUpBQSxFQUFVLzRCLEVBQUlxSCxLQUFLckgsRUFDbkIrNEIsRUFBVTk0QixFQUFJb0gsS0FBS3BILEVBQ25CODRCLEVBQVUxYSxNQUFRaFgsS0FBS2dYLE1BQ3ZCMGEsRUFBVXphLE9BQVNqWCxLQUFLaVgsT0FDakJ5YSxDQUNYLEVBT0FGLEVBQVV2d0IsVUFBVTB3QixTQUFXLFNBQVVoNUIsRUFBR0MsR0FDeEMsUUFBSW9ILEtBQUtnWCxPQUFTLEdBQUtoWCxLQUFLaVgsUUFBVSxJQUdsQ3RlLEdBQUtxSCxLQUFLckgsR0FBS0EsRUFBSXFILEtBQUtySCxFQUFJcUgsS0FBS2dYLE9BQzdCcGUsR0FBS29ILEtBQUtwSCxHQUFLQSxFQUFJb0gsS0FBS3BILEVBQUlvSCxLQUFLaVgsTUFLN0MsRUFVQXVhLEVBQVV2d0IsVUFBVTVELFdBQWEsU0FBVTRjLEVBQU8yWCxHQUM5QyxJQUFLQSxFQUFXLENBQ1osSUFBSUMsRUFBTzd4QixLQUFLckgsRUFBSXNoQixFQUFNdGhCLEVBQUlzaEIsRUFBTXRoQixFQUFJcUgsS0FBS3JILEVBRTdDLElBRFdxSCxLQUFLMnZCLE1BQVExVixFQUFNMFYsTUFBUTFWLEVBQU0wVixNQUFRM3ZCLEtBQUsydkIsUUFDN0NrQyxFQUNSLE9BQU8sRUFFWCxJQUFJQyxFQUFPOXhCLEtBQUtwSCxFQUFJcWhCLEVBQU1yaEIsRUFBSXFoQixFQUFNcmhCLEVBQUlvSCxLQUFLcEgsRUFFN0MsT0FEV29ILEtBQUs0dkIsT0FBUzNWLEVBQU0yVixPQUFTM1YsRUFBTTJWLE9BQVM1dkIsS0FBSzR2QixRQUM5Q2tDLENBQ2xCLENBQ0EsSUFBSWoxQixFQUFLbUQsS0FBSzB2QixLQUNWM3lCLEVBQUtpRCxLQUFLMnZCLE1BQ1Y3eUIsRUFBS2tELEtBQUt5dkIsSUFDVnp5QixFQUFLZ0QsS0FBSzR2QixPQUNkLEdBQUk3eUIsR0FBTUYsR0FBTUcsR0FBTUYsRUFDbEIsT0FBTyxFQUVYLElBQUlpMUIsRUFBS1IsR0FBVyxHQUFHckMsSUFBSWpWLEVBQU15VixLQUFNelYsRUFBTXdWLEtBQ3pDdUMsRUFBS1QsR0FBVyxHQUFHckMsSUFBSWpWLEVBQU15VixLQUFNelYsRUFBTTJWLFFBQ3pDcUMsRUFBS1YsR0FBVyxHQUFHckMsSUFBSWpWLEVBQU0wVixNQUFPMVYsRUFBTXdWLEtBQzFDeUMsRUFBS1gsR0FBVyxHQUFHckMsSUFBSWpWLEVBQU0wVixNQUFPMVYsRUFBTTJWLFFBQzlDLEdBQUlxQyxFQUFHdDVCLEdBQUtvNUIsRUFBR3A1QixHQUFLcTVCLEVBQUdwNUIsR0FBS201QixFQUFHbjVCLEVBQzNCLE9BQU8sRUFFWCxJQUFJNk0sRUFBSXhMLEtBQUttRixLQUFNd3lCLEVBQVV4MUIsRUFBSXcxQixFQUFVOXdCLEVBQU04d0IsRUFBVXYxQixFQUFJdTFCLEVBQVV0MUIsR0FDekUsR0FBVSxJQUFObUosRUFDQSxPQUFPLEVBTVgsR0FKQW1zQixFQUFVaHVCLE1BQU1tdUIsRUFBSUEsR0FDcEJILEVBQVVodUIsTUFBTW91QixFQUFJQSxHQUNwQkosRUFBVWh1QixNQUFNcXVCLEVBQUlBLEdBQ3BCTCxFQUFVaHVCLE1BQU1zdUIsRUFBSUEsR0FDaEJqNEIsS0FBS0MsSUFBSTYzQixFQUFHcDVCLEVBQUdxNUIsRUFBR3I1QixFQUFHczVCLEVBQUd0NUIsRUFBR3U1QixFQUFHdjVCLElBQU1rRSxHQUNqQzVDLEtBQUt3RixJQUFJc3lCLEVBQUdwNUIsRUFBR3E1QixFQUFHcjVCLEVBQUdzNUIsRUFBR3Q1QixFQUFHdTVCLEVBQUd2NUIsSUFBTW9FLEdBQ3BDOUMsS0FBS0MsSUFBSTYzQixFQUFHbjVCLEVBQUdvNUIsRUFBR3A1QixFQUFHcTVCLEVBQUdyNUIsRUFBR3M1QixFQUFHdDVCLElBQU1rRSxHQUNwQzdDLEtBQUt3RixJQUFJc3lCLEVBQUduNUIsRUFBR281QixFQUFHcDVCLEVBQUdxNUIsRUFBR3I1QixFQUFHczVCLEVBQUd0NUIsSUFBTW9FLEVBQ3ZDLE9BQU8sRUFFWCxJQUFJbTFCLEVBQUsxc0IsR0FBS3VzQixFQUFHcDVCLEVBQUltNUIsRUFBR241QixHQUNwQnc1QixFQUFLM3NCLEdBQUtzc0IsRUFBR3A1QixFQUFJcTVCLEVBQUdyNUIsR0FDcEIwNUIsRUFBT0YsRUFBS3QxQixFQUFPdTFCLEVBQUt0MUIsRUFDeEJ3MUIsRUFBT0gsRUFBS3AxQixFQUFPcTFCLEVBQUt0MUIsRUFDeEJ5MUIsRUFBT0osRUFBS3QxQixFQUFPdTFCLEVBQUtwMUIsRUFDeEJ3MUIsRUFBT0wsRUFBS3AxQixFQUFPcTFCLEVBQUtwMUIsRUFDNUIsR0FBSS9DLEtBQUtDLElBQUltNEIsRUFBS0MsRUFBS0MsRUFBS0MsSUFBU0wsRUFBS0osRUFBR3A1QixFQUFNeTVCLEVBQUtMLEVBQUduNUIsR0FDcERxQixLQUFLd0YsSUFBSTR5QixFQUFLQyxFQUFLQyxFQUFLQyxJQUFTTCxFQUFLRCxFQUFHdjVCLEVBQU15NUIsRUFBS0YsRUFBR3Q1QixFQUMxRCxPQUFPLEVBRVgsSUFBSW9GLEVBQUt5SCxHQUFLc3NCLEVBQUduNUIsRUFBSXE1QixFQUFHcjVCLEdBQ3BCcUYsRUFBS3dILEdBQUt3c0IsRUFBR3Q1QixFQUFJbzVCLEVBQUdwNUIsR0FDcEI4NUIsRUFBT3owQixFQUFLbkIsRUFBT29CLEVBQUtuQixFQUN4QjQxQixFQUFPMTBCLEVBQUtqQixFQUFPa0IsRUFBS25CLEVBQ3hCNjFCLEVBQU8zMEIsRUFBS25CLEVBQU9vQixFQUFLakIsRUFDeEI0MUIsRUFBTzUwQixFQUFLakIsRUFBT2tCLEVBQUtqQixFQUM1QixRQUFJL0MsS0FBS0MsSUFBSXU0QixFQUFLQyxFQUFLQyxFQUFLQyxJQUFTNTBCLEVBQUsrekIsRUFBR3A1QixFQUFNc0YsRUFBSzh6QixFQUFHbjVCLEdBQ3BEcUIsS0FBS3dGLElBQUlnekIsRUFBS0MsRUFBS0MsRUFBS0MsSUFBUzUwQixFQUFLazBCLEVBQUd2NUIsRUFBTXNGLEVBQUtpMEIsRUFBR3Q1QixFQUlsRSxFQVFBNDRCLEVBQVV2d0IsVUFBVTR4QixJQUFNLFNBQVVDLEVBQVVDLEdBTzFDLFlBTmlCLElBQWJELElBQXVCQSxFQUFXLFFBQ3JCLElBQWJDLElBQXVCQSxFQUFXRCxHQUN0Qzl5QixLQUFLckgsR0FBS202QixFQUNWOXlCLEtBQUtwSCxHQUFLbTZCLEVBQ1YveUIsS0FBS2dYLE9BQW9CLEVBQVg4YixFQUNkOXlCLEtBQUtpWCxRQUFxQixFQUFYOGIsRUFDUi95QixJQUNYLEVBTUF3eEIsRUFBVXZ3QixVQUFVK3hCLElBQU0sU0FBVXRCLEdBQ2hDLElBQUkzMEIsRUFBSzlDLEtBQUtDLElBQUk4RixLQUFLckgsRUFBRys0QixFQUFVLzRCLEdBQ2hDczZCLEVBQUtoNUIsS0FBS3dGLElBQUlPLEtBQUtySCxFQUFJcUgsS0FBS2dYLE1BQU8wYSxFQUFVLzRCLEVBQUkrNEIsRUFBVTFhLE9BQzNEaGEsRUFBSy9DLEtBQUtDLElBQUk4RixLQUFLcEgsRUFBRzg0QixFQUFVOTRCLEdBQ2hDczZCLEVBQUtqNUIsS0FBS3dGLElBQUlPLEtBQUtwSCxFQUFJb0gsS0FBS2lYLE9BQVF5YSxFQUFVOTRCLEVBQUk4NEIsRUFBVXphLFFBS2hFLE9BSkFqWCxLQUFLckgsRUFBSW9FLEVBQ1RpRCxLQUFLZ1gsTUFBUS9jLEtBQUtDLElBQUkrNEIsRUFBS2wyQixFQUFJLEdBQy9CaUQsS0FBS3BILEVBQUlvRSxFQUNUZ0QsS0FBS2lYLE9BQVNoZCxLQUFLQyxJQUFJZzVCLEVBQUtsMkIsRUFBSSxHQUN6QmdELElBQ1gsRUFPQXd4QixFQUFVdndCLFVBQVVreUIsS0FBTyxTQUFVekUsRUFBWTBFLFFBQzFCLElBQWYxRSxJQUF5QkEsRUFBYSxRQUM5QixJQUFSMEUsSUFBa0JBLEVBQU0sTUFDNUIsSUFBSUgsRUFBS2g1QixLQUFLazVCLE1BQU1uekIsS0FBS3JILEVBQUlxSCxLQUFLZ1gsTUFBUW9jLEdBQU8xRSxHQUFjQSxFQUMzRHdFLEVBQUtqNUIsS0FBS2s1QixNQUFNbnpCLEtBQUtwSCxFQUFJb0gsS0FBS2lYLE9BQVNtYyxHQUFPMUUsR0FBY0EsRUFLaEUsT0FKQTF1QixLQUFLckgsRUFBSXNCLEtBQUt3TSxPQUFPekcsS0FBS3JILEVBQUl5NkIsR0FBTzFFLEdBQWNBLEVBQ25EMXVCLEtBQUtwSCxFQUFJcUIsS0FBS3dNLE9BQU96RyxLQUFLcEgsRUFBSXc2QixHQUFPMUUsR0FBY0EsRUFDbkQxdUIsS0FBS2dYLE1BQVFpYyxFQUFLanpCLEtBQUtySCxFQUN2QnFILEtBQUtpWCxPQUFTaWMsRUFBS2x6QixLQUFLcEgsRUFDakJvSCxJQUNYLEVBTUF3eEIsRUFBVXZ3QixVQUFVb3lCLFFBQVUsU0FBVTNCLEdBQ3BDLElBQUkzMEIsRUFBSzlDLEtBQUt3RixJQUFJTyxLQUFLckgsRUFBRys0QixFQUFVLzRCLEdBQ2hDczZCLEVBQUtoNUIsS0FBS0MsSUFBSThGLEtBQUtySCxFQUFJcUgsS0FBS2dYLE1BQU8wYSxFQUFVLzRCLEVBQUkrNEIsRUFBVTFhLE9BQzNEaGEsRUFBSy9DLEtBQUt3RixJQUFJTyxLQUFLcEgsRUFBRzg0QixFQUFVOTRCLEdBQ2hDczZCLEVBQUtqNUIsS0FBS0MsSUFBSThGLEtBQUtwSCxFQUFJb0gsS0FBS2lYLE9BQVF5YSxFQUFVOTRCLEVBQUk4NEIsRUFBVXphLFFBS2hFLE9BSkFqWCxLQUFLckgsRUFBSW9FLEVBQ1RpRCxLQUFLZ1gsTUFBUWljLEVBQUtsMkIsRUFDbEJpRCxLQUFLcEgsRUFBSW9FLEVBQ1RnRCxLQUFLaVgsT0FBU2ljLEVBQUtsMkIsRUFDWmdELElBQ1gsRUFDQXd4QixFQUFVdndCLFVBQVV3cEIsU0FBVyxXQUMzQixNQUFPLDJCQUE2QnpxQixLQUFLckgsRUFBSSxNQUFRcUgsS0FBS3BILEVBQUksVUFBWW9ILEtBQUtnWCxNQUFRLFdBQWFoWCxLQUFLaVgsT0FBUyxHQUN0SCxFQUNPdWEsQ0FDWCxDQXJQOEIsR0EyUDFCOEIsR0FBd0IsV0FNeEIsU0FBU0EsRUFBTzM2QixFQUFHQyxFQUFHMjZCLFFBQ1IsSUFBTjU2QixJQUFnQkEsRUFBSSxRQUNkLElBQU5DLElBQWdCQSxFQUFJLFFBQ1QsSUFBWDI2QixJQUFxQkEsRUFBUyxHQUNsQ3Z6QixLQUFLckgsRUFBSUEsRUFDVHFILEtBQUtwSCxFQUFJQSxFQUNUb0gsS0FBS3V6QixPQUFTQSxFQUNkdnpCLEtBQUs0RyxLQUFPa3FCLEdBQU8wQyxJQUN2QixDQW1DQSxPQTlCQUYsRUFBT3J5QixVQUFVbXdCLE1BQVEsV0FDckIsT0FBTyxJQUFJa0MsRUFBT3R6QixLQUFLckgsRUFBR3FILEtBQUtwSCxFQUFHb0gsS0FBS3V6QixPQUMzQyxFQU9BRCxFQUFPcnlCLFVBQVUwd0IsU0FBVyxTQUFVaDVCLEVBQUdDLEdBQ3JDLEdBQUlvSCxLQUFLdXpCLFFBQVUsRUFDZixPQUFPLEVBRVgsSUFBSUUsRUFBS3p6QixLQUFLdXpCLE9BQVN2ekIsS0FBS3V6QixPQUN4QkcsRUFBTTF6QixLQUFLckgsRUFBSUEsRUFDZmc3QixFQUFNM3pCLEtBQUtwSCxFQUFJQSxFQUduQixPQUZBODZCLEdBQU1BLElBQ05DLEdBQU1BLElBQ2FGLENBQ3ZCLEVBS0FILEVBQU9yeUIsVUFBVTJ5QixVQUFZLFdBQ3pCLE9BQU8sSUFBSXBDLEdBQVV4eEIsS0FBS3JILEVBQUlxSCxLQUFLdXpCLE9BQVF2ekIsS0FBS3BILEVBQUlvSCxLQUFLdXpCLE9BQXNCLEVBQWR2ekIsS0FBS3V6QixPQUEwQixFQUFkdnpCLEtBQUt1ekIsT0FDM0YsRUFDQUQsRUFBT3J5QixVQUFVd3BCLFNBQVcsV0FDeEIsTUFBTyx3QkFBMEJ6cUIsS0FBS3JILEVBQUksTUFBUXFILEtBQUtwSCxFQUFJLFdBQWFvSCxLQUFLdXpCLE9BQVMsR0FDMUYsRUFDT0QsQ0FDWCxDQWxEMkIsR0F3RHZCTyxHQUF5QixXQU96QixTQUFTQSxFQUFRbDdCLEVBQUdDLEVBQUdrN0IsRUFBV0MsUUFDcEIsSUFBTnA3QixJQUFnQkEsRUFBSSxRQUNkLElBQU5DLElBQWdCQSxFQUFJLFFBQ04sSUFBZGs3QixJQUF3QkEsRUFBWSxRQUNyQixJQUFmQyxJQUF5QkEsRUFBYSxHQUMxQy96QixLQUFLckgsRUFBSUEsRUFDVHFILEtBQUtwSCxFQUFJQSxFQUNUb0gsS0FBS2dYLE1BQVE4YyxFQUNiOXpCLEtBQUtpWCxPQUFTOGMsRUFDZC96QixLQUFLNEcsS0FBT2txQixHQUFPa0QsSUFDdkIsQ0FtQ0EsT0E5QkFILEVBQVE1eUIsVUFBVW13QixNQUFRLFdBQ3RCLE9BQU8sSUFBSXlDLEVBQVE3ekIsS0FBS3JILEVBQUdxSCxLQUFLcEgsRUFBR29ILEtBQUtnWCxNQUFPaFgsS0FBS2lYLE9BQ3hELEVBT0E0YyxFQUFRNXlCLFVBQVUwd0IsU0FBVyxTQUFVaDVCLEVBQUdDLEdBQ3RDLEdBQUlvSCxLQUFLZ1gsT0FBUyxHQUFLaFgsS0FBS2lYLFFBQVUsRUFDbEMsT0FBTyxFQUdYLElBQUlnZCxHQUFVdDdCLEVBQUlxSCxLQUFLckgsR0FBS3FILEtBQUtnWCxNQUM3QmtkLEdBQVV0N0IsRUFBSW9ILEtBQUtwSCxHQUFLb0gsS0FBS2lYLE9BR2pDLE9BRkFnZCxHQUFTQSxJQUNUQyxHQUFTQSxJQUNnQixDQUM3QixFQUtBTCxFQUFRNXlCLFVBQVUyeUIsVUFBWSxXQUMxQixPQUFPLElBQUlwQyxHQUFVeHhCLEtBQUtySCxFQUFJcUgsS0FBS2dYLE1BQU9oWCxLQUFLcEgsRUFBSW9ILEtBQUtpWCxPQUFRalgsS0FBS2dYLE1BQU9oWCxLQUFLaVgsT0FDckYsRUFDQTRjLEVBQVE1eUIsVUFBVXdwQixTQUFXLFdBQ3pCLE1BQU8seUJBQTJCenFCLEtBQUtySCxFQUFJLE1BQVFxSCxLQUFLcEgsRUFBSSxVQUFZb0gsS0FBS2dYLE1BQVEsV0FBYWhYLEtBQUtpWCxPQUFTLEdBQ3BILEVBQ080YyxDQUNYLENBckQ0QixHQTJEeEJNLEdBQXlCLFdBUXpCLFNBQVNBLElBSUwsSUFIQSxJQUFJclYsRUFBY3JiLFVBRWQyd0IsRUFBUyxHQUNKcFYsRUFBSyxFQUFHQSxFQUFLdmIsVUFBVTFLLE9BQVFpbUIsSUFDcENvVixFQUFPcFYsR0FBTUYsRUFBWUUsR0FFN0IsSUFBSXFWLEVBQU9weEIsTUFBTXVILFFBQVE0cEIsRUFBTyxJQUFNQSxFQUFPLEdBQUtBLEVBRWxELEdBQXVCLGlCQUFaQyxFQUFLLEdBQWlCLENBRTdCLElBREEsSUFBSXY1QixFQUFJLEdBQ0N4QixFQUFJLEVBQUdnN0IsRUFBS0QsRUFBS3Q3QixPQUFRTyxFQUFJZzdCLEVBQUloN0IsSUFDdEN3QixFQUFFbkIsS0FBSzA2QixFQUFLLzZCLEdBQUdYLEVBQUcwN0IsRUFBSy82QixHQUFHVixHQUU5Qnk3QixFQUFPdjVCLENBQ1gsQ0FDQWtGLEtBQUtvMEIsT0FBU0MsRUFDZHIwQixLQUFLNEcsS0FBT2txQixHQUFPeUQsS0FDbkJ2MEIsS0FBS3cwQixhQUFjLENBQ3ZCLENBdUNBLE9BbENBTCxFQUFRbHpCLFVBQVVtd0IsTUFBUSxXQUN0QixJQUNJcUQsRUFBVSxJQUFJTixFQURMbjBCLEtBQUtvMEIsT0FBTzF4QixTQUd6QixPQURBK3hCLEVBQVFELFlBQWN4MEIsS0FBS3cwQixZQUNwQkMsQ0FDWCxFQU9BTixFQUFRbHpCLFVBQVUwd0IsU0FBVyxTQUFVaDVCLEVBQUdDLEdBS3RDLElBSkEsSUFBSWdHLEdBQVMsRUFHVDdGLEVBQVNpSCxLQUFLbzBCLE9BQU9yN0IsT0FBUyxFQUN6Qk8sRUFBSSxFQUFHNEcsRUFBSW5ILEVBQVMsRUFBR08sRUFBSVAsRUFBUW1ILEVBQUk1RyxJQUFLLENBQ2pELElBQUlvN0IsRUFBSzEwQixLQUFLbzBCLE9BQVcsRUFBSjk2QixHQUNqQnE3QixFQUFLMzBCLEtBQUtvMEIsT0FBWSxFQUFKOTZCLEVBQVMsR0FDM0JzN0IsRUFBSzUwQixLQUFLbzBCLE9BQVcsRUFBSmwwQixHQUNqQjIwQixFQUFLNzBCLEtBQUtvMEIsT0FBWSxFQUFKbDBCLEVBQVMsR0FDYnkwQixFQUFLLzdCLEdBQVFpOEIsRUFBS2o4QixHQUFRRCxHQUFtQkMsRUFBSSs3QixJQUFPRSxFQUFLRixJQUE3QkMsRUFBS0YsR0FBZ0NBLElBRW5GOTFCLEdBQVVBLEVBRWxCLENBQ0EsT0FBT0EsQ0FDWCxFQUNBdTFCLEVBQVFsekIsVUFBVXdwQixTQUFXLFdBQ3pCLE1BQU8sa0NBQ2lCenFCLEtBQUt3MEIsWUFDdEIsVUFBWXgwQixLQUFLbzBCLE9BQU9VLFFBQU8sU0FBVUMsRUFBWUMsR0FBZ0IsT0FBT0QsRUFBYSxLQUFPQyxDQUFjLEdBQUcsSUFBTSxHQUNsSSxFQUNPYixDQUNYLENBbkU0QixHQTBFeEJjLEdBQWtDLFdBUWxDLFNBQVNBLEVBQWlCdDhCLEVBQUdDLEVBQUdvZSxFQUFPQyxFQUFRc2MsUUFDakMsSUFBTjU2QixJQUFnQkEsRUFBSSxRQUNkLElBQU5DLElBQWdCQSxFQUFJLFFBQ1YsSUFBVm9lLElBQW9CQSxFQUFRLFFBQ2pCLElBQVhDLElBQXFCQSxFQUFTLFFBQ25CLElBQVhzYyxJQUFxQkEsRUFBUyxJQUNsQ3Z6QixLQUFLckgsRUFBSUEsRUFDVHFILEtBQUtwSCxFQUFJQSxFQUNUb0gsS0FBS2dYLE1BQVFBLEVBQ2JoWCxLQUFLaVgsT0FBU0EsRUFDZGpYLEtBQUt1ekIsT0FBU0EsRUFDZHZ6QixLQUFLNEcsS0FBT2txQixHQUFPb0UsSUFDdkIsQ0FtREEsT0E5Q0FELEVBQWlCaDBCLFVBQVVtd0IsTUFBUSxXQUMvQixPQUFPLElBQUk2RCxFQUFpQmoxQixLQUFLckgsRUFBR3FILEtBQUtwSCxFQUFHb0gsS0FBS2dYLE1BQU9oWCxLQUFLaVgsT0FBUWpYLEtBQUt1ekIsT0FDOUUsRUFPQTBCLEVBQWlCaDBCLFVBQVUwd0IsU0FBVyxTQUFVaDVCLEVBQUdDLEdBQy9DLEdBQUlvSCxLQUFLZ1gsT0FBUyxHQUFLaFgsS0FBS2lYLFFBQVUsRUFDbEMsT0FBTyxFQUVYLEdBQUl0ZSxHQUFLcUgsS0FBS3JILEdBQUtBLEdBQUtxSCxLQUFLckgsRUFBSXFILEtBQUtnWCxPQUM5QnBlLEdBQUtvSCxLQUFLcEgsR0FBS0EsR0FBS29ILEtBQUtwSCxFQUFJb0gsS0FBS2lYLE9BQVEsQ0FDMUMsSUFBSXNjLEVBQVN0NUIsS0FBS0MsSUFBSSxFQUFHRCxLQUFLd0YsSUFBSU8sS0FBS3V6QixPQUFRdDVCLEtBQUt3RixJQUFJTyxLQUFLZ1gsTUFBT2hYLEtBQUtpWCxRQUFVLElBQ25GLEdBQUtyZSxHQUFLb0gsS0FBS3BILEVBQUkyNkIsR0FBVTM2QixHQUFLb0gsS0FBS3BILEVBQUlvSCxLQUFLaVgsT0FBU3NjLEdBQ2pENTZCLEdBQUtxSCxLQUFLckgsRUFBSTQ2QixHQUFVNTZCLEdBQUtxSCxLQUFLckgsRUFBSXFILEtBQUtnWCxNQUFRdWMsRUFDdkQsT0FBTyxFQUVYLElBQUlHLEVBQUsvNkIsR0FBS3FILEtBQUtySCxFQUFJNDZCLEdBQ25CSSxFQUFLLzZCLEdBQUtvSCxLQUFLcEgsRUFBSTI2QixHQUNuQjRCLEVBQVU1QixFQUFTQSxFQUN2QixHQUFLRyxFQUFLQSxFQUFPQyxFQUFLQSxHQUFPd0IsRUFDekIsT0FBTyxFQUdYLElBREF6QixFQUFLLzZCLEdBQUtxSCxLQUFLckgsRUFBSXFILEtBQUtnWCxNQUFRdWMsSUFDdEJHLEVBQU9DLEVBQUtBLEdBQU93QixFQUN6QixPQUFPLEVBR1gsR0FBS3pCLEVBQUtBLEdBRFZDLEVBQUsvNkIsR0FBS29ILEtBQUtwSCxFQUFJb0gsS0FBS2lYLE9BQVNzYyxJQUNYSSxHQUFPd0IsRUFDekIsT0FBTyxFQUdYLElBREF6QixFQUFLLzZCLEdBQUtxSCxLQUFLckgsRUFBSTQ2QixJQUNURyxFQUFPQyxFQUFLQSxHQUFPd0IsRUFDekIsT0FBTyxDQUVmLENBRUosT0FBTyxDQUNYLEVBQ0FGLEVBQWlCaDBCLFVBQVV3cEIsU0FBVyxXQUNsQyxNQUFPLGtDQUFvQ3pxQixLQUFLckgsRUFBSSxNQUFRcUgsS0FBS3BILEVBQzFELFNBQVdvSCxLQUFLZ1gsTUFBUSxXQUFhaFgsS0FBS2lYLE9BQVMsV0FBYWpYLEtBQUt1ekIsT0FBUyxHQUN6RixFQUNPMEIsQ0FDWCxDQXhFcUMsR0FpRmpDRyxHQUFpQyxXQVFqQyxTQUFTQSxFQUFnQjVpQixFQUFJNmlCLEVBQU8xOEIsRUFBR0MsUUFDekIsSUFBTkQsSUFBZ0JBLEVBQUksUUFDZCxJQUFOQyxJQUFnQkEsRUFBSSxHQUN4Qm9ILEtBQUtzMUIsR0FBSzM4QixFQUNWcUgsS0FBS3UxQixHQUFLMzhCLEVBQ1ZvSCxLQUFLd1MsR0FBS0EsRUFDVnhTLEtBQUtxMUIsTUFBUUEsQ0FDakIsQ0E2RkEsT0FuRkFELEVBQWdCbjBCLFVBQVVtd0IsTUFBUSxTQUFVNWUsRUFBSTZpQixHQUc1QyxZQUZXLElBQVA3aUIsSUFBaUJBLEVBQUt4UyxLQUFLd1MsU0FDakIsSUFBVjZpQixJQUFvQkEsRUFBUXIxQixLQUFLcTFCLE9BQzlCLElBQUlELEVBQWdCNWlCLEVBQUk2aUIsRUFBT3IxQixLQUFLczFCLEdBQUl0MUIsS0FBS3UxQixHQUN4RCxFQVFBSCxFQUFnQm4wQixVQUFVaXVCLElBQU0sU0FBVXYyQixFQUFHQyxHQVF6QyxZQVBVLElBQU5ELElBQWdCQSxFQUFJLFFBQ2QsSUFBTkMsSUFBZ0JBLEVBQUlELEdBQ3BCcUgsS0FBS3MxQixLQUFPMzhCLEdBQUtxSCxLQUFLdTFCLEtBQU8zOEIsSUFDN0JvSCxLQUFLczFCLEdBQUszOEIsRUFDVnFILEtBQUt1MUIsR0FBSzM4QixFQUNWb0gsS0FBS3dTLEdBQUcvUCxLQUFLekMsS0FBS3ExQixRQUVmcjFCLElBQ1gsRUFNQW8xQixFQUFnQm4wQixVQUFVb3dCLFNBQVcsU0FBVXYyQixHQU0zQyxPQUxJa0YsS0FBS3MxQixLQUFPeDZCLEVBQUVuQyxHQUFLcUgsS0FBS3UxQixLQUFPejZCLEVBQUVsQyxJQUNqQ29ILEtBQUtzMUIsR0FBS3g2QixFQUFFbkMsRUFDWnFILEtBQUt1MUIsR0FBS3o2QixFQUFFbEMsRUFDWm9ILEtBQUt3UyxHQUFHL1AsS0FBS3pDLEtBQUtxMUIsUUFFZnIxQixJQUNYLEVBTUFvMUIsRUFBZ0JuMEIsVUFBVXF3QixPQUFTLFNBQVV4MkIsR0FFekMsT0FEQUEsRUFBRW8wQixJQUFJbHZCLEtBQUtzMUIsR0FBSXQxQixLQUFLdTFCLElBQ2J6NkIsQ0FDWCxFQU1BczZCLEVBQWdCbjBCLFVBQVV2RyxPQUFTLFNBQVVJLEdBQ3pDLE9BQVFBLEVBQUVuQyxJQUFNcUgsS0FBS3MxQixJQUFReDZCLEVBQUVsQyxJQUFNb0gsS0FBS3UxQixFQUM5QyxFQUNBSCxFQUFnQm4wQixVQUFVd3BCLFNBQVcsV0FDakMsTUFBTyw2Q0FBK0R6cUIsS0FBS3ExQixNQUFRLEdBQ3ZGLEVBQ0FyMEIsT0FBT2tRLGVBQWVra0IsRUFBZ0JuMEIsVUFBVyxJQUFLLENBRWxEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLczFCLEVBQ2hCLEVBQ0FwRyxJQUFLLFNBQVU5bkIsR0FDUHBILEtBQUtzMUIsS0FBT2x1QixJQUNacEgsS0FBS3MxQixHQUFLbHVCLEVBQ1ZwSCxLQUFLd1MsR0FBRy9QLEtBQUt6QyxLQUFLcTFCLE9BRTFCLEVBQ0Fsa0IsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWtrQixFQUFnQm4wQixVQUFXLElBQUssQ0FFbERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt1MUIsRUFDaEIsRUFDQXJHLElBQUssU0FBVTluQixHQUNQcEgsS0FBS3UxQixLQUFPbnVCLElBQ1pwSCxLQUFLdTFCLEdBQUtudUIsRUFDVnBILEtBQUt3UyxHQUFHL1AsS0FBS3pDLEtBQUtxMUIsT0FFMUIsRUFDQWxrQixZQUFZLEVBQ1pnZSxjQUFjLElBRVhpRyxDQUNYLENBN0dvQyxHQTBIaENJLEdBQXdCLFdBU3hCLFNBQVNBLEVBQU9wNUIsRUFBR0MsRUFBR0MsRUFBR3dFLEVBQUcyMEIsRUFBSUMsUUFDbEIsSUFBTnQ1QixJQUFnQkEsRUFBSSxRQUNkLElBQU5DLElBQWdCQSxFQUFJLFFBQ2QsSUFBTkMsSUFBZ0JBLEVBQUksUUFDZCxJQUFOd0UsSUFBZ0JBLEVBQUksUUFDYixJQUFQMjBCLElBQWlCQSxFQUFLLFFBQ2YsSUFBUEMsSUFBaUJBLEVBQUssR0FDMUIxMUIsS0FBSzhHLE1BQVEsS0FDYjlHLEtBQUs1RCxFQUFJQSxFQUNUNEQsS0FBSzNELEVBQUlBLEVBQ1QyRCxLQUFLMUQsRUFBSUEsRUFDVDBELEtBQUtjLEVBQUlBLEVBQ1RkLEtBQUt5MUIsR0FBS0EsRUFDVnoxQixLQUFLMDFCLEdBQUtBLENBQ2QsQ0FvVkEsT0F4VUFGLEVBQU92MEIsVUFBVTAwQixVQUFZLFNBQVU3dUIsR0FDbkM5RyxLQUFLNUQsRUFBSTBLLEVBQU0sR0FDZjlHLEtBQUszRCxFQUFJeUssRUFBTSxHQUNmOUcsS0FBSzFELEVBQUl3SyxFQUFNLEdBQ2Y5RyxLQUFLYyxFQUFJZ0csRUFBTSxHQUNmOUcsS0FBS3kxQixHQUFLM3VCLEVBQU0sR0FDaEI5RyxLQUFLMDFCLEdBQUs1dUIsRUFBTSxFQUNwQixFQVdBMHVCLEVBQU92MEIsVUFBVWl1QixJQUFNLFNBQVU5eUIsRUFBR0MsRUFBR0MsRUFBR3dFLEVBQUcyMEIsRUFBSUMsR0FPN0MsT0FOQTExQixLQUFLNUQsRUFBSUEsRUFDVDRELEtBQUszRCxFQUFJQSxFQUNUMkQsS0FBSzFELEVBQUlBLEVBQ1QwRCxLQUFLYyxFQUFJQSxFQUNUZCxLQUFLeTFCLEdBQUtBLEVBQ1Z6MUIsS0FBSzAxQixHQUFLQSxFQUNIMTFCLElBQ1gsRUFPQXcxQixFQUFPdjBCLFVBQVUyMEIsUUFBVSxTQUFVQyxFQUFXeHRCLEdBQ3ZDckksS0FBSzhHLFFBQ045RyxLQUFLOEcsTUFBUSxJQUFJMlAsYUFBYSxJQUVsQyxJQUFJM1AsRUFBUXVCLEdBQU9ySSxLQUFLOEcsTUF1QnhCLE9BdEJJK3VCLEdBQ0EvdUIsRUFBTSxHQUFLOUcsS0FBSzVELEVBQ2hCMEssRUFBTSxHQUFLOUcsS0FBSzNELEVBQ2hCeUssRUFBTSxHQUFLLEVBQ1hBLEVBQU0sR0FBSzlHLEtBQUsxRCxFQUNoQndLLEVBQU0sR0FBSzlHLEtBQUtjLEVBQ2hCZ0csRUFBTSxHQUFLLEVBQ1hBLEVBQU0sR0FBSzlHLEtBQUt5MUIsR0FDaEIzdUIsRUFBTSxHQUFLOUcsS0FBSzAxQixHQUNoQjV1QixFQUFNLEdBQUssSUFHWEEsRUFBTSxHQUFLOUcsS0FBSzVELEVBQ2hCMEssRUFBTSxHQUFLOUcsS0FBSzFELEVBQ2hCd0ssRUFBTSxHQUFLOUcsS0FBS3kxQixHQUNoQjN1QixFQUFNLEdBQUs5RyxLQUFLM0QsRUFDaEJ5SyxFQUFNLEdBQUs5RyxLQUFLYyxFQUNoQmdHLEVBQU0sR0FBSzlHLEtBQUswMUIsR0FDaEI1dUIsRUFBTSxHQUFLLEVBQ1hBLEVBQU0sR0FBSyxFQUNYQSxFQUFNLEdBQUssR0FFUkEsQ0FDWCxFQVFBMHVCLEVBQU92MEIsVUFBVTJDLE1BQVEsU0FBVWt5QixFQUFLQyxHQUNwQ0EsRUFBVUEsR0FBVSxJQUFJNUUsR0FDeEIsSUFBSXg0QixFQUFJbTlCLEVBQUluOUIsRUFDUkMsRUFBSWs5QixFQUFJbDlCLEVBR1osT0FGQW05QixFQUFPcDlCLEVBQUtxSCxLQUFLNUQsRUFBSXpELEVBQU1xSCxLQUFLMUQsRUFBSTFELEVBQUtvSCxLQUFLeTFCLEdBQzlDTSxFQUFPbjlCLEVBQUtvSCxLQUFLM0QsRUFBSTFELEVBQU1xSCxLQUFLYyxFQUFJbEksRUFBS29ILEtBQUswMUIsR0FDdkNLLENBQ1gsRUFRQVAsRUFBT3YwQixVQUFVKzBCLGFBQWUsU0FBVUYsRUFBS0MsR0FDM0NBLEVBQVVBLEdBQVUsSUFBSTVFLEdBQ3hCLElBQUl0Z0IsRUFBSyxHQUFNN1EsS0FBSzVELEVBQUk0RCxLQUFLYyxFQUFNZCxLQUFLMUQsR0FBSzBELEtBQUszRCxHQUM5QzFELEVBQUltOUIsRUFBSW45QixFQUNSQyxFQUFJazlCLEVBQUlsOUIsRUFHWixPQUZBbTlCLEVBQU9wOUIsRUFBS3FILEtBQUtjLEVBQUkrUCxFQUFLbFksR0FBT3FILEtBQUsxRCxFQUFJdVUsRUFBS2pZLEdBQVFvSCxLQUFLMDFCLEdBQUsxMUIsS0FBSzFELEVBQU0wRCxLQUFLeTFCLEdBQUt6MUIsS0FBS2MsR0FBTStQLEVBQ2pHa2xCLEVBQU9uOUIsRUFBS29ILEtBQUs1RCxFQUFJeVUsRUFBS2pZLEdBQU9vSCxLQUFLM0QsRUFBSXdVLEVBQUtsWSxJQUFTcUgsS0FBSzAxQixHQUFLMTFCLEtBQUs1RCxFQUFNNEQsS0FBS3kxQixHQUFLejFCLEtBQUszRCxHQUFNd1UsRUFDM0ZrbEIsQ0FDWCxFQU9BUCxFQUFPdjBCLFVBQVVnMUIsVUFBWSxTQUFVdDlCLEVBQUdDLEdBR3RDLE9BRkFvSCxLQUFLeTFCLElBQU05OEIsRUFDWHFILEtBQUswMUIsSUFBTTk4QixFQUNKb0gsSUFDWCxFQU9BdzFCLEVBQU92MEIsVUFBVWkxQixNQUFRLFNBQVV2OUIsRUFBR0MsR0FPbEMsT0FOQW9ILEtBQUs1RCxHQUFLekQsRUFDVnFILEtBQUtjLEdBQUtsSSxFQUNWb0gsS0FBSzFELEdBQUszRCxFQUNWcUgsS0FBSzNELEdBQUt6RCxFQUNWb0gsS0FBS3kxQixJQUFNOThCLEVBQ1hxSCxLQUFLMDFCLElBQU05OEIsRUFDSm9ILElBQ1gsRUFNQXcxQixFQUFPdjBCLFVBQVVrMUIsT0FBUyxTQUFVQyxHQUNoQyxJQUFJQyxFQUFNcDhCLEtBQUtvOEIsSUFBSUQsR0FDZkUsRUFBTXI4QixLQUFLcThCLElBQUlGLEdBQ2ZoekIsRUFBS3BELEtBQUs1RCxFQUNWbTZCLEVBQUt2MkIsS0FBSzFELEVBQ1ZrNkIsRUFBTXgyQixLQUFLeTFCLEdBT2YsT0FOQXoxQixLQUFLNUQsRUFBS2dILEVBQUtpekIsRUFBUXIyQixLQUFLM0QsRUFBSWk2QixFQUNoQ3QyQixLQUFLM0QsRUFBSytHLEVBQUtrekIsRUFBUXQyQixLQUFLM0QsRUFBSWc2QixFQUNoQ3IyQixLQUFLMUQsRUFBS2k2QixFQUFLRixFQUFRcjJCLEtBQUtjLEVBQUl3MUIsRUFDaEN0MkIsS0FBS2MsRUFBS3kxQixFQUFLRCxFQUFRdDJCLEtBQUtjLEVBQUl1MUIsRUFDaENyMkIsS0FBS3kxQixHQUFNZSxFQUFNSCxFQUFRcjJCLEtBQUswMUIsR0FBS1ksRUFDbkN0MkIsS0FBSzAxQixHQUFNYyxFQUFNRixFQUFRdDJCLEtBQUswMUIsR0FBS1csRUFDNUJyMkIsSUFDWCxFQU1BdzFCLEVBQU92MEIsVUFBVXcxQixPQUFTLFNBQVVDLEdBQ2hDLElBQUl0ekIsRUFBS3BELEtBQUs1RCxFQUNWdTZCLEVBQUszMkIsS0FBSzNELEVBQ1ZrNkIsRUFBS3YyQixLQUFLMUQsRUFDVnM2QixFQUFLNTJCLEtBQUtjLEVBT2QsT0FOQWQsS0FBSzVELEVBQUtzNkIsRUFBT3Q2QixFQUFJZ0gsRUFBT3N6QixFQUFPcjZCLEVBQUlrNkIsRUFDdkN2MkIsS0FBSzNELEVBQUtxNkIsRUFBT3Q2QixFQUFJdTZCLEVBQU9ELEVBQU9yNkIsRUFBSXU2QixFQUN2QzUyQixLQUFLMUQsRUFBS282QixFQUFPcDZCLEVBQUk4RyxFQUFPc3pCLEVBQU81MUIsRUFBSXkxQixFQUN2Q3YyQixLQUFLYyxFQUFLNDFCLEVBQU9wNkIsRUFBSXE2QixFQUFPRCxFQUFPNTFCLEVBQUk4MUIsRUFDdkM1MkIsS0FBS3kxQixHQUFNaUIsRUFBT2pCLEdBQUtyeUIsRUFBT3N6QixFQUFPaEIsR0FBS2EsRUFBTXYyQixLQUFLeTFCLEdBQ3JEejFCLEtBQUswMUIsR0FBTWdCLEVBQU9qQixHQUFLa0IsRUFBT0QsRUFBT2hCLEdBQUtrQixFQUFNNTJCLEtBQUswMUIsR0FDOUMxMUIsSUFDWCxFQWNBdzFCLEVBQU92MEIsVUFBVTR0QixhQUFlLFNBQVVsMkIsRUFBR0MsRUFBR2krQixFQUFRQyxFQUFRQyxFQUFRQyxFQUFRQyxFQUFVQyxFQUFPQyxHQU83RixPQU5BbjNCLEtBQUs1RCxFQUFJbkMsS0FBS284QixJQUFJWSxFQUFXRSxHQUFTSixFQUN0Qy8yQixLQUFLM0QsRUFBSXBDLEtBQUtxOEIsSUFBSVcsRUFBV0UsR0FBU0osRUFDdEMvMkIsS0FBSzFELEdBQUtyQyxLQUFLcThCLElBQUlXLEVBQVdDLEdBQVNGLEVBQ3ZDaDNCLEtBQUtjLEVBQUk3RyxLQUFLbzhCLElBQUlZLEVBQVdDLEdBQVNGLEVBQ3RDaDNCLEtBQUt5MUIsR0FBSzk4QixHQUFNaytCLEVBQVM3MkIsS0FBSzVELEVBQU0wNkIsRUFBUzkyQixLQUFLMUQsR0FDbEQwRCxLQUFLMDFCLEdBQUs5OEIsR0FBTWkrQixFQUFTNzJCLEtBQUszRCxFQUFNeTZCLEVBQVM5MkIsS0FBS2MsR0FDM0NkLElBQ1gsRUFNQXcxQixFQUFPdjBCLFVBQVVtMkIsUUFBVSxTQUFVVixHQUNqQyxJQUFJRixFQUFNeDJCLEtBQUt5MUIsR0FDZixHQUFpQixJQUFiaUIsRUFBT3Q2QixHQUF3QixJQUFiczZCLEVBQU9yNkIsR0FBd0IsSUFBYnE2QixFQUFPcDZCLEdBQXdCLElBQWJvNkIsRUFBTzUxQixFQUFTLENBQ3RFLElBQUlzQyxFQUFLcEQsS0FBSzVELEVBQ1ZtNkIsRUFBS3YyQixLQUFLMUQsRUFDZDBELEtBQUs1RCxFQUFLZ0gsRUFBS3N6QixFQUFPdDZCLEVBQU00RCxLQUFLM0QsRUFBSXE2QixFQUFPcDZCLEVBQzVDMEQsS0FBSzNELEVBQUsrRyxFQUFLc3pCLEVBQU9yNkIsRUFBTTJELEtBQUszRCxFQUFJcTZCLEVBQU81MUIsRUFDNUNkLEtBQUsxRCxFQUFLaTZCLEVBQUtHLEVBQU90NkIsRUFBTTRELEtBQUtjLEVBQUk0MUIsRUFBT3A2QixFQUM1QzBELEtBQUtjLEVBQUt5MUIsRUFBS0csRUFBT3I2QixFQUFNMkQsS0FBS2MsRUFBSTQxQixFQUFPNTFCLENBQ2hELENBR0EsT0FGQWQsS0FBS3kxQixHQUFNZSxFQUFNRSxFQUFPdDZCLEVBQU00RCxLQUFLMDFCLEdBQUtnQixFQUFPcDZCLEVBQUtvNkIsRUFBT2pCLEdBQzNEejFCLEtBQUswMUIsR0FBTWMsRUFBTUUsRUFBT3I2QixFQUFNMkQsS0FBSzAxQixHQUFLZ0IsRUFBTzUxQixFQUFLNDFCLEVBQU9oQixHQUNwRDExQixJQUNYLEVBTUF3MUIsRUFBT3YwQixVQUFVbzJCLFVBQVksU0FBVXpGLEdBRW5DLElBQUl4MUIsRUFBSTRELEtBQUs1RCxFQUNUQyxFQUFJMkQsS0FBSzNELEVBQ1RDLEVBQUkwRCxLQUFLMUQsRUFDVHdFLEVBQUlkLEtBQUtjLEVBQ1R3MkIsRUFBUTFGLEVBQVUwRixNQUNsQkosR0FBU2o5QixLQUFLczlCLE9BQU9qN0IsRUFBR3dFLEdBQ3hCcTJCLEVBQVFsOUIsS0FBS3M5QixNQUFNbDdCLEVBQUdELEdBQ3RCMEwsRUFBUTdOLEtBQUttRSxJQUFJODRCLEVBQVFDLEdBZ0I3QixPQWZJcnZCLEVBQVEsTUFBVzdOLEtBQUttRSxJQUFJMnlCLEdBQU9qcEIsR0FBUyxNQUM1QzhwQixFQUFVcUYsU0FBV0UsRUFDckJ2RixFQUFVNEYsS0FBSzcrQixFQUFJaTVCLEVBQVU0RixLQUFLNStCLEVBQUksSUFHdENnNUIsRUFBVXFGLFNBQVcsRUFDckJyRixFQUFVNEYsS0FBSzcrQixFQUFJdStCLEVBQ25CdEYsRUFBVTRGLEtBQUs1K0IsRUFBSXUrQixHQUd2QnZGLEVBQVVzRSxNQUFNdjlCLEVBQUlzQixLQUFLdzlCLEtBQU1yN0IsRUFBSUEsRUFBTUMsRUFBSUEsR0FDN0N1MUIsRUFBVXNFLE1BQU10OUIsRUFBSXFCLEtBQUt3OUIsS0FBTW43QixFQUFJQSxFQUFNd0UsRUFBSUEsR0FFN0M4d0IsRUFBVThGLFNBQVMvK0IsRUFBSXFILEtBQUt5MUIsSUFBTzZCLEVBQU0zK0IsRUFBSXlELEVBQU1rN0IsRUFBTTErQixFQUFJMEQsR0FDN0RzMUIsRUFBVThGLFNBQVM5K0IsRUFBSW9ILEtBQUswMUIsSUFBTzRCLEVBQU0zK0IsRUFBSTBELEVBQU1pN0IsRUFBTTErQixFQUFJa0ksR0FDdEQ4d0IsQ0FDWCxFQUtBNEQsRUFBT3YwQixVQUFVMDJCLE9BQVMsV0FDdEIsSUFBSXYwQixFQUFLcEQsS0FBSzVELEVBQ1Z1NkIsRUFBSzMyQixLQUFLM0QsRUFDVms2QixFQUFLdjJCLEtBQUsxRCxFQUNWczZCLEVBQUs1MkIsS0FBS2MsRUFDVjAxQixFQUFNeDJCLEtBQUt5MUIsR0FDWHI0QixFQUFLZ0csRUFBS3d6QixFQUFPRCxFQUFLSixFQU8xQixPQU5BdjJCLEtBQUs1RCxFQUFJdzZCLEVBQUt4NUIsRUFDZDRDLEtBQUszRCxHQUFLczZCLEVBQUt2NUIsRUFDZjRDLEtBQUsxRCxHQUFLaTZCLEVBQUtuNUIsRUFDZjRDLEtBQUtjLEVBQUlzQyxFQUFLaEcsRUFDZDRDLEtBQUt5MUIsSUFBT2MsRUFBS3YyQixLQUFLMDFCLEdBQU9rQixFQUFLSixHQUFRcDVCLEVBQzFDNEMsS0FBSzAxQixLQUFRdHlCLEVBQUtwRCxLQUFLMDFCLEdBQU9pQixFQUFLSCxHQUFRcDVCLEVBQ3BDNEMsSUFDWCxFQUtBdzFCLEVBQU92MEIsVUFBVTIyQixTQUFXLFdBT3hCLE9BTkE1M0IsS0FBSzVELEVBQUksRUFDVDRELEtBQUszRCxFQUFJLEVBQ1QyRCxLQUFLMUQsRUFBSSxFQUNUMEQsS0FBS2MsRUFBSSxFQUNUZCxLQUFLeTFCLEdBQUssRUFDVnoxQixLQUFLMDFCLEdBQUssRUFDSDExQixJQUNYLEVBS0F3MUIsRUFBT3YwQixVQUFVbXdCLE1BQVEsV0FDckIsSUFBSXNGLEVBQVMsSUFBSWxCLEVBT2pCLE9BTkFrQixFQUFPdDZCLEVBQUk0RCxLQUFLNUQsRUFDaEJzNkIsRUFBT3I2QixFQUFJMkQsS0FBSzNELEVBQ2hCcTZCLEVBQU9wNkIsRUFBSTBELEtBQUsxRCxFQUNoQm82QixFQUFPNTFCLEVBQUlkLEtBQUtjLEVBQ2hCNDFCLEVBQU9qQixHQUFLejFCLEtBQUt5MUIsR0FDakJpQixFQUFPaEIsR0FBSzExQixLQUFLMDFCLEdBQ1ZnQixDQUNYLEVBTUFsQixFQUFPdjBCLFVBQVVxd0IsT0FBUyxTQUFVb0YsR0FPaEMsT0FOQUEsRUFBT3Q2QixFQUFJNEQsS0FBSzVELEVBQ2hCczZCLEVBQU9yNkIsRUFBSTJELEtBQUszRCxFQUNoQnE2QixFQUFPcDZCLEVBQUkwRCxLQUFLMUQsRUFDaEJvNkIsRUFBTzUxQixFQUFJZCxLQUFLYyxFQUNoQjQxQixFQUFPakIsR0FBS3oxQixLQUFLeTFCLEdBQ2pCaUIsRUFBT2hCLEdBQUsxMUIsS0FBSzAxQixHQUNWZ0IsQ0FDWCxFQU1BbEIsRUFBT3YwQixVQUFVb3dCLFNBQVcsU0FBVXFGLEdBT2xDLE9BTkExMkIsS0FBSzVELEVBQUlzNkIsRUFBT3Q2QixFQUNoQjRELEtBQUszRCxFQUFJcTZCLEVBQU9yNkIsRUFDaEIyRCxLQUFLMUQsRUFBSW82QixFQUFPcDZCLEVBQ2hCMEQsS0FBS2MsRUFBSTQxQixFQUFPNTFCLEVBQ2hCZCxLQUFLeTFCLEdBQUtpQixFQUFPakIsR0FDakJ6MUIsS0FBSzAxQixHQUFLZ0IsRUFBT2hCLEdBQ1YxMUIsSUFDWCxFQUNBdzFCLEVBQU92MEIsVUFBVXdwQixTQUFXLFdBQ3hCLE1BQU8sd0JBQTBCenFCLEtBQUs1RCxFQUFJLE1BQVE0RCxLQUFLM0QsRUFBSSxNQUFRMkQsS0FBSzFELEVBQUksTUFBUTBELEtBQUtjLEVBQUksT0FBU2QsS0FBS3kxQixHQUFLLE9BQVN6MUIsS0FBSzAxQixHQUFLLEdBQ3ZJLEVBQ0ExMEIsT0FBT2tRLGVBQWVza0IsRUFBUSxXQUFZLENBS3RDcGtCLElBQUssV0FDRCxPQUFPLElBQUlva0IsQ0FDZixFQUNBcmtCLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVza0IsRUFBUSxjQUFlLENBS3pDcGtCLElBQUssV0FDRCxPQUFPLElBQUlva0IsQ0FDZixFQUNBcmtCLFlBQVksRUFDWmdlLGNBQWMsSUFFWHFHLENBQ1gsQ0E1VzJCLEdBb1h2QnFDLEdBQUssQ0FBQyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUN6REMsR0FBSyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQ3pEQyxHQUFLLENBQUMsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FDekRDLEdBQUssQ0FBQyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQU96REMsR0FBaUIsR0FNakJDLEdBQW1CLEdBSW5CQyxHQUFTbCtCLEtBQUttRixNQUtsQixXQUNJLElBQUssSUFBSTlGLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUFLLENBQ3pCLElBQUk4K0IsRUFBTSxHQUNWSCxHQUFldCtCLEtBQUt5K0IsR0FDcEIsSUFBSyxJQUFJbDRCLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQU9wQixJQUxBLElBQUltNEIsRUFBTUYsR0FBUU4sR0FBR3YrQixHQUFLdStCLEdBQUczM0IsR0FBTzYzQixHQUFHeitCLEdBQUt3K0IsR0FBRzUzQixJQUMzQ280QixFQUFNSCxHQUFRTCxHQUFHeCtCLEdBQUt1K0IsR0FBRzMzQixHQUFPODNCLEdBQUcxK0IsR0FBS3crQixHQUFHNTNCLElBQzNDcTRCLEVBQU1KLEdBQVFOLEdBQUd2K0IsR0FBS3krQixHQUFHNzNCLEdBQU82M0IsR0FBR3orQixHQUFLMCtCLEdBQUc5M0IsSUFDM0NzNEIsRUFBTUwsR0FBUUwsR0FBR3grQixHQUFLeStCLEdBQUc3M0IsR0FBTzgzQixHQUFHMStCLEdBQUswK0IsR0FBRzkzQixJQUV0QytILEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNwQixHQUFJNHZCLEdBQUc1dkIsS0FBT293QixHQUFPUCxHQUFHN3ZCLEtBQU9xd0IsR0FDeEJQLEdBQUc5dkIsS0FBT3N3QixHQUFPUCxHQUFHL3ZCLEtBQU91d0IsRUFBSyxDQUNuQ0osRUFBSXorQixLQUFLc08sR0FDVCxLQUNKLENBR1osQ0FDQSxJQUFTM08sRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQUssQ0FDekIsSUFBSW0vQixFQUFNLElBQUlqRCxHQUNkaUQsRUFBSXZKLElBQUkySSxHQUFHditCLEdBQUl3K0IsR0FBR3grQixHQUFJeStCLEdBQUd6K0IsR0FBSTArQixHQUFHMStCLEdBQUksRUFBRyxHQUN2QzQrQixHQUFpQnYrQixLQUFLOCtCLEVBQzFCLENBQ0osQ0FDQUMsR0E4QkEsSUFBSUMsR0FBVSxDQVFWQyxFQUFHLEVBUUhDLEdBQUksRUFRSkMsRUFBRyxFQVFIQyxHQUFJLEVBUUpDLEVBQUcsRUFRSEMsR0FBSSxFQVFKQyxFQUFHLEVBUUhDLEdBQUksRUFNSkMsZ0JBQWlCLEVBTWpCQyxjQUFlLEdBTWZDLGtCQUFtQixHQU1uQkMsaUJBQWtCLEdBT2xCQyxHQUFJLFNBQVVDLEdBQU8sT0FBTzVCLEdBQUc0QixFQUFNLEVBT3JDQyxHQUFJLFNBQVVELEdBQU8sT0FBTzNCLEdBQUcyQixFQUFNLEVBT3JDRSxHQUFJLFNBQVVGLEdBQU8sT0FBTzFCLEdBQUcwQixFQUFNLEVBT3JDRyxHQUFJLFNBQVVILEdBQU8sT0FBT3pCLEdBQUd5QixFQUFNLEVBUXJDSSxJQUFLLFNBQVU1QyxHQUNYLE9BQWUsRUFBWEEsRUFFa0IsR0FBWEEsRUFFVSxHQUFaQSxDQUNiLEVBeUJBNkMsSUFBSyxTQUFVQyxFQUFnQkMsR0FBaUIsT0FBUS9CLEdBQWU4QixHQUFnQkMsRUFBaUIsRUFReEdDLElBQUssU0FBVUYsRUFBZ0JDLEdBQWlCLE9BQVEvQixHQUFlOEIsR0FBZ0JwQixHQUFRa0IsSUFBSUcsR0FBa0IsRUFRckhFLFVBQVcsU0FBVWpELEdBQVksT0FBa0IsRUFBWEEsQ0FBYyxFQVF0RGtELFdBQVksU0FBVWxELEdBQVksT0FBMEIsSUFBUCxFQUFYQSxFQUFxQixFQVUvRG1ELFlBQWEsU0FBVTFHLEVBQUlDLEdBQ3ZCLE9BQW1CLEVBQWYxNUIsS0FBS21FLElBQUlzMUIsSUFBV3o1QixLQUFLbUUsSUFBSXUxQixHQUN6QkEsR0FBTSxFQUNDZ0YsR0FBUUcsRUFFWkgsR0FBUU8sRUFFSyxFQUFmai9CLEtBQUttRSxJQUFJdTFCLElBQVcxNUIsS0FBS21FLElBQUlzMUIsR0FDOUJBLEVBQUssRUFDRWlGLEdBQVFDLEVBRVpELEdBQVFLLEVBRVZyRixFQUFLLEVBQ05ELEVBQUssRUFDRWlGLEdBQVFFLEdBRVpGLEdBQVFJLEdBRVZyRixFQUFLLEVBQ0hpRixHQUFRUSxHQUVaUixHQUFRTSxFQUNuQixFQVNBb0Isd0JBQXlCLFNBQVUzRCxFQUFRTyxFQUFVeEIsRUFBSUMsUUFDMUMsSUFBUEQsSUFBaUJBLEVBQUssUUFDZixJQUFQQyxJQUFpQkEsRUFBSyxHQUUxQixJQUFJK0MsRUFBTVAsR0FBaUJTLEdBQVFrQixJQUFJNUMsSUFDdkN3QixFQUFJaEQsR0FBS0EsRUFDVGdELEVBQUkvQyxHQUFLQSxFQUNUZ0IsRUFBT0QsT0FBT2dDLEVBQ2xCLEdBT0E2QixHQUEyQixXQUMzQixTQUFTQSxJQUNMdDZCLEtBQUt1NkIsZUFBaUIsSUFBSS9FLEdBQzFCeDFCLEtBQUt3NkIsZUFBaUIsSUFBSWhGLEdBQzFCeDFCLEtBQUswM0IsU0FBVyxJQUFJdEMsR0FBZ0JwMUIsS0FBS3k2QixTQUFVejZCLEtBQU0sRUFBRyxHQUM1REEsS0FBS2syQixNQUFRLElBQUlkLEdBQWdCcDFCLEtBQUt5NkIsU0FBVXo2QixLQUFNLEVBQUcsR0FDekRBLEtBQUtzM0IsTUFBUSxJQUFJbEMsR0FBZ0JwMUIsS0FBS3k2QixTQUFVejZCLEtBQU0sRUFBRyxHQUN6REEsS0FBS3czQixLQUFPLElBQUlwQyxHQUFnQnAxQixLQUFLMDZCLFdBQVkxNkIsS0FBTSxFQUFHLEdBQzFEQSxLQUFLMjZCLFVBQVksRUFDakIzNkIsS0FBSzQ2QixJQUFNLEVBQ1g1NkIsS0FBSzY2QixJQUFNLEVBQ1g3NkIsS0FBSzg2QixJQUFNLEVBQ1g5NkIsS0FBSys2QixJQUFNLEVBQ1gvNkIsS0FBS2c3QixTQUFXLEVBQ2hCaDdCLEtBQUtpN0IsZ0JBQWtCLEVBQ3ZCajdCLEtBQUtrN0IsU0FBVyxFQUNoQmw3QixLQUFLbTdCLFVBQVksQ0FDckIsQ0E4RkEsT0E1RkFiLEVBQVVyNUIsVUFBVXc1QixTQUFXLFdBQzNCejZCLEtBQUtnN0IsVUFDVCxFQUVBVixFQUFVcjVCLFVBQVV5NUIsV0FBYSxXQUM3QjE2QixLQUFLNDZCLElBQU0zZ0MsS0FBS284QixJQUFJcjJCLEtBQUsyNkIsVUFBWTM2QixLQUFLdzNCLEtBQUs1K0IsR0FDL0NvSCxLQUFLNjZCLElBQU01Z0MsS0FBS3E4QixJQUFJdDJCLEtBQUsyNkIsVUFBWTM2QixLQUFLdzNCLEtBQUs1K0IsR0FDL0NvSCxLQUFLODZCLEtBQU83Z0MsS0FBS3E4QixJQUFJdDJCLEtBQUsyNkIsVUFBWTM2QixLQUFLdzNCLEtBQUs3K0IsR0FDaERxSCxLQUFLKzZCLElBQU05Z0MsS0FBS284QixJQUFJcjJCLEtBQUsyNkIsVUFBWTM2QixLQUFLdzNCLEtBQUs3K0IsR0FDL0NxSCxLQUFLZzdCLFVBQ1QsRUFDQVYsRUFBVXI1QixVQUFVd3BCLFNBQVcsV0FDM0IsTUFBTyxtQ0FDZXpxQixLQUFLMDNCLFNBQVMvK0IsRUFBSSxLQUFPcUgsS0FBSzAzQixTQUFTOStCLEVBRHRELGNBRWNvSCxLQUFLaTNCLFNBRm5CLFdBR1lqM0IsS0FBS2syQixNQUFNdjlCLEVBQUksS0FBT3FILEtBQUtrMkIsTUFBTXQ5QixFQUg3QyxXQUlXb0gsS0FBS3czQixLQUFLNytCLEVBQUksS0FBT3FILEtBQUt3M0IsS0FBSzUrQixFQUoxQyxLQU1YLEVBRUEwaEMsRUFBVXI1QixVQUFVbTZCLHFCQUF1QixXQUN2QyxJQUFJckosRUFBSy94QixLQUFLdzZCLGVBQ1Z4NkIsS0FBS2c3QixXQUFhaDdCLEtBQUtpN0Isa0JBRXZCbEosRUFBRzMxQixFQUFJNEQsS0FBSzQ2QixJQUFNNTZCLEtBQUtrMkIsTUFBTXY5QixFQUM3Qm81QixFQUFHMTFCLEVBQUkyRCxLQUFLNjZCLElBQU03NkIsS0FBS2syQixNQUFNdjlCLEVBQzdCbzVCLEVBQUd6MUIsRUFBSTBELEtBQUs4NkIsSUFBTTk2QixLQUFLazJCLE1BQU10OUIsRUFDN0JtNUIsRUFBR2p4QixFQUFJZCxLQUFLKzZCLElBQU0vNkIsS0FBS2syQixNQUFNdDlCLEVBQzdCbTVCLEVBQUcwRCxHQUFLejFCLEtBQUswM0IsU0FBUy8rQixHQUFNcUgsS0FBS3MzQixNQUFNMytCLEVBQUlvNUIsRUFBRzMxQixFQUFNNEQsS0FBS3MzQixNQUFNMStCLEVBQUltNUIsRUFBR3oxQixHQUN0RXkxQixFQUFHMkQsR0FBSzExQixLQUFLMDNCLFNBQVM5K0IsR0FBTW9ILEtBQUtzM0IsTUFBTTMrQixFQUFJbzVCLEVBQUcxMUIsRUFBTTJELEtBQUtzM0IsTUFBTTErQixFQUFJbTVCLEVBQUdqeEIsR0FDdEVkLEtBQUtpN0IsZ0JBQWtCajdCLEtBQUtnN0IsU0FFNUJoN0IsS0FBS203QixXQUFhLEVBRTFCLEVBS0FiLEVBQVVyNUIsVUFBVW82QixnQkFBa0IsU0FBVUMsR0FDNUMsSUFBSXZKLEVBQUsveEIsS0FBS3c2QixlQWFkLEdBWkl4NkIsS0FBS2c3QixXQUFhaDdCLEtBQUtpN0Isa0JBRXZCbEosRUFBRzMxQixFQUFJNEQsS0FBSzQ2QixJQUFNNTZCLEtBQUtrMkIsTUFBTXY5QixFQUM3Qm81QixFQUFHMTFCLEVBQUkyRCxLQUFLNjZCLElBQU03NkIsS0FBS2syQixNQUFNdjlCLEVBQzdCbzVCLEVBQUd6MUIsRUFBSTBELEtBQUs4NkIsSUFBTTk2QixLQUFLazJCLE1BQU10OUIsRUFDN0JtNUIsRUFBR2p4QixFQUFJZCxLQUFLKzZCLElBQU0vNkIsS0FBS2syQixNQUFNdDlCLEVBQzdCbTVCLEVBQUcwRCxHQUFLejFCLEtBQUswM0IsU0FBUy8rQixHQUFNcUgsS0FBS3MzQixNQUFNMytCLEVBQUlvNUIsRUFBRzMxQixFQUFNNEQsS0FBS3MzQixNQUFNMStCLEVBQUltNUIsRUFBR3oxQixHQUN0RXkxQixFQUFHMkQsR0FBSzExQixLQUFLMDNCLFNBQVM5K0IsR0FBTW9ILEtBQUtzM0IsTUFBTTMrQixFQUFJbzVCLEVBQUcxMUIsRUFBTTJELEtBQUtzM0IsTUFBTTErQixFQUFJbTVCLEVBQUdqeEIsR0FDdEVkLEtBQUtpN0IsZ0JBQWtCajdCLEtBQUtnN0IsU0FFNUJoN0IsS0FBS203QixXQUFhLEdBRWxCbjdCLEtBQUttN0IsWUFBY0csRUFBZ0JKLFNBQVUsQ0FFN0MsSUFBSUssRUFBS0QsRUFBZ0JmLGVBQ3JCaUIsRUFBS3g3QixLQUFLdTZCLGVBQ2RpQixFQUFHcC9CLEVBQUsyMUIsRUFBRzMxQixFQUFJbS9CLEVBQUduL0IsRUFBTTIxQixFQUFHMTFCLEVBQUlrL0IsRUFBR2ovQixFQUNsQ2svQixFQUFHbi9CLEVBQUswMUIsRUFBRzMxQixFQUFJbS9CLEVBQUdsL0IsRUFBTTAxQixFQUFHMTFCLEVBQUlrL0IsRUFBR3o2QixFQUNsQzA2QixFQUFHbC9CLEVBQUt5MUIsRUFBR3oxQixFQUFJaS9CLEVBQUduL0IsRUFBTTIxQixFQUFHanhCLEVBQUl5NkIsRUFBR2ovQixFQUNsQ2svQixFQUFHMTZCLEVBQUtpeEIsRUFBR3oxQixFQUFJaS9CLEVBQUdsL0IsRUFBTTAxQixFQUFHanhCLEVBQUl5NkIsRUFBR3o2QixFQUNsQzA2QixFQUFHL0YsR0FBTTFELEVBQUcwRCxHQUFLOEYsRUFBR24vQixFQUFNMjFCLEVBQUcyRCxHQUFLNkYsRUFBR2ovQixFQUFLaS9CLEVBQUc5RixHQUM3QytGLEVBQUc5RixHQUFNM0QsRUFBRzBELEdBQUs4RixFQUFHbC9CLEVBQU0wMUIsRUFBRzJELEdBQUs2RixFQUFHejZCLEVBQUt5NkIsRUFBRzdGLEdBQzdDMTFCLEtBQUttN0IsVUFBWUcsRUFBZ0JKLFNBRWpDbDdCLEtBQUtrN0IsVUFDVCxDQUNKLEVBS0FaLEVBQVVyNUIsVUFBVXc2QixjQUFnQixTQUFVL0UsR0FDMUNBLEVBQU9XLFVBQVVyM0IsTUFDakJBLEtBQUtnN0IsVUFDVCxFQUNBaDZCLE9BQU9rUSxlQUFlb3BCLEVBQVVyNUIsVUFBVyxXQUFZLENBRW5EbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLMjZCLFNBQ2hCLEVBQ0F6TCxJQUFLLFNBQVU5bkIsR0FDUHBILEtBQUsyNkIsWUFBY3Z6QixJQUNuQnBILEtBQUsyNkIsVUFBWXZ6QixFQUNqQnBILEtBQUswNkIsYUFFYixFQUNBdnBCLFlBQVksRUFDWmdlLGNBQWMsSUFHbEJtTCxFQUFVb0IsU0FBVyxJQUFJcEIsRUFDbEJBLENBQ1gsQ0FoSDhCLEdDLzVDOUI3ZixHQUFTa2hCLG1CQUFvQixFQVM3QixJQUFJQyxHQUF3QixXQUN4QixTQUFTQSxJQUNMNTdCLEtBQUt6SCxLQUFPNEYsSUFDWjZCLEtBQUt4SCxLQUFPMkYsSUFDWjZCLEtBQUt2SCxNQUFPLElBQ1p1SCxLQUFLdEgsTUFBTyxJQUNac0gsS0FBSzY3QixLQUFPLEtBQ1o3N0IsS0FBSzg3QixVQUFZLENBQ3JCLENBbVVBLE9BOVRBRixFQUFPMzZCLFVBQVU4NkIsUUFBVSxXQUN2QixPQUFPLzdCLEtBQUt6SCxLQUFPeUgsS0FBS3ZILE1BQVF1SCxLQUFLeEgsS0FBT3dILEtBQUt0SCxJQUNyRCxFQUVBa2pDLEVBQU8zNkIsVUFBVTJ0QixNQUFRLFdBQ3JCNXVCLEtBQUt6SCxLQUFPNEYsSUFDWjZCLEtBQUt4SCxLQUFPMkYsSUFDWjZCLEtBQUt2SCxNQUFPLElBQ1p1SCxLQUFLdEgsTUFBTyxHQUNoQixFQU9Ba2pDLEVBQU8zNkIsVUFBVSs2QixhQUFlLFNBQVVILEdBQ3RDLE9BQUk3N0IsS0FBS3pILEtBQU95SCxLQUFLdkgsTUFBUXVILEtBQUt4SCxLQUFPd0gsS0FBS3RILEtBQ25DODRCLEdBQVV5SyxRQUVyQkosRUFBT0EsR0FBUSxJQUFJckssR0FBVSxFQUFHLEVBQUcsRUFBRyxJQUNqQzc0QixFQUFJcUgsS0FBS3pILEtBQ2RzakMsRUFBS2pqQyxFQUFJb0gsS0FBS3hILEtBQ2RxakMsRUFBSzdrQixNQUFRaFgsS0FBS3ZILEtBQU91SCxLQUFLekgsS0FDOUJzakMsRUFBSzVrQixPQUFTalgsS0FBS3RILEtBQU9zSCxLQUFLeEgsS0FDeEJxakMsRUFDWCxFQUtBRCxFQUFPMzZCLFVBQVVpN0IsU0FBVyxTQUFVQyxHQUNsQ244QixLQUFLekgsS0FBTzBCLEtBQUt3RixJQUFJTyxLQUFLekgsS0FBTTRqQyxFQUFNeGpDLEdBQ3RDcUgsS0FBS3ZILEtBQU93QixLQUFLQyxJQUFJOEYsS0FBS3ZILEtBQU0wakMsRUFBTXhqQyxHQUN0Q3FILEtBQUt4SCxLQUFPeUIsS0FBS3dGLElBQUlPLEtBQUt4SCxLQUFNMmpDLEVBQU12akMsR0FDdENvSCxLQUFLdEgsS0FBT3VCLEtBQUtDLElBQUk4RixLQUFLdEgsS0FBTXlqQyxFQUFNdmpDLEVBQzFDLEVBTUFnakMsRUFBTzM2QixVQUFVbTdCLGVBQWlCLFNBQVUxRixFQUFReUYsR0FDaEQsSUFBSS8vQixFQUFJczZCLEVBQU90NkIsRUFBR0MsRUFBSXE2QixFQUFPcjZCLEVBQUdDLEVBQUlvNkIsRUFBT3A2QixFQUFHd0UsRUFBSTQxQixFQUFPNTFCLEVBQUcyMEIsRUFBS2lCLEVBQU9qQixHQUFJQyxFQUFLZ0IsRUFBT2hCLEdBQ3BGLzhCLEVBQUt5RCxFQUFJKy9CLEVBQU14akMsRUFBTTJELEVBQUk2L0IsRUFBTXZqQyxFQUFLNjhCLEVBQ3BDNzhCLEVBQUt5RCxFQUFJOC9CLEVBQU14akMsRUFBTW1JLEVBQUlxN0IsRUFBTXZqQyxFQUFLODhCLEVBQ3hDMTFCLEtBQUt6SCxLQUFPMEIsS0FBS3dGLElBQUlPLEtBQUt6SCxLQUFNSSxHQUNoQ3FILEtBQUt2SCxLQUFPd0IsS0FBS0MsSUFBSThGLEtBQUt2SCxLQUFNRSxHQUNoQ3FILEtBQUt4SCxLQUFPeUIsS0FBS3dGLElBQUlPLEtBQUt4SCxLQUFNSSxHQUNoQ29ILEtBQUt0SCxLQUFPdUIsS0FBS0MsSUFBSThGLEtBQUt0SCxLQUFNRSxFQUNwQyxFQUtBZ2pDLEVBQU8zNkIsVUFBVW83QixRQUFVLFNBQVUzN0IsR0FDakMsSUFBSW5JLEVBQU95SCxLQUFLekgsS0FDWkMsRUFBT3dILEtBQUt4SCxLQUNaQyxFQUFPdUgsS0FBS3ZILEtBQ1pDLEVBQU9zSCxLQUFLdEgsS0FDWkMsRUFBSStILEVBQVMsR0FDYjlILEVBQUk4SCxFQUFTLEdBQ2pCbkksRUFBT0ksRUFBSUosRUFBT0ksRUFBSUosRUFDdEJDLEVBQU9JLEVBQUlKLEVBQU9JLEVBQUlKLEVBQ3RCQyxFQUFPRSxFQUFJRixFQUFPRSxFQUFJRixFQUN0QkMsRUFBT0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFHdEJILEdBRkFJLEVBQUkrSCxFQUFTLElBRUZuSSxFQUFPSSxFQUFJSixFQUN0QkMsR0FGQUksRUFBSThILEVBQVMsSUFFRmxJLEVBQU9JLEVBQUlKLEVBQ3RCQyxFQUFPRSxFQUFJRixFQUFPRSxFQUFJRixFQUN0QkMsRUFBT0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFHdEJILEdBRkFJLEVBQUkrSCxFQUFTLElBRUZuSSxFQUFPSSxFQUFJSixFQUN0QkMsR0FGQUksRUFBSThILEVBQVMsSUFFRmxJLEVBQU9JLEVBQUlKLEVBQ3RCQyxFQUFPRSxFQUFJRixFQUFPRSxFQUFJRixFQUN0QkMsRUFBT0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFHdEJILEdBRkFJLEVBQUkrSCxFQUFTLElBRUZuSSxFQUFPSSxFQUFJSixFQUN0QkMsR0FGQUksRUFBSThILEVBQVMsSUFFRmxJLEVBQU9JLEVBQUlKLEVBQ3RCQyxFQUFPRSxFQUFJRixFQUFPRSxFQUFJRixFQUN0QkMsRUFBT0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFDdEJzSCxLQUFLekgsS0FBT0EsRUFDWnlILEtBQUt4SCxLQUFPQSxFQUNad0gsS0FBS3ZILEtBQU9BLEVBQ1p1SCxLQUFLdEgsS0FBT0EsQ0FDaEIsRUFTQWtqQyxFQUFPMzZCLFVBQVVxN0IsU0FBVyxTQUFVMUssRUFBVy8wQixFQUFJQyxFQUFJQyxFQUFJQyxHQUN6RGdELEtBQUt1OEIsZUFBZTNLLEVBQVUySSxlQUFnQjE5QixFQUFJQyxFQUFJQyxFQUFJQyxFQUM5RCxFQVNBNCtCLEVBQU8zNkIsVUFBVXM3QixlQUFpQixTQUFVN0YsRUFBUTc1QixFQUFJQyxFQUFJQyxFQUFJQyxHQUM1RCxJQUFJWixFQUFJczZCLEVBQU90NkIsRUFDWEMsRUFBSXE2QixFQUFPcjZCLEVBQ1hDLEVBQUlvNkIsRUFBT3A2QixFQUNYd0UsRUFBSTQxQixFQUFPNTFCLEVBQ1gyMEIsRUFBS2lCLEVBQU9qQixHQUNaQyxFQUFLZ0IsRUFBT2hCLEdBQ1puOUIsRUFBT3lILEtBQUt6SCxLQUNaQyxFQUFPd0gsS0FBS3hILEtBQ1pDLEVBQU91SCxLQUFLdkgsS0FDWkMsRUFBT3NILEtBQUt0SCxLQUNaQyxFQUFLeUQsRUFBSVMsRUFBT1AsRUFBSVEsRUFBTTI0QixFQUMxQjc4QixFQUFLeUQsRUFBSVEsRUFBT2lFLEVBQUloRSxFQUFNNDRCLEVBQzlCbjlCLEVBQU9JLEVBQUlKLEVBQU9JLEVBQUlKLEVBQ3RCQyxFQUFPSSxFQUFJSixFQUFPSSxFQUFJSixFQUN0QkMsRUFBT0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFDdEJDLEVBQU9FLEVBQUlGLEVBQU9FLEVBQUlGLEVBR3RCSCxHQUZBSSxFQUFLeUQsRUFBSVcsRUFBT1QsRUFBSVEsRUFBTTI0QixHQUVmbDlCLEVBQU9JLEVBQUlKLEVBQ3RCQyxHQUZBSSxFQUFLeUQsRUFBSVUsRUFBTytELEVBQUloRSxFQUFNNDRCLEdBRWZsOUIsRUFBT0ksRUFBSUosRUFDdEJDLEVBQU9FLEVBQUlGLEVBQU9FLEVBQUlGLEVBQ3RCQyxFQUFPRSxFQUFJRixFQUFPRSxFQUFJRixFQUd0QkgsR0FGQUksRUFBS3lELEVBQUlTLEVBQU9QLEVBQUlVLEVBQU15NEIsR0FFZmw5QixFQUFPSSxFQUFJSixFQUN0QkMsR0FGQUksRUFBS3lELEVBQUlRLEVBQU9pRSxFQUFJOUQsRUFBTTA0QixHQUVmbDlCLEVBQU9JLEVBQUlKLEVBQ3RCQyxFQUFPRSxFQUFJRixFQUFPRSxFQUFJRixFQUN0QkMsRUFBT0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFHdEJILEdBRkFJLEVBQUt5RCxFQUFJVyxFQUFPVCxFQUFJVSxFQUFNeTRCLEdBRWZsOUIsRUFBT0ksRUFBSUosRUFDdEJDLEdBRkFJLEVBQUt5RCxFQUFJVSxFQUFPK0QsRUFBSTlELEVBQU0wNEIsR0FFZmw5QixFQUFPSSxFQUFJSixFQUN0QkMsRUFBT0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFDdEJDLEVBQU9FLEVBQUlGLEVBQU9FLEVBQUlGLEVBQ3RCc0gsS0FBS3pILEtBQU9BLEVBQ1p5SCxLQUFLeEgsS0FBT0EsRUFDWndILEtBQUt2SCxLQUFPQSxFQUNadUgsS0FBS3RILEtBQU9BLENBQ2hCLEVBT0FrakMsRUFBTzM2QixVQUFVdTdCLGNBQWdCLFNBQVVDLEVBQVlDLEVBQWFDLEdBS2hFLElBSkEsSUFBSXBrQyxFQUFPeUgsS0FBS3pILEtBQ1pDLEVBQU93SCxLQUFLeEgsS0FDWkMsRUFBT3VILEtBQUt2SCxLQUNaQyxFQUFPc0gsS0FBS3RILEtBQ1BZLEVBQUlvakMsRUFBYXBqQyxFQUFJcWpDLEVBQVdyakMsR0FBSyxFQUFHLENBQzdDLElBQUlYLEVBQUk4akMsRUFBV25qQyxHQUNmVixFQUFJNmpDLEVBQVduakMsRUFBSSxHQUN2QmYsRUFBT0ksRUFBSUosRUFBT0ksRUFBSUosRUFDdEJDLEVBQU9JLEVBQUlKLEVBQU9JLEVBQUlKLEVBQ3RCQyxFQUFPRSxFQUFJRixFQUFPRSxFQUFJRixFQUN0QkMsRUFBT0UsRUFBSUYsRUFBT0UsRUFBSUYsQ0FDMUIsQ0FDQXNILEtBQUt6SCxLQUFPQSxFQUNaeUgsS0FBS3hILEtBQU9BLEVBQ1p3SCxLQUFLdkgsS0FBT0EsRUFDWnVILEtBQUt0SCxLQUFPQSxDQUNoQixFQVFBa2pDLEVBQU8zNkIsVUFBVTI3QixZQUFjLFNBQVVoTCxFQUFXbHhCLEVBQVVnOEIsRUFBYUMsR0FDdkUzOEIsS0FBSzY4QixrQkFBa0JqTCxFQUFVMkksZUFBZ0I3NUIsRUFBVWc4QixFQUFhQyxFQUM1RSxFQVVBZixFQUFPMzZCLFVBQVU0N0Isa0JBQW9CLFNBQVVuRyxFQUFRaDJCLEVBQVVnOEIsRUFBYUMsRUFBV0csRUFBTUMsUUFDOUUsSUFBVEQsSUFBbUJBLEVBQU8sUUFDakIsSUFBVEMsSUFBbUJBLEVBQU9ELEdBVzlCLElBVkEsSUFBSTFnQyxFQUFJczZCLEVBQU90NkIsRUFDWEMsRUFBSXE2QixFQUFPcjZCLEVBQ1hDLEVBQUlvNkIsRUFBT3A2QixFQUNYd0UsRUFBSTQxQixFQUFPNTFCLEVBQ1gyMEIsRUFBS2lCLEVBQU9qQixHQUNaQyxFQUFLZ0IsRUFBT2hCLEdBQ1puOUIsRUFBT3lILEtBQUt6SCxLQUNaQyxFQUFPd0gsS0FBS3hILEtBQ1pDLEVBQU91SCxLQUFLdkgsS0FDWkMsRUFBT3NILEtBQUt0SCxLQUNQWSxFQUFJb2pDLEVBQWFwakMsRUFBSXFqQyxFQUFXcmpDLEdBQUssRUFBRyxDQUM3QyxJQUFJMGpDLEVBQU90OEIsRUFBU3BILEdBQ2hCMmpDLEVBQU92OEIsRUFBU3BILEVBQUksR0FDcEJYLEVBQUt5RCxFQUFJNGdDLEVBQVMxZ0MsRUFBSTJnQyxFQUFReEgsRUFDOUI3OEIsRUFBS2tJLEVBQUltOEIsRUFBUzVnQyxFQUFJMmdDLEVBQVF0SCxFQUNsQ245QixFQUFPMEIsS0FBS3dGLElBQUlsSCxFQUFNSSxFQUFJbWtDLEdBQzFCcmtDLEVBQU93QixLQUFLQyxJQUFJekIsRUFBTUUsRUFBSW1rQyxHQUMxQnRrQyxFQUFPeUIsS0FBS3dGLElBQUlqSCxFQUFNSSxFQUFJbWtDLEdBQzFCcmtDLEVBQU91QixLQUFLQyxJQUFJeEIsRUFBTUUsRUFBSW1rQyxFQUM5QixDQUNBLzhCLEtBQUt6SCxLQUFPQSxFQUNaeUgsS0FBS3hILEtBQU9BLEVBQ1p3SCxLQUFLdkgsS0FBT0EsRUFDWnVILEtBQUt0SCxLQUFPQSxDQUNoQixFQUtBa2pDLEVBQU8zNkIsVUFBVWk4QixVQUFZLFNBQVVDLEdBQ25DLElBQUk1a0MsRUFBT3lILEtBQUt6SCxLQUNaQyxFQUFPd0gsS0FBS3hILEtBQ1pDLEVBQU91SCxLQUFLdkgsS0FDWkMsRUFBT3NILEtBQUt0SCxLQUNoQnNILEtBQUt6SCxLQUFPNGtDLEVBQU81a0MsS0FBT0EsRUFBTzRrQyxFQUFPNWtDLEtBQU9BLEVBQy9DeUgsS0FBS3hILEtBQU8ya0MsRUFBTzNrQyxLQUFPQSxFQUFPMmtDLEVBQU8za0MsS0FBT0EsRUFDL0N3SCxLQUFLdkgsS0FBTzBrQyxFQUFPMWtDLEtBQU9BLEVBQU8wa0MsRUFBTzFrQyxLQUFPQSxFQUMvQ3VILEtBQUt0SCxLQUFPeWtDLEVBQU96a0MsS0FBT0EsRUFBT3lrQyxFQUFPemtDLEtBQU9BLENBQ25ELEVBTUFrakMsRUFBTzM2QixVQUFVbThCLGNBQWdCLFNBQVVELEVBQVFFLEdBQy9DLElBQUlDLEVBQVFILEVBQU81a0MsS0FBTzhrQyxFQUFLOWtDLEtBQU80a0MsRUFBTzVrQyxLQUFPOGtDLEVBQUs5a0MsS0FDckRnbEMsRUFBUUosRUFBTzNrQyxLQUFPNmtDLEVBQUs3a0MsS0FBTzJrQyxFQUFPM2tDLEtBQU82a0MsRUFBSzdrQyxLQUNyRGdsQyxFQUFRTCxFQUFPMWtDLEtBQU80a0MsRUFBSzVrQyxLQUFPMGtDLEVBQU8xa0MsS0FBTzRrQyxFQUFLNWtDLEtBQ3JEZ2xDLEVBQVFOLEVBQU96a0MsS0FBTzJrQyxFQUFLM2tDLEtBQU95a0MsRUFBT3prQyxLQUFPMmtDLEVBQUsza0MsS0FDekQsR0FBSTRrQyxHQUFTRSxHQUFTRCxHQUFTRSxFQUFPLENBQ2xDLElBQUlsbEMsRUFBT3lILEtBQUt6SCxLQUNaQyxFQUFPd0gsS0FBS3hILEtBQ1pDLEVBQU91SCxLQUFLdkgsS0FDWkMsRUFBT3NILEtBQUt0SCxLQUNoQnNILEtBQUt6SCxLQUFPK2tDLEVBQVEva0MsRUFBTytrQyxFQUFRL2tDLEVBQ25DeUgsS0FBS3hILEtBQU8ra0MsRUFBUS9rQyxFQUFPK2tDLEVBQVEva0MsRUFDbkN3SCxLQUFLdkgsS0FBTytrQyxFQUFRL2tDLEVBQU8ra0MsRUFBUS9rQyxFQUNuQ3VILEtBQUt0SCxLQUFPK2tDLEVBQVEva0MsRUFBTytrQyxFQUFRL2tDLENBQ3ZDLENBQ0osRUFNQWtqQyxFQUFPMzZCLFVBQVV5OEIsZ0JBQWtCLFNBQVVQLEVBQVF6RyxHQUNqRDEyQixLQUFLdThCLGVBQWU3RixFQUFReUcsRUFBTzVrQyxLQUFNNGtDLEVBQU8za0MsS0FBTTJrQyxFQUFPMWtDLEtBQU0wa0MsRUFBT3prQyxLQUM5RSxFQU1Ba2pDLEVBQU8zNkIsVUFBVTA4QixjQUFnQixTQUFVUixFQUFRcGlDLEdBQy9DLElBQUl1aUMsRUFBUUgsRUFBTzVrQyxLQUFPd0MsRUFBS3BDLEVBQUl3a0MsRUFBTzVrQyxLQUFPd0MsRUFBS3BDLEVBQ2xENGtDLEVBQVFKLEVBQU8za0MsS0FBT3VDLEVBQUtuQyxFQUFJdWtDLEVBQU8za0MsS0FBT3VDLEVBQUtuQyxFQUNsRDRrQyxFQUFRTCxFQUFPMWtDLEtBQU9zQyxFQUFLcEMsRUFBSW9DLEVBQUtpYyxNQUFRbW1CLEVBQU8xa0MsS0FBUXNDLEVBQUtwQyxFQUFJb0MsRUFBS2ljLE1BQ3pFeW1CLEVBQVFOLEVBQU96a0MsS0FBT3FDLEVBQUtuQyxFQUFJbUMsRUFBS2tjLE9BQVNrbUIsRUFBT3prQyxLQUFRcUMsRUFBS25DLEVBQUltQyxFQUFLa2MsT0FDOUUsR0FBSXFtQixHQUFTRSxHQUFTRCxHQUFTRSxFQUFPLENBQ2xDLElBQUlsbEMsRUFBT3lILEtBQUt6SCxLQUNaQyxFQUFPd0gsS0FBS3hILEtBQ1pDLEVBQU91SCxLQUFLdkgsS0FDWkMsRUFBT3NILEtBQUt0SCxLQUNoQnNILEtBQUt6SCxLQUFPK2tDLEVBQVEva0MsRUFBTytrQyxFQUFRL2tDLEVBQ25DeUgsS0FBS3hILEtBQU8ra0MsRUFBUS9rQyxFQUFPK2tDLEVBQVEva0MsRUFDbkN3SCxLQUFLdkgsS0FBTytrQyxFQUFRL2tDLEVBQU8ra0MsRUFBUS9rQyxFQUNuQ3VILEtBQUt0SCxLQUFPK2tDLEVBQVEva0MsRUFBTytrQyxFQUFRL2tDLENBQ3ZDLENBQ0osRUFPQWtqQyxFQUFPMzZCLFVBQVU0eEIsSUFBTSxTQUFVQyxFQUFVQyxRQUN0QixJQUFiRCxJQUF1QkEsRUFBVyxRQUNyQixJQUFiQyxJQUF1QkEsRUFBV0QsR0FDakM5eUIsS0FBSys3QixZQUNOLzdCLEtBQUt6SCxNQUFRdTZCLEVBQ2I5eUIsS0FBS3ZILE1BQVFxNkIsRUFDYjl5QixLQUFLeEgsTUFBUXU2QixFQUNiL3lCLEtBQUt0SCxNQUFRcTZCLEVBRXJCLEVBVUE2SSxFQUFPMzZCLFVBQVUyOEIsWUFBYyxTQUFVL2dDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUk4L0IsRUFBTUMsR0FDM0RsZ0MsR0FBTWlnQyxFQUNOaGdDLEdBQU1pZ0MsRUFDTmhnQyxHQUFNKy9CLEVBQ045L0IsR0FBTSsvQixFQUNOLzhCLEtBQUt6SCxLQUFPeUgsS0FBS3pILEtBQU9zRSxFQUFLbUQsS0FBS3pILEtBQU9zRSxFQUN6Q21ELEtBQUt2SCxLQUFPdUgsS0FBS3ZILEtBQU9zRSxFQUFLaUQsS0FBS3ZILEtBQU9zRSxFQUN6Q2lELEtBQUt4SCxLQUFPd0gsS0FBS3hILEtBQU9zRSxFQUFLa0QsS0FBS3hILEtBQU9zRSxFQUN6Q2tELEtBQUt0SCxLQUFPc0gsS0FBS3RILEtBQU9zRSxFQUFLZ0QsS0FBS3RILEtBQU9zRSxDQUM3QyxFQUNPNCtCLENBQ1gsQ0E1VTJCLEdBOFZ2QmlDLEdBQWdCLFNBQVMvOEIsRUFBR3pFLEdBSTVCLE9BSEF3aEMsR0FBZ0I3OEIsT0FBTzg4QixnQkFDbEIsQ0FBRTE3QixVQUFXLGNBQWdCYSxPQUFTLFNBQVVuQyxFQUFHekUsR0FBS3lFLEVBQUVzQixVQUFZL0YsQ0FBRyxHQUMxRSxTQUFVeUUsRUFBR3pFLEdBQUssSUFBSyxJQUFJdkIsS0FBS3VCLEVBQVNBLEVBQUU2RSxlQUFlcEcsS0FBTWdHLEVBQUVoRyxHQUFLdUIsRUFBRXZCLEdBQVEsRUFDOUUraUMsR0FBYy84QixFQUFHekUsRUFDNUIsRUFFQSxTQUFTMGhDLEdBQVVqOUIsRUFBR3pFLEdBRWxCLFNBQVMyaEMsSUFBT2grQixLQUFLd1QsWUFBYzFTLENBQUcsQ0FEdEMrOEIsR0FBYy84QixFQUFHekUsR0FFakJ5RSxFQUFFRyxVQUFrQixPQUFONUUsRUFBYTJFLE9BQU9tQixPQUFPOUYsSUFBTTJoQyxFQUFHLzhCLFVBQVk1RSxFQUFFNEUsVUFBVyxJQUFJKzhCLEVBQ25GLENBMkxBLElBQUlDLEdBQStCLFNBQVVDLEdBRXpDLFNBQVNELElBQ0wsSUFBSUUsRUFBUUQsRUFBT3o3QixLQUFLekMsT0FBU0EsS0EwQmpDLE9BekJBbStCLEVBQU1DLHdCQUEwQixLQUVoQ0QsRUFBTXZNLFVBQVksSUFBSTBJLEdBQ3RCNkQsRUFBTXZTLE1BQVEsRUFDZHVTLEVBQU1FLFNBQVUsRUFDaEJGLEVBQU1HLFlBQWEsRUFDbkJILEVBQU1JLFVBQVcsRUFDakJKLEVBQU1LLFNBQVcsS0FDakJMLEVBQU1NLE9BQVMsS0FDZk4sRUFBTU8sV0FBYSxFQUNuQlAsRUFBTVEsaUJBQW1CLEVBQ3pCUixFQUFNUyxRQUFVLEVBQ2hCVCxFQUFNVSxXQUFhLEtBQ25CVixFQUFNVyxRQUFVLEtBQ2hCWCxFQUFNWSxnQkFBa0IsS0FDeEJaLEVBQU1hLFFBQVUsSUFBSXBELEdBQ3BCdUMsRUFBTWMsYUFBZSxLQUNyQmQsRUFBTWUsVUFBWSxFQUNsQmYsRUFBTWdCLFlBQWMsS0FDcEJoQixFQUFNaUIsaUJBQW1CLEtBQ3pCakIsRUFBTWtCLE1BQVEsS0FDZGxCLEVBQU1tQixjQUFnQixFQUN0Qm5CLEVBQU1vQixZQUFhLEVBQ25CcEIsRUFBTXFCLFVBQVcsRUFDakJyQixFQUFNc0IsUUFBUyxFQUNSdEIsQ0FDWCxDQWdpQkEsT0E3akJBSixHQUFVRSxFQUFlQyxHQWtDekJELEVBQWN5QixNQUFRLFNBQVVyNkIsR0FNNUIsSUFGQSxJQUFJSixFQUFPakUsT0FBT2lFLEtBQUtJLEdBRWQvTCxFQUFJLEVBQUdBLEVBQUkyTCxFQUFLbE0sU0FBVU8sRUFBRyxDQUNsQyxJQUFJcW1DLEVBQWUxNkIsRUFBSzNMLEdBRXhCMEgsT0FBT2tRLGVBQWUrc0IsRUFBY2g5QixVQUFXMCtCLEVBQWMzK0IsT0FBTzQrQix5QkFBeUJ2NkIsRUFBUXM2QixHQUN6RyxDQUNKLEVBQ0EzK0IsT0FBT2tRLGVBQWUrc0IsRUFBY2g5QixVQUFXLFlBQWEsQ0FvQnhEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLdS9CLFVBQ2hCLEVBQ0FwdUIsWUFBWSxFQUNaZ2UsY0FBYyxJQUdsQjhPLEVBQWNoOUIsVUFBVTQrQiw4QkFBZ0MsV0FDaEQ3L0IsS0FBS3krQixRQUNMeitCLEtBQUt5K0IsT0FBT29CLGdDQUNaNy9CLEtBQUs0eEIsVUFBVXlKLGdCQUFnQnI3QixLQUFLeStCLE9BQU83TSxZQUczQzV4QixLQUFLNHhCLFVBQVV5SixnQkFBZ0JyN0IsS0FBSzgvQix5QkFBeUJsTyxVQUVyRSxFQUVBcU0sRUFBY2g5QixVQUFVbzZCLGdCQUFrQixXQUN0Q3I3QixLQUFLay9CLFlBQ0xsL0IsS0FBSzR4QixVQUFVeUosZ0JBQWdCcjdCLEtBQUt5K0IsT0FBTzdNLFdBRTNDNXhCLEtBQUswK0IsV0FBYTErQixLQUFLNHJCLE1BQVE1ckIsS0FBS3krQixPQUFPQyxVQUMvQyxFQW1DQVQsRUFBY2g5QixVQUFVMnlCLFVBQVksU0FBVW1NLEVBQVlsRSxHQXNCdEQsT0FyQktrRSxJQUNJLy9CLEtBQUt5K0IsUUFNTnorQixLQUFLNi9CLGdDQUNMNy9CLEtBQUtxN0Isb0JBTkxyN0IsS0FBS3krQixPQUFTeitCLEtBQUs4L0IseUJBQ25COS9CLEtBQUtxN0Isa0JBQ0xyN0IsS0FBS3krQixPQUFTLE9BT2xCeitCLEtBQUtnL0IsUUFBUWxELFdBQWE5N0IsS0FBS2svQixZQUMvQmwvQixLQUFLZ2dDLGtCQUNMaGdDLEtBQUtnL0IsUUFBUWxELFNBQVc5N0IsS0FBS2svQixXQUU1QnJELElBQ0k3N0IsS0FBS20vQixjQUNObi9CLEtBQUttL0IsWUFBYyxJQUFJM04sSUFFM0JxSyxFQUFPNzdCLEtBQUttL0IsYUFFVG4vQixLQUFLZy9CLFFBQVFoRCxhQUFhSCxFQUNyQyxFQU1Bb0MsRUFBY2g5QixVQUFVZy9CLGVBQWlCLFNBQVVwRSxHQUMxQ0EsSUFDSTc3QixLQUFLby9CLG1CQUNOcC9CLEtBQUtvL0IsaUJBQW1CLElBQUk1TixJQUVoQ3FLLEVBQU83N0IsS0FBS28vQixrQkFFWHAvQixLQUFLaS9CLGVBQ05qL0IsS0FBS2kvQixhQUFlLElBQUlyRCxJQUU1QixJQUFJc0UsRUFBZWxnQyxLQUFLNHhCLFVBQ3BCdU8sRUFBWW5nQyxLQUFLeStCLE9BQ3JCeitCLEtBQUt5K0IsT0FBUyxLQUNkeitCLEtBQUs0eEIsVUFBWTV4QixLQUFLOC9CLHlCQUF5QmxPLFVBQy9DLElBQUl3TyxFQUFjcGdDLEtBQUtnL0IsUUFDbkJxQixFQUFnQnJnQyxLQUFLay9CLFVBQ3pCbC9CLEtBQUtnL0IsUUFBVWgvQixLQUFLaS9CLGFBQ3BCLElBQUk5QixFQUFTbjlCLEtBQUs0ekIsV0FBVSxFQUFPaUksR0FLbkMsT0FKQTc3QixLQUFLeStCLE9BQVMwQixFQUNkbmdDLEtBQUs0eEIsVUFBWXNPLEVBQ2pCbGdDLEtBQUtnL0IsUUFBVW9CLEVBQ2ZwZ0MsS0FBS2cvQixRQUFRbEQsVUFBWTk3QixLQUFLay9CLFVBQVltQixFQUNuQ2xELENBQ1gsRUFTQWMsRUFBY2g5QixVQUFVcS9CLFNBQVcsU0FBVTVJLEVBQVV5RSxFQUFPNEQsR0FpQjFELFlBaEJtQixJQUFmQSxJQUF5QkEsR0FBYSxHQUNyQ0EsSUFDRC8vQixLQUFLNi9CLGdDQUlBNy9CLEtBQUt5K0IsT0FNTnorQixLQUFLdWdDLGdDQUxMdmdDLEtBQUt5K0IsT0FBU3orQixLQUFLOC9CLHlCQUNuQjkvQixLQUFLdWdDLCtCQUNMdmdDLEtBQUt5K0IsT0FBUyxPQU9meitCLEtBQUt1NkIsZUFBZTMyQixNQUFNOHpCLEVBQVV5RSxFQUMvQyxFQVVBOEIsRUFBY2g5QixVQUFVdS9CLFFBQVUsU0FBVTlJLEVBQVVweUIsRUFBTTYyQixFQUFPNEQsR0FtQi9ELE9BbEJJejZCLElBQ0FveUIsRUFBV3B5QixFQUFLZzdCLFNBQVM1SSxFQUFVeUUsRUFBTzRELElBRXpDQSxJQUNELy9CLEtBQUs2L0IsZ0NBSUE3L0IsS0FBS3krQixPQU1OeitCLEtBQUt1Z0MsZ0NBTEx2Z0MsS0FBS3krQixPQUFTeitCLEtBQUs4L0IseUJBQ25COS9CLEtBQUt1Z0MsK0JBQ0x2Z0MsS0FBS3krQixPQUFTLE9BT2Z6K0IsS0FBS3U2QixlQUFldkUsYUFBYTBCLEVBQVV5RSxFQUN0RCxFQU1BOEIsRUFBY2g5QixVQUFVdy9CLFVBQVksU0FBVUMsR0FDMUMsSUFBS0EsSUFBY0EsRUFBVUMsU0FDekIsTUFBTSxJQUFJblUsTUFBTSwyQ0FHcEIsT0FEQWtVLEVBQVVDLFNBQVMzZ0MsTUFDWjBnQyxDQUNYLEVBY0F6QyxFQUFjaDlCLFVBQVU0dEIsYUFBZSxTQUFVbDJCLEVBQUdDLEVBQUdtK0IsRUFBUUMsRUFBUUMsRUFBVUMsRUFBT0MsRUFBT04sRUFBUUMsR0FtQm5HLFlBbEJVLElBQU5uK0IsSUFBZ0JBLEVBQUksUUFDZCxJQUFOQyxJQUFnQkEsRUFBSSxRQUNULElBQVhtK0IsSUFBcUJBLEVBQVMsUUFDbkIsSUFBWEMsSUFBcUJBLEVBQVMsUUFDakIsSUFBYkMsSUFBdUJBLEVBQVcsUUFDeEIsSUFBVkMsSUFBb0JBLEVBQVEsUUFDbEIsSUFBVkMsSUFBb0JBLEVBQVEsUUFDakIsSUFBWE4sSUFBcUJBLEVBQVMsUUFDbkIsSUFBWEMsSUFBcUJBLEVBQVMsR0FDbEM5MkIsS0FBSzAzQixTQUFTLytCLEVBQUlBLEVBQ2xCcUgsS0FBSzAzQixTQUFTOStCLEVBQUlBLEVBQ2xCb0gsS0FBS2syQixNQUFNdjlCLEVBQUtvK0IsR0FBUyxFQUN6Qi8yQixLQUFLazJCLE1BQU10OUIsRUFBS28rQixHQUFTLEVBQ3pCaDNCLEtBQUtpM0IsU0FBV0EsRUFDaEJqM0IsS0FBS3czQixLQUFLNytCLEVBQUl1K0IsRUFDZGwzQixLQUFLdzNCLEtBQUs1K0IsRUFBSXUrQixFQUNkbjNCLEtBQUtzM0IsTUFBTTMrQixFQUFJaytCLEVBQ2Y3MkIsS0FBS3MzQixNQUFNMStCLEVBQUlrK0IsRUFDUjkyQixJQUNYLEVBUUFpK0IsRUFBY2g5QixVQUFVc3RCLFFBQVUsU0FBVXFTLEdBQ3BDNWdDLEtBQUt5K0IsUUFDTHorQixLQUFLeStCLE9BQU9vQyxZQUFZN2dDLE1BRTVCQSxLQUFLdS9CLFlBQWEsRUFDbEJ2L0IsS0FBSzR4QixVQUFZLEtBQ2pCNXhCLEtBQUt5K0IsT0FBUyxLQUNkeitCLEtBQUtnL0IsUUFBVSxLQUNmaC9CLEtBQUtxOUIsS0FBTyxLQUNacjlCLEtBQUt3K0IsU0FBVyxLQUNoQngrQixLQUFLOCtCLFFBQVUsS0FDZjkrQixLQUFLNitCLFdBQWEsS0FDbEI3K0IsS0FBSzhnQyxRQUFVLEtBQ2Y5Z0MsS0FBSytnQyxhQUFjLEVBQ25CL2dDLEtBQUtnaEMscUJBQXNCLEVBQzNCaGhDLEtBQUttRCxLQUFLLGFBQ1ZuRCxLQUFLOEQsb0JBQ1QsRUFDQTlDLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVywyQkFBNEIsQ0FLdkVtUSxJQUFLLFdBS0QsT0FKcUMsT0FBakNwUixLQUFLbytCLDBCQUVMcCtCLEtBQUtvK0Isd0JBQTBCLElBQUk2QyxJQUVoQ2poQyxLQUFLbytCLHVCQUNoQixFQUNBanRCLFlBQVksRUFDWmdlLGNBQWMsSUFZbEI4TyxFQUFjaDlCLFVBQVVpZ0MsaUJBQW1CLFdBQ3ZDLElBQUlDLEVBQVduaEMsS0FBS3krQixPQUVwQixPQURBeitCLEtBQUt5K0IsT0FBU3orQixLQUFLOC9CLHlCQUNacUIsQ0FDWCxFQUtBbEQsRUFBY2g5QixVQUFVbWdDLGtCQUFvQixTQUFVQyxHQUNsRHJoQyxLQUFLeStCLE9BQVM0QyxDQUNsQixFQUNBcmdDLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVyxJQUFLLENBS2hEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLMDNCLFNBQVMvK0IsQ0FDekIsRUFDQXUyQixJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs0eEIsVUFBVThGLFNBQVMvK0IsRUFBSXlPLENBQ2hDLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVyxJQUFLLENBS2hEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLMDNCLFNBQVM5K0IsQ0FDekIsRUFDQXMyQixJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs0eEIsVUFBVThGLFNBQVM5K0IsRUFBSXdPLENBQ2hDLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVyxpQkFBa0IsQ0FLN0RtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs0eEIsVUFBVTJJLGNBQzFCLEVBQ0FwcEIsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZStzQixFQUFjaDlCLFVBQVcsaUJBQWtCLENBSzdEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLNHhCLFVBQVU0SSxjQUMxQixFQUNBcnBCLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWUrc0IsRUFBY2g5QixVQUFXLFdBQVksQ0FLdkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs0eEIsVUFBVThGLFFBQzFCLEVBQ0F4SSxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs0eEIsVUFBVThGLFNBQVNyRyxTQUFTanFCLEVBQ3JDLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVyxRQUFTLENBT3BEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLNHhCLFVBQVVzRSxLQUMxQixFQUNBaEgsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLNHhCLFVBQVVzRSxNQUFNN0UsU0FBU2pxQixFQUNsQyxFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZStzQixFQUFjaDlCLFVBQVcsUUFBUyxDQVFwRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBSzR4QixVQUFVMEYsS0FDMUIsRUFDQXBJLElBQUssU0FBVTluQixHQUNYcEgsS0FBSzR4QixVQUFVMEYsTUFBTWpHLFNBQVNqcUIsRUFDbEMsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWUrc0IsRUFBY2g5QixVQUFXLE9BQVEsQ0FLbkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs0eEIsVUFBVTRGLElBQzFCLEVBQ0F0SSxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs0eEIsVUFBVTRGLEtBQUtuRyxTQUFTanFCLEVBQ2pDLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVyxXQUFZLENBS3ZEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLNHhCLFVBQVVxRixRQUMxQixFQUNBL0gsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLNHhCLFVBQVVxRixTQUFXN3ZCLENBQzlCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVyxRQUFTLENBS3BEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLNHhCLFVBQVVxRixTQUFXaEcsRUFDckMsRUFDQS9CLElBQUssU0FBVTluQixHQUNYcEgsS0FBSzR4QixVQUFVcUYsU0FBVzd2QixFQUFROHBCLEVBQ3RDLEVBQ0EvZixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVyxTQUFVLENBU3JEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLNCtCLE9BQ2hCLEVBQ0ExUCxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs0K0IsUUFBVXgzQixFQUNYcEgsS0FBS3krQixTQUNMeitCLEtBQUt5K0IsT0FBTzZDLFdBQVksRUFFaEMsRUFDQW53QixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlK3NCLEVBQWNoOUIsVUFBVyxlQUFnQixDQUszRG1RLElBQUssV0FDRCxJQUFJbXdCLEVBQU92aEMsS0FDWCxFQUFHLENBQ0MsSUFBS3VoQyxFQUFLbEQsUUFDTixPQUFPLEVBRVhrRCxFQUFPQSxFQUFLOUMsTUFDaEIsT0FBUzhDLEdBQ1QsT0FBTyxDQUNYLEVBQ0Fwd0IsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZStzQixFQUFjaDlCLFVBQVcsT0FBUSxDQW9CbkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtxL0IsS0FDaEIsRUFDQW5RLElBQUssU0FBVTluQixHQUtQLElBWUlvNkIsRUFoQkp4aEMsS0FBS3EvQixRQUFVajRCLElBR2ZwSCxLQUFLcS9CLFFBQ0RtQyxFQUFjeGhDLEtBQUtxL0IsTUFBTW9DLFdBQ3ZCemhDLEtBQUtxL0IsTUFBTW1DLFdBQWF4aEMsS0FBS3EvQixTQUUvQm1DLEVBQVdsQyxnQkFDc0IsSUFBN0JrQyxFQUFXbEMsZ0JBQ1hrQyxFQUFXbEQsWUFBYSxFQUN4QmtELEVBQVcvQixRQUFTLElBSWhDei9CLEtBQUtxL0IsTUFBUWo0QixFQUNUcEgsS0FBS3EvQixRQUNEbUMsRUFBY3hoQyxLQUFLcS9CLE1BQU1vQyxXQUN2QnpoQyxLQUFLcS9CLE1BQU1tQyxXQUFheGhDLEtBQUtxL0IsU0FFRSxJQUE3Qm1DLEVBQVdsQyxnQkFDWGtDLEVBQVdsRCxZQUFhLEVBQ3hCa0QsRUFBVy9CLFFBQVMsR0FFeEIrQixFQUFXbEMsaUJBR3ZCLEVBQ0FudUIsWUFBWSxFQUNaZ2UsY0FBYyxJQUVYOE8sQ0FDWCxDQS9qQmtDLENBK2pCaEMsSUFJRWdELEdBQXdDLFNBQVUvQyxHQUVsRCxTQUFTK0MsSUFDTCxJQUFJOUMsRUFBbUIsT0FBWEQsR0FBbUJBLEVBQU90NkIsTUFBTTVELEtBQU15RCxZQUFjekQsS0FFaEUsT0FEQW0rQixFQUFNbUQsVUFBWSxLQUNYbkQsQ0FDWCxDQUNBLE9BTkFKLEdBQVVrRCxFQUF3Qi9DLEdBTTNCK0MsQ0FDWCxDQVIyQyxDQVF6Q2hELElBU0YsU0FBU3lELEdBQWF0bEMsRUFBR0MsR0FDckIsT0FBSUQsRUFBRXVsQyxTQUFXdGxDLEVBQUVzbEMsT0FDUnZsQyxFQUFFdWlDLGlCQUFtQnRpQyxFQUFFc2lDLGlCQUUzQnZpQyxFQUFFdWxDLE9BQVN0bEMsRUFBRXNsQyxNQUN4QixDQVBBMUQsR0FBY2g5QixVQUFVcy9CLDZCQUErQnRDLEdBQWNoOUIsVUFBVW82QixnQkEwQy9FLElBQUl1RyxHQUEyQixTQUFVMUQsR0FFckMsU0FBUzBELElBQ0wsSUFBSXpELEVBQVFELEVBQU96N0IsS0FBS3pDLE9BQVNBLEtBSWpDLE9BSEFtK0IsRUFBTXhzQixTQUFXLEdBQ2pCd3NCLEVBQU0wRCxpQkFBbUJwbkIsR0FBU2toQixrQkFDbEN3QyxFQUFNbUQsV0FBWSxFQUNYbkQsQ0FlWCxDQTJnQkEsT0FoaUJBSixHQUFVNkQsRUFBVzFELEdBMEJyQjBELEVBQVUzZ0MsVUFBVTZnQyxpQkFBbUIsU0FBVUMsR0FFakQsRUFRQUgsRUFBVTNnQyxVQUFVMC9CLFNBQVcsV0FJM0IsSUFIQSxJQUFJN2hCLEVBQWNyYixVQUVka08sRUFBVyxHQUNOcU4sRUFBSyxFQUFHQSxFQUFLdmIsVUFBVTFLLE9BQVFpbUIsSUFDcENyTixFQUFTcU4sR0FBTUYsRUFBWUUsR0FHL0IsR0FBSXJOLEVBQVM1WSxPQUFTLEVBRWxCLElBQUssSUFBSU8sRUFBSSxFQUFHQSxFQUFJcVksRUFBUzVZLE9BQVFPLElBRWpDMEcsS0FBSzJnQyxTQUFTaHZCLEVBQVNyWSxRQUcxQixDQUNELElBQUkwb0MsRUFBUXJ3QixFQUFTLEdBRWpCcXdCLEVBQU12RCxRQUNOdUQsRUFBTXZELE9BQU9vQyxZQUFZbUIsR0FFN0JBLEVBQU12RCxPQUFTeitCLEtBQ2ZBLEtBQUtzaEMsV0FBWSxFQUVqQlUsRUFBTXBRLFVBQVV1SixXQUFhLEVBQzdCbjdCLEtBQUsyUixTQUFTaFksS0FBS3FvQyxHQUVuQmhpQyxLQUFLay9CLFlBRUxsL0IsS0FBSzhoQyxpQkFBaUI5aEMsS0FBSzJSLFNBQVM1WSxPQUFTLEdBQzdDaUgsS0FBS21ELEtBQUssYUFBYzYrQixFQUFPaGlDLEtBQU1BLEtBQUsyUixTQUFTNVksT0FBUyxHQUM1RGlwQyxFQUFNNytCLEtBQUssUUFBU25ELEtBQ3hCLENBQ0EsT0FBTzJSLEVBQVMsRUFDcEIsRUFPQWl3QixFQUFVM2dDLFVBQVVnaEMsV0FBYSxTQUFVRCxFQUFPejVCLEdBQzlDLEdBQUlBLEVBQVEsR0FBS0EsRUFBUXZJLEtBQUsyUixTQUFTNVksT0FDbkMsTUFBTSxJQUFJeXpCLE1BQU13VixFQUFRLHlCQUEyQno1QixFQUFRLDhCQUFnQ3ZJLEtBQUsyUixTQUFTNVksUUFnQjdHLE9BZElpcEMsRUFBTXZELFFBQ051RCxFQUFNdkQsT0FBT29DLFlBQVltQixHQUU3QkEsRUFBTXZELE9BQVN6K0IsS0FDZkEsS0FBS3NoQyxXQUFZLEVBRWpCVSxFQUFNcFEsVUFBVXVKLFdBQWEsRUFDN0JuN0IsS0FBSzJSLFNBQVMzSSxPQUFPVCxFQUFPLEVBQUd5NUIsR0FFL0JoaUMsS0FBS2svQixZQUVMbC9CLEtBQUs4aEMsaUJBQWlCdjVCLEdBQ3RCeTVCLEVBQU03K0IsS0FBSyxRQUFTbkQsTUFDcEJBLEtBQUttRCxLQUFLLGFBQWM2K0IsRUFBT2hpQyxLQUFNdUksR0FDOUJ5NUIsQ0FDWCxFQU1BSixFQUFVM2dDLFVBQVVpaEMsYUFBZSxTQUFVRixFQUFPRyxHQUNoRCxHQUFJSCxJQUFVRyxFQUFkLENBR0EsSUFBSUMsRUFBU3BpQyxLQUFLcWlDLGNBQWNMLEdBQzVCTSxFQUFTdGlDLEtBQUtxaUMsY0FBY0YsR0FDaENuaUMsS0FBSzJSLFNBQVN5d0IsR0FBVUQsRUFDeEJuaUMsS0FBSzJSLFNBQVMyd0IsR0FBVU4sRUFDeEJoaUMsS0FBSzhoQyxpQkFBaUJNLEVBQVNFLEVBQVNGLEVBQVNFLEVBTGpELENBTUosRUFNQVYsRUFBVTNnQyxVQUFVb2hDLGNBQWdCLFNBQVVMLEdBQzFDLElBQUl6NUIsRUFBUXZJLEtBQUsyUixTQUFTdEgsUUFBUTIzQixHQUNsQyxJQUFlLElBQVh6NUIsRUFDQSxNQUFNLElBQUlpa0IsTUFBTSw0REFFcEIsT0FBT2prQixDQUNYLEVBTUFxNUIsRUFBVTNnQyxVQUFVc2hDLGNBQWdCLFNBQVVQLEVBQU96NUIsR0FDakQsR0FBSUEsRUFBUSxHQUFLQSxHQUFTdkksS0FBSzJSLFNBQVM1WSxPQUNwQyxNQUFNLElBQUl5ekIsTUFBTSxhQUFlamtCLEVBQVEsOEJBQWdDdkksS0FBSzJSLFNBQVM1WSxRQUV6RixJQUFJeXBDLEVBQWV4aUMsS0FBS3FpQyxjQUFjTCxHQUN0QzFVLEdBQVl0dEIsS0FBSzJSLFNBQVU2d0IsRUFBYyxHQUN6Q3hpQyxLQUFLMlIsU0FBUzNJLE9BQU9ULEVBQU8sRUFBR3k1QixHQUMvQmhpQyxLQUFLOGhDLGlCQUFpQnY1QixFQUMxQixFQU1BcTVCLEVBQVUzZ0MsVUFBVXdoQyxXQUFhLFNBQVVsNkIsR0FDdkMsR0FBSUEsRUFBUSxHQUFLQSxHQUFTdkksS0FBSzJSLFNBQVM1WSxPQUNwQyxNQUFNLElBQUl5ekIsTUFBTSxzQkFBd0Jqa0IsRUFBUSxxQkFFcEQsT0FBT3ZJLEtBQUsyUixTQUFTcEosRUFDekIsRUFNQXE1QixFQUFVM2dDLFVBQVU0L0IsWUFBYyxXQUk5QixJQUhBLElBQUkvaEIsRUFBY3JiLFVBRWRrTyxFQUFXLEdBQ05xTixFQUFLLEVBQUdBLEVBQUt2YixVQUFVMUssT0FBUWltQixJQUNwQ3JOLEVBQVNxTixHQUFNRixFQUFZRSxHQUcvQixHQUFJck4sRUFBUzVZLE9BQVMsRUFFbEIsSUFBSyxJQUFJTyxFQUFJLEVBQUdBLEVBQUlxWSxFQUFTNVksT0FBUU8sSUFDakMwRyxLQUFLNmdDLFlBQVlsdkIsRUFBU3JZLFFBRzdCLENBQ0QsSUFBSTBvQyxFQUFRcndCLEVBQVMsR0FDakJwSixFQUFRdkksS0FBSzJSLFNBQVN0SCxRQUFRMjNCLEdBQ2xDLElBQWUsSUFBWHo1QixFQUNFLE9BQU8sS0FDYnk1QixFQUFNdkQsT0FBUyxLQUVmdUQsRUFBTXBRLFVBQVV1SixXQUFhLEVBQzdCN04sR0FBWXR0QixLQUFLMlIsU0FBVXBKLEVBQU8sR0FFbEN2SSxLQUFLay9CLFlBRUxsL0IsS0FBSzhoQyxpQkFBaUJ2NUIsR0FDdEJ5NUIsRUFBTTcrQixLQUFLLFVBQVduRCxNQUN0QkEsS0FBS21ELEtBQUssZUFBZ0I2K0IsRUFBT2hpQyxLQUFNdUksRUFDM0MsQ0FDQSxPQUFPb0osRUFBUyxFQUNwQixFQU1BaXdCLEVBQVUzZ0MsVUFBVXloQyxjQUFnQixTQUFVbjZCLEdBQzFDLElBQUl5NUIsRUFBUWhpQyxLQUFLeWlDLFdBQVdsNkIsR0FXNUIsT0FUQXk1QixFQUFNdkQsT0FBUyxLQUNmdUQsRUFBTXBRLFVBQVV1SixXQUFhLEVBQzdCN04sR0FBWXR0QixLQUFLMlIsU0FBVXBKLEVBQU8sR0FFbEN2SSxLQUFLay9CLFlBRUxsL0IsS0FBSzhoQyxpQkFBaUJ2NUIsR0FDdEJ5NUIsRUFBTTcrQixLQUFLLFVBQVduRCxNQUN0QkEsS0FBS21ELEtBQUssZUFBZ0I2K0IsRUFBT2hpQyxLQUFNdUksR0FDaEN5NUIsQ0FDWCxFQU9BSixFQUFVM2dDLFVBQVUwaEMsZUFBaUIsU0FBVUMsRUFBWUMsUUFDcEMsSUFBZkQsSUFBeUJBLEVBQWEsUUFDekIsSUFBYkMsSUFBdUJBLEVBQVc3aUMsS0FBSzJSLFNBQVM1WSxRQUNwRCxJQUdJK3BDLEVBSEFDLEVBQVFILEVBRVJJLEVBRE1ILEVBQ1FFLEVBRWxCLEdBQUlDLEVBQVEsR0FBS0EsR0FIUEgsRUFHcUIsQ0FDM0JDLEVBQVU5aUMsS0FBSzJSLFNBQVMzSSxPQUFPKzVCLEVBQU9DLEdBQ3RDLElBQUssSUFBSTFwQyxFQUFJLEVBQUdBLEVBQUl3cEMsRUFBUS9wQyxTQUFVTyxFQUNsQ3dwQyxFQUFReHBDLEdBQUdtbEMsT0FBUyxLQUNoQnFFLEVBQVF4cEMsR0FBR3M0QixZQUNYa1IsRUFBUXhwQyxHQUFHczRCLFVBQVV1SixXQUFhLEdBSzFDLElBRkFuN0IsS0FBS2svQixZQUNMbC9CLEtBQUs4aEMsaUJBQWlCYyxHQUNidHBDLEVBQUksRUFBR0EsRUFBSXdwQyxFQUFRL3BDLFNBQVVPLEVBQ2xDd3BDLEVBQVF4cEMsR0FBRzZKLEtBQUssVUFBV25ELE1BQzNCQSxLQUFLbUQsS0FBSyxlQUFnQjIvQixFQUFReHBDLEdBQUkwRyxLQUFNMUcsR0FFaEQsT0FBT3dwQyxDQUNYLENBQ0ssR0FBYyxJQUFWRSxHQUF3QyxJQUF6QmhqQyxLQUFLMlIsU0FBUzVZLE9BQ2xDLE1BQU8sR0FFWCxNQUFNLElBQUk4TixXQUFXLG1FQUN6QixFQUVBKzZCLEVBQVUzZ0MsVUFBVXlnQyxhQUFlLFdBRS9CLElBREEsSUFBSXVCLEdBQWUsRUFDVjNwQyxFQUFJLEVBQUc0RyxFQUFJRixLQUFLMlIsU0FBUzVZLE9BQVFPLEVBQUk0RyxJQUFLNUcsRUFBRyxDQUNsRCxJQUFJMG9DLEVBQVFoaUMsS0FBSzJSLFNBQVNyWSxHQUMxQjBvQyxFQUFNckQsaUJBQW1CcmxDLEVBQ3BCMnBDLEdBQWlDLElBQWpCakIsRUFBTUwsU0FDdkJzQixHQUFlLEVBRXZCLENBQ0lBLEdBQWdCampDLEtBQUsyUixTQUFTNVksT0FBUyxHQUN2Q2lILEtBQUsyUixTQUFTOVgsS0FBSzZuQyxJQUV2QjFoQyxLQUFLc2hDLFdBQVksQ0FDckIsRUFFQU0sRUFBVTNnQyxVQUFVbzZCLGdCQUFrQixXQUM5QnI3QixLQUFLNmhDLGtCQUFvQjdoQyxLQUFLc2hDLFdBQzlCdGhDLEtBQUswaEMsZUFFVDFoQyxLQUFLay9CLFlBQ0xsL0IsS0FBSzR4QixVQUFVeUosZ0JBQWdCcjdCLEtBQUt5K0IsT0FBTzdNLFdBRTNDNXhCLEtBQUswK0IsV0FBYTErQixLQUFLNHJCLE1BQVE1ckIsS0FBS3krQixPQUFPQyxXQUMzQyxJQUFLLElBQUlwbEMsRUFBSSxFQUFHNEcsRUFBSUYsS0FBSzJSLFNBQVM1WSxPQUFRTyxFQUFJNEcsSUFBSzVHLEVBQUcsQ0FDbEQsSUFBSTBvQyxFQUFRaGlDLEtBQUsyUixTQUFTclksR0FDdEIwb0MsRUFBTTNELFNBQ04yRCxFQUFNM0csaUJBRWQsQ0FDSixFQU9BdUcsRUFBVTNnQyxVQUFVKytCLGdCQUFrQixXQUNsQ2hnQyxLQUFLZy9CLFFBQVFwUSxRQUNiNXVCLEtBQUtrakMsbUJBQ0wsSUFBSyxJQUFJNXBDLEVBQUksRUFBR0EsRUFBSTBHLEtBQUsyUixTQUFTNVksT0FBUU8sSUFBSyxDQUMzQyxJQUFJMG9DLEVBQVFoaUMsS0FBSzJSLFNBQVNyWSxHQUMxQixHQUFLMG9DLEVBQU0zRCxTQUFZMkQsRUFBTTFELFdBSzdCLEdBRkEwRCxFQUFNaEMsa0JBRUZnQyxFQUFNM0MsTUFBTyxDQUNiLElBQUltQyxFQUFjUSxFQUFNM0MsTUFBTW9DLFdBQ3hCTyxFQUFNM0MsTUFBTW1DLFdBQWFRLEVBQU0zQyxNQUNqQ21DLEdBQ0FBLEVBQVd4QixrQkFDWGhnQyxLQUFLZy9CLFFBQVE1QixjQUFjNEUsRUFBTWhELFFBQVN3QyxFQUFXeEMsVUFHckRoL0IsS0FBS2cvQixRQUFROUIsVUFBVThFLEVBQU1oRCxRQUVyQyxNQUNTZ0QsRUFBTW5ELFdBQ1g3K0IsS0FBS2cvQixRQUFRckIsY0FBY3FFLEVBQU1oRCxRQUFTZ0QsRUFBTW5ELFlBR2hENytCLEtBQUtnL0IsUUFBUTlCLFVBQVU4RSxFQUFNaEQsUUFFckMsQ0FDQWgvQixLQUFLZy9CLFFBQVFsRCxTQUFXOTdCLEtBQUtrL0IsU0FDakMsRUFXQTBDLEVBQVUzZ0MsVUFBVWcvQixlQUFpQixTQUFVcEUsRUFBTXNILFFBQ3RCLElBQXZCQSxJQUFpQ0EsR0FBcUIsR0FDMUQsSUFBSTFpQyxFQUFTeTlCLEVBQU9qOUIsVUFBVWcvQixlQUFleDlCLEtBQUt6QyxLQUFNNjdCLEdBQ3hELElBQUtzSCxFQUNELElBQUssSUFBSTdwQyxFQUFJLEVBQUc0RyxFQUFJRixLQUFLMlIsU0FBUzVZLE9BQVFPLEVBQUk0RyxJQUFLNUcsRUFBRyxDQUNsRCxJQUFJMG9DLEVBQVFoaUMsS0FBSzJSLFNBQVNyWSxHQUN0QjBvQyxFQUFNM0QsU0FDTjJELEVBQU0zRyxpQkFFZCxDQUVKLE9BQU81NkIsQ0FDWCxFQU1BbWhDLEVBQVUzZ0MsVUFBVWlpQyxpQkFBbUIsV0FFdkMsRUFNQXRCLEVBQVUzZ0MsVUFBVW1pQyxtQkFBcUIsU0FBVUMsR0FDL0MsSUFBSUMsRUFBY0QsRUFBU0UsY0FBY0QsWUFFekMsR0FBTUEsRUFBWXRzQixNQUFRLEdBQUtzc0IsRUFBWXJzQixPQUFTLEVBQXBELENBT0EsSUFBSWttQixFQUNBdkwsRUFZSixHQVRJNXhCLEtBQUt3K0IsVUFDTHJCLEVBQVNuOUIsS0FBS3crQixTQUNkNU0sRUFBWTV4QixLQUFLdTZCLGdCQUdadjZCLEtBQUt3akMsVUFBWTVCLEVBQVUzZ0MsVUFBVXVpQyxVQUMxQ3JHLEVBQVNuOUIsS0FBSzR6QixXQUFVLElBR3hCdUosR0FBVW1HLEVBQVlqbUMsV0FBVzgvQixFQUFRdkwsR0FDekM1eEIsS0FBS3dqQyxRQUFRSCxRQUdaLEdBQUlyakMsS0FBS3crQixTQUNWLE9BT0osSUFBSyxJQUFJbGxDLEVBQUksRUFBRzRHLEVBQUlGLEtBQUsyUixTQUFTNVksT0FBUU8sRUFBSTRHLElBQUs1RyxFQUFHLENBQ2xELElBQUkwb0MsRUFBUWhpQyxLQUFLMlIsU0FBU3JZLEdBQ3RCbXFDLEVBQWdCekIsRUFBTXpELFNBQzFCeUQsRUFBTXpELFNBQVdrRixJQUFrQnpqQyxLQUFLdytCLFNBQ3hDd0QsRUFBTTBCLE9BQU9MLEdBQ2JyQixFQUFNekQsU0FBV2tGLENBQ3JCLENBcENBLENBcUNKLEVBeUJBN0IsRUFBVTNnQyxVQUFVeWlDLE9BQVMsU0FBVUwsR0FFbkMsR0FBS3JqQyxLQUFLcStCLFdBQVdyK0IsS0FBSzArQixZQUFjLElBQU0xK0IsS0FBS3MrQixXQUluRCxHQUFJdCtCLEtBQUtxL0IsT0FBVXIvQixLQUFLOCtCLFNBQVc5K0IsS0FBSzgrQixRQUFRL2xDLE9BQzVDaUgsS0FBSzJqQyxlQUFlTixRQUVuQixHQUFJcmpDLEtBQUt1K0IsU0FDVnYrQixLQUFLb2pDLG1CQUFtQkMsT0FFdkIsQ0FDRHJqQyxLQUFLd2pDLFFBQVFILEdBQ2IsSUFBSyxJQUFJL3BDLEVBQUksRUFBRzRHLEVBQUlGLEtBQUsyUixTQUFTNVksT0FBUU8sRUFBSTRHLElBQUs1RyxFQUMvQzBHLEtBQUsyUixTQUFTclksR0FBR29xQyxPQUFPTCxFQUVoQyxDQUNKLEVBS0F6QixFQUFVM2dDLFVBQVUwaUMsZUFBaUIsU0FBVU4sR0FDM0MsSUFBSXZFLEVBQVU5K0IsS0FBSzgrQixRQUNmekIsRUFBT3I5QixLQUFLcS9CLE1BRWhCLEdBQUlQLEVBQVMsQ0FDSjkrQixLQUFLKytCLGtCQUNOLytCLEtBQUsrK0IsZ0JBQWtCLElBRTNCLytCLEtBQUsrK0IsZ0JBQWdCaG1DLE9BQVMsRUFDOUIsSUFBSyxJQUFJTyxFQUFJLEVBQUdBLEVBQUl3bEMsRUFBUS9sQyxPQUFRTyxJQUM1QndsQyxFQUFReGxDLEdBQUdzcUMsU0FDWDVqQyxLQUFLKytCLGdCQUFnQnBsQyxLQUFLbWxDLEVBQVF4bEMsR0FHOUMsQ0FDQSxJQUFJdXFDLEVBQVMvRSxHQUFXOStCLEtBQUsrK0IsaUJBQW1CLytCLEtBQUsrK0IsZ0JBQWdCaG1DLFFBQzdEc2tDLEtBQVVBLEVBQUtvRSxZQUNYcEUsRUFBS3VHLFVBQVl2RyxFQUFLeUcsWUFBY3pHLEVBQUt6MkIsT0FBUzhPLEVBQVd1RixPQVV6RSxHQVRJNG9CLEdBQ0FSLEVBQVNVLE1BQU1GLFFBRWYvRSxHQUFXOStCLEtBQUsrK0IsaUJBQW1CLytCLEtBQUsrK0IsZ0JBQWdCaG1DLFFBQ3hEc3FDLEVBQVNXLE9BQU9ycUMsS0FBS3FHLEtBQU1BLEtBQUsrK0IsaUJBRWhDMUIsR0FDQWdHLEVBQVNoRyxLQUFLMWpDLEtBQUtxRyxLQUFNQSxLQUFLcS9CLE9BRTlCci9CLEtBQUt1K0IsU0FDTHYrQixLQUFLb2pDLG1CQUFtQkMsT0FFdkIsQ0FDRHJqQyxLQUFLd2pDLFFBQVFILEdBQ0ovcEMsRUFBSSxFQUFiLElBQUssSUFBVzRHLEVBQUlGLEtBQUsyUixTQUFTNVksT0FBUU8sRUFBSTRHLElBQUs1RyxFQUMvQzBHLEtBQUsyUixTQUFTclksR0FBR29xQyxPQUFPTCxFQUVoQyxDQUNJUSxHQUNBUixFQUFTVSxNQUFNRixRQUVmeEcsR0FDQWdHLEVBQVNoRyxLQUFLcHRCLElBQUlqUSxNQUVsQjgrQixHQUFXOStCLEtBQUsrK0IsaUJBQW1CLytCLEtBQUsrK0IsZ0JBQWdCaG1DLFFBQ3hEc3FDLEVBQVNXLE9BQU8vekIsS0FFeEIsRUFLQTJ4QixFQUFVM2dDLFVBQVV1aUMsUUFBVSxTQUFVUyxHQUV4QyxFQWFBckMsRUFBVTNnQyxVQUFVc3RCLFFBQVUsU0FBVXprQixHQUNwQ28wQixFQUFPajlCLFVBQVVzdEIsUUFBUTlyQixLQUFLekMsTUFDOUJBLEtBQUtzaEMsV0FBWSxFQUNqQixJQUFJNEMsRUFBcUMsa0JBQVpwNkIsRUFBd0JBLEVBQVVBLEdBQVdBLEVBQVE2SCxTQUM5RXd5QixFQUFjbmtDLEtBQUsyaUMsZUFBZSxFQUFHM2lDLEtBQUsyUixTQUFTNVksUUFDdkQsR0FBSW1yQyxFQUNBLElBQUssSUFBSTVxQyxFQUFJLEVBQUdBLEVBQUk2cUMsRUFBWXByQyxTQUFVTyxFQUN0QzZxQyxFQUFZN3FDLEdBQUdpMUIsUUFBUXprQixFQUduQyxFQUNBOUksT0FBT2tRLGVBQWUwd0IsRUFBVTNnQyxVQUFXLFFBQVMsQ0FFaERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtrMkIsTUFBTXY5QixFQUFJcUgsS0FBS2lnQyxpQkFBaUJqcEIsS0FDaEQsRUFDQWtZLElBQUssU0FBVTluQixHQUNYLElBQUk0UCxFQUFRaFgsS0FBS2lnQyxpQkFBaUJqcEIsTUFFOUJoWCxLQUFLazJCLE1BQU12OUIsRUFERCxJQUFWcWUsRUFDZTVQLEVBQVE0UCxFQUdSLEVBRW5CaFgsS0FBS29rQyxPQUFTaDlCLENBQ2xCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlMHdCLEVBQVUzZ0MsVUFBVyxTQUFVLENBRWpEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLazJCLE1BQU10OUIsRUFBSW9ILEtBQUtpZ0MsaUJBQWlCaHBCLE1BQ2hELEVBQ0FpWSxJQUFLLFNBQVU5bkIsR0FDWCxJQUFJNlAsRUFBU2pYLEtBQUtpZ0MsaUJBQWlCaHBCLE9BRS9CalgsS0FBS2syQixNQUFNdDlCLEVBREEsSUFBWHFlLEVBQ2U3UCxFQUFRNlAsRUFHUixFQUVuQmpYLEtBQUtxa0MsUUFBVWo5QixDQUNuQixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVYeVMsQ0FDWCxDQWxpQjhCLENBa2lCNUIzRCxJQU9GMkQsR0FBVTNnQyxVQUFVcWpDLHlCQUEyQjFDLEdBQVUzZ0MsVUFBVW82QixnQkMxdERuRSxJQXdCSWtKLEdBeEJBQyxHQUFXLFdBVVgsT0FUQUEsR0FBV3hqQyxPQUFPcUQsUUFBVSxTQUFrQnFFLEdBRzFDLElBRkEsSUFFU2pELEVBRkxxWixFQUFjcmIsVUFFTm5LLEVBQUksRUFBRzhELEVBQUlxRyxVQUFVMUssT0FBUU8sRUFBSThELEVBQUc5RCxJQUU1QyxJQUFLLElBQUl3QixLQURUMkssRUFBSXFaLEVBQVl4bEIsR0FDTzBILE9BQU9DLFVBQVVDLGVBQWV1QixLQUFLZ0QsRUFBRzNLLEtBQU00TixFQUFFNU4sR0FBSzJLLEVBQUUzSyxJQUVsRixPQUFPNE4sQ0FDWCxFQUNPODdCLEdBQVM1Z0MsTUFBTTVELEtBQU15RCxVQUNoQyxHQWNBLFNBQVc4Z0MsR0FDUEEsRUFBMkIsWUFBSSxjQUMvQkEsRUFBOEIsZUFBSSx3QkFDbENBLEVBQW9DLHFCQUFJLHlCQUN4Q0EsRUFBc0IsT0FBSSxTQUMxQkEsRUFBMEIsV0FBSSxjQUM5QkEsRUFBNkIsY0FBSSxpQkFDakNBLEVBQTJCLFlBQUksZUFDL0JBLEVBQStCLGdCQUFJLGtCQUN0QyxDQVRELENBU0dBLEtBQWtCQSxHQUFnQixDQUFDLElBS3RDLElDMUJJRSxHRDBCQUMsR0FBcUIsU0FBVWxsQixHQUUvQixHQUFtQixtQkFBUkEsR0FBc0MsaUJBQVJBLEdBQW9CQSxFQUFJbWxCLFVBQVksQ0FDekUsSUFBS25sQixFQUFJbWxCLFVBQ0wsTUFBTSxJQUFJblksTUFBTSxpREFFcEIsSUFBSW9ZLEVBQXFDLGlCQUFsQnBsQixFQUFJbWxCLFVBQ3JCLENBQUUvOUIsS0FBTTRZLEVBQUltbEIsV0FDWm5sQixFQUFJbWxCLFVBQ1ZubEIsRUFBTWdsQixHQUFTQSxHQUFTLENBQUMsRUFBR0ksR0FBVyxDQUFFQyxJQUFLcmxCLEdBQ2xELENBQ0EsR0FBbUIsaUJBQVJBLEVBSVAsTUFBTSxJQUFJZ04sTUFBTSwwQkFLcEIsTUFId0IsaUJBTHBCaE4sRUFBTWdsQixHQUFTLENBQUMsRUFBR2hsQixJQUtSNVksT0FDWDRZLEVBQUk1WSxLQUFPLENBQUM0WSxFQUFJNVksT0FFYjRZLENBQ1gsRUFNSXNsQixHQUFhLENBRWJDLGFBQWMsS0FFZEMsZ0JBQWlCLEtBRWpCQyxPQUFRLENBQUMsRUFNVEMsT0FBUSxXQUtKLElBSkEsSUFBSXBtQixFQUFjcmIsVUFFZDA2QixFQUFRbitCLEtBQ1I4a0MsRUFBYSxHQUNSOWxCLEVBQUssRUFBR0EsRUFBS3ZiLFVBQVUxSyxPQUFRaW1CLElBQ3BDOGxCLEVBQVc5bEIsR0FBTUYsRUFBWUUsR0FLakMsT0FIQThsQixFQUFXbmdDLElBQUkrL0IsSUFBb0IzL0IsU0FBUSxTQUFVeWEsR0FDakRBLEVBQUk1WSxLQUFLN0IsU0FBUSxTQUFVNkIsR0FBUSxJQUFJOFEsRUFBSXl0QixFQUFJLE9BQXFELFFBQTdDQSxHQUFNenRCLEVBQUt5bUIsRUFBTTZHLGlCQUFpQnArQixVQUEwQixJQUFQdStCLE9BQWdCLEVBQVNBLEVBQUcxaUMsS0FBS2lWLEVBQUk4SCxFQUFNLEdBQzNKLElBQ094ZixJQUNYLEVBTUE4NUIsSUFBSyxXQUtELElBSkEsSUFBSWhiLEVBQWNyYixVQUVkMDZCLEVBQVFuK0IsS0FDUjhrQyxFQUFhLEdBQ1I5bEIsRUFBSyxFQUFHQSxFQUFLdmIsVUFBVTFLLE9BQVFpbUIsSUFDcEM4bEIsRUFBVzlsQixHQUFNRixFQUFZRSxHQWdCakMsT0FiQThsQixFQUFXbmdDLElBQUkrL0IsSUFBb0IzL0IsU0FBUSxTQUFVeWEsR0FDakRBLEVBQUk1WSxLQUFLN0IsU0FBUSxTQUFVNkIsR0FDdkIsSUFBSTlELEVBQVdxN0IsRUFBTTRHLGFBQ2pCdHJDLEVBQVEwa0MsRUFBTThHLE9BQ2JuaUMsRUFBUzhELEdBS1Y5RCxFQUFTOEQsR0FBTTRZLElBSmYvbEIsRUFBTW1OLEdBQVFuTixFQUFNbU4sSUFBUyxHQUM3Qm5OLEVBQU1tTixHQUFNak4sS0FBSzZsQixHQUt6QixHQUNKLElBQ094ZixJQUNYLEVBUUFxUyxPQUFRLFNBQVV6TCxFQUFNdytCLEVBQU9DLEdBQzNCLElBQUlDLEVBQWN0bEMsS0FBSytrQyxhQUFlL2tDLEtBQUsra0MsY0FBZ0IsQ0FBQyxFQUN4RFEsRUFBaUJ2bEMsS0FBS2dsQyxnQkFBa0JobEMsS0FBS2dsQyxpQkFBbUIsQ0FBQyxFQUNyRSxHQUFJTSxFQUFZMStCLElBQVMyK0IsRUFBZTMrQixHQUNwQyxNQUFNLElBQUk0bEIsTUFBTSxrQkFBb0I1bEIsRUFBTywwQkFFL0MwK0IsRUFBWTErQixHQUFRdytCLEVBQ3BCRyxFQUFlMytCLEdBQVF5K0IsRUFFdkIsSUFBSTVyQyxFQUFRdUcsS0FBS2lsQyxPQU1qQixPQUpJeHJDLEVBQU1tTixLQUNObk4sRUFBTW1OLEdBQU03QixTQUFRLFNBQVV5YSxHQUFPLE9BQU80bEIsRUFBTTVsQixFQUFNLFdBQ2pEL2xCLEVBQU1tTixJQUVWNUcsSUFDWCxFQU9Bd2xDLFlBQWEsU0FBVTUrQixFQUFNakMsR0FDekIsT0FBTzNFLEtBQUtxUyxPQUFPekwsR0FBTSxTQUFVKzlCLEdBQy9CaGdDLEVBQUlnZ0MsRUFBVXBpQyxNQUFRb2lDLEVBQVVFLEdBQ3BDLElBQUcsU0FBVUYsVUFDRmhnQyxFQUFJZ2dDLEVBQVVwaUMsS0FDekIsR0FDSixFQU9Ba2pDLGFBQWMsU0FBVTcrQixFQUFNcE4sR0FDMUIsT0FBT3dHLEtBQUtxUyxPQUFPekwsR0FBTSxTQUFVKzlCLEdBQy9CLElBQUlqdEIsRUFBSXl0QixFQUNSM3JDLEVBQUtHLEtBQUtnckMsRUFBVUUsS0FFaEJqK0IsSUFBUzI5QixHQUFjbUIsU0FDYSxRQUFuQ1AsR0FBTXp0QixFQUFLaXRCLEVBQVVFLEtBQUsvSyxXQUF3QixJQUFQcUwsR0FBeUJBLEVBQUcxaUMsS0FBS2lWLEdBRXJGLElBQUcsU0FBVWl0QixHQUNULElBQUlwOEIsRUFBUS9PLEVBQUs2USxRQUFRczZCLEVBQVVFLE1BQ3BCLElBQVh0OEIsR0FDQS9PLEVBQUt3UCxPQUFPVCxFQUFPLEVBRTNCLEdBQ0osR0VwSkFvOUIsR0FBd0IsV0FJeEIsU0FBU0EsRUFBT3BqQyxHQUNadkMsS0FBSzRsQyxNQUFRLEdBQ2I1bEMsS0FBSzZsQyxNQUFRdGpDLEVBQ2J2QyxLQUFLOGxDLFlBQWMsQ0FDdkIsQ0EwR0EsT0FuR0FILEVBQU8xa0MsVUFBVWtDLEtBQU8sU0FBVTRpQyxFQUFJM2lDLEVBQUl6RCxFQUFJMEQsRUFBSUMsRUFBSUMsRUFBSXlpQyxFQUFJQyxHQUMxRCxHQUFJeGlDLFVBQVUxSyxPQUFTLEVBQ25CLE1BQU0sSUFBSXl6QixNQUFNLHlCQUVwQixJQUFJOVUsRUFBSzFYLEtBQU11QyxFQUFPbVYsRUFBR25WLEtBQU1xakMsRUFBUWx1QixFQUFHa3VCLE1BQzFDNWxDLEtBQUs4bEMsY0FDTCxJQUFLLElBQUl4c0MsRUFBSSxFQUFHQyxFQUFNcXNDLEVBQU03c0MsT0FBUU8sRUFBSUMsRUFBS0QsSUFDekNzc0MsRUFBTXRzQyxHQUFHaUosR0FBTXdqQyxFQUFJM2lDLEVBQUl6RCxFQUFJMEQsRUFBSUMsRUFBSUMsRUFBSXlpQyxFQUFJQyxHQUsvQyxPQUhJTCxJQUFVNWxDLEtBQUs0bEMsT0FDZjVsQyxLQUFLOGxDLGNBRUY5bEMsSUFDWCxFQUNBMmxDLEVBQU8xa0MsVUFBVWlsQyxzQkFBd0IsV0FDakNsbUMsS0FBSzhsQyxZQUFjLEdBQUs5bEMsS0FBSzRsQyxNQUFNN3NDLE9BQVMsSUFDNUNpSCxLQUFLOGxDLFlBQWMsRUFDbkI5bEMsS0FBSzRsQyxNQUFRNWxDLEtBQUs0bEMsTUFBTWxqQyxNQUFNLEdBRXRDLEVBbUJBaWpDLEVBQU8xa0MsVUFBVTY0QixJQUFNLFNBQVV5SCxHQU03QixPQUxJQSxFQUFLdmhDLEtBQUs2bEMsU0FDVjdsQyxLQUFLa21DLHdCQUNMbG1DLEtBQUtrbEMsT0FBTzNELEdBQ1p2aEMsS0FBSzRsQyxNQUFNanNDLEtBQUs0bkMsSUFFYnZoQyxJQUNYLEVBS0EybEMsRUFBTzFrQyxVQUFVaWtDLE9BQVMsU0FBVTNELEdBQ2hDLElBQUloNUIsRUFBUXZJLEtBQUs0bEMsTUFBTXY3QixRQUFRazNCLEdBSy9CLE9BSmUsSUFBWGg1QixJQUNBdkksS0FBS2ttQyx3QkFDTGxtQyxLQUFLNGxDLE1BQU01OEIsT0FBT1QsRUFBTyxJQUV0QnZJLElBQ1gsRUFLQTJsQyxFQUFPMWtDLFVBQVUwd0IsU0FBVyxTQUFVNFAsR0FDbEMsT0FBcUMsSUFBOUJ2aEMsS0FBSzRsQyxNQUFNdjdCLFFBQVFrM0IsRUFDOUIsRUFFQW9FLEVBQU8xa0MsVUFBVWtsQyxVQUFZLFdBR3pCLE9BRkFubUMsS0FBS2ttQyx3QkFDTGxtQyxLQUFLNGxDLE1BQU03c0MsT0FBUyxFQUNiaUgsSUFDWCxFQUVBMmxDLEVBQU8xa0MsVUFBVXN0QixRQUFVLFdBQ3ZCdnVCLEtBQUttbUMsWUFDTG5tQyxLQUFLNGxDLE1BQVEsS0FDYjVsQyxLQUFLNmxDLE1BQVEsSUFDakIsRUFDQTdrQyxPQUFPa1EsZUFBZXkwQixFQUFPMWtDLFVBQVcsUUFBUyxDQUs3Q21RLElBQUssV0FDRCxPQUE2QixJQUF0QnBSLEtBQUs0bEMsTUFBTTdzQyxNQUN0QixFQUNBb1ksWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXkwQixFQUFPMWtDLFVBQVcsT0FBUSxDQUs1Q21RLElBQUssV0FDRCxPQUFPcFIsS0FBSzZsQyxLQUNoQixFQUNBMTBCLFlBQVksRUFDWmdlLGNBQWMsSUFFWHdXLENBQ1gsQ0FuSDJCLEdBb0gzQjNrQyxPQUFPb2xDLGlCQUFpQlQsR0FBTzFrQyxVQUFXLENBT3RDb2xDLFNBQVUsQ0FBRWovQixNQUFPdStCLEdBQU8xa0MsVUFBVWtDLE1BT3BDbWpDLElBQUssQ0FBRWwvQixNQUFPdStCLEdBQU8xa0MsVUFBVWtDLFFEbktuQ3NYLEdBQVM4ckIsWUFBYyxJQWtCdkIsU0FBVzlCLEdBQ1BBLEVBQWdCQSxFQUE2QixZQUFJLElBQU0sY0FDdkRBLEVBQWdCQSxFQUFzQixLQUFJLElBQU0sT0FDaERBLEVBQWdCQSxFQUF3QixPQUFJLEdBQUssU0FDakRBLEVBQWdCQSxFQUFxQixLQUFLLElBQU0sTUFDaERBLEVBQWdCQSxFQUF5QixTQUFLLElBQU0sU0FDdkQsQ0FORCxDQU1HQSxLQUFvQkEsR0FBa0IsQ0FBQyxJQVExQyxJQUFJK0IsR0FBZ0MsV0FTaEMsU0FBU0EsRUFBZWxsQyxFQUFJQyxFQUFTa2xDLEVBQVVqbEMsUUFDM0IsSUFBWkQsSUFBc0JBLEVBQVUsV0FDbkIsSUFBYmtsQyxJQUF1QkEsRUFBVyxRQUN6QixJQUFUamxDLElBQW1CQSxHQUFPLEdBRTlCeEIsS0FBSzVHLEtBQU8sS0FFWjRHLEtBQUswbUMsU0FBVyxLQUVoQjFtQyxLQUFLdS9CLFlBQWEsRUFDbEJ2L0IsS0FBS3NCLEdBQUtBLEVBQ1Z0QixLQUFLdUIsUUFBVUEsRUFDZnZCLEtBQUt5bUMsU0FBV0EsRUFDaEJ6bUMsS0FBS3dCLEtBQU9BLENBQ2hCLENBNkVBLE9BckVBZ2xDLEVBQWV2bEMsVUFBVTRNLE1BQVEsU0FBVXZNLEVBQUlDLEdBRTNDLFlBRGdCLElBQVpBLElBQXNCQSxFQUFVLE1BQzdCdkIsS0FBS3NCLEtBQU9BLEdBQU10QixLQUFLdUIsVUFBWUEsQ0FDOUMsRUFPQWlsQyxFQUFldmxDLFVBQVVrQyxLQUFPLFNBQVV3akMsR0FDbEMzbUMsS0FBS3NCLEtBQ0R0QixLQUFLdUIsUUFDTHZCLEtBQUtzQixHQUFHbUIsS0FBS3pDLEtBQUt1QixRQUFTb2xDLEdBRzNCM21DLEtBQUtzQixHQUFHcWxDLElBR2hCLElBQUlDLEVBQVc1bUMsS0FBSzVHLEtBU3BCLE9BUkk0RyxLQUFLd0IsTUFDTHhCLEtBQUt1dUIsU0FBUSxHQUlidnVCLEtBQUt1L0IsYUFDTHYvQixLQUFLNUcsS0FBTyxNQUVUd3RDLENBQ1gsRUFNQUosRUFBZXZsQyxVQUFVNGxDLFFBQVUsU0FBVUgsR0FDekMxbUMsS0FBSzBtQyxTQUFXQSxFQUNaQSxFQUFTdHRDLE9BQ1RzdEMsRUFBU3R0QyxLQUFLc3RDLFNBQVcxbUMsTUFFN0JBLEtBQUs1RyxLQUFPc3RDLEVBQVN0dEMsS0FDckJzdEMsRUFBU3R0QyxLQUFPNEcsSUFDcEIsRUFRQXdtQyxFQUFldmxDLFVBQVVzdEIsUUFBVSxTQUFVdVksUUFDNUIsSUFBVEEsSUFBbUJBLEdBQU8sR0FDOUI5bUMsS0FBS3UvQixZQUFhLEVBQ2xCdi9CLEtBQUtzQixHQUFLLEtBQ1Z0QixLQUFLdUIsUUFBVSxLQUVYdkIsS0FBSzBtQyxXQUNMMW1DLEtBQUswbUMsU0FBU3R0QyxLQUFPNEcsS0FBSzVHLE1BRTFCNEcsS0FBSzVHLE9BQ0w0RyxLQUFLNUcsS0FBS3N0QyxTQUFXMW1DLEtBQUswbUMsVUFHOUIsSUFBSUUsRUFBVzVtQyxLQUFLNUcsS0FJcEIsT0FGQTRHLEtBQUs1RyxLQUFPMHRDLEVBQU8sS0FBT0YsRUFDMUI1bUMsS0FBSzBtQyxTQUFXLEtBQ1RFLENBQ1gsRUFDT0osQ0FDWCxDQXJHbUMsR0ErRy9CTyxHQUF3QixXQUN4QixTQUFTQSxJQUNMLElBQUk1SSxFQUFRbitCLEtBTVpBLEtBQUtnbkMsV0FBWSxFQU9qQmhuQyxLQUFLMm1DLFVBQVksRUFRakIzbUMsS0FBSzhWLFVBQVksRUFRakI5VixLQUFLaW5DLE1BQVEsRUFTYmpuQyxLQUFLa25DLFNBQVUsRUFFZmxuQyxLQUFLbW5DLFdBQWEsS0FLbEJubkMsS0FBS29uQyxjQUFnQixJQUtyQnBuQyxLQUFLcW5DLGNBQWdCLEVBRXJCcm5DLEtBQUtzbkMsWUFBYSxFQUVsQnRuQyxLQUFLdW5DLFlBQWMsRUFDbkJ2bkMsS0FBS3duQyxNQUFRLElBQUloQixHQUFlLEtBQU0sS0FBTXJvQyxLQUM1QzZCLEtBQUt5bkMsUUFBVSxFQUFJaHRCLEdBQVM4ckIsWUFDNUJ2bUMsS0FBSzBuQyxVQUFZLEVBQUlqdEIsR0FBUzhyQixZQUM5QnZtQyxLQUFLMm5DLE1BQVEsU0FBVUMsR0FDbkJ6SixFQUFNZ0osV0FBYSxLQUNmaEosRUFBTStJLFVBRU4vSSxFQUFNMEosT0FBT0QsR0FFVHpKLEVBQU0rSSxTQUFnQyxPQUFyQi9JLEVBQU1nSixZQUF1QmhKLEVBQU1xSixNQUFNcHVDLE9BQzFEK2tDLEVBQU1nSixXQUFhbnhCLHNCQUFzQm1vQixFQUFNd0osUUFHM0QsQ0FDSixDQXlYQSxPQWxYQVosRUFBTzlsQyxVQUFVNm1DLGlCQUFtQixXQUNSLE9BQXBCOW5DLEtBQUttbkMsWUFBdUJubkMsS0FBS3duQyxNQUFNcHVDLE9BRXZDNEcsS0FBSzhWLFNBQVd0QixZQUFZRixNQUM1QnRVLEtBQUt1bkMsV0FBYXZuQyxLQUFLOFYsU0FDdkI5VixLQUFLbW5DLFdBQWFueEIsc0JBQXNCaFcsS0FBSzJuQyxPQUVyRCxFQUtBWixFQUFPOWxDLFVBQVU4bUMsZ0JBQWtCLFdBQ1AsT0FBcEIvbkMsS0FBS21uQyxhQUNMbHhCLHFCQUFxQmpXLEtBQUttbkMsWUFDMUJubkMsS0FBS21uQyxXQUFhLEtBRTFCLEVBVUFKLEVBQU85bEMsVUFBVSttQyxpQkFBbUIsV0FDNUJob0MsS0FBS2tuQyxRQUNMbG5DLEtBQUs4bkMsbUJBRUE5bkMsS0FBS2duQyxXQUNWaG5DLEtBQUs1RixPQUViLEVBU0Eyc0MsRUFBTzlsQyxVQUFVNjRCLElBQU0sU0FBVXg0QixFQUFJQyxFQUFTa2xDLEdBRTFDLFlBRGlCLElBQWJBLElBQXVCQSxFQUFXaEMsR0FBZ0J2WixRQUMvQ2xyQixLQUFLaW9DLGFBQWEsSUFBSXpCLEdBQWVsbEMsRUFBSUMsRUFBU2tsQyxHQUM3RCxFQVFBTSxFQUFPOWxDLFVBQVVpbkMsUUFBVSxTQUFVNW1DLEVBQUlDLEVBQVNrbEMsR0FFOUMsWUFEaUIsSUFBYkEsSUFBdUJBLEVBQVdoQyxHQUFnQnZaLFFBQy9DbHJCLEtBQUtpb0MsYUFBYSxJQUFJekIsR0FBZWxsQyxFQUFJQyxFQUFTa2xDLEdBQVUsR0FDdkUsRUFTQU0sRUFBTzlsQyxVQUFVZ25DLGFBQWUsU0FBVXBtQyxHQUV0QyxJQUFJc21DLEVBQVVub0MsS0FBS3duQyxNQUFNcHVDLEtBQ3JCc3RDLEVBQVcxbUMsS0FBS3duQyxNQUVwQixHQUFLVyxFQUdBLENBRUQsS0FBT0EsR0FBUyxDQUNaLEdBQUl0bUMsRUFBUzRrQyxTQUFXMEIsRUFBUTFCLFNBQVUsQ0FDdEM1a0MsRUFBU2dsQyxRQUFRSCxHQUNqQixLQUNKLENBQ0FBLEVBQVd5QixFQUNYQSxFQUFVQSxFQUFRL3VDLElBQ3RCLENBRUt5SSxFQUFTNmtDLFVBQ1Y3a0MsRUFBU2dsQyxRQUFRSCxFQUV6QixNQWhCSTdrQyxFQUFTZ2xDLFFBQVFILEdBa0JyQixPQURBMW1DLEtBQUtnb0MsbUJBQ0Vob0MsSUFDWCxFQVFBK21DLEVBQU85bEMsVUFBVWlrQyxPQUFTLFNBQVU1akMsRUFBSUMsR0FFcEMsSUFEQSxJQUFJTSxFQUFXN0IsS0FBS3duQyxNQUFNcHVDLEtBQ25CeUksR0FLQ0EsRUFEQUEsRUFBU2dNLE1BQU12TSxFQUFJQyxHQUNSTSxFQUFTMHNCLFVBR1Qxc0IsRUFBU3pJLEtBTTVCLE9BSEs0RyxLQUFLd25DLE1BQU1wdUMsTUFDWjRHLEtBQUsrbkMsa0JBRUYvbkMsSUFDWCxFQUNBZ0IsT0FBT2tRLGVBQWU2MUIsRUFBTzlsQyxVQUFXLFFBQVMsQ0FNN0NtUSxJQUFLLFdBQ0QsSUFBS3BSLEtBQUt3bkMsTUFDTixPQUFPLEVBSVgsSUFGQSxJQUFJWSxFQUFRLEVBQ1JELEVBQVVub0MsS0FBS3duQyxNQUNYVyxFQUFVQSxFQUFRL3VDLE1BQ3RCZ3ZDLElBRUosT0FBT0EsQ0FDWCxFQUNBajNCLFlBQVksRUFDWmdlLGNBQWMsSUFHbEI0WCxFQUFPOWxDLFVBQVU3RyxNQUFRLFdBQ2hCNEYsS0FBS2tuQyxVQUNObG5DLEtBQUtrbkMsU0FBVSxFQUNmbG5DLEtBQUs4bkMsbUJBRWIsRUFFQWYsRUFBTzlsQyxVQUFVbEYsS0FBTyxXQUNoQmlFLEtBQUtrbkMsVUFDTGxuQyxLQUFLa25DLFNBQVUsRUFDZmxuQyxLQUFLK25DLGtCQUViLEVBRUFoQixFQUFPOWxDLFVBQVVzdEIsUUFBVSxXQUN2QixJQUFLdnVCLEtBQUtzbkMsV0FBWSxDQUNsQnRuQyxLQUFLakUsT0FFTCxJQURBLElBQUk4RixFQUFXN0IsS0FBS3duQyxNQUFNcHVDLEtBQ25CeUksR0FDSEEsRUFBV0EsRUFBUzBzQixTQUFRLEdBRWhDdnVCLEtBQUt3bkMsTUFBTWpaLFVBQ1h2dUIsS0FBS3duQyxNQUFRLElBQ2pCLENBQ0osRUFhQVQsRUFBTzlsQyxVQUFVNG1DLE9BQVMsU0FBVTN4QixHQUVoQyxJQUFJd3hCLEVBZUosUUFoQm9CLElBQWhCeHhCLElBQTBCQSxFQUFjMUIsWUFBWUYsT0FnQnBENEIsRUFBY2xXLEtBQUs4VixTQUFVLENBVzdCLElBVEE0eEIsRUFBWTFuQyxLQUFLMG5DLFVBQVl4eEIsRUFBY2xXLEtBQUs4VixVQUVoQzlWLEtBQUtvbkMsZ0JBQ2pCTSxFQUFZMW5DLEtBQUtvbkMsZUFFckJNLEdBQWExbkMsS0FBS2luQyxNQUlkam5DLEtBQUtxbkMsY0FBZSxDQUNwQixJQUFJdi9CLEVBQVFvTyxFQUFjbFcsS0FBS3VuQyxXQUFhLEVBQzVDLEdBQUl6L0IsRUFBUTlILEtBQUtxbkMsY0FDYixPQUVKcm5DLEtBQUt1bkMsV0FBYXJ4QixFQUFlcE8sRUFBUTlILEtBQUtxbkMsYUFDbEQsQ0FDQXJuQyxLQUFLeW5DLFFBQVVDLEVBQ2YxbkMsS0FBSzJtQyxVQUFZM21DLEtBQUt5bkMsUUFBVWh0QixHQUFTOHJCLFlBTXpDLElBSEEsSUFBSThCLEVBQU9yb0MsS0FBS3duQyxNQUVaM2xDLEVBQVd3bUMsRUFBS2p2QyxLQUNieUksR0FDSEEsRUFBV0EsRUFBU3NCLEtBQUtuRCxLQUFLMm1DLFdBRTdCMEIsRUFBS2p2QyxNQUNONEcsS0FBSytuQyxpQkFFYixNQUVJL25DLEtBQUsybUMsVUFBWTNtQyxLQUFLeW5DLFFBQVV6bkMsS0FBSzBuQyxVQUFZLEVBRXJEMW5DLEtBQUs4VixTQUFXSSxDQUNwQixFQUNBbFYsT0FBT2tRLGVBQWU2MUIsRUFBTzlsQyxVQUFXLE1BQU8sQ0FVM0NtUSxJQUFLLFdBQ0QsT0FBTyxJQUFPcFIsS0FBSzBuQyxTQUN2QixFQUNBdjJCLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWU2MUIsRUFBTzlsQyxVQUFXLFNBQVUsQ0FXOUNtUSxJQUFLLFdBQ0QsT0FBTyxJQUFPcFIsS0FBS29uQyxhQUN2QixFQUNBbFksSUFBSyxTQUFVb1osR0FFWCxJQUFJQyxFQUFTdHVDLEtBQUt3RixJQUFJTyxLQUFLd29DLE9BQVFGLEdBRS9CRyxFQUFVeHVDLEtBQUt3RixJQUFJeEYsS0FBS0MsSUFBSSxFQUFHcXVDLEdBQVUsSUFBTTl0QixHQUFTOHJCLGFBQzVEdm1DLEtBQUtvbkMsY0FBZ0IsRUFBSXFCLENBQzdCLEVBQ0F0M0IsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZTYxQixFQUFPOWxDLFVBQVcsU0FBVSxDQVU5Q21RLElBQUssV0FDRCxPQUFJcFIsS0FBS3FuQyxjQUNFcHRDLEtBQUtnMUIsTUFBTSxJQUFPanZCLEtBQUtxbkMsZUFFM0IsQ0FDWCxFQUNBblksSUFBSyxTQUFVb1osR0FDWCxHQUFZLElBQVJBLEVBQ0F0b0MsS0FBS3FuQyxjQUFnQixNQUVwQixDQUVELElBQUltQixFQUFTdnVDLEtBQUtDLElBQUk4RixLQUFLdW9DLE9BQVFELEdBQ25DdG9DLEtBQUtxbkMsY0FBZ0IsR0FBS21CLEVBQVMsSUFDdkMsQ0FDSixFQUNBcjNCLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWU2MUIsRUFBUSxTQUFVLENBd0NwQzMxQixJQUFLLFdBQ0QsSUFBSzIxQixFQUFPMkIsUUFBUyxDQUNqQixJQUFJQyxFQUFTNUIsRUFBTzJCLFFBQVUsSUFBSTNCLEVBQ2xDNEIsRUFBTzNCLFdBQVksRUFDbkIyQixFQUFPckIsWUFBYSxDQUN4QixDQUNBLE9BQU9QLEVBQU8yQixPQUNsQixFQUNBdjNCLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWU2MUIsRUFBUSxTQUFVLENBVXBDMzFCLElBQUssV0FDRCxJQUFLMjFCLEVBQU82QixRQUFTLENBQ2pCLElBQUlDLEVBQVM5QixFQUFPNkIsUUFBVSxJQUFJN0IsRUFDbEM4QixFQUFPN0IsV0FBWSxFQUNuQjZCLEVBQU92QixZQUFhLENBQ3hCLENBQ0EsT0FBT1AsRUFBTzZCLE9BQ2xCLEVBQ0F6M0IsWUFBWSxFQUNaZ2UsY0FBYyxJQUVYNFgsQ0FDWCxDQWpjMkIsR0E2Y3ZCK0IsR0FBOEIsV0FDOUIsU0FBU0EsSUFDVCxDQWtGQSxPQTNFQUEsRUFBYXBRLEtBQU8sU0FBVTV1QixHQUMxQixJQUFJcTBCLEVBQVFuK0IsS0FFWjhKLEVBQVU5SSxPQUFPcUQsT0FBTyxDQUNwQjJpQyxXQUFXLEVBQ1grQixjQUFjLEdBQ2ZqL0IsR0FFSDlJLE9BQU9rUSxlQUFlbFIsS0FBTSxTQUFVLENBQ2xDa3ZCLElBQUssU0FBVThaLEdBQ1BocEMsS0FBS2lwQyxTQUNManBDLEtBQUtpcEMsUUFBUS9ELE9BQU9sbEMsS0FBSzBqQyxPQUFRMWpDLE1BRXJDQSxLQUFLaXBDLFFBQVVELEVBQ1hBLEdBQ0FBLEVBQU9sUCxJQUFJOTVCLEtBQUswakMsT0FBUTFqQyxLQUFNeWtDLEdBQWdCeUUsSUFFdEQsRUFDQTkzQixJQUFLLFdBQ0QsT0FBT3BSLEtBQUtpcEMsT0FDaEIsSUFRSmpwQyxLQUFLakUsS0FBTyxXQUNSb2lDLEVBQU04SyxRQUFRbHRDLE1BQ2xCLEVBT0FpRSxLQUFLNUYsTUFBUSxXQUNUK2pDLEVBQU04SyxRQUFRN3VDLE9BQ2xCLEVBUUE0RixLQUFLaXBDLFFBQVUsS0FRZmpwQyxLQUFLZ3BDLE9BQVNsL0IsRUFBUWkvQixhQUFlaEMsR0FBTzRCLE9BQVMsSUFBSTVCLEdBRXJEajlCLEVBQVFrOUIsV0FDUmhuQyxLQUFLNUYsT0FFYixFQU1BMHVDLEVBQWF2YSxRQUFVLFdBQ25CLEdBQUl2dUIsS0FBS2lwQyxRQUFTLENBQ2QsSUFBSUUsRUFBWW5wQyxLQUFLaXBDLFFBQ3JCanBDLEtBQUtncEMsT0FBUyxLQUNkRyxFQUFVNWEsU0FDZCxDQUNKLEVBRUF1YSxFQUFhbkUsVUFBWUosR0FBYzZFLFlBQ2hDTixDQUNYLENBckZpQyxHRS9rQmpDcnVCLEdBQVM0dUIsV0FBYXB3QixHQUFTc0IsSUFBTTdGLEVBQUk0MEIsTUFBUTUwQixFQUFJNjBCLE9BZ0JyRDl1QixHQUFTK3VCLHNCQUF1QixFQTJCaEMsSUFBSUMsR0FBWSxHQStCaEIsU0FBU0MsR0FBbUJya0MsRUFBUXlFLEdBQ2hDLElBQUt6RSxFQUNELE9BQU8sS0FFWCxJQUFJcy9CLEVBQVksR0FDaEIsR0FBc0IsaUJBQVh0L0IsRUFBcUIsQ0FFNUIsSUFBSTVFLEVBQVMseUJBQTJCaU4sS0FBS3JJLEdBQ3pDNUUsSUFDQWtrQyxFQUFZbGtDLEVBQU8sR0FBRytJLGNBRTlCLENBQ0EsSUFBSyxJQUFJbFEsRUFBSW13QyxHQUFVMXdDLE9BQVMsRUFBR08sR0FBSyxJQUFLQSxFQUFHLENBQzVDLElBQUlxd0MsRUFBaUJGLEdBQVVud0MsR0FDL0IsR0FBSXF3QyxFQUFlcGdDLE1BQVFvZ0MsRUFBZXBnQyxLQUFLbEUsRUFBUXMvQixHQUNuRCxPQUFPLElBQUlnRixFQUFldGtDLEVBQVF5RSxFQUUxQyxDQUNBLE1BQU0sSUFBSTBpQixNQUFNLG1EQUNwQixDQWtCQSxJQUFJLEdBQWdCLFNBQVMxckIsRUFBR3pFLEdBSTVCLE9BSEEsR0FBZ0IyRSxPQUFPODhCLGdCQUNsQixDQUFFMTdCLFVBQVcsY0FBZ0JhLE9BQVMsU0FBVW5DLEVBQUd6RSxHQUFLeUUsRUFBRXNCLFVBQVkvRixDQUFHLEdBQzFFLFNBQVV5RSxFQUFHekUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTZFLGVBQWVwRyxLQUFNZ0csRUFBRWhHLEdBQUt1QixFQUFFdkIsR0FBUSxFQUM5RSxHQUFjZ0csRUFBR3pFLEVBQzVCLEVBRUEsU0FBUyxHQUFVeUUsRUFBR3pFLEdBRWxCLFNBQVMyaEMsSUFBT2grQixLQUFLd1QsWUFBYzFTLENBQUcsQ0FEdEMsR0FBY0EsRUFBR3pFLEdBRWpCeUUsRUFBRUcsVUFBa0IsT0FBTjVFLEVBQWEyRSxPQUFPbUIsT0FBTzlGLElBQU0yaEMsRUFBRy84QixVQUFZNUUsRUFBRTRFLFVBQVcsSUFBSSs4QixFQUNuRixDQUVBLElBQUksR0FBVyxXQVVYLE9BVEEsR0FBV2g5QixPQUFPcUQsUUFBVSxTQUFrQnFFLEdBRzFDLElBRkEsSUFFU2pELEVBRkxxWixFQUFjcmIsVUFFTm5LLEVBQUksRUFBRzhELEVBQUlxRyxVQUFVMUssT0FBUU8sRUFBSThELEVBQUc5RCxJQUU1QyxJQUFLLElBQUl3QixLQURUMkssRUFBSXFaLEVBQVl4bEIsR0FDTzBILE9BQU9DLFVBQVVDLGVBQWV1QixLQUFLZ0QsRUFBRzNLLEtBQU00TixFQUFFNU4sR0FBSzJLLEVBQUUzSyxJQUVsRixPQUFPNE4sQ0FDWCxFQUNPLEdBQVM5RSxNQUFNNUQsS0FBTXlELFVBQ2hDLEVBb0JJbW1DLEdBQTBCLFdBSzFCLFNBQVNBLEVBQVM1eUIsRUFBT0MsUUFDUCxJQUFWRCxJQUFvQkEsRUFBUSxRQUNqQixJQUFYQyxJQUFxQkEsRUFBUyxHQUNsQ2pYLEtBQUtva0MsT0FBU3B0QixFQUNkaFgsS0FBS3FrQyxRQUFVcHRCLEVBQ2ZqWCxLQUFLNnBDLFdBQVksRUFDakI3cEMsS0FBSzhwQyxVQUFXLEVBQ2hCOXBDLEtBQUsrcEMsU0FBVyxJQUFJcEUsR0FBTyxlQUMzQjNsQyxLQUFLZ3FDLFNBQVcsSUFBSXJFLEdBQU8sVUFDM0IzbEMsS0FBS2lxQyxRQUFVLElBQUl0RSxHQUFPLFVBQzlCLENBMkhBLE9BdEhBaUUsRUFBUzNvQyxVQUFVaXBDLEtBQU8sU0FBVUMsR0FDaENucUMsS0FBSytwQyxTQUFTalEsSUFBSXFRLEdBQ2xCbnFDLEtBQUtncUMsU0FBU2xRLElBQUlxUSxHQUNsQm5xQyxLQUFLaXFDLFFBQVFuUSxJQUFJcVEsSUFHYm5xQyxLQUFLb2tDLFFBQVVwa0MsS0FBS3FrQyxVQUNwQnJrQyxLQUFLK3BDLFNBQVM1bUMsS0FBS25ELEtBQUtva0MsT0FBUXBrQyxLQUFLcWtDLFFBRTdDLEVBS0F1RixFQUFTM29DLFVBQVVtcEMsT0FBUyxTQUFVRCxHQUNsQ25xQyxLQUFLK3BDLFNBQVM3RSxPQUFPaUYsR0FDckJucUMsS0FBS2dxQyxTQUFTOUUsT0FBT2lGLEdBQ3JCbnFDLEtBQUtpcUMsUUFBUS9FLE9BQU9pRixFQUN4QixFQU1BUCxFQUFTM29DLFVBQVUwdEIsT0FBUyxTQUFVM1gsRUFBT0MsR0FDckNELElBQVVoWCxLQUFLb2tDLFFBQVVudEIsSUFBV2pYLEtBQUtxa0MsVUFDekNya0MsS0FBS29rQyxPQUFTcHRCLEVBQ2RoWCxLQUFLcWtDLFFBQVVwdEIsRUFDZmpYLEtBQUsrcEMsU0FBUzVtQyxLQUFLNlQsRUFBT0MsR0FFbEMsRUFDQWpXLE9BQU9rUSxlQUFlMDRCLEVBQVMzb0MsVUFBVyxRQUFTLENBSy9DbVEsSUFBSyxXQUNELFFBQVNwUixLQUFLb2tDLFVBQVlwa0MsS0FBS3FrQyxPQUNuQyxFQUNBbHpCLFlBQVksRUFDWmdlLGNBQWMsSUFHbEJ5YSxFQUFTM29DLFVBQVU0bUMsT0FBUyxXQUNuQjduQyxLQUFLNnBDLFdBQ043cEMsS0FBS2dxQyxTQUFTN21DLE1BRXRCLEVBT0F5bUMsRUFBUzNvQyxVQUFVb3BDLEtBQU8sV0FDdEIsT0FBT2oyQixRQUFRckksUUFBUS9MLEtBQzNCLEVBQ0FnQixPQUFPa1EsZUFBZTA0QixFQUFTM29DLFVBQVcsUUFBUyxDQUsvQ21RLElBQUssV0FDRCxPQUFPcFIsS0FBS29rQyxNQUNoQixFQUNBanpCLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWUwNEIsRUFBUzNvQyxVQUFXLFNBQVUsQ0FLaERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtxa0MsT0FDaEIsRUFDQWx6QixZQUFZLEVBQ1pnZSxjQUFjLElBU2xCeWEsRUFBUzNvQyxVQUFVcXBDLE1BQVEsU0FBVXJHLEVBQVdzRyxFQUFjQyxHQUMxRCxPQUFPLENBQ1gsRUFFQVosRUFBUzNvQyxVQUFVd3BDLFFBQVUsV0FFN0IsRUFNQWIsRUFBUzNvQyxVQUFVc3RCLFFBQVUsV0FDcEJ2dUIsS0FBSzZwQyxZQUNON3BDLEtBQUs2cEMsV0FBWSxFQUNqQjdwQyxLQUFLeXFDLFVBQ0x6cUMsS0FBS2lxQyxRQUFROUQsWUFDYm5tQyxLQUFLaXFDLFFBQVUsS0FDZmpxQyxLQUFLK3BDLFNBQVM1RCxZQUNkbm1DLEtBQUsrcEMsU0FBVyxLQUNoQi9wQyxLQUFLZ3FDLFNBQVM3RCxZQUNkbm1DLEtBQUtncUMsU0FBVyxLQUV4QixFQU1BSixFQUFTcmdDLEtBQU8sU0FBVW1oQyxFQUFTQyxHQUMvQixPQUFPLENBQ1gsRUFDT2YsQ0FDWCxDQTNJNkIsR0FvSnpCZ0IsR0FBZ0MsU0FBVTFNLEdBUTFDLFNBQVMwTSxFQUFldmxDLEVBQVF5RSxHQUM1QixJQUFJcTBCLEVBQVFuK0IsS0FDUjBYLEVBQUs1TixHQUFXLENBQUMsRUFBR2tOLEVBQVFVLEVBQUdWLE1BQU9DLEVBQVNTLEVBQUdULE9BQ3RELElBQUtELElBQVVDLEVBQ1gsTUFBTSxJQUFJdVYsTUFBTSwwQ0FJcEIsT0FGQTJSLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU1nWCxFQUFPQyxJQUFXalgsTUFDdEM1SCxLQUFPaU4sRUFDTjg0QixDQUNYLENBcUNBLE9BckRBLEdBQVV5TSxFQUFnQjFNLEdBd0IxQjBNLEVBQWUzcEMsVUFBVTRwQyxPQUFTLFNBQVV4SCxFQUFVOEcsRUFBYVcsR0FDL0QsSUFBSW5xQixFQUFLMGlCLEVBQVMxaUIsR0FDbEJBLEVBQUdvcUIsWUFBWXBxQixFQUFHcXFCLCtCQUFnQ2IsRUFBWWMsWUFBYzMxQixFQUFZNDFCLFFBQ3hGLElBQUlsMEIsRUFBUW16QixFQUFZZ0IsVUFDcEJsMEIsRUFBU2t6QixFQUFZaUIsV0FTekIsT0FSSU4sRUFBVTl6QixRQUFVQSxHQUFTOHpCLEVBQVU3ekIsU0FBV0EsRUFDbEQwSixFQUFHMHFCLGNBQWNsQixFQUFZL2tDLE9BQVEsRUFBRyxFQUFHLEVBQUc0UixFQUFPQyxFQUFRa3pCLEVBQVlsK0IsT0FBUTYrQixFQUFVbGtDLEtBQU01RyxLQUFLNUgsT0FHdEcweUMsRUFBVTl6QixNQUFRQSxFQUNsQjh6QixFQUFVN3pCLE9BQVNBLEVBQ25CMEosRUFBRzJxQixXQUFXbkIsRUFBWS9rQyxPQUFRLEVBQUcwbEMsRUFBVVMsZUFBZ0J2MEIsRUFBT0MsRUFBUSxFQUFHa3pCLEVBQVlsK0IsT0FBUTYrQixFQUFVbGtDLEtBQU01RyxLQUFLNUgsUUFFdkgsQ0FDWCxFQUVBd3lDLEVBQWUzcEMsVUFBVXdwQyxRQUFVLFdBQy9CenFDLEtBQUs1SCxLQUFPLElBQ2hCLEVBTUF3eUMsRUFBZXJoQyxLQUFPLFNBQVVsRSxHQUM1QixPQUFPQSxhQUFrQm9SLGNBQ2xCcFIsYUFBa0J1UixZQUNsQnZSLGFBQWtCcVIsV0FDN0IsRUFDT2swQixDQUNYLENBdkRtQyxDQXVEakNoQixJQUVFNEIsR0FBdUIsQ0FDdkJDLFVBQVd0MkIsRUFBWXUyQixRQUN2QnovQixPQUFROEksRUFBUTQyQixLQUNoQlYsVUFBVzMxQixFQUFZczJCLEtBVXZCQyxHQUE2QixTQUFVM04sR0FxQnZDLFNBQVMyTixFQUFZQyxFQUFVaGlDLFFBQ1YsSUFBYmdpQyxJQUF1QkEsRUFBVyxXQUN0QixJQUFaaGlDLElBQXNCQSxFQUFVLE1BQ3BDLElBQUlxMEIsRUFBUUQsRUFBT3o3QixLQUFLekMsT0FBU0EsS0FFN0JpckMsR0FESm5oQyxFQUFVQSxHQUFXLENBQUMsR0FDRW1oQyxVQUFXYyxFQUFTamlDLEVBQVFpaUMsT0FBUUMsRUFBbUJsaUMsRUFBUWtpQyxpQkFBa0JQLEVBQVkzaEMsRUFBUTJoQyxVQUFXejBCLEVBQVFsTixFQUFRa04sTUFBT0MsRUFBU25OLEVBQVFtTixPQUFRZzFCLEVBQVduaUMsRUFBUW1pQyxTQUFVaGdDLEVBQVNuQyxFQUFRbUMsT0FBUXJGLEVBQU9rRCxFQUFRbEQsS0FBTXhCLEVBQVMwRSxFQUFRMUUsT0FBUXNwQixFQUFhNWtCLEVBQVE0a0IsV0FBWXdkLEVBQWtCcGlDLEVBQVFvaUMsZ0JBaUV2VixPQS9ESUosR0FBY0EsYUFBb0JsQyxNQUNsQ2tDLEVBQVdwQyxHQUFtQm9DLEVBQVVJLElBQy9CcEMsVUFBVyxHQUV4QjNMLEVBQU16UCxXQUFhQSxHQUFjalUsR0FBU0ssV0FDMUNxakIsRUFBTW5uQixNQUFRL2MsS0FBS2cxQixPQUFPalksR0FBUyxHQUFLbW5CLEVBQU16UCxZQUFjeVAsRUFBTXpQLFdBQ2xFeVAsRUFBTWxuQixPQUFTaGQsS0FBS2cxQixPQUFPaFksR0FBVSxHQUFLa25CLEVBQU16UCxZQUFjeVAsRUFBTXpQLFdBQ3BFeVAsRUFBTWdPLGFBQXFCeG9DLElBQVhvb0MsRUFBdUJBLEVBQVN0eEIsR0FBU0UsZ0JBQ3pEd2pCLEVBQU02TixzQkFBd0Nyb0MsSUFBckJxb0MsRUFBaUNBLEVBQW1CdnhCLEdBQVNJLGtCQUN0RnNqQixFQUFNaU8sVUFBWUgsR0FBWXh4QixHQUFTNEIsVUFDdkM4aEIsRUFBTWtPLGdCQUEyQjFvQyxJQUFkOG5DLEVBQTBCQSxFQUFZaHhCLEdBQVM4QixXQUNsRTRoQixFQUFNbHlCLE9BQVNBLEdBQVU4SSxFQUFRNDJCLEtBQ2pDeE4sRUFBTXYzQixLQUFPQSxHQUFRcU8sRUFBTXEzQixjQUMzQm5PLEVBQU0vNEIsT0FBU0EsR0FBVTRQLEVBQVF1M0IsV0FDakNwTyxFQUFNOE0sZUFBMEJ0bkMsSUFBZHNuQyxFQUEwQkEsRUFBWTMxQixFQUFZNDFCLE9BQ3BFL00sRUFBTXpRLElBQU1BLEtBQ1p5USxFQUFNcU8sUUFBVSxFQUNoQnJPLEVBQU1zTyxjQUFlLEVBQ3JCdE8sRUFBTXVPLGNBQ052TyxFQUFNd08sWUFBYyxDQUFDLEVBQ3JCeE8sRUFBTXlPLFFBQVUsRUFDaEJ6TyxFQUFNME8sYUFBZSxFQUNyQjFPLEVBQU0yTyxRQUFVLEtBQ2hCM08sRUFBTTRPLE1BQVEvMUIsRUFBUSxHQUFLQyxFQUFTLEVBQ3BDa25CLEVBQU02TyxnQkFBa0IsR0FDeEI3TyxFQUFNMEwsV0FBWSxFQUNsQjFMLEVBQU0yTixTQUFXLEtBQ2pCM04sRUFBTThPLGNBQWdCLEVBQ3RCOU8sRUFBTStPLGVBQWlCLEVBQ3ZCL08sRUFBTWdQLG1CQUFxQixLQWlDM0JoUCxFQUFNaVAsWUFBWXRCLEdBQ1gzTixDQUNYLENBeVVBLE9BcGFBLEdBQVUwTixFQUFhM04sR0E0RnZCbDlCLE9BQU9rUSxlQUFlMjZCLEVBQVk1cUMsVUFBVyxZQUFhLENBS3REbVEsSUFBSyxXQUNELE9BQU9uWCxLQUFLZzFCLE1BQU1qdkIsS0FBS2dYLE1BQVFoWCxLQUFLMHVCLFdBQ3hDLEVBQ0F2ZCxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlMjZCLEVBQVk1cUMsVUFBVyxhQUFjLENBS3ZEbVEsSUFBSyxXQUNELE9BQU9uWCxLQUFLZzFCLE1BQU1qdkIsS0FBS2lYLE9BQVNqWCxLQUFLMHVCLFdBQ3pDLEVBQ0F2ZCxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlMjZCLEVBQVk1cUMsVUFBVyxTQUFVLENBS25EbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLbXNDLE9BQ2hCLEVBQ0FqZCxJQUFLLFNBQVU5bkIsR0FDUHBILEtBQUttc0MsVUFBWS9rQyxJQUNqQnBILEtBQUttc0MsUUFBVS9rQyxFQUNmcEgsS0FBSzZzQyxlQUViLEVBQ0ExN0IsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZTI2QixFQUFZNXFDLFVBQVcsWUFBYSxDQUt0RG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3FzQyxVQUNoQixFQUNBbmQsSUFBSyxTQUFVOW5CLEdBQ1BwSCxLQUFLcXNDLGFBQWVqbEMsSUFDcEJwSCxLQUFLcXNDLFdBQWFqbEMsRUFDbEJwSCxLQUFLNnNDLGVBRWIsRUFDQTE3QixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlMjZCLEVBQVk1cUMsVUFBVyxXQUFZLENBS3JEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLb3NDLFNBQ2hCLEVBQ0FsZCxJQUFLLFNBQVU5bkIsR0FDUHBILEtBQUtvc0MsWUFBY2hsQyxJQUNuQnBILEtBQUtvc0MsVUFBWWhsQyxFQUNqQnBILEtBQUs2c0MsZUFFYixFQUNBMTdCLFlBQVksRUFDWmdlLGNBQWMsSUFRbEIwYyxFQUFZNXFDLFVBQVVvc0MsU0FBVyxTQUFVNUIsRUFBV00sR0FDbEQsSUFBSXVCLEVBWUosWUFYa0IzcEMsSUFBZDhuQyxHQUEyQkEsSUFBY3pyQyxLQUFLeXJDLFlBQzlDenJDLEtBQUt5ckMsVUFBWUEsRUFDakI2QixHQUFRLFFBRUczcEMsSUFBWG9vQyxHQUF3QkEsSUFBVy9yQyxLQUFLK3JDLFNBQ3hDL3JDLEtBQUsrckMsT0FBU0EsRUFDZHVCLEdBQVEsR0FFUkEsR0FDQXR0QyxLQUFLNnNDLGVBRUY3c0MsSUFDWCxFQVFBNnJDLEVBQVk1cUMsVUFBVXNzQyxRQUFVLFNBQVV4ZSxFQUFjQyxFQUFlTixHQUVuRSxPQURBQSxFQUFhQSxHQUFjMXVCLEtBQUswdUIsV0FDekIxdUIsS0FBS3d0QyxZQUFZemUsRUFBZUwsRUFBWU0sRUFBZ0JOLEVBQVlBLEVBQ25GLEVBUUFtZCxFQUFZNXFDLFVBQVV1c0MsWUFBYyxTQUFVckMsRUFBV0MsRUFBWTFjLEdBTWpFLE9BTEExdUIsS0FBSzB1QixXQUFhQSxHQUFjMXVCLEtBQUswdUIsV0FDckMxdUIsS0FBS2dYLE1BQVEvYyxLQUFLZzFCLE1BQU1rYyxHQUFhbnJDLEtBQUswdUIsV0FDMUMxdUIsS0FBS2lYLE9BQVNoZCxLQUFLZzFCLE1BQU1tYyxHQUFjcHJDLEtBQUswdUIsV0FDNUMxdUIsS0FBSzBzQyxjQUNMMXNDLEtBQUs2bkMsU0FDRTduQyxJQUNYLEVBS0E2ckMsRUFBWTVxQyxVQUFVeXJDLFlBQWMsV0FDaEMxc0MsS0FBS3lzQyxhQUFlcmYsR0FBT3B0QixLQUFLbXJDLFlBQWMvZCxHQUFPcHRCLEtBQUtvckMsV0FDOUQsRUFNQVMsRUFBWTVxQyxVQUFVd3NDLGNBQWdCLFNBQVUvZSxHQUM1QyxJQUFJZ2YsRUFBZ0IxdEMsS0FBSzB1QixXQUN6QixPQUFJZ2YsSUFBa0JoZixJQUd0QjF1QixLQUFLMHVCLFdBQWFBLEVBQ2QxdUIsS0FBSytzQyxRQUNML3NDLEtBQUtnWCxNQUFRL2MsS0FBS2cxQixNQUFNanZCLEtBQUtnWCxNQUFRMDJCLEdBQWlCaGYsRUFDdEQxdUIsS0FBS2lYLE9BQVNoZCxLQUFLZzFCLE1BQU1qdkIsS0FBS2lYLE9BQVN5MkIsR0FBaUJoZixFQUN4RDF1QixLQUFLbUQsS0FBSyxTQUFVbkQsT0FFeEJBLEtBQUswc0MsZUFSTTFzQyxJQVVmLEVBTUE2ckMsRUFBWTVxQyxVQUFVbXNDLFlBQWMsU0FBVXRCLEdBQzFDLEdBQUk5ckMsS0FBSzhyQyxXQUFhQSxFQUNsQixPQUFPOXJDLEtBRVgsR0FBSUEsS0FBSzhyQyxTQUNMLE1BQU0sSUFBSXRmLE1BQU0saUNBSXBCLE9BRkFzZixFQUFTNUIsS0FBS2xxQyxNQUNkQSxLQUFLOHJDLFNBQVdBLEVBQ1Q5ckMsSUFDWCxFQUVBNnJDLEVBQVk1cUMsVUFBVTRtQyxPQUFTLFdBQ3RCN25DLEtBQUsrc0MsT0FRTi9zQyxLQUFLNHNDLFVBQ0w1c0MsS0FBSzZzQyxlQUNMN3NDLEtBQUttRCxLQUFLLFNBQVVuRCxPQVRoQkEsS0FBS2dYLE1BQVEsR0FBS2hYLEtBQUtpWCxPQUFTLElBQ2hDalgsS0FBSytzQyxPQUFRLEVBQ2Ivc0MsS0FBS21ELEtBQUssU0FBVW5ELE1BQ3BCQSxLQUFLbUQsS0FBSyxTQUFVbkQsTUFRaEMsRUFNQTZyQyxFQUFZNXFDLFVBQVVncEMsUUFBVSxTQUFVdG9DLEdBQ3RDM0IsS0FBS21ELEtBQUssUUFBU25ELEtBQU0yQixFQUM3QixFQU1Ba3FDLEVBQVk1cUMsVUFBVXN0QixRQUFVLFdBRXhCdnVCLEtBQUs4ckMsV0FDTDlyQyxLQUFLOHJDLFNBQVMxQixPQUFPcHFDLE1BRWpCQSxLQUFLOHJDLFNBQVNoQyxVQUNkOXBDLEtBQUs4ckMsU0FBU3ZkLFVBRWxCdnVCLEtBQUs4ckMsU0FBVyxNQUVoQjlyQyxLQUFLOHNDLGlCQUNFemUsR0FBaUJydUIsS0FBSzhzQyxnQkFDdEIxZSxHQUFhcHVCLEtBQUs4c0MsU0FDekI5c0MsS0FBSzhzQyxRQUFVLE1BR25COXNDLEtBQUt5cUMsVUFDTG9CLEVBQVk4QixnQkFBZ0IzdEMsTUFDNUJBLEtBQUtndEMsZ0JBQWtCLEtBQ3ZCaHRDLEtBQUs2cEMsV0FBWSxDQUNyQixFQU9BZ0MsRUFBWTVxQyxVQUFVd3BDLFFBQVUsV0FDNUJ6cUMsS0FBS21ELEtBQUssVUFBV25ELEtBQ3pCLEVBRUE2ckMsRUFBWTVxQyxVQUFVMnNDLGtCQUFvQixXQUN0QyxPQUFPNXRDLElBQ1gsRUFjQTZyQyxFQUFZdm1DLEtBQU8sU0FBVUQsRUFBUXlFLEVBQVMrakMsUUFDM0IsSUFBWEEsSUFBcUJBLEVBQVNwekIsR0FBUyt1QixzQkFDM0MsSUFBSXNFLEVBQTRCLGlCQUFYem9DLEVBQ2pCeW5DLEVBQVUsS0FDZCxHQUFJZ0IsRUFDQWhCLEVBQVV6bkMsTUFFVCxDQUNELElBQUtBLEVBQU8wb0MsUUFBUyxDQUNqQixJQUFJNXNDLEVBQVUySSxHQUFXQSxFQUFRa2tDLGNBQWlCLFNBQ2xEM29DLEVBQU8wb0MsUUFBVTVzQyxFQUFTLElBQU11c0IsSUFDcEMsQ0FDQW9mLEVBQVV6bkMsRUFBTzBvQyxPQUNyQixDQUNBLElBQUk1RCxFQUFjOWIsR0FBaUJ5ZSxHQUVuQyxHQUFJZ0IsR0FBV0QsSUFBVzFELEVBQ3RCLE1BQU0sSUFBSTNkLE1BQU0sZ0JBQW1Cc2dCLEVBQVUseUNBT2pELE9BTEszQyxLQUNEQSxFQUFjLElBQUkwQixFQUFZeG1DLEVBQVF5RSxJQUMxQmdqQyxRQUFVQSxFQUN0QmpCLEVBQVlvQyxXQUFXOUQsRUFBYTJDLElBRWpDM0MsQ0FDWCxFQWVBMEIsRUFBWXFDLFdBQWEsU0FBVWpoQixFQUFRalcsRUFBT0MsRUFBUW5OLEdBQ3REbWpCLEVBQVNBLEdBQVUsSUFBSXhXLGFBQWFPLEVBQVFDLEVBQVMsR0FDckQsSUFBSTYwQixFQUFXLElBQUlsQixHQUFlM2QsRUFBUSxDQUFFalcsTUFBT0EsRUFBT0MsT0FBUUEsSUFDOURyUSxFQUFPcW1CLGFBQWtCeFcsYUFBZXhCLEVBQU1rNUIsTUFBUWw1QixFQUFNcTNCLGNBQ2hFLE9BQU8sSUFBSVQsRUFBWUMsRUFBVTlxQyxPQUFPcUQsT0FBTyxDQUFDLEVBQUdtbkMsR0FBc0IxaEMsR0FBVyxDQUFFa04sTUFBT0EsRUFBT0MsT0FBUUEsRUFBUXJRLEtBQU1BLElBQzlILEVBTUFpbEMsRUFBWW9DLFdBQWEsU0FBVTlELEVBQWF0NUIsR0FDeENBLEtBQ2lELElBQTdDczVCLEVBQVk2QyxnQkFBZ0IzaUMsUUFBUXdHLElBQ3BDczVCLEVBQVk2QyxnQkFBZ0JyekMsS0FBS2tYLEdBRWpDd2QsR0FBaUJ4ZCxJQUVqQnFELFFBQVFDLEtBQUssOENBQWdEdEQsRUFBSywrQkFFdEV3ZCxHQUFpQnhkLEdBQU1zNUIsRUFFL0IsRUFNQTBCLEVBQVk4QixnQkFBa0IsU0FBVXhELEdBQ3BDLEdBQTJCLGlCQUFoQkEsRUFBMEIsQ0FDakMsSUFBSWlFLEVBQXVCL2YsR0FBaUI4YixHQUM1QyxHQUFJaUUsRUFBc0IsQ0FDdEIsSUFBSTdsQyxFQUFRNmxDLEVBQXFCcEIsZ0JBQWdCM2lDLFFBQVE4L0IsR0FLekQsT0FKSTVoQyxHQUFTLEdBQ1Q2bEMsRUFBcUJwQixnQkFBZ0Joa0MsT0FBT1QsRUFBTyxVQUVoRDhsQixHQUFpQjhiLEdBQ2pCaUUsQ0FDWCxDQUNKLE1BQ0ssR0FBSWpFLEdBQWVBLEVBQVk2QyxnQkFBaUIsQ0FDakQsSUFBSyxJQUFJMXpDLEVBQUksRUFBR0EsRUFBSTZ3QyxFQUFZNkMsZ0JBQWdCajBDLFNBQVVPLFNBQy9DKzBCLEdBQWlCOGIsRUFBWTZDLGdCQUFnQjF6QyxJQUd4RCxPQURBNndDLEVBQVk2QyxnQkFBZ0JqMEMsT0FBUyxFQUM5Qm94QyxDQUNYLENBQ0EsT0FBTyxJQUNYLEVBRUEwQixFQUFZd0MsYUFBZSxFQUNwQnhDLENBQ1gsQ0F0YWdDLENBc2E5QixJQVFFeUMsR0FBdUMsU0FBVXBRLEdBUWpELFNBQVNvUSxFQUFzQnYxQyxFQUFRK1EsR0FDbkMsSUFBSXEwQixFQUFRbitCLEtBQ1IwWCxFQUFLNU4sR0FBVyxDQUFDLEVBQUdrTixFQUFRVSxFQUFHVixNQUFPQyxFQUFTUyxFQUFHVCxRQUN0RGtuQixFQUFRRCxFQUFPejdCLEtBQUt6QyxLQUFNZ1gsRUFBT0MsSUFBV2pYLE1BQ3RDNGxDLE1BQVEsR0FDZHpILEVBQU1vUSxhQUFlLEdBQ3JCLElBQUssSUFBSWoxQyxFQUFJLEVBQUdBLEVBQUlQLEVBQVFPLElBQUssQ0FDN0IsSUFBSWsxQyxFQUFjLElBQUkzQyxHQUN0QjFOLEVBQU15SCxNQUFNanNDLEtBQUs2MEMsR0FJakJyUSxFQUFNb1EsYUFBYTUwQyxNQUFNLEVBQzdCLENBSUEsT0FIQXdrQyxFQUFNcGxDLE9BQVNBLEVBQ2ZvbEMsRUFBTXNRLE1BQVEsS0FDZHRRLEVBQU1nTSxZQUFjLEtBQ2JoTSxDQUNYLENBOEZBLE9BdkhBLEdBQVVtUSxFQUF1QnBRLEdBZ0NqQ29RLEVBQXNCcnRDLFVBQVV5dEMsY0FBZ0IsU0FBVUMsRUFBVzdrQyxHQUNqRSxJQUFLLElBQUl4USxFQUFJLEVBQUdBLEVBQUkwRyxLQUFLakgsT0FBUU8sSUFDeEJxMUMsRUFBVXIxQyxLQUdYcTFDLEVBQVVyMUMsR0FBR3MwQyxrQkFDYjV0QyxLQUFLNHVDLGlCQUFpQkQsRUFBVXIxQyxHQUFHczBDLG9CQUFxQnQwQyxHQUVuRHExQyxFQUFVcjFDLGFBQWNzd0MsR0FDN0I1cEMsS0FBSzZ1QyxjQUFjRixFQUFVcjFDLEdBQUlBLEdBR2pDMEcsS0FBSzZ1QyxjQUFjbkYsR0FBbUJpRixFQUFVcjFDLEdBQUl3USxHQUFVeFEsR0FHMUUsRUFFQWcxQyxFQUFzQnJ0QyxVQUFVd3BDLFFBQVUsV0FDdEMsSUFBSyxJQUFJbnhDLEVBQUksRUFBR0MsRUFBTXlHLEtBQUtqSCxPQUFRTyxFQUFJQyxFQUFLRCxJQUN4QzBHLEtBQUs0bEMsTUFBTXRzQyxHQUFHaTFCLFVBRWxCdnVCLEtBQUs0bEMsTUFBUSxLQUNiNWxDLEtBQUt1dUMsYUFBZSxLQUNwQnZ1QyxLQUFLeXVDLE1BQVEsSUFDakIsRUFPQUgsRUFBc0JydEMsVUFBVTR0QyxjQUFnQixTQUFVL0MsRUFBVXZqQyxHQUNoRSxJQUFLdkksS0FBSzRsQyxNQUFNcjlCLEdBQ1osTUFBTSxJQUFJaWtCLE1BQU0sU0FBV2prQixFQUFRLHFCQU92QyxPQUpJdWpDLEVBQVNpQixRQUFVL3NDLEtBQUsrc0MsT0FDeEIvc0MsS0FBSzJ1QixPQUFPbWQsRUFBUzkwQixNQUFPODBCLEVBQVM3MEIsUUFFekNqWCxLQUFLNGxDLE1BQU1yOUIsR0FBTzZrQyxZQUFZdEIsR0FDdkI5ckMsSUFDWCxFQUtBc3VDLEVBQXNCcnRDLFVBQVVpcEMsS0FBTyxTQUFVQyxHQUM3QyxHQUF5QixPQUFyQm5xQyxLQUFLbXFDLFlBQ0wsTUFBTSxJQUFJM2QsTUFBTSxxREFFcEIwUixFQUFPajlCLFVBQVVpcEMsS0FBS3puQyxLQUFLekMsS0FBTW1xQyxHQUNqQyxJQUFLLElBQUk3d0MsRUFBSSxFQUFHQSxFQUFJMEcsS0FBS2pILE9BQVFPLElBQzdCMEcsS0FBSzRsQyxNQUFNdHNDLEdBQUc2ekMsbUJBQXFCaEQsRUFDbkNucUMsS0FBSzRsQyxNQUFNdHNDLEdBQUd1SyxHQUFHLFNBQVVzbUMsRUFBWXRDLE9BQVFzQyxFQUV2RCxFQUtBbUUsRUFBc0JydEMsVUFBVW1wQyxPQUFTLFNBQVVELEdBQy9Dak0sRUFBT2o5QixVQUFVbXBDLE9BQU8zbkMsS0FBS3pDLEtBQU1tcUMsR0FDbkMsSUFBSyxJQUFJN3dDLEVBQUksRUFBR0EsRUFBSTBHLEtBQUtqSCxPQUFRTyxJQUM3QjBHLEtBQUs0bEMsTUFBTXRzQyxHQUFHNnpDLG1CQUFxQixLQUNuQ250QyxLQUFLNGxDLE1BQU10c0MsR0FBR3lLLElBQUksU0FBVW9tQyxFQUFZdEMsT0FBUXNDLEVBRXhELEVBS0FtRSxFQUFzQnJ0QyxVQUFVb3BDLEtBQU8sV0FDbkMsSUFBSWxNLEVBQVFuK0IsS0FDWixHQUFJQSxLQUFLeXVDLE1BQ0wsT0FBT3p1QyxLQUFLeXVDLE1BRWhCLElBRUlLLEVBRlk5dUMsS0FBSzRsQyxNQUFNamhDLEtBQUksU0FBVTQ4QixHQUFRLE9BQU9BLEVBQUt1SyxRQUFVLElBQUc5SCxRQUFPLFNBQVV6QyxHQUFRLE9BQU9BLENBQU0sSUFFdkY1OEIsS0FBSSxTQUFVNDhCLEdBQVEsT0FBT0EsRUFBSzhJLE1BQVEsSUFPbkUsT0FOQXJxQyxLQUFLeXVDLE1BQVFyNkIsUUFBUVYsSUFBSW83QixHQUNwQi83QixNQUFLLFdBQ04sSUFBSTJFLEVBQUt5bUIsRUFBTXlILE1BQU0sR0FBSXVGLEVBQVl6ekIsRUFBR3l6QixVQUFXQyxFQUFhMXpCLEVBQUcwekIsV0FFbkUsT0FEQWpOLEVBQU14UCxPQUFPd2MsRUFBV0MsR0FDakJoM0IsUUFBUXJJLFFBQVFveUIsRUFDM0IsSUFDT24rQixLQUFLeXVDLEtBQ2hCLEVBQ09ILENBQ1gsQ0F6SDBDLENBeUh4QzFFLElBTUVtRixHQUErQixTQUFVN1EsR0FTekMsU0FBUzZRLEVBQWMxcEMsRUFBUXlFLEdBQzNCLElBRUlrbEMsRUFDQWoyQyxFQUhBb2xDLEVBQVFuK0IsS0FDUjBYLEVBQUs1TixHQUFXLENBQUMsRUFBR2tOLEVBQVFVLEVBQUdWLE1BQU9DLEVBQVNTLEVBQUdULE9BY3RELE9BWEloVSxNQUFNdUgsUUFBUW5GLElBQ2QycEMsRUFBTzNwQyxFQUNQdE0sRUFBU3NNLEVBQU90TSxRQUdoQkEsRUFBU3NNLEVBRWI4NEIsRUFBUUQsRUFBT3o3QixLQUFLekMsS0FBTWpILEVBQVEsQ0FBRWllLE1BQU9BLEVBQU9DLE9BQVFBLEtBQWFqWCxLQUNuRWd2QyxHQUNBN1EsRUFBTXVRLGNBQWNNLEVBQU1sbEMsR0FFdkJxMEIsQ0FDWCxDQW9EQSxPQTdFQSxHQUFVNFEsRUFBZTdRLEdBaUN6QjZRLEVBQWM5dEMsVUFBVTJ0QyxpQkFBbUIsU0FBVXpFLEVBQWE1aEMsR0FDOUQsSUFBSTRoQyxFQUFZMkIsU0FJWixNQUFNLElBQUl0ZixNQUFNLGdEQUVwQixPQUxJeHNCLEtBQUs2dUMsY0FBYzFFLEVBQVkyQixTQUFVdmpDLEdBS3RDdkksSUFDWCxFQUtBK3VDLEVBQWM5dEMsVUFBVWlwQyxLQUFPLFNBQVVDLEdBQ3JDak0sRUFBT2o5QixVQUFVaXBDLEtBQUt6bkMsS0FBS3pDLEtBQU1tcUMsR0FDakNBLEVBQVkva0MsT0FBUzRQLEVBQVFpNkIsZ0JBQ2pDLEVBUUFGLEVBQWM5dEMsVUFBVTRwQyxPQUFTLFNBQVV4SCxFQUFVNkwsRUFBU3BFLEdBQzFELElBQUlwekIsRUFBSzFYLEtBQU1qSCxFQUFTMmUsRUFBRzNlLE9BQVF3MUMsRUFBZTcyQixFQUFHNjJCLGFBQWMzSSxFQUFRbHVCLEVBQUdrdUIsTUFDMUVqbEIsRUFBSzBpQixFQUFTMWlCLEdBQ2RtcUIsRUFBVThCLFFBQVUsR0FDcEJqc0IsRUFBR3d1QixXQUFXeHVCLEVBQUdzdUIsaUJBQWtCLEVBQUduRSxFQUFVUyxlQUFnQnZyQyxLQUFLb2tDLE9BQVFwa0MsS0FBS3FrQyxRQUFTdHJDLEVBQVEsRUFBR20yQyxFQUFRampDLE9BQVE2K0IsRUFBVWxrQyxLQUFNLE1BRTFJLElBQUssSUFBSXROLEVBQUksRUFBR0EsRUFBSVAsRUFBUU8sSUFBSyxDQUM3QixJQUFJaW9DLEVBQU9xRSxFQUFNdHNDLEdBQ2JpMUMsRUFBYWoxQyxHQUFLaW9DLEVBQUtxTCxVQUN2QjJCLEVBQWFqMUMsR0FBS2lvQyxFQUFLcUwsUUFDbkJyTCxFQUFLd0wsT0FDTHBzQixFQUFHeXVCLGNBQWN6dUIsRUFBR3N1QixpQkFBa0IsRUFBRyxFQUN6QyxFQUNBMzFDLEVBQ0Fpb0MsRUFBS3VLLFNBQVM5MEIsTUFBT3VxQixFQUFLdUssU0FBUzcwQixPQUFRLEVBQUdpNEIsRUFBUWpqQyxPQUFRNitCLEVBQVVsa0MsS0FBTTI2QixFQUFLdUssU0FBU3ptQyxRQUd4RyxDQUNBLE9BQU8sQ0FDWCxFQUNPMHBDLENBQ1gsQ0EvRWtDLENBK0VoQ1QsSUFNRWUsR0FBbUMsU0FBVW5SLEdBSzdDLFNBQVNtUixFQUFrQmhxQyxHQUN2QixJQUFJODRCLEVBQVFuK0IsS0FDUnN2QyxFQUFZanFDLEVBQ1oyUixFQUFRczRCLEVBQVVDLGNBQWdCRCxFQUFVRSxZQUFjRixFQUFVdDRCLE1BQ3BFQyxFQUFTcTRCLEVBQVVHLGVBQWlCSCxFQUFVSSxhQUFlSixFQUFVcjRCLE9BSTNFLE9BSEFrbkIsRUFBUUQsRUFBT3o3QixLQUFLekMsS0FBTWdYLEVBQU9DLElBQVdqWCxNQUN0Q3FGLE9BQVNBLEVBQ2Y4NEIsRUFBTXdSLFlBQWEsRUFDWnhSLENBQ1gsQ0FzRUEsT0FuRkEsR0FBVWtSLEVBQW1CblIsR0FvQjdCbVIsRUFBa0JPLFlBQWMsU0FBVUMsRUFBUzlpQyxFQUFLK2lDLFFBQ2hDbnNDLElBQWhCbXNDLEdBQXNELElBQXpCL2lDLEVBQUkxQyxRQUFRLFNBQ3pDd2xDLEVBQVFELFlBQWN0ZixHQUFxQnZqQixJQUV0QixJQUFoQitpQyxJQUNMRCxFQUFRRCxZQUFxQyxpQkFBaEJFLEVBQTJCQSxFQUFjLFlBRTlFLEVBU0FULEVBQWtCcHVDLFVBQVU0cEMsT0FBUyxTQUFVeEgsRUFBVThHLEVBQWFXLEVBQVd6bEMsR0FDN0UsSUFBSXNiLEVBQUswaUIsRUFBUzFpQixHQUNkM0osRUFBUW16QixFQUFZZ0IsVUFDcEJsMEIsRUFBU2t6QixFQUFZaUIsV0FFekIsSUFEQS9sQyxFQUFTQSxHQUFVckYsS0FBS3FGLGtCQUNGMHFDLGtCQUNsQixJQUFLMXFDLEVBQU8ycUMsVUFBb0MsSUFBeEIzcUMsRUFBT2txQyxhQUMzQixPQUFPLE9BR1YsR0FBSWxxQyxhQUFrQjRxQyxrQkFDbkI1cUMsRUFBTzZxQyxZQUFjLEVBQ3JCLE9BQU8sRUFlZixPQVpBdnZCLEVBQUdvcUIsWUFBWXBxQixFQUFHcXFCLCtCQUFnQ2IsRUFBWWMsWUFBYzMxQixFQUFZNDFCLFFBQ25GbHJDLEtBQUsydkMsWUFDSHhGLEVBQVkva0MsU0FBV3ViLEVBQUc0ckIsWUFDMUJ6QixFQUFVOXpCLFFBQVVBLEdBQ3BCOHpCLEVBQVU3ekIsU0FBV0EsR0FJeEI2ekIsRUFBVTl6QixNQUFRQSxFQUNsQjh6QixFQUFVN3pCLE9BQVNBLEVBQ25CMEosRUFBRzJxQixXQUFXbkIsRUFBWS9rQyxPQUFRLEVBQUcwbEMsRUFBVVMsZUFBZ0JwQixFQUFZbCtCLE9BQVE2K0IsRUFBVWxrQyxLQUFNdkIsSUFMbkdzYixFQUFHMHFCLGNBQWMxcUIsRUFBRzRyQixXQUFZLEVBQUcsRUFBRyxFQUFHcEMsRUFBWWwrQixPQUFRNitCLEVBQVVsa0MsS0FBTXZCLElBTzFFLENBQ1gsRUFLQWdxQyxFQUFrQnB1QyxVQUFVNG1DLE9BQVMsV0FDakMsSUFBSTduQyxLQUFLNnBDLFVBQVQsQ0FHQSxJQUFJeGtDLEVBQVNyRixLQUFLcUYsT0FDZDJSLEVBQVEzUixFQUFPa3FDLGNBQWdCbHFDLEVBQU9tcUMsWUFBY25xQyxFQUFPMlIsTUFDM0RDLEVBQVM1UixFQUFPb3FDLGVBQWlCcHFDLEVBQU9xcUMsYUFBZXJxQyxFQUFPNFIsT0FDbEVqWCxLQUFLMnVCLE9BQU8zWCxFQUFPQyxHQUNuQmluQixFQUFPajlCLFVBQVU0bUMsT0FBT3BsQyxLQUFLekMsS0FMN0IsQ0FNSixFQUVBcXZDLEVBQWtCcHVDLFVBQVV3cEMsUUFBVSxXQUNsQ3pxQyxLQUFLcUYsT0FBUyxJQUNsQixFQUNPZ3FDLENBQ1gsQ0FyRnNDLENBcUZwQ3pGLElBU0V1RyxHQUFnQyxTQUFValMsR0FNMUMsU0FBU2lTLEVBQWU5cUMsR0FDcEIsT0FBTzY0QixFQUFPejdCLEtBQUt6QyxLQUFNcUYsSUFBV3JGLElBQ3hDLENBY0EsT0FyQkEsR0FBVW13QyxFQUFnQmpTLEdBYTFCaVMsRUFBZTVtQyxLQUFPLFNBQVVsRSxHQUM1QixJQUFJK3FDLEVBQWtCLytCLFdBQVcrK0IsZ0JBRWpDLFNBQUlBLEdBQW1CL3FDLGFBQWtCK3FDLElBR2xDLytCLFdBQVdnL0IsbUJBQXFCaHJDLGFBQWtCZ3JDLGlCQUM3RCxFQUNPRixDQUNYLENBdkJtQyxDQXVCakNkLElBTUVpQixHQUE4QixTQUFVcFMsR0FZeEMsU0FBU29TLEVBQWFqckMsRUFBUXlFLEdBQzFCLElBQUlxMEIsRUFBUW4rQixLQUNSMFgsRUFBSzVOLEdBQVcsQ0FBQyxFQUFHa04sRUFBUVUsRUFBR1YsTUFBT0MsRUFBU1MsRUFBR1QsT0FBUXM1QixFQUFXNzRCLEVBQUc2NEIsU0FBVUMsRUFBa0I5NEIsRUFBRzg0QixnQkFDM0csR0FBSW5yQyxHQUFVQSxFQUFPdE0sU0FBV3UzQyxFQUFhRyxNQUN6QyxNQUFNLElBQUlqa0IsTUFBTSx1QkFBeUJubkIsRUFBT3RNLE9BQVMsZ0JBRTdEb2xDLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU0sRUFBRyxDQUFFZ1gsTUFBT0EsRUFBT0MsT0FBUUEsS0FBYWpYLEtBQ2xFLElBQUssSUFBSTFHLEVBQUksRUFBR0EsRUFBSWczQyxFQUFhRyxNQUFPbjNDLElBQ3BDNmtDLEVBQU15SCxNQUFNdHNDLEdBQUc4TCxPQUFTNFAsRUFBUTA3Qiw0QkFBOEJwM0MsRUFTbEUsT0FQQTZrQyxFQUFNcVMsaUJBQXNDLElBQXBCQSxFQUNwQm5yQyxHQUNBODRCLEVBQU11USxjQUFjcnBDLEVBQVF5RSxJQUVmLElBQWJ5bUMsR0FDQXBTLEVBQU1rTSxPQUVIbE0sQ0FDWCxDQXdFQSxPQXJHQSxHQUFVbVMsRUFBY3BTLEdBa0N4Qm9TLEVBQWFydkMsVUFBVWlwQyxLQUFPLFNBQVVDLEdBQ3BDak0sRUFBT2o5QixVQUFVaXBDLEtBQUt6bkMsS0FBS3pDLEtBQU1tcUMsR0FDakNBLEVBQVkva0MsT0FBUzRQLEVBQVEyN0IsZ0JBQ2pDLEVBQ0FMLEVBQWFydkMsVUFBVTJ0QyxpQkFBbUIsU0FBVXpFLEVBQWE1aEMsRUFBT2lvQyxHQUNwRSxJQUFLeHdDLEtBQUs0bEMsTUFBTXI5QixHQUNaLE1BQU0sSUFBSWlrQixNQUFNLFNBQVdqa0IsRUFBUSxxQkFFdkMsSUFBS3ZJLEtBQUt3d0MsaUJBQ0hyRyxFQUFZZ0Qsb0JBQ1puc0MsT0FBT2lFLEtBQUtrbEMsRUFBWXdDLGFBQWE1ekMsT0FBUyxFQUFHLENBRXBELElBQUlveEMsRUFBWTJCLFNBSVosTUFBTSxJQUFJdGYsTUFBTSwyREFIaEJ4c0IsS0FBSzZ1QyxjQUFjMUUsRUFBWTJCLFNBQVV2akMsRUFLakQsTUFHSTRoQyxFQUFZL2tDLE9BQVM0UCxFQUFRMDdCLDRCQUE4Qm5vQyxFQUMzRDRoQyxFQUFZZ0QsbUJBQXFCbnRDLEtBQUttcUMsWUFDdENucUMsS0FBSzRsQyxNQUFNcjlCLEdBQVM0aEMsRUFNeEIsT0FKSUEsRUFBWTRDLFFBQVUvc0MsS0FBSytzQyxPQUMzQi9zQyxLQUFLMnVCLE9BQU93YixFQUFZZ0IsVUFBV2hCLEVBQVlpQixZQUVuRHByQyxLQUFLNGxDLE1BQU1yOUIsR0FBUzRoQyxFQUNibnFDLElBQ1gsRUFRQXN3QyxFQUFhcnZDLFVBQVU0cEMsT0FBUyxTQUFVeEgsRUFBVWtILEVBQWNPLEdBRTlELElBREEsSUFBSXdDLEVBQVF0dEMsS0FBS3V1QyxhQUNSajFDLEVBQUksRUFBR0EsRUFBSWczQyxFQUFhRyxNQUFPbjNDLElBQUssQ0FDekMsSUFBSXMzQyxFQUFPNXdDLEtBQUs0bEMsTUFBTXRzQyxJQUNsQmcwQyxFQUFNaDBDLEdBQUtzM0MsRUFBS2hFLFNBQVc5QixFQUFVOEIsUUFBVXJDLEVBQWFxQyxXQUN4RGdFLEVBQUs3RCxPQUFTNkQsRUFBSzlFLFVBQ25COEUsRUFBSzlFLFNBQVNqQixPQUFPeEgsRUFBVXVOLEVBQU05RixHQUNyQ3dDLEVBQU1oMEMsR0FBS3MzQyxFQUFLaEUsU0FFWFUsRUFBTWgwQyxJQUFNLElBR2pCK3BDLEVBQVMxaUIsR0FBRzJxQixXQUFXc0YsRUFBS3hyQyxPQUFRLEVBQUcwbEMsRUFBVVMsZUFBZ0JoQixFQUFhWSxVQUFXWixFQUFhYSxXQUFZLEVBQUdiLEVBQWF0K0IsT0FBUTYrQixFQUFVbGtDLEtBQU0sTUFDMUowbUMsRUFBTWgwQyxJQUFNLEdBR3hCLENBQ0EsT0FBTyxDQUNYLEVBTUFnM0MsRUFBYS9tQyxLQUFPLFNBQVVsRSxHQUMxQixPQUFPcEMsTUFBTXVILFFBQVFuRixJQUFXQSxFQUFPdE0sU0FBV3UzQyxFQUFhRyxLQUNuRSxFQUVBSCxFQUFhRyxNQUFRLEVBQ2RILENBQ1gsQ0F2R2lDLENBdUcvQmhDLElBTUV1QyxHQUErQixTQUFVM1MsR0FXekMsU0FBUzJTLEVBQWN4ckMsRUFBUXlFLEdBQzNCLElBQUlxMEIsRUFBUW4rQixLQUVaLEdBREE4SixFQUFVQSxHQUFXLENBQUMsSUFDaEJ6RSxhQUFrQjBxQyxrQkFBbUIsQ0FDdkMsSUFBSWUsRUFBZSxJQUFJQyxNQUN2QjFCLEdBQWtCTyxZQUFZa0IsRUFBY3pyQyxFQUFReUUsRUFBUWdtQyxhQUM1RGdCLEVBQWFFLElBQU0zckMsRUFDbkJBLEVBQVN5ckMsQ0FDYixDQXFCQSxPQXBCQTNTLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU1xRixJQUFXckYsTUFLaENxRixFQUFPMnFDLFVBQWM3UixFQUFNaUcsUUFBWWpHLEVBQU1rRyxVQUM5Q2xHLEVBQU1pRyxPQUFTLEVBQ2ZqRyxFQUFNa0csUUFBVSxHQUVwQmxHLEVBQU1weEIsSUFBTTFILEVBQU8yckMsSUFDbkI3UyxFQUFNOFMsU0FBVyxLQUNqQjlTLEVBQU0rUyxnQkFBaUIsRUFDdkIvUyxFQUFNZ1QsbUJBQXlDeHRDLElBQXpCbUcsRUFBUXFuQyxhQUN4QnJuQyxFQUFRcW5DLGFBQWUxMkIsR0FBU3FDLHdCQUEwQnpMLFdBQVcrL0Isa0JBQzNFalQsRUFBTThNLFVBQXlDLGlCQUF0Qm5oQyxFQUFRbWhDLFVBQXlCbmhDLEVBQVFtaEMsVUFBWSxLQUM5RTlNLEVBQU1rVCxPQUFTLEtBQ2ZsVCxFQUFNc1EsTUFBUSxNQUNXLElBQXJCM2tDLEVBQVF5bUMsVUFDUnBTLEVBQU1rTSxPQUVIbE0sQ0FDWCxDQStJQSxPQXZMQSxHQUFVMFMsRUFBZTNTLEdBNkN6QjJTLEVBQWM1dkMsVUFBVW9wQyxLQUFPLFNBQVU4RyxHQUNyQyxJQUFJaFQsRUFBUW4rQixLQUNaLE9BQUlBLEtBQUt5dUMsYUFHWTlxQyxJQUFqQnd0QyxJQUNBbnhDLEtBQUtteEMsYUFBZUEsR0FFeEJueEMsS0FBS3l1QyxNQUFRLElBQUlyNkIsU0FBUSxTQUFVckksRUFBUzZHLEdBQ3hDLElBQUl2TixFQUFTODRCLEVBQU05NEIsT0FDbkI4NEIsRUFBTXB4QixJQUFNMUgsRUFBTzJyQyxJQUNuQixJQUFJTSxFQUFZLFdBQ1JuVCxFQUFNMEwsWUFHVnhrQyxFQUFPa3NDLE9BQVMsS0FDaEJsc0MsRUFBT21zQyxRQUFVLEtBQ2pCclQsRUFBTXhQLE9BQU90cEIsRUFBTzJSLE1BQU8zUixFQUFPNFIsUUFDbENrbkIsRUFBTXNRLE1BQVEsS0FDVnRRLEVBQU1nVCxhQUNOcGxDLEVBQVFveUIsRUFBTXNULFdBR2QxbEMsRUFBUW95QixHQUVoQixFQUNJOTRCLEVBQU8ycUMsVUFBWTNxQyxFQUFPMnJDLElBQzFCTSxLQUdBanNDLEVBQU9rc0MsT0FBU0QsRUFDaEJqc0MsRUFBT21zQyxRQUFVLFNBQVU3dkMsR0FFdkJpUixFQUFPalIsR0FDUHc4QixFQUFNOEwsUUFBUTltQyxLQUFLeEIsRUFDdkIsRUFFUixLQWxDVzNCLEtBQUt5dUMsS0FvQ3BCLEVBTUFvQyxFQUFjNXZDLFVBQVV3d0MsUUFBVSxXQUM5QixJQUFJdFQsRUFBUW4rQixLQUNScUYsRUFBU3JGLEtBQUtxRixPQUNsQixHQUFzQixPQUFsQnJGLEtBQUtpeEMsU0FDTCxPQUFPanhDLEtBQUtpeEMsU0FFaEIsR0FBb0IsT0FBaEJqeEMsS0FBS3F4QyxTQUFvQmhnQyxXQUFXKy9CLGtCQUNwQyxPQUFPaDlCLFFBQVFySSxRQUFRL0wsTUFFM0IsSUFBSW94QyxFQUFvQi8vQixXQUFXKy9CLGtCQUMvQk0sR0FBUXJzQyxFQUFPdXFDLGFBQXNDLGNBQXZCdnFDLEVBQU91cUMsWUFrQnpDLE9BakJBNXZDLEtBQUtpeEMsU0FBV3A1QixNQUFNeFMsRUFBTzJyQyxJQUFLLENBQzlCVyxLQUFNRCxFQUFPLE9BQVMsWUFFckIzK0IsTUFBSyxTQUFValUsR0FBSyxPQUFPQSxFQUFFOHlDLE1BQVEsSUFDckM3K0IsTUFBSyxTQUFVNitCLEdBQVEsT0FBT1IsRUFBa0JRLEVBQU0sRUFBRyxFQUFHdnNDLEVBQU8yUixNQUFPM1IsRUFBTzRSLE9BQVEsQ0FDMUY0NkIsaUJBQXNDLE9BQXBCMVQsRUFBTThNLFdBQXNCOU0sRUFBTThNLFlBQWMzMUIsRUFBWTQxQixPQUN4RSxjQUFnQixRQUN0QixJQUNDbjRCLE1BQUssU0FBVXMrQixHQUNoQixPQUFJbFQsRUFBTTBMLFVBQ0N6MUIsUUFBUXhCLFVBRW5CdXJCLEVBQU1rVCxPQUFTQSxFQUNmbFQsRUFBTTBKLFNBQ04xSixFQUFNOFMsU0FBVyxLQUNWNzhCLFFBQVFySSxRQUFRb3lCLEdBQzNCLElBQ09uK0IsS0FBS2l4QyxRQUNoQixFQVFBSixFQUFjNXZDLFVBQVU0cEMsT0FBUyxTQUFVeEgsRUFBVThHLEVBQWFXLEdBSzlELEdBSjhCLGlCQUFuQjlxQyxLQUFLaXJDLFlBRVpkLEVBQVljLFVBQVlqckMsS0FBS2lyQyxZQUU1QmpyQyxLQUFLbXhDLGFBQ04sT0FBT2pULEVBQU9qOUIsVUFBVTRwQyxPQUFPcG9DLEtBQUt6QyxLQUFNcWpDLEVBQVU4RyxFQUFhVyxHQUVyRSxJQUFLOXFDLEtBQUtxeEMsU0FFTnJ4QyxLQUFLeXhDLFdBQ0F6eEMsS0FBS3F4QyxRQUNOLE9BQU8sRUFJZixHQURBblQsRUFBT2o5QixVQUFVNHBDLE9BQU9wb0MsS0FBS3pDLEtBQU1xakMsRUFBVThHLEVBQWFXLEVBQVc5cUMsS0FBS3F4QyxTQUNyRXJ4QyxLQUFLa3hDLGVBQWdCLENBRXRCLElBQUl0cEMsR0FBTyxFQUNQa3FDLEVBQWEzSCxFQUFZd0MsWUFDN0IsSUFBSyxJQUFJam5DLEtBQU9vc0MsRUFBWSxDQUN4QixJQUFJQyxFQUFXRCxFQUFXcHNDLEdBQzFCLEdBQUlxc0MsSUFBYWpILEdBQWFpSCxFQUFTbkYsVUFBWXpDLEVBQVl5QyxRQUFTLENBQ3BFaGxDLEdBQU8sRUFDUCxLQUNKLENBQ0osQ0FDSUEsSUFDSTVILEtBQUtxeEMsT0FBT1csT0FDWmh5QyxLQUFLcXhDLE9BQU9XLFFBRWhCaHlDLEtBQUtxeEMsT0FBUyxLQUV0QixDQUNBLE9BQU8sQ0FDWCxFQUVBUixFQUFjNXZDLFVBQVV3cEMsUUFBVSxXQUM5QnpxQyxLQUFLcUYsT0FBT2tzQyxPQUFTLEtBQ3JCdnhDLEtBQUtxRixPQUFPbXNDLFFBQVUsS0FDdEJ0VCxFQUFPajlCLFVBQVV3cEMsUUFBUWhvQyxLQUFLekMsTUFDMUJBLEtBQUtxeEMsU0FDTHJ4QyxLQUFLcXhDLE9BQU9XLFFBQ1poeUMsS0FBS3F4QyxPQUFTLE1BRWxCcnhDLEtBQUtpeEMsU0FBVyxLQUNoQmp4QyxLQUFLeXVDLE1BQVEsSUFDakIsRUFNQW9DLEVBQWN0bkMsS0FBTyxTQUFVbEUsR0FDM0IsTUFBeUIsaUJBQVhBLEdBQXVCQSxhQUFrQjBxQyxnQkFDM0QsRUFDT2MsQ0FDWCxDQXpMa0MsQ0F5TGhDeEIsSUFNRTRDLEdBQTZCLFNBQVUvVCxHQVV2QyxTQUFTK1QsRUFBWUMsRUFBY3BvQyxHQUMvQixJQUFJcTBCLEVBQVFuK0IsS0FlWixPQWRBOEosRUFBVUEsR0FBVyxDQUFDLEdBQ3RCcTBCLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU15YSxHQUFTQyxRQUFRM0QsaUJBQW1CL1csTUFDeERva0MsT0FBUyxFQUNmakcsRUFBTWtHLFFBQVUsRUFDaEJsRyxFQUFNZ1UsSUFBTUQsRUFDWi9ULEVBQU1qSSxNQUFRcHNCLEVBQVFvc0IsT0FBUyxFQUMvQmlJLEVBQU1pVSxlQUFpQnRvQyxFQUFRa04sTUFDL0JtbkIsRUFBTWtVLGdCQUFrQnZvQyxFQUFRbU4sT0FDaENrbkIsRUFBTW1VLFNBQVcsS0FDakJuVSxFQUFNb1UsYUFBZXpvQyxFQUFRZ21DLFlBQzdCM1IsRUFBTXNRLE1BQVEsTUFDVyxJQUFyQjNrQyxFQUFReW1DLFVBQ1JwUyxFQUFNa00sT0FFSGxNLENBQ1gsQ0FpSEEsT0EzSUEsR0FBVThULEVBQWEvVCxHQTJCdkIrVCxFQUFZaHhDLFVBQVVvcEMsS0FBTyxXQUN6QixJQUFJbE0sRUFBUW4rQixLQUNaLE9BQUlBLEtBQUt5dUMsUUFHVHp1QyxLQUFLeXVDLE1BQVEsSUFBSXI2QixTQUFRLFNBQVVySSxHQU8vQixHQUxBb3lCLEVBQU1tVSxTQUFXLFdBQ2JuVSxFQUFNeFAsT0FBT3dQLEVBQU05NEIsT0FBTzJSLE1BQU9tbkIsRUFBTTk0QixPQUFPNFIsUUFDOUNsTCxFQUFRb3lCLEVBQ1osRUFFSThULEVBQVlPLFFBQVFqcEMsS0FBSzQwQixFQUFNZ1UsSUFBSTNrQyxRQUFTLENBQzVDLElBQUtpbEMsS0FDRCxNQUFNLElBQUlqbUIsTUFBTSxvREFFcEIyUixFQUFNZ1UsSUFBTSw2QkFBK0JNLEtBQUtDLFNBQVM5bkMsbUJBQW1CdXpCLEVBQU1nVSxNQUN0RixDQUNBaFUsRUFBTXdVLFVBQ1YsS0FoQlczeUMsS0FBS3l1QyxLQWtCcEIsRUFFQXdELEVBQVloeEMsVUFBVTB4QyxTQUFXLFdBQzdCLElBQUl4VSxFQUFRbitCLEtBQ1I0eUMsRUFBWSxJQUFJN0IsTUFDcEIxQixHQUFrQk8sWUFBWWdELEVBQVc1eUMsS0FBS215QyxJQUFLbnlDLEtBQUt1eUMsY0FDeERLLEVBQVU1QixJQUFNaHhDLEtBQUtteUMsSUFDckJTLEVBQVVwQixRQUFVLFNBQVU3dkMsR0FDckJ3OEIsRUFBTW1VLFdBR1hNLEVBQVVwQixRQUFVLEtBQ3BCclQsRUFBTThMLFFBQVE5bUMsS0FBS3hCLEdBQ3ZCLEVBQ0FpeEMsRUFBVXJCLE9BQVMsV0FDZixHQUFLcFQsRUFBTW1VLFNBQVgsQ0FHQSxJQUFJTyxFQUFXRCxFQUFVNTdCLE1BQ3JCODdCLEVBQVlGLEVBQVUzN0IsT0FDMUIsSUFBSzQ3QixJQUFhQyxFQUNkLE1BQU0sSUFBSXRtQixNQUFNLHdGQUdwQixJQUFJeFYsRUFBUTY3QixFQUFXMVUsRUFBTWpJLE1BQ3pCamYsRUFBUzY3QixFQUFZM1UsRUFBTWpJLE9BQzNCaUksRUFBTWlVLGdCQUFrQmpVLEVBQU1rVSxtQkFDOUJyN0IsRUFBUW1uQixFQUFNaVUsZ0JBQWtCalUsRUFBTWtVLGdCQUFrQlMsRUFBWUQsRUFDcEU1N0IsRUFBU2tuQixFQUFNa1UsaUJBQW1CbFUsRUFBTWlVLGVBQWlCUyxFQUFXQyxHQUV4RTk3QixFQUFRL2MsS0FBS2cxQixNQUFNalksR0FDbkJDLEVBQVNoZCxLQUFLZzFCLE1BQU1oWSxHQUVwQixJQUFJQyxFQUFTaW5CLEVBQU05NEIsT0FDbkI2UixFQUFPRixNQUFRQSxFQUNmRSxFQUFPRCxPQUFTQSxFQUNoQkMsRUFBTzYyQixRQUFVLFVBQVlyZ0IsS0FFN0J4VyxFQUNLMEosV0FBVyxNQUNYbXlCLFVBQVVILEVBQVcsRUFBRyxFQUFHQyxFQUFVQyxFQUFXLEVBQUcsRUFBRzk3QixFQUFPQyxHQUNsRWtuQixFQUFNbVUsV0FDTm5VLEVBQU1tVSxTQUFXLElBekJqQixDQTBCSixDQUNKLEVBTUFMLEVBQVllLFFBQVUsU0FBVUMsR0FDNUIsSUFBSUMsRUFBWWpCLEVBQVlrQixTQUFTemxDLEtBQUt1bEMsR0FDdEM1bUIsRUFBTyxDQUFDLEVBS1osT0FKSTZtQixJQUNBN21CLEVBQUs2bUIsRUFBVSxJQUFNajVDLEtBQUtnMUIsTUFBTTRCLFdBQVdxaUIsRUFBVSxLQUNyRDdtQixFQUFLNm1CLEVBQVUsSUFBTWo1QyxLQUFLZzFCLE1BQU00QixXQUFXcWlCLEVBQVUsTUFFbEQ3bUIsQ0FDWCxFQUVBNGxCLEVBQVloeEMsVUFBVXdwQyxRQUFVLFdBQzVCdk0sRUFBT2o5QixVQUFVd3BDLFFBQVFob0MsS0FBS3pDLE1BQzlCQSxLQUFLc3lDLFNBQVcsS0FDaEJ0eUMsS0FBS3V5QyxhQUFlLElBQ3hCLEVBT0FOLEVBQVkxb0MsS0FBTyxTQUFVbEUsRUFBUXMvQixHQUVqQyxNQUFxQixRQUFkQSxHQUVtQixpQkFBWHQvQixHQUF1QkEsRUFBTzZZLFdBQVcsdUJBRTlCLGlCQUFYN1ksR0FBdUI0c0MsRUFBWU8sUUFBUWpwQyxLQUFLbEUsRUFDbkUsRUFNQTRzQyxFQUFZTyxRQUFVLG9EQU10QlAsRUFBWWtCLFNBQVcsa0lBQ2hCbEIsQ0FDWCxDQTdJZ0MsQ0E2STlCNUMsSUFNRStELEdBQStCLFNBQVVsVixHQVd6QyxTQUFTa1YsRUFBYy90QyxFQUFReUUsR0FDM0IsSUFBSXEwQixFQUFRbitCLEtBRVosR0FEQThKLEVBQVVBLEdBQVcsQ0FBQyxJQUNoQnpFLGFBQWtCNHFDLGtCQUFtQixDQUN2QyxJQUFJb0QsRUFBZWw4QixTQUFTQyxjQUFjLFNBRTFDaThCLEVBQWFDLGFBQWEsVUFBVyxRQUNyQ0QsRUFBYUMsYUFBYSxxQkFBc0IsSUFDaERELEVBQWFDLGFBQWEsY0FBZSxJQUNuQixpQkFBWGp1QyxJQUNQQSxFQUFTLENBQUNBLElBRWQsSUFBSWt1QyxFQUFXbHVDLEVBQU8sR0FBRzJyQyxLQUFPM3JDLEVBQU8sR0FDdkNncUMsR0FBa0JPLFlBQVl5RCxFQUFjRSxFQUFVenBDLEVBQVFnbUMsYUFFOUQsSUFBSyxJQUFJeDJDLEVBQUksRUFBR0EsRUFBSStMLEVBQU90TSxTQUFVTyxFQUFHLENBQ3BDLElBQUlrNkMsRUFBZ0JyOEIsU0FBU0MsY0FBYyxVQUN2Q00sRUFBS3JTLEVBQU8vTCxHQUFJMDNDLEVBQU10NUIsRUFBR3M1QixJQUFLeUMsRUFBTy83QixFQUFHKzdCLEtBRXhDQyxHQURKMUMsRUFBTUEsR0FBTzNyQyxFQUFPL0wsSUFDRndMLE1BQU0sS0FBSzRLLFFBQVFsRyxjQUNqQ2dXLEVBQU1rMEIsRUFBUWh4QyxNQUFNZ3hDLEVBQVEzcUMsWUFBWSxLQUFPLEdBQ25EMHFDLEVBQU9BLEdBQVFMLEVBQWNPLFdBQVduMEIsSUFBUSxTQUFXQSxFQUMzRGcwQixFQUFjeEMsSUFBTUEsRUFDcEJ3QyxFQUFjNXNDLEtBQU82c0MsRUFDckJKLEVBQWFPLFlBQVlKLEVBQzdCLENBRUFudUMsRUFBU2d1QyxDQUNiLENBZ0JBLE9BZkFsVixFQUFRRCxFQUFPejdCLEtBQUt6QyxLQUFNcUYsSUFBV3JGLE1BQy9CMnZDLFlBQWEsRUFDbkJ4UixFQUFNMFYsYUFBYyxFQUNwQjFWLEVBQU0yVixzQkFBdUIsRUFDN0IzVixFQUFNNFYsV0FBYWpxQyxFQUFRa3FDLFdBQWEsRUFDeEM3VixFQUFNOFYsZ0JBQWtCLEVBQ3hCOVYsRUFBTStWLFVBQWdDLElBQXJCcHFDLEVBQVFvcUMsU0FDekIvVixFQUFNc1EsTUFBUSxLQUNkdFEsRUFBTW1VLFNBQVcsS0FFakJuVSxFQUFNZ1csV0FBYWhXLEVBQU1nVyxXQUFXakssS0FBSy9MLEdBQ3pDQSxFQUFNaVcsU0FBV2pXLEVBQU1pVyxTQUFTbEssS0FBSy9MLElBQ1osSUFBckJyMEIsRUFBUXltQyxVQUNScFMsRUFBTWtNLE9BRUhsTSxDQUNYLENBNExBLE9BblBBLEdBQVVpVixFQUFlbFYsR0E0RHpCa1YsRUFBY255QyxVQUFVNG1DLE9BQVMsU0FBVXdNLEdBQ3ZDLElBQUtyMEMsS0FBSzZwQyxVQUFXLENBRWpCLElBQUluQyxFQUFZWCxHQUFPNEIsT0FBT2pCLFVBQVkxbkMsS0FBS3FGLE9BQU9pdkMsYUFDdER0MEMsS0FBS2kwQyxnQkFBa0JoNkMsS0FBS3dNLE1BQU16RyxLQUFLaTBDLGdCQUFrQnZNLEtBQ3BEMW5DLEtBQUsrekMsWUFBYy96QyxLQUFLaTBDLGlCQUFtQixLQUM1Qy9WLEVBQU9qOUIsVUFBVTRtQyxPQUFPcGxDLEtBQUt6QyxNQUM3QkEsS0FBS2kwQyxnQkFBa0JqMEMsS0FBSyt6QyxXQUFhOTVDLEtBQUt3TSxNQUFNLElBQU96RyxLQUFLK3pDLFlBQWMsRUFFdEYsQ0FDSixFQUtBWCxFQUFjbnlDLFVBQVVvcEMsS0FBTyxXQUMzQixJQUFJbE0sRUFBUW4rQixLQUNaLEdBQUlBLEtBQUt5dUMsTUFDTCxPQUFPenVDLEtBQUt5dUMsTUFFaEIsSUFBSXBwQyxFQUFTckYsS0FBS3FGLE9Bd0JsQixPQXZCS0EsRUFBTzZxQyxhQUFlN3FDLEVBQU9rdkMsa0JBQW9CbHZDLEVBQU82cUMsYUFBZTdxQyxFQUFPbXZDLG1CQUM1RW52QyxFQUFPMlIsT0FBUzNSLEVBQU80UixTQUMxQjVSLEVBQU8ycUMsVUFBVyxHQUV0QjNxQyxFQUFPb3ZDLGlCQUFpQixPQUFRejBDLEtBQUswMEMsYUFBYXhLLEtBQUtscUMsT0FDdkRxRixFQUFPb3ZDLGlCQUFpQixRQUFTejBDLEtBQUsyMEMsWUFBWXpLLEtBQUtscUMsT0FDbERBLEtBQUs0MEMsaUJBTU41MEMsS0FBS20wQyxjQUxMOXVDLEVBQU9vdkMsaUJBQWlCLFVBQVd6MEMsS0FBS20wQyxZQUN4Qzl1QyxFQUFPb3ZDLGlCQUFpQixpQkFBa0J6MEMsS0FBS20wQyxZQUMvQzl1QyxFQUFPb3ZDLGlCQUFpQixRQUFTejBDLEtBQUtvMEMsVUFBVSxJQUtwRHAwQyxLQUFLeXVDLE1BQVEsSUFBSXI2QixTQUFRLFNBQVVySSxHQUMzQm95QixFQUFNNE8sTUFDTmhoQyxFQUFRb3lCLElBR1JBLEVBQU1tVSxTQUFXdm1DLEVBQ2pCMUcsRUFBT2dsQyxPQUVmLElBQ09ycUMsS0FBS3l1QyxLQUNoQixFQUtBMkUsRUFBY255QyxVQUFVbXpDLFNBQVcsU0FBVXp5QyxHQUN6QzNCLEtBQUtxRixPQUFPd3ZDLG9CQUFvQixRQUFTNzBDLEtBQUtvMEMsVUFBVSxHQUN4RHAwQyxLQUFLaXFDLFFBQVE5bUMsS0FBS3hCLEVBQ3RCLEVBS0F5eEMsRUFBY255QyxVQUFVNnpDLGlCQUFtQixXQUN2QyxJQUFJenZDLEVBQVNyRixLQUFLcUYsT0FDbEIsT0FBU0EsRUFBTzB2QyxTQUFXMXZDLEVBQU8ydkMsT0FBU2gxQyxLQUFLNDBDLGdCQUNwRCxFQUtBeEIsRUFBY255QyxVQUFVMnpDLGVBQWlCLFdBRXJDLE9BRGE1MEMsS0FBS3FGLE9BQ0o2cUMsV0FBYSxDQUMvQixFQUVBa0QsRUFBY255QyxVQUFVeXpDLGFBQWUsV0FFOUIxMEMsS0FBSytzQyxPQUNOL3NDLEtBQUttMEMsYUFFTG4wQyxLQUFLaTFDLGFBQWVqMUMsS0FBSzh6Qyx1QkFDekIvTSxHQUFPNEIsT0FBTzdPLElBQUk5NUIsS0FBSzZuQyxPQUFRN25DLE1BQy9CQSxLQUFLOHpDLHNCQUF1QixFQUVwQyxFQUVBVixFQUFjbnlDLFVBQVUwekMsWUFBYyxXQUM5QjMwQyxLQUFLOHpDLHVCQUNML00sR0FBTzRCLE9BQU96RCxPQUFPbGxDLEtBQUs2bkMsT0FBUTduQyxNQUNsQ0EsS0FBSzh6QyxzQkFBdUIsRUFFcEMsRUFFQVYsRUFBY255QyxVQUFVa3pDLFdBQWEsV0FDakMsSUFBSTl1QyxFQUFTckYsS0FBS3FGLE9BQ2xCQSxFQUFPd3ZDLG9CQUFvQixVQUFXNzBDLEtBQUttMEMsWUFDM0M5dUMsRUFBT3d2QyxvQkFBb0IsaUJBQWtCNzBDLEtBQUttMEMsWUFDbEQsSUFBSXBILEVBQVEvc0MsS0FBSytzQyxNQUNqQi9zQyxLQUFLMnVCLE9BQU90cEIsRUFBT21xQyxXQUFZbnFDLEVBQU9xcUMsY0FFakMzQyxHQUFTL3NDLEtBQUtzeUMsV0FDZnR5QyxLQUFLc3lDLFNBQVN0eUMsTUFDZEEsS0FBS3N5QyxTQUFXLE1BRWhCdHlDLEtBQUs4MEMsbUJBQ0w5MEMsS0FBSzAwQyxlQUVBMTBDLEtBQUtrMEMsVUFDVjd1QyxFQUFPNnZDLE1BRWYsRUFFQTlCLEVBQWNueUMsVUFBVXdwQyxRQUFVLFdBQzFCenFDLEtBQUs4ekMsdUJBQ0wvTSxHQUFPNEIsT0FBT3pELE9BQU9sbEMsS0FBSzZuQyxPQUFRN25DLE1BQ2xDQSxLQUFLOHpDLHNCQUF1QixHQUVoQyxJQUFJenVDLEVBQVNyRixLQUFLcUYsT0FDZEEsSUFDQUEsRUFBT3d2QyxvQkFBb0IsUUFBUzcwQyxLQUFLbzBDLFVBQVUsR0FDbkQvdUMsRUFBTzh2QyxRQUNQOXZDLEVBQU8yckMsSUFBTSxHQUNiM3JDLEVBQU9nbEMsUUFFWG5NLEVBQU9qOUIsVUFBVXdwQyxRQUFRaG9DLEtBQUt6QyxLQUNsQyxFQUNBZ0IsT0FBT2tRLGVBQWVraUMsRUFBY255QyxVQUFXLGFBQWMsQ0FFekRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs2ekMsV0FDaEIsRUFDQTNrQixJQUFLLFNBQVU5bkIsR0FDUEEsSUFBVXBILEtBQUs2ekMsY0FDZjd6QyxLQUFLNnpDLFlBQWN6c0MsR0FDZHBILEtBQUs2ekMsYUFBZTd6QyxLQUFLOHpDLHNCQUMxQi9NLEdBQU80QixPQUFPekQsT0FBT2xsQyxLQUFLNm5DLE9BQVE3bkMsTUFDbENBLEtBQUs4ekMsc0JBQXVCLEdBRXZCOXpDLEtBQUs2ekMsY0FBZ0I3ekMsS0FBSzh6QyxzQkFBd0I5ekMsS0FBSzgwQyxxQkFDNUQvTixHQUFPNEIsT0FBTzdPLElBQUk5NUIsS0FBSzZuQyxPQUFRN25DLE1BQy9CQSxLQUFLOHpDLHNCQUF1QixHQUd4QyxFQUNBM2lDLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVraUMsRUFBY255QyxVQUFXLFlBQWEsQ0FLeERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUsrekMsVUFDaEIsRUFDQTdrQixJQUFLLFNBQVU5bkIsR0FDUEEsSUFBVXBILEtBQUsrekMsYUFDZi96QyxLQUFLK3pDLFdBQWEzc0MsRUFFMUIsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFRbEJpa0IsRUFBYzdwQyxLQUFPLFNBQVVsRSxFQUFRcy9CLEdBQ25DLE9BQVF0ekIsV0FBVzQrQixrQkFBb0I1cUMsYUFBa0I0cUMsa0JBQ2xEbUQsRUFBY24rQixNQUFNNUssUUFBUXM2QixJQUFjLENBQ3JELEVBS0F5TyxFQUFjbitCLE1BQVEsQ0FBQyxNQUFPLE1BQU8sT0FBUSxNQUFPLE1BQU8sT0FBUSxNQUFPLE9BSzFFbStCLEVBQWNPLFdBQWEsQ0FDdkJ5QixJQUFLLFlBQ0xDLElBQUssa0JBQ0xDLElBQUssYUFFRmxDLENBQ1gsQ0FyUGtDLENBcVBoQy9ELElBTUVrRyxHQUFxQyxTQUFVclgsR0FNL0MsU0FBU3FYLEVBQW9CbHdDLEdBQ3pCLE9BQU82NEIsRUFBT3o3QixLQUFLekMsS0FBTXFGLElBQVdyRixJQUN4QyxDQVNBLE9BaEJBLEdBQVV1MUMsRUFBcUJyWCxHQWEvQnFYLEVBQW9CaHNDLEtBQU8sU0FBVWxFLEdBQ2pDLFFBQVNnTSxXQUFXKy9CLG1CQUE0QyxvQkFBaEJvRSxhQUErQm53QyxhQUFrQm13QyxXQUNyRyxFQUNPRCxDQUNYLENBbEJ3QyxDQWtCdENsRyxJQUVGNUYsR0FBVTl2QyxLQUFLazNDLEdBQWUwRSxHQUFxQnBGLEdBQWdCaUQsR0FBZW5CLEdBQWFySCxHQUFnQjBGLEdBQWN2QixJQUU3SCxJQUFJMEcsR0FBYSxDQUNicnpDLFVBQVcsS0FDWHduQyxTQUFVQSxHQUNWeUYsa0JBQW1CQSxHQUNuQjVGLFVBQVdBLEdBQ1hDLG1CQUFvQkEsR0FDcEI0RSxzQkFBdUJBLEdBQ3ZCUyxjQUFlQSxHQUNmbkUsZUFBZ0JBLEdBQ2hCdUYsZUFBZ0JBLEdBQ2hCRyxhQUFjQSxHQUNkTyxjQUFlQSxHQUNmb0IsWUFBYUEsR0FDYm1CLGNBQWVBLEdBQ2ZtQyxvQkFBcUJBLElBT3JCRyxHQUErQixTQUFVeFgsR0FFekMsU0FBU3dYLElBQ0wsT0FBa0IsT0FBWHhYLEdBQW1CQSxFQUFPdDZCLE1BQU01RCxLQUFNeUQsWUFBY3pELElBQy9ELENBdUJBLE9BMUJBLEdBQVUwMUMsRUFBZXhYLEdBV3pCd1gsRUFBY3owQyxVQUFVNHBDLE9BQVMsU0FBVXhILEVBQVU4RyxFQUFhVyxHQUM5RCxJQUFJbnFCLEVBQUswaUIsRUFBUzFpQixHQUNsQkEsRUFBR29xQixZQUFZcHFCLEVBQUdxcUIsK0JBQWdDYixFQUFZYyxZQUFjMzFCLEVBQVk0MUIsUUFDeEYsSUFBSWwwQixFQUFRbXpCLEVBQVlnQixVQUNwQmwwQixFQUFTa3pCLEVBQVlpQixXQVN6QixPQVJJTixFQUFVOXpCLFFBQVVBLEdBQVM4ekIsRUFBVTd6QixTQUFXQSxFQUNsRDBKLEVBQUcwcUIsY0FBY2xCLEVBQVkva0MsT0FBUSxFQUFHLEVBQUcsRUFBRzRSLEVBQU9DLEVBQVFrekIsRUFBWWwrQixPQUFRNitCLEVBQVVsa0MsS0FBTTVHLEtBQUs1SCxPQUd0RzB5QyxFQUFVOXpCLE1BQVFBLEVBQ2xCOHpCLEVBQVU3ekIsT0FBU0EsRUFDbkIwSixFQUFHMnFCLFdBQVduQixFQUFZL2tDLE9BQVEsRUFBRzBsQyxFQUFVUyxlQUFnQnYwQixFQUFPQyxFQUFRLEVBQUdrekIsRUFBWWwrQixPQUFRNitCLEVBQVVsa0MsS0FBTTVHLEtBQUs1SCxRQUV2SCxDQUNYLEVBQ09zOUMsQ0FDWCxDQTVCa0MsQ0E0QmhDOUssSUFTRStLLEdBQTZCLFdBSzdCLFNBQVNBLEVBQVkzK0IsRUFBT0MsR0FDeEJqWCxLQUFLZ1gsTUFBUS9jLEtBQUtnMUIsTUFBTWpZLEdBQVMsS0FDakNoWCxLQUFLaVgsT0FBU2hkLEtBQUtnMUIsTUFBTWhZLEdBQVUsS0FDbkNqWCxLQUFLeWdCLFNBQVUsRUFDZnpnQixLQUFLNDFDLE9BQVEsRUFDYjUxQyxLQUFLNHNDLFFBQVUsRUFDZjVzQyxLQUFLNjFDLFlBQWMsRUFDbkI3MUMsS0FBSzgxQyxVQUFZLEVBQ2pCOTFDLEtBQUsrMUMsYUFBZSxLQUNwQi8xQyxLQUFLZzJDLGNBQWdCLEdBQ3JCaDJDLEtBQUtpMkMsZUFBaUIsQ0FBQyxFQUN2QmoyQyxLQUFLazJDLGNBQWdCLElBQUl2USxHQUFPLHNCQUNoQzNsQyxLQUFLbTJDLFlBQWN2Z0MsRUFBYXFGLElBQ3BDLENBc0dBLE9BckdBamEsT0FBT2tRLGVBQWV5a0MsRUFBWTEwQyxVQUFXLGVBQWdCLENBS3pEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLZzJDLGNBQWMsRUFDOUIsRUFDQTdrQyxZQUFZLEVBQ1pnZSxjQUFjLElBT2xCd21CLEVBQVkxMEMsVUFBVW0xQyxnQkFBa0IsU0FBVTd0QyxFQUFPMm1DLEdBWXJELFlBWGMsSUFBVjNtQyxJQUFvQkEsRUFBUSxHQUVoQ3ZJLEtBQUtnMkMsY0FBY3p0QyxHQUFTMm1DLEdBQVcsSUFBSXJELEdBQVksS0FBTSxDQUN6REosVUFBV3QyQixFQUFZdTJCLFFBQ3ZCaGQsV0FBWSxFQUNacWQsT0FBUTEyQixFQUFhZ2hDLElBQ3JCci9CLE1BQU9oWCxLQUFLZ1gsTUFDWkMsT0FBUWpYLEtBQUtpWCxTQUVqQmpYLEtBQUs0c0MsVUFDTDVzQyxLQUFLNjFDLGNBQ0U3MUMsSUFDWCxFQUtBMjFDLEVBQVkxMEMsVUFBVXExQyxnQkFBa0IsU0FBVXBILEdBYTlDLE9BWEFsdkMsS0FBSysxQyxhQUFlN0csR0FBVyxJQUFJckQsR0FBWSxJQUFJNkosR0FBYyxLQUFNLENBQUUxK0IsTUFBT2hYLEtBQUtnWCxNQUFPQyxPQUFRalgsS0FBS2lYLFNBQVcsQ0FDaEh3MEIsVUFBV3QyQixFQUFZdTJCLFFBQ3ZCaGQsV0FBWSxFQUNaMVgsTUFBT2hYLEtBQUtnWCxNQUNaQyxPQUFRalgsS0FBS2lYLE9BQ2I4MEIsT0FBUTEyQixFQUFhZ2hDLElBQ3JCcHFDLE9BQVE4SSxFQUFRd2hDLGdCQUNoQjN2QyxLQUFNcU8sRUFBTXVoQyxpQkFFaEJ4MkMsS0FBSzRzQyxVQUNMNXNDLEtBQUs2MUMsY0FDRTcxQyxJQUNYLEVBRUEyMUMsRUFBWTEwQyxVQUFVdzFDLFlBQWMsV0FJaEMsT0FIQXoyQyxLQUFLNDFDLE9BQVEsRUFDYjUxQyxLQUFLNHNDLFVBQ0w1c0MsS0FBSzYxQyxjQUNFNzFDLElBQ1gsRUFFQTIxQyxFQUFZMTBDLFVBQVV5MUMsY0FBZ0IsV0FJbEMsT0FIQTEyQyxLQUFLeWdCLFNBQVUsRUFDZnpnQixLQUFLNHNDLFVBQ0w1c0MsS0FBSzYxQyxjQUNFNzFDLElBQ1gsRUFNQTIxQyxFQUFZMTBDLFVBQVUwdEIsT0FBUyxTQUFVM1gsRUFBT0MsR0FHNUMsR0FGQUQsRUFBUS9jLEtBQUtnMUIsTUFBTWpZLEdBQ25CQyxFQUFTaGQsS0FBS2cxQixNQUFNaFksR0FDaEJELElBQVVoWCxLQUFLZ1gsT0FBU0MsSUFBV2pYLEtBQUtpWCxPQUE1QyxDQUVBalgsS0FBS2dYLE1BQVFBLEVBQ2JoWCxLQUFLaVgsT0FBU0EsRUFDZGpYLEtBQUs0c0MsVUFDTDVzQyxLQUFLODFDLFlBQ0wsSUFBSyxJQUFJeDhDLEVBQUksRUFBR0EsRUFBSTBHLEtBQUtnMkMsY0FBY2o5QyxPQUFRTyxJQUFLLENBQ2hELElBQUk0MUMsRUFBVWx2QyxLQUFLZzJDLGNBQWMxOEMsR0FDN0JvMUIsRUFBYXdnQixFQUFReGdCLFdBRXpCd2dCLEVBQVEzQixRQUFRdjJCLEVBQVEwWCxFQUFZelgsRUFBU3lYLEVBQ2pELENBQ0kxdUIsS0FBSysxQyxlQUNEcm5CLEVBQWExdUIsS0FBSysxQyxhQUFhcm5CLFdBQ25DMXVCLEtBQUsrMUMsYUFBYXhJLFFBQVF2MkIsRUFBUTBYLEVBQVl6WCxFQUFTeVgsR0FiN0MsQ0FlbEIsRUFFQWluQixFQUFZMTBDLFVBQVV3cEMsUUFBVSxXQUM1QnpxQyxLQUFLazJDLGNBQWMveUMsS0FBS25ELE1BQU0sRUFDbEMsRUFFQTIxQyxFQUFZMTBDLFVBQVUwMUMsb0JBQXNCLFdBQ3BDMzJDLEtBQUsrMUMsZUFDTC8xQyxLQUFLKzFDLGFBQWF4bkIsVUFDbEJ2dUIsS0FBSysxQyxhQUFlLE9BQ2xCLzFDLEtBQUs0c0MsVUFDTDVzQyxLQUFLNjFDLFlBRWYsRUFDT0YsQ0FDWCxDQXpIZ0MsR0FnSzVCaUIsR0FBbUMsU0FBVTFZLEdBWTdDLFNBQVMwWSxFQUFrQjlzQyxRQUNQLElBQVpBLElBQXNCQSxFQUFVLENBQUMsR0FDckMsSUFBSXEwQixFQUFRbitCLEtBQ1osR0FBdUIsaUJBQVo4SixFQUFzQixDQUc3QixJQUFJa04sRUFBUXZULFVBQVUsR0FDbEJ3VCxFQUFTeFQsVUFBVSxHQUNuQmdvQyxFQUFZaG9DLFVBQVUsR0FDdEJpckIsRUFBYWpyQixVQUFVLEdBQzNCcUcsRUFBVSxDQUFFa04sTUFBT0EsRUFBT0MsT0FBUUEsRUFBUXcwQixVQUFXQSxFQUFXL2MsV0FBWUEsRUFFaEYsQ0FlQSxPQWRBNWtCLEVBQVFrTixNQUFRbE4sRUFBUWtOLE9BQVMsSUFDakNsTixFQUFRbU4sT0FBU25OLEVBQVFtTixRQUFVLElBQ25Dbk4sRUFBUXFzQyxpQkFBc0N4eUMsSUFBeEJtRyxFQUFRcXNDLFlBQTRCcnNDLEVBQVFxc0MsWUFBY3ZnQyxFQUFhcUYsTUFDN0ZrakIsRUFBUUQsRUFBT3o3QixLQUFLekMsS0FBTSxLQUFNOEosSUFBWTlKLE1BRXRDK3JDLE9BQVMxMkIsRUFBYWdoQyxJQUM1QmxZLEVBQU00TyxPQUFRLEVBQ2Q1TyxFQUFNMFksV0FBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLEdBQzdCMVksRUFBTTJZLFlBQWMsSUFBSW5CLEdBQVl4WCxFQUFNZ04sVUFBV2hOLEVBQU1pTixZQUN0RGdMLGdCQUFnQixFQUFHalksR0FDeEJBLEVBQU0yWSxZQUFZWCxZQUFjcnNDLEVBQVFxc0MsWUFFeENoWSxFQUFNNFksVUFBWSxHQUNsQjVZLEVBQU02WSxZQUFjLENBQUMsQ0FBQyxHQUNmN1ksQ0FDWCxDQTBCQSxPQWpFQSxHQUFVeVksRUFBbUIxWSxHQTZDN0IwWSxFQUFrQjMxQyxVQUFVMHRCLE9BQVMsU0FBVUksRUFBY0MsR0FDekRodkIsS0FBSzgyQyxZQUFZbm9CLE9BQU9JLEVBQWUvdUIsS0FBSzB1QixXQUFZTSxFQUFnQmh2QixLQUFLMHVCLFlBQzdFMXVCLEtBQUt3dEMsWUFBWXh0QyxLQUFLODJDLFlBQVk5L0IsTUFBT2hYLEtBQUs4MkMsWUFBWTcvQixPQUM5RCxFQU9BMi9CLEVBQWtCMzFDLFVBQVV3cEMsUUFBVSxXQUNsQ3pxQyxLQUFLODJDLFlBQVlyTSxVQUNqQnZNLEVBQU9qOUIsVUFBVXdwQyxRQUFRaG9DLEtBQUt6QyxLQUNsQyxFQUVBNDJDLEVBQWtCMzFDLFVBQVVzdEIsUUFBVSxXQUNsQzJQLEVBQU9qOUIsVUFBVXN0QixRQUFROXJCLEtBQUt6QyxNQUM5QkEsS0FBSzgyQyxZQUFZSCxzQkFDakIzMkMsS0FBSzgyQyxZQUFjLElBQ3ZCLEVBQ09GLENBQ1gsQ0FuRXNDLENBbUVwQy9LLElBZ0JFb0wsR0FBNEIsV0FDNUIsU0FBU0EsSUFDTGozQyxLQUFLbkQsR0FBSyxFQUNWbUQsS0FBS2xELEdBQUssRUFDVmtELEtBQUtqRCxHQUFLLEVBQ1ZpRCxLQUFLaEQsR0FBSyxFQUNWZ0QsS0FBS2l6QixHQUFLLEVBQ1ZqekIsS0FBS2t6QixHQUFLLEVBQ1ZsekIsS0FBS2szQyxHQUFLLEVBQ1ZsM0MsS0FBS20zQyxHQUFLLEVBQ1ZuM0MsS0FBS28zQyxXQUFhLElBQUkzZ0MsYUFBYSxFQUN2QyxDQXlEQSxPQWpEQXdnQyxFQUFXaDJDLFVBQVVpdUIsSUFBTSxTQUFVbW9CLEVBQU9DLEVBQVduaEIsR0FDbkQsSUFBSW9oQixFQUFLRCxFQUFVdGdDLE1BQ2Z3Z0MsRUFBS0YsRUFBVXJnQyxPQUNuQixHQUFJa2YsRUFBUSxDQUVSLElBQUlzaEIsRUFBS0osRUFBTXJnQyxNQUFRLEVBQUl1Z0MsRUFDdkJHLEVBQUtMLEVBQU1wZ0MsT0FBUyxFQUFJdWdDLEVBRXhCRyxFQUFNTixFQUFNMStDLEVBQUk0K0MsRUFBTUUsRUFDdEJHLEVBQU1QLEVBQU16K0MsRUFBSTQrQyxFQUFNRSxFQUMxQnZoQixFQUFTd0MsR0FBUW1CLElBQUkzRCxFQUFRd0MsR0FBUU0sSUFDckNqNUIsS0FBS25ELEdBQUs4NkMsRUFBTUYsRUFBSzllLEdBQVFhLEdBQUdyRCxHQUNoQ24yQixLQUFLbEQsR0FBSzg2QyxFQUFNRixFQUFLL2UsR0FBUWUsR0FBR3ZELEdBQ2hDQSxFQUFTd0MsR0FBUW1CLElBQUkzRCxFQUFRLEdBQzdCbjJCLEtBQUtqRCxHQUFLNDZDLEVBQU1GLEVBQUs5ZSxHQUFRYSxHQUFHckQsR0FDaENuMkIsS0FBS2hELEdBQUs0NkMsRUFBTUYsRUFBSy9lLEdBQVFlLEdBQUd2RCxHQUNoQ0EsRUFBU3dDLEdBQVFtQixJQUFJM0QsRUFBUSxHQUM3Qm4yQixLQUFLaXpCLEdBQUswa0IsRUFBTUYsRUFBSzllLEdBQVFhLEdBQUdyRCxHQUNoQ24yQixLQUFLa3pCLEdBQUswa0IsRUFBTUYsRUFBSy9lLEdBQVFlLEdBQUd2RCxHQUNoQ0EsRUFBU3dDLEdBQVFtQixJQUFJM0QsRUFBUSxHQUM3Qm4yQixLQUFLazNDLEdBQUtTLEVBQU1GLEVBQUs5ZSxHQUFRYSxHQUFHckQsR0FDaENuMkIsS0FBS20zQyxHQUFLUyxFQUFNRixFQUFLL2UsR0FBUWUsR0FBR3ZELEVBQ3BDLE1BRUluMkIsS0FBS25ELEdBQUt3NkMsRUFBTTErQyxFQUFJNCtDLEVBQ3BCdjNDLEtBQUtsRCxHQUFLdTZDLEVBQU16K0MsRUFBSTQrQyxFQUNwQngzQyxLQUFLakQsSUFBTXM2QyxFQUFNMStDLEVBQUkwK0MsRUFBTXJnQyxPQUFTdWdDLEVBQ3BDdjNDLEtBQUtoRCxHQUFLcTZDLEVBQU16K0MsRUFBSTQrQyxFQUNwQngzQyxLQUFLaXpCLElBQU1va0IsRUFBTTErQyxFQUFJMCtDLEVBQU1yZ0MsT0FBU3VnQyxFQUNwQ3YzQyxLQUFLa3pCLElBQU1ta0IsRUFBTXorQyxFQUFJeStDLEVBQU1wZ0MsUUFBVXVnQyxFQUNyQ3gzQyxLQUFLazNDLEdBQUtHLEVBQU0xK0MsRUFBSTQrQyxFQUNwQnYzQyxLQUFLbTNDLElBQU1FLEVBQU16K0MsRUFBSXkrQyxFQUFNcGdDLFFBQVV1Z0MsRUFFekN4M0MsS0FBS28zQyxXQUFXLEdBQUtwM0MsS0FBS25ELEdBQzFCbUQsS0FBS28zQyxXQUFXLEdBQUtwM0MsS0FBS2xELEdBQzFCa0QsS0FBS28zQyxXQUFXLEdBQUtwM0MsS0FBS2pELEdBQzFCaUQsS0FBS28zQyxXQUFXLEdBQUtwM0MsS0FBS2hELEdBQzFCZ0QsS0FBS28zQyxXQUFXLEdBQUtwM0MsS0FBS2l6QixHQUMxQmp6QixLQUFLbzNDLFdBQVcsR0FBS3AzQyxLQUFLa3pCLEdBQzFCbHpCLEtBQUtvM0MsV0FBVyxHQUFLcDNDLEtBQUtrM0MsR0FDMUJsM0MsS0FBS28zQyxXQUFXLEdBQUtwM0MsS0FBS20zQyxFQUM5QixFQUNBRixFQUFXaDJDLFVBQVV3cEIsU0FBVyxXQUM1QixNQUFPLDZCQUNRenFCLEtBQUtuRCxHQUFLLE9BQVNtRCxLQUFLbEQsR0FEaEMsT0FFUWtELEtBQUtqRCxHQUFLLE9BQVNpRCxLQUFLaEQsR0FBSyxPQUFTZ0QsS0FBS2l6QixHQUZuRCxPQUdRanpCLEtBQUtrekIsR0FBSyxPQUFTbHpCLEtBQUtrM0MsR0FBSyxPQUFTbDNDLEtBQUttM0MsR0FDcEQsR0FDVixFQUNPRixDQUNYLENBckUrQixHQXVFM0JZLEdBQWMsSUFBSVosR0FLdEIsU0FBU2EsR0FBa0JDLEdBQ3ZCQSxFQUFJeHBCLFFBQVUsV0FBMkIsRUFDekN3cEIsRUFBSWwwQyxHQUFLLFdBQXNCLEVBQy9CazBDLEVBQUl2MkMsS0FBTyxXQUF3QixFQUNuQ3UyQyxFQUFJNTBDLEtBQU8sV0FBd0IsQ0FDdkMsQ0E2QkEsSUFBSTYwQyxHQUF5QixTQUFVOVosR0FVbkMsU0FBUzhaLEVBQVE3TixFQUFha04sRUFBT1ksRUFBTXpxQyxFQUFNMm9CLEVBQVEraEIsR0FDckQsSUFBSS9aLEVBQVFELEVBQU96N0IsS0FBS3pDLE9BQVNBLEtBaUJqQyxHQWhCQW0rQixFQUFNZ2EsU0FBVSxFQUNYZCxJQUNEbFosRUFBTWdhLFNBQVUsRUFDaEJkLEVBQVEsSUFBSTdsQixHQUFVLEVBQUcsRUFBRyxFQUFHLElBRS9CMlksYUFBdUI2TixJQUN2QjdOLEVBQWNBLEVBQVlBLGFBRTlCaE0sRUFBTWdNLFlBQWNBLEVBQ3BCaE0sRUFBTWlhLE9BQVNmLEVBQ2ZsWixFQUFNM3dCLEtBQU9BLEVBQ2Iyd0IsRUFBTTRPLE9BQVEsRUFDZDVPLEVBQU1rYSxLQUFPUixHQUNiMVosRUFBTW1hLFNBQVcsS0FDakJuYSxFQUFNOFosS0FBT0EsR0FBUVosRUFDckJsWixFQUFNb2EsUUFBVWxpQyxPQUFPOGYsR0FBVSxJQUNsQixJQUFYQSxFQUVBZ0ksRUFBTW9hLFFBQVUsT0FFZixHQUFJcGEsRUFBTW9hLFFBQVUsR0FBTSxFQUMzQixNQUFNLElBQUkvckIsTUFBTSw2RUFvQnBCLE9BbEJBMlIsRUFBTXFhLGNBQWdCTixFQUFTLElBQUkvbUIsR0FBTSttQixFQUFPdi9DLEVBQUd1L0MsRUFBT3QvQyxHQUFLLElBQUl1NEIsR0FBTSxFQUFHLEdBQzVFZ04sRUFBTXNhLFVBQVksRUFDbEJ0YSxFQUFNNk8sZ0JBQWtCLEdBQ25CN0MsRUFBWTRDLE1BR1I1TyxFQUFNZ2EsUUFFUGhPLEVBQVk0QyxPQUNaNU8sRUFBTXVhLHFCQUFxQnZPLEdBSS9CaE0sRUFBTWtaLE1BQVFBLEVBVGRsTixFQUFZM29DLEtBQUssU0FBVTI4QixFQUFNdWEscUJBQXNCdmEsR0FXdkRBLEVBQU1nYSxTQUNOaE8sRUFBWXRtQyxHQUFHLFNBQVVzNkIsRUFBTXVhLHFCQUFzQnZhLEdBRWxEQSxDQUNYLENBcVhBLE9BMWFBLEdBQVU2WixFQUFTOVosR0E2RG5COFosRUFBUS8yQyxVQUFVNG1DLE9BQVMsV0FDbkI3bkMsS0FBS21xQyxZQUFZMkIsVUFDakI5ckMsS0FBS21xQyxZQUFZMkIsU0FBU2pFLFFBRWxDLEVBTUFtUSxFQUFRLzJDLFVBQVV5M0MscUJBQXVCLFNBQVV2TyxHQUMvQyxHQUFJbnFDLEtBQUttNEMsUUFBUyxDQUNkLElBQUtuNEMsS0FBS21xQyxZQUFZNEMsTUFDbEIsT0FFSi9zQyxLQUFLbzRDLE9BQU9waEMsTUFBUW16QixFQUFZbnpCLE1BQ2hDaFgsS0FBS280QyxPQUFPbmhDLE9BQVNrekIsRUFBWWx6QixPQUNqQ2pYLEtBQUsrc0MsT0FBUSxFQUNiL3NDLEtBQUsyNEMsV0FDVCxNQUlJMzRDLEtBQUtxM0MsTUFBUXIzQyxLQUFLbzRDLE9BRXRCcDRDLEtBQUttRCxLQUFLLFNBQVVuRCxLQUN4QixFQUtBZzRDLEVBQVEvMkMsVUFBVXN0QixRQUFVLFNBQVVxcUIsR0FDbEMsR0FBSTU0QyxLQUFLbXFDLFlBQWEsQ0FDbEIsR0FBSXlPLEVBQWEsQ0FDYixJQUFJOU0sRUFBVzlyQyxLQUFLbXFDLFlBQVkyQixTQUc1QkEsR0FBWUEsRUFBUy8rQixLQUFPcWhCLEdBQWEwZCxFQUFTLytCLE1BQ2xEaXJDLEVBQVFySyxnQkFBZ0I3QixFQUFTLytCLEtBRXJDL00sS0FBS21xQyxZQUFZNWIsU0FDckIsQ0FDQXZ1QixLQUFLbXFDLFlBQVlwbUMsSUFBSSxTQUFVL0QsS0FBSzA0QyxxQkFBc0IxNEMsTUFDMURBLEtBQUttcUMsWUFBWXBtQyxJQUFJLFNBQVUvRCxLQUFLMDRDLHFCQUFzQjE0QyxNQUMxREEsS0FBS21xQyxZQUFjLElBQ3ZCLENBQ0FucUMsS0FBS280QyxPQUFTLEtBQ2RwNEMsS0FBS3E0QyxLQUFPLEtBQ1pyNEMsS0FBS3dOLEtBQU8sS0FDWnhOLEtBQUtpNEMsS0FBTyxLQUNaajRDLEtBQUsrc0MsT0FBUSxFQUNiaUwsRUFBUXJLLGdCQUFnQjN0QyxNQUN4QkEsS0FBS2d0QyxnQkFBa0IsSUFDM0IsRUFLQWdMLEVBQVEvMkMsVUFBVW13QixNQUFRLFdBQ3RCLElBQUl5bkIsRUFBYzc0QyxLQUFLbzRDLE9BQU9obkIsUUFDMUIwbkIsRUFBYTk0QyxLQUFLbzRDLFNBQVdwNEMsS0FBS2k0QyxLQUFPWSxFQUFjNzRDLEtBQUtpNEMsS0FBSzdtQixRQUNqRTJuQixFQUFnQixJQUFJZixFQUFRaDRDLEtBQUttcUMsYUFBY25xQyxLQUFLbTRDLFNBQVdVLEVBQWFDLEVBQVk5NEMsS0FBS3dOLE1BQVF4TixLQUFLd04sS0FBSzRqQixRQUFTcHhCLEtBQUttMkIsT0FBUW4yQixLQUFLdzRDLGVBSTlJLE9BSEl4NEMsS0FBS200QyxVQUNMWSxFQUFjWCxPQUFTUyxHQUVwQkUsQ0FDWCxFQUtBZixFQUFRLzJDLFVBQVUwM0MsVUFBWSxXQUN0QjM0QyxLQUFLcTRDLE9BQVNSLEtBQ2Q3M0MsS0FBS3E0QyxLQUFPLElBQUlwQixJQUVwQmozQyxLQUFLcTRDLEtBQUtucEIsSUFBSWx2QixLQUFLbzRDLE9BQVFwNEMsS0FBS21xQyxZQUFhbnFDLEtBQUttMkIsUUFDbERuMkIsS0FBS3k0QyxXQUNULEVBV0FULEVBQVExeUMsS0FBTyxTQUFVRCxFQUFReUUsRUFBUytqQyxRQUN0QixJQUFaL2pDLElBQXNCQSxFQUFVLENBQUMsUUFDdEIsSUFBWCtqQyxJQUFxQkEsRUFBU3B6QixHQUFTK3VCLHNCQUMzQyxJQUFJc0UsRUFBNEIsaUJBQVh6b0MsRUFDakJ5bkMsRUFBVSxLQUNkLEdBQUlnQixFQUNBaEIsRUFBVXpuQyxPQUVULEdBQUlBLGFBQWtCd21DLEdBQWEsQ0FDcEMsSUFBS3htQyxFQUFPeW5DLFFBQVMsQ0FDakIsSUFBSTNyQyxFQUFVMkksR0FBV0EsRUFBUWtrQyxjQUFpQixTQUNsRDNvQyxFQUFPeW5DLFFBQVUzckMsRUFBUyxJQUFNdXNCLEtBQ2hDbWUsR0FBWW9DLFdBQVc1b0MsRUFBUUEsRUFBT3luQyxRQUMxQyxDQUNBQSxFQUFVem5DLEVBQU95bkMsT0FDckIsTUFFU3puQyxFQUFPMG9DLFVBQ0o1c0MsRUFBVTJJLEdBQVdBLEVBQVFra0MsY0FBaUIsU0FDbEQzb0MsRUFBTzBvQyxRQUFVNXNDLEVBQVMsSUFBTXVzQixNQUVwQ29mLEVBQVV6bkMsRUFBTzBvQyxRQUVyQixJQUFJbUIsRUFBVTlnQixHQUFhMGUsR0FFM0IsR0FBSWdCLEdBQVdELElBQVdxQixFQUN0QixNQUFNLElBQUkxaUIsTUFBTSxnQkFBbUJzZ0IsRUFBVSxxQ0FnQmpELE9BZEtvQyxHQUFhN3BDLGFBQWtCd21DLElBUzFCcUQsR0FBWTdwQyxhQUFrQndtQyxLQUNwQ3FELEVBQVUsSUFBSThJLEVBQVEzeUMsR0FDdEIyeUMsRUFBUS9KLFdBQVdpQixFQUFTcEMsS0FWdkJoakMsRUFBUTRrQixhQUNUNWtCLEVBQVE0a0IsV0FBYWlDLEdBQW1CdHJCLEtBRTVDNnBDLEVBQVUsSUFBSThJLEVBQVEsSUFBSW5NLEdBQVl4bUMsRUFBUXlFLEtBQ3RDcWdDLFlBQVkyQyxRQUFVQSxFQUM5QmpCLEdBQVlvQyxXQUFXaUIsRUFBUS9FLFlBQWEyQyxHQUM1Q2tMLEVBQVEvSixXQUFXaUIsRUFBU3BDLElBT3pCb0MsQ0FDWCxFQVNBOEksRUFBUWdCLFFBQVUsU0FBVWpzQyxFQUFLakQsR0FDN0IsSUFBSW9pQyxFQUFrQmxyQyxPQUFPcUQsT0FBTyxDQUFFa3NDLFVBQVUsR0FBU3ptQyxhQUF5QyxFQUFTQSxFQUFRb2lDLGlCQUMvR2dELEVBQVU4SSxFQUFRMXlDLEtBQUt5SCxFQUFLL0wsT0FBT3FELE9BQU8sQ0FBRTZuQyxnQkFBaUJBLEdBQW1CcGlDLElBQVUsR0FDMUZnaUMsRUFBV29ELEVBQVEvRSxZQUFZMkIsU0FFbkMsT0FBSW9ELEVBQVEvRSxZQUFZNEMsTUFDYjM0QixRQUFRckksUUFBUW1qQyxHQUdwQnBELEVBQVN6QixPQUFPdDNCLE1BQUssV0FBYyxPQUFPcUIsUUFBUXJJLFFBQVFtakMsRUFBVSxHQUMvRSxFQVdBOEksRUFBUTlKLFdBQWEsU0FBVWpoQixFQUFRalcsRUFBT0MsRUFBUW5OLEdBQ2xELE9BQU8sSUFBSWt1QyxFQUFRbk0sR0FBWXFDLFdBQVdqaEIsRUFBUWpXLEVBQU9DLEVBQVFuTixHQUNyRSxFQVVBa3VDLEVBQVFpQixXQUFhLFNBQVU1ekMsRUFBUTZ6QyxFQUFVMzJDLEVBQU11SCxHQUNuRCxJQUFJcWdDLEVBQWMsSUFBSTBCLEdBQVl4bUMsRUFBUXJFLE9BQU9xRCxPQUFPLENBQ3BEb25DLFVBQVdoeEIsR0FBUzhCLFdBQ3BCbVMsV0FBWWlDLEdBQW1CdW9CLElBQ2hDcHZDLElBQ0NnaUMsRUFBVzNCLEVBQVkyQixTQUN2QkEsYUFBb0IrRSxLQUNwQi9FLEVBQVMvK0IsSUFBTW1zQyxHQUVuQixJQUFJaEssRUFBVSxJQUFJOEksRUFBUTdOLEdBYzFCLE9BWks1bkMsSUFDREEsRUFBTzIyQyxHQUdYck4sR0FBWW9DLFdBQVdpQixFQUFRL0UsWUFBYTVuQyxHQUM1Q3kxQyxFQUFRL0osV0FBV2lCLEVBQVMzc0MsR0FFeEJBLElBQVMyMkMsSUFDVHJOLEdBQVlvQyxXQUFXaUIsRUFBUS9FLFlBQWErTyxHQUM1Q2xCLEVBQVEvSixXQUFXaUIsRUFBU2dLLElBRzVCaEssRUFBUS9FLFlBQVk0QyxNQUNiMzRCLFFBQVFySSxRQUFRbWpDLEdBR3BCLElBQUk5NkIsU0FBUSxTQUFVckksR0FDekJtakMsRUFBUS9FLFlBQVkzb0MsS0FBSyxVQUFVLFdBQWMsT0FBT3VLLEVBQVFtakMsRUFBVSxHQUM5RSxHQUNKLEVBTUE4SSxFQUFRL0osV0FBYSxTQUFVaUIsRUFBU3IrQixHQUNoQ0EsS0FDNkMsSUFBekNxK0IsRUFBUWxDLGdCQUFnQjNpQyxRQUFRd0csSUFDaENxK0IsRUFBUWxDLGdCQUFnQnJ6QyxLQUFLa1gsR0FFN0J1ZCxHQUFhdmQsSUFFYnFELFFBQVFDLEtBQUssMENBQTRDdEQsRUFBSywrQkFFbEV1ZCxHQUFhdmQsR0FBTXErQixFQUUzQixFQU1BOEksRUFBUXJLLGdCQUFrQixTQUFVdUIsR0FDaEMsR0FBdUIsaUJBQVpBLEVBQXNCLENBQzdCLElBQUlpSyxFQUFtQi9xQixHQUFhOGdCLEdBQ3BDLEdBQUlpSyxFQUFrQixDQUNsQixJQUFJNXdDLEVBQVE0d0MsRUFBaUJuTSxnQkFBZ0IzaUMsUUFBUTZrQyxHQUtyRCxPQUpJM21DLEdBQVMsR0FDVDR3QyxFQUFpQm5NLGdCQUFnQmhrQyxPQUFPVCxFQUFPLFVBRTVDNmxCLEdBQWE4Z0IsR0FDYmlLLENBQ1gsQ0FDSixNQUNLLEdBQUlqSyxHQUFXQSxFQUFRbEMsZ0JBQWlCLENBQ3pDLElBQUssSUFBSTF6QyxFQUFJLEVBQUdBLEVBQUk0MUMsRUFBUWxDLGdCQUFnQmowQyxTQUFVTyxFQUU5QzgwQixHQUFhOGdCLEVBQVFsQyxnQkFBZ0IxekMsTUFBUTQxQyxVQUN0QzlnQixHQUFhOGdCLEVBQVFsQyxnQkFBZ0IxekMsSUFJcEQsT0FEQTQxQyxFQUFRbEMsZ0JBQWdCajBDLE9BQVMsRUFDMUJtMkMsQ0FDWCxDQUNBLE9BQU8sSUFDWCxFQUNBbHVDLE9BQU9rUSxlQUFlOG1DLEVBQVEvMkMsVUFBVyxhQUFjLENBS25EbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLbXFDLFlBQVl6YixVQUM1QixFQUNBdmQsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZThtQyxFQUFRLzJDLFVBQVcsUUFBUyxDQUs5Q21RLElBQUssV0FDRCxPQUFPcFIsS0FBS280QyxNQUNoQixFQUNBbHBCLElBQUssU0FBVW1vQixHQUNYcjNDLEtBQUtvNEMsT0FBU2YsRUFDZHIzQyxLQUFLbTRDLFNBQVUsRUFDZixJQUFJeC9DLEVBQUkwK0MsRUFBTTErQyxFQUFHQyxFQUFJeStDLEVBQU16K0MsRUFBR29lLEVBQVFxZ0MsRUFBTXJnQyxNQUFPQyxFQUFTb2dDLEVBQU1wZ0MsT0FDOURtaUMsRUFBVXpnRCxFQUFJcWUsRUFBUWhYLEtBQUttcUMsWUFBWW56QixNQUN2Q3FpQyxFQUFVemdELEVBQUlxZSxFQUFTalgsS0FBS21xQyxZQUFZbHpCLE9BQzVDLEdBQUltaUMsR0FBV0MsRUFBUyxDQUNwQixJQUFJQyxFQUFlRixHQUFXQyxFQUFVLE1BQVEsS0FDNUNFLEVBQVMsTUFBUTVnRCxFQUFJLE1BQVFxZSxFQUFRLE9BQVNyZSxFQUFJcWUsR0FBUyxNQUFRaFgsS0FBS21xQyxZQUFZbnpCLE1BQ3BGd2lDLEVBQVMsTUFBUTVnRCxFQUFJLE1BQVFxZSxFQUFTLE9BQVNyZSxFQUFJcWUsR0FBVSxNQUFRalgsS0FBS21xQyxZQUFZbHpCLE9BQzFGLE1BQU0sSUFBSXVWLE1BQU0seUVBQ1Qrc0IsRUFBUyxJQUFNRCxFQUFlLElBQU1FLEVBQy9DLENBQ0F4NUMsS0FBSytzQyxNQUFRLzFCLEdBQVNDLEdBQVVqWCxLQUFLbXFDLFlBQVk0QyxNQUM1Qy9zQyxLQUFLd04sTUFBU3hOLEtBQUttMkIsU0FDcEJuMkIsS0FBS2k0QyxLQUFPWixHQUVacjNDLEtBQUsrc0MsT0FDTC9zQyxLQUFLMjRDLFdBRWIsRUFDQXhuQyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlOG1DLEVBQVEvMkMsVUFBVyxTQUFVLENBUS9DbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLdTRDLE9BQ2hCLEVBQ0FycEIsSUFBSyxTQUFVaUgsR0FDWG4yQixLQUFLdTRDLFFBQVVwaUIsRUFDWG4yQixLQUFLK3NDLE9BQ0wvc0MsS0FBSzI0QyxXQUViLEVBQ0F4bkMsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZThtQyxFQUFRLzJDLFVBQVcsUUFBUyxDQUU5Q21RLElBQUssV0FDRCxPQUFPcFIsS0FBS2k0QyxLQUFLamhDLEtBQ3JCLEVBQ0E3RixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlOG1DLEVBQVEvMkMsVUFBVyxTQUFVLENBRS9DbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLaTRDLEtBQUtoaEMsTUFDckIsRUFDQTlGLFlBQVksRUFDWmdlLGNBQWMsSUFHbEI2b0IsRUFBUS8yQyxVQUFVMnNDLGtCQUFvQixXQUNsQyxPQUFPNXRDLEtBQUttcUMsV0FDaEIsRUFDQW5wQyxPQUFPa1EsZUFBZThtQyxFQUFTLFFBQVMsQ0FFcEM1bUMsSUFBSyxXQU1ELE9BTEs0bUMsRUFBUXlCLFNBQ1R6QixFQUFReUIsT0FBUyxJQUFJekIsRUFBUSxJQUFJbk0sSUFDakNpTSxHQUFrQkUsRUFBUXlCLFFBQzFCM0IsR0FBa0JFLEVBQVF5QixPQUFPdFAsY0FFOUI2TixFQUFReUIsTUFDbkIsRUFDQXRvQyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlOG1DLEVBQVMsUUFBUyxDQUVwQzVtQyxJQUFLLFdBQ0QsSUFBSzRtQyxFQUFRMEIsT0FBUSxDQUNqQixJQUFJeGlDLEVBQVN1RCxHQUFTQyxRQUFRM0QsYUFBYSxHQUFJLElBQzNDeFYsRUFBVTJWLEVBQU8wSixXQUFXLE1BQ2hDMUosRUFBT0YsTUFBUSxHQUNmRSxFQUFPRCxPQUFTLEdBQ2hCMVYsRUFBUW80QyxVQUFZLFFBQ3BCcDRDLEVBQVFxNEMsU0FBUyxFQUFHLEVBQUcsR0FBSSxJQUMzQjVCLEVBQVEwQixPQUFTLElBQUkxQixFQUFRbk0sR0FBWXZtQyxLQUFLNFIsSUFDOUM0Z0MsR0FBa0JFLEVBQVEwQixRQUMxQjVCLEdBQWtCRSxFQUFRMEIsT0FBT3ZQLFlBQ3JDLENBQ0EsT0FBTzZOLEVBQVEwQixNQUNuQixFQUNBdm9DLFlBQVksRUFDWmdlLGNBQWMsSUFFWDZvQixDQUNYLENBNWE0QixDQTRhMUIsSUF3Q0U2QixHQUErQixTQUFVM2IsR0FNekMsU0FBUzJiLEVBQWNDLEVBQW1CekMsR0FDdEMsSUFBSWxaLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU04NUMsRUFBbUJ6QyxJQUFVcjNDLEtBSzNELE9BSkFtK0IsRUFBTTRPLE9BQVEsRUFDZDVPLEVBQU00YixZQUFjLEtBQ3BCNWIsRUFBTTZiLGNBQWdCLEtBQ3RCN2IsRUFBTXdhLFlBQ0N4YSxDQUNYLENBK0VBLE9BM0ZBLEdBQVUwYixFQUFlM2IsR0FhekJsOUIsT0FBT2tRLGVBQWUyb0MsRUFBYzU0QyxVQUFXLGNBQWUsQ0FLMURtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUttcUMsWUFBWTJNLFdBQzVCLEVBQ0EzbEMsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZTJvQyxFQUFjNTRDLFVBQVcsY0FBZSxDQUsxRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBSzgyQyxZQUFZWCxXQUM1QixFQUNBam5CLElBQUssU0FBVTluQixHQUNYcEgsS0FBSzgyQyxZQUFZWCxZQUFjL3VDLENBQ25DLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBUWxCMHFCLEVBQWM1NEMsVUFBVTB0QixPQUFTLFNBQVVJLEVBQWNDLEVBQWVpckIsUUFDMUMsSUFBdEJBLElBQWdDQSxHQUFvQixHQUN4RCxJQUFJdnJCLEVBQWExdUIsS0FBS21xQyxZQUFZemIsV0FDOUIxWCxFQUFRL2MsS0FBS2cxQixNQUFNRixFQUFlTCxHQUFjQSxFQUNoRHpYLEVBQVNoZCxLQUFLZzFCLE1BQU1ELEVBQWdCTixHQUFjQSxFQUV0RDF1QixLQUFLK3NDLE1BQVMvMUIsRUFBUSxHQUFLQyxFQUFTLEVBQ3BDalgsS0FBS280QyxPQUFPcGhDLE1BQVFoWCxLQUFLaTRDLEtBQUtqaEMsTUFBUUEsRUFDdENoWCxLQUFLbzRDLE9BQU9uaEMsT0FBU2pYLEtBQUtpNEMsS0FBS2hoQyxPQUFTQSxFQUNwQ2dqQyxHQUNBajZDLEtBQUttcUMsWUFBWXhiLE9BQU8zWCxFQUFPQyxHQUVuQ2pYLEtBQUsyNEMsV0FDVCxFQUtBa0IsRUFBYzU0QyxVQUFVd3NDLGNBQWdCLFNBQVUvZSxHQUM5QyxJQUFJeWIsRUFBY25xQyxLQUFLbXFDLFlBQ25CQSxFQUFZemIsYUFBZUEsSUFHL0J5YixFQUFZc0QsY0FBYy9lLEdBQzFCMXVCLEtBQUsydUIsT0FBT3diLEVBQVluekIsTUFBT216QixFQUFZbHpCLFFBQVEsR0FDdkQsRUFDQTRpQyxFQUFjMTNDLE9BQVMsU0FBVTJILEdBSTdCLElBSEEsSUFBSWdWLEVBQWNyYixVQUVkOEosRUFBTyxHQUNGeVIsRUFBSyxFQUFHQSxFQUFLdmIsVUFBVTFLLE9BQVFpbUIsSUFDcEN6UixFQUFLeVIsRUFBSyxHQUFLRixFQUFZRSxHQWMvQixNQVh1QixpQkFBWmxWLElBQ1A4akIsR0FBWSxRQUFTLDBFQUVyQjlqQixFQUFVLENBQ05rTixNQUFPbE4sRUFDUG1OLE9BQVExSixFQUFLLEdBQ2JrK0IsVUFBV2wrQixFQUFLLEdBQ2hCbWhCLFdBQVluaEIsRUFBSyxLQUlsQixJQUFJc3NDLEVBQWMsSUFBSWpELEdBQWtCOXNDLEdBQ25ELEVBQ08rdkMsQ0FDWCxDQTdGa0MsQ0E2RmhDN0IsSUFXRWtDLEdBQW1DLFdBS25DLFNBQVNBLEVBQWtCQyxHQUN2Qm42QyxLQUFLbzZDLFlBQWMsQ0FBQyxFQUNwQnA2QyxLQUFLbTZDLGVBQWlCQSxHQUFrQixDQUFDLEVBQ3pDbjZDLEtBQUtxNkMsa0JBQW1CLEVBQ3hCcjZDLEtBQUtzNkMsYUFBZSxFQUNwQnQ2QyxLQUFLdTZDLGNBQWdCLENBQ3pCLENBc0lBLE9BL0hBTCxFQUFrQmo1QyxVQUFVdTVDLGNBQWdCLFNBQVVyUCxFQUFXQyxFQUFZK0ssUUFDckQsSUFBaEJBLElBQTBCQSxFQUFjdmdDLEVBQWFxRixNQUN6RCxJQUFJNitCLEVBQW9CLElBQUlsRCxHQUFrQjUxQyxPQUFPcUQsT0FBTyxDQUN4RDJTLE1BQU9tMEIsRUFDUGwwQixPQUFRbTBCLEVBQ1IxYyxXQUFZLEVBQ1p5bkIsWUFBYUEsR0FDZG4yQyxLQUFLbTZDLGlCQUNSLE9BQU8sSUFBSU4sR0FBY0MsRUFDN0IsRUFTQUksRUFBa0JqNUMsVUFBVXc1QyxrQkFBb0IsU0FBVUMsRUFBVUMsRUFBV2pzQixFQUFZeW5CLEdBR3ZGLElBQUl6d0MsT0FGZSxJQUFmZ3BCLElBQXlCQSxFQUFhLFFBQ3RCLElBQWhCeW5CLElBQTBCQSxFQUFjdmdDLEVBQWFxRixNQUV6RHkvQixFQUFXemdELEtBQUtrNUIsS0FBTXVuQixFQUFXaHNCLEVBQWMsTUFDL0Npc0IsRUFBWTFnRCxLQUFLazVCLEtBQU13bkIsRUFBWWpzQixFQUFjLE1BQzVDMXVCLEtBQUtxNkMsa0JBQW9CSyxJQUFhMTZDLEtBQUtzNkMsY0FBZ0JLLElBQWMzNkMsS0FBS3U2QyxjQVMvRTcwQyxFQUFNeXdDLEVBQWMsR0FBS0EsR0FBZSxHQU54Q3p3QyxJQUFvQixPQUZwQmcxQyxFQUFXdnRCLEdBQVN1dEIsTUFFVyxHQUFtQixPQURsREMsRUFBWXh0QixHQUFTd3RCLE9BQzBDLEVBQzNEeEUsRUFBYyxJQUNkendDLEdBQXFCLFdBQWR5d0MsSUFNVm4yQyxLQUFLbzZDLFlBQVkxMEMsS0FDbEIxRixLQUFLbzZDLFlBQVkxMEMsR0FBTyxJQUU1QixJQUFJNjlCLEVBQWdCdmpDLEtBQUtvNkMsWUFBWTEwQyxHQUFLdUssTUFNMUMsT0FMS3N6QixJQUNEQSxFQUFnQnZqQyxLQUFLdzZDLGNBQWNFLEVBQVVDLEVBQVd4RSxJQUU1RDVTLEVBQWN5VyxjQUFnQnQwQyxFQUM5QjY5QixFQUFja0ssY0FBYy9lLEdBQ3JCNlUsQ0FDWCxFQVVBMlcsRUFBa0JqNUMsVUFBVTI1QyxpQkFBbUIsU0FBVXh5QyxFQUFPc21CLEVBQVl5bkIsR0FDeEUsSUFBSTBFLEVBQWdCNzZDLEtBQUt5NkMsa0JBQWtCcnlDLEVBQU00TyxNQUFPNU8sRUFBTTZPLE9BQVF5WCxHQUFjdG1CLEVBQU1zbUIsV0FBWXluQixHQUFldmdDLEVBQWFxRixNQUVsSSxPQURBNC9CLEVBQWNkLFlBQWMzeEMsRUFBTTJ4QyxZQUMzQmMsQ0FDWCxFQUtBWCxFQUFrQmo1QyxVQUFVNjVDLGNBQWdCLFNBQVV2WCxHQUNsRCxJQUFJNzlCLEVBQU02OUIsRUFBY3lXLGNBQ3hCelcsRUFBY3dXLFlBQWMsS0FDNUIvNUMsS0FBS282QyxZQUFZMTBDLEdBQUsvTCxLQUFLNHBDLEVBQy9CLEVBS0EyVyxFQUFrQmo1QyxVQUFVODVDLG9CQUFzQixTQUFVeFgsR0FDeER2akMsS0FBSzg2QyxjQUFjdlgsRUFDdkIsRUFLQTJXLEVBQWtCajVDLFVBQVUydEIsTUFBUSxTQUFVb3NCLEdBRTFDLEdBREFBLEdBQXNDLElBQXBCQSxFQUVkLElBQUssSUFBSTFoRCxLQUFLMEcsS0FBS282QyxZQUFhLENBQzVCLElBQUlhLEVBQVdqN0MsS0FBS282QyxZQUFZOWdELEdBQ2hDLEdBQUkyaEQsRUFDQSxJQUFLLElBQUkvNkMsRUFBSSxFQUFHQSxFQUFJKzZDLEVBQVNsaUQsT0FBUW1ILElBQ2pDKzZDLEVBQVMvNkMsR0FBR3F1QixTQUFRLEVBR2hDLENBRUp2dUIsS0FBS282QyxZQUFjLENBQUMsQ0FDeEIsRUFRQUYsRUFBa0JqNUMsVUFBVWk2QyxjQUFnQixTQUFVN3VCLEdBQ2xELEdBQUlBLEVBQUtyVixRQUFVaFgsS0FBS3M2QyxjQUNqQmp1QixFQUFLcFYsU0FBV2pYLEtBQUt1NkMsY0FENUIsQ0FLQSxJQUFLLElBQUlqaEQsS0FEVDBHLEtBQUtxNkMsaUJBQW1CaHVCLEVBQUtyVixNQUFRLEdBQUtxVixFQUFLcFYsT0FBUyxFQUMxQ2pYLEtBQUtvNkMsWUFDZixHQUFNL2pDLE9BQU8vYyxHQUFLLEVBQWxCLENBR0EsSUFBSTJoRCxFQUFXajdDLEtBQUtvNkMsWUFBWTlnRCxHQUNoQyxHQUFJMmhELEVBQ0EsSUFBSyxJQUFJLzZDLEVBQUksRUFBR0EsRUFBSSs2QyxFQUFTbGlELE9BQVFtSCxJQUNqQys2QyxFQUFTLzZDLEdBQUdxdUIsU0FBUSxHQUc1QnZ1QixLQUFLbzZDLFlBQVk5Z0QsR0FBSyxFQVB0QixDQVNKMEcsS0FBS3M2QyxhQUFlanVCLEVBQUtyVixNQUN6QmhYLEtBQUt1NkMsY0FBZ0JsdUIsRUFBS3BWLE1BZjFCLENBZ0JKLEVBS0FpakMsRUFBa0JpQixZQUFjLEVBQ3pCakIsQ0FDWCxDQWxKc0MsR0E0SmxDa0IsR0FBMkIsV0FVM0IsU0FBU0EsRUFBVW51QixFQUFRWixFQUFNZ3ZCLEVBQVl6MEMsRUFBTW1tQixFQUFRM3lCLEVBQU9raEQsUUFDakQsSUFBVGp2QixJQUFtQkEsRUFBTyxRQUNYLElBQWZndkIsSUFBeUJBLEdBQWEsUUFDN0IsSUFBVHowQyxJQUFtQkEsRUFBT3FPLEVBQU1rNUIsT0FDcENudUMsS0FBS2l0QixPQUFTQSxFQUNkanRCLEtBQUtxc0IsS0FBT0EsRUFDWnJzQixLQUFLcTdDLFdBQWFBLEVBQ2xCcjdDLEtBQUs0RyxLQUFPQSxFQUNaNUcsS0FBSytzQixPQUFTQSxFQUNkL3NCLEtBQUs1RixNQUFRQSxFQUNiNEYsS0FBS3M3QyxTQUFXQSxDQUNwQixDQWlCQSxPQWZBRixFQUFVbjZDLFVBQVVzdEIsUUFBVSxXQUMxQnZ1QixLQUFLaXRCLE9BQVMsSUFDbEIsRUFVQW11QixFQUFVOTFDLEtBQU8sU0FBVTJuQixFQUFRWixFQUFNZ3ZCLEVBQVl6MEMsRUFBTW1tQixHQUN2RCxPQUFPLElBQUlxdUIsRUFBVW51QixFQUFRWixFQUFNZ3ZCLEVBQVl6MEMsRUFBTW1tQixFQUN6RCxFQUNPcXVCLENBQ1gsQ0F2QzhCLEdBeUMxQkcsR0FBUSxFQUtSQyxHQUF3QixXQU14QixTQUFTQSxFQUFPcGpELEVBQU1xakQsRUFBU2x6QyxRQUNYLElBQVprekMsSUFBc0JBLEdBQVUsUUFDdEIsSUFBVmx6QyxJQUFvQkEsR0FBUSxHQUNoQ3ZJLEtBQUs1SCxLQUFRQSxHQUFRLElBQUlxZSxhQUFhLEdBQ3RDelcsS0FBSzA3QyxXQUFhLENBQUMsRUFDbkIxN0MsS0FBS3k0QyxVQUFZLEVBQ2pCejRDLEtBQUt1SSxNQUFRQSxFQUNidkksS0FBSzI3QyxPQUFTRixFQUNkejdDLEtBQUs2USxHQUFLMHFDLEtBQ1Z2N0MsS0FBS2syQyxjQUFnQixJQUFJdlEsR0FBTyxnQkFDcEMsQ0FtREEsT0E3Q0E2VixFQUFPdjZDLFVBQVU0bUMsT0FBUyxTQUFVenZDLEdBQzVCQSxhQUFnQjZLLFFBQ2hCN0ssRUFBTyxJQUFJcWUsYUFBYXJlLElBRTVCNEgsS0FBSzVILEtBQU9BLEdBQVE0SCxLQUFLNUgsS0FDekI0SCxLQUFLeTRDLFdBQ1QsRUFFQStDLEVBQU92NkMsVUFBVXdwQyxRQUFVLFdBQ3ZCenFDLEtBQUtrMkMsY0FBYy95QyxLQUFLbkQsTUFBTSxFQUNsQyxFQUVBdzdDLEVBQU92NkMsVUFBVXN0QixRQUFVLFdBQ3ZCdnVCLEtBQUt5cUMsVUFDTHpxQyxLQUFLNUgsS0FBTyxJQUNoQixFQUNBNEksT0FBT2tRLGVBQWVzcUMsRUFBT3Y2QyxVQUFXLFFBQVMsQ0FDN0NtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs0RyxPQUFTaVAsRUFBWStsQyxvQkFDckMsRUFTQTFzQixJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs0RyxLQUFPUSxFQUFReU8sRUFBWStsQyxxQkFBdUIvbEMsRUFBWWdtQyxZQUN2RSxFQUNBMXFDLFlBQVksRUFDWmdlLGNBQWMsSUFPbEJxc0IsRUFBT2wyQyxLQUFPLFNBQVVsTixHQUlwQixPQUhJQSxhQUFnQjZLLFFBQ2hCN0ssRUFBTyxJQUFJcWUsYUFBYXJlLElBRXJCLElBQUlvakQsRUFBT3BqRCxFQUN0QixFQUNPb2pELENBQ1gsQ0FwRTJCLEdBdUV2Qk0sR0FBUSxDQUNScmxDLGFBQ0FDLFlBQ0FHLFdBQ0FELFlBK0JBbWxDLEdBQWdCLENBQUUsS0FBTSxFQUFHLEtBQU0sRUFBRyxLQUFNLEdBQzFDQyxHQUFRLEVBRVIsR0FBTSxDQUNOdmxDLGFBQ0FDLFlBQ0FHLFdBQ0FELFdBQ0FELGFBb0JBc2xDLEdBQTBCLFdBSzFCLFNBQVNBLEVBQVNDLEVBQVNDLFFBQ1AsSUFBWkQsSUFBc0JBLEVBQVUsU0FDakIsSUFBZkMsSUFBeUJBLEVBQWEsQ0FBQyxHQUMzQ244QyxLQUFLazhDLFFBQVVBLEVBQ2ZsOEMsS0FBS284QyxZQUFjLEtBQ25CcDhDLEtBQUttOEMsV0FBYUEsRUFDbEJuOEMsS0FBS3E4QyxxQkFBdUIsQ0FBQyxFQUM3QnI4QyxLQUFLNlEsR0FBS21yQyxLQUNWaDhDLEtBQUtzOEMsV0FBWSxFQUNqQnQ4QyxLQUFLdThDLGNBQWdCLEVBQ3JCdjhDLEtBQUtrMkMsY0FBZ0IsSUFBSXZRLEdBQU8sbUJBQ2hDM2xDLEtBQUt3OEMsU0FBVyxDQUNwQixDQTRPQSxPQTdOQVAsRUFBU2g3QyxVQUFVdzdDLGFBQWUsU0FBVTVyQyxFQUFJb2MsRUFBUVosRUFBTWd2QixFQUFZejBDLEVBQU1tbUIsRUFBUTN5QixFQUFPa2hELEdBSTNGLFFBSGEsSUFBVGp2QixJQUFtQkEsRUFBTyxRQUNYLElBQWZndkIsSUFBeUJBLEdBQWEsUUFDekIsSUFBYkMsSUFBdUJBLEdBQVcsSUFDakNydUIsRUFDRCxNQUFNLElBQUlULE1BQU0scURBR2RTLGFBQWtCdXVCLEtBRWhCdnVCLGFBQWtCaHFCLFFBQ2xCZ3FCLEVBQVMsSUFBSXhXLGFBQWF3VyxJQUU5QkEsRUFBUyxJQUFJdXVCLEdBQU92dUIsSUFFeEIsSUFBSXl2QixFQUFNN3JDLEVBQUcvTCxNQUFNLEtBQ25CLEdBQUk0M0MsRUFBSTNqRCxPQUFTLEVBQUcsQ0FDaEIsSUFBSyxJQUFJTyxFQUFJLEVBQUdBLEVBQUlvakQsRUFBSTNqRCxPQUFRTyxJQUM1QjBHLEtBQUt5OEMsYUFBYUMsRUFBSXBqRCxHQUFJMnpCLEVBQVFaLEVBQU1ndkIsRUFBWXowQyxHQUV4RCxPQUFPNUcsSUFDWCxDQUNBLElBQUkyOEMsRUFBYzM4QyxLQUFLazhDLFFBQVE3eEMsUUFBUTRpQixHQVF2QyxPQVBxQixJQUFqQjB2QixJQUNBMzhDLEtBQUtrOEMsUUFBUXZpRCxLQUFLc3pCLEdBQ2xCMHZCLEVBQWMzOEMsS0FBS2s4QyxRQUFRbmpELE9BQVMsR0FFeENpSCxLQUFLbThDLFdBQVd0ckMsR0FBTSxJQUFJdXFDLEdBQVV1QixFQUFhdHdCLEVBQU1ndkIsRUFBWXowQyxFQUFNbW1CLEVBQVEzeUIsRUFBT2toRCxHQUV4RnQ3QyxLQUFLczhDLFVBQVl0OEMsS0FBS3M4QyxXQUFhaEIsRUFDNUJ0N0MsSUFDWCxFQU1BaThDLEVBQVNoN0MsVUFBVTI3QyxhQUFlLFNBQVUvckMsR0FDeEMsT0FBTzdRLEtBQUttOEMsV0FBV3RyQyxFQUMzQixFQU1Bb3JDLEVBQVNoN0MsVUFBVTQ3QyxVQUFZLFNBQVVoc0MsR0FDckMsT0FBTzdRLEtBQUtrOEMsUUFBUWw4QyxLQUFLNDhDLGFBQWEvckMsR0FBSW9jLE9BQzlDLEVBUUFndkIsRUFBU2g3QyxVQUFVNjdDLFNBQVcsU0FBVTd2QixHQWFwQyxPQVpNQSxhQUFrQnV1QixLQUVoQnZ1QixhQUFrQmhxQixRQUNsQmdxQixFQUFTLElBQUl0VyxZQUFZc1csSUFFN0JBLEVBQVMsSUFBSXV1QixHQUFPdnVCLElBRXhCQSxFQUFPcm1CLEtBQU9pUCxFQUFZK2xDLHFCQUMxQjU3QyxLQUFLbzhDLFlBQWNudkIsR0FDbUIsSUFBbENqdEIsS0FBS2s4QyxRQUFRN3hDLFFBQVE0aUIsSUFDckJqdEIsS0FBS2s4QyxRQUFRdmlELEtBQUtzekIsR0FFZmp0QixJQUNYLEVBS0FpOEMsRUFBU2g3QyxVQUFVODdDLFNBQVcsV0FDMUIsT0FBTy84QyxLQUFLbzhDLFdBQ2hCLEVBTUFILEVBQVNoN0MsVUFBVSs3QyxXQUFhLFdBRTVCLEdBQTRCLElBQXhCaDlDLEtBQUtrOEMsUUFBUW5qRCxRQUF5QyxJQUF4QmlILEtBQUtrOEMsUUFBUW5qRCxRQUFnQmlILEtBQUtvOEMsWUFDOUQsT0FBT3A4QyxLQUViLElBR0kxRyxFQUhBc3pCLEVBQVMsR0FDVEMsRUFBUSxHQUNSb3dCLEVBQW9CLElBQUl6QixHQUU1QixJQUFLbGlELEtBQUswRyxLQUFLbThDLFdBQVksQ0FDdkIsSUFBSWUsRUFBWWw5QyxLQUFLbThDLFdBQVc3aUQsR0FDNUIyekIsRUFBU2p0QixLQUFLazhDLFFBQVFnQixFQUFVandCLFFBQ3BDTCxFQUFPanpCLEtBQUtzekIsRUFBTzcwQixNQUNuQnkwQixFQUFNbHpCLEtBQU11akQsRUFBVTd3QixLQUFPMHZCLEdBQWNtQixFQUFVdDJDLE1BQVMsR0FDOURzMkMsRUFBVWp3QixPQUFTLENBQ3ZCLENBRUEsSUFEQWd3QixFQUFrQjdrRCxLQTNMMUIsU0FBK0J3MEIsRUFBUUMsR0FJbkMsSUFIQSxJQUFJQyxFQUFVLEVBQ1ZDLEVBQVMsRUFDVEMsRUFBUSxDQUFDLEVBQ0oxekIsRUFBSSxFQUFHQSxFQUFJc3pCLEVBQU83ekIsT0FBUU8sSUFDL0J5ekIsR0FBVUYsRUFBTXZ6QixHQUNoQnd6QixHQUFXRixFQUFPdHpCLEdBQUdQLE9BRXpCLElBQUlrMEIsRUFBUyxJQUFJelcsWUFBc0IsRUFBVnNXLEdBQ3pCemtCLEVBQU0sS0FDTjZrQixFQUFlLEVBQ25CLElBQVM1ekIsRUFBSSxFQUFHQSxFQUFJc3pCLEVBQU83ekIsT0FBUU8sSUFBSyxDQUNwQyxJQUFJK3lCLEVBQU9RLEVBQU12ekIsR0FDYndOLEVBQVE4bEIsRUFBT3R6QixHQUNmc04sRUFBTzZsQixHQUFjM2xCLEdBQ3BCa21CLEVBQU1wbUIsS0FDUG9tQixFQUFNcG1CLEdBQVEsSUFBSWsxQyxHQUFNbDFDLEdBQU1xbUIsSUFFbEM1a0IsRUFBTTJrQixFQUFNcG1CLEdBQ1osSUFBSyxJQUFJMUcsRUFBSSxFQUFHQSxFQUFJNEcsRUFBTS9OLE9BQVFtSCxJQUc5Qm1JLEdBRm1CbkksRUFBSW1zQixFQUFPLEdBQUtVLEVBQVVHLEVBQ2pDaHRCLEVBQUltc0IsR0FDVXZsQixFQUFNNUcsR0FFcENndEIsR0FBZ0JiLENBQ3BCLENBQ0EsT0FBTyxJQUFJNVYsYUFBYXdXLEVBQzVCLENBZ0tpQyxDQUFzQkwsRUFBUUMsR0FDbER2ekIsRUFBSSxFQUFHQSxFQUFJMEcsS0FBS2s4QyxRQUFRbmpELE9BQVFPLElBQzdCMEcsS0FBS2s4QyxRQUFRNWlELEtBQU8wRyxLQUFLbzhDLGFBQ3pCcDhDLEtBQUtrOEMsUUFBUTVpRCxHQUFHaTFCLFVBT3hCLE9BSkF2dUIsS0FBS2s4QyxRQUFVLENBQUNlLEdBQ1pqOUMsS0FBS284QyxhQUNMcDhDLEtBQUtrOEMsUUFBUXZpRCxLQUFLcUcsS0FBS284QyxhQUVwQnA4QyxJQUNYLEVBRUFpOEMsRUFBU2g3QyxVQUFVK3hDLFFBQVUsV0FDekIsSUFBSyxJQUFJMTVDLEtBQUswRyxLQUFLbThDLFdBQVksQ0FDM0IsSUFBSWUsRUFBWWw5QyxLQUFLbThDLFdBQVc3aUQsR0FFaEMsT0FEYTBHLEtBQUtrOEMsUUFBUWdCLEVBQVVqd0IsUUFDdEI3MEIsS0FBS1csUUFBV21rRCxFQUFVbndCLE9BQVMsR0FBTW13QixFQUFVN3dCLEtBQ3JFLENBQ0EsT0FBTyxDQUNYLEVBRUE0dkIsRUFBU2g3QyxVQUFVd3BDLFFBQVUsV0FDekJ6cUMsS0FBS2syQyxjQUFjL3lDLEtBQUtuRCxNQUFNLEVBQ2xDLEVBRUFpOEMsRUFBU2g3QyxVQUFVc3RCLFFBQVUsV0FDekJ2dUIsS0FBS3lxQyxVQUNMenFDLEtBQUtrOEMsUUFBVSxLQUNmbDhDLEtBQUtvOEMsWUFBYyxLQUNuQnA4QyxLQUFLbThDLFdBQWEsSUFDdEIsRUFLQUYsRUFBU2g3QyxVQUFVbXdCLE1BQVEsV0FFdkIsSUFEQSxJQUFJK3JCLEVBQVcsSUFBSWxCLEVBQ1YzaUQsRUFBSSxFQUFHQSxFQUFJMEcsS0FBS2s4QyxRQUFRbmpELE9BQVFPLElBQ3JDNmpELEVBQVNqQixRQUFRNWlELEdBQUssSUFBSWtpRCxHQUFPeDdDLEtBQUtrOEMsUUFBUTVpRCxHQUFHbEIsS0FBS3NLLE1BQU0sSUFFaEUsSUFBSyxJQUFJcEosS0FBSzBHLEtBQUttOEMsV0FBWSxDQUMzQixJQUFJaUIsRUFBU3A5QyxLQUFLbThDLFdBQVc3aUQsR0FDN0I2akQsRUFBU2hCLFdBQVc3aUQsR0FBSyxJQUFJOGhELEdBQVVnQyxFQUFPbndCLE9BQVFtd0IsRUFBTy93QixLQUFNK3dCLEVBQU8vQixXQUFZK0IsRUFBT3gyQyxLQUFNdzJDLEVBQU9yd0IsT0FBUXF3QixFQUFPaGpELE1BQU9nakQsRUFBTzlCLFNBQzNJLENBS0EsT0FKSXQ3QyxLQUFLbzhDLGNBQ0xlLEVBQVNmLFlBQWNlLEVBQVNqQixRQUFRbDhDLEtBQUtrOEMsUUFBUTd4QyxRQUFRckssS0FBS284QyxjQUNsRWUsRUFBU2YsWUFBWXgxQyxLQUFPaVAsRUFBWStsQyxzQkFFckN1QixDQUNYLEVBUUFsQixFQUFTb0IsTUFBUSxTQUFVQyxHQVN2QixJQU5BLElBSUlILEVBSkFJLEVBQWMsSUFBSXRCLEVBQ2xCcnZCLEVBQVMsR0FDVEMsRUFBUSxHQUNSMndCLEVBQVUsR0FHTGxrRCxFQUFJLEVBQUdBLEVBQUlna0QsRUFBV3ZrRCxPQUFRTyxJQUFLLENBQ3hDNmpELEVBQVdHLEVBQVdoa0QsR0FDdEIsSUFBSyxJQUFJNEcsRUFBSSxFQUFHQSxFQUFJaTlDLEVBQVNqQixRQUFRbmpELE9BQVFtSCxJQUN6QzJzQixFQUFNM3NCLEdBQUsyc0IsRUFBTTNzQixJQUFNLEVBQ3ZCMnNCLEVBQU0zc0IsSUFBTWk5QyxFQUFTakIsUUFBUWg4QyxHQUFHOUgsS0FBS1csT0FDckN5a0QsRUFBUXQ5QyxHQUFLLENBRXJCLENBRUEsSUFBUzVHLEVBQUksRUFBR0EsRUFBSTZqRCxFQUFTakIsUUFBUW5qRCxPQUFRTyxJQUV6Q3N6QixFQUFPdHpCLEdBQUssSUFBSSxHQUFJbXpCLEdBQWMwd0IsRUFBU2pCLFFBQVE1aUQsR0FBR2xCLFFBQU95MEIsRUFBTXZ6QixJQUNuRWlrRCxFQUFZckIsUUFBUTVpRCxHQUFLLElBQUlraUQsR0FBTzV1QixFQUFPdHpCLElBRy9DLElBQVNBLEVBQUksRUFBR0EsRUFBSWdrRCxFQUFXdmtELE9BQVFPLElBRW5DLElBREE2akQsRUFBV0csRUFBV2hrRCxHQUNiNEcsRUFBSSxFQUFHQSxFQUFJaTlDLEVBQVNqQixRQUFRbmpELE9BQVFtSCxJQUN6QzBzQixFQUFPMXNCLEdBQUdndkIsSUFBSWl1QixFQUFTakIsUUFBUWg4QyxHQUFHOUgsS0FBTW9sRCxFQUFRdDlDLElBQ2hEczlDLEVBQVF0OUMsSUFBTWk5QyxFQUFTakIsUUFBUWg4QyxHQUFHOUgsS0FBS1csT0FJL0MsR0FEQXdrRCxFQUFZcEIsV0FBYWdCLEVBQVNoQixXQUM5QmdCLEVBQVNmLFlBQWEsQ0FDdEJtQixFQUFZbkIsWUFBY21CLEVBQVlyQixRQUFRaUIsRUFBU2pCLFFBQVE3eEMsUUFBUTh5QyxFQUFTZixjQUNoRm1CLEVBQVluQixZQUFZeDFDLEtBQU9pUCxFQUFZK2xDLHFCQUMzQyxJQUFJNkIsRUFBUyxFQUNUMXdCLEVBQVMsRUFDVDJ3QixFQUFVLEVBQ1ZDLEVBQXFCLEVBRXpCLElBQVNya0QsRUFBSSxFQUFHQSxFQUFJNmpELEVBQVNqQixRQUFRbmpELE9BQVFPLElBQ3pDLEdBQUk2akQsRUFBU2pCLFFBQVE1aUQsS0FBTzZqRCxFQUFTZixZQUFhLENBQzlDdUIsRUFBcUJya0QsRUFDckIsS0FDSixDQUdKLElBQUssSUFBSUEsS0FBSzZqRCxFQUFTaEIsV0FBWSxDQUMvQixJQUFJZSxFQUFZQyxFQUFTaEIsV0FBVzdpRCxJQUNaLEVBQW5CNGpELEVBQVVqd0IsVUFBZ0Iwd0IsSUFDM0I1d0IsR0FBWW13QixFQUFVN3dCLEtBQU8wdkIsR0FBY21CLEVBQVV0MkMsTUFBUyxFQUV0RSxDQUVBLElBQVN0TixFQUFJLEVBQUdBLEVBQUlna0QsRUFBV3ZrRCxPQUFRTyxJQUFLLENBQ3hDLElBQUlza0QsRUFBa0JOLEVBQVdoa0QsR0FBRzhpRCxZQUFZaGtELEtBQ2hELElBQVM4SCxFQUFJLEVBQUdBLEVBQUkwOUMsRUFBZ0I3a0QsT0FBUW1ILElBQ3hDcTlDLEVBQVluQixZQUFZaGtELEtBQUs4SCxFQUFJdzlDLElBQVlELEVBRWpEQSxHQUFVSCxFQUFXaGtELEdBQUc0aUQsUUFBUXlCLEdBQW9CdmxELEtBQUtXLE9BQVMsRUFDbEUya0QsR0FBV0UsRUFBZ0I3a0QsTUFDL0IsQ0FDSixDQUNBLE9BQU93a0QsQ0FDWCxFQUNPdEIsQ0FDWCxDQTlQNkIsR0FvUXpCNEIsR0FBc0IsU0FBVTNmLEdBRWhDLFNBQVMyZixJQUNMLElBQUkxZixFQUFRRCxFQUFPejdCLEtBQUt6QyxPQUFTQSxLQU9qQyxPQU5BbStCLEVBQU1zZSxhQUFhLGtCQUFtQixJQUFJaG1DLGFBQWEsQ0FDbkQsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLEVBQ0gsRUFBRyxLQUNGcW1DLFNBQVMsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUNqQjNlLENBQ1gsQ0FDQSxPQVhBLEdBQVUwZixFQUFNM2YsR0FXVDJmLENBQ1gsQ0FieUIsQ0FhdkI1QixJQU1FNkIsR0FBd0IsU0FBVTVmLEdBRWxDLFNBQVM0ZixJQUNMLElBQUkzZixFQUFRRCxFQUFPejdCLEtBQUt6QyxPQUFTQSxLQWdCakMsT0FmQW0rQixFQUFNejlCLFNBQVcsSUFBSStWLGFBQWEsRUFDN0IsR0FBSSxFQUNMLEdBQUksRUFDSixFQUFHLEdBQ0YsRUFBRyxJQUNSMG5CLEVBQU00ZixJQUFNLElBQUl0bkMsYUFBYSxDQUN6QixFQUFHLEVBQ0gsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLElBQ1AwbkIsRUFBTTZmLGFBQWUsSUFBSXhDLEdBQU9yZCxFQUFNejlCLFVBQ3RDeTlCLEVBQU04ZixTQUFXLElBQUl6QyxHQUFPcmQsRUFBTTRmLEtBQ2xDNWYsRUFBTXNlLGFBQWEsa0JBQW1CdGUsRUFBTTZmLGNBQ3ZDdkIsYUFBYSxnQkFBaUJ0ZSxFQUFNOGYsVUFDcENuQixTQUFTLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ3ZCM2UsQ0FDWCxDQXdDQSxPQTNEQSxHQUFVMmYsRUFBUTVmLEdBMEJsQjRmLEVBQU83OEMsVUFBVTBELElBQU0sU0FBVXU1QyxFQUFvQkMsR0FDakQsSUFBSXhsRCxFQUFJLEVBQ0pDLEVBQUksRUFvQlIsT0FuQkFvSCxLQUFLKzlDLElBQUksR0FBS3BsRCxFQUNkcUgsS0FBSys5QyxJQUFJLEdBQUtubEQsRUFDZG9ILEtBQUsrOUMsSUFBSSxHQUFLcGxELEVBQUt3bEQsRUFBaUJubkMsTUFBUWtuQyxFQUFtQmxuQyxNQUMvRGhYLEtBQUsrOUMsSUFBSSxHQUFLbmxELEVBQ2RvSCxLQUFLKzlDLElBQUksR0FBS3BsRCxFQUFLd2xELEVBQWlCbm5DLE1BQVFrbkMsRUFBbUJsbkMsTUFDL0RoWCxLQUFLKzlDLElBQUksR0FBS25sRCxFQUFLdWxELEVBQWlCbG5DLE9BQVNpbkMsRUFBbUJqbkMsT0FDaEVqWCxLQUFLKzlDLElBQUksR0FBS3BsRCxFQUNkcUgsS0FBSys5QyxJQUFJLEdBQUtubEQsRUFBS3VsRCxFQUFpQmxuQyxPQUFTaW5DLEVBQW1Cam5DLE9BQ2hFdGUsRUFBSXdsRCxFQUFpQnhsRCxFQUNyQkMsRUFBSXVsRCxFQUFpQnZsRCxFQUNyQm9ILEtBQUtVLFNBQVMsR0FBSy9ILEVBQ25CcUgsS0FBS1UsU0FBUyxHQUFLOUgsRUFDbkJvSCxLQUFLVSxTQUFTLEdBQUsvSCxFQUFJd2xELEVBQWlCbm5DLE1BQ3hDaFgsS0FBS1UsU0FBUyxHQUFLOUgsRUFDbkJvSCxLQUFLVSxTQUFTLEdBQUsvSCxFQUFJd2xELEVBQWlCbm5DLE1BQ3hDaFgsS0FBS1UsU0FBUyxHQUFLOUgsRUFBSXVsRCxFQUFpQmxuQyxPQUN4Q2pYLEtBQUtVLFNBQVMsR0FBSy9ILEVBQ25CcUgsS0FBS1UsU0FBUyxHQUFLOUgsRUFBSXVsRCxFQUFpQmxuQyxPQUN4Q2pYLEtBQUtvK0MsYUFDRXArQyxJQUNYLEVBS0E4OUMsRUFBTzc4QyxVQUFVbTlDLFdBQWEsV0FHMUIsT0FGQXArQyxLQUFLZytDLGFBQWF2RixZQUNsQno0QyxLQUFLaStDLFNBQVN4RixZQUNQejRDLElBQ1gsRUFDTzg5QyxDQUNYLENBN0QyQixDQTZEekI3QixJQUVFb0MsR0FBUSxFQTJDUkMsR0FBOEIsV0FNOUIsU0FBU0EsRUFBYUMsRUFBVUMsRUFBVUMsR0FDdEN6K0MsS0FBSzArQyxPQUFRLEVBRWIxK0MsS0FBSzIrQyxhQUFlLENBQUMsRUFDckIzK0MsS0FBSzRzQyxRQUFVLEVBQ2Y1c0MsS0FBSzZRLEdBQUt3dEMsS0FDVnIrQyxLQUFLMjdDLFNBQVc2QyxFQUNoQngrQyxLQUFLNCtDLE1BQVFILEVBQ1RGLGFBQW9CL0MsSUFDcEJ4N0MsS0FBS2l0QixPQUFTc3hCLEVBQ2R2K0MsS0FBS2l0QixPQUFPcm1CLEtBQU9pUCxFQUFZZ3BDLGVBQy9CNytDLEtBQUs4K0MsWUFBYSxFQUNsQjkrQyxLQUFLNCtDLEtBQU0sSUFHWDUrQyxLQUFLdStDLFNBQVdBLEVBQ1p2K0MsS0FBSzQrQyxNQUNMNStDLEtBQUtpdEIsT0FBUyxJQUFJdXVCLEdBQU8sSUFBSS9rQyxhQUFhLElBQzFDelcsS0FBS2l0QixPQUFPcm1CLEtBQU9pUCxFQUFZZ3BDLGVBQy9CNytDLEtBQUs4K0MsWUFBYSxHQUc5QixDQTJCQSxPQTFCQVIsRUFBYXI5QyxVQUFVNG1DLE9BQVMsV0FDNUI3bkMsS0FBSzRzQyxXQUNBNXNDLEtBQUs4K0MsWUFBYzkrQyxLQUFLaXRCLFFBQ3pCanRCLEtBQUtpdEIsT0FBTzRhLFFBRXBCLEVBQ0F5VyxFQUFhcjlDLFVBQVU2NEIsSUFBTSxTQUFVdjNCLEVBQU1nOEMsRUFBVTlDLEdBQ25ELEdBQUt6N0MsS0FBSzQrQyxJQUtOLE1BQU0sSUFBSXB5QixNQUFNLHVHQUpoQnhzQixLQUFLdStDLFNBQVNoOEMsR0FBUSxJQUFJKzdDLEVBQWFDLEVBQVU5QyxFQU16RCxFQUNBNkMsRUFBYWg1QyxLQUFPLFNBQVVpNUMsRUFBVTlDLEVBQVNzRCxHQUM3QyxPQUFPLElBQUlULEVBQWFDLEVBQVU5QyxFQUFTc0QsRUFDL0MsRUFNQVQsRUFBYVUsUUFBVSxTQUFVVCxFQUFVOUMsR0FDdkMsT0FBTyxJQUFJNkMsRUFBYUMsRUFBVTlDLFNBQXlDQSxHQUFnQixFQUMvRixFQUNPNkMsQ0FDWCxDQXhEaUMsR0E4RDdCVyxHQUE2QixXQUM3QixTQUFTQSxJQUNMai9DLEtBQUt1akMsY0FBZ0IsS0FDckJ2akMsS0FBS29GLE9BQVMsS0FDZHBGLEtBQUtnYyxRQUFTLEVBQ2RoYyxLQUFLMHVCLFdBQWEsRUFDbEIxdUIsS0FBS20yQyxZQUFjdmdDLEVBQWFxRixLQUdoQ2piLEtBQUtzakMsWUFBYyxJQUFJOVIsR0FDdkJ4eEIsS0FBS20rQyxpQkFBbUIsSUFBSTNzQixHQUM1Qnh4QixLQUFLay9DLG1CQUFxQixJQUFJMXRCLEdBQzlCeHhCLEtBQUttL0Msd0JBQTBCLElBQUkzdEIsR0FDbkN4eEIsS0FBSzgrQixRQUFVLEdBQ2Y5K0IsS0FBSzR4QixVQUFZLElBQ3JCLENBT0EsT0FMQXF0QixFQUFZaCtDLFVBQVUydEIsTUFBUSxXQUMxQjV1QixLQUFLb0YsT0FBUyxLQUNkcEYsS0FBSzgrQixRQUFVLEtBQ2Y5K0IsS0FBS3VqQyxjQUFnQixJQUN6QixFQUNPMGIsQ0FDWCxDQXZCZ0MsR0F5QjVCLEdBQWEsQ0FBQyxJQUFJOXRCLEdBQVMsSUFBSUEsR0FBUyxJQUFJQSxHQUFTLElBQUlBLElBQ3pEaXVCLEdBQWUsSUFBSTVwQixHQTBCbkI2cEIsR0FBOEIsV0FJOUIsU0FBU0EsRUFBYWhjLEdBQ2xCcmpDLEtBQUtxakMsU0FBV0EsRUFDaEJyakMsS0FBS3MvQyxtQkFBcUIsQ0FBQyxDQUFDLEdBQzVCdC9DLEtBQUtvNkMsWUFBYyxJQUFJRixHQUN2Qmw2QyxLQUFLbzZDLFlBQVljLGNBQWM3WCxFQUFTN25CLE1BQ3hDeGIsS0FBS3UvQyxVQUFZLEdBQ2pCdi9DLEtBQUt3L0MsS0FBTyxJQUFJM0IsR0FDaEI3OUMsS0FBS3kvQyxPQUFTLElBQUkzQixHQUNsQjk5QyxLQUFLMC9DLFNBQVcsSUFBSWx1QixHQUNwQnh4QixLQUFLMi9DLFlBQWMsQ0FBQyxFQUNwQjMvQyxLQUFLNC9DLGVBQWlCLElBQUl0QixHQUFhLENBQ25DdUIsWUFBYSxJQUFJcnVCLEdBQ2pCc3VCLFVBQVcsSUFBSXJwQyxhQUFhLEdBQzVCc3BDLFdBQVksSUFBSXRwQyxhQUFhLEdBQzdCdXBDLFdBQVksSUFBSXZwQyxhQUFhLEdBQzdCaVksV0FBWSxFQUVabVEsV0FBWSxJQUFJcG9CLGFBQWEsR0FDN0J3cEMsWUFBYSxJQUFJeHBDLGFBQWEsS0FDL0IsR0FDSHpXLEtBQUtrZ0QsWUFBYSxFQUNsQmxnRCxLQUFLbWdELGVBQWdCLENBQ3pCLENBeVZBLE9BbFZBZCxFQUFhcCtDLFVBQVV0SCxLQUFPLFNBQVV5TCxFQUFRMDVCLEdBYTVDLElBWkEsSUFBSXBuQixFQUFJeXRCLEVBQ0o5QixFQUFXcmpDLEtBQUtxakMsU0FDaEIyVCxFQUFjaDNDLEtBQUtzL0MsbUJBQ25CYyxFQUFRcGdELEtBQUt1L0MsVUFBVXR2QyxPQUFTLElBQUlndkMsR0FDcENvQixFQUFzQnJnRCxLQUFLcWpDLFNBQVNFLGNBQ3BDN1UsRUFBYW9RLEVBQVEsR0FBR3BRLFdBQ3hCeW5CLEVBQWNyWCxFQUFRLEdBQUdxWCxZQUN6Qm1LLEVBQVV4aEIsRUFBUSxHQUFHd2hCLFFBQ3JCQyxFQUFVemhCLEVBQVEsR0FBR3loQixRQUdyQnZrQyxFQUFzQyxRQUE1QnRFLEVBQUtvbkIsRUFBUSxHQUFHOWlCLGNBQTJCLElBQVB0RSxHQUFnQkEsRUFDekRwZSxFQUFJLEVBQUdBLEVBQUl3bEMsRUFBUS9sQyxPQUFRTyxJQUFLLENBQ3JDLElBQUkwcUMsRUFBU2xGLEVBQVF4bEMsR0FFckJvMUIsRUFBYXowQixLQUFLd0YsSUFBSWl2QixFQUFZc1YsRUFBT3RWLFlBRXpDeW5CLEVBQWNsOEMsS0FBS3dGLElBQUkwMkMsRUFBYW5TLEVBQU9tUyxhQUUzQ21LLEVBQVV0Z0QsS0FBS21nRCxjQUVUbG1ELEtBQUtDLElBQUlvbUQsRUFBU3RjLEVBQU9zYyxTQUV6QkEsRUFBVXRjLEVBQU9zYyxRQUV2QkMsRUFBVUEsR0FBV3ZjLEVBQU91YyxRQUM1QnZrQyxFQUFTQSxHQUFvQyxRQUF4Qm1wQixFQUFLbkIsRUFBT2hvQixjQUEyQixJQUFQbXBCLEdBQWdCQSxDQUN6RSxDQUMyQixJQUF2QjZSLEVBQVlqK0MsU0FDWmlILEtBQUtzL0MsbUJBQW1CLEdBQUcvYixjQUFnQjhjLEVBQW9CbFksU0FFbkU2TyxFQUFZcjlDLEtBQUt5bUQsR0FDakJBLEVBQU0xeEIsV0FBYUEsRUFDbkIweEIsRUFBTWpLLFlBQWNBLEVBQ3BCaUssRUFBTXBrQyxPQUFTQSxFQUNmb2tDLEVBQU1oN0MsT0FBU0EsRUFDZmc3QyxFQUFNOWMsWUFBWWpTLFNBQVNqc0IsRUFBT3k1QixZQUFjejVCLEVBQU93dUIsV0FBVSxJQUNqRXdzQixFQUFNOWMsWUFBWXpRLElBQUl5dEIsR0FDdEIsSUFBSUUsRUFBdUJ4Z0QsS0FBSzAvQyxTQUFTcnVCLFNBQVNndkIsRUFBb0IvYyxhQUVsRUQsRUFBU29kLFdBQVc3dUIsV0FDcEI1eEIsS0FBSzBnRCxjQUFjdEIsR0FBYS90QixTQUFTZ1MsRUFBU29kLFdBQVc3dUIsV0FBVytGLFNBQVU2b0IsR0FFbEZELEdBQ0FILEVBQU05YyxZQUFZdFEsSUFBSXd0QixJQUNsQkosRUFBTTljLFlBQVl0c0IsT0FBUyxHQUFLb3BDLEVBQU05YyxZQUFZcnNCLFFBQVUsS0FDNURtcEMsRUFBTTljLFlBQVl0c0IsTUFBUSxFQUMxQm9wQyxFQUFNOWMsWUFBWXJzQixPQUFTLElBR3pCbXBDLEVBQU05YyxZQUFZam1DLFdBQVdtakQsS0FDbkNKLEVBQU05YyxZQUFZdHNCLE1BQVEsRUFDMUJvcEMsRUFBTTljLFlBQVlyc0IsT0FBUyxHQUcvQmpYLEtBQUsyZ0QsV0FBV1AsRUFBTTljLFlBQWErYyxFQUFvQmxZLFFBQVVrWSxFQUFvQmxZLFFBQVF6WixXQUFhMlUsRUFBUzNVLFdBQVkyeEIsRUFBb0IvYyxZQUFhK2MsRUFBb0JsQyxpQkFBa0I5YSxFQUFTb2QsV0FBVzd1QixXQUMxTnd1QixFQUFNN2MsY0FBZ0J2akMsS0FBSzRnRCx3QkFBd0JSLEVBQU05YyxZQUFZdHNCLE1BQU9vcEMsRUFBTTljLFlBQVlyc0IsT0FBUXlYLEVBQVl5bkIsR0FDbEhpSyxFQUFNdGhCLFFBQVVBLEVBQ2hCc2hCLEVBQU1qQyxpQkFBaUJubkMsTUFBUW9wQyxFQUFNN2MsY0FBY3ZzQixNQUNuRG9wQyxFQUFNakMsaUJBQWlCbG5DLE9BQVNtcEMsRUFBTTdjLGNBQWN0c0IsT0FDcEQsSUFBSWtuQyxFQUFtQm4rQyxLQUFLMC9DLFNBQzVCdkIsRUFBaUJ4bEQsRUFBSSxFQUNyQndsRCxFQUFpQnZsRCxFQUFJLEVBQ3JCdWxELEVBQWlCbm5DLE1BQVFvcEMsRUFBTTljLFlBQVl0c0IsTUFDM0NtbkMsRUFBaUJsbkMsT0FBU21wQyxFQUFNOWMsWUFBWXJzQixPQUM1Q21wQyxFQUFNN2MsY0FBY3dXLFlBQWNxRyxFQUFNOWMsWUFDeEM4YyxFQUFNbEIsbUJBQW1CN3RCLFNBQVNndkIsRUFBb0IvYyxhQUN0RDhjLEVBQU1qQix3QkFBd0I5dEIsU0FBU2d2QixFQUFvQmxDLGtCQUMzRGlDLEVBQU14dUIsVUFBWXlSLEVBQVNvZCxXQUFXN3VCLFVBQ3RDeVIsRUFBU29kLFdBQVc3dUIsVUFBWSxLQUNoQ3l1QixFQUFvQm5XLEtBQUtrVyxFQUFNN2MsY0FBZTZjLEVBQU05YyxZQUFhNmEsR0FDakU5YSxFQUFTeVQsWUFBWWxvQixNQUFNLEVBQUcsRUFBRyxFQUFHLEVBQ3hDLEVBRUF5d0IsRUFBYXArQyxVQUFVZ1AsSUFBTSxXQUN6QixJQUFJK21DLEVBQWNoM0MsS0FBS3MvQyxtQkFDbkJjLEVBQVFwSixFQUFZL21DLE1BQ3BCNnVCLEVBQVVzaEIsRUFBTXRoQixRQUNwQjkrQixLQUFLMi9DLFlBQWNTLEVBQ25CLElBQUlSLEVBQWlCNS9DLEtBQUs0L0MsZUFBZXJCLFNBQ3pDcUIsRUFBZUMsWUFBY08sRUFBTTljLFlBQ25Dc2MsRUFBZWx4QixXQUFhMHhCLEVBQU0xeEIsV0FDbEMsSUFBSW94QixFQUFZRixFQUFlRSxVQUMzQkMsRUFBYUgsRUFBZUcsV0FDNUJDLEVBQWFKLEVBQWVJLFdBY2hDLEdBYkFGLEVBQVUsR0FBS00sRUFBTWpDLGlCQUFpQm5uQyxNQUN0QzhvQyxFQUFVLEdBQUtNLEVBQU1qQyxpQkFBaUJsbkMsT0FDdEM2b0MsRUFBVSxHQUFLLEVBQU1BLEVBQVUsR0FDL0JBLEVBQVUsR0FBSyxFQUFNQSxFQUFVLEdBQy9CQyxFQUFXLEdBQUs5bEQsS0FBS2cxQixNQUFNNndCLEVBQVUsR0FBS00sRUFBTTF4QixZQUNoRHF4QixFQUFXLEdBQUs5bEQsS0FBS2cxQixNQUFNNndCLEVBQVUsR0FBS00sRUFBTTF4QixZQUNoRHF4QixFQUFXLEdBQUssRUFBTUEsRUFBVyxHQUNqQ0EsRUFBVyxHQUFLLEVBQU1BLEVBQVcsR0FDakNDLEVBQVcsR0FBSyxHQUFNRCxFQUFXLEdBQ2pDQyxFQUFXLEdBQUssR0FBTUQsRUFBVyxHQUNqQ0MsRUFBVyxHQUFNSSxFQUFNOWMsWUFBWXRzQixNQUFROG9DLEVBQVUsR0FBTyxHQUFNQyxFQUFXLEdBQzdFQyxFQUFXLEdBQU1JLEVBQU05YyxZQUFZcnNCLE9BQVM2b0MsRUFBVSxHQUFPLEdBQU1DLEVBQVcsR0FFMUVLLEVBQU1wa0MsT0FBUSxDQUNkLElBQUk2aUIsRUFBYStnQixFQUFlL2dCLFdBQ2hDQSxFQUFXLEdBQUt1aEIsRUFBTWpDLGlCQUFpQm5uQyxNQUN2QzZuQixFQUFXLEdBQUt1aEIsRUFBTWpDLGlCQUFpQmxuQyxPQUN2QzRuQixFQUFXLEdBQUt1aEIsRUFBTTljLFlBQVkzcUMsRUFDbENrbUMsRUFBVyxHQUFLdWhCLEVBQU05YyxZQUFZMXFDLEVBQ2xDZ25ELEVBQWVLLFlBQWNMLEVBQWVJLFVBQ2hELENBQ0FoZ0QsS0FBSzQvQyxlQUFlL1gsU0FDcEIsSUFBSWdaLEVBQVk3SixFQUFZQSxFQUFZaitDLE9BQVMsR0FFakQsR0FEQWlILEtBQUtxakMsU0FBU3lULFlBQVlnSyxPQUNILElBQW5CaGlCLEVBQVEvbEMsT0FDUitsQyxFQUFRLEdBQUdsN0IsTUFBTTVELEtBQU1vZ0QsRUFBTTdjLGNBQWVzZCxFQUFVdGQsY0FBZWh1QixFQUFZd3JDLE1BQU9YLEdBQ3hGcGdELEtBQUsrNkMsb0JBQW9CcUYsRUFBTTdjLG1CQUU5QixDQUNELElBQUl5ZCxFQUFPWixFQUFNN2MsY0FDYjBkLEVBQU9qaEQsS0FBSzRnRCx3QkFBd0JJLEVBQUtocUMsTUFBT2dxQyxFQUFLL3BDLE9BQVFtcEMsRUFBTTF4QixZQUN2RXV5QixFQUFLbEgsWUFBY2lILEVBQUtqSCxZQUN4QixJQUFJemdELEVBQUksRUFDUixJQUFLQSxFQUFJLEVBQUdBLEVBQUl3bEMsRUFBUS9sQyxPQUFTLElBQUtPLEVBQUcsQ0FDM0IsSUFBTkEsR0FBVzhtRCxFQUFNakssWUFBYyxLQUMvQjhLLEVBQU9qaEQsS0FBSzRnRCx3QkFBd0JJLEVBQUtocUMsTUFBT2dxQyxFQUFLL3BDLE9BQVFtcEMsRUFBTTF4QixhQUM5RHFyQixZQUFjaUgsRUFBS2pILGFBRTVCamIsRUFBUXhsQyxHQUFHc0ssTUFBTTVELEtBQU1naEQsRUFBTUMsRUFBTTFyQyxFQUFZMnJDLE1BQU9kLEdBQ3RELElBQUkxM0MsRUFBSXM0QyxFQUNSQSxFQUFPQyxFQUNQQSxFQUFPdjRDLENBQ1gsQ0FDQW8yQixFQUFReGxDLEdBQUdzSyxNQUFNNUQsS0FBTWdoRCxFQUFNSCxFQUFVdGQsY0FBZWh1QixFQUFZd3JDLE1BQU9YLEdBQ3JFOW1ELEVBQUksR0FBSzhtRCxFQUFNakssWUFBYyxHQUM3Qm4yQyxLQUFLKzZDLG9CQUFvQnFGLEVBQU03YyxlQUVuQ3ZqQyxLQUFLKzZDLG9CQUFvQmlHLEdBQ3pCaGhELEtBQUsrNkMsb0JBQW9Ca0csRUFDN0IsQ0FFQWIsRUFBTXh4QixRQUNONXVCLEtBQUt1L0MsVUFBVTVsRCxLQUFLeW1ELEVBQ3hCLEVBTUFmLEVBQWFwK0MsVUFBVWtnRCxhQUFlLFNBQVV0RyxFQUFldUcsUUFDekMsSUFBZEEsSUFBd0JBLEVBQVk3ckMsRUFBWTJyQyxPQUNwRCxJQUFJeHBDLEVBQUsxWCxLQUFLcWpDLFNBQVVnZCxFQUFzQjNvQyxFQUFHNnJCLGNBQWU4ZCxFQUFjM3BDLEVBQUcwb0MsTUFTakYsR0FSSXZGLElBQWtCNzZDLEtBQUtzL0MsbUJBQW1CdC9DLEtBQUtzL0MsbUJBQW1Cdm1ELE9BQVMsR0FBR3dxQyxjQUU5RXZqQyxLQUFLcWpDLFNBQVNvZCxXQUFXN3VCLFVBQVk1eEIsS0FBSzIvQyxZQUFZL3RCLFVBSXRENXhCLEtBQUtxakMsU0FBU29kLFdBQVc3dUIsVUFBWSxLQUVyQ2lwQixHQUFpQkEsRUFBY2QsWUFBYSxDQUM1QyxJQUFJb0UsRUFBbUJuK0MsS0FBSzAvQyxTQUM1QnZCLEVBQWlCeGxELEVBQUksRUFDckJ3bEQsRUFBaUJ2bEQsRUFBSSxFQUNyQnVsRCxFQUFpQm5uQyxNQUFRNmpDLEVBQWNkLFlBQVkvaUMsTUFDbkRtbkMsRUFBaUJsbkMsT0FBUzRqQyxFQUFjZCxZQUFZOWlDLE9BQ3BEb3BDLEVBQW9CblcsS0FBSzJRLEVBQWVBLEVBQWNkLFlBQWFvRSxFQUN2RSxNQUNTdEQsSUFBa0I3NkMsS0FBS3MvQyxtQkFBbUJ0L0MsS0FBS3MvQyxtQkFBbUJ2bUQsT0FBUyxHQUFHd3FDLGNBQ25GOGMsRUFBb0JuVyxLQUFLMlEsR0FJekI3NkMsS0FBS3FqQyxTQUFTRSxjQUFjMkcsS0FBSzJRLEVBQWU3NkMsS0FBSzIvQyxZQUFZVCxtQkFBb0JsL0MsS0FBSzIvQyxZQUFZUix5QkFJMUcsSUFBSW1DLEVBQW1DLEVBQXRCRCxFQUFZRSxTQUFnQnZoRCxLQUFLa2dELFlBQzlDa0IsSUFBYzdyQyxFQUFZMnJDLE9BQ3RCRSxJQUFjN3JDLEVBQVlpc0MsTUFBUUYsSUFJdEN0aEQsS0FBS3FqQyxTQUFTeVQsWUFBWWxvQixNQUFNLEVBQUcsRUFBRyxFQUFHLEVBRWpELEVBVUF5d0IsRUFBYXArQyxVQUFVd2dELFlBQWMsU0FBVXpkLEVBQVE1N0IsRUFBT2QsRUFBUTg1QyxHQUNsRSxJQUFJL2QsRUFBV3JqQyxLQUFLcWpDLFNBRXBCQSxFQUFTK2MsTUFBTWx4QixJQUFJOFUsRUFBT29jLE9BQzFCcGdELEtBQUttaEQsYUFBYTc1QyxFQUFRODVDLEdBRTFCcGQsRUFBT3VhLFNBQVNtRCxTQUFXdDVDLEVBQzNCNDdCLEVBQU91YSxTQUFTb0QsY0FBZ0IzaEQsS0FBSzQvQyxlQUlyQ3ZjLEVBQVN1ZSxPQUFPMVgsS0FBS2xHLEdBRXJCQSxFQUFPaG9CLFNBQVdnb0IsRUFBTzZkLFFBQVFDLGNBQWNDLGNBQzNDL2QsRUFBT2hvQixRQUNQaGMsS0FBS3kvQyxPQUFPOTZDLElBQUl5RCxFQUFNZ3dDLE9BQVFod0MsRUFBTTJ4QyxhQUNwQzFXLEVBQVM4WixTQUFTalQsS0FBS2xxQyxLQUFLeS9DLFFBQzVCcGMsRUFBUzhaLFNBQVM2RSxLQUFLbHRDLEVBQVdtdEMsYUFHbEM1ZSxFQUFTOFosU0FBU2pULEtBQUtscUMsS0FBS3cvQyxNQUM1Qm5jLEVBQVM4WixTQUFTNkUsS0FBS2x0QyxFQUFXb3RDLGdCQUUxQyxFQVNBN0MsRUFBYXArQyxVQUFVa2hELHNCQUF3QixTQUFVQyxFQUFjQyxHQUNuRSxJQUFJM3FDLEVBQUsxWCxLQUFLMi9DLFlBQWFyYyxFQUFjNXJCLEVBQUc0ckIsWUFBYTZhLEVBQW1Cem1DLEVBQUd5bUMsaUJBQzNFbEcsRUFBT29LLEVBQU9DLFNBQVNySyxLQUN2QnNLLEVBQWVILEVBQWFsekIsSUFBSWl2QixFQUFpQm5uQyxNQUFPLEVBQUcsRUFBR21uQyxFQUFpQmxuQyxPQUFRcXNCLEVBQVkzcUMsRUFBRzJxQyxFQUFZMXFDLEdBQ2xIMmhDLEVBQWlCOG5CLEVBQU85bkIsZUFBZWpKLE9BQU9rRSxHQUFPZ3RCLGFBS3pELE9BSkFqb0IsRUFBZTVDLFNBQ2Y0cUIsRUFBYW5yQixRQUFRbUQsR0FDckJnb0IsRUFBYXJzQixNQUFNLEVBQU0raEIsRUFBS2poQyxNQUFPLEVBQU1paEMsRUFBS2hoQyxRQUNoRHNyQyxFQUFhdHNCLFVBQVVvc0IsRUFBT25LLE9BQU92L0MsRUFBRzBwRCxFQUFPbkssT0FBT3QvQyxHQUMvQzJwRCxDQUNYLEVBRUFsRCxFQUFhcCtDLFVBQVVzdEIsUUFBVSxXQUM3QnZ1QixLQUFLcWpDLFNBQVcsS0FFaEJyakMsS0FBS282QyxZQUFZeHJCLE9BQU0sRUFDM0IsRUFTQXl3QixFQUFhcCtDLFVBQVUyL0Msd0JBQTBCLFNBQVVsRyxFQUFVQyxFQUFXanNCLEVBQVl5bkIsR0FHeEYsWUFGbUIsSUFBZnpuQixJQUF5QkEsRUFBYSxRQUN0QixJQUFoQnluQixJQUEwQkEsRUFBY3ZnQyxFQUFhcUYsTUFDbERqYixLQUFLbzZDLFlBQVlLLGtCQUFrQkMsRUFBVUMsRUFBV2pzQixFQUFZeW5CLEVBQy9FLEVBUUFrSixFQUFhcCtDLFVBQVUyNUMsaUJBQW1CLFNBQVV4eUMsRUFBT3NtQixFQUFZeW5CLEdBQ25FLEdBQXFCLGlCQUFWL3RDLEVBQW9CLENBQzNCLElBQUlxNkMsRUFBT3I2QyxFQUNYQSxFQUFRc21CLEVBQ1JBLEVBQWErekIsQ0FDakIsQ0FDQXI2QyxFQUFRQSxHQUFTcEksS0FBSzIvQyxZQUFZcGMsY0FDbEMsSUFBSXNYLEVBQWdCNzZDLEtBQUtvNkMsWUFBWUssa0JBQWtCcnlDLEVBQU00TyxNQUFPNU8sRUFBTTZPLE9BQVF5WCxHQUFjdG1CLEVBQU1zbUIsV0FBWXluQixHQUFldmdDLEVBQWFxRixNQUU5SSxPQURBNC9CLEVBQWNkLFlBQWMzeEMsRUFBTTJ4QyxZQUMzQmMsQ0FDWCxFQUtBd0UsRUFBYXArQyxVQUFVODVDLG9CQUFzQixTQUFVeFgsR0FDbkR2akMsS0FBS282QyxZQUFZVSxjQUFjdlgsRUFDbkMsRUFFQThiLEVBQWFwK0MsVUFBVXloRCxVQUFZLFdBQy9CMWlELEtBQUtvNkMsWUFBWXhyQixPQUFNLEVBQzNCLEVBRUF5d0IsRUFBYXArQyxVQUFVMHRCLE9BQVMsV0FDNUIzdUIsS0FBS282QyxZQUFZYyxjQUFjbDdDLEtBQUtxakMsU0FBUzduQixLQUNqRCxFQUtBNmpDLEVBQWFwK0MsVUFBVXkvQyxjQUFnQixTQUFVaHFCLEVBQVFtRixHQUNyRCxJQUFJOUosRUFBSyxHQUFXLEdBQ2hCQyxFQUFLLEdBQVcsR0FDaEJDLEVBQUssR0FBVyxHQUNoQkMsRUFBSyxHQUFXLEdBQ3BCSCxFQUFHN0MsSUFBSTJNLEVBQUtuTSxLQUFNbU0sRUFBS3BNLEtBQ3ZCdUMsRUFBRzlDLElBQUkyTSxFQUFLbk0sS0FBTW1NLEVBQUtqTSxRQUN2QnFDLEVBQUcvQyxJQUFJMk0sRUFBS2xNLE1BQU9rTSxFQUFLcE0sS0FDeEJ5QyxFQUFHaEQsSUFBSTJNLEVBQUtsTSxNQUFPa00sRUFBS2pNLFFBQ3hCOEcsRUFBTzl5QixNQUFNbXVCLEVBQUlBLEdBQ2pCMkUsRUFBTzl5QixNQUFNb3VCLEVBQUlBLEdBQ2pCMEUsRUFBTzl5QixNQUFNcXVCLEVBQUlBLEdBQ2pCeUUsRUFBTzl5QixNQUFNc3VCLEVBQUlBLEdBQ2pCLElBQUlyMUIsRUFBSzVDLEtBQUt3RixJQUFJc3lCLEVBQUdwNUIsRUFBR3E1QixFQUFHcjVCLEVBQUdzNUIsRUFBR3Q1QixFQUFHdTVCLEVBQUd2NUIsR0FDbkNtRSxFQUFLN0MsS0FBS3dGLElBQUlzeUIsRUFBR241QixFQUFHbzVCLEVBQUdwNUIsRUFBR3E1QixFQUFHcjVCLEVBQUdzNUIsRUFBR3Q1QixHQUNuQ21FLEVBQUs5QyxLQUFLQyxJQUFJNjNCLEVBQUdwNUIsRUFBR3E1QixFQUFHcjVCLEVBQUdzNUIsRUFBR3Q1QixFQUFHdTVCLEVBQUd2NUIsR0FDbkNxRSxFQUFLL0MsS0FBS0MsSUFBSTYzQixFQUFHbjVCLEVBQUdvNUIsRUFBR3A1QixFQUFHcTVCLEVBQUdyNUIsRUFBR3M1QixFQUFHdDVCLEdBQ3ZDaWpDLEVBQUtsakMsRUFBSWtFLEVBQ1RnL0IsRUFBS2pqQyxFQUFJa0UsRUFDVCsrQixFQUFLN2tCLE1BQVFqYSxFQUFLRixFQUNsQmcvQixFQUFLNWtCLE9BQVNqYSxFQUFLRixDQUN2QixFQUNBdWlELEVBQWFwK0MsVUFBVTAvQyxXQUFhLFNBQVV0SixFQUFPM29CLEVBQVl3d0IsRUFBb0JDLEVBQXlCdnRCLEdBQzFHLEtBQUl5bEIsRUFBTXJnQyxPQUFTLEdBQUtxZ0MsRUFBTXBnQyxRQUFVLEdBQUtpb0MsRUFBbUJsb0MsT0FBUyxHQUFLa29DLEVBQW1Cam9DLFFBQVUsR0FBM0csQ0FHQSxHQUFJMmEsRUFBVyxDQUNYLElBQUl4MUIsRUFBSXcxQixFQUFVeDFCLEVBQUdDLEVBQUl1MUIsRUFBVXYxQixFQUFHQyxFQUFJczFCLEVBQVV0MUIsRUFBR3dFLEVBQUk4d0IsRUFBVTl3QixFQUdyRSxJQUFLN0csS0FBS21FLElBQUkvQixHQUFLLE1BQVFwQyxLQUFLbUUsSUFBSTlCLEdBQUssUUFDakNyQyxLQUFLbUUsSUFBSWhDLEdBQUssTUFBUW5DLEtBQUttRSxJQUFJMEMsR0FBSyxNQUN4QyxNQUVSLEVBQ0E4d0IsRUFBWUEsRUFBWXd0QixHQUFhL3RCLFNBQVNPLEdBQWF3dEIsR0FBYXhuQixZQUduRTNCLFdBQVdpcEIsRUFBbUJ2bUQsR0FBSXVtRCxFQUFtQnRtRCxHQUNyRHM5QixNQUFNaXBCLEVBQXdCbm9DLE1BQVFrb0MsRUFBbUJsb0MsTUFBT21vQyxFQUF3QmxvQyxPQUFTaW9DLEVBQW1Cam9DLFFBQ3BIZ2YsVUFBVWtwQixFQUF3QnhtRCxFQUFHd21ELEVBQXdCdm1ELEdBRWxFb0gsS0FBSzBnRCxjQUFjOXVCLEVBQVd5bEIsR0FFOUJBLEVBQU1sa0IsS0FBS3pFLEdBRVgxdUIsS0FBSzBnRCxjQUFjOXVCLEVBQVUrRixTQUFVMGYsRUFyQnZDLENBc0JKLEVBQ09nSSxDQUNYLENBcFhpQyxHQTJYN0JzRCxHQUFnQyxXQUloQyxTQUFTQSxFQUFldGYsR0FDcEJyakMsS0FBS3FqQyxTQUFXQSxDQUNwQixDQThCQSxPQTVCQXNmLEVBQWUxaEQsVUFBVTRpQyxNQUFRLFdBRWpDLEVBRUE4ZSxFQUFlMWhELFVBQVVzdEIsUUFBVSxXQUMvQnZ1QixLQUFLcWpDLFNBQVcsSUFDcEIsRUFPQXNmLEVBQWUxaEQsVUFBVTdHLE1BQVEsV0FFakMsRUFFQXVvRCxFQUFlMWhELFVBQVVsRixLQUFPLFdBQzVCaUUsS0FBSzZqQyxPQUNULEVBTUE4ZSxFQUFlMWhELFVBQVV5aUMsT0FBUyxTQUFVa2YsR0FFNUMsRUFDT0QsQ0FDWCxDQXJDbUMsR0EyQy9CRSxHQUE2QixXQUk3QixTQUFTQSxFQUFZeGYsR0FDakJyakMsS0FBS3FqQyxTQUFXQSxFQUNoQnJqQyxLQUFLOGlELGNBQWdCLElBQUlILEdBQWV0ZixHQUN4Q3JqQyxLQUFLK2lELGdCQUFrQi9pRCxLQUFLOGlELGFBQ2hDLENBK0VBLE9BMUVBRCxFQUFZNWhELFVBQVUraEQsa0JBQW9CLFNBQVVDLEdBQzVDampELEtBQUsraUQsa0JBQW9CRSxJQUc3QmpqRCxLQUFLK2lELGdCQUFnQmhuRCxPQUNyQmlFLEtBQUsraUQsZ0JBQWtCRSxFQUN2QmpqRCxLQUFLK2lELGdCQUFnQjNvRCxRQUN6QixFQUtBeW9ELEVBQVk1aEQsVUFBVTRpQyxNQUFRLFdBQzFCN2pDLEtBQUtnakQsa0JBQWtCaGpELEtBQUs4aUQsY0FDaEMsRUFFQUQsRUFBWTVoRCxVQUFVaWlELE1BQVEsV0FDMUJsakQsS0FBS2dqRCxrQkFBa0JoakQsS0FBSzhpRCxjQUNoQyxFQU9BRCxFQUFZNWhELFVBQVVraUQsa0JBQW9CLFNBQVV4dkMsRUFBS3l2QyxHQUVyRCxJQURBLElBQUlDLEVBQWdCcmpELEtBQUtxakMsU0FBUzZMLFFBQVFtVSxjQUNqQy9wRCxFQUFJOHBELEVBQWMsRUFBRzlwRCxHQUFLLElBQUtBLEVBQ3BDcWEsRUFBSXJhLEdBQUsrcEQsRUFBYy9wRCxJQUFNLEtBQ3pCcWEsRUFBSXJhLEtBQ0pxYSxFQUFJcmEsR0FBRzR6QyxlQUFpQjV6QyxFQUdwQyxFQVVBdXBELEVBQVk1aEQsVUFBVXFpRCxXQUFhLFNBQVVDLEVBQVVGLEVBQWVHLEVBQVNKLEdBRzNFLElBRkEsSUFBSUssRUFBV0YsRUFBU0UsU0FBVS9HLEVBQU02RyxFQUFTN0csSUFBS3RVLEVBQVFtYixFQUFTbmIsTUFDbkVsb0MsRUFBSSxFQUNDNUcsRUFBSSxFQUFHQSxFQUFJOHVDLEVBQU85dUMsSUFBSyxDQUM1QixJQUFJeStDLEVBQU0wTCxFQUFTbnFELEdBQ2ZrM0IsRUFBTXVuQixFQUFJN0ssZUFDZCxHQUFJMWMsR0FBTyxHQUFLQSxFQUFNNHlCLEdBQ2ZDLEVBQWM3eUIsS0FBU3VuQixFQUMxQjJFLEVBQUlwakQsR0FBS2szQixPQUdiLEtBQU90d0IsRUFBSWtqRCxHQUFhLENBQ3BCLElBQUk1ekIsRUFBUTZ6QixFQUFjbmpELEdBQzFCLElBQUlzdkIsR0FBU0EsRUFBTXlkLGdCQUFrQnVXLEdBQzlCaDBCLEVBQU0wZCxpQkFBbUJodEMsRUFEaEMsQ0FLQXc4QyxFQUFJcGpELEdBQUs0RyxFQUNUNjNDLEVBQUk3SyxlQUFpQmh0QyxFQUNyQm1qRCxFQUFjbmpELEdBQUs2M0MsRUFDbkIsS0FKQSxDQUZJNzNDLEdBT1IsQ0FDSixDQUNKLEVBSUEyaUQsRUFBWTVoRCxVQUFVc3RCLFFBQVUsV0FDNUJ2dUIsS0FBS3FqQyxTQUFXLElBQ3BCLEVBQ093ZixDQUNYLENBeEZnQyxHQTBGNUJhLEdBQXNCLEVBS3RCQyxHQUErQixXQUUvQixTQUFTQSxFQUFjdGdCLEdBQ25CcmpDLEtBQUtxakMsU0FBV0EsRUFDaEJyakMsS0FBSzRqRCxhQUFlLEVBQ3BCNWpELEtBQUs4a0MsV0FBYSxDQUFDLEVBQ25COWtDLEtBQUs2akQsU0FBVyxDQUNaQyxlQUFlLEdBR25COWpELEtBQUsrakQsa0JBQW9CL2pELEtBQUsrakQsa0JBQWtCN1osS0FBS2xxQyxNQUNyREEsS0FBS2drRCxzQkFBd0Joa0QsS0FBS2drRCxzQkFBc0I5WixLQUFLbHFDLE1BQzdEcWpDLEVBQVM3bkIsS0FBS2k1QixpQkFBaUIsbUJBQW9CejBDLEtBQUsrakQsbUJBQW1CLEdBQzNFMWdCLEVBQVM3bkIsS0FBS2k1QixpQkFBaUIsdUJBQXdCejBDLEtBQUtna0QsdUJBQXVCLEVBQ3ZGLENBc0tBLE9BcktBaGpELE9BQU9rUSxlQUFleXlDLEVBQWMxaUQsVUFBVyxTQUFVLENBS3JEbVEsSUFBSyxXQUNELE9BQVNwUixLQUFLMmdCLElBQU0zZ0IsS0FBSzJnQixHQUFHc2pDLGVBQ2hDLEVBQ0E5eUMsWUFBWSxFQUNaZ2UsY0FBYyxJQU1sQncwQixFQUFjMWlELFVBQVVpakQsY0FBZ0IsU0FBVXZqQyxHQUM5QzNnQixLQUFLMmdCLEdBQUtBLEVBQ1YzZ0IsS0FBS3FqQyxTQUFTMWlCLEdBQUtBLEVBQ25CM2dCLEtBQUtxakMsU0FBUzhnQixZQUFjVCxLQUV4Qi9pQyxFQUFHc2pDLGlCQUFtQnRqQyxFQUFHSyxhQUFhLHVCQUN0Q0wsRUFBR0ssYUFBYSxzQkFBc0JvakMsZ0JBRTlDLEVBTUFULEVBQWMxaUQsVUFBVW9qRCxnQkFBa0IsU0FBVTFqQyxHQUNoRDNnQixLQUFLMmdCLEdBQUtBLEVBQ1YzZ0IsS0FBS3NrRCxnQkFBZ0IzakMsR0FDckIzZ0IsS0FBS3FqQyxTQUFTMWlCLEdBQUtBLEVBQ25CM2dCLEtBQUtxakMsU0FBUzhnQixZQUFjVCxLQUM1QjFqRCxLQUFLcWpDLFNBQVNraEIsUUFBUUwsY0FBYy9nRCxLQUFLd2QsRUFDN0MsRUFPQWdqQyxFQUFjMWlELFVBQVV1akQsZ0JBQWtCLFNBQVUxNkMsR0FDaEQsSUFBSTZXLEVBQUszZ0IsS0FBS3lrRCxjQUFjemtELEtBQUtxakMsU0FBUzduQixLQUFNMVIsR0FDaEQ5SixLQUFLcWtELGdCQUFnQjFqQyxFQUN6QixFQVNBZ2pDLEVBQWMxaUQsVUFBVXdqRCxjQUFnQixTQUFVdnRDLEVBQVFwTixHQUN0RCxJQUFJNlcsRUFJSixHQUhJbEcsR0FBUzR1QixZQUFjMzBCLEVBQUk2MEIsU0FDM0I1b0IsRUFBS3pKLEVBQU8wSixXQUFXLFNBQVU5VyxJQUVqQzZXLEVBQ0EzZ0IsS0FBSzRqRCxhQUFlLE9BS3BCLEdBRkE1akQsS0FBSzRqRCxhQUFlLElBQ3BCampDLEVBQUt6SixFQUFPMEosV0FBVyxRQUFTOVcsSUFBWW9OLEVBQU8wSixXQUFXLHFCQUFzQjlXLElBR2hGLE1BQU0sSUFBSTBpQixNQUFNLHNFQUt4QixPQUZBeHNCLEtBQUsyZ0IsR0FBS0EsRUFDVjNnQixLQUFLMGtELGdCQUNFMWtELEtBQUsyZ0IsRUFDaEIsRUFFQWdqQyxFQUFjMWlELFVBQVV5akQsY0FBZ0IsV0FFcEMsSUFBSS9qQyxFQUFLM2dCLEtBQUsyZ0IsR0FDVmdrQyxFQUFTLENBQ1RDLHFCQUFzQmprQyxFQUFHSyxhQUFhLGtDQUN0QzZqQyxtQkFBb0Jsa0MsRUFBR0ssYUFBYSw0QkFDcEM4akMsS0FBTW5rQyxFQUFHSyxhQUFhLGlDQUN0QitqQyxVQUFXcGtDLEVBQUdLLGFBQWEsc0NBQzNCZ2tDLElBQUtya0MsRUFBR0ssYUFBYSxnQ0FDckJpa0MsS0FBTXRrQyxFQUFHSyxhQUFhLGlDQUN0QmtrQyxNQUFPdmtDLEVBQUdLLGFBQWEsbUNBQ2hCTCxFQUFHSyxhQUFhLHlDQUN2Qm1rQyxJQUFLeGtDLEVBQUdLLGFBQWEsZ0NBQ3JCb2tDLEtBQU16a0MsRUFBR0ssYUFBYSxrQ0FFQSxJQUF0QmhoQixLQUFLNGpELGFBQ0w1aUQsT0FBT3FELE9BQU9yRSxLQUFLOGtDLFdBQVk2ZixFQUFRLENBQ25DVSxZQUFhMWtDLEVBQUdLLGFBQWEsc0JBQzdCKzBCLGFBQWNwMUIsRUFBR0ssYUFBYSx1QkFDOUJELFlBQWFKLEVBQUdLLGFBQWEsc0JBQzdCc2tDLGtCQUFtQjNrQyxFQUFHSyxhQUFhLDRCQUM1QkwsRUFBR0ssYUFBYSxnQ0FDaEJMLEVBQUdLLGFBQWEsa0NBQ3ZCdWtDLG1CQUFvQjVrQyxFQUFHSyxhQUFhLDBCQUVwQ3drQyxhQUFjN2tDLEVBQUdLLGFBQWEscUJBQzlCNmpDLG1CQUFvQmxrQyxFQUFHSyxhQUFhLDRCQUNwQ3lrQyxpQkFBa0I5a0MsRUFBR0ssYUFBYSwwQkFDbEMwa0MsdUJBQXdCL2tDLEVBQUdLLGFBQWEsbUNBR2pCLElBQXRCaGhCLEtBQUs0akQsY0FDVjVpRCxPQUFPcUQsT0FBT3JFLEtBQUs4a0MsV0FBWTZmLEVBQVEsQ0FFbkNnQixpQkFBa0JobEMsRUFBR0ssYUFBYSwyQkFHOUMsRUFLQTJpQyxFQUFjMWlELFVBQVU4aUQsa0JBQW9CLFNBQVVwaUQsR0FDbERBLEVBQU1pa0QsZ0JBQ1YsRUFFQWpDLEVBQWMxaUQsVUFBVStpRCxzQkFBd0IsV0FDNUNoa0QsS0FBS3FqQyxTQUFTa2hCLFFBQVFMLGNBQWMvZ0QsS0FBS25ELEtBQUsyZ0IsR0FDbEQsRUFDQWdqQyxFQUFjMWlELFVBQVVzdEIsUUFBVSxXQUM5QixJQUFJL1MsRUFBT3hiLEtBQUtxakMsU0FBUzduQixLQUN6QnhiLEtBQUtxakMsU0FBVyxLQUVoQjduQixFQUFLcTVCLG9CQUFvQixtQkFBb0I3MEMsS0FBSytqRCxtQkFDbER2b0MsRUFBS3E1QixvQkFBb0IsdUJBQXdCNzBDLEtBQUtna0QsdUJBQ3REaGtELEtBQUsyZ0IsR0FBR2tsQyxXQUFXLE1BQ2Y3bEQsS0FBSzhrQyxXQUFXL2pCLGFBQ2hCL2dCLEtBQUs4a0MsV0FBVy9qQixZQUFZQSxhQUVwQyxFQUVBNGlDLEVBQWMxaUQsVUFBVTZrRCxXQUFhLFdBQzdCOWxELEtBQUtxakMsU0FBUzBpQixtQkFDZC9sRCxLQUFLMmdCLEdBQUdrakIsT0FFaEIsRUFLQThmLEVBQWMxaUQsVUFBVXFqRCxnQkFBa0IsU0FBVTNqQyxHQUNoRCxJQUFJdzdCLEVBQWF4N0IsRUFBR0csdUJBQ2hCa2xDLEVBQVcsMkJBQTRCMzBDLFlBQWNzUCxhQUFjdFAsV0FBVzQwQyx1QkFDOUVELElBQ0FobUQsS0FBSzRqRCxhQUFlLEdBR3BCekgsSUFBZUEsRUFBVzE3QixTQUUxQnZNLFFBQVFDLEtBQUsseUZBR2pCLElBQUkreEMsRUFBWUYsS0FBY3JsQyxFQUFHSyxhQUFhLDBCQUM5Q2hoQixLQUFLNmpELFNBQVNDLGNBQWdCb0MsRUFDekJBLEdBRURoeUMsUUFBUUMsS0FBSyxxR0FHckIsRUFDT3d2QyxDQUNYLENBckxrQyxHQTJMOUJ3QyxHQUNBLFNBQXVCclAsR0FDbkI5MkMsS0FBSzgyQyxZQUFjQSxFQUNuQjkyQyxLQUFLeWdCLFFBQVUsS0FDZnpnQixLQUFLNHNDLFNBQVcsRUFDaEI1c0MsS0FBSzYxQyxhQUFlLEVBQ3BCNzFDLEtBQUs4MUMsV0FBYSxFQUNsQjkxQyxLQUFLbTJDLFlBQWN2Z0MsRUFBYXFGLEtBQ2hDamIsS0FBS29tRCxXQUFhLEtBQ2xCcG1ELEtBQUtxbUQsZ0JBQWtCLEtBQ3ZCcm1ELEtBQUtzbUQsU0FBVyxDQUNwQixFQUlBQyxHQUFnQixJQUFJLzBCLEdBS3BCZzFCLEdBQW1DLFdBSW5DLFNBQVNBLEVBQWtCbmpCLEdBQ3ZCcmpDLEtBQUtxakMsU0FBV0EsRUFDaEJyakMsS0FBS3ltRCxvQkFBc0IsR0FDM0J6bUQsS0FBSzBtRCxtQkFBcUIsSUFBSS9RLEdBQVksR0FBSSxJQUM5QzMxQyxLQUFLMm1ELFlBQWMsSUFDdkIsQ0ErYkEsT0E3YkFILEVBQWtCdmxELFVBQVVpakQsY0FBZ0IsV0FDeEMsSUFBSXZqQyxFQUFLM2dCLEtBQUsyZ0IsR0FBSzNnQixLQUFLcWpDLFNBQVMxaUIsR0FRakMsR0FQQTNnQixLQUFLbWtELFlBQWNua0QsS0FBS3FqQyxTQUFTOGdCLFlBQ2pDbmtELEtBQUttb0MsUUFBVW5vQyxLQUFLMG1ELG1CQUNwQjFtRCxLQUFLNG1ELFNBQVcsSUFBSXAxQixHQUNwQnh4QixLQUFLNm1ELFFBQVMsRUFDZDdtRCxLQUFLOG1ELG1CQUFvQixFQUN6QjltRCxLQUFLK21ELFlBQVcsR0FFMkIsSUFBdkMvbUQsS0FBS3FqQyxTQUFTOWhDLFFBQVFxaUQsYUFBb0IsQ0FFMUMsSUFBSW9ELEVBQStCaG5ELEtBQUtxakMsU0FBUzloQyxRQUFRdWpDLFdBQVd1Z0IsWUFDaEU0QixFQUE4QmpuRCxLQUFLcWpDLFNBQVM5aEMsUUFBUXVqQyxXQUFXaVIsYUFDL0R0N0IsR0FBUzR1QixhQUFlMzBCLEVBQUl3eUMsZUFDNUJGLEVBQStCLEtBQy9CQyxFQUE4QixNQUU5QkQsRUFDQXJtQyxFQUFHMGtDLFlBQWMsU0FBVThCLEdBQ3ZCLE9BQU9ILEVBQTZCSSxpQkFBaUJELEVBQ3pELEdBR0FubkQsS0FBSzZtRCxRQUFTLEVBQ2RsbUMsRUFBRzBrQyxZQUFjLFdBRWpCLEdBRUM0QixJQUNEam5ELEtBQUs4bUQsbUJBQW9CLEVBRWpDLE1BSUk5bUQsS0FBSzJtRCxZQUFjaG1DLEVBQUcwbUMsMkJBQTJCMW1DLEVBQUcybUMsYUFBYzNtQyxFQUFHNG1DLE1BQU81bUMsRUFBRzZtQyxRQUV2RixFQU9BaEIsRUFBa0J2bEQsVUFBVWlwQyxLQUFPLFNBQVU0TSxFQUFhTyxFQUFPaVAsUUFDNUMsSUFBYkEsSUFBdUJBLEVBQVcsR0FDdEMsSUFBSTNsQyxFQUFLM2dCLEtBQUsyZ0IsR0FDZCxHQUFJbTJCLEVBQWEsQ0FFYixJQUFJMlEsRUFBTTNRLEVBQVliLGVBQWVqMkMsS0FBS21rRCxjQUFnQm5rRCxLQUFLMG5ELGdCQUFnQjVRLEdBQzNFOTJDLEtBQUttb0MsVUFBWTJPLElBQ2pCOTJDLEtBQUttb0MsUUFBVTJPLEVBQ2ZuMkIsRUFBR2duQyxnQkFBZ0JobkMsRUFBR2luQyxZQUFhSCxFQUFJM1EsY0FHdkMyUSxFQUFJbkIsV0FBYUEsSUFDakJ4UCxFQUFZbEssVUFDWmtLLEVBQVlqQixjQUNaNFIsRUFBSW5CLFNBQVdBLEdBR2ZtQixFQUFJN2EsVUFBWWtLLEVBQVlsSyxVQUM1QjZhLEVBQUk3YSxRQUFVa0ssRUFBWWxLLFFBQ3RCNmEsRUFBSTVSLGNBQWdCaUIsRUFBWWpCLGFBQ2hDNFIsRUFBSTVSLFlBQWNpQixFQUFZakIsWUFDOUI0UixFQUFJM1IsVUFBWWdCLEVBQVloQixVQUM1QjkxQyxLQUFLNm5ELGtCQUFrQi9RLEVBQWF3UCxJQUUvQm1CLEVBQUkzUixZQUFjZ0IsRUFBWWhCLFlBQ25DMlIsRUFBSTNSLFVBQVlnQixFQUFZaEIsVUFDNUI5MUMsS0FBSzhuRCxrQkFBa0JoUixLQUcvQixJQUFLLElBQUl4OUMsRUFBSSxFQUFHQSxFQUFJdzlDLEVBQVlkLGNBQWNqOUMsT0FBUU8sSUFBSyxDQUN2RCxJQUFJeStDLEVBQU1qQixFQUFZZCxjQUFjMThDLEdBQ3BDMEcsS0FBS3FqQyxTQUFTNkwsUUFBUTlFLE9BQU8yTixFQUFJNUssb0JBQXNCNEssRUFDM0QsQ0FJQSxHQUhJakIsRUFBWWYsY0FDWi8xQyxLQUFLcWpDLFNBQVM2TCxRQUFROUUsT0FBTzBNLEVBQVlmLGNBRXpDc0IsRUFBTyxDQUNQLElBQUkwUSxFQUFZMVEsRUFBTXJnQyxPQUFTc3ZDLEVBQzNCMEIsRUFBYTNRLEVBQU1wZ0MsUUFBVXF2QyxFQUM3QnB3QixFQUFRNnhCLEVBQVcxUSxFQUFNcmdDLE1BQzdCaFgsS0FBS2lvRCxZQUFZNVEsRUFBTTErQyxFQUFJdTlCLEVBQU9taEIsRUFBTXorQyxFQUFJczlCLEVBQU82eEIsRUFBVUMsRUFDakUsTUFFUUQsRUFBWWpSLEVBQVk5L0IsT0FBU3N2QyxFQUNqQzBCLEVBQWFsUixFQUFZNy9CLFFBQVVxdkMsRUFDdkN0bUQsS0FBS2lvRCxZQUFZLEVBQUcsRUFBR0YsRUFBVUMsRUFFekMsTUFFUWhvRCxLQUFLbW9DLFVBQ0xub0MsS0FBS21vQyxRQUFVLEtBQ2Z4bkIsRUFBR2duQyxnQkFBZ0JobkMsRUFBR2luQyxZQUFhLE9BRW5DdlEsRUFDQXIzQyxLQUFLaW9ELFlBQVk1USxFQUFNMStDLEVBQUcwK0MsRUFBTXorQyxFQUFHeStDLEVBQU1yZ0MsTUFBT3FnQyxFQUFNcGdDLFFBR3REalgsS0FBS2lvRCxZQUFZLEVBQUcsRUFBR2pvRCxLQUFLcWpDLFNBQVNyc0IsTUFBT2hYLEtBQUtxakMsU0FBU3BzQixPQUd0RSxFQVFBdXZDLEVBQWtCdmxELFVBQVVnbkQsWUFBYyxTQUFVdHZELEVBQUdDLEVBQUdvZSxFQUFPQyxHQUM3RCxJQUFJOU0sRUFBSW5LLEtBQUs0bUQsU0FDYmp1RCxFQUFJc0IsS0FBS2cxQixNQUFNdDJCLEdBQ2ZDLEVBQUlxQixLQUFLZzFCLE1BQU1yMkIsR0FDZm9lLEVBQVEvYyxLQUFLZzFCLE1BQU1qWSxHQUNuQkMsRUFBU2hkLEtBQUtnMUIsTUFBTWhZLEdBQ2hCOU0sRUFBRTZNLFFBQVVBLEdBQVM3TSxFQUFFOE0sU0FBV0EsR0FBVTlNLEVBQUV4UixJQUFNQSxHQUFLd1IsRUFBRXZSLElBQU1BLElBQ2pFdVIsRUFBRXhSLEVBQUlBLEVBQ053UixFQUFFdlIsRUFBSUEsRUFDTnVSLEVBQUU2TSxNQUFRQSxFQUNWN00sRUFBRThNLE9BQVNBLEVBQ1hqWCxLQUFLMmdCLEdBQUdpbUMsU0FBU2p1RCxFQUFHQyxFQUFHb2UsRUFBT0MsR0FFdEMsRUFDQWpXLE9BQU9rUSxlQUFlczFDLEVBQWtCdmxELFVBQVcsT0FBUSxDQUt2RG1RLElBQUssV0FDRCxPQUFJcFIsS0FBS21vQyxRQUVFLENBQUV4dkMsRUFBRyxFQUFHQyxFQUFHLEVBQUdvZSxNQUFPaFgsS0FBS21vQyxRQUFRbnhCLE1BQU9DLE9BQVFqWCxLQUFLbW9DLFFBQVFseEIsUUFFbEUsQ0FBRXRlLEVBQUcsRUFBR0MsRUFBRyxFQUFHb2UsTUFBT2hYLEtBQUtxakMsU0FBU3JzQixNQUFPQyxPQUFRalgsS0FBS3FqQyxTQUFTcHNCLE9BQzNFLEVBQ0E5RixZQUFZLEVBQ1pnZSxjQUFjLElBV2xCcTNCLEVBQWtCdmxELFVBQVUydEIsTUFBUSxTQUFVOXZCLEVBQUdnSCxFQUFHekosRUFBR0QsRUFBR2loQyxRQUN6QyxJQUFUQSxJQUFtQkEsRUFBT3pvQixFQUFZc3pDLE1BQVF0ekMsRUFBWXV6QyxPQUM5RCxJQUFJeG5DLEVBQUszZ0IsS0FBSzJnQixHQUVkQSxFQUFHazJCLFdBQVcvM0MsRUFBR2dILEVBQUd6SixFQUFHRCxHQUN2QnVrQixFQUFHaU8sTUFBTXlPLEVBQ2IsRUFPQW1wQixFQUFrQnZsRCxVQUFVeW1ELGdCQUFrQixTQUFVNVEsR0FDcEQsSUFBSW4yQixFQUFLM2dCLEtBQUsyZ0IsR0FDVjhtQyxFQUFNLElBQUl0QixHQUFjeGxDLEVBQUd5bkMscUJBSy9CLE9BSkFYLEVBQUl0UixZQUFjbjJDLEtBQUtxb0QsY0FBY3ZSLEVBQVlYLGFBQ2pEVyxFQUFZYixlQUFlajJDLEtBQUtta0QsYUFBZXNELEVBQy9Dem5ELEtBQUt5bUQsb0JBQW9COXNELEtBQUttOUMsR0FDOUJBLEVBQVlaLGNBQWNwYyxJQUFJOTVCLE1BQ3ZCeW5ELENBQ1gsRUFNQWpCLEVBQWtCdmxELFVBQVU2bUQsa0JBQW9CLFNBQVVoUixHQUN0RCxJQUFJbjJCLEVBQUszZ0IsS0FBSzJnQixHQUNWOG1DLEVBQU0zUSxFQUFZYixlQUFlajJDLEtBQUtta0QsYUFDdENzRCxFQUFJckIsYUFDSnpsQyxFQUFHMm5DLGlCQUFpQjNuQyxFQUFHMm1DLGFBQWNHLEVBQUlyQixZQUN6Q3psQyxFQUFHNG5DLCtCQUErQjVuQyxFQUFHMm1DLGFBQWNHLEVBQUl0UixZQUFheDFCLEVBQUc0bUMsTUFBT3pRLEVBQVk5L0IsTUFBTzgvQixFQUFZNy9CLFNBRTdHd3dDLEVBQUlobkMsVUFDSkUsRUFBRzJuQyxpQkFBaUIzbkMsRUFBRzJtQyxhQUFjRyxFQUFJaG5DLFNBQ3JDZ25DLEVBQUlyQixXQUNKemxDLEVBQUc0bkMsK0JBQStCNW5DLEVBQUcybUMsYUFBY0csRUFBSXRSLFlBQWF4MUIsRUFBRzZuQyxpQkFBa0IxUixFQUFZOS9CLE1BQU84L0IsRUFBWTcvQixRQUd4SDBKLEVBQUc4bkMsb0JBQW9COW5DLEVBQUcybUMsYUFBYzNtQyxFQUFHK25DLGNBQWU1UixFQUFZOS9CLE1BQU84L0IsRUFBWTcvQixTQUdqRyxJQUFJKytCLEVBQWdCYyxFQUFZZCxjQUM1QjVOLEVBQVE0TixFQUFjajlDLE9BQ3JCNG5CLEVBQUcwa0MsY0FDSmpkLEVBQVFudUMsS0FBS3dGLElBQUkyb0MsRUFBTyxJQUU1QixJQUFLLElBQUk5dUMsRUFBSSxFQUFHQSxFQUFJOHVDLEVBQU85dUMsSUFBSyxDQUM1QixJQUFJNDFDLEVBQVU4RyxFQUFjMThDLEdBQ3hCcXZELEVBQWdCelosRUFBUS9CLG9CQUFzQitCLEVBQ2xEbHZDLEtBQUtxakMsU0FBUzZMLFFBQVFoRixLQUFLeWUsRUFBZSxFQUM5QyxDQUNJN1IsRUFBWWYsY0FBZ0IvMUMsS0FBSzhtRCxtQkFDakM5bUQsS0FBS3FqQyxTQUFTNkwsUUFBUWhGLEtBQUs0TSxFQUFZZixhQUFjLEVBRTdELEVBT0F5USxFQUFrQnZsRCxVQUFVNG1ELGtCQUFvQixTQUFVL1EsRUFBYXdQLEdBQ25FLElBQUkzbEMsRUFBSzNnQixLQUFLMmdCLEdBQ1Y4bUMsRUFBTTNRLEVBQVliLGVBQWVqMkMsS0FBS21rRCxhQUV0Q25PLEVBQWdCYyxFQUFZZCxjQUM1QjVOLEVBQVE0TixFQUFjajlDLE9BQ3JCNG5CLEVBQUcwa0MsY0FDSmpkLEVBQVFudUMsS0FBS3dGLElBQUkyb0MsRUFBTyxJQUV4QnFmLEVBQUl0UixZQUFjLEdBQUtuMkMsS0FBSzRvRCwwQkFBMEI5UixJQUN0RDJRLEVBQUlyQixXQUFhcUIsRUFBSXJCLFlBQWN6bEMsRUFBR2tvQyxxQkFDdENsb0MsRUFBRzJuQyxpQkFBaUIzbkMsRUFBRzJtQyxhQUFjRyxFQUFJckIsWUFDekN6bEMsRUFBRzRuQywrQkFBK0I1bkMsRUFBRzJtQyxhQUFjRyxFQUFJdFIsWUFBYXgxQixFQUFHNG1DLE1BQU96USxFQUFZOS9CLE1BQU84L0IsRUFBWTcvQixRQUM3RzBKLEVBQUdtb0Msd0JBQXdCbm9DLEVBQUdpbkMsWUFBYWpuQyxFQUFHb29DLGtCQUFtQnBvQyxFQUFHMm1DLGFBQWNHLEVBQUlyQixhQUVqRnFCLEVBQUlyQixhQUNUemxDLEVBQUdxb0MsbUJBQW1CdkIsRUFBSXJCLFlBQzFCcUIsRUFBSXJCLFdBQWEsS0FDYnFCLEVBQUlwQixrQkFDSm9CLEVBQUlwQixnQkFBZ0I1YixVQUNwQmdkLEVBQUlwQixnQkFBa0IsT0FJOUIsSUFEQSxJQUFJYyxFQUFpQixHQUNaN3RELEVBQUksRUFBR0EsRUFBSTh1QyxFQUFPOXVDLElBQUssQ0FDNUIsSUFBSTQxQyxFQUFVOEcsRUFBYzE4QyxHQUN4QnF2RCxFQUFnQnpaLEVBQVEvQixvQkFBc0IrQixFQUNsRGx2QyxLQUFLcWpDLFNBQVM2TCxRQUFRaEYsS0FBS3llLEVBQWUsR0FDaEMsSUFBTnJ2RCxHQUFXbXVELEVBQUlyQixhQUduQnpsQyxFQUFHc29DLHFCQUFxQnRvQyxFQUFHaW5DLFlBQWFqbkMsRUFBR29vQyxrQkFBb0J6dkQsRUFBRzQxQyxFQUFROXBDLE9BQVF1akQsRUFBY2hjLFlBQVkzc0MsS0FBS21rRCxhQUFhalYsUUFBU29YLEdBQ3ZJYSxFQUFleHRELEtBQUtnbkIsRUFBR29vQyxrQkFBb0J6dkQsR0FDL0MsQ0FJQSxHQUhJNnRELEVBQWVwdUQsT0FBUyxHQUN4QjRuQixFQUFHMGtDLFlBQVk4QixHQUVmclEsRUFBWWYsY0FDWS8xQyxLQUFLOG1ELGtCQUNOLENBQ25CLElBQUkvUSxFQUFlZSxFQUFZZixhQUMvQi8xQyxLQUFLcWpDLFNBQVM2TCxRQUFRaEYsS0FBSzZMLEVBQWMsR0FDekNwMUIsRUFBR3NvQyxxQkFBcUJ0b0MsRUFBR2luQyxZQUFham5DLEVBQUd1b0MsaUJBQWtCdm9DLEVBQUc0ckIsV0FBWXdKLEVBQWFwSixZQUFZM3NDLEtBQUtta0QsYUFBYWpWLFFBQVNvWCxFQUNwSSxFQUVDeFAsRUFBWXIyQixVQUFXcTJCLEVBQVlsQixPQUFZa0IsRUFBWWYsY0FBZ0IvMUMsS0FBSzhtRCxrQkFXNUVXLEVBQUlobkMsVUFDVEUsRUFBR3FvQyxtQkFBbUJ2QixFQUFJaG5DLFNBQzFCZ25DLEVBQUlobkMsUUFBVSxPQVpkZ25DLEVBQUlobkMsUUFBVWduQyxFQUFJaG5DLFNBQVdFLEVBQUdrb0MscUJBQ2hDbG9DLEVBQUcybkMsaUJBQWlCM25DLEVBQUcybUMsYUFBY0csRUFBSWhuQyxTQUNyQ2duQyxFQUFJckIsV0FDSnpsQyxFQUFHNG5DLCtCQUErQjVuQyxFQUFHMm1DLGFBQWNHLEVBQUl0UixZQUFheDFCLEVBQUc2bkMsaUJBQWtCMVIsRUFBWTkvQixNQUFPOC9CLEVBQVk3L0IsUUFHeEgwSixFQUFHOG5DLG9CQUFvQjluQyxFQUFHMm1DLGFBQWMzbUMsRUFBRytuQyxjQUFlNVIsRUFBWTkvQixNQUFPOC9CLEVBQVk3L0IsUUFFN0YwSixFQUFHbW9DLHdCQUF3Qm5vQyxFQUFHaW5DLFlBQWFqbkMsRUFBR3dvQyx5QkFBMEJ4b0MsRUFBRzJtQyxhQUFjRyxFQUFJaG5DLFNBTXJHLEVBS0ErbEMsRUFBa0J2bEQsVUFBVTJuRCwwQkFBNEIsU0FBVTlSLEdBQzlELE9BQThDLElBQXZDOTJDLEtBQUtxakMsU0FBUzloQyxRQUFRcWlELGNBQ3RCOU0sRUFBWWQsY0FBY2o5QyxRQUFVLElBQU0rOUMsRUFBWWYsWUFDakUsRUFNQXlRLEVBQWtCdmxELFVBQVVvbkQsY0FBZ0IsU0FBVWUsR0FDbEQsSUFBSXpDLEVBQWMzbUQsS0FBSzJtRCxZQUNuQjl5QyxFQUFNK0IsRUFBYXFGLEtBQ3ZCLEdBQUltdUMsR0FBVyxHQUFxQixPQUFoQnpDLEVBQ2hCLE9BQU85eUMsRUFFWCxJQUFLLElBQUl2YSxFQUFJLEVBQUdBLEVBQUlxdEQsRUFBWTV0RCxPQUFRTyxJQUNwQyxHQUFJcXRELEVBQVlydEQsSUFBTTh2RCxFQUFTLENBQzNCdjFDLEVBQU04eUMsRUFBWXJ0RCxHQUNsQixLQUNKLENBS0osT0FIWSxJQUFSdWEsSUFDQUEsRUFBTStCLEVBQWFxRixNQUVoQnBILENBQ1gsRUFZQTJ5QyxFQUFrQnZsRCxVQUFVNi9DLEtBQU8sU0FBVWhLLEVBQWF1UyxFQUFjQyxHQUNwRSxJQUFJNXhDLEVBQUsxWCxLQUFNbW9DLEVBQVV6d0IsRUFBR3l3QixRQUFTOUUsRUFBVzNyQixFQUFHMnJCLFNBQVUxaUIsRUFBS2pKLEVBQUdpSixHQUFJd2pDLEVBQWN6c0MsRUFBR3lzQyxZQUMxRixHQUFzQyxJQUFsQzlnQixFQUFTOWhDLFFBQVFxaUQsY0FHaEJ6YixFQUFMLENBR0EsSUFBSXNmLEVBQU10ZixFQUFROE4sZUFBZWtPLEdBQ2pDLEdBQUtzRCxFQUFMLENBR0EsSUFBSzNRLEVBQWEsQ0FDZCxJQUFLMlEsRUFBSXJCLFdBQ0wsT0FFSixJQUFJbUQsRUFBZXBoQixFQUFRNk4sY0FBYyxHQUN6QyxJQUFLdVQsRUFDRCxPQUVDOUIsRUFBSXBCLGtCQUNMb0IsRUFBSXBCLGdCQUFrQixJQUFJMVEsR0FBWXhOLEVBQVFueEIsTUFBT214QixFQUFRbHhCLFFBQzdEd3dDLEVBQUlwQixnQkFBZ0JqUSxnQkFBZ0IsRUFBR21ULEtBRTNDelMsRUFBYzJRLEVBQUlwQixpQkFDRnJRLGNBQWMsS0FBT3VULElBQ2pDelMsRUFBWWQsY0FBYyxHQUFLdVQsRUFDL0J6UyxFQUFZbEssVUFDWmtLLEVBQVlqQixlQUVaaUIsRUFBWTkvQixRQUFVbXhCLEVBQVFueEIsT0FBUzgvQixFQUFZNy9CLFNBQVdreEIsRUFBUWx4QixTQUN0RTYvQixFQUFZOS9CLE1BQVFteEIsRUFBUW54QixNQUM1QjgvQixFQUFZNy9CLE9BQVNreEIsRUFBUWx4QixPQUM3QjYvQixFQUFZbEssVUFDWmtLLEVBQVloQixZQUVwQixDQUNLdVQsS0FDREEsRUFBZTlDLElBQ0Z2dkMsTUFBUW14QixFQUFRbnhCLE1BQzdCcXlDLEVBQWFweUMsT0FBU2t4QixFQUFRbHhCLFFBRTdCcXlDLElBQ0RBLEVBQWFELEdBRWpCLElBQUlHLEVBQVdILEVBQWFyeUMsUUFBVXN5QyxFQUFXdHlDLE9BQVNxeUMsRUFBYXB5QyxTQUFXcXlDLEVBQVdyeUMsT0FDN0ZqWCxLQUFLa3FDLEtBQUs0TSxHQUNWbjJCLEVBQUdnbkMsZ0JBQWdCaG5DLEVBQUc4b0MsaUJBQWtCaEMsRUFBSTNRLGFBQzVDbjJCLEVBQUcwbEMsZ0JBQWdCZ0QsRUFBYTM1QixLQUFNMjVCLEVBQWE1NUIsSUFBSzQ1QixFQUFhMTVCLE1BQU8wNUIsRUFBYXo1QixPQUFRMDVCLEVBQVc1NUIsS0FBTTQ1QixFQUFXNzVCLElBQUs2NUIsRUFBVzM1QixNQUFPMjVCLEVBQVcxNUIsT0FBUWpQLEVBQUcrb0MsaUJBQWtCRixFQUFXN29DLEVBQUcrcUIsUUFBVS9xQixFQUFHbkUsT0FyQ3ZOLENBSkEsQ0EwQ0osRUFNQWdxQyxFQUFrQnZsRCxVQUFVMG9ELG1CQUFxQixTQUFVN1MsRUFBYThTLEdBQ3BFLElBQUluQyxFQUFNM1EsRUFBWWIsZUFBZWoyQyxLQUFLbWtELGFBQ3RDeGpDLEVBQUszZ0IsS0FBSzJnQixHQUNkLEdBQUs4bUMsRUFBTCxRQUdPM1EsRUFBWWIsZUFBZWoyQyxLQUFLbWtELGFBQ3ZDLElBQUk1N0MsRUFBUXZJLEtBQUt5bUQsb0JBQW9CcDhDLFFBQVF5c0MsR0FDekN2dUMsR0FBUyxHQUNUdkksS0FBS3ltRCxvQkFBb0J6OUMsT0FBT1QsRUFBTyxHQUUzQ3V1QyxFQUFZWixjQUFjaFIsT0FBT2xsQyxNQUM1QjRwRCxJQUNEanBDLEVBQUdrcEMsa0JBQWtCcEMsRUFBSTNRLGFBQ3JCMlEsRUFBSXJCLFlBQ0p6bEMsRUFBR3FvQyxtQkFBbUJ2QixFQUFJckIsWUFFMUJxQixFQUFJaG5DLFNBQ0pFLEVBQUdxb0MsbUJBQW1CdkIsRUFBSWhuQyxVQUc5QmduQyxFQUFJcEIsaUJBQ0pvQixFQUFJcEIsZ0JBQWdCNWIsU0FqQnhCLENBbUJKLEVBS0ErYixFQUFrQnZsRCxVQUFVOGxELFdBQWEsU0FBVTZDLEdBQy9DLElBQUlwd0QsRUFBT3dHLEtBQUt5bUQsb0JBQ2hCem1ELEtBQUt5bUQsb0JBQXNCLEdBQzNCLElBQUssSUFBSW50RCxFQUFJLEVBQUdBLEVBQUlFLEVBQUtULE9BQVFPLElBQzdCMEcsS0FBSzJwRCxtQkFBbUJud0QsRUFBS0YsR0FBSXN3RCxFQUV6QyxFQVFBcEQsRUFBa0J2bEQsVUFBVTZvRCxhQUFlLFdBQ3ZDLElBQUloVCxFQUFjOTJDLEtBQUttb0MsUUFDdkIsR0FBSzJPLEVBQUwsQ0FHQSxJQUFJMlEsRUFBTTNRLEVBQVliLGVBQWVqMkMsS0FBS21rRCxhQUMxQyxHQUFLc0QsSUFBT0EsRUFBSWhuQyxRQUFoQixDQUdBcTJCLEVBQVlyMkIsU0FBVSxFQUN0QixJQUFJaFksRUFBSXF1QyxFQUFZOS9CLE1BQ2hCckksRUFBSW1vQyxFQUFZNy9CLE9BQ2hCMEosRUFBSzNnQixLQUFLMmdCLEdBQ1ZGLEVBQVVFLEVBQUdrb0MscUJBQ2pCbG9DLEVBQUcybkMsaUJBQWlCM25DLEVBQUcybUMsYUFBYzdtQyxHQUNqQ2duQyxFQUFJckIsV0FDSnpsQyxFQUFHNG5DLCtCQUErQjVuQyxFQUFHMm1DLGFBQWNHLEVBQUl0UixZQUFheDFCLEVBQUc2bkMsaUJBQWtCLy9DLEVBQUdrRyxHQUc1RmdTLEVBQUc4bkMsb0JBQW9COW5DLEVBQUcybUMsYUFBYzNtQyxFQUFHK25DLGNBQWVqZ0QsRUFBR2tHLEdBRWpFODRDLEVBQUlobkMsUUFBVUEsRUFDZEUsRUFBR21vQyx3QkFBd0Jub0MsRUFBR2luQyxZQUFham5DLEVBQUd3b0MseUJBQTBCeG9DLEVBQUcybUMsYUFBYzdtQyxFQWR6RixDQUpBLENBbUJKLEVBRUErbEMsRUFBa0J2bEQsVUFBVWlpRCxNQUFRLFdBQ2hDbGpELEtBQUttb0MsUUFBVW5vQyxLQUFLMG1ELG1CQUNwQjFtRCxLQUFLNG1ELFNBQVcsSUFBSXAxQixFQUN4QixFQUNBZzFCLEVBQWtCdmxELFVBQVVzdEIsUUFBVSxXQUNsQ3Z1QixLQUFLcWpDLFNBQVcsSUFDcEIsRUFDT21qQixDQUNYLENBemNzQyxHQTJjbEN1RCxHQUFjLENBQUUsS0FBTSxFQUFHLEtBQU0sRUFBRyxLQUFNLEdBS3hDQyxHQUFnQyxXQUVoQyxTQUFTQSxFQUFlM21CLEdBQ3BCcmpDLEtBQUtxakMsU0FBV0EsRUFDaEJyakMsS0FBS2lxRCxnQkFBa0IsS0FDdkJqcUQsS0FBS2txRCxXQUFhLEtBQ2xCbHFELEtBQUttcUQsUUFBUyxFQUNkbnFELEtBQUtvcUQsYUFBYyxFQUNuQnBxRCxLQUFLcXFELDBCQUEyQixFQUNoQ3JxRCxLQUFLc3FELGtCQUFvQixDQUFDLENBQzlCLENBaVhBLE9BL1dBTixFQUFlL29ELFVBQVVpakQsY0FBZ0IsV0FDckNsa0QsS0FBSyttRCxZQUFXLEdBQ2hCLElBQUlwbUMsRUFBSzNnQixLQUFLMmdCLEdBQUszZ0IsS0FBS3FqQyxTQUFTMWlCLEdBQzdCcGYsRUFBVXZCLEtBQUtxakMsU0FBUzloQyxRQUc1QixHQUZBdkIsS0FBS21rRCxZQUFjbmtELEtBQUtxakMsU0FBUzhnQixZQUVKLElBQXpCNWlELEVBQVFxaUQsYUFBb0IsQ0FFNUIsSUFBSTJHLEVBQXVCdnFELEtBQUtxakMsU0FBUzloQyxRQUFRdWpDLFdBQVd3Z0Isa0JBQ3hEN3FDLEdBQVM0dUIsYUFBZTMwQixFQUFJd3lDLGVBQzVCcUQsRUFBdUIsTUFFdkJBLEdBQ0E1cEMsRUFBRzZwQyxrQkFBb0IsV0FDbkIsT0FBT0QsRUFBcUJFLHNCQUNoQyxFQUNBOXBDLEVBQUcrcEMsZ0JBQWtCLFNBQVVDLEdBQzNCLE9BQU9KLEVBQXFCSyxtQkFBbUJELEVBQ25ELEVBQ0FocUMsRUFBR2txQyxrQkFBb0IsU0FBVUYsR0FDN0IsT0FBT0osRUFBcUJPLHFCQUFxQkgsRUFDckQsSUFHQTNxRCxLQUFLbXFELFFBQVMsRUFDZHhwQyxFQUFHNnBDLGtCQUFvQixXQUNuQixPQUFPLElBQ1gsRUFDQTdwQyxFQUFHK3BDLGdCQUFrQixXQUNqQixPQUFPLElBQ1gsRUFDQS9wQyxFQUFHa3FDLGtCQUFvQixXQUNuQixPQUFPLElBQ1gsRUFFUixDQUNBLEdBQTZCLElBQXpCdHBELEVBQVFxaUQsYUFBb0IsQ0FDNUIsSUFBSW1ILEVBQWdCcHFDLEVBQUdLLGFBQWEsMEJBQ2hDK3BDLEdBQ0FwcUMsRUFBR3FxQyxvQkFBc0IsU0FBVTV1RCxFQUFHQyxHQUNsQyxPQUFPMHVELEVBQWNFLHlCQUF5Qjd1RCxFQUFHQyxFQUNyRCxFQUNBc2tCLEVBQUd1cUMsc0JBQXdCLFNBQVU5dUQsRUFBR0MsRUFBR0MsRUFBR3dFLEVBQUd2RixHQUM3QyxPQUFPd3ZELEVBQWNJLDJCQUEyQi91RCxFQUFHQyxFQUFHQyxFQUFHd0UsRUFBR3ZGLEVBQ2hFLEVBQ0FvbEIsRUFBR3lxQyxvQkFBc0IsU0FBVWh2RCxFQUFHQyxFQUFHQyxFQUFHd0UsR0FDeEMsT0FBT2lxRCxFQUFjTSx5QkFBeUJqdkQsRUFBR0MsRUFBR0MsRUFBR3dFLEVBQzNELEdBR0FkLEtBQUtvcUQsYUFBYyxDQUUzQixDQUNBcHFELEtBQUtxcUQseUJBQW9ELElBQXpCOW9ELEVBQVFxaUQsZ0JBQXdCcmlELEVBQVF1akMsV0FBV3lnQixrQkFDdkYsRUFNQXlFLEVBQWUvb0QsVUFBVWlwQyxLQUFPLFNBQVVpVCxFQUFVeUUsR0FDaERBLEVBQVNBLEdBQVU1aEQsS0FBS3FqQyxTQUFTdWUsT0FBT0EsT0FDeEMsSUFBSWpoQyxFQUFLM2dCLEtBQUsyZ0IsR0FLVjJxQyxFQUFPbk8sRUFBU2QscUJBQXFCcjhDLEtBQUtta0QsYUFDMUNvSCxHQUFjLEVBQ2JELElBQ0R0ckQsS0FBS3NxRCxrQkFBa0JuTixFQUFTdHNDLElBQU1zc0MsRUFDdENBLEVBQVNqSCxjQUFjcGMsSUFBSTk1QixNQUMzQm05QyxFQUFTZCxxQkFBcUJyOEMsS0FBS21rRCxhQUFlbUgsRUFBTyxDQUFDLEVBQzFEQyxHQUFjLEdBRWxCLElBQUlaLEVBQU1XLEVBQUsxSixFQUFPQyxRQUFRaHhDLEtBQU83USxLQUFLd3JELGdCQUFnQnJPLEVBQVV5RSxFQUFRMkosR0FDNUV2ckQsS0FBS2lxRCxnQkFBa0I5TSxFQUNuQm45QyxLQUFLa3FELGFBQWVTLElBQ3BCM3FELEtBQUtrcUQsV0FBYVMsRUFDZDNxRCxLQUFLbXFELE9BQ0x4cEMsRUFBRytwQyxnQkFBZ0JDLEdBR25CM3FELEtBQUt5ckQsWUFBWXRPLEVBQVV5RSxFQUFPQyxVQU0xQzdoRCxLQUFLMHJELGVBQ1QsRUFFQTFCLEVBQWUvb0QsVUFBVWlpRCxNQUFRLFdBQzdCbGpELEtBQUtvcUMsUUFDVCxFQUVBNGYsRUFBZS9vRCxVQUFVeXFELGNBQWdCLFdBR3JDLElBRkEsSUFBSXZPLEVBQVduOUMsS0FBS2lxRCxnQkFDaEIwQixFQUFlM3JELEtBQUtxakMsU0FBU3BXLE9BQ3hCM3pCLEVBQUksRUFBR0EsRUFBSTZqRCxFQUFTakIsUUFBUW5qRCxPQUFRTyxJQUFLLENBQzlDLElBQUkyekIsRUFBU2t3QixFQUFTakIsUUFBUTVpRCxHQUM5QnF5RCxFQUFhOWpCLE9BQU81YSxFQUN4QixDQUNKLEVBTUErOEIsRUFBZS9vRCxVQUFVMnFELG1CQUFxQixTQUFVek8sRUFBVTBFLEdBRTlELElBQUlnSyxFQUFxQjFPLEVBQVNoQixXQUM5QjJQLEVBQW1CakssRUFBUUMsY0FDL0IsSUFBSyxJQUFJNWhELEtBQUs0ckQsRUFDVixJQUFLRCxFQUFtQjNyRCxHQUNwQixNQUFNLElBQUlzc0IsTUFBTSwyREFBOER0c0IsRUFBSSxjQUc5RixFQU9BOHBELEVBQWUvb0QsVUFBVThxRCxhQUFlLFNBQVU1TyxFQUFVMEUsR0FDeEQsSUFBSW1LLEVBQVU3TyxFQUFTaEIsV0FDbkIyUCxFQUFtQmpLLEVBQVFDLGNBQzNCbUssRUFBVSxDQUFDLElBQUs5TyxFQUFTdHNDLElBQzdCLElBQUssSUFBSXZYLEtBQUsweUQsRUFDTkYsRUFBaUJ4eUQsSUFDakIyeUQsRUFBUXR5RCxLQUFLTCxFQUFHd3lELEVBQWlCeHlELEdBQUdzZSxVQUc1QyxPQUFPcTBDLEVBQVFybkQsS0FBSyxJQUN4QixFQVNBb2xELEVBQWUvb0QsVUFBVXVxRCxnQkFBa0IsU0FBVXJPLEVBQVV5RSxFQUFRMkosUUFDL0MsSUFBaEJBLElBQTBCQSxHQUFjLEdBQzVDLElBQUk1cUMsRUFBSzNnQixLQUFLMmdCLEdBQ1Z3akMsRUFBY25rRCxLQUFLbWtELFlBQ25Cd0gsRUFBZTNyRCxLQUFLcWpDLFNBQVNwVyxPQUM3QjQwQixFQUFVRCxFQUFPQyxRQUNoQkEsRUFBUXFLLFdBQVcvSCxJQUNwQm5rRCxLQUFLcWpDLFNBQVN1ZSxPQUFPdUssZ0JBQWdCdkssR0FFekM1aEQsS0FBSzRyRCxtQkFBbUJ6TyxFQUFVMEUsR0FDbEMsSUFBSXVLLEVBQVlwc0QsS0FBSytyRCxhQUFhNU8sRUFBVTBFLEdBQ3hDd0ssRUFBZ0JsUCxFQUFTZCxxQkFBcUJyOEMsS0FBS21rRCxhQUNuRHdHLEVBQU0wQixFQUFjRCxHQUN4QixHQUFJekIsRUFHQSxPQURBMEIsRUFBY3hLLEVBQVFoeEMsSUFBTTg1QyxFQUNyQkEsRUFFWCxJQUFJek8sRUFBVWlCLEVBQVNqQixRQUNuQkMsRUFBYWdCLEVBQVNoQixXQUN0Qm1RLEVBQWEsQ0FBQyxFQUNkQyxFQUFZLENBQUMsRUFDakIsSUFBSyxJQUFJcnNELEtBQUtnOEMsRUFDVm9RLEVBQVdwc0QsR0FBSyxFQUNoQnFzRCxFQUFVcnNELEdBQUssRUFFbkIsSUFBSyxJQUFJQSxLQUFLaThDLEdBQ0xBLEVBQVdqOEMsR0FBR21zQixNQUFRdzFCLEVBQVFDLGNBQWM1aEQsR0FDN0NpOEMsRUFBV2o4QyxHQUFHbXNCLEtBQU93MUIsRUFBUUMsY0FBYzVoRCxHQUFHbXNCLEtBRXhDOHZCLEVBQVdqOEMsR0FBR21zQixNQUNwQm5ZLFFBQVFDLEtBQUssNEJBQThCalUsRUFBSSxxRkFFbkRvc0QsRUFBV25RLEVBQVdqOEMsR0FBRytzQixTQUFXa3ZCLEVBQVdqOEMsR0FBR21zQixLQUFPMDlCLEdBQVk1TixFQUFXajhDLEdBQUcwRyxNQUV2RixJQUFLLElBQUkxRyxLQUFLaThDLEVBQVksQ0FDdEIsSUFBSWUsRUFBWWYsRUFBV2o4QyxHQUN2QnNzRCxFQUFhdFAsRUFBVTd3QixVQUNGMW9CLElBQXJCdTVDLEVBQVVud0IsU0FDTnUvQixFQUFXcFAsRUFBVWp3QixVQUFZdS9CLEVBQWF6QyxHQUFZN00sRUFBVXQyQyxNQUNwRXMyQyxFQUFVbndCLE9BQVMsRUFHbkJtd0IsRUFBVW53QixPQUFTdS9CLEVBQVdwUCxFQUFVandCLGNBR3hCdHBCLElBQXBCdTVDLEVBQVU5aUQsUUFDVjhpRCxFQUFVOWlELE1BQVFteUQsRUFBVXJQLEVBQVVqd0IsUUFDdENzL0IsRUFBVXJQLEVBQVVqd0IsU0FBV3UvQixFQUFhekMsR0FBWTdNLEVBQVV0MkMsTUFFMUUsQ0FDQStqRCxFQUFNaHFDLEVBQUc2cEMsb0JBQ1Q3cEMsRUFBRytwQyxnQkFBZ0JDLEdBR25CLElBQUssSUFBSXJ4RCxFQUFJLEVBQUdBLEVBQUk0aUQsRUFBUW5qRCxPQUFRTyxJQUFLLENBQ3JDLElBQUkyekIsRUFBU2l2QixFQUFRNWlELEdBQ3JCcXlELEVBQWF6aEIsS0FBS2pkLEdBQ2RzK0IsR0FDQXQrQixFQUFPeXVCLFdBQVd5SSxHQUFhM0gsVUFFdkMsQ0FRQSxPQUxBeDhDLEtBQUt5ckQsWUFBWXRPLEVBQVUwRSxHQUMzQjdoRCxLQUFLa3FELFdBQWFTLEVBRWxCMEIsRUFBY3hLLEVBQVFoeEMsSUFBTTg1QyxFQUM1QjBCLEVBQWNELEdBQWF6QixFQUNwQkEsQ0FDWCxFQU1BWCxFQUFlL29ELFVBQVV3ckQsZ0JBQWtCLFNBQVV0UCxFQUFVeU0sR0FDM0QsSUFBSWx5QyxFQUNKLEdBQUsxWCxLQUFLc3FELGtCQUFrQm5OLEVBQVN0c0MsSUFBckMsUUFHTzdRLEtBQUtzcUQsa0JBQWtCbk4sRUFBU3RzQyxJQUN2QyxJQUFJeTZDLEVBQU9uTyxFQUFTZCxxQkFBcUJyOEMsS0FBS21rRCxhQUMxQ3hqQyxFQUFLM2dCLEtBQUsyZ0IsR0FDVnU3QixFQUFVaUIsRUFBU2pCLFFBQ25CeVAsRUFBd0MsUUFBeEJqMEMsRUFBSzFYLEtBQUtxakMsZ0JBQTZCLElBQVAzckIsT0FBZ0IsRUFBU0EsRUFBR3VWLE9BRWhGLEdBREFrd0IsRUFBU2pILGNBQWNoUixPQUFPbGxDLE1BQ3pCc3JELEVBQUwsQ0FNQSxHQUFJSyxFQUNBLElBQUssSUFBSXJ5RCxFQUFJLEVBQUdBLEVBQUk0aUQsRUFBUW5qRCxPQUFRTyxJQUFLLENBQ3JDLElBQUlvekQsRUFBTXhRLEVBQVE1aUQsR0FBR29pRCxXQUFXMTdDLEtBQUtta0QsYUFFakN1SSxJQUNBQSxFQUFJbFEsV0FDaUIsSUFBakJrUSxFQUFJbFEsVUFBbUJvTixHQUN2QitCLEVBQWFsaEIsUUFBUXlSLEVBQVE1aUQsR0FBSXN3RCxHQUc3QyxDQUVKLElBQUtBLEVBQ0QsSUFBSyxJQUFJK0MsS0FBU3JCLEVBRWQsR0FBaUIsTUFBYnFCLEVBQU0sR0FBWSxDQUNsQixJQUFJaEMsRUFBTVcsRUFBS3FCLEdBQ1gzc0QsS0FBS2txRCxhQUFlUyxHQUNwQjNxRCxLQUFLb3FDLFNBRVR6cEIsRUFBR2txQyxrQkFBa0JGLEVBQ3pCLFFBR0R4TixFQUFTZCxxQkFBcUJyOEMsS0FBS21rRCxZQTVCMUMsQ0FUQSxDQXNDSixFQUtBNkYsRUFBZS9vRCxVQUFVOGxELFdBQWEsU0FBVTZDLEdBRTVDLElBREEsSUFBSWwyQyxFQUFNMVMsT0FBT2lFLEtBQUtqRixLQUFLc3FELG1CQUNsQmh4RCxFQUFJLEVBQUdBLEVBQUlvYSxFQUFJM2EsT0FBUU8sSUFDNUIwRyxLQUFLeXNELGdCQUFnQnpzRCxLQUFLc3FELGtCQUFrQjUyQyxFQUFJcGEsSUFBS3N3RCxFQUU3RCxFQU1BSSxFQUFlL29ELFVBQVV3cUQsWUFBYyxTQUFVdE8sRUFBVTBFLEdBQ3ZELElBQUlsaEMsRUFBSzNnQixLQUFLMmdCLEdBQ1Z3akMsRUFBY25rRCxLQUFLbWtELFlBQ25Cd0gsRUFBZTNyRCxLQUFLcWpDLFNBQVNwVyxPQUM3Qml2QixFQUFVaUIsRUFBU2pCLFFBQ25CQyxFQUFhZ0IsRUFBU2hCLFdBQ3RCZ0IsRUFBU2YsYUFFVHVQLEVBQWF6aEIsS0FBS2lULEVBQVNmLGFBRS9CLElBQUl3USxFQUFhLEtBRWpCLElBQUssSUFBSTFzRCxLQUFLaThDLEVBQVksQ0FDdEIsSUFBSWUsRUFBWWYsRUFBV2o4QyxHQUN2QitzQixFQUFTaXZCLEVBQVFnQixFQUFVandCLFFBQzNCNC9CLEVBQVc1L0IsRUFBT3l1QixXQUFXeUksR0FDakMsR0FBSXRDLEVBQVFDLGNBQWM1aEQsR0FBSSxDQUN0QjBzRCxJQUFlQyxJQUNmbEIsRUFBYXpoQixLQUFLamQsR0FDbEIyL0IsRUFBYUMsR0FFakIsSUFBSWoxQyxFQUFXaXFDLEVBQVFDLGNBQWM1aEQsR0FBRzBYLFNBS3hDLEdBRkErSSxFQUFHbXNDLHdCQUF3QmwxQyxHQUMzQitJLEVBQUdvc0Msb0JBQW9CbjFDLEVBQVVzbEMsRUFBVTd3QixLQUFNNndCLEVBQVV0MkMsTUFBUStaLEVBQUd3dEIsTUFBTytPLEVBQVU3QixXQUFZNkIsRUFBVW53QixPQUFRbXdCLEVBQVU5aUQsT0FDM0g4aUQsRUFBVTVCLFNBQVUsQ0FFcEIsSUFBSXQ3QyxLQUFLb3FELFlBSUwsTUFBTSxJQUFJNTlCLE1BQU0sa0VBSGhCN0wsRUFBR3FxQyxvQkFBb0JwekMsRUFBVSxFQUt6QyxDQUNKLENBQ0osQ0FDSixFQVdBb3lDLEVBQWUvb0QsVUFBVStnRCxLQUFPLFNBQVVwN0MsRUFBTXlsQixFQUFNanlCLEVBQU9taUQsR0FDekQsSUFBSTU3QixFQUFLM2dCLEtBQUsyZ0IsR0FDVnc4QixFQUFXbjlDLEtBQUtpcUQsZ0JBRXBCLEdBQUk5TSxFQUFTZixZQUFhLENBQ3RCLElBQUk0USxFQUFXN1AsRUFBU2YsWUFBWWhrRCxLQUFLczBCLGtCQUNyQ3VnQyxFQUFzQixJQUFiRCxFQUFpQnJzQyxFQUFHNjFCLGVBQWlCNzFCLEVBQUd1c0MsYUFDcEMsSUFBYkYsR0FBZ0MsSUFBYkEsR0FBa0JodEQsS0FBS3FxRCx5QkFDdENsTixFQUFTYixVQUVUMzdCLEVBQUd1cUMsc0JBQXNCdGtELEVBQU15bEIsR0FBUTh3QixFQUFTZixZQUFZaGtELEtBQUtXLE9BQVFrMEQsR0FBUzd5RCxHQUFTLEdBQUs0eUQsRUFBVXpRLEdBQWlCLEdBSzNINTdCLEVBQUd3c0MsYUFBYXZtRCxFQUFNeWxCLEdBQVE4d0IsRUFBU2YsWUFBWWhrRCxLQUFLVyxPQUFRazBELEdBQVM3eUQsR0FBUyxHQUFLNHlELEdBSzNGOTRDLFFBQVFDLEtBQUssd0NBRXJCLE1BQ1NncEMsRUFBU2IsVUFFZDM3QixFQUFHeXFDLG9CQUFvQnhrRCxFQUFNeE0sRUFBT2l5QixHQUFROHdCLEVBQVNuSyxVQUFXdUosR0FBaUIsR0FHakY1N0IsRUFBR3lzQyxXQUFXeG1ELEVBQU14TSxFQUFPaXlCLEdBQVE4d0IsRUFBU25LLFdBRWhELE9BQU9oekMsSUFDWCxFQUVBZ3FELEVBQWUvb0QsVUFBVW1wQyxPQUFTLFdBQzlCcHFDLEtBQUsyZ0IsR0FBRytwQyxnQkFBZ0IsTUFDeEIxcUQsS0FBS2txRCxXQUFhLEtBQ2xCbHFELEtBQUtpcUQsZ0JBQWtCLElBQzNCLEVBQ0FELEVBQWUvb0QsVUFBVXN0QixRQUFVLFdBQy9CdnVCLEtBQUtxakMsU0FBVyxJQUNwQixFQUNPMm1CLENBQ1gsQ0E1WG1DLEdBb1kvQnFELEdBQTBCLFdBSzFCLFNBQVNBLEVBQVM3ckIsUUFDSyxJQUFmQSxJQUF5QkEsRUFBYSxNQUMxQ3hoQyxLQUFLNEcsS0FBTzhPLEVBQVd1RixLQUN2QmpiLEtBQUs4akMsWUFBYSxFQUNsQjlqQyxLQUFLd2hDLFdBQWFBLEdBQWMsS0FDaEN4aEMsS0FBS3N0RCxRQUFTLEVBQ2R0dEQsS0FBS3loQyxZQUFhLEVBQ2xCemhDLEtBQUswdUIsV0FBYSxLQUNsQjF1QixLQUFLbTJDLFlBQWMxN0IsR0FBU08sbUJBQzVCaGIsS0FBSzRqQyxTQUFVLEVBQ2Y1akMsS0FBS3V0RCxVQUFZLEdBQ2pCdnRELEtBQUt3dEQsU0FBVyxLQUNoQnh0RCxLQUFLeXRELGdCQUFrQixFQUN2Qnp0RCxLQUFLMHRELGdCQUFrQixFQUN2QjF0RCxLQUFLMnRELGFBQWUsS0FDcEIzdEQsS0FBSzR0RCxrQkFBb0IsS0FDekI1dEQsS0FBSzZ0RCxXQUFhLEdBQ2xCN3RELEtBQUs4dEQsUUFBVSxJQUNuQixDQW9EQSxPQW5EQTlzRCxPQUFPa1EsZUFBZW04QyxFQUFTcHNELFVBQVcsU0FBVSxDQU1oRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3d0RCxTQUFXeHRELEtBQUt3dEQsU0FBUyxHQUFLLElBQzlDLEVBQ0F0K0IsSUFBSyxTQUFVOW5CLEdBQ1BBLEVBQ0lwSCxLQUFLd3RELFNBQ0x4dEQsS0FBS3d0RCxTQUFTLEdBQUtwbUQsRUFHbkJwSCxLQUFLd3RELFNBQVcsQ0FBQ3BtRCxHQUlyQnBILEtBQUt3dEQsU0FBVyxJQUV4QixFQUNBcjhDLFlBQVksRUFDWmdlLGNBQWMsSUFHbEJrK0IsRUFBU3BzRCxVQUFVaWlELE1BQVEsV0FDbkJsakQsS0FBS3N0RCxTQUNMdHRELEtBQUt3aEMsV0FBYSxLQUNsQnhoQyxLQUFLNEcsS0FBTzhPLEVBQVd1RixLQUN2QmpiLEtBQUs4akMsWUFBYSxHQUV0QjlqQyxLQUFLOHRELFFBQVUsS0FDZjl0RCxLQUFLNHRELGtCQUFvQixJQUM3QixFQUtBUCxFQUFTcHNELFVBQVU4c0Qsb0JBQXNCLFNBQVVDLEdBQzNDQSxHQUNBaHVELEtBQUt5dEQsZ0JBQWtCTyxFQUFVUCxnQkFDakN6dEQsS0FBSzB0RCxnQkFBa0JNLEVBQVVOLGdCQUNqQzF0RCxLQUFLMnRELGFBQWVLLEVBQVVMLGVBRzlCM3RELEtBQUt5dEQsZ0JBQWtCLEVBQ3ZCenRELEtBQUswdEQsZ0JBQWtCLEVBQ3ZCMXRELEtBQUsydEQsYUFBZSxLQUU1QixFQUNPTixDQUNYLENBNUU2QixHQXFGN0IsU0FBU1ksR0FBY3R0QyxFQUFJL1osRUFBTW9xQyxHQUM3QixJQUFJNFEsRUFBU2poQyxFQUFHdXRDLGFBQWF0bkQsR0FHN0IsT0FGQStaLEVBQUd3dEMsYUFBYXZNLEVBQVE1USxHQUN4QnJ3QixFQUFHc3RDLGNBQWNyTSxHQUNWQSxDQUNYLENBUUEsU0FBU3dNLEdBQXFCenRDLEVBQUlpaEMsR0FDOUIsSUFBSXlNLEVBQVkxdEMsRUFBRzJ0QyxnQkFBZ0IxTSxHQUM5Qjk4QyxNQUFNLE1BQ05ILEtBQUksU0FBVTRwRCxFQUFNaG1ELEdBQVMsT0FBT0EsRUFBUSxLQUFPZ21ELENBQU0sSUFDMURDLEVBQVk3dEMsRUFBRzh0QyxpQkFBaUI3TSxHQUNoQzhNLEVBQWNGLEVBQVUxcEQsTUFBTSxNQUM5QjZwRCxFQUFTLENBQUMsRUFDVkMsRUFBY0YsRUFBWS9wRCxLQUFJLFNBQVU0cEQsR0FBUSxPQUFPMTlCLFdBQVcwOUIsRUFBS3JuRCxRQUFRLDJCQUE0QixNQUFRLElBQ2xIODhCLFFBQU8sU0FBVTVtQyxHQUNsQixTQUFJQSxHQUFNdXhELEVBQU92eEQsS0FDYnV4RCxFQUFPdnhELElBQUssRUFDTCxHQUdmLElBQ0l5eEQsRUFBVSxDQUFDLElBQ2ZELEVBQVk3cEQsU0FBUSxTQUFVK3BELEdBQzFCVCxFQUFVUyxFQUFTLEdBQUssS0FBT1QsRUFBVVMsRUFBUyxHQUFLLEtBQ3ZERCxFQUFRbDFELEtBQUssc0RBQXVELGtCQUN4RSxJQUNBLElBQUlvMUQsRUFBc0JWLEVBQ3JCenBELEtBQUssTUFDVmlxRCxFQUFRLEdBQUtFLEVBQ2I3NkMsUUFBUXZOLE1BQU02bkQsR0FFZHQ2QyxRQUFRK1osZUFBZSxrQ0FDdkIvWixRQUFRQyxLQUFLdlEsTUFBTXNRLFFBQVMyNkMsR0FFNUIzNkMsUUFBUWdhLFVBQ1osQ0EwQkEsU0FBUzhnQyxHQUFhM2lDLEdBRWxCLElBREEsSUFBSXZsQixFQUFRLElBQUk3RCxNQUFNb3BCLEdBQ2IveUIsRUFBSSxFQUFHQSxFQUFJd04sRUFBTS9OLE9BQVFPLElBQzlCd04sRUFBTXhOLElBQUssRUFFZixPQUFPd04sQ0FDWCxDQVFBLFNBQVM4cEIsR0FBYWhxQixFQUFNeWxCLEdBQ3hCLE9BQVF6bEIsR0FDSixJQUFLLFFBUUwsSUFBSyxNQUNMLElBQUssT0FDTCxJQUFLLFlBQ0wsSUFBSyxpQkFDRCxPQUFPLEVBVlgsSUFBSyxPQUNELE9BQU8sSUFBSTZQLGFBQWEsRUFBSTRWLEdBQ2hDLElBQUssT0FDRCxPQUFPLElBQUk1VixhQUFhLEVBQUk0VixHQUNoQyxJQUFLLE9BQ0QsT0FBTyxJQUFJNVYsYUFBYSxFQUFJNFYsR0FNaEMsSUFBSyxRQUNELE9BQU8sSUFBSXhWLFdBQVcsRUFBSXdWLEdBQzlCLElBQUssUUFDRCxPQUFPLElBQUl4VixXQUFXLEVBQUl3VixHQUM5QixJQUFLLFFBQ0QsT0FBTyxJQUFJeFYsV0FBVyxFQUFJd1YsR0FDOUIsSUFBSyxRQUNELE9BQU8sSUFBSTNWLFlBQVksRUFBSTJWLEdBQy9CLElBQUssUUFDRCxPQUFPLElBQUkzVixZQUFZLEVBQUkyVixHQUMvQixJQUFLLFFBQ0QsT0FBTyxJQUFJM1YsWUFBWSxFQUFJMlYsR0FDL0IsSUFBSyxPQUNELE9BQU8sRUFDWCxJQUFLLFFBQ0QsT0FBTzJpQyxHQUFhLEVBQUkzaUMsR0FDNUIsSUFBSyxRQUNELE9BQU8yaUMsR0FBYSxFQUFJM2lDLEdBQzVCLElBQUssUUFDRCxPQUFPMmlDLEdBQWEsRUFBSTNpQyxHQUM1QixJQUFLLE9BQ0QsT0FBTyxJQUFJNVYsYUFBYSxDQUFDLEVBQUcsRUFDeEIsRUFBRyxJQUNYLElBQUssT0FDRCxPQUFPLElBQUlBLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFDM0IsRUFBRyxFQUFHLEVBQ04sRUFBRyxFQUFHLElBQ2QsSUFBSyxPQUNELE9BQU8sSUFBSUEsYUFBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQzlCLEVBQUcsRUFBRyxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxJQUVyQixPQUFPLElBQ1gsQ0FFQSxJQWdDSXc0QyxHQWhDQUMsR0FBaUIsQ0FBQyxFQUNsQjN0RCxHQUFVMnRELEdBT2QsU0FBU0MsS0FDTCxHQUFJNXRELEtBQVkydEQsSUFBbUIzdEQsSUFBV0EsR0FBUTBpRCxnQkFBa0IsQ0FDcEUsSUFBSS9zQyxFQUFTdUQsR0FBU0MsUUFBUTNELGVBQzFCNEosT0FBSyxFQUNMbEcsR0FBUzR1QixZQUFjMzBCLEVBQUk2MEIsU0FDM0I1b0IsRUFBS3pKLEVBQU8wSixXQUFXLFNBQVUsQ0FBQyxJQUVqQ0QsS0FDREEsRUFBTXpKLEVBQU8wSixXQUFXLFFBQVMsQ0FBQyxJQUMzQjFKLEVBQU8wSixXQUFXLHFCQUFzQixDQUFDLElBTzVDRCxFQUFHSyxhQUFhLHNCQUpoQkwsRUFBSyxNQU9icGYsR0FBVW9mLENBQ2QsQ0FDQSxPQUFPcGYsRUFDWCxDQTBCQSxTQUFTNnRELEdBQWFwZSxFQUFLcWUsRUFBb0JDLEdBQzNDLEdBQTRCLGNBQXhCdGUsRUFBSXRtQixVQUFVLEVBQUcsR0FBb0IsQ0FFckMsSUFBSTZrQyxFQUFZRixFQUtoQixPQUhJQSxJQUF1QjU1QyxFQUFVaUgsTUFBUTR5QyxJQUEwQjc1QyxFQUFVaUgsT0FDN0U2eUMsRUFBWTk1QyxFQUFVbUgsUUFFbkIsYUFBZTJ5QyxFQUFZLFlBQWN2ZSxDQUNwRCxDQUNLLE9BQUlzZSxJQUEwQjc1QyxFQUFVaUgsTUFBaUMsb0JBQXpCczBCLEVBQUl0bUIsVUFBVSxFQUFHLElBRTNEc21CLEVBQUk5cEMsUUFBUSxrQkFBbUIscUJBRW5DOHBDLENBQ1gsQ0FFQSxJQUFJd2UsR0FBZSxDQUNmQyxNQUFPLEVBQ1BDLEtBQU0sRUFDTkMsS0FBTSxFQUNOQyxLQUFNLEVBQ05DLElBQUssRUFDTEMsTUFBTyxFQUNQQyxNQUFPLEVBQ1BDLE1BQU8sRUFDUEMsS0FBTSxFQUNOQyxNQUFPLEVBQ1BDLE1BQU8sRUFDUEMsTUFBTyxFQUNQQyxLQUFNLEVBQ05DLE1BQU8sRUFDUEMsTUFBTyxFQUNQQyxNQUFPLEVBQ1BDLEtBQU0sRUFDTkMsS0FBTSxFQUNOQyxLQUFNLEdBQ05DLFVBQVcsR0FRZixTQUFTQyxHQUFRanFELEdBQ2IsT0FBTzRvRCxHQUFhNW9ELEVBQ3hCLENBRUEsSUFBSWtxRCxHQUFXLEtBQ1hDLEdBQW1CLENBQ25CNWlCLE1BQU8sUUFDUDZpQixXQUFZLE9BQ1pDLFdBQVksT0FDWkMsV0FBWSxPQUNaQyxJQUFLLE1BQ0xDLFNBQVUsUUFDVkMsU0FBVSxRQUNWQyxTQUFVLFFBQ1ZwRSxhQUFjLE9BQ2RxRSxrQkFBbUIsUUFDbkJDLGtCQUFtQixRQUNuQkMsa0JBQW1CLFFBQ25CQyxLQUFNLE9BQ05DLFVBQVcsUUFDWEMsVUFBVyxRQUNYQyxVQUFXLFFBQ1hDLFdBQVksT0FDWkMsV0FBWSxPQUNaQyxXQUFZLE9BQ1pDLFdBQVksWUFDWkMsZUFBZ0IsWUFDaEJDLHdCQUF5QixZQUN6QkMsYUFBYyxjQUNkQyxpQkFBa0IsY0FDbEJDLDBCQUEyQixjQUMzQkMsaUJBQWtCLGlCQUNsQkMscUJBQXNCLGlCQUN0QkMsOEJBQStCLGtCQUduQyxTQUFTQyxHQUFRL3hDLEVBQUkvWixHQUNqQixJQUFLa3FELEdBQVUsQ0FDWCxJQUFJNkIsRUFBWTN4RCxPQUFPaUUsS0FBSzhyRCxJQUM1QkQsR0FBVyxDQUFDLEVBQ1osSUFBSyxJQUFJeDNELEVBQUksRUFBR0EsRUFBSXE1RCxFQUFVNTVELFNBQVVPLEVBQUcsQ0FDdkMsSUFBSXM1RCxFQUFLRCxFQUFVcjVELEdBQ25CdzNELEdBQVNud0MsRUFBR2l5QyxJQUFPN0IsR0FBaUI2QixFQUN4QyxDQUNKLENBQ0EsT0FBTzlCLEdBQVNscUQsRUFDcEIsQ0FrQkEsSUFrTklpc0QsR0FsTkFDLEdBQWlCLENBRWpCLENBQ0l2cEQsS0FBTSxTQUFVblIsR0FDWixNQUFxQixVQUFkQSxFQUFLd08sTUFBa0MsSUFBZHhPLEVBQUtpMEIsT0FBZWowQixFQUFLb1MsT0FDN0QsRUFDQStULEtBQU0sU0FBVWhjLEdBQ1osTUFBTyx3QkFBMkJBLEVBQU8sY0FBa0JBLEVBQU8saURBQXFEQSxFQUFPLGtCQUFzQkEsRUFBTyx3Q0FBNENBLEVBQU8sb0JBQXdCQSxFQUFPLGtDQUNqUCxHQUdKLENBQ0lnSCxLQUFNLFNBQVVuUixFQUFNMjZELEdBRWxCLFFBQXNCLGNBQWQzNkQsRUFBS3dPLE1BQXNDLGdCQUFkeE8sRUFBS3dPLE1BQXdDLG1CQUFkeE8sRUFBS3dPLE1BQTRDLElBQWR4TyxFQUFLaTBCLE1BQWVqMEIsRUFBS29TLFNBQXVCLE1BQVh1b0QsUUFBaURwdkQsSUFBOUJvdkQsRUFBUW5sQixrQkFDM0ssRUFDQXJ2QixLQUFNLFNBQVVoYyxHQUFRLE1BQU8seUVBQTRFQSxFQUFPLGlDQUFxQ0EsRUFBTyx1REFBMkRBLEVBQU8sbURBQXVEQSxFQUFPLG1FQUFzRSxHQUd4VyxDQUNJZ0gsS0FBTSxTQUFVblIsRUFBTTI2RCxHQUNsQixNQUFxQixTQUFkMzZELEVBQUt3TyxNQUFpQyxJQUFkeE8sRUFBS2kwQixPQUFlajBCLEVBQUtvUyxjQUF5QjdHLElBQWRvdkQsRUFBUTMyRCxDQUMvRSxFQUNBbWlCLEtBQU0sU0FBVWhjLEdBRVosTUFBTyx5Q0FBNENBLEVBQU8sMkJBQStCQSxFQUFPLGtDQUNwRyxFQUNBeXdELFFBQVMsU0FBVXp3RCxHQUNmLE1BQU8seUJBQTJCQSxFQUFPLGdCQUFrQkEsRUFBTyxxREFBdURBLEVBQU8saURBQW1EQSxFQUFPLGlEQUFtREEsRUFBTyw2REFBK0RBLEVBQU8sbURBQXFEQSxFQUFPLG1EQUFxREEsRUFBTyw2REFBK0RBLEVBQU8sbURBQXFEQSxFQUFPLG9EQUFzREEsRUFBTywyQkFDcm5CLEdBR0osQ0FDSWdILEtBQU0sU0FBVW5SLEVBQU0yNkQsR0FDbEIsTUFBcUIsU0FBZDM2RCxFQUFLd08sTUFBaUMsSUFBZHhPLEVBQUtpMEIsT0FBZWowQixFQUFLb1MsY0FBeUI3RyxJQUFkb3ZELEVBQVFwNkQsQ0FDL0UsRUFDQTRsQixLQUFNLFNBQVVoYyxHQUNaLE1BQU8sOEJBQWlDQSxFQUFPLHNDQUEwQ0EsRUFBTywwTEFBOExBLEVBQU8sNENBQ3pTLEVBQ0F5d0QsUUFBUyxTQUFVendELEdBQ2YsTUFBTyw0QkFBOEJBLEVBQU8sK0ZBQ2hELEdBR0osQ0FDSWdILEtBQU0sU0FBVW5SLEdBQ1osTUFBcUIsU0FBZEEsRUFBS3dPLE1BQWlDLElBQWR4TyxFQUFLaTBCLE9BQWVqMEIsRUFBS29TLE9BQzVELEVBQ0ErVCxLQUFNLFNBQVVoYyxHQUNaLE1BQU8sOEJBQWlDQSxFQUFPLHNDQUEwQ0EsRUFBTyw4TEFBa01BLEVBQU8sNERBQzdTLEdBR0osQ0FDSWdILEtBQU0sU0FBVW5SLEVBQU0yNkQsR0FDbEIsTUFBcUIsU0FBZDM2RCxFQUFLd08sTUFBaUMsSUFBZHhPLEVBQUtpMEIsT0FBZWowQixFQUFLb1MsY0FBNkI3RyxJQUFsQm92RCxFQUFRLzdDLEtBQy9FLEVBQ0F1SCxLQUFNLFNBQVVoYyxHQUNaLE1BQU8sOEJBQWlDQSxFQUFPLHNDQUEwQ0EsRUFBTyxrVEFBc1RBLEVBQU8sOERBQ2phLEVBQ0F5d0QsUUFBUyxTQUFVendELEdBQ2YsTUFBTyxnQ0FBa0NBLEVBQU8sME1BQ3BELEdBR0osQ0FDSWdILEtBQU0sU0FBVW5SLEdBQ1osTUFBcUIsU0FBZEEsRUFBS3dPLE1BQWlDLElBQWR4TyxFQUFLaTBCLE9BQWVqMEIsRUFBS29TLE9BQzVELEVBQ0ErVCxLQUFNLFNBQVVoYyxHQUNaLE1BQU8sOEJBQWlDQSxFQUFPLHNDQUEwQ0EsRUFBTywwU0FBOFNBLEVBQU8seURBQ3paLElBU0owd0QsR0FBZ0MsQ0FDaEN4RCxNQUFPLCtGQUNQQyxLQUFNLHdKQUNOQyxLQUFNLHVNQUNOQyxLQUFNLHVQQUNOQyxJQUFLLGlHQUNMQyxNQUFPLHlKQUNQQyxNQUFPLHdNQUNQQyxNQUFPLHVQQUNQQyxLQUFNLGtHQUNOQyxNQUFPLDBKQUNQQyxNQUFPLHlNQUNQQyxNQUFPLHdQQUNQQyxLQUFNLCtGQUNOQyxNQUFPLHVKQUNQQyxNQUFPLHdNQUNQQyxNQUFPLHVQQUNQQyxLQUFNLDBDQUNOQyxLQUFNLDBDQUNOQyxLQUFNLDBDQUNOQyxVQUFXLGlHQUNYc0MsWUFBYSxpR0FDYkMsZUFBZ0Isa0dBRWhCQyxHQUF3QixDQUN4QjNELE1BQU8sNkJBQ1BDLEtBQU0sNkJBQ05DLEtBQU0sNkJBQ05DLEtBQU0sNkJBQ05lLEtBQU0sMENBQ05ELEtBQU0sMENBQ05ELEtBQU0sMENBQ05aLElBQUssNkJBQ0xDLE1BQU8sNkJBQ1BDLE1BQU8sNkJBQ1BDLE1BQU8sNkJBQ1BDLEtBQU0sOEJBQ05DLE1BQU8sOEJBQ1BDLE1BQU8sOEJBQ1BDLE1BQU8sOEJBQ1BDLEtBQU0sNkJBQ05DLE1BQU8sNkJBQ1BDLE1BQU8sNkJBQ1BDLE1BQU8sNkJBQ1BJLFVBQVcsNkJBQ1hzQyxZQUFhLDZCQUNiQyxlQUFnQiw4QkEyQ2hCRSxHQUFlLENBQ2YsMkJBQ0EsbUJBQ0Esb0JBQ0EsWUFDQSw0QkFDQSxLQUFNenVELEtBQUssTUFDZixTQUFTMHVELEdBQWtCQyxHQUV2QixJQURBLElBQUl2aUIsRUFBTSxHQUNEMTNDLEVBQUksRUFBR0EsRUFBSWk2RCxJQUFVajZELEVBQ3RCQSxFQUFJLElBQ0owM0MsR0FBTyxXQUVQMTNDLEVBQUlpNkQsRUFBUyxJQUNidmlCLEdBQU8sY0FBZ0IxM0MsRUFBSSxTQUduQyxPQUFPMDNDLENBQ1gsQ0FDQSxTQUFTd2lCLEdBQTZCRCxFQUFRNXlDLEdBQzFDLEdBQWUsSUFBWDR5QyxFQUNBLE1BQU0sSUFBSS9tQyxNQUFNLGlFQUdwQixJQURBLElBQUlvMUIsRUFBU2poQyxFQUFHdXRDLGFBQWF2dEMsRUFBRzh5QyxtQkFFL0IsQ0FDRyxJQUFJQyxFQUFjTCxHQUFhbnNELFFBQVEsY0FBZW9zRCxHQUFrQkMsSUFHeEUsR0FGQTV5QyxFQUFHd3RDLGFBQWF2TSxFQUFROFIsR0FDeEIveUMsRUFBR3N0QyxjQUFjck0sR0FDWmpoQyxFQUFHZ3pDLG1CQUFtQi9SLEVBQVFqaEMsRUFBR2l6QyxnQkFLbEMsTUFKQUwsRUFBVUEsRUFBUyxFQUFLLENBTWhDLENBQ0EsT0FBT0EsQ0FDWCxDQTBCQSxJQUlJTSxHQUFRLEVBQ1JDLEdBQVksQ0FBQyxFQUtiQyxHQUF5QixXQU16QixTQUFTQSxFQUFRQyxFQUFXTixFQUFhbnhELFFBQ3hCLElBQVRBLElBQW1CQSxFQUFPLGVBQzlCdkMsS0FBSzZRLEdBQUtnakQsS0FDVjd6RCxLQUFLZzBELFVBQVlBLEdBQWFELEVBQVFFLGlCQUN0Q2owRCxLQUFLMHpELFlBQWNBLEdBQWVLLEVBQVFHLG1CQUMxQ2wwRCxLQUFLZzBELFVBQVloMEQsS0FBS2cwRCxVQUFVeG1ELE9BQ2hDeE4sS0FBSzB6RCxZQUFjMXpELEtBQUswekQsWUFBWWxtRCxPQUNHLGFBQW5DeE4sS0FBS2cwRCxVQUFVdHBDLFVBQVUsRUFBRyxLQUM1Qm5vQixFQUFPQSxFQUFLMkUsUUFBUSxPQUFRLEtBQ3hCNHNELEdBQVV2eEQsSUFDVnV4RCxHQUFVdnhELEtBQ1ZBLEdBQVEsSUFBTXV4RCxHQUFVdnhELElBR3hCdXhELEdBQVV2eEQsR0FBUSxFQUV0QnZDLEtBQUtnMEQsVUFBWSx1QkFBeUJ6eEQsRUFBTyxLQUFPdkMsS0FBS2cwRCxVQUM3RGgwRCxLQUFLMHpELFlBQWMsdUJBQXlCbnhELEVBQU8sS0FBT3ZDLEtBQUswekQsWUFDL0QxekQsS0FBS2cwRCxVQUFZNUUsR0FBYXB2RCxLQUFLZzBELFVBQVd2NUMsR0FBU2dDLGlCQUFrQmhILEVBQVVpSCxNQUNuRjFjLEtBQUswekQsWUFBY3RFLEdBQWFwdkQsS0FBSzB6RCxZQUFhajVDLEdBQVNrQyxtQkFoWnZFLFdBQ0ksSUFBS3N5QyxHQUFzQixDQUN2QkEsR0FBdUJ4NUMsRUFBVW1ILE9BQ2pDLElBQUkrRCxFQUFLd3VDLEtBQ1QsR0FBSXh1QyxHQUNJQSxFQUFHd3pDLHlCQUEwQixDQUM3QixJQUFJQyxFQUFpQnp6QyxFQUFHd3pDLHlCQUF5Qnh6QyxFQUFHOHlDLGdCQUFpQjl5QyxFQUFHMHpDLFlBQ3hFcEYsR0FBdUJtRixFQUFlN0UsVUFBWTk1QyxFQUFVaUgsS0FBT2pILEVBQVVtSCxNQUNqRixDQUVSLENBQ0EsT0FBT3F5QyxFQUNYLENBb1kyRnFGLEtBSW5GdDBELEtBQUtrc0QsV0FBYSxDQUFDLEVBQ25CbHNELEtBQUsyK0MsYUFBZSxJQUN4QixDQXdDQSxPQXZDQTM5QyxPQUFPa1EsZUFBZTZpRCxFQUFTLG1CQUFvQixDQUsvQzNpRCxJQUFLLFdBQ0QsTUE5Q1UsbVJBK0NkLEVBQ0FELFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWU2aUQsRUFBUyxxQkFBc0IsQ0FLakQzaUQsSUFBSyxXQUNELE1BM0RZLDJJQTREaEIsRUFDQUQsWUFBWSxFQUNaZ2UsY0FBYyxJQVdsQjRrQyxFQUFRenVELEtBQU8sU0FBVTB1RCxFQUFXTixFQUFhbnhELEdBQzdDLElBQUltRCxFQUFNc3VELEVBQVlOLEVBQ2xCN1IsRUFBVTF6QixHQUFhem9CLEdBSTNCLE9BSEttOEMsSUFDRDF6QixHQUFhem9CLEdBQU9tOEMsRUFBVSxJQUFJa1MsRUFBUUMsRUFBV04sRUFBYW54RCxJQUUvRHMvQyxDQUNYLEVBQ09rUyxDQUNYLENBeEU0QixHQThFeEJRLEdBQXdCLFdBS3hCLFNBQVNBLEVBQU8xUyxFQUFTdEQsR0FLckJ2K0MsS0FBS3cwRCxpQkFBbUIsRUFDeEJ4MEQsS0FBSzZoRCxRQUFVQSxFQUtQN2hELEtBQUt5MEQsYUFGVGxXLEVBQ0lBLGFBQW9CRCxHQUNBQyxFQUdBLElBQUlELEdBQWFDLEdBSXJCLElBQUlELEdBQWEsQ0FBQyxHQUUxQ3QrQyxLQUFLazJDLGNBQWdCLElBQUl2USxHQUFPLGdCQUNwQyxDQTZDQSxPQTNDQTR1QixFQUFPdHpELFVBQVV5ekQsbUJBQXFCLFNBQVVueUQsRUFBTW04QyxHQUNsRCxHQUFJQSxFQUFNSCxTQUFTaDhDLEdBQ2YsT0FBTyxFQUVYLElBQUssSUFBSWpKLEtBQUtvbEQsRUFBTUgsU0FBVSxDQUMxQixJQUFJd1UsRUFBVXJVLEVBQU1ILFNBQVNqbEQsR0FDN0IsR0FBSXk1RCxFQUFRclUsT0FDSjErQyxLQUFLMDBELG1CQUFtQm55RCxFQUFNd3dELEdBQzlCLE9BQU8sQ0FHbkIsQ0FDQSxPQUFPLENBQ1gsRUFDQXdCLEVBQU90ekQsVUFBVXN0QixRQUFVLFdBR3ZCdnVCLEtBQUt5MEQsYUFBZSxLQUNwQnowRCxLQUFLazJDLGNBQWMveUMsS0FBS25ELE1BQ3hCQSxLQUFLazJDLGNBQWMzbkIsU0FDdkIsRUFDQXZ0QixPQUFPa1EsZUFBZXFqRCxFQUFPdHpELFVBQVcsV0FBWSxDQUtoRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3kwRCxhQUFhbFcsUUFDN0IsRUFDQXB0QyxZQUFZLEVBQ1pnZSxjQUFjLElBU2xCb2xDLEVBQU9qdkQsS0FBTyxTQUFVMHVELEVBQVdOLEVBQWFuVixHQUU1QyxPQUFPLElBQUlnVyxFQURHUixHQUFRenVELEtBQUswdUQsRUFBV04sR0FDWG5WLEVBQy9CLEVBQ09nVyxDQUNYLENBeEUyQixHQXdGdkJJLEdBQXVCLFdBQ3ZCLFNBQVNBLElBQ0wzMEQsS0FBSzVILEtBQU8sRUFDWjRILEtBQUt5ckIsVUFBWTVXLEVBQVlxVyxPQUM3QmxyQixLQUFLNDBELGNBQWdCLEVBQ3JCNTBELEtBQUs2MEQsT0FBUSxFQUNiNzBELEtBQUs4MEQsV0FBWSxDQUVyQixDQStJQSxPQTlJQTl6RCxPQUFPa1EsZUFBZXlqRCxFQUFNMXpELFVBQVcsUUFBUyxDQUs1Q21RLElBQUssV0FDRCxTQUFzQixFQUFacFIsS0FBSzVILEtBQ25CLEVBQ0E4MkIsSUFBSyxTQUFVOW5CLE1BQ1EsRUFBWnBILEtBQUs1SCxRQUEyQmdQLElBQ25DcEgsS0FBSzVILE1BQVEsRUFFckIsRUFDQStZLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV5akQsRUFBTTF6RCxVQUFXLFVBQVcsQ0FLOUNtUSxJQUFLLFdBQ0QsU0FBc0IsRUFBWnBSLEtBQUs1SCxLQUNuQixFQUNBODJCLElBQUssU0FBVTluQixNQUNRLEVBQVpwSCxLQUFLNUgsUUFBNEJnUCxJQUNwQ3BILEtBQUs1SCxNQUFRLEVBRXJCLEVBQ0ErWSxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWpELEVBQU0xekQsVUFBVyxVQUFXLENBSzlDbVEsSUFBSyxXQUNELFNBQXNCLEVBQVpwUixLQUFLNUgsS0FDbkIsRUFDQTgyQixJQUFLLFNBQVU5bkIsTUFDUSxFQUFacEgsS0FBSzVILFFBQTZCZ1AsSUFDckNwSCxLQUFLNUgsTUFBUSxFQUVyQixFQUNBK1ksWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlqRCxFQUFNMXpELFVBQVcsWUFBYSxDQUtoRG1RLElBQUssV0FDRCxTQUFzQixFQUFacFIsS0FBSzVILEtBQ25CLEVBQ0E4MkIsSUFBSyxTQUFVOW5CLE1BQ1EsRUFBWnBILEtBQUs1SCxRQUFnQ2dQLElBQ3hDcEgsS0FBSzVILE1BQVEsRUFFckIsRUFDQStZLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV5akQsRUFBTTF6RCxVQUFXLFlBQWEsQ0FLaERtUSxJQUFLLFdBQ0QsU0FBc0IsR0FBWnBSLEtBQUs1SCxLQUNuQixFQUNBODJCLElBQUssU0FBVTluQixNQUNRLEdBQVpwSCxLQUFLNUgsUUFBZ0NnUCxJQUN4Q3BILEtBQUs1SCxNQUFRLEdBRXJCLEVBQ0ErWSxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWpELEVBQU0xekQsVUFBVyxxQkFBc0IsQ0FLekRtUSxJQUFLLFdBQ0QsU0FBc0IsR0FBWnBSLEtBQUs1SCxLQUNuQixFQUNBODJCLElBQUssU0FBVTluQixNQUNRLEdBQVpwSCxLQUFLNUgsUUFBNkJnUCxJQUNyQ3BILEtBQUs1SCxNQUFRLEdBRXJCLEVBQ0ErWSxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWpELEVBQU0xekQsVUFBVyxZQUFhLENBTWhEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLKzBELFVBQ2hCLEVBQ0E3bEMsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLNjBELE1BQVN6dEQsSUFBVXlOLEVBQVlvRyxLQUNwQ2piLEtBQUsrMEQsV0FBYTN0RCxDQUN0QixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlqRCxFQUFNMXpELFVBQVcsZ0JBQWlCLENBS3BEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLZzFELGNBQ2hCLEVBQ0E5bEMsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLdzlDLFVBQVlwMkMsRUFDakJwSCxLQUFLZzFELGVBQWlCNXRELENBQzFCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCd2xDLEVBQU0xekQsVUFBVXdwQixTQUFXLFdBQ3ZCLE1BQU8sK0JBQ2V6cUIsS0FBS3lyQixVQURwQix1QkFFd0J6ckIsS0FBS2kxRCxtQkFGN0IsWUFHYWoxRCxLQUFLazFELFFBSGxCLGNBSWVsMUQsS0FBSzgwRCxVQUpwQixrQkFLbUI5MEQsS0FBSzQwRCxjQUN6QixHQUNWLEVBQ0FELEVBQU1RLE1BQVEsV0FDVixJQUFJL1UsRUFBUSxJQUFJdVUsRUFHaEIsT0FGQXZVLEVBQU1nVixXQUFZLEVBQ2xCaFYsRUFBTXlVLE9BQVEsRUFDUHpVLENBQ1gsRUFDT3VVLENBQ1gsQ0F4SjBCLEdBdVV0QlUsR0FBd0IsU0FBVW4zQixHQU9sQyxTQUFTbTNCLEVBQU9yQixFQUFXTixFQUFhblYsR0FDcEMsSUFBSXBnQixFQUFRbitCLEtBQ1I2aEQsRUFBVWtTLEdBQVF6dUQsS0FBSzB1RCxHQUFhcUIsRUFBT3BCLGlCQUFrQlAsR0FBZTJCLEVBQU9uQixvQkFRdkYsT0FQQS8xQixFQUFRRCxFQUFPejdCLEtBQUt6QyxLQUFNNmhELEVBQVN0RCxJQUFhditDLE1BQzFDc2dELFFBQVUsRUFDaEJuaUIsRUFBTXpQLFdBQWFqVSxHQUFTTSxrQkFDNUJvakIsRUFBTWdZLFlBQWMxN0IsR0FBU08sbUJBQzdCbWpCLEVBQU15RixTQUFVLEVBQ2hCekYsRUFBTW9pQixTQUFVLEVBQ2hCcGlCLEVBQU1paUIsTUFBUSxJQUFJdVUsR0FDWHgyQixDQUNYLENBa0VBLE9BbkZBLEdBQVVrM0IsRUFBUW4zQixHQTRCbEJtM0IsRUFBT3AwRCxVQUFVMkMsTUFBUSxTQUFVMHhELEVBQWVsdEQsRUFBT2QsRUFBUTg1QyxFQUFXbVUsR0FFeEVELEVBQWM3VCxZQUFZemhELEtBQU1vSSxFQUFPZCxFQUFRODVDLEVBRW5ELEVBQ0FwZ0QsT0FBT2tRLGVBQWVta0QsRUFBT3AwRCxVQUFXLFlBQWEsQ0FLakRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtvZ0QsTUFBTTMwQixTQUN0QixFQUNBeUQsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLb2dELE1BQU0zMEIsVUFBWXJrQixDQUMzQixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZW1rRCxFQUFPcDBELFVBQVcsYUFBYyxDQUtsRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3cxRCxXQUNoQixFQUNBdG1DLElBQUssU0FBVTluQixHQUNYcEgsS0FBS3cxRCxZQUFjcHVELENBQ3ZCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlbWtELEVBQVEsbUJBQW9CLENBSzlDamtELElBQUssV0FDRCxNQS9PVSw4akJBZ1BkLEVBQ0FELFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVta0QsRUFBUSxxQkFBc0IsQ0FLaERqa0QsSUFBSyxXQUNELE1BNVBZLDRJQTZQaEIsRUFDQUQsWUFBWSxFQUNaZ2UsY0FBYyxJQUVYa21DLENBQ1gsQ0FyRjJCLENBcUZ6QmQsSUFNRWtCLEdBQVUsSUFBSWpnQyxHQWdCZGtnQyxHQUErQixXQUsvQixTQUFTQSxFQUFjeG1CLEVBQVN5bUIsR0FDNUIzMUQsS0FBS3NpRCxTQUFXcFQsRUFDaEJsdkMsS0FBSzQxRCxTQUFXLElBQUlwZ0MsR0FDcEJ4MUIsS0FBSzYxRCxZQUFjLElBQUlwL0MsYUFBYSxHQUNwQ3pXLEtBQUs4MUQsYUFBZSxJQUFJci9DLGFBQWEsR0FDckN6VyxLQUFLKzFELFlBQWMsRUFDbkIvMUQsS0FBS3k0QyxVQUFZLEVBQ2pCejRDLEtBQUtnMkQsWUFBYyxFQUNuQmgyRCxLQUFLMjFELGlCQUFzQyxJQUFoQkEsRUFBK0IsR0FBTUEsRUFDaEUzMUQsS0FBS2kyRCxVQUFXLENBQ3BCLENBdUVBLE9BdEVBajFELE9BQU9rUSxlQUFld2tELEVBQWN6MEQsVUFBVyxVQUFXLENBRXREbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLc2lELFFBQ2hCLEVBQ0FwekIsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLc2lELFNBQVdsN0MsRUFDaEJwSCxLQUFLKzFELFlBQWMsQ0FDdkIsRUFDQTVrRCxZQUFZLEVBQ1pnZSxjQUFjLElBUWxCdW1DLEVBQWN6MEQsVUFBVWkxRCxZQUFjLFNBQVVuWSxFQUFLMTFDLFFBQ3JDMUUsSUFBUjBFLElBQ0FBLEVBQU0wMUMsR0FHVixJQURBLElBQUl0bEIsRUFBTXo0QixLQUFLNDFELFNBQ050OEQsRUFBSSxFQUFHQSxFQUFJeWtELEVBQUlobEQsT0FBUU8sR0FBSyxFQUFHLENBQ3BDLElBQUlYLEVBQUlvbEQsRUFBSXprRCxHQUNSVixFQUFJbWxELEVBQUl6a0QsRUFBSSxHQUNoQitPLEVBQUkvTyxHQUFNWCxFQUFJOC9CLEVBQUlyOEIsRUFBTXhELEVBQUk2L0IsRUFBSW44QixFQUFLbThCLEVBQUloRCxHQUN6Q3B0QixFQUFJL08sRUFBSSxHQUFNWCxFQUFJOC9CLEVBQUlwOEIsRUFBTXpELEVBQUk2L0IsRUFBSTMzQixFQUFLMjNCLEVBQUkvQyxFQUNqRCxDQUNBLE9BQU9ydEIsQ0FDWCxFQU1BcXRELEVBQWN6MEQsVUFBVTRtQyxPQUFTLFNBQVVzdUIsR0FDdkMsSUFBSXBlLEVBQU0vM0MsS0FBS3NpRCxTQUNmLElBQUt2SyxJQUFRQSxFQUFJaEwsTUFDYixPQUFPLEVBRVgsSUFBS29wQixHQUNFbjJELEtBQUsrMUQsYUFBZWhlLEVBQUlVLFVBQzNCLE9BQU8sRUFFWHo0QyxLQUFLKzFELFdBQWFoZSxFQUFJVSxVQUN0Qno0QyxLQUFLeTRDLFlBQ0wsSUFBSXNGLEVBQU1oRyxFQUFJTSxLQUNkcjRDLEtBQUs0MUQsU0FBUzFtQyxJQUFJNnVCLEVBQUloaEQsR0FBS2doRCxFQUFJbGhELEdBQUlraEQsRUFBSS9nRCxHQUFLK2dELEVBQUlqaEQsR0FBSWloRCxFQUFJN0csR0FBSzZHLEVBQUlsaEQsR0FBSWtoRCxFQUFJNUcsR0FBSzRHLEVBQUlqaEQsR0FBSWloRCxFQUFJbGhELEdBQUlraEQsRUFBSWpoRCxJQUNsRyxJQUFJbTdDLEVBQU9GLEVBQUlFLEtBQ1h6cUMsRUFBT3VxQyxFQUFJdnFDLEtBQ1hBLElBQ0Fpb0QsR0FBUXZtQyxJQUFJK29CLEVBQUtqaEMsTUFBUXhKLEVBQUt3SixNQUFPLEVBQUcsRUFBR2loQyxFQUFLaGhDLE9BQVN6SixFQUFLeUosUUFBU3pKLEVBQUs3VSxFQUFJNlUsRUFBS3dKLE9BQVF4SixFQUFLNVUsRUFBSTRVLEVBQUt5SixRQUMzR2pYLEtBQUs0MUQsU0FBU24vQixPQUFPZy9CLEtBRXpCLElBQUlXLEVBQVVyZSxFQUFJNU4sWUFDZGtOLEVBQVFyM0MsS0FBSzYxRCxZQUNiUSxFQUFTcjJELEtBQUsyMUQsWUFBY1MsRUFBUTFuQyxXQUNwQyt1QixFQUFTejlDLEtBQUtnMkQsWUFVbEIsT0FUQTNlLEVBQU0sSUFBTVUsRUFBSUssT0FBT3ovQyxFQUFJMDlELEVBQVM1WSxHQUFVMlksRUFBUXAvQyxNQUN0RHFnQyxFQUFNLElBQU1VLEVBQUlLLE9BQU94L0MsRUFBSXk5RCxFQUFTNVksR0FBVTJZLEVBQVFuL0MsT0FDdERvZ0MsRUFBTSxJQUFNVSxFQUFJSyxPQUFPei9DLEVBQUlvL0MsRUFBSUssT0FBT3BoQyxNQUFRcS9DLEVBQVM1WSxHQUFVMlksRUFBUXAvQyxNQUN6RXFnQyxFQUFNLElBQU1VLEVBQUlLLE9BQU94L0MsRUFBSW0vQyxFQUFJSyxPQUFPbmhDLE9BQVNvL0MsRUFBUzVZLEdBQVUyWSxFQUFRbi9DLE9BQzFFalgsS0FBSzgxRCxhQUFhLEdBQUtyWSxFQUFTMlksRUFBUWpyQixVQUN4Q25yQyxLQUFLODFELGFBQWEsR0FBS3JZLEVBQVMyWSxFQUFRaHJCLFdBQ3hDcHJDLEtBQUtpMkQsU0FBV2xlLEVBQUlLLE9BQU9waEMsUUFBVW8vQyxFQUFRcC9DLE9BQ3RDK2dDLEVBQUlLLE9BQU9uaEMsU0FBV20vQyxFQUFRbi9DLFFBQ2YsSUFBZjhnQyxFQUFJNWhCLFFBQ0osQ0FDWCxFQUNPdS9CLENBQ1gsQ0F2RmtDLEdBK0Y5QlksR0FBa0MsU0FBVXA0QixHQUc1QyxTQUFTbzRCLEVBQWlCdEMsRUFBV04sRUFBYW5WLEdBQzlDLElBQUlwZ0IsRUFBUW4rQixLQUNScWlELEVBQVMsS0FVYixNQVR5QixpQkFBZDJSLFFBQTBDcndELElBQWhCK3ZELFFBQTBDL3ZELElBQWI0NkMsSUFDOUQ4RCxFQUFTMlIsRUFDVEEsT0FBWXJ3RCxFQUNaK3ZELE9BQWMvdkQsRUFDZDQ2QyxPQUFXNTZDLElBRWZ3NkIsRUFBUUQsRUFBT3o3QixLQUFLekMsS0FBTWcwRCxHQS9IckIsa1pBK0gwQ04sR0E3SHhDLHFwQkE2SGlFblYsSUFBYXYrQyxNQUMvRXUyRCxXQUFhbFUsRUFDbkJsa0IsRUFBTXE0QixXQUFhLElBQUloaEMsR0FDaEIySSxDQUNYLENBOENBLE9BN0RBLEdBQVVtNEIsRUFBa0JwNEIsR0FnQjVCbDlCLE9BQU9rUSxlQUFlb2xELEVBQWlCcjFELFVBQVcsYUFBYyxDQUs1RG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3kyRCxXQUNoQixFQUNBdm5DLElBQUssU0FBVTluQixHQUNYcEgsS0FBS3kyRCxZQUFjcnZELEVBQ2ZwSCxLQUFLeTJELGNBQ0x6MkQsS0FBS3kyRCxZQUFZbjRCLFlBQWEsRUFFdEMsRUFDQW50QixZQUFZLEVBQ1pnZSxjQUFjLElBU2xCbW5DLEVBQWlCcjFELFVBQVUyQyxNQUFRLFNBQVUweEQsRUFBZWx0RCxFQUFPZCxFQUFRODVDLEdBQ3ZFLElBQUltVixFQUFhdjJELEtBQUt5MkQsWUFDbEIxZSxFQUFNd2UsRUFBV2pVLFNBQ2hCdkssRUFBSWhMLFFBR0pnTCxFQUFJTyxXQUdMUCxFQUFJTyxTQUFXLElBQUlvZCxHQUFjM2QsRUFBSyxJQUUxQ0EsRUFBSU8sU0FBU3pRLFNBQ2I3bkMsS0FBS3UrQyxTQUFTbVksU0FBVzNlLEVBQUk1TixZQUFZYyxVQUFZLEVBQU0sRUFDM0RqckMsS0FBS3UrQyxTQUFTbGhCLEtBQU8wYSxFQUVyQi8zQyxLQUFLdStDLFNBQVNvWSxZQUFjckIsRUFBY25ULHNCQUFzQm5pRCxLQUFLdzJELFdBQVlELEdBQzVFbi9CLFFBQVEyZ0IsRUFBSU8sU0FBU3NkLFVBQzFCNTFELEtBQUt1K0MsU0FBUzN5QixNQUFRMnFDLEVBQVc3M0IsV0FDakMxK0IsS0FBS3UrQyxTQUFTcVksVUFBWTdlLEVBQUlPLFNBQVN1ZCxZQUN2Q1AsRUFBYzdULFlBQVl6aEQsS0FBTW9JLEVBQU9kLEVBQVE4NUMsR0FDbkQsRUFDT2tWLENBQ1gsQ0EvRHFDLENBK0RuQ2pCLElBeUJFd0IsR0FBNEIsV0FJNUIsU0FBU0EsRUFBV3h6QixHQUNoQnJqQyxLQUFLcWpDLFNBQVdBLEVBQ2hCcmpDLEtBQUs4MkQsZUFBZ0IsRUFDckI5MkQsS0FBSysyRCxjQUFnQixHQUNyQi8yRCxLQUFLZzNELGFBQWUsR0FDcEJoM0QsS0FBSysyQyxVQUFZLEdBQ2pCLzJDLEtBQUtpM0QsZUFBaUIsQ0FDMUIsQ0FpTUEsT0E1TEFKLEVBQVc1MUQsVUFBVWkyRCxhQUFlLFNBQVVuZ0IsR0FDMUMvMkMsS0FBSysyQyxVQUFZQSxFQUNqQi8yQyxLQUFLcWpDLFNBQVM4ekIsUUFBUUQsYUFBYW5nQixHQUNuQy8yQyxLQUFLcWpDLFNBQVM1aUIsUUFBUXkyQyxhQUFhbmdCLEVBQ3ZDLEVBUUE4ZixFQUFXNTFELFVBQVV0SCxLQUFPLFNBQVV5TCxFQUFRZ3lELEdBQzFDLElBQUlDLEVBQVdELEVBQ2YsSUFBS0MsRUFBUzUxQixXQUFZLENBQ3RCLElBQUkzZ0MsRUFBSWQsS0FBS2czRCxhQUFhL21ELE9BQVMsSUFBSW85QyxHQUN2Q3ZzRCxFQUFFd3NELFFBQVMsRUFDWHhzRCxFQUFFMGdDLFdBQWE0MUIsRUFDZkMsRUFBV3YyRCxDQUNmLENBQ0EsSUFBSWt0RCxFQUFzQyxJQUExQmh1RCxLQUFLKzJDLFVBQVVoK0MsT0FBZWlILEtBQUsrMkMsVUFBVS8yQyxLQUFLKzJDLFVBQVVoK0MsT0FBUyxHQUFLLEtBVTFGLEdBVEFzK0QsRUFBU3RKLG9CQUFvQkMsR0FDN0JxSixFQUFTeEosV0FBYUcsRUFBWUEsRUFBVUgsV0FBYSxHQUNyRHdKLEVBQVN2ekIsWUFDVDlqQyxLQUFLczNELE9BQU9ELEdBRWhCQSxFQUFTdkosUUFBVTFvRCxFQUNmaXlELEVBQVN6d0QsT0FBUzhPLEVBQVc2aEQsUUFDN0J2M0QsS0FBSysyQyxVQUFVcDlDLEtBQUswOUQsR0FFcEJBLEVBQVN6ekIsUUFDVCxPQUFReXpCLEVBQVN6d0QsTUFDYixLQUFLOE8sRUFBVzhoRCxRQUNaeDNELEtBQUtxakMsU0FBUzh6QixRQUFReDlELEtBQUswOUQsR0FDM0IsTUFDSixLQUFLM2hELEVBQVcraEQsUUFDWnozRCxLQUFLcWpDLFNBQVM1aUIsUUFBUTltQixLQUFLMDlELEdBQzNCLE1BQ0osS0FBSzNoRCxFQUFXNmhELE9BQ1pGLEVBQVN0SixvQkFBb0IsTUFDN0IvdEQsS0FBSzAzRCxlQUFlTCxHQUNwQixNQUNKLEtBQUszaEQsRUFBV3d5QyxNQUNabG9ELEtBQUsyM0QsY0FBY04sR0FJM0JBLEVBQVN6d0QsT0FBUzhPLEVBQVc2aEQsUUFDN0J2M0QsS0FBSysyQyxVQUFVcDlDLEtBQUswOUQsRUFFNUIsRUFPQVIsRUFBVzUxRCxVQUFVZ1AsSUFBTSxTQUFVN0ssR0FDakMsSUFBSWl5RCxFQUFXcjNELEtBQUsrMkMsVUFBVTltQyxNQUM5QixHQUFLb25ELEdBQVlBLEVBQVN2SixVQUFZMW9ELEVBQXRDLENBSUEsR0FBSWl5RCxFQUFTenpCLFFBQ1QsT0FBUXl6QixFQUFTendELE1BQ2IsS0FBSzhPLEVBQVc4aEQsUUFDWngzRCxLQUFLcWpDLFNBQVM4ekIsUUFBUWxuRCxJQUFJb25ELEdBQzFCLE1BQ0osS0FBSzNoRCxFQUFXK2hELFFBQ1p6M0QsS0FBS3FqQyxTQUFTNWlCLFFBQVF4USxJQUFJb25ELEVBQVM3MUIsWUFDbkMsTUFDSixLQUFLOXJCLEVBQVc2aEQsT0FDWnYzRCxLQUFLNDNELGNBQWNQLEdBQ25CLE1BQ0osS0FBSzNoRCxFQUFXd3lDLE1BQ1psb0QsS0FBSzYzRCxhQUFhUixHQVE5QixHQUpBQSxFQUFTblUsUUFDTG1VLEVBQVMvSixRQUNUdHRELEtBQUtnM0QsYUFBYXI5RCxLQUFLMDlELEdBRUcsSUFBMUJyM0QsS0FBSysyQyxVQUFVaCtDLE9BQWMsQ0FDN0IsSUFBSSsrRCxFQUFjOTNELEtBQUsrMkMsVUFBVS8yQyxLQUFLKzJDLFVBQVVoK0MsT0FBUyxHQUNyRCsrRCxFQUFZbHhELE9BQVM4TyxFQUFXNmhELFFBQVVPLEVBQVl0SyxXQUN0RHNLLEVBQVl0SyxTQUFTLEdBQUcrSSxXQUFhdUIsRUFBWXQyQixXQUV6RCxDQTFCQSxDQTJCSixFQUtBcTFCLEVBQVc1MUQsVUFBVXEyRCxPQUFTLFNBQVVELEdBQ3BDLElBQUk3MUIsRUFBYTYxQixFQUFTNzFCLFdBQ3JCQSxFQUdJQSxFQUFXaEMsU0FDaEI2M0IsRUFBU3p3RCxLQUFPOE8sRUFBVzZoRCxPQUV0QnYzRCxLQUFLODJELGVBQWlCOTJELEtBQUtxakMsU0FBUzh6QixRQUFRWSxZQUFZVixHQUM3REEsRUFBU3p3RCxLQUFPOE8sRUFBVzhoRCxRQUczQkgsRUFBU3p3RCxLQUFPOE8sRUFBVytoRCxRQVQzQkosRUFBU3p3RCxLQUFPOE8sRUFBV3d5QyxLQVduQyxFQUtBMk8sRUFBVzUxRCxVQUFVeTJELGVBQWlCLFNBQVVMLEdBQzVDLElBQUkzL0MsRUFBSXl0QixFQUNKM0QsRUFBYTYxQixFQUFTNzFCLFdBQ3RCcDhCLEVBQVNpeUQsRUFBU3ZKLFFBQ2xCa0ssRUFBa0JYLEVBQVM3SixTQUMxQndLLElBQ0RBLEVBQWtCaDRELEtBQUsrMkQsY0FBYy8yRCxLQUFLaTNELG1CQUV0Q2UsRUFBa0JoNEQsS0FBSysyRCxjQUFjLzJELEtBQUtpM0QsZ0JBQWtCLENBQUMsSUFBSVgsS0FHekUsSUFFSTVuQyxFQUNBeW5CLEVBSEE5UyxFQUFXcmpDLEtBQUtxakMsU0FDaEJnZCxFQUFzQmhkLEVBQVNFLGNBR25DLEdBQUk4YyxFQUFvQmxZLFFBQVMsQ0FDN0IsSUFBSTVFLEVBQWdCOGMsRUFBb0JsWSxRQUN4Q3paLEVBQWEyb0MsRUFBUzNvQyxZQUFjNlUsRUFBYzdVLFdBQ2xEeW5CLEVBQThDLFFBQS9CeitCLEVBQUsyL0MsRUFBU2xoQixtQkFBZ0MsSUFBUHorQixFQUFnQkEsRUFBSzZyQixFQUFjNFMsV0FDN0YsTUFFSXpuQixFQUFhMm9DLEVBQVMzb0MsWUFBYzJVLEVBQVMzVSxXQUM3Q3luQixFQUE4QyxRQUEvQmhSLEVBQUtreUIsRUFBU2xoQixtQkFBZ0MsSUFBUGhSLEVBQWdCQSxFQUFLOUIsRUFBUzhTLFlBRXhGNmhCLEVBQWdCLEdBQUd0cEMsV0FBYUEsRUFDaENzcEMsRUFBZ0IsR0FBRzdoQixZQUFjQSxFQUNqQzZoQixFQUFnQixHQUFHekIsV0FBYS8wQixFQUNoQyxJQUFJeTJCLEVBQWtCN3lELEVBQU95NUIsV0FDN0J6NUIsRUFBT3k1QixXQUFhMkMsRUFBVzVOLFdBQVUsR0FDekN5UCxFQUFTVyxPQUFPcnFDLEtBQUt5TCxFQUFRNHlELEdBQzdCNXlELEVBQU95NUIsV0FBYW81QixFQUNmWixFQUFTN0osVUFDVnh0RCxLQUFLaTNELGdCQUViLEVBS0FKLEVBQVc1MUQsVUFBVTIyRCxjQUFnQixTQUFVUCxHQUMzQ3IzRCxLQUFLcWpDLFNBQVNXLE9BQU8vekIsTUFDakJvbkQsRUFBUzdKLFNBQ1Q2SixFQUFTN0osU0FBUyxHQUFHK0ksV0FBYSxNQUdsQ3YyRCxLQUFLaTNELGlCQUNMajNELEtBQUsrMkQsY0FBYy8yRCxLQUFLaTNELGdCQUFnQixHQUFHVixXQUFhLEtBRWhFLEVBS0FNLEVBQVc1MUQsVUFBVTAyRCxjQUFnQixTQUFVTixHQUMzQyxJQUFJYSxFQUFnQmIsRUFBU3hKLFdBQ3pCc0ssRUFBZ0JkLEVBQVN4SixXQUFhcUssRUFBZ0JiLEVBQVM5SixVQUMvRDRLLElBQWtCRCxHQUNsQmw0RCxLQUFLcWpDLFNBQVMxaUIsR0FBRzRzQyxVQUFvQyxJQUFULEVBQWhCNEssR0FBc0QsSUFBVCxFQUFoQkEsR0FBc0QsSUFBVCxFQUFoQkEsR0FBc0QsSUFBVCxFQUFoQkEsR0FFM0gsRUFLQXRCLEVBQVc1MUQsVUFBVTQyRCxhQUFlLFNBQVVSLEdBQzFDLElBQUlhLEVBQWdCYixFQUFTeEosV0FDekJzSyxFQUFnQm40RCxLQUFLKzJDLFVBQVVoK0MsT0FBUyxFQUN0Q2lILEtBQUsrMkMsVUFBVS8yQyxLQUFLKzJDLFVBQVVoK0MsT0FBUyxHQUFHODBELFdBQWEsR0FDekRzSyxJQUFrQkQsR0FDbEJsNEQsS0FBS3FqQyxTQUFTMWlCLEdBQUc0c0MsVUFBb0MsSUFBVCxFQUFoQjRLLEdBQXNELElBQVQsRUFBaEJBLEdBQXNELElBQVQsRUFBaEJBLEdBQXNELElBQVQsRUFBaEJBLEdBRTNILEVBQ0F0QixFQUFXNTFELFVBQVVzdEIsUUFBVSxXQUMzQnZ1QixLQUFLcWpDLFNBQVcsSUFDcEIsRUFDT3d6QixDQUNYLENBN00rQixHQW1OM0J1QixHQUFvQyxXQUlwQyxTQUFTQSxFQUFtQi8wQixHQUN4QnJqQyxLQUFLcWpDLFNBQVdBLEVBQ2hCcmpDLEtBQUsrMkMsVUFBWSxHQUNqQi8yQyxLQUFLcTRELFFBQVUsQ0FDbkIsQ0FvQ0EsT0FsQ0FELEVBQW1CbjNELFVBQVVxM0QsZUFBaUIsV0FDMUMsT0FBT3Q0RCxLQUFLKzJDLFVBQVVoK0MsTUFDMUIsRUFLQXEvRCxFQUFtQm4zRCxVQUFVaTJELGFBQWUsU0FBVW5nQixHQUNsRCxJQUFJcDJCLEVBQUszZ0IsS0FBS3FqQyxTQUFTMWlCLEdBQ25CNDNDLEVBQWN2NEQsS0FBS3M0RCxpQkFDdkJ0NEQsS0FBSysyQyxVQUFZQSxFQUNqQixJQUFJeWhCLEVBQWN4NEQsS0FBS3M0RCxpQkFDbkJFLElBQWdCRCxJQUNJLElBQWhCQyxFQUNBNzNDLEVBQUc4M0MsUUFBUXo0RCxLQUFLcTRELFVBR2hCMTNDLEVBQUcrM0MsT0FBTzE0RCxLQUFLcTRELFNBQ2ZyNEQsS0FBSzI0RCxlQUdqQixFQUtBUCxFQUFtQm4zRCxVQUFVMDNELFlBQWMsV0FFM0MsRUFFQVAsRUFBbUJuM0QsVUFBVXN0QixRQUFVLFdBQ25DdnVCLEtBQUtxakMsU0FBVyxLQUNoQnJqQyxLQUFLKzJDLFVBQVksSUFDckIsRUFDT3FoQixDQUNYLENBN0N1QyxHQStDbkNRLEdBQWUsSUFBSXBqQyxHQUNuQnFqQyxHQUFXLEdBU1hDLEdBQStCLFNBQVU1NkIsR0FLekMsU0FBUzQ2QixFQUFjejFCLEdBQ25CLElBQUlsRixFQUFRRCxFQUFPejdCLEtBQUt6QyxLQUFNcWpDLElBQWFyakMsS0FFM0MsT0FEQW0rQixFQUFNazZCLFFBQVU1OUMsR0FBU0MsUUFBUXJELDJCQUEyQjBoRCxhQUNyRDU2QixDQUNYLENBaUlBLE9BeklBLEdBQVUyNkIsRUFBZTU2QixHQVN6QjQ2QixFQUFjNzNELFVBQVVxM0QsZUFBaUIsV0FDckMsSUFBSWpCLEVBQVdyM0QsS0FBSysyQyxVQUFVLzJDLEtBQUsrMkMsVUFBVWgrQyxPQUFTLEdBQ3RELE9BQUlzK0QsRUFDT0EsRUFBUzNKLGdCQUViLENBQ1gsRUFLQW9MLEVBQWM3M0QsVUFBVSszRCxnQkFBa0IsU0FBVTNCLEdBQ2hELElBQUkzL0MsRUFDSixJQUFJMi9DLEVBQVN6SixrQkFBYixDQUdBLElBQUlxTCxFQUFXNUIsRUFBUzFKLGFBQ3BCbnNCLEVBQWE2MUIsRUFBUzcxQixXQUN0QjZCLEVBQVdyakMsS0FBS3FqQyxTQUNoQmdkLEVBQXNCaGQsRUFBU0UsY0FDL0IxSCxFQUFPMkYsRUFBVzVOLFdBQVUsRUFBZ0MsUUFBekJsYyxFQUFLbWhELEdBQVM1b0QsYUFBMEIsSUFBUHlILEVBQWdCQSxFQUFLLElBQUk4WixJQUNqR3h4QixLQUFLazVELG1CQUFtQnI5QixFQUFNd2tCLEVBQW9CbFksUUFBVWtZLEVBQW9CbFksUUFBUXpaLFdBQWEyVSxFQUFTM1UsV0FBWTJ4QixFQUFvQi9jLFlBQWErYyxFQUFvQmxDLGlCQUFrQjlhLEVBQVNvZCxXQUFXN3VCLFdBQ2pOcW5DLEdBQ0FwOUIsRUFBSzdJLElBQUlpbUMsR0FFYjVCLEVBQVN6SixrQkFBb0IveEIsQ0FWN0IsQ0FXSixFQUNBaTlCLEVBQWNLLGdCQUFrQixTQUFVemlDLEdBQ3RDLElBQUtBLEVBQ0QsT0FBTyxFQUVYLElBQUl0NkIsRUFBSXM2QixFQUFPdDZCLEVBQUdDLEVBQUlxNkIsRUFBT3I2QixFQUFHQyxFQUFJbzZCLEVBQU9wNkIsRUFBR3dFLEVBQUk0MUIsRUFBTzUxQixFQUd6RCxPQUFTN0csS0FBS21FLElBQUkvQixHQUFLLE1BQVFwQyxLQUFLbUUsSUFBSTlCLEdBQUssUUFDckNyQyxLQUFLbUUsSUFBSWhDLEdBQUssTUFBUW5DLEtBQUttRSxJQUFJMEMsR0FBSyxLQUNoRCxFQU9BZzRELEVBQWM3M0QsVUFBVTgyRCxZQUFjLFNBQVVWLEdBQzVDLElBQUk3MUIsRUFBYTYxQixFQUFTNzFCLFdBQzFCLElBQUtBLEVBQVc0M0IsYUFBZTUzQixFQUFXNDNCLGFBQ3RDLE9BQU8sRUFFWCxHQUFJTixFQUFjSyxnQkFBZ0IzM0IsRUFBV2pILGdCQUN6QyxPQUFPLEVBRVgsR0FBSXUrQixFQUFjSyxnQkFBZ0JuNUQsS0FBS3FqQyxTQUFTb2QsV0FBVzd1QixXQUN2RCxPQUFPLEVBRVg1eEIsS0FBS2c1RCxnQkFBZ0IzQixHQUNyQixJQUFJeDdCLEVBQU93N0IsRUFBU3pKLGtCQUNwQixPQUFPL3hCLEVBQUs3a0IsTUFBUSxHQUFLNmtCLEVBQUs1a0IsT0FBUyxDQUMzQyxFQUNBNmhELEVBQWM3M0QsVUFBVWk0RCxtQkFBcUIsU0FBVTdoQixFQUFPM29CLEVBQVl3d0IsRUFBb0JDLEVBQXlCdnRCLEdBQy9Ha25DLEVBQWNLLGdCQUFnQnZuQyxNQUdsQ0EsRUFBWUEsRUFBWWduQyxHQUFhdm5DLFNBQVNPLEdBQWFnbkMsR0FBYWhoQyxZQUduRTNCLFdBQVdpcEIsRUFBbUJ2bUQsR0FBSXVtRCxFQUFtQnRtRCxHQUNyRHM5QixNQUFNaXBCLEVBQXdCbm9DLE1BQVFrb0MsRUFBbUJsb0MsTUFBT21vQyxFQUF3QmxvQyxPQUFTaW9DLEVBQW1Cam9DLFFBQ3BIZ2YsVUFBVWtwQixFQUF3QnhtRCxFQUFHd21ELEVBQXdCdm1ELEdBRWxFb0gsS0FBS3FqQyxTQUFTVyxPQUFPMGMsY0FBYzl1QixFQUFXeWxCLEdBQzlDQSxFQUFNcmtCLElBQUltc0IsR0FDVjlILEVBQU0xK0MsRUFBSXNCLEtBQUtnMUIsTUFBTW9vQixFQUFNMStDLEVBQUkrMUIsR0FDL0Iyb0IsRUFBTXorQyxFQUFJcUIsS0FBS2cxQixNQUFNb29CLEVBQU16K0MsRUFBSTgxQixHQUMvQjJvQixFQUFNcmdDLE1BQVEvYyxLQUFLZzFCLE1BQU1vb0IsRUFBTXJnQyxNQUFRMFgsR0FDdkMyb0IsRUFBTXBnQyxPQUFTaGQsS0FBS2cxQixNQUFNb29CLEVBQU1wZ0MsT0FBU3lYLEdBQzdDLEVBTUFvcUMsRUFBYzczRCxVQUFVdEgsS0FBTyxTQUFVMDlELEdBQ2hDQSxFQUFTekosbUJBQ1Y1dEQsS0FBS2c1RCxnQkFBZ0IzQixHQUV6QixJQUFJMTJDLEVBQUszZ0IsS0FBS3FqQyxTQUFTMWlCLEdBQ2xCMDJDLEVBQVMxSixjQUNWaHRDLEVBQUcrM0MsT0FBTy8zQyxFQUFHbzRDLGNBRWpCMUIsRUFBUzNKLGtCQUNUMkosRUFBUzFKLGFBQWUwSixFQUFTekosa0JBQ2pDNXRELEtBQUsyNEQsYUFDVCxFQVFBRyxFQUFjNzNELFVBQVVnUCxJQUFNLFNBQVVvbkQsR0FDcEMsSUFBSTEyQyxFQUFLM2dCLEtBQUtxakMsU0FBUzFpQixHQUNuQjAyQyxHQUNBd0IsR0FBU2wvRCxLQUFLMDlELEVBQVN6SixtQkFFdkI1dEQsS0FBS3M0RCxpQkFBbUIsRUFDeEJ0NEQsS0FBSzI0RCxjQUdMaDRDLEVBQUc4M0MsUUFBUTkzQyxFQUFHbzRDLGFBRXRCLEVBS0FELEVBQWM3M0QsVUFBVTAzRCxZQUFjLFdBQ2xDLElBQ0kvL0QsRUFEQWlqQyxFQUFPNzdCLEtBQUsrMkMsVUFBVS8yQyxLQUFLKzJDLFVBQVVoK0MsT0FBUyxHQUFHNDBELGFBR2pELzBELEVBREFvSCxLQUFLcWpDLFNBQVNFLGNBQWM0RSxRQUN4QnRNLEVBQUtqakMsRUFJTG9ILEtBQUtxakMsU0FBU3BzQixPQUFTNGtCLEVBQUs1a0IsT0FBUzRrQixFQUFLampDLEVBRWxEb0gsS0FBS3FqQyxTQUFTMWlCLEdBQUd3MkMsUUFBUXQ3QixFQUFLbGpDLEVBQUdDLEVBQUdpakMsRUFBSzdrQixNQUFPNmtCLEVBQUs1a0IsT0FDekQsRUFDTzZoRCxDQUNYLENBM0lrQyxDQTJJaENWLElBTUVpQixHQUErQixTQUFVbjdCLEdBS3pDLFNBQVNtN0IsRUFBY2gyQixHQUNuQixJQUFJbEYsRUFBUUQsRUFBT3o3QixLQUFLekMsS0FBTXFqQyxJQUFhcmpDLEtBRTNDLE9BREFtK0IsRUFBTWs2QixRQUFVNTlDLEdBQVNDLFFBQVFyRCwyQkFBMkJpaUQsYUFDckRuN0IsQ0FDWCxDQWlGQSxPQXpGQSxHQUFVazdCLEVBQWVuN0IsR0FTekJtN0IsRUFBY3A0RCxVQUFVcTNELGVBQWlCLFdBQ3JDLElBQUlqQixFQUFXcjNELEtBQUsrMkMsVUFBVS8yQyxLQUFLKzJDLFVBQVVoK0MsT0FBUyxHQUN0RCxPQUFJcytELEVBQ09BLEVBQVM1SixnQkFFYixDQUNYLEVBS0E0TCxFQUFjcDRELFVBQVV0SCxLQUFPLFNBQVUwOUQsR0FDckMsSUFBSTcxQixFQUFhNjFCLEVBQVM3MUIsV0FDdEI3Z0IsRUFBSzNnQixLQUFLcWpDLFNBQVMxaUIsR0FDbkI0NEMsRUFBZ0JsQyxFQUFTNUosZ0JBQ1AsSUFBbEI4TCxJQUVBdjVELEtBQUtxakMsU0FBU3lULFlBQVlnVCxlQUMxQm5wQyxFQUFHNjRDLGFBQWEsR0FDaEI3NEMsRUFBR2lPLE1BQU1qTyxFQUFHODRDLG9CQUNaOTRDLEVBQUcrM0MsT0FBTy8zQyxFQUFHMjRDLGVBRWpCakMsRUFBUzVKLGtCQUNULElBQUlGLEVBQVk4SixFQUFTeEosV0FDUCxJQUFkTixJQUNBOEosRUFBU3hKLFdBQWEsRUFDdEJsdEMsRUFBRzRzQyxXQUFVLEdBQU8sR0FBTyxHQUFPLElBR3RDNXNDLEVBQUcrNEMsWUFBWS80QyxFQUFHZzVDLE1BQU9KLEVBQWUsWUFDeEM1NEMsRUFBR2k1QyxVQUFVajVDLEVBQUdrNUMsS0FBTWw1QyxFQUFHazVDLEtBQU1sNUMsRUFBR201QyxNQUNsQ3Q0QixFQUFXbEQsWUFBYSxFQUN4QmtELEVBQVdrQyxPQUFPMWpDLEtBQUtxakMsVUFDdkJyakMsS0FBS3FqQyxTQUFTVSxNQUFNRixRQUNwQnJDLEVBQVdsRCxZQUFhLEVBQ04sSUFBZGl2QixJQUNBOEosRUFBU3hKLFdBQWFOLEVBQ3RCNXNDLEVBQUc0c0MsVUFBOEIsSUFBUCxFQUFaQSxHQUEwQyxJQUFQLEVBQVpBLEdBQTBDLElBQVAsRUFBWkEsR0FBMEMsSUFBUCxFQUFaQSxLQUV2RnZ0RCxLQUFLMjRELGFBQ1QsRUFLQVUsRUFBY3A0RCxVQUFVZ1AsSUFBTSxTQUFVdXhCLEdBQ3BDLElBQUk3Z0IsRUFBSzNnQixLQUFLcWpDLFNBQVMxaUIsR0FDdkIsR0FBOEIsSUFBMUIzZ0IsS0FBS3M0RCxpQkFFTDMzQyxFQUFHODNDLFFBQVE5M0MsRUFBRzI0QyxrQkFFYixDQUNELElBQUlqQyxFQUFxQyxJQUExQnIzRCxLQUFLKzJDLFVBQVVoK0MsT0FBZWlILEtBQUsrMkMsVUFBVS8yQyxLQUFLKzJDLFVBQVVoK0MsT0FBUyxHQUFLLEtBQ3JGdzBELEVBQVk4SixFQUFXQSxFQUFTeEosV0FBYSxHQUMvQixJQUFkTixJQUNBOEosRUFBU3hKLFdBQWEsRUFDdEJsdEMsRUFBRzRzQyxXQUFVLEdBQU8sR0FBTyxHQUFPLElBR3RDNXNDLEVBQUdpNUMsVUFBVWo1QyxFQUFHazVDLEtBQU1sNUMsRUFBR2s1QyxLQUFNbDVDLEVBQUdvNUMsTUFDbEN2NEIsRUFBV2xELFlBQWEsRUFDeEJrRCxFQUFXa0MsT0FBTzFqQyxLQUFLcWpDLFVBQ3ZCcmpDLEtBQUtxakMsU0FBU1UsTUFBTUYsUUFDcEJyQyxFQUFXbEQsWUFBYSxFQUNOLElBQWRpdkIsSUFDQThKLEVBQVN4SixXQUFhTixFQUN0QjVzQyxFQUFHNHNDLFVBQWdDLElBQVQsRUFBWkEsR0FBOEMsSUFBVCxFQUFaQSxHQUE4QyxJQUFULEVBQVpBLEdBQThDLElBQVQsRUFBWkEsS0FFN0Z2dEQsS0FBSzI0RCxhQUNULENBQ0osRUFLQVUsRUFBY3A0RCxVQUFVMDNELFlBQWMsV0FDbEMsSUFBSWg0QyxFQUFLM2dCLEtBQUtxakMsU0FBUzFpQixHQUN2QkEsRUFBRys0QyxZQUFZLzRDLEVBQUdnNUMsTUFBTzM1RCxLQUFLczRELGlCQUFrQixZQUNoRDMzQyxFQUFHaTVDLFVBQVVqNUMsRUFBR2s1QyxLQUFNbDVDLEVBQUdrNUMsS0FBTWw1QyxFQUFHazVDLEtBQ3RDLEVBQ09SLENBQ1gsQ0EzRmtDLENBMkZoQ2pCLElBU0U0QixHQUFrQyxXQUVsQyxTQUFTQSxFQUFpQjMyQixHQUN0QnJqQyxLQUFLcWpDLFNBQVdBLEVBQ2hCcmpDLEtBQUttK0MsaUJBQW1CLEtBQ3hCbitDLEtBQUtzakMsWUFBYyxLQUNuQnRqQyxLQUFLaTZELGFBQWUsS0FDcEJqNkQsS0FBS2s2RCxpQkFBbUIsSUFBSTFrQyxHQUM1QngxQixLQUFLNHhCLFVBQVksSUFDckIsQ0E2REEsT0E1Q0Fvb0MsRUFBaUIvNEQsVUFBVTRtQyxPQUFTLFNBQVVzVyxFQUFrQjdhLEVBQWE1VSxFQUFZL29CLEdBQ3JGM0YsS0FBS20rQyxpQkFBbUJBLEdBQW9CbitDLEtBQUttK0Msa0JBQW9CbitDLEtBQUtpNkQsYUFDMUVqNkQsS0FBS3NqQyxZQUFjQSxHQUFldGpDLEtBQUtzakMsYUFBZTZhLEVBRXREbitDLEtBQUttNkQsb0JBQW9CbjZELEtBQUttK0MsaUJBQWtCbitDLEtBQUtzakMsWUFBYTVVLEVBQVkvb0IsR0FDMUUzRixLQUFLNHhCLFdBQ0w1eEIsS0FBS2s2RCxpQkFBaUJ6akMsT0FBT3oyQixLQUFLNHhCLFdBRXRDLElBQUl5UixFQUFXcmpDLEtBQUtxakMsU0FDcEJBLEVBQVN1YyxlQUFlckIsU0FBUzJiLGlCQUFtQmw2RCxLQUFLazZELGlCQUN6RDcyQixFQUFTdWMsZUFBZS9YLFNBR3BCeEUsRUFBU3VlLE9BQU9BLFFBQ2hCdmUsRUFBU3VlLE9BQU93WSxpQkFBaUIvMkIsRUFBU3VlLE9BQU9BLE9BQU9yRCxTQUFTOGIsUUFFekUsRUFTQUwsRUFBaUIvNEQsVUFBVWs1RCxvQkFBc0IsU0FBVUcsRUFBbUJoM0IsRUFBYWt5QixFQUFhN3ZELEdBQ3BHLElBQUlvbEIsRUFBSy9xQixLQUFLazZELGlCQUNWOTZELEVBQVF1RyxHQUFZLEVBQUwsRUFDbkJvbEIsRUFBRzZNLFdBQ0g3TSxFQUFHM3VCLEVBQUssRUFBSWtuQyxFQUFZdHNCLE1BQVEsRUFDaEMrVCxFQUFHanFCLEVBQUkxQixHQUFRLEVBQUlra0MsRUFBWXJzQixPQUFTLEdBQ3hDOFQsRUFBRzBLLElBQU0sRUFBSzZOLEVBQVkzcUMsRUFBSW95QixFQUFHM3VCLEVBQ2pDMnVCLEVBQUcySyxJQUFNdDJCLEVBQVFra0MsRUFBWTFxQyxFQUFJbXlCLEVBQUdqcUIsQ0FDeEMsRUFLQWs1RCxFQUFpQi80RCxVQUFVNHRCLGFBQWUsU0FBVTByQyxHQUVwRCxFQUNBUCxFQUFpQi80RCxVQUFVc3RCLFFBQVUsV0FDakN2dUIsS0FBS3FqQyxTQUFXLElBQ3BCLEVBQ08yMkIsQ0FDWCxDQXZFcUMsR0EwRWpDdGEsR0FBVyxJQUFJbHVCLEdBRWZncEMsR0FBWSxJQUFJaHBDLEdBbUJoQmlwQyxHQUFxQyxXQUlyQyxTQUFTQSxFQUFvQnAzQixHQUN6QnJqQyxLQUFLcWpDLFNBQVdBLEVBQ2hCcmpDLEtBQUs2MkMsV0FBYXhULEVBQVNxM0IscUJBQzNCMTZELEtBQUsyNkQsaUJBQW1CLEdBQ3hCMzZELEtBQUttb0MsUUFBVSxLQUNmbm9DLEtBQUtzakMsWUFBYyxJQUFJOVIsR0FDdkJ4eEIsS0FBS20rQyxpQkFBbUIsSUFBSTNzQixHQUM1Qnh4QixLQUFLNDZELGNBQWdCLElBQUlwcEMsRUFDN0IsQ0EyR0EsT0FwR0FpcEMsRUFBb0J4NUQsVUFBVWlwQyxLQUFPLFNBQVUzRyxFQUFlRCxFQUFhNmEsUUFDakQsSUFBbEI1YSxJQUE0QkEsRUFBZ0IsTUFDaEQsSUFFSTRHLEVBQ0EyTSxFQUNBcG9CLEVBSkEyVSxFQUFXcmpDLEtBQUtxakMsU0FDcEJyakMsS0FBS21vQyxRQUFVNUUsRUFJWEEsR0FFQTdVLEdBREF5YixFQUFjNUcsRUFBYzRHLGFBQ0h6YixXQUNwQjRVLElBQ0RvYyxHQUFTMW9DLE1BQVF1c0IsRUFBYzhULE1BQU1yZ0MsTUFDckMwb0MsR0FBU3pvQyxPQUFTc3NCLEVBQWM4VCxNQUFNcGdDLE9BQ3RDcXNCLEVBQWNvYyxJQUVidkIsSUFDRHFjLEdBQVU3aEUsRUFBSTRxQyxFQUFjOFQsTUFBTTErQyxFQUNsQzZoRSxHQUFVNWhFLEVBQUkycUMsRUFBYzhULE1BQU16K0MsRUFDbEM0aEUsR0FBVXhqRCxNQUFRc3NCLEVBQVl0c0IsTUFDOUJ3akQsR0FBVXZqRCxPQUFTcXNCLEVBQVlyc0IsT0FDL0JrbkMsRUFBbUJxYyxJQUV2QjFqQixFQUFjM00sRUFBWTJNLGNBRzFCcG9CLEVBQWEyVSxFQUFTM1UsV0FDakI0VSxJQUNEb2MsR0FBUzFvQyxNQUFRcXNCLEVBQVN3M0IsT0FBTzdqRCxNQUNqQzBvQyxHQUFTem9DLE9BQVNvc0IsRUFBU3czQixPQUFPNWpELE9BQ2xDcXNCLEVBQWNvYyxJQUVidkIsS0FDREEsRUFBbUJ1QixJQUNGMW9DLE1BQVFzc0IsRUFBWXRzQixNQUNyQ21uQyxFQUFpQmxuQyxPQUFTcXNCLEVBQVlyc0IsU0FHOUMsSUFBSTJqRCxFQUFnQjU2RCxLQUFLNDZELGNBQ3pCQSxFQUFjamlFLEVBQUl3bEQsRUFBaUJ4bEQsRUFBSSsxQixFQUN2Q2tzQyxFQUFjaGlFLEVBQUl1bEQsRUFBaUJ2bEQsRUFBSTgxQixFQUN2Q2tzQyxFQUFjNWpELE1BQVFtbkMsRUFBaUJubkMsTUFBUTBYLEVBQy9Da3NDLEVBQWMzakQsT0FBU2tuQyxFQUFpQmxuQyxPQUFTeVgsRUFDNUM2VSxJQUNEcTNCLEVBQWNoaUUsRUFBSXlxQyxFQUFTN25CLEtBQUt2RSxRQUFVMmpELEVBQWNoaUUsRUFBSWdpRSxFQUFjM2pELFNBRTlFMmpELEVBQWN6bkMsT0FDZG56QixLQUFLcWpDLFNBQVN5VCxZQUFZNU0sS0FBSzRNLEVBQWE4akIsR0FDNUM1NkQsS0FBS3FqQyxTQUFTb2QsV0FBVzVZLE9BQU9zVyxFQUFrQjdhLEVBQWE1VSxHQUFhb29CLEdBQ3hFdlQsRUFDQXZqQyxLQUFLcWpDLFNBQVNoRyxLQUFLNjVCLGFBQWEvc0IsRUFBWTRNLFdBRzVDLzJDLEtBQUtxakMsU0FBU2hHLEtBQUs2NUIsYUFBYWwzRCxLQUFLMjZELGtCQUV6QzM2RCxLQUFLc2pDLFlBQVlqUyxTQUFTaVMsR0FDMUJ0akMsS0FBS20rQyxpQkFBaUI5c0IsU0FBUzhzQixFQUNuQyxFQU9Bc2MsRUFBb0J4NUQsVUFBVTJ0QixNQUFRLFNBQVVpb0IsRUFBWXhaLEdBRXBEd1osRUFEQTcyQyxLQUFLbW9DLFFBQ1EwTyxHQUFjNzJDLEtBQUttb0MsUUFBUWdDLFlBQVkwTSxXQUd2Q0EsR0FBYzcyQyxLQUFLNjJDLFdBRXBDLElBQUlzSCxFQUFtQm4rQyxLQUFLbStDLGlCQUN4QjdHLEVBQVl0M0MsS0FBS21vQyxRQUFVbm9DLEtBQUttb0MsUUFBUWdDLFlBQWNucUMsS0FBS3FqQyxTQUFTdzNCLE9BQ3BFQyxFQUFZM2MsRUFBaUJubkMsUUFBVXNnQyxFQUFVdGdDLE9BQVNtbkMsRUFBaUJsbkMsU0FBV3FnQyxFQUFVcmdDLE9BQ3BHLEdBQUk2akQsRUFBVyxDQUNYLElBQUlwakQsRUFBSzFYLEtBQUs0NkQsY0FBZWppRSxFQUFJK2UsRUFBRy9lLEVBQUdDLEVBQUk4ZSxFQUFHOWUsRUFBR29lLEVBQVFVLEVBQUdWLE1BQU9DLEVBQVNTLEVBQUdULE9BQy9FdGUsRUFBSXNCLEtBQUtnMUIsTUFBTXQyQixHQUNmQyxFQUFJcUIsS0FBS2cxQixNQUFNcjJCLEdBQ2ZvZSxFQUFRL2MsS0FBS2cxQixNQUFNalksR0FDbkJDLEVBQVNoZCxLQUFLZzFCLE1BQU1oWSxHQUVwQmpYLEtBQUtxakMsU0FBUzFpQixHQUFHKzNDLE9BQU8xNEQsS0FBS3FqQyxTQUFTMWlCLEdBQUdvNEMsY0FDekMvNEQsS0FBS3FqQyxTQUFTMWlCLEdBQUd3MkMsUUFBUXgrRCxFQUFHQyxFQUFHb2UsRUFBT0MsRUFDMUMsQ0FDQWpYLEtBQUtxakMsU0FBU3lULFlBQVlsb0IsTUFBTWlvQixFQUFXLEdBQUlBLEVBQVcsR0FBSUEsRUFBVyxHQUFJQSxFQUFXLEdBQUl4WixHQUN4Rnk5QixHQUVBOTZELEtBQUtxakMsU0FBUzh6QixRQUFRbG5ELEtBRTlCLEVBQ0F3cUQsRUFBb0J4NUQsVUFBVTB0QixPQUFTLFdBRW5DM3VCLEtBQUtrcUMsS0FBSyxLQUNkLEVBRUF1d0IsRUFBb0J4NUQsVUFBVWlpRCxNQUFRLFdBQ2xDbGpELEtBQUtrcUMsS0FBSyxLQUNkLEVBQ0F1d0IsRUFBb0J4NUQsVUFBVXN0QixRQUFVLFdBQ3BDdnVCLEtBQUtxakMsU0FBVyxJQUNwQixFQUNPbzNCLENBQ1gsQ0F4SHdDLEdBMEh4QyxTQUFTTSxHQUFVQyxFQUFLQyxFQUFLaDNCLEVBQVdpM0IsRUFBV2p1QyxHQUMvQ2dYLEVBQVVoWCxPQUFPNGEsT0FBTzVhLEVBQzVCLENBTUEsSUFBSWt1QyxHQUF3QixDQUN4QjFMLE1BQU8sb0NBQ1BDLEtBQU0sdUVBQ05DLEtBQU0seUdBQ05DLEtBQU0sdUlBQ05hLEtBQU0seUlBQ05DLEtBQU0sd1RBQ05DLEtBQU0sMkdBRU55SyxHQUFxQixDQUNyQjNMLE1BQU8sRUFDUEMsS0FBTSxFQUNOQyxLQUFNLEdBQ05DLEtBQU0sR0FDTkMsSUFBSyxFQUNMQyxNQUFPLEVBQ1BDLE1BQU8sR0FDUEMsTUFBTyxHQUNQQyxLQUFNLEVBQ05DLE1BQU8sRUFDUEMsTUFBTyxHQUNQQyxNQUFPLEdBQ1BDLEtBQU0sRUFDTkMsTUFBTyxFQUNQQyxNQUFPLEdBQ1BDLE1BQU8sR0FDUEMsS0FBTSxHQUNOQyxLQUFNLEdBQ05DLEtBQU0sSUFRVixTQUFTMEssR0FBa0JDLEdBWXZCLElBWEEsSUFBSUMsRUFBY0QsRUFBWTMyRCxLQUFJLFNBQVV2TSxHQUN4QyxNQUFPLENBQ0hBLEtBQU1BLEVBQ05xbEQsT0FBUSxFQUNSK2QsUUFBUyxFQUNUbHVCLE1BQU8sRUFFZixJQUNJamhCLEVBQU8sRUFDUG92QyxFQUFZLEVBQ1poZSxFQUFTLEVBQ0pua0QsRUFBSSxFQUFHQSxFQUFJaWlFLEVBQVl4aUUsT0FBUU8sSUFBSyxDQUN6QyxJQUFJb2lFLEVBQWFILEVBQVlqaUUsR0FRN0IsR0FQQSt5QixFQUFPK3VDLEdBQW1CTSxFQUFXdGpFLEtBQUt3TyxNQUN0QzgwRCxFQUFXdGpFLEtBQUtpMEIsS0FBTyxJQUN2QkEsRUFBT3B5QixLQUFLQyxJQUFJbXlCLEVBQU0sSUFBTXF2QyxFQUFXdGpFLEtBQUtpMEIsTUFFaERxdkMsRUFBV0YsUUFBVW52QyxFQUdqQm92QyxFQUFZcHZDLEdBQVMsR0FBS292QyxFQUFZLEdBQUksQ0FFMUMsSUFBSUUsRUFBZUYsRUFBWXB2QyxFQUFRLEdBQ3ZDb3ZDLEdBQWFFLEVBQ2JsZSxHQUFVa2UsQ0FDZCxDQUNLRixFQUFZcHZDLEVBQVEsSUFDckJveEIsRUFBa0MsR0FBekJ4akQsS0FBS2s1QixLQUFLc3FCLEVBQVMsSUFDNUJpZSxFQUFXamUsT0FBU0EsRUFDcEJBLEdBQVVweEIsRUFDVm92QyxFQUFZcHZDLElBR1pxdkMsRUFBV2plLE9BQVNBLEVBQ3BCZ2UsR0FBYXB2QyxFQUNib3hCLEdBQVVweEIsRUFFbEIsQ0FFQSxNQUFPLENBQUVrdkMsWUFBYUEsRUFBYWx2QyxLQURuQ294QixFQUFrQyxHQUF6QnhqRCxLQUFLazVCLEtBQUtzcUIsRUFBUyxJQUVoQyxDQUNBLFNBQVNtZSxHQUFXcmQsRUFBVStjLEdBQzFCLElBQUlPLEVBQW1CLEdBRXZCLElBQUssSUFBSXZpRSxLQUFLaWxELEVBQ04rYyxFQUFZaGlFLElBQ1p1aUUsRUFBaUJsaUUsS0FBSzJoRSxFQUFZaGlFLElBSzFDLE9BREF1aUUsRUFBaUJoaUUsTUFBSyxTQUFVdUMsRUFBR0MsR0FBSyxPQUFPRCxFQUFFbU0sTUFBUWxNLEVBQUVrTSxLQUFPLElBQzNEc3pELENBQ1gsQ0FDQSxTQUFTQyxHQUEwQnBkLEVBQU80YyxHQUN0QyxJQUFLNWMsRUFBTUksV0FFUCxNQUFPLENBQUV6eUIsS0FBTSxFQUFHMHZDLFNBQVVoQixJQUtoQyxJQUhBLElBQ0lyakQsRUFBSzJqRCxHQURjTyxHQUFXbGQsRUFBTUgsU0FBVStjLElBQ0pDLEVBQWM3akQsRUFBRzZqRCxZQUFhbHZDLEVBQU8zVSxFQUFHMlUsS0FDbEYydkMsRUFBZ0IsQ0FBQyxnS0FDWjFpRSxFQUFJLEVBQUdBLEVBQUlpaUUsRUFBWXhpRSxPQUFRTyxJQUFLLENBS3pDLElBSkEsSUFBSW9pRSxFQUFhSCxFQUFZamlFLEdBQ3pCeTVELEVBQVVyVSxFQUFNSCxTQUFTbWQsRUFBV3RqRSxLQUFLbUssTUFDekNBLEVBQU9tNUQsRUFBV3RqRSxLQUFLbUssS0FDdkIwNUQsR0FBUyxFQUNKLzdELEVBQUksRUFBR0EsRUFBSTR5RCxHQUFlLzVELE9BQVFtSCxJQUFLLENBQzVDLElBQUlnOEQsRUFBZ0JwSixHQUFlNXlELEdBQ25DLEdBQUlnOEQsRUFBY2xKLFNBQVdrSixFQUFjM3lELEtBQUtteUQsRUFBV3RqRSxLQUFNMjZELEdBQVUsQ0FDdkVpSixFQUFjcmlFLEtBQUssWUFBYytoRSxFQUFXamUsT0FBUyxFQUFJLElBQUtxVixHQUFlNXlELEdBQUc4eUQsUUFBUTBJLEVBQVd0akUsS0FBS21LLEtBQU13d0QsSUFDOUdrSixHQUFTLEVBQ1QsS0FDSixDQUNKLENBQ0EsSUFBS0EsRUFDRCxHQUFJUCxFQUFXdGpFLEtBQUtpMEIsS0FBTyxFQUFHLENBQzFCLElBQUk4dkMsRUFBU3RMLEdBQVE2SyxFQUFXdGpFLEtBQUt3TyxNQUNqQ3cxRCxFQUFVbmlFLEtBQUtDLElBQUlraEUsR0FBbUJNLEVBQVd0akUsS0FBS3dPLE1BQVEsR0FBSSxHQUNsRXkxRCxFQUFjRixFQUFTQyxFQUN2QkUsR0FBYSxFQUFLRCxFQUFjLEdBQU0sRUFDMUNMLEVBQWNyaUUsS0FBSyw2QkFBK0I0SSxFQUFPLG1DQUFxQ0EsRUFBTywrQkFBaUNtNUQsRUFBV2plLE9BQVMsRUFBSSxtRUFBcUVpZSxFQUFXdGpFLEtBQUtpMEIsS0FBTyt2QyxFQUFVLHFFQUF1RUMsRUFBYyx5SUFBMklDLEVBQVksMkNBQ3BmLEtBQ0ssQ0FDRCxJQUFJQyxFQUFXcEIsR0FBc0JPLEVBQVd0akUsS0FBS3dPLE1BQ3JEbzFELEVBQWNyaUUsS0FBSyw2QkFBK0I0SSxFQUFPLG1DQUFxQ0EsRUFBTywrQkFBaUNtNUQsRUFBV2plLE9BQVMsRUFBSSxzQkFBd0I4ZSxFQUFXLHNCQUNyTSxDQUVSLENBRUEsT0FEQVAsRUFBY3JpRSxLQUFLLGtEQUNaLENBQ0gweUIsS0FBTUEsRUFFTjB2QyxTQUFVLElBQUl6cUQsU0FBUyxLQUFNLEtBQU0sV0FBWSxXQUFZLFNBQVUwcUQsRUFBY3AzRCxLQUFLLE9BRWhHLENBS0EsSUFBSTQzRCxHQUNBLFdBQ0EsRUFPQUMsR0FBMkIsV0FNM0IsU0FBU0EsRUFBVTVhLEVBQVN5WixHQUN4QnQ3RCxLQUFLNmhELFFBQVVBLEVBQ2Y3aEQsS0FBS3M3RCxZQUFjQSxFQUNuQnQ3RCxLQUFLMDhELGNBQWdCLENBQUMsRUFDdEIxOEQsS0FBSzI4RCxtQkFBcUIsQ0FBQyxFQUMzQjM4RCxLQUFLNDhELHNCQUF3QixDQUFDLENBQ2xDLENBU0EsT0FQQUgsRUFBVXg3RCxVQUFVc3RCLFFBQVUsV0FDMUJ2dUIsS0FBS3M3RCxZQUFjLEtBQ25CdDdELEtBQUswOEQsY0FBZ0IsS0FDckIxOEQsS0FBSzI4RCxtQkFBcUIsS0FDMUIzOEQsS0FBSzQ4RCxzQkFBd0IsS0FDN0I1OEQsS0FBSzZoRCxRQUFVLElBQ25CLEVBQ080YSxDQUNYLENBdEI4QixHQW1GOUIsU0FBU3RRLEdBQWdCeHJDLEVBQUlraEMsR0FDekIsSUFBSWdiLEVBQWU1TyxHQUFjdHRDLEVBQUlBLEVBQUdtOEMsY0FBZWpiLEVBQVFtUyxXQUMzRCtJLEVBQWU5TyxHQUFjdHRDLEVBQUlBLEVBQUc4eUMsZ0JBQWlCNVIsRUFBUTZSLGFBQzdEc0osRUFBZXI4QyxFQUFHczhDLGdCQVl0QixHQVhBdDhDLEVBQUd1OEMsYUFBYUYsRUFBY0gsR0FDOUJsOEMsRUFBR3U4QyxhQUFhRixFQUFjRCxHQUM5QnA4QyxFQUFHdzhDLFlBQVlILEdBQ1ZyOEMsRUFBR3k4QyxvQkFBb0JKLEVBQWNyOEMsRUFBRzA4QyxjQXRzRWpELFNBQXlCMThDLEVBQUlraEMsRUFBU3liLEVBQWNDLEdBRTNDNThDLEVBQUd5OEMsb0JBQW9CdmIsRUFBU2xoQyxFQUFHMDhDLGVBQy9CMThDLEVBQUdnekMsbUJBQW1CMkosRUFBYzM4QyxFQUFHaXpDLGlCQUN4Q3hGLEdBQXFCenRDLEVBQUkyOEMsR0FFeEIzOEMsRUFBR2d6QyxtQkFBbUI0SixFQUFnQjU4QyxFQUFHaXpDLGlCQUMxQ3hGLEdBQXFCenRDLEVBQUk0OEMsR0FFN0JycEQsUUFBUXZOLE1BQU0sOENBRXdCLEtBQWxDZ2EsRUFBRzY4QyxrQkFBa0IzYixJQUNyQjN0QyxRQUFRQyxLQUFLLHlDQUEwQ3dNLEVBQUc2OEMsa0JBQWtCM2IsSUFHeEYsQ0F3ckVRNGIsQ0FBZ0I5OEMsRUFBSXE4QyxFQUFjSCxFQUFjRSxHQUVwRGxiLEVBQVFDLGNBOURaLFNBQTBCRCxFQUFTbGhDLEdBRy9CLElBRkEsSUFBSXc3QixFQUFhLENBQUMsRUFDZHVoQixFQUFrQi84QyxFQUFHeThDLG9CQUFvQnZiLEVBQVNsaEMsRUFBR2c5QyxtQkFDaERya0UsRUFBSSxFQUFHQSxFQUFJb2tFLEVBQWlCcGtFLElBQUssQ0FDdEMsSUFBSXNrRSxFQUFhajlDLEVBQUdrOUMsZ0JBQWdCaGMsRUFBU3ZvRCxHQUM3QyxHQUF1QyxJQUFuQ3NrRSxFQUFXcjdELEtBQUs4SCxRQUFRLE9BQTVCLENBR0EsSUFBSXpELEVBQU84ckQsR0FBUS94QyxFQUFJaTlDLEVBQVdoM0QsTUFDOUJ4TyxFQUFPLENBQ1B3TyxLQUFNQSxFQUNOckUsS0FBTXE3RCxFQUFXcjdELEtBQ2pCOHBCLEtBQU13a0MsR0FBUWpxRCxHQUNkZ1IsU0FBVStJLEVBQUdtOUMsa0JBQWtCamMsRUFBUytiLEVBQVdyN0QsT0FFdkQ0NUMsRUFBV3loQixFQUFXcjdELE1BQVFuSyxDQVI5QixDQVNKLENBQ0EsT0FBTytqRCxDQUNYLENBNEM0QjRoQixDQUFpQmYsRUFBY3I4QyxHQUN2RGtoQyxFQUFReVosWUFwQ1osU0FBd0J6WixFQUFTbGhDLEdBRzdCLElBRkEsSUFBSTQ5QixFQUFXLENBQUMsRUFDWnlmLEVBQWdCcjlDLEVBQUd5OEMsb0JBQW9CdmIsRUFBU2xoQyxFQUFHczlDLGlCQUM5QzNrRSxFQUFJLEVBQUdBLEVBQUkwa0UsRUFBZTFrRSxJQUFLLENBQ3BDLElBQUlnaUUsRUFBYzM2QyxFQUFHdTlDLGlCQUFpQnJjLEVBQVN2b0QsR0FDM0NpSixFQUFPKzRELEVBQVkvNEQsS0FBSzJFLFFBQVEsV0FBWSxJQUM1Q3NELElBQWE4d0QsRUFBWS80RCxLQUFLc0wsTUFBTSxZQUNwQ2pILEVBQU84ckQsR0FBUS94QyxFQUFJMjZDLEVBQVkxMEQsTUFDbkMyM0MsRUFBU2g4QyxHQUFRLENBQ2JBLEtBQU1BLEVBQ05nRyxNQUFPalAsRUFDUHNOLEtBQU1BLEVBQ055bEIsS0FBTWl2QyxFQUFZanZDLEtBQ2xCN2hCLFFBQVNBLEVBQ1RwRCxNQUFPd3BCLEdBQWFocUIsRUFBTTAwRCxFQUFZanZDLE1BRTlDLENBQ0EsT0FBT2t5QixDQUNYLENBa0IwQjRmLENBQWVuQixFQUFjcjhDLElBSTlDLGlEQUFtRHBYLEtBQUtzNEMsRUFBUW1TLFdBQVksQ0FDN0UsSUFBSS91RCxFQUFPakUsT0FBT2lFLEtBQUs0OEMsRUFBUUMsZUFDL0I3OEMsRUFBS3BMLE1BQUssU0FBVXVDLEVBQUdDLEdBQUssT0FBUUQsRUFBSUMsRUFBSyxHQUFLLENBQUcsSUFDckQsSUFBSyxJQUFJL0MsRUFBSSxFQUFHQSxFQUFJMkwsRUFBS2xNLE9BQVFPLElBQzdCdW9ELEVBQVFDLGNBQWM3OEMsRUFBSzNMLElBQUlzZSxTQUFXdGUsRUFDMUNxbkIsRUFBR3k5QyxtQkFBbUJwQixFQUFjMWpFLEVBQUcyTCxFQUFLM0wsSUFFaERxbkIsRUFBR3c4QyxZQUFZSCxFQUNuQixDQUNBcjhDLEVBQUcwOUMsYUFBYXhCLEdBQ2hCbDhDLEVBQUcwOUMsYUFBYXRCLEdBQ2hCLElBQUl6QixFQUFjLENBQUMsRUFDbkIsSUFBSyxJQUFJaGlFLEtBQUt1b0QsRUFBUXlaLFlBQWEsQ0FDL0IsSUFBSWxqRSxFQUFPeXBELEVBQVF5WixZQUFZaGlFLEdBQy9CZ2lFLEVBQVloaUUsR0FBSyxDQUNic2UsU0FBVStJLEVBQUcyOUMsbUJBQW1CdEIsRUFBYzFqRSxHQUM5QzhOLE1BQU93cEIsR0FBYXg0QixFQUFLd08sS0FBTXhPLEVBQUtpMEIsTUFFNUMsQ0FFQSxPQURnQixJQUFJb3dDLEdBQVVPLEVBQWMxQixFQUVoRCxDQUVBLElBQUlpRCxHQUFNLEVBRU5DLEdBQWtCLENBQUVDLGFBQWMsRUFBR0MsU0FBVSxHQUsvQ0MsR0FBOEIsV0FFOUIsU0FBU0EsRUFBYXQ3QixHQUNsQnJqQyxLQUFLNnBDLFdBQVksRUFDakI3cEMsS0FBS3FqQyxTQUFXQSxFQUVoQnJqQyxLQUFLNCtELGNBQ0w1K0QsS0FBSzJnQixHQUFLLEtBQ1YzZ0IsS0FBSzRoRCxPQUFTLEtBQ2Q1aEQsS0FBSzZoRCxRQUFVLEtBQ2Y3aEQsS0FBSzYrRCxNQUFRLENBQUMsRUFDZDcrRCxLQUFLOCtELFVBQVksQ0FBQyxFQUNsQjkrRCxLQUFLNlEsR0FBSzB0RCxJQUNkLENBNkxBLE9BdkxBSSxFQUFhMTlELFVBQVUyOUQsWUFBYyxXQUNqQyxJQWh6RFIsV0FDSSxHQUEwQixrQkFBZi9MLEdBQ1AsT0FBT0EsR0FFWCxJQUVJLElBQUlrTSxFQUFPLElBQUl6dEQsU0FBUyxTQUFVLFNBQVUsU0FBVSxxQ0FFdER1aEQsSUFBNEMsSUFBL0JrTSxFQUFLLENBQUUzaUUsRUFBRyxLQUFPLElBQUssSUFJdkMsQ0FGQSxNQUFPYixHQUNIczNELElBQWEsQ0FDakIsQ0FDQSxPQUFPQSxFQUNYLENBa3lEYW1NLEdBQ0QsTUFBTSxJQUFJeHlDLE1BQU0seUdBR3hCLEVBQ0FteUMsRUFBYTE5RCxVQUFVaWpELGNBQWdCLFNBQVV2akMsR0FDN0MzZ0IsS0FBSzJnQixHQUFLQSxFQUNWM2dCLEtBQUtrakQsT0FDVCxFQU9BeWIsRUFBYTE5RCxVQUFVaXBDLEtBQU8sU0FBVTBYLEVBQVFxZCxHQUM1Q3JkLEVBQU8xTCxjQUFjcGMsSUFBSTk1QixNQUN6QjRoRCxFQUFPckQsU0FBUzhiLFFBQVVyNkQsS0FBS3FqQyxTQUFTdWMsZUFDeEMsSUFBSWlDLEVBQVVELEVBQU9DLFFBQ2pCcWQsRUFBWXJkLEVBQVFxSyxXQUFXbHNELEtBQUtxakMsU0FBUzhnQixjQUFnQm5rRCxLQUFLbXNELGdCQUFnQnZLLEdBWXRGLE9BWEE1aEQsS0FBSzRoRCxPQUFTQSxFQUVWNWhELEtBQUs2aEQsVUFBWUEsSUFDakI3aEQsS0FBSzZoRCxRQUFVQSxFQUNmN2hELEtBQUsyZ0IsR0FBR2tsQyxXQUFXcVosRUFBVXJkLFVBRTVCb2QsSUFDRFQsR0FBZ0JDLGFBQWUsRUFDL0JELEdBQWdCRSxTQUFXLEVBQzNCMStELEtBQUtvNkQsaUJBQWlCeFksRUFBTzZTLGFBQWMrSixLQUV4Q1UsQ0FDWCxFQUtBUCxFQUFhMTlELFVBQVVrK0QsWUFBYyxTQUFVNWdCLEdBQzNDLElBQUlxRCxFQUFTNWhELEtBQUs0aEQsT0FBT0MsUUFDckJxZCxFQUFZdGQsRUFBT3NLLFdBQVdsc0QsS0FBS3FqQyxTQUFTOGdCLGFBQ2hEdkMsRUFBT2pELGFBQWF1Z0IsRUFBVTVELFlBQWEvYyxFQUFVditDLEtBQUtxakMsU0FDOUQsRUFPQXM3QixFQUFhMTlELFVBQVVtNUQsaUJBQW1CLFNBQVUxYixFQUFPMGdCLEdBQ3ZELElBQUlGLEVBQVlsL0QsS0FBS3EvRCxlQUNoQjNnQixFQUFNL0MsUUFBVStDLEVBQU05UixVQUFZc3lCLEVBQVV2QyxtQkFBbUJqZSxFQUFNN3RDLE1BQ3RFcXVELEVBQVV2QyxtQkFBbUJqZSxFQUFNN3RDLElBQU02dEMsRUFBTTlSLFFBQy9DNXNDLEtBQUsyK0MsYUFBYUQsRUFBT3dnQixFQUFXRSxHQUU1QyxFQU9BVCxFQUFhMTlELFVBQVUwOUMsYUFBZSxTQUFVRCxFQUFPd2dCLEVBQVdFLElBQy9DMWdCLEVBQU1DLGFBQWEzK0MsS0FBSzRoRCxPQUFPQyxRQUFRaHhDLEtBQU83USxLQUFLcy9ELGlCQUFpQjVnQixJQUMxRXdnQixFQUFVNUQsWUFBYTVjLEVBQU1ILFNBQVV2K0MsS0FBS3FqQyxTQUFVKzdCLEVBQ25FLEVBQ0FULEVBQWExOUQsVUFBVXErRCxpQkFBbUIsU0FBVTVnQixHQUNoRCxJQUFJN3RDLEVBQUs3USxLQUFLK3JELGFBQWFyTixFQUFPMStDLEtBQUs0aEQsT0FBT0MsUUFBUXlaLFlBQWEsS0FLbkUsT0FKS3Q3RCxLQUFLNitELE1BQU1odUQsS0FDWjdRLEtBQUs2K0QsTUFBTWh1RCxHQTc4RHZCLFNBQThCNnRDLEVBQU80YyxHQUNqQyxJQUFJNWpELEVBQ0Fza0QsRUFBZ0IsQ0FBQyxvSUFDckIsSUFBSyxJQUFJMWlFLEtBQUtvbEQsRUFBTUgsU0FBVSxDQUMxQixJQUFJbm1ELEVBQU9rakUsRUFBWWhpRSxHQUN2QixHQUFLbEIsRUFBTCxDQWFBLElBRkEsSUFBSTI2RCxFQUFVclUsRUFBTUgsU0FBU2psRCxHQUN6QjJpRSxHQUFTLEVBQ0ovN0QsRUFBSSxFQUFHQSxFQUFJNHlELEdBQWUvNUQsT0FBUW1ILElBQ3ZDLEdBQUk0eUQsR0FBZTV5RCxHQUFHcUosS0FBS25SLEVBQU0yNkQsR0FBVSxDQUN2Q2lKLEVBQWNyaUUsS0FBS201RCxHQUFlNXlELEdBQUdxZSxLQUFLamxCLEVBQUd5NUQsSUFDN0NrSixHQUFTLEVBQ1QsS0FDSixDQUVKLElBQUtBLEVBQVEsQ0FDVCxJQUNJTSxHQUQ2QixJQUFkbmtFLEVBQUtpMEIsTUFBZWowQixFQUFLb1MsUUFBMEM0b0QsR0FBaENILElBQzFCNzZELEVBQUt3TyxNQUFNTSxRQUFRLFdBQVksT0FBVTVOLEVBQUksZUFDekUwaUUsRUFBY3JpRSxLQUFLLDBCQUE2QkwsRUFBSSx3REFBNERBLEVBQUksb0JBQXVCaWpFLEVBQVcsSUFDMUosQ0FkQSxNQVRxQyxRQUE1QjdrRCxFQUFLZ25DLEVBQU1ILFNBQVNqbEQsVUFBdUIsSUFBUG9lLE9BQWdCLEVBQVNBLEVBQUdnbkMsU0FDN0RBLEVBQU1ILFNBQVNqbEQsR0FBR3NsRCxJQUNsQm9kLEVBQWNyaUUsS0FBSyx1RUFBeUVMLEVBQUksTUFBUUEsRUFBSSw2QkFHNUcwaUUsRUFBY3JpRSxLQUFLLGlFQUFtRUwsRUFBSSxzQ0FtQjFHLENBUUEsT0FBTyxJQUFJZ1ksU0FBUyxLQUFNLEtBQU0sV0FBWSxXQUFZMHFELEVBQWNwM0QsS0FBSyxNQUMvRSxDQXM2RDZCMjZELENBQXFCN2dCLEVBQU8xK0MsS0FBSzRoRCxPQUFPQyxRQUFReVosY0FFckU1YyxFQUFNQyxhQUFhMytDLEtBQUs0aEQsT0FBT0MsUUFBUWh4QyxJQUFNN1EsS0FBSzYrRCxNQUFNaHVELEdBQ2pENnRDLEVBQU1DLGFBQWEzK0MsS0FBSzRoRCxPQUFPQyxRQUFRaHhDLEdBQ2xELEVBTUE4dEQsRUFBYTE5RCxVQUFVdStELHVCQUF5QixTQUFVOWdCLEVBQU9uOEMsR0FDN0QsSUFBSTI4RCxFQUFZbC9ELEtBQUtxL0QsZUFDckIsSUFBSzNnQixFQUFNL0MsUUFBNEIsSUFBbEIrQyxFQUFNOVIsVUFBa0JzeUIsRUFBVXhDLGNBQWNoZSxFQUFNN3RDLElBQUssQ0FDNUU2dEMsRUFBTTlSLFFBQVUsRUFDaEIsSUFBSW12QixFQUFXbUQsRUFBVXhDLGNBQWNoZSxFQUFNN3RDLEtBQ3RDN1EsS0FBS3kvRCxzQkFBc0IvZ0IsRUFBT3dnQixFQUFXMzhELEdBRXBEbThDLEVBQU16eEIsT0FBTzRhLFNBQ2JrMEIsRUFBU21ELEVBQVU1RCxZQUFhNWMsRUFBTUgsU0FBVXYrQyxLQUFLcWpDLFNBQVVtN0IsR0FBaUI5ZixFQUFNenhCLE9BQzFGLENBQ0FqdEIsS0FBS3FqQyxTQUFTcFcsT0FBT3l5QyxlQUFlaGhCLEVBQU16eEIsT0FBUWl5QyxFQUFVdEMsc0JBQXNCcjZELEdBQ3RGLEVBU0FvOEQsRUFBYTE5RCxVQUFVdytELHNCQUF3QixTQUFVL2dCLEVBQU93Z0IsRUFBVzM4RCxHQUN2RSxJQUFJb2UsRUFBSzNnQixLQUFLcWpDLFNBQVMxaUIsR0FDdkIzZ0IsS0FBS3FqQyxTQUFTcFcsT0FBT2lkLEtBQUt3VSxFQUFNenhCLFFBRWhDLElBQUkweUMsRUFBb0IzL0QsS0FBSzJnQixHQUFHaS9DLHFCQUFxQlYsRUFBVXJkLFFBQVN0L0MsR0FDeEUyOEQsRUFBVXRDLHNCQUFzQnI2RCxHQUFRdkMsS0FBSzRoRCxPQUFPNFMsaUJBQ3BEN3pDLEVBQUdrL0Msb0JBQW9CWCxFQUFVcmQsUUFBUzhkLEVBQW1CMy9ELEtBQUs0aEQsT0FBTzRTLGtCQUN6RXgwRCxLQUFLNGhELE9BQU80UyxtQkFDWixJQUFJM2pELEVBQUs3USxLQUFLK3JELGFBQWFyTixFQUFPMStDLEtBQUs0aEQsT0FBT0MsUUFBUXlaLFlBQWEsT0FDL0R3RSxFQUFVOS9ELEtBQUs4K0QsVUFBVWp1RCxHQUk3QixHQUhLaXZELElBQ0RBLEVBQVU5L0QsS0FBSzgrRCxVQUFVanVELEdBQU1pckQsR0FBMEJwZCxFQUFPMStDLEtBQUs0aEQsT0FBT0MsUUFBUXlaLGNBRXBGNWMsRUFBTUksV0FBWSxDQUNsQixJQUFJMW1ELEVBQU8sSUFBSXFlLGFBQWFxcEQsRUFBUXp6QyxLQUFPLEdBQzNDcXlCLEVBQU16eEIsT0FBTzRhLE9BQU96dkMsRUFDeEIsQ0FFQSxPQURBOG1FLEVBQVV4QyxjQUFjaGUsRUFBTTd0QyxJQUFNaXZELEVBQVEvRCxTQUNyQ21ELEVBQVV4QyxjQUFjaGUsRUFBTTd0QyxHQUN6QyxFQVNBOHRELEVBQWExOUQsVUFBVThxRCxhQUFlLFNBQVVyTixFQUFPNGMsRUFBYXlFLEdBQ2hFLElBQUl4aEIsRUFBV0csRUFBTUgsU0FDakIwTixFQUFVLENBQUM4VCxFQUFTLEtBQ3hCLElBQUssSUFBSXptRSxLQUFLaWxELEVBQ1YwTixFQUFRdHlELEtBQUtMLEdBQ1RnaUUsRUFBWWhpRSxJQUNaMnlELEVBQVF0eUQsS0FBSzJoRSxFQUFZaGlFLEdBQUdzTixNQUdwQyxPQUFPcWxELEVBQVFybkQsS0FBSyxJQUN4QixFQU9BKzVELEVBQWExOUQsVUFBVW8rRCxhQUFlLFdBQ2xDLE9BQUlyL0QsS0FBSzRoRCxPQUNFNWhELEtBQUs0aEQsT0FBT0MsUUFBUXFLLFdBQVdsc0QsS0FBS3FqQyxTQUFTOGdCLGFBRWpELElBQ1gsRUFNQXdhLEVBQWExOUQsVUFBVWtyRCxnQkFBa0IsU0FBVXZLLEdBQy9DLElBQUlqaEMsRUFBSzNnQixLQUFLMmdCLEdBQ1ZraEMsRUFBVUQsRUFBT0MsUUFDakJxZCxFQUFZL1MsR0FBZ0J4ckMsRUFBSWtoQyxHQUVwQyxPQURBQSxFQUFRcUssV0FBV2xzRCxLQUFLcWpDLFNBQVM4Z0IsYUFBZSthLEVBQ3pDQSxDQUNYLEVBRUFQLEVBQWExOUQsVUFBVWlpRCxNQUFRLFdBQzNCbGpELEtBQUs2aEQsUUFBVSxLQUNmN2hELEtBQUs0aEQsT0FBUyxJQUNsQixFQU1BK2MsRUFBYTE5RCxVQUFVKytELGNBQWdCLFNBQVVwZSxHQUN6QzVoRCxLQUFLNGhELFNBQVdBLElBQ2hCNWhELEtBQUs0aEQsT0FBUyxLQUV0QixFQUVBK2MsRUFBYTE5RCxVQUFVc3RCLFFBQVUsV0FDN0J2dUIsS0FBS3FqQyxTQUFXLEtBRWhCcmpDLEtBQUs2cEMsV0FBWSxDQUNyQixFQUNPODBCLENBQ1gsQ0EzTWlDLEdBd1E3QnNCLEdBQTZCLFdBQzdCLFNBQVNBLElBQ0xqZ0UsS0FBSzJnQixHQUFLLEtBQ1YzZ0IsS0FBS3VoRCxRQUFVLEVBQ2Z2aEQsS0FBSzQwRCxjQUFnQixFQUNyQjUwRCxLQUFLeXJCLFVBQVk1VyxFQUFZb0csS0FDN0JqYixLQUFLa2dFLFVBQVcsRUFFaEJsZ0UsS0FBSzJFLElBQU0sR0FDWDNFLEtBQUsyRSxJQW5CRCxHQW1CYzNFLEtBQUttZ0UsU0FDdkJuZ0UsS0FBSzJFLElBbkJBLEdBbUJjM0UsS0FBS29nRSxVQUN4QnBnRSxLQUFLMkUsSUFuQkMsR0FtQmMzRSxLQUFLcWdFLFlBQ3pCcmdFLEtBQUsyRSxJQW5CSSxHQW1CYzNFLEtBQUtzZ0UsYUFDNUJ0Z0UsS0FBSzJFLElBbkJDLEdBbUJjM0UsS0FBS3VnRSxhQUN6QnZnRSxLQUFLMkUsSUFuQkksR0FtQmMzRSxLQUFLd2dFLGFBQzVCeGdFLEtBQUt5Z0UsT0FBUyxHQUNkemdFLEtBQUswZ0UsYUFBZSxJQUFJL0wsR0FDeEIzMEQsS0FBSzBnRSxhQUFhN0wsT0FBUSxDQUM5QixDQWdMQSxPQS9LQW9MLEVBQVloL0QsVUFBVWlqRCxjQUFnQixTQUFVdmpDLEdBQzVDM2dCLEtBQUsyZ0IsR0FBS0EsRUFDVjNnQixLQUFLMmdFLFdBdkViLFNBQWtDaGdELEVBQUk3WixHQXFDbEMsWUFwQ2MsSUFBVkEsSUFBb0JBLEVBQVEsSUFHaENBLEVBQU0rTixFQUFZcVcsUUFBVSxDQUFDdkssRUFBR2lnRCxJQUFLamdELEVBQUdrZ0QscUJBQ3hDLzVELEVBQU0rTixFQUFZdVcsS0FBTyxDQUFDekssRUFBR2lnRCxJQUFLamdELEVBQUdpZ0QsS0FDckM5NUQsRUFBTStOLEVBQVlpc0QsVUFBWSxDQUFDbmdELEVBQUdvZ0QsVUFBV3BnRCxFQUFHa2dELG9CQUFxQmxnRCxFQUFHaWdELElBQUtqZ0QsRUFBR2tnRCxxQkFDaEYvNUQsRUFBTStOLEVBQVl5VyxRQUFVLENBQUMzSyxFQUFHaWdELElBQUtqZ0QsRUFBR3FnRCxvQkFBcUJyZ0QsRUFBR2lnRCxJQUFLamdELEVBQUdrZ0QscUJBQ3hFLzVELEVBQU0rTixFQUFZb3NELFNBQVcsQ0FBQ3RnRCxFQUFHaWdELElBQUtqZ0QsRUFBR2tnRCxxQkFDekMvNUQsRUFBTStOLEVBQVlxc0QsUUFBVSxDQUFDdmdELEVBQUdpZ0QsSUFBS2pnRCxFQUFHa2dELHFCQUN4Qy81RCxFQUFNK04sRUFBWXNzRCxTQUFXLENBQUN4Z0QsRUFBR2lnRCxJQUFLamdELEVBQUdrZ0QscUJBQ3pDLzVELEVBQU0rTixFQUFZdXNELGFBQWUsQ0FBQ3pnRCxFQUFHaWdELElBQUtqZ0QsRUFBR2tnRCxxQkFDN0MvNUQsRUFBTStOLEVBQVl3c0QsWUFBYyxDQUFDMWdELEVBQUdpZ0QsSUFBS2pnRCxFQUFHa2dELHFCQUM1Qy81RCxFQUFNK04sRUFBWXlzRCxZQUFjLENBQUMzZ0QsRUFBR2lnRCxJQUFLamdELEVBQUdrZ0QscUJBQzVDLzVELEVBQU0rTixFQUFZMHNELFlBQWMsQ0FBQzVnRCxFQUFHaWdELElBQUtqZ0QsRUFBR2tnRCxxQkFDNUMvNUQsRUFBTStOLEVBQVkyc0QsWUFBYyxDQUFDN2dELEVBQUdpZ0QsSUFBS2pnRCxFQUFHa2dELHFCQUM1Qy81RCxFQUFNK04sRUFBWTRzRCxXQUFhLENBQUM5Z0QsRUFBR2lnRCxJQUFLamdELEVBQUdrZ0QscUJBQzNDLzVELEVBQU0rTixFQUFZNnNELEtBQU8sQ0FBQy9nRCxFQUFHaWdELElBQUtqZ0QsRUFBR2tnRCxxQkFDckMvNUQsRUFBTStOLEVBQVk4c0QsWUFBYyxDQUFDaGhELEVBQUdpZ0QsSUFBS2pnRCxFQUFHa2dELHFCQUM1Qy81RCxFQUFNK04sRUFBWXF6QyxPQUFTLENBQUN2bkMsRUFBR2lnRCxJQUFLamdELEVBQUdrZ0QscUJBQ3ZDLzVELEVBQU0rTixFQUFZK3NELFlBQWMsQ0FBQ2poRCxFQUFHaWdELElBQUtqZ0QsRUFBR2tnRCxxQkFDNUMvNUQsRUFBTStOLEVBQVlvRyxNQUFRLENBQUMsRUFBRyxHQUU5Qm5VLEVBQU0rTixFQUFZb1csWUFBYyxDQUFDdEssRUFBR2toRCxVQUFXbGhELEVBQUdrZ0Qsb0JBQXFCbGdELEVBQUdpZ0QsSUFBS2pnRCxFQUFHa2dELHFCQUNsRi81RCxFQUFNK04sRUFBWXNXLFNBQVcsQ0FBQ3hLLEVBQUdraEQsVUFBV2xoRCxFQUFHaWdELElBQUtqZ0QsRUFBR2lnRCxJQUFLamdELEVBQUdpZ0QsS0FDL0Q5NUQsRUFBTStOLEVBQVl3VyxZQUFjLENBQUMxSyxFQUFHa2hELFVBQVdsaEQsRUFBR3FnRCxvQkFBcUJyZ0QsRUFBR2lnRCxJQUFLamdELEVBQUdrZ0QscUJBRWxGLzVELEVBQU0rTixFQUFZaXRELFFBQVUsQ0FBQ25oRCxFQUFHb2hELFVBQVdwaEQsRUFBR3FoRCxNQUM5Q2w3RCxFQUFNK04sRUFBWW90RCxTQUFXLENBQUN0aEQsRUFBR3VoRCxvQkFBcUJ2aEQsRUFBR3FoRCxNQUN6RGw3RCxFQUFNK04sRUFBWXN0RCxVQUFZLENBQUN4aEQsRUFBR29oRCxVQUFXcGhELEVBQUdrZ0QscUJBQ2hELzVELEVBQU0rTixFQUFZdXRELFVBQVksQ0FBQ3poRCxFQUFHdWhELG9CQUFxQnZoRCxFQUFHaWdELEtBQzFEOTVELEVBQU0rTixFQUFZd3RELFFBQVUsQ0FBQzFoRCxFQUFHcWhELEtBQU1yaEQsRUFBR2toRCxXQUN6Qy82RCxFQUFNK04sRUFBWXl0RCxTQUFXLENBQUMzaEQsRUFBR3FoRCxLQUFNcmhELEVBQUdrZ0QscUJBQzFDLzVELEVBQU0rTixFQUFZMHRELFVBQVksQ0FBQzVoRCxFQUFHdWhELG9CQUFxQnZoRCxFQUFHa2hELFdBQzFELzZELEVBQU0rTixFQUFZMnRELEtBQU8sQ0FBQzdoRCxFQUFHdWhELG9CQUFxQnZoRCxFQUFHa2dELHFCQUVyRC81RCxFQUFNK04sRUFBWTR0RCxVQUFZLENBQUM5aEQsRUFBR2lnRCxJQUFLamdELEVBQUdpZ0QsSUFBS2pnRCxFQUFHaWdELElBQUtqZ0QsRUFBR2lnRCxJQUFLamdELEVBQUcraEQsc0JBQXVCL2hELEVBQUdnaUQsVUFDckY3N0QsQ0FDWCxDQWlDMEI4N0QsQ0FBeUJqaUQsR0FDM0MzZ0IsS0FBS2t2QixJQUFJbHZCLEtBQUswZ0UsY0FDZDFnRSxLQUFLa2pELE9BQ1QsRUFLQStjLEVBQVloL0QsVUFBVWl1QixJQUFNLFNBQVVreEIsR0FHbEMsR0FGQUEsRUFBUUEsR0FBU3BnRCxLQUFLMGdFLGFBRWxCMWdFLEtBQUt1aEQsVUFBWW5CLEVBQU1ob0QsS0FBTSxDQUk3QixJQUhBLElBQUl5cUUsRUFBTzdpRSxLQUFLdWhELFFBQVVuQixFQUFNaG9ELEtBQzVCa0IsRUFBSSxFQUVEdXBFLEdBQ1EsRUFBUEEsR0FFQTdpRSxLQUFLMkUsSUFBSXJMLEdBQUdtSixLQUFLekMsUUFBU29nRCxFQUFNaG9ELEtBQVEsR0FBS2tCLElBRWpEdXBFLElBQWUsRUFDZnZwRSxJQUVKMEcsS0FBS3VoRCxRQUFVbkIsRUFBTWhvRCxJQUN6QixDQUlBLElBQVNrQixFQUFJLEVBQUdBLEVBQUkwRyxLQUFLeWdFLE9BQU8xbkUsT0FBUU8sSUFDcEMwRyxLQUFLeWdFLE9BQU9ubkUsR0FBRzBHLEtBQU1vZ0QsRUFFN0IsRUFLQTZmLEVBQVloL0QsVUFBVTZoRSxXQUFhLFNBQVUxaUIsR0FDekNBLEVBQVFBLEdBQVNwZ0QsS0FBSzBnRSxhQUN0QixJQUFLLElBQUlwbkUsRUFBSSxFQUFHQSxFQUFJMEcsS0FBSzJFLElBQUk1TCxPQUFRTyxJQUNqQzBHLEtBQUsyRSxJQUFJckwsR0FBR21KLEtBQUt6QyxRQUFTb2dELEVBQU1ob0QsS0FBUSxHQUFLa0IsSUFFakQsSUFBU0EsRUFBSSxFQUFHQSxFQUFJMEcsS0FBS3lnRSxPQUFPMW5FLE9BQVFPLElBQ3BDMEcsS0FBS3lnRSxPQUFPbm5FLEdBQUcwRyxLQUFNb2dELEdBRXpCcGdELEtBQUt1aEQsUUFBVW5CLEVBQU1ob0QsSUFDekIsRUFLQTZuRSxFQUFZaC9ELFVBQVVrL0QsU0FBVyxTQUFVLzRELEdBQ3ZDcEgsS0FBSytpRSxZQUFZOUMsRUFBWStDLGVBQWdCNTdELEdBQzdDcEgsS0FBSzJnQixHQUFHdlosRUFBUSxTQUFXLFdBQVdwSCxLQUFLMmdCLEdBQUdvZ0MsTUFDbEQsRUFLQWtmLEVBQVloL0QsVUFBVW0vRCxVQUFZLFNBQVVoNUQsR0FDeENwSCxLQUFLK2lFLFlBQVk5QyxFQUFZZ0QsbUJBQW9CNzdELEdBQ2pEcEgsS0FBSzJnQixHQUFHdlosRUFBUSxTQUFXLFdBQVdwSCxLQUFLMmdCLEdBQUd1aUQsb0JBQ2xELEVBS0FqRCxFQUFZaC9ELFVBQVVxL0QsYUFBZSxTQUFVbDVELEdBQzNDcEgsS0FBSzJnQixHQUFHdlosRUFBUSxTQUFXLFdBQVdwSCxLQUFLMmdCLEdBQUd3aUQsV0FDbEQsRUFLQWxELEVBQVloL0QsVUFBVXUvRCxhQUFlLFNBQVVwNUQsR0FDM0NwSCxLQUFLMmdCLEdBQUdtMEMsVUFBVTF0RCxFQUN0QixFQUtBNjRELEVBQVloL0QsVUFBVW8vRCxZQUFjLFNBQVVqNUQsR0FDMUNwSCxLQUFLMmdCLEdBQUd2WixFQUFRLFNBQVcsV0FBV3BILEtBQUsyZ0IsR0FBR3lpRCxVQUNsRCxFQUtBbkQsRUFBWWgvRCxVQUFVcy9ELGFBQWUsU0FBVW41RCxHQUMzQ3BILEtBQUsyZ0IsR0FBRzBpRCxVQUFVcmpFLEtBQUsyZ0IsR0FBR3ZaLEVBQVEsS0FBTyxPQUM3QyxFQUtBNjRELEVBQVloL0QsVUFBVXFpRSxhQUFlLFNBQVVsOEQsR0FDM0MsR0FBSUEsSUFBVXBILEtBQUt5ckIsVUFBbkIsQ0FHQXpyQixLQUFLeXJCLFVBQVlya0IsRUFDakIsSUFBSXVxQyxFQUFPM3hDLEtBQUsyZ0UsV0FBV3Y1RCxHQUN2QnVaLEVBQUszZ0IsS0FBSzJnQixHQUNNLElBQWhCZ3hCLEVBQUs1NEMsT0FDTDRuQixFQUFHNGlELFVBQVU1eEIsRUFBSyxHQUFJQSxFQUFLLElBRzNCaHhCLEVBQUc2aUQsa0JBQWtCN3hCLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssSUFFckMsSUFBaEJBLEVBQUs1NEMsUUFDTGlILEtBQUtrZ0UsVUFBVyxFQUNoQnYvQyxFQUFHOGlELHNCQUFzQjl4QixFQUFLLEdBQUlBLEVBQUssS0FFbEMzeEMsS0FBS2tnRSxXQUNWbGdFLEtBQUtrZ0UsVUFBVyxFQUNoQnYvQyxFQUFHOGlELHNCQUFzQjlpRCxFQUFHZ2lELFNBQVVoaUQsRUFBR2dpRCxVQWhCN0MsQ0FrQkosRUFNQTFDLEVBQVloL0QsVUFBVXlpRSxpQkFBbUIsU0FBVXQ4RCxFQUFPOHVCLEdBQ3REbDJCLEtBQUsyZ0IsR0FBR2kwQyxjQUFjeHRELEVBQU84dUIsRUFDakMsRUFHQStwQyxFQUFZaC9ELFVBQVVpaUQsTUFBUSxXQUMxQmxqRCxLQUFLMmdCLEdBQUdvcUIsWUFBWS9xQyxLQUFLMmdCLEdBQUdnakQscUJBQXFCLEdBQ2pEM2pFLEtBQUs4aUUsV0FBVzlpRSxLQUFLMGdFLGNBQ3JCMWdFLEtBQUtrZ0UsVUFBVyxFQUNoQmxnRSxLQUFLeXJCLFdBQWEsRUFDbEJ6ckIsS0FBS3NqRSxhQUFhLEVBQ3RCLEVBVUFyRCxFQUFZaC9ELFVBQVU4aEUsWUFBYyxTQUFVaEUsRUFBTTMzRCxHQUNoRCxJQUFJbUIsRUFBUXZJLEtBQUt5Z0UsT0FBT3AyRCxRQUFRMDBELEdBQzVCMzNELElBQW9CLElBQVhtQixFQUNUdkksS0FBS3lnRSxPQUFPOW1FLEtBQUtvbEUsR0FFWDMzRCxJQUFvQixJQUFYbUIsR0FDZnZJLEtBQUt5Z0UsT0FBT3ozRCxPQUFPVCxFQUFPLEVBRWxDLEVBTUEwM0QsRUFBWStDLGVBQWlCLFNBQVVuNkIsRUFBUXVYLEdBQzNDdlgsRUFBT3k2QixhQUFhbGpCLEVBQU0zMEIsVUFDOUIsRUFNQXcwQyxFQUFZZ0QsbUJBQXFCLFNBQVVwNkIsRUFBUXVYLEdBQy9DdlgsRUFBTzY2QixpQkFBaUIsRUFBR3RqQixFQUFNd1UsY0FDckMsRUFJQXFMLEVBQVloL0QsVUFBVXN0QixRQUFVLFdBQzVCdnVCLEtBQUsyZ0IsR0FBSyxJQUNkLEVBQ09zL0MsQ0FDWCxDQW5NZ0MsR0EwTTVCMkQsR0FBaUMsV0FFakMsU0FBU0EsRUFBZ0J2Z0MsR0FDckJyakMsS0FBS3FqQyxTQUFXQSxFQUNoQnJqQyxLQUFLb29DLE1BQVEsRUFDYnBvQyxLQUFLNmpFLFdBQWEsRUFDbEI3akUsS0FBSzhqRSxRQUFVcnBELEdBQVMwQixZQUN4Qm5jLEtBQUsrakUsY0FBZ0J0cEQsR0FBUzJCLG1CQUM5QnBjLEtBQUsyeEMsS0FBT2wzQixHQUFTd0IsT0FDekIsQ0FnRUEsT0EzREEybkQsRUFBZ0IzaUUsVUFBVTZrRCxXQUFhLFdBQzlCOWxELEtBQUtxakMsU0FBUzBpQixvQkFHbkIvbEQsS0FBS29vQyxRQUNEcG9DLEtBQUsyeEMsT0FBU244QixFQUFTd3VELFNBRzNCaGtFLEtBQUs2akUsYUFDRDdqRSxLQUFLNmpFLFdBQWE3akUsS0FBSytqRSxnQkFDdkIvakUsS0FBSzZqRSxXQUFhLEVBQ2xCN2pFLEtBQUtzbUMsUUFFYixFQUtBczlCLEVBQWdCM2lFLFVBQVVxbEMsSUFBTSxXQUk1QixJQUhBLElBQUkyOUIsRUFBS2prRSxLQUFLcWpDLFNBQVM2TCxRQUNuQmcxQixFQUFrQkQsRUFBR0MsZ0JBQ3JCQyxHQUFhLEVBQ1I3cUUsRUFBSSxFQUFHQSxFQUFJNHFFLEVBQWdCbnJFLE9BQVFPLElBQUssQ0FDN0MsSUFBSTQxQyxFQUFVZzFCLEVBQWdCNXFFLElBRXpCNDFDLEVBQVE0SCxhQUFlOTJDLEtBQUtvb0MsTUFBUThHLEVBQVExQyxRQUFVeHNDLEtBQUs4akUsVUFDNURHLEVBQUdHLGVBQWVsMUIsR0FBUyxHQUMzQmcxQixFQUFnQjVxRSxHQUFLLEtBQ3JCNnFFLEdBQWEsRUFFckIsQ0FDQSxHQUFJQSxFQUFZLENBQ1osSUFBSWprRSxFQUFJLEVBQ1IsSUFBUzVHLEVBQUksRUFBR0EsRUFBSTRxRSxFQUFnQm5yRSxPQUFRTyxJQUNiLE9BQXZCNHFFLEVBQWdCNXFFLEtBQ2hCNHFFLEVBQWdCaGtFLEtBQU9na0UsRUFBZ0I1cUUsSUFHL0M0cUUsRUFBZ0JuckUsT0FBU21ILENBQzdCLENBQ0osRUFLQTBqRSxFQUFnQjNpRSxVQUFVb2pFLE9BQVMsU0FBVUMsR0FDekMsSUFBSUwsRUFBS2prRSxLQUFLcWpDLFNBQVM2TCxRQUNuQkEsRUFBVW8xQixFQUFjaGlCLFNBRXhCcFQsSUFBWUEsRUFBUTRILGFBQ3BCbXRCLEVBQUdHLGVBQWVsMUIsR0FFdEIsSUFBSyxJQUFJNTFDLEVBQUlnckUsRUFBYzN5RCxTQUFTNVksT0FBUyxFQUFHTyxHQUFLLEVBQUdBLElBQ3BEMEcsS0FBS3FrRSxPQUFPQyxFQUFjM3lELFNBQVNyWSxHQUUzQyxFQUNBc3FFLEVBQWdCM2lFLFVBQVVzdEIsUUFBVSxXQUNoQ3Z1QixLQUFLcWpDLFNBQVcsSUFDcEIsRUFDT3VnQyxDQUNYLENBMUVvQyxHQTZNaENXLEdBQ0EsU0FBbUJyMUIsR0FDZmx2QyxLQUFLa3ZDLFFBQVVBLEVBQ2ZsdkMsS0FBS2dYLE9BQVMsRUFDZGhYLEtBQUtpWCxRQUFVLEVBQ2ZqWCxLQUFLNHNDLFNBQVcsRUFDaEI1c0MsS0FBSzZzQyxjQUFnQixFQUNyQjdzQyxLQUFLK3JDLFFBQVMsRUFDZC9yQyxLQUFLaXNDLFNBQVcsTUFDaEJqc0MsS0FBSzRHLEtBQU9xTyxFQUFNcTNCLGNBQ2xCdHNDLEtBQUt1ckMsZUFBaUJ4MkIsRUFBUTQyQixLQUM5QjNyQyxLQUFLd2tFLFlBQWMsQ0FDdkIsRUFRQUMsR0FBK0IsV0FJL0IsU0FBU0EsRUFBY3BoQyxHQUNuQnJqQyxLQUFLcWpDLFNBQVdBLEVBRWhCcmpDLEtBQUtxakQsY0FBZ0IsR0FDckJyakQsS0FBSzBrRSxpQkFBbUIsRUFDeEIxa0UsS0FBS2trRSxnQkFBa0IsR0FDdkJsa0UsS0FBSzJrRSx1QkFBd0IsRUFDN0Iza0UsS0FBSzRrRSxlQUFpQixJQUFJLzRCLEdBQzFCN3JDLEtBQUs2a0Usb0JBQXFCLENBQzlCLENBaVJBLE9BL1FBSixFQUFjeGpFLFVBQVVpakQsY0FBZ0IsV0FDcEMsSUFBSXZqQyxFQUFLM2dCLEtBQUsyZ0IsR0FBSzNnQixLQUFLcWpDLFNBQVMxaUIsR0FDakMzZ0IsS0FBS21rRCxZQUFjbmtELEtBQUtxakMsU0FBUzhnQixZQUNqQ25rRCxLQUFLNGpELGFBQWU1akQsS0FBS3FqQyxTQUFTOWhDLFFBQVFxaUQsYUFDMUM1akQsS0FBSzhrRSxnQkFoS2IsU0FBMENua0QsR0FDdEMsSUFBSWpKLEVBQUl5dEIsRUFBSTQvQixFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJM3dDLEVBQ3BGNHdDLEVBZ0hKLE1BL0dJLDJCQUE0QjcwRCxZQUFjc1AsYUFBY3RQLFdBQVc0MEMseUJBQzFEdnVDLEVBQUssQ0FBQyxHQUNSekMsRUFBTXEzQixpQkFBa0JuSCxFQUFLLENBQUMsR0FDMUJwd0IsRUFBUTQyQixNQUFRaHJCLEVBQUc0bUMsTUFDdEJwaUIsRUFBR3B3QixFQUFRb3hELEtBQU94bEQsRUFBR3lsRCxLQUNyQmpoQyxFQUFHcHdCLEVBQVFzeEQsSUFBTTFsRCxFQUFHMmxELElBQ3BCbmhDLEVBQUdwd0IsRUFBUXd4RCxLQUFPNWxELEVBQUc2bEQsR0FDckJyaEMsRUFBR3B3QixFQUFRMHhELGNBQWdCOWxELEVBQUcrbEQsUUFDOUJ2aEMsRUFBR3B3QixFQUFRNHhELGFBQWVobUQsRUFBR2ltRCxPQUM3QnpoQyxFQUFHcHdCLEVBQVE4eEQsWUFBY2xtRCxFQUFHbW1ELE1BQzVCM2hDLEVBQUdwd0IsRUFBUWd5RCxhQUFlcG1ELEVBQUdxbUQsS0FDN0I3aEMsRUFBR3B3QixFQUFRa3lELE9BQVN0bUQsRUFBR3NtRCxNQUN2QjloQyxFQUFHcHdCLEVBQVFteUQsV0FBYXZtRCxFQUFHdW1ELFVBQzNCL2hDLEVBQUdwd0IsRUFBUW95RCxpQkFBbUJ4bUQsRUFBR3dtRCxnQkFDakNoaUMsR0FDSnp0QixFQUFHekMsRUFBTW15RCxRQUFTckMsRUFBSyxDQUFDLEdBQ2pCaHdELEVBQVE0MkIsTUFBUWhyQixFQUFHMG1ELFlBQ3RCdEMsRUFBR2h3RCxFQUFRb3hELEtBQU94bEQsRUFBRzJtRCxXQUNyQnZDLEVBQUdod0QsRUFBUXN4RCxJQUFNMWxELEVBQUc0bUQsVUFDcEJ4QyxFQUFHaHdELEVBQVF3eEQsS0FBTzVsRCxFQUFHNm1ELFNBQ3JCekMsRUFBR2h3RCxFQUFRMHhELGNBQWdCOWxELEVBQUc4bUQsT0FDOUIxQyxFQUFHaHdELEVBQVE0eEQsYUFBZWhtRCxFQUFHK21ELE1BQzdCM0MsRUFBR2h3RCxFQUFROHhELFlBQWNsbUQsRUFBR2duRCxLQUM1QjVDLEVBQUdod0QsRUFBUWd5RCxhQUFlcG1ELEVBQUdpbkQsSUFDN0I3QyxHQUNKcnRELEVBQUd6QyxFQUFNdWhDLGtCQUFtQnd1QixFQUFLLENBQUMsR0FDM0Jqd0QsRUFBUTB4RCxjQUFnQjlsRCxFQUFHa25ELFNBQzlCN0MsRUFBR2p3RCxFQUFRNHhELGFBQWVobUQsRUFBR21uRCxRQUM3QjlDLEVBQUdqd0QsRUFBUTh4RCxZQUFjbG1ELEVBQUdvbkQsT0FDNUIvQyxFQUFHandELEVBQVFneUQsYUFBZXBtRCxFQUFHcW5ELE1BQzdCaEQsRUFBR2p3RCxFQUFRd2hDLGlCQUFtQjUxQixFQUFHc25ELGtCQUNqQ2pELEdBQ0p0dEQsRUFBR3pDLEVBQU1pekQsU0FBVWpELEVBQUssQ0FBQyxHQUNsQmx3RCxFQUFRMHhELGNBQWdCOWxELEVBQUd3bkQsUUFDOUJsRCxFQUFHbHdELEVBQVE0eEQsYUFBZWhtRCxFQUFHeW5ELE9BQzdCbkQsRUFBR2x3RCxFQUFROHhELFlBQWNsbUQsRUFBRzBuRCxNQUM1QnBELEVBQUdsd0QsRUFBUWd5RCxhQUFlcG1ELEVBQUcybkQsS0FDN0JyRCxHQUNKdnRELEVBQUd6QyxFQUFNaTRDLGdCQUFpQmdZLEVBQUssQ0FBQyxHQUN6Qm53RCxFQUFRMHhELGNBQWdCOWxELEVBQUc0bkQsU0FDOUJyRCxFQUFHbndELEVBQVE0eEQsYUFBZWhtRCxFQUFHNm5ELFFBQzdCdEQsRUFBR253RCxFQUFROHhELFlBQWNsbUQsRUFBRzhuRCxPQUM1QnZELEVBQUdud0QsRUFBUWd5RCxhQUFlcG1ELEVBQUcrbkQsTUFDN0J4RCxFQUFHbndELEVBQVF3aEMsaUJBQW1CNTFCLEVBQUdnb0Qsa0JBQ2pDekQsR0FDSnh0RCxFQUFHekMsRUFBTWs4QyxPQUFRZ1UsRUFBSyxDQUFDLEdBQ2hCcHdELEVBQVEweEQsY0FBZ0I5bEQsRUFBR2lvRCxRQUM5QnpELEVBQUdwd0QsRUFBUTR4RCxhQUFlaG1ELEVBQUdrb0QsT0FDN0IxRCxFQUFHcHdELEVBQVE4eEQsWUFBY2xtRCxFQUFHbW9ELE1BQzVCM0QsRUFBR3B3RCxFQUFRZ3lELGFBQWVwbUQsRUFBR29vRCxLQUM3QjVELEdBQ0p6dEQsRUFBR3pDLEVBQU1rNUIsU0FBVWkzQixFQUFLLENBQUMsR0FDbEJyd0QsRUFBUTQyQixNQUFRaHJCLEVBQUdxb0QsUUFDdEI1RCxFQUFHcndELEVBQVFveEQsS0FBT3hsRCxFQUFHc29ELE9BQ3JCN0QsRUFBR3J3RCxFQUFRc3hELElBQU0xbEQsRUFBR3VvRCxNQUNwQjlELEVBQUdyd0QsRUFBUXd4RCxLQUFPNWxELEVBQUd3b0QsS0FDckIvRCxFQUFHcndELEVBQVF3aEMsaUJBQW1CNTFCLEVBQUd5b0QsbUJBQ2pDaEUsR0FDSjF0RCxFQUFHekMsRUFBTW8wRCxjQUFlaEUsRUFBSyxDQUFDLEdBQ3ZCdHdELEVBQVE0MkIsTUFBUWhyQixFQUFHMm9ELFFBQ3RCakUsRUFBR3R3RCxFQUFRb3hELEtBQU94bEQsRUFBRzRvRCxPQUNyQmxFLEVBQUd0d0QsRUFBUXN4RCxJQUFNMWxELEVBQUc2b0QsTUFDcEJuRSxFQUFHdHdELEVBQVF3eEQsS0FBTzVsRCxFQUFHOG9ELEtBQ3JCcEUsR0FDSjN0RCxFQUFHekMsRUFBTXkwRCx3QkFBeUJwRSxFQUFLLENBQUMsR0FDakN2d0QsRUFBUW94RCxLQUFPeGxELEVBQUdncEQsT0FDckJyRSxHQUNKNXRELEVBQUd6QyxFQUFNMjBELDBCQUEyQnJFLEVBQUssQ0FBQyxHQUNuQ3h3RCxFQUFRNDJCLE1BQVFockIsRUFBR2twRCxNQUN0QnRFLEdBQ0o3dEQsRUFBR3pDLEVBQU02MEQsMEJBQTJCdEUsRUFBSyxDQUFDLEdBQ25DendELEVBQVE0MkIsTUFBUWhyQixFQUFHb3BELFFBQ3RCdkUsR0FDSjl0RCxFQUFHekMsRUFBTSswRCwrQkFBZ0N2RSxFQUFLLENBQUMsR0FDeEMxd0QsRUFBUTQyQixNQUFRaHJCLEVBQUdzcEQsU0FDdEJ4RSxFQUFHMXdELEVBQVEweEQsY0FBZ0I5bEQsRUFBR3VwRCxXQUM5QnpFLEdBQ0ovdEQsRUFBR3pDLEVBQU1rMUQsZ0NBQWlDekUsRUFBSyxDQUFDLEdBQ3pDM3dELEVBQVFveEQsS0FBT3hsRCxFQUFHeXBELGVBQ3JCMUUsR0FDSmh1RCxFQUFHekMsRUFBTW8xRCw0QkFBNkIxRSxFQUFLLENBQUMsR0FDckM1d0QsRUFBUW94RCxLQUFPeGxELEVBQUcycEQsUUFDckIzRSxHQUNKanVELEVBQUd6QyxFQUFNczFELHFCQUFzQjNFLEVBQUssQ0FBQyxHQUM5Qjd3RCxFQUFRMnpDLGVBQWlCL25DLEVBQUc2bkMsaUJBQy9Cb2QsR0FDSmx1RCxFQUFHekMsRUFBTXUxRCxrQ0FBbUMzRSxFQUFLLENBQUMsR0FDM0M5d0QsRUFBUTJ6QyxlQUFpQi9uQyxFQUFHOHBELGtCQUMvQjVFLEdBdkZSSyxFQXdGSXh1RCxLQUdLb3VELEVBQUssQ0FBQyxHQUNSN3dELEVBQU1xM0IsaUJBQWtCeTVCLEVBQUssQ0FBQyxHQUMxQmh4RCxFQUFRNDJCLE1BQVFockIsRUFBR2dyQixLQUN0Qm82QixFQUFHaHhELEVBQVFveEQsS0FBT3hsRCxFQUFHd2xELElBQ3JCSixFQUFHaHhELEVBQVFreUQsT0FBU3RtRCxFQUFHc21ELE1BQ3ZCbEIsRUFBR2h4RCxFQUFRbXlELFdBQWF2bUQsRUFBR3VtRCxVQUMzQm5CLEVBQUdoeEQsRUFBUW95RCxpQkFBbUJ4bUQsRUFBR3dtRCxnQkFDakNwQixHQUNKRCxFQUFHN3dELEVBQU15MEQsd0JBQXlCMUQsRUFBSyxDQUFDLEdBQ2pDanhELEVBQVFveEQsS0FBT3hsRCxFQUFHd2xELElBQ3JCSCxHQUNKRixFQUFHN3dELEVBQU0yMEQsMEJBQTJCM0QsRUFBSyxDQUFDLEdBQ25DbHhELEVBQVE0MkIsTUFBUWhyQixFQUFHZ3JCLEtBQ3RCczZCLEdBQ0pILEVBQUc3d0QsRUFBTTYwRCwwQkFBMkJ4MEMsRUFBSyxDQUFDLEdBQ25DdmdCLEVBQVE0MkIsTUFBUWhyQixFQUFHZ3JCLEtBQ3RCclcsR0FoQlI0d0MsRUFpQklKLEdBRURJLENBQ1gsQ0E2QytCd0UsQ0FBaUMvcEQsR0FDeEQsSUFBSXlpQyxFQUFjemlDLEVBQUdncUQsYUFBYWhxRCxFQUFHaXFELHlCQUNyQzVxRSxLQUFLcWpELGNBQWN0cUQsT0FBU3FxRCxFQUM1QixJQUFLLElBQUk5cEQsRUFBSSxFQUFHQSxFQUFJOHBELEVBQWE5cEQsSUFDN0IwRyxLQUFLcWpELGNBQWMvcEQsR0FBSyxLQUc1QjBHLEtBQUs2cUUsY0FBZ0IsQ0FBQyxFQUN0QixJQUFJQyxFQUFpQixJQUFJdkcsR0FBVTVqRCxFQUFHNjVCLGlCQU10QyxJQUxBNzVCLEVBQUdvcUQsWUFBWXBxRCxFQUFHNHJCLFdBQVl1K0IsRUFBZTU3QixTQUM3Q3Z1QixFQUFHMnFCLFdBQVczcUIsRUFBRzRyQixXQUFZLEVBQUc1ckIsRUFBR2dyQixLQUFNLEVBQUcsRUFBRyxFQUFHaHJCLEVBQUdnckIsS0FBTWhyQixFQUFHMnJCLGNBQWUsSUFBSTExQixXQUFXLElBQzVGNVcsS0FBSzZxRSxjQUFjbHFELEVBQUc0ckIsWUFBY3UrQixFQUNwQzlxRSxLQUFLNnFFLGNBQWNscUQsRUFBR2d3QixrQkFBb0IsSUFBSTR6QixHQUFVNWpELEVBQUc2NUIsaUJBQzNENzVCLEVBQUdvcUQsWUFBWXBxRCxFQUFHZ3dCLGlCQUFrQjN3QyxLQUFLNnFFLGNBQWNscUQsRUFBR2d3QixrQkFBa0J6QixTQUNuRTUxQyxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDbkJxbkIsRUFBRzJxQixXQUFXM3FCLEVBQUcrdkIsNEJBQThCcDNDLEVBQUcsRUFBR3FuQixFQUFHZ3JCLEtBQU0sRUFBRyxFQUFHLEVBQUdockIsRUFBR2dyQixLQUFNaHJCLEVBQUcyckIsY0FBZSxNQUl0RyxJQUZBM3JCLEVBQUdxcUQsY0FBY3JxRCxFQUFHZ3dCLGlCQUFrQmh3QixFQUFHc3FELG1CQUFvQnRxRCxFQUFHbkUsUUFDaEVtRSxFQUFHcXFELGNBQWNycUQsRUFBR2d3QixpQkFBa0Jod0IsRUFBR3VxRCxtQkFBb0J2cUQsRUFBR25FLFFBQ3ZEbGpCLEVBQUksRUFBR0EsRUFBSTBHLEtBQUtxakQsY0FBY3RxRCxPQUFRTyxJQUMzQzBHLEtBQUtrcUMsS0FBSyxLQUFNNXdDLEVBRXhCLEVBUUFtckUsRUFBY3hqRSxVQUFVaXBDLEtBQU8sU0FBVWdGLEVBQVN0M0IsUUFDN0IsSUFBYkEsSUFBdUJBLEVBQVcsR0FDdEMsSUFBSStJLEVBQUszZ0IsS0FBSzJnQixHQUlkLElBSEF1dUIsRUFBVUEsYUFBeUMsRUFBU0EsRUFBUXRCLHNCQUdyRHNCLEVBQVFuQyxRQUFVbUMsRUFBUS9CLG1CQUFvQixDQUN6RCtCLEVBQVExQyxRQUFVeHNDLEtBQUtxakMsU0FBUzhuQyxVQUFVL2lDLE1BQzFDLElBQUkwQyxFQUFZb0UsRUFBUXZDLFlBQVkzc0MsS0FBS21rRCxjQUFnQm5rRCxLQUFLb3JFLFlBQVlsOEIsR0FDdEVsdkMsS0FBS3FqRCxjQUFjenJDLEtBQWNzM0IsSUFDN0JsdkMsS0FBSzBrRSxrQkFBb0I5c0QsSUFDekI1WCxLQUFLMGtFLGdCQUFrQjlzRCxFQUN2QitJLEVBQUcwcUQsY0FBYzFxRCxFQUFHMnFELFNBQVcxekQsSUFFbkMrSSxFQUFHb3FELFlBQVk3N0IsRUFBUTlwQyxPQUFRMGxDLEVBQVVvRSxVQUV6Q3BFLEVBQVU4QixVQUFZc0MsRUFBUXRDLFNBQzFCNXNDLEtBQUswa0Usa0JBQW9COXNELElBQ3pCNVgsS0FBSzBrRSxnQkFBa0I5c0QsRUFDdkIrSSxFQUFHMHFELGNBQWMxcUQsRUFBRzJxRCxTQUFXMXpELElBRW5DNVgsS0FBS3VyRSxjQUFjcjhCLElBRWRwRSxFQUFVK0IsZUFBaUJxQyxFQUFRckMsY0FDeEM3c0MsS0FBS3dyRSxtQkFBbUJ0OEIsR0FFNUJsdkMsS0FBS3FqRCxjQUFjenJDLEdBQVlzM0IsQ0FDbkMsTUFFUWx2QyxLQUFLMGtFLGtCQUFvQjlzRCxJQUN6QjVYLEtBQUswa0UsZ0JBQWtCOXNELEVBQ3ZCK0ksRUFBRzBxRCxjQUFjMXFELEVBQUcycUQsU0FBVzF6RCxJQUVuQytJLEVBQUdvcUQsWUFBWXBxRCxFQUFHNHJCLFdBQVl2c0MsS0FBSzZxRSxjQUFjbHFELEVBQUc0ckIsWUFBWTJDLFNBQ2hFbHZDLEtBQUtxakQsY0FBY3pyQyxHQUFZLElBRXZDLEVBRUE2c0QsRUFBY3hqRSxVQUFVaWlELE1BQVEsV0FDNUJsakQsS0FBSzJrRSx1QkFBd0IsRUFDN0Iza0UsS0FBSzZrRSxvQkFBcUIsRUFDMUI3a0UsS0FBSzBrRSxpQkFBbUIsRUFDeEIsSUFBSyxJQUFJcHJFLEVBQUksRUFBR0EsRUFBSTBHLEtBQUtxakQsY0FBY3RxRCxPQUFRTyxJQUMzQzBHLEtBQUtxakQsY0FBYy9wRCxHQUFLMEcsS0FBSzRrRSxjQUVyQyxFQUtBSCxFQUFjeGpFLFVBQVVtcEMsT0FBUyxTQUFVOEUsR0FDdkMsSUFBZXZ1QixFQUFOM2dCLEtBQWMyZ0IsR0FBSTBpQyxFQUFsQnJqRCxLQUFxQ3FqRCxjQUM5QyxHQUFJcmpELEtBQUsya0Usc0JBQXVCLENBQzVCM2tFLEtBQUsya0UsdUJBQXdCLEVBRzdCLElBQUssSUFBSXJyRSxFQUFJLEVBQUdBLEVBQUkrcEQsRUFBY3RxRCxPQUFRTyxJQUNsQytwRCxFQUFjL3BELEtBQU8wRyxLQUFLNGtFLGdCQUMxQjVrRSxLQUFLa3FDLEtBQUssS0FBTTV3QyxFQUc1QixDQUNBLElBQVNBLEVBQUksRUFBR0EsRUFBSStwRCxFQUFjdHFELE9BQVFPLElBQ2xDK3BELEVBQWMvcEQsS0FBTzQxQyxJQUNqQmx2QyxLQUFLMGtFLGtCQUFvQnByRSxJQUN6QnFuQixFQUFHMHFELGNBQWMxcUQsRUFBRzJxRCxTQUFXaHlFLEdBQy9CMEcsS0FBSzBrRSxnQkFBa0JwckUsR0FFM0JxbkIsRUFBR29xRCxZQUFZNzdCLEVBQVE5cEMsT0FBUXBGLEtBQUs2cUUsY0FBYzM3QixFQUFROXBDLFFBQVE4cEMsU0FDbEVtVSxFQUFjL3BELEdBQUssS0FHL0IsRUFNQW1yRSxFQUFjeGpFLFVBQVV3cUUsa0JBQW9CLFNBQVVyb0IsR0FDbEQsSUFBSTFyQyxFQUFLMVgsS0FBTXFqRCxFQUFnQjNyQyxFQUFHMnJDLGNBQWV3aEIsRUFBcUJudEQsRUFBR210RCxtQkFBb0IxZ0IsRUFBY3pzQyxFQUFHeXNDLFlBQzlHLEdBQUswZ0IsRUFHTCxJQUFLLElBQUl2ckUsRUFBSThwRCxFQUFjLEVBQUc5cEQsR0FBSyxJQUFLQSxFQUFHLENBQ3ZDLElBQUl5K0MsRUFBTXNMLEVBQWMvcEQsR0FDcEJ5K0MsR0FDZ0JBLEVBQUlwTCxZQUFZd1gsR0FDbEJxZ0IsY0FBZ0J0dkQsRUFBY2k1QixPQUN4Q251QyxLQUFLcWpDLFNBQVM2TCxRQUFROUUsT0FBTzJOLEVBR3pDLENBQ0osRUFNQTBzQixFQUFjeGpFLFVBQVVtcUUsWUFBYyxTQUFVbDhCLEdBQzVDLElBQUlwRSxFQUFZLElBQUl5NUIsR0FBVXZrRSxLQUFLMmdCLEdBQUc2NUIsaUJBTXRDLE9BSkExUCxFQUFVOEIsU0FBVyxFQUNyQnNDLEVBQVF2QyxZQUFZM3NDLEtBQUtta0QsYUFBZXJaLEVBQ3hDOXFDLEtBQUtra0UsZ0JBQWdCdnFFLEtBQUt1MUMsR0FDMUJBLEVBQVFyckMsR0FBRyxVQUFXN0QsS0FBS29rRSxlQUFnQnBrRSxNQUNwQzhxQyxDQUNYLEVBQ0EyNUIsRUFBY3hqRSxVQUFVeXFFLGdCQUFrQixTQUFVeDhCLEVBQVNwRSxHQUN6RCxJQUFJcHpCLEVBQUl5dEIsRUFDUjJGLEVBQVVTLGVBQThILFFBQTVHcEcsRUFBbUQsUUFBN0N6dEIsRUFBSzFYLEtBQUs4a0UsZ0JBQWdCNTFCLEVBQVF0b0MsYUFBMEIsSUFBUDhRLE9BQWdCLEVBQVNBLEVBQUd3M0IsRUFBUWpqQyxlQUE0QixJQUFQazVCLEVBQWdCQSxFQUFLK0osRUFBUWpqQyxPQUNuSixJQUF0QmpNLEtBQUs0akQsY0FBc0IxVSxFQUFRdG9DLE9BQVNxTyxFQUFNbzBELFdBR2xEditCLEVBQVVsa0MsS0FBTzVHLEtBQUsyZ0IsR0FBRzBvRCxXQUd6QnYrQixFQUFVbGtDLEtBQU9zb0MsRUFBUXRvQyxJQUVqQyxFQU1BNjlELEVBQWN4akUsVUFBVXNxRSxjQUFnQixTQUFVcjhCLEdBQzlDLElBQUlwRSxFQUFZb0UsRUFBUXZDLFlBQVkzc0MsS0FBS21rRCxhQUN6QyxHQUFLclosRUFBTCxDQUdBLElBQUl6SCxFQUFXcmpDLEtBQUtxakMsU0FFcEIsR0FEQXJqQyxLQUFLMHJFLGdCQUFnQng4QixFQUFTcEUsR0FDMUJvRSxFQUFRcEQsVUFBWW9ELEVBQVFwRCxTQUFTakIsT0FBT3hILEVBQVU2TCxFQUFTcEUsR0FFM0RBLEVBQVUwNUIsY0FBZ0J0dkQsRUFBY2k1QixRQUN4Q251QyxLQUFLNmtFLG9CQUFxQixPQUc3QixDQUVELElBQUk3dEQsRUFBUWs0QixFQUFRL0QsVUFDaEJsMEIsRUFBU2k0QixFQUFROUQsV0FDakJ6cUIsRUFBSzBpQixFQUFTMWlCLElBQ2RtcUIsRUFBVTl6QixRQUFVQSxHQUNqQjh6QixFQUFVN3pCLFNBQVdBLEdBQ3JCNnpCLEVBQVU4QixRQUFVLEtBQ3ZCOUIsRUFBVTl6QixNQUFRQSxFQUNsQjh6QixFQUFVN3pCLE9BQVNBLEVBQ25CMEosRUFBRzJxQixXQUFXNEQsRUFBUTlwQyxPQUFRLEVBQUcwbEMsRUFBVVMsZUFBZ0J2MEIsRUFBT0MsRUFBUSxFQUFHaTRCLEVBQVFqakMsT0FBUTYrQixFQUFVbGtDLEtBQU0sTUFFckgsQ0FFSXNvQyxFQUFRckMsZUFBaUIvQixFQUFVK0IsY0FDbkM3c0MsS0FBS3dyRSxtQkFBbUJ0OEIsR0FFNUJwRSxFQUFVOEIsUUFBVXNDLEVBQVF0QyxPQTFCNUIsQ0EyQkosRUFPQTYzQixFQUFjeGpFLFVBQVVtakUsZUFBaUIsU0FBVWwxQixFQUFTeThCLEdBQ3hELElBQUlockQsRUFBSzNnQixLQUFLMmdCLEdBRWQsSUFEQXV1QixFQUFVQSxFQUFRdEIscUJBQ05qQixZQUFZM3NDLEtBQUtta0QsZUFDekJua0QsS0FBS29xQyxPQUFPOEUsR0FDWnZ1QixFQUFHaXJELGNBQWMxOEIsRUFBUXZDLFlBQVkzc0MsS0FBS21rRCxhQUFhalYsU0FDdkRBLEVBQVFuckMsSUFBSSxVQUFXL0QsS0FBS29rRSxlQUFnQnBrRSxhQUNyQ2t2QyxFQUFRdkMsWUFBWTNzQyxLQUFLbWtELGNBQzNCd25CLEdBQVksQ0FDYixJQUFJcnlFLEVBQUkwRyxLQUFLa2tFLGdCQUFnQjc1RCxRQUFRNmtDLElBQzFCLElBQVA1MUMsR0FDQWcwQixHQUFZdHRCLEtBQUtra0UsZ0JBQWlCNXFFLEVBQUcsRUFFN0MsQ0FFUixFQU1BbXJFLEVBQWN4akUsVUFBVXVxRSxtQkFBcUIsU0FBVXQ4QixHQUNuRCxJQUFJcEUsRUFBWW9FLEVBQVF2QyxZQUFZM3NDLEtBQUtta0QsYUFDcENyWixJQUdBb0UsRUFBUW5ELFNBQVcxMkIsRUFBYXVGLE1BQThCLElBQXRCNWEsS0FBSzRqRCxjQUF3QjFVLEVBQVF6QyxhQUk5RTNCLEVBQVVpQixPQUFTbUQsRUFBUW5ELFFBQVUsRUFIckNqQixFQUFVaUIsUUFBUyxFQUtHLElBQXRCL3JDLEtBQUs0akQsY0FBdUIxVSxFQUFRekMsYUFJcEMzQixFQUFVbUIsU0FBV2lELEVBQVFqRCxTQUg3Qm5CLEVBQVVtQixTQUFXNzJCLEVBQVdrSCxNQUtoQzR5QixFQUFRcEQsVUFBWW9ELEVBQVFwRCxTQUFTeEIsTUFBTXRxQyxLQUFLcWpDLFNBQVU2TCxFQUFTcEUsSUFFbkU5cUMsS0FBS3F0QyxTQUFTNkIsRUFBU3BFLEdBRTNCQSxFQUFVK0IsYUFBZXFDLEVBQVFyQyxhQUNyQyxFQU9BNDNCLEVBQWN4akUsVUFBVW9zQyxTQUFXLFNBQVU2QixFQUFTcEUsR0FDbEQsSUFBSW5xQixFQUFLM2dCLEtBQUsyZ0IsR0FNZCxHQUxJbXFCLEVBQVVpQixRQUFVbUQsRUFBUW5ELFNBQVcxMkIsRUFBYXcyRCxXQUNwRGxyRCxFQUFHbXJELGVBQWU1OEIsRUFBUTlwQyxRQUU5QnViLEVBQUdxcUQsY0FBYzk3QixFQUFROXBDLE9BQVF1YixFQUFHb3JELGVBQWdCamhDLEVBQVVtQixVQUM5RHRyQixFQUFHcXFELGNBQWM5N0IsRUFBUTlwQyxPQUFRdWIsRUFBR3FyRCxlQUFnQmxoQyxFQUFVbUIsVUFDMURuQixFQUFVaUIsT0FBUSxDQUVsQnByQixFQUFHcXFELGNBQWM5N0IsRUFBUTlwQyxPQUFRdWIsRUFBR3VxRCxtQkFBb0JoOEIsRUFBUXpELFlBQWN0MkIsRUFBWXFILE9BQVNtRSxFQUFHc3JELHFCQUF1QnRyRCxFQUFHdXJELHdCQUVoSSxJQUFJQyxFQUFpQm5zRSxLQUFLcWpDLFNBQVM5aEMsUUFBUXVqQyxXQUFXOGYscUJBQ3RELEdBQUl1bkIsR0FBa0JqOUIsRUFBUWxELGlCQUFtQixHQUFLa0QsRUFBUXpELFlBQWN0MkIsRUFBWXFILE9BQVEsQ0FDNUYsSUFBSTR2RCxFQUFRbnlFLEtBQUt3RixJQUFJeXZDLEVBQVFsRCxpQkFBa0JyckIsRUFBR2dxRCxhQUFhd0IsRUFBZUUsaUNBQzlFMXJELEVBQUcyckQsY0FBY3A5QixFQUFROXBDLE9BQVErbUUsRUFBZUksMkJBQTRCSCxFQUNoRixDQUNKLE1BRUl6ckQsRUFBR3FxRCxjQUFjOTdCLEVBQVE5cEMsT0FBUXViLEVBQUd1cUQsbUJBQW9CaDhCLEVBQVF6RCxZQUFjdDJCLEVBQVlxSCxPQUFTbUUsRUFBR25FLE9BQVNtRSxFQUFHK3FCLFNBRXRIL3FCLEVBQUdxcUQsY0FBYzk3QixFQUFROXBDLE9BQVF1YixFQUFHc3FELG1CQUFvQi83QixFQUFRekQsWUFBY3QyQixFQUFZcUgsT0FBU21FLEVBQUduRSxPQUFTbUUsRUFBRytxQixRQUN0SCxFQUNBKzRCLEVBQWN4akUsVUFBVXN0QixRQUFVLFdBQzlCdnVCLEtBQUtxakMsU0FBVyxJQUNwQixFQUNPb2hDLENBQ1gsQ0EvUmtDLEdBaVM5QitILEdBQVcsQ0FDWHBxRSxVQUFXLEtBQ1hpOUMsYUFBY0EsR0FDZHdELFlBQWFBLEdBQ2JjLGNBQWVBLEdBQ2Y2QyxrQkFBbUJBLEdBQ25Cd0QsZUFBZ0JBLEdBQ2hCNk0sV0FBWUEsR0FDWmlDLGNBQWVBLEdBQ2ZPLGNBQWVBLEdBQ2ZXLGlCQUFrQkEsR0FDbEJTLG9CQUFxQkEsR0FDckJrRSxhQUFjQSxHQUNkc0IsWUFBYUEsR0FDYjJELGdCQUFpQkEsR0FDakJhLGNBQWVBLElBR2ZnSSxHQUFhLElBQUlqM0MsR0FTakJrM0MsR0FBa0MsU0FBVXh1QyxHQXVCNUMsU0FBU3d1QyxFQUFpQjlsRSxFQUFNa0QsUUFDZixJQUFUbEQsSUFBbUJBLEVBQU8rTixFQUFjZzRELFNBQzVDLElBQUl4dUMsRUFBUUQsRUFBT3o3QixLQUFLekMsT0FBU0EsS0FtR2pDLE9BakdBOEosRUFBVTlJLE9BQU9xRCxPQUFPLENBQUMsRUFBR29XLEdBQVNjLGVBQWdCelIsR0FNckRxMEIsRUFBTXIwQixRQUFVQSxFQU9oQnEwQixFQUFNdjNCLEtBQU9BLEVBT2J1M0IsRUFBTTA4QixPQUFTLElBQUlycEMsR0FBVSxFQUFHLEVBQUcxbkIsRUFBUWtOLE1BQU9sTixFQUFRbU4sUUFLMURrbkIsRUFBTTNpQixLQUFPMVIsRUFBUTBSLE1BQVFmLEdBQVNDLFFBQVEzRCxlQU05Q29uQixFQUFNelAsV0FBYTVrQixFQUFRNGtCLFlBQWNqVSxHQUFTSyxXQU1sRHFqQixFQUFNdGlCLGdCQUFrQi9SLEVBQVErUixnQkFLaENzaUIsRUFBTXppQixjQUFnQjVSLEVBQVE0UixZQU05QnlpQixFQUFNcGlCLHNCQUF3QmpTLEVBQVFpUyxzQkFVdENvaUIsRUFBTXJpQixrQkFBb0JoUyxFQUFRZ1Msa0JBTWxDcWlCLEVBQU15dUMsaUJBQW1CLEVBTXpCenVDLEVBQU11OEIscUJBQXVCLENBQUMsRUFBRyxFQUFHLEVBQUcsR0FNdkN2OEIsRUFBTTB1Qyx1QkFBeUIsVUFDL0IxdUMsRUFBTXhpQixnQkFBa0I3UixFQUFRNlIsaUJBQW1Cd2lCLEVBQU15dUMsaUJBQ3pEenVDLEVBQU12aUIsZ0JBQWtCOVIsRUFBUThSLHFCQUVKalksSUFBeEJtRyxFQUFRZ2pFLGNBQ1JsL0MsR0FBWSxRQUFTLHlFQUNyQnVRLEVBQU10aUIsZ0JBQWtCL1IsRUFBUWdqRSxZQUNoQzN1QyxFQUFNdmlCLGdCQUFrQjlSLEVBQVFnakUsWUFBYyxFQUFJLEdBT3REM3VDLEVBQU00dUMsb0JBQXNCLEtBTTVCNXVDLEVBQU02dUMsUUFBVSxDQUFDLEVBQ1Y3dUMsQ0FDWCxDQWlKQSxPQTdRQSxHQUFVdXVDLEVBQWtCeHVDLEdBa0k1Qnd1QyxFQUFpQnpyRSxVQUFVZ3NFLFlBQWMsU0FBVUMsR0FDL0MsSUFBSyxJQUFJajhELEtBQUtpOEQsRUFDVmx0RSxLQUFLZ3RFLFFBQVEvN0QsR0FBSyxJQUFLaThELEVBQVVqOEQsR0FBSWpSLEtBRTdDLEVBQ0FnQixPQUFPa1EsZUFBZXc3RCxFQUFpQnpyRSxVQUFXLFFBQVMsQ0FPdkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt3YixLQUFLeEUsS0FDckIsRUFDQTdGLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV3N0QsRUFBaUJ6ckUsVUFBVyxTQUFVLENBT3hEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLd2IsS0FBS3ZFLE1BQ3JCLEVBQ0E5RixZQUFZLEVBQ1pnZSxjQUFjLElBU2xCdTlDLEVBQWlCenJFLFVBQVUwdEIsT0FBUyxTQUFVdytDLEVBQW9CQyxHQUM5RHB0RSxLQUFLd2IsS0FBS3hFLE1BQVEvYyxLQUFLZzFCLE1BQU1rK0MsRUFBcUJudEUsS0FBSzB1QixZQUN2RDF1QixLQUFLd2IsS0FBS3ZFLE9BQVNoZCxLQUFLZzFCLE1BQU1tK0MsRUFBc0JwdEUsS0FBSzB1QixZQUN6RCxJQUFJMitDLEVBQWNydEUsS0FBS3diLEtBQUt4RSxNQUFRaFgsS0FBSzB1QixXQUNyQzQrQyxFQUFldHRFLEtBQUt3YixLQUFLdkUsT0FBU2pYLEtBQUswdUIsV0FDM0MxdUIsS0FBSzY2RCxPQUFPN2pELE1BQVFxMkQsRUFDcEJydEUsS0FBSzY2RCxPQUFPNWpELE9BQVNxMkQsRUFDakJ0dEUsS0FBSzBiLGNBQ0wxYixLQUFLd2IsS0FBSzh1QixNQUFNdHpCLE1BQVFxMkQsRUFBYyxLQUN0Q3J0RSxLQUFLd2IsS0FBSzh1QixNQUFNcnpCLE9BQVNxMkQsRUFBZSxNQVE1Q3R0RSxLQUFLbUQsS0FBSyxTQUFVa3FFLEVBQWFDLEVBQ3JDLEVBSUFaLEVBQWlCenJFLFVBQVVzc0UsZ0JBQWtCLFNBQVVqSixFQUFleDZELEVBQVM0a0IsRUFBWTgrQyxRQUN2RSxJQUFaMWpFLElBQXNCQSxFQUFVLENBQUMsR0FFZCxpQkFBWkEsSUFDUDhqQixHQUFZLFFBQVMsbUZBQ3JCOWpCLEVBQVUsQ0FBRTJoQyxVQUFXM2hDLEVBQVM0a0IsV0FBWUEsRUFBWTgrQyxPQUFRQSxJQUVwRSxJQUFJQyxFQUFlM2pFLEVBQVEwakUsT0FBUXJ6QixFQXBpUjNDLFNBQWdCMTBDLEVBQUdsSyxHQUNmLElBQUltTixFQUFJLENBQUMsRUFDVCxJQUFLLElBQUk1TixLQUFLMkssRUFBU3pFLE9BQU9DLFVBQVVDLGVBQWV1QixLQUFLZ0QsRUFBRzNLLElBQU1TLEVBQUU4TyxRQUFRdlAsR0FBSyxJQUM5RTROLEVBQUU1TixHQUFLMkssRUFBRTNLLElBQ2YsR0FBUyxNQUFMMkssR0FBcUQsbUJBQWpDekUsT0FBTzJCLHNCQUNwQixLQUFJckosRUFBSSxFQUFiLElBQWdCd0IsRUFBSWtHLE9BQU8yQixzQkFBc0I4QyxHQUFJbk0sRUFBSXdCLEVBQUUvQixPQUFRTyxJQUM3RGlDLEVBQUU4TyxRQUFRdlAsRUFBRXhCLElBQU0sR0FBSzBILE9BQU9DLFVBQVVpRCxxQkFBcUJ6QixLQUFLZ0QsRUFBRzNLLEVBQUV4QixNQUNyRW9QLEVBQUU1TixFQUFFeEIsSUFBTW1NLEVBQUUzSyxFQUFFeEIsSUFGNEIsQ0FJeEQsT0FBT29QLENBQ1gsQ0EwaFI0RGdsRSxDQUFPNWpFLEVBQVMsQ0FBQyxXQUdoRCxLQUZyQjBqRSxFQUFTQyxHQUFnQm5KLEVBQWNya0MsZUFBZSxNQUFNLElBRWpEanBCLFFBQ0x3MkQsRUFBT3gyRCxNQUFRLEdBQ0MsSUFBbEJ3MkQsRUFBT3YyRCxTQUNMdTJELEVBQU92MkQsT0FBUyxHQUN0QixJQUFJc3NCLEVBQWdCc1csR0FBYzEzQyxPQUFPLEdBQVMsQ0FBRTZVLE1BQU93MkQsRUFBT3gyRCxNQUFPQyxPQUFRdTJELEVBQU92MkQsUUFBVWtqQyxJQVNsRyxPQVJBc3lCLEdBQVdoM0MsSUFBTSszQyxFQUFPNzBFLEVBQ3hCOHpFLEdBQVcvMkMsSUFBTTgzQyxFQUFPNTBFLEVBQ3hCb0gsS0FBSzBqQyxPQUFPNGdDLEVBQWUsQ0FDdkIvZ0MsY0FBZUEsRUFDZjNVLE9BQU8sRUFDUGdELFVBQVc2NkMsR0FDWGtCLHNCQUF1QnJKLEVBQWM3bEMsU0FFbEM4RSxDQUNYLEVBS0FtcEMsRUFBaUJ6ckUsVUFBVXN0QixRQUFVLFNBQVVxL0MsR0FDM0MsSUFBSyxJQUFJMzhELEtBQUtqUixLQUFLZ3RFLFFBQ2ZodEUsS0FBS2d0RSxRQUFRLzdELEdBQUdzZCxVQUNoQnZ1QixLQUFLZ3RFLFFBQVEvN0QsR0FBSyxLQUVsQjI4RCxHQUFjNXRFLEtBQUt3YixLQUFLcXlELFlBQ3hCN3RFLEtBQUt3YixLQUFLcXlELFdBQVdodEMsWUFBWTdnQyxLQUFLd2IsTUFFMUMsSUFBSXN5RCxFQUFVOXRFLEtBRWQ4dEUsRUFBUWQsUUFBVSxLQUNsQmMsRUFBUWxuRSxLQUFPK04sRUFBY2c0RCxRQUM3Qm1CLEVBQVF0eUQsS0FBTyxLQUNmc3lELEVBQVFqVCxPQUFTLEtBQ2pCaVQsRUFBUWh1Qyx5QkFBMkIsS0FDbkNndUMsRUFBUWhrRSxRQUFVLEtBQ2xCOUosS0FBSzA2RCxxQkFBdUIsS0FDNUIxNkQsS0FBSzZzRSx1QkFBeUIsS0FDOUI3c0UsS0FBSytzRSxvQkFBc0IsSUFDL0IsRUFDQS9yRSxPQUFPa1EsZUFBZXc3RCxFQUFpQnpyRSxVQUFXLGtCQUFtQixDQUtqRW1RLElBQUssV0FDRCxPQUFPcFIsS0FBSzRzRSxnQkFDaEIsRUFDQTE5QyxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs0c0UsaUJBQW1CeGxFLEVBQ3hCcEgsS0FBSzZzRSx1QkFBeUJ0aUQsR0FBV25qQixHQUN6Q2lqQixHQUFRampCLEVBQU9wSCxLQUFLMDZELHFCQUN4QixFQUNBdnBELFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV3N0QsRUFBaUJ6ckUsVUFBVyxrQkFBbUIsQ0FLakVtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUswNkQscUJBQXFCLEVBQ3JDLEVBQ0F4ckMsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLMDZELHFCQUFxQixHQUFLdHpELENBQ25DLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRVh1OUMsQ0FDWCxDQS9RcUMsQ0ErUW5DLElBRUVxQixHQUNBLFNBQWtCOWdELEdBQ2RqdEIsS0FBS2l0QixPQUFTQSxHQUFVLEtBQ3hCanRCLEtBQUs4N0IsVUFBWSxFQUNqQjk3QixLQUFLZ3VFLFlBQWMsRUFDbkJodUUsS0FBS3c4QyxTQUFXLENBQ3BCLEVBcUJBeXhCLEdBQThCLFdBSTlCLFNBQVNBLEVBQWE1cUMsR0FDbEJyakMsS0FBS3FqQyxTQUFXQSxFQUNoQnJqQyxLQUFLa3VFLGVBQWlCLENBQUMsRUFDdkJsdUUsS0FBS211RSxpQkFBbUIsQ0FBQyxDQUM3QixDQW9IQSxPQWhIQUYsRUFBYWh0RSxVQUFVc3RCLFFBQVUsV0FDN0J2dUIsS0FBS3FqQyxTQUFXLElBQ3BCLEVBRUE0cUMsRUFBYWh0RSxVQUFVaWpELGNBQWdCLFdBQ25DbGtELEtBQUsrbUQsWUFBVyxHQUNoQi9tRCxLQUFLMmdCLEdBQUszZ0IsS0FBS3FqQyxTQUFTMWlCLEdBRXhCM2dCLEtBQUtta0QsWUFBY25rRCxLQUFLcWpDLFNBQVM4Z0IsV0FDckMsRUFLQThwQixFQUFhaHRFLFVBQVVpcEMsS0FBTyxTQUFVamQsR0FDcEMsSUFBZXRNLEVBQU4zZ0IsS0FBYzJnQixHQUFJd2pDLEVBQWxCbmtELEtBQW1DbWtELFlBQ3hDMEksRUFBVzUvQixFQUFPeXVCLFdBQVd5SSxJQUFnQm5rRCxLQUFLb3VFLGVBQWVuaEQsR0FDckV0TSxFQUFHMHRELFdBQVdwaEQsRUFBT3JtQixLQUFNaW1ELEVBQVM1L0IsT0FDeEMsRUFRQWdoRCxFQUFhaHRFLFVBQVV5K0QsZUFBaUIsU0FBVXp5QyxFQUFRMWtCLEdBQ3RELElBQWVvWSxFQUFOM2dCLEtBQWMyZ0IsR0FBSXdqQyxFQUFsQm5rRCxLQUFtQ21rRCxZQUM1QyxHQUFJbmtELEtBQUttdUUsaUJBQWlCNWxFLEtBQVcwa0IsRUFBUSxDQUN6QyxJQUFJNC9CLEVBQVc1L0IsRUFBT3l1QixXQUFXeUksSUFBZ0Jua0QsS0FBS291RSxlQUFlbmhELEdBQ3JFanRCLEtBQUttdUUsaUJBQWlCNWxFLEdBQVMwa0IsRUFDL0J0TSxFQUFHKytDLGVBQWUvK0MsRUFBR2srQixlQUFnQnQyQyxFQUFPc2tELEVBQVM1L0IsT0FDekQsQ0FDSixFQVFBZ2hELEVBQWFodEUsVUFBVXF0RSxnQkFBa0IsU0FBVXJoRCxFQUFRMWtCLEVBQU9rMUMsR0FDOUQsSUFBZTk4QixFQUFOM2dCLEtBQWMyZ0IsR0FBSXdqQyxFQUFsQm5rRCxLQUFtQ21rRCxZQUM1QzFHLEVBQVNBLEdBQVUsRUFDbkIsSUFBSW9QLEVBQVc1L0IsRUFBT3l1QixXQUFXeUksSUFBZ0Jua0QsS0FBS291RSxlQUFlbmhELEdBQ3JFdE0sRUFBRzJ0RCxnQkFBZ0IzdEQsRUFBR2srQixlQUFnQnQyQyxHQUFTLEVBQUdza0QsRUFBUzUvQixPQUFpQixJQUFUd3dCLEVBQWMsSUFDckYsRUFLQXd3QixFQUFhaHRFLFVBQVU0bUMsT0FBUyxTQUFVNWEsR0FDdEMsSUFBZXRNLEVBQU4zZ0IsS0FBYzJnQixHQUFJd2pDLEVBQWxCbmtELEtBQW1DbWtELFlBQ3hDMEksRUFBVzUvQixFQUFPeXVCLFdBQVd5SSxHQUNqQyxHQUFJbDNCLEVBQU93ckIsWUFBY29VLEVBQVMvd0IsU0FLbEMsR0FGQSt3QixFQUFTL3dCLFNBQVc3TyxFQUFPd3JCLFVBQzNCOTNCLEVBQUcwdEQsV0FBV3BoRCxFQUFPcm1CLEtBQU1pbUQsRUFBUzUvQixRQUNoQzQvQixFQUFTbWhCLFlBQWMvZ0QsRUFBTzcwQixLQUFLNDFFLFdBRW5DcnRELEVBQUc0dEQsY0FBY3RoRCxFQUFPcm1CLEtBQU0sRUFBR3FtQixFQUFPNzBCLFVBRXZDLENBQ0QsSUFBSW8yRSxFQUFXdmhELEVBQU8wdUIsT0FBU2g3QixFQUFHOHRELFlBQWM5dEQsRUFBRyt0RCxhQUNuRDdoQixFQUFTbWhCLFdBQWEvZ0QsRUFBTzcwQixLQUFLNDFFLFdBQ2xDcnRELEVBQUdndUQsV0FBVzFoRCxFQUFPcm1CLEtBQU1xbUIsRUFBTzcwQixLQUFNbzJFLEVBQzVDLENBQ0osRUFNQVAsRUFBYWh0RSxVQUFVd3BDLFFBQVUsU0FBVXhkLEVBQVEyOEIsR0FDL0MsR0FBSzVwRCxLQUFLa3VFLGVBQWVqaEQsRUFBT3BjLElBQWhDLFFBR083USxLQUFLa3VFLGVBQWVqaEQsRUFBT3BjLElBQ2xDLElBQUlnOEMsRUFBVzUvQixFQUFPeXVCLFdBQVcxN0MsS0FBS21rRCxhQUNsQ3hqQyxFQUFLM2dCLEtBQUsyZ0IsR0FDZHNNLEVBQU9pcEIsY0FBY2hSLE9BQU9sbEMsTUFDdkI2c0QsSUFHQWpELEdBQ0RqcEMsRUFBR2l1RCxhQUFhL2hCLEVBQVM1L0IsZUFFdEJBLEVBQU95dUIsV0FBVzE3QyxLQUFLbWtELGFBWDlCLENBWUosRUFLQThwQixFQUFhaHRFLFVBQVU4bEQsV0FBYSxTQUFVNkMsR0FFMUMsSUFEQSxJQUFJbDJDLEVBQU0xUyxPQUFPaUUsS0FBS2pGLEtBQUtrdUUsZ0JBQ2xCNTBFLEVBQUksRUFBR0EsRUFBSW9hLEVBQUkzYSxPQUFRTyxJQUM1QjBHLEtBQUt5cUMsUUFBUXpxQyxLQUFLa3VFLGVBQWV4NkQsRUFBSXBhLElBQUtzd0QsRUFFbEQsRUFNQXFrQixFQUFhaHRFLFVBQVVtdEUsZUFBaUIsU0FBVW5oRCxHQUM5QyxJQUFlazNCLEVBQU5ua0QsS0FBdUJta0QsWUFBYXhqQyxFQUFwQzNnQixLQUE0QzJnQixHQUlyRCxPQUhBc00sRUFBT3l1QixXQUFXeUksR0FBZSxJQUFJNHBCLEdBQVNwdEQsRUFBR2t1RCxnQkFDakQ3dUUsS0FBS2t1RSxlQUFlamhELEVBQU9wYyxJQUFNb2MsRUFDakNBLEVBQU9pcEIsY0FBY3BjLElBQUk5NUIsTUFDbEJpdEIsRUFBT3l1QixXQUFXeUksRUFDN0IsRUFDTzhwQixDQUNYLENBN0hpQyxHQStKN0JhLEdBQTBCLFNBQVU1d0MsR0EyQnBDLFNBQVM0d0MsRUFBU2hsRSxHQUNkLElBQUlxMEIsRUFBUUQsRUFBT3o3QixLQUFLekMsS0FBTTJVLEVBQWMyMEIsTUFBT3gvQixJQUFZOUosS0FzRC9ELE9BcERBOEosRUFBVXEwQixFQUFNcjBCLFFBQ2hCcTBCLEVBQU14ZCxHQUFLLEtBQ1h3ZCxFQUFNZ21CLFlBQWMsRUFDcEJobUIsRUFBTW9tQixRQUFVLENBQ1poMkIsUUFBUyxJQUFJb1gsR0FBTyxXQUNwQnVlLGNBQWUsSUFBSXZlLEdBQU8saUJBQzFCdWQsTUFBTyxJQUFJdmQsR0FBTyxTQUNsQmtDLE9BQVEsSUFBSWxDLEdBQU8sVUFDbkJtZ0IsV0FBWSxJQUFJbmdCLEdBQU8sY0FDdkJvcEMsVUFBVyxJQUFJcHBDLEdBQU8sYUFDdEJoWCxPQUFRLElBQUlnWCxHQUFPLFdBRXZCeEgsRUFBTW9tQixRQUFRTCxjQUFjcHFCLElBQUlxRSxHQUNoQ0EsRUFBTXloQixlQUFpQixJQUFJdEIsR0FBYSxDQUNwQzRiLGlCQUFrQixJQUFJMWtDLEtBQ3ZCLEdBQ0gySSxFQUFNNndDLFVBQVVuWSxHQUFZLFFBQ3ZCbVksVUFBVXJyQixHQUFlLFdBQ3pCcXJCLFVBQVUvTyxHQUFhLFNBQ3ZCK08sVUFBVXJRLEdBQWMsVUFDeEJxUSxVQUFVdkssR0FBZSxXQUN6QnVLLFVBQVVmLEdBQWMsVUFDeEJlLFVBQVVobEIsR0FBZ0IsWUFDMUJnbEIsVUFBVXhvQixHQUFtQixlQUM3QndvQixVQUFVbFcsR0FBZSxXQUN6QmtXLFVBQVUzVixHQUFlLFdBQ3pCMlYsVUFBVWhWLEdBQWtCLGNBQzVCZ1YsVUFBVXBMLEdBQWlCLGFBQzNCb0wsVUFBVTN2QixHQUFjLFVBQ3hCMnZCLFVBQVV2VSxHQUFxQixpQkFDL0J1VSxVQUFVbnNCLEdBQWEsU0FDNUIxa0IsRUFBTTh1QyxZQUFZNkIsRUFBU0csV0FDM0I5d0MsRUFBTWdZLGlCQUFjeHlDLEVBSWhCbUcsRUFBUXZJLFFBQ1I0OEIsRUFBTTU4QixRQUFROGlELGdCQUFnQnY2QyxFQUFRdkksU0FHdEM0OEIsRUFBTTU4QixRQUFRaWpELGdCQUFnQixDQUMxQjU0QixRQUFTdVMsRUFBTXRpQixnQkFDZkosVUFBVzNSLEVBQVEyUixVQUNuQnl6RCxtQkFBb0Ivd0MsRUFBTXRpQixpQkFBNkMsa0JBQTFCc2lCLEVBQU10aUIsZ0JBQ25ENEUsU0FBUyxFQUNUMUUsc0JBQXVCalMsRUFBUWlTLHNCQUMvQm96RCxnQkFBaUJoeEMsRUFBTXIwQixRQUFRcWxFLGtCQUd2Q2h4QyxFQUFNNG5CLG1CQUFvQixFQUMxQjFsQyxHQUF3QyxJQUEvQjhkLEVBQU01OEIsUUFBUXFpRCxhQUFxQixVQUFZLFdBQ3hEemxCLEVBQU14UCxPQUFPd1AsRUFBTXIwQixRQUFRa04sTUFBT21uQixFQUFNcjBCLFFBQVFtTixRQUN6Q2tuQixDQUNYLENBaU9BLE9BblRBLEdBQVUyd0MsRUFBVTV3QyxHQTBGcEI0d0MsRUFBUzNzRSxPQUFTLFNBQVUySCxHQUN4QixHQUFJeVcsS0FDQSxPQUFPLElBQUl1dUQsRUFBU2hsRSxHQUV4QixNQUFNLElBQUkwaUIsTUFBTSx5RkFDcEIsRUFDQXNpRCxFQUFTN3RFLFVBQVVpakQsY0FBZ0IsV0FDL0IsSUFDSWtGLEVBREF6b0MsRUFBSzNnQixLQUFLMmdCLEdBRWQsR0FBa0MsSUFBOUIzZ0IsS0FBS3VCLFFBQVFxaUQsYUFBb0IsQ0FDakMsSUFBSTlNLEVBQWNuMkIsRUFBR2dxRCxhQUFhaHFELEVBQUd5dUQscUJBQ3JDenVELEVBQUdnbkMsZ0JBQWdCaG5DLEVBQUdpbkMsWUFBYSxNQUNuQ3dCLEVBQVV6b0MsRUFBR2dxRCxhQUFhaHFELEVBQUc2bUMsU0FDN0I3bUMsRUFBR2duQyxnQkFBZ0JobkMsRUFBR2luQyxZQUFhOVEsRUFDdkMsTUFFUUEsRUFBY24yQixFQUFHZ3FELGFBQWFocUQsRUFBRzB1RCwwQkFDckMxdUQsRUFBR2duQyxnQkFBZ0JobkMsRUFBRzJ1RCxpQkFBa0IsTUFDeENsbUIsRUFBVXpvQyxFQUFHZ3FELGFBQWFocUQsRUFBRzZtQyxTQUM3QjdtQyxFQUFHZ25DLGdCQUFnQmhuQyxFQUFHMnVELGlCQUFrQng0QixHQUV4Q3NTLEdBQVd4ekMsRUFBYThHLEtBQ3hCMWMsS0FBS20yQyxZQUFjdmdDLEVBQWE4RyxLQUUzQjBzQyxHQUFXeHpDLEVBQWFnSCxPQUM3QjVjLEtBQUttMkMsWUFBY3ZnQyxFQUFhZ0gsT0FFM0J3c0MsR0FBV3h6QyxFQUFhc3pCLElBQzdCbHBDLEtBQUttMkMsWUFBY3ZnQyxFQUFhc3pCLElBR2hDbHBDLEtBQUttMkMsWUFBY3ZnQyxFQUFhcUYsSUFFeEMsRUFVQTZ6RCxFQUFTN3RFLFVBQVUrdEUsVUFBWSxTQUFVTyxFQUFVaHRFLEdBQy9DLElBQUlzbUMsRUFBUyxJQUFJMG1DLEVBQVN2dkUsTUFDMUIsR0FBSUEsS0FBS3VDLEdBQ0wsTUFBTSxJQUFJaXFCLE1BQU0scUJBQXdCanFCLEVBQU8sdUJBR25ELElBQUssSUFBSWpKLEtBRFQwRyxLQUFLdUMsR0FBUXNtQyxFQUNDN29DLEtBQUt1a0QsUUFDZnZrRCxLQUFLdWtELFFBQVFqckQsR0FBR3dnQyxJQUFJK08sR0FleEIsT0FBTzdvQyxJQUNYLEVBSUE4dUUsRUFBUzd0RSxVQUFVeWlDLE9BQVMsU0FBVTRnQyxFQUFleDZELEdBQ2pELElBQUl5NUIsRUFDQTNVLEVBQ0FnRCxFQUNBKzdDLEVBeUJKLEdBeEJJN2pFLElBQ0lBLGFBQW1CK3ZDLElBQ25CanNCLEdBQVksUUFBUywyREFFckIyVixFQUFnQno1QixFQUNoQjhrQixFQUFRbnJCLFVBQVUsR0FDbEJtdUIsRUFBWW51QixVQUFVLEdBQ3RCa3FFLEVBQXNCbHFFLFVBQVUsS0FJaEM4L0IsRUFBZ0J6NUIsRUFBUXk1QixjQUN4QjNVLEVBQVE5a0IsRUFBUThrQixNQUNoQmdELEVBQVk5bkIsRUFBUThuQixVQUNwQis3QyxFQUFzQjdqRSxFQUFRNmpFLHNCQUl0QzN0RSxLQUFLK2xELG1CQUFxQnhpQixFQUMxQnZqQyxLQUFLdWtELFFBQVF3cUIsVUFBVTVyRSxPQUN2Qm5ELEtBQUttRCxLQUFLLGFBRVZuRCxLQUFLeWdELFdBQVc3dUIsVUFBWUEsR0FFeEI1eEIsS0FBS3VCLFFBQVFpdUUsT0FBakIsQ0FNQSxHQUhLanNDLElBQ0R2akMsS0FBSytzRSxvQkFBc0J6SSxJQUUxQnFKLEVBQXFCLENBRXRCLElBQUl0c0MsRUFBY2lqQyxFQUFjcGpDLG1CQUNoQ29qQyxFQUFjanBDLGtCQUNkaXBDLEVBQWNsakMsa0JBQWtCQyxFQUVwQyxDQUNBcmhDLEtBQUt1akMsY0FBYzJHLEtBQUszRyxHQUN4QnZqQyxLQUFLK2pDLE1BQU1nZixnQkFBZ0Izb0QsY0FDYnVKLElBQVZpckIsRUFBc0JBLEVBQVE1dUIsS0FBSzhiLG9CQUNuQzliLEtBQUt1akMsY0FBYzNVLFFBRXZCMDFDLEVBQWM1Z0MsT0FBTzFqQyxNQUVyQkEsS0FBSytqQyxNQUFNZ2YsZ0JBQWdCbGYsUUFDdkJOLEdBQ0FBLEVBQWM0RyxZQUFZdEMsU0FFOUI3bkMsS0FBS3VrRCxRQUFRdUIsV0FBVzNpRCxPQUV4Qm5ELEtBQUt5Z0QsV0FBVzd1QixVQUFZLEtBQzVCNXhCLEtBQUttRCxLQUFLLGFBekJWLENBMEJKLEVBS0EyckUsRUFBUzd0RSxVQUFVc3NFLGdCQUFrQixTQUFVakosRUFBZXg2RCxFQUFTNGtCLEVBQVk4K0MsUUFDL0QsSUFBWjFqRSxJQUFzQkEsRUFBVSxDQUFDLEdBQ3JDLElBQUl5NUIsRUFBZ0JyRixFQUFPajlCLFVBQVVzc0UsZ0JBQWdCOXFFLEtBQUt6QyxLQUFNc2tFLEVBQWV4NkQsRUFBUzRrQixFQUFZOCtDLEdBRXBHLE9BREF4dEUsS0FBSzgyQyxZQUFZZ0ssT0FDVnZkLENBQ1gsRUFNQXVyQyxFQUFTN3RFLFVBQVUwdEIsT0FBUyxTQUFVdytDLEVBQW9CQyxHQUN0RGx2QyxFQUFPajlCLFVBQVUwdEIsT0FBT2xzQixLQUFLekMsS0FBTW10RSxFQUFvQkMsR0FDdkRwdEUsS0FBS3VrRCxRQUFRNTFCLE9BQU94ckIsS0FBS25ELEtBQUs2NkQsT0FBTzVqRCxPQUFRalgsS0FBSzY2RCxPQUFPN2pELE1BQzdELEVBS0E4M0QsRUFBUzd0RSxVQUFVaWlELE1BQVEsV0FFdkIsT0FEQWxqRCxLQUFLdWtELFFBQVFyQixNQUFNLy9DLE9BQ1puRCxJQUNYLEVBRUE4dUUsRUFBUzd0RSxVQUFVMnRCLE1BQVEsV0FDdkI1dUIsS0FBS3VqQyxjQUFjMkcsT0FDbkJscUMsS0FBS3VqQyxjQUFjM1UsT0FDdkIsRUFNQWtnRCxFQUFTN3RFLFVBQVVzdEIsUUFBVSxTQUFVcS9DLEdBRW5DLElBQUssSUFBSTl1RSxLQURUa0IsS0FBS3VrRCxRQUFRaDJCLFFBQVFwckIsT0FDUG5ELEtBQUt1a0QsUUFDZnZrRCxLQUFLdWtELFFBQVF6bEQsR0FBR3l2QixVQUdwQjJQLEVBQU9qOUIsVUFBVXN0QixRQUFROXJCLEtBQUt6QyxLQUFNNHRFLEdBRXBDNXRFLEtBQUsyZ0IsR0FBSyxJQUNkLEVBQ0EzZixPQUFPa1EsZUFBZTQ5RCxFQUFTN3RFLFVBQVcsVUFBVyxDQU9qRG1RLElBQUssV0FFRCxPQURBd2MsR0FBWSxRQUFTLHNGQUNkNXRCLEtBQUtndEUsUUFBUXlDLE9BQ3hCLEVBQ0F0K0QsWUFBWSxFQUNaZ2UsY0FBYyxJQVFsQjIvQyxFQUFTWSxlQUFpQixTQUFVQyxFQUFZQyxHQUM1Q2hpRCxHQUFZLFFBQVMsdUZBQ3JCa1gsR0FBQSxJQUFpQixDQUNidmlDLEtBQU1vdEUsRUFDTi9vRSxLQUFNMjlCLEdBQWNzckMsZUFDcEJockMsSUFBSytxQyxHQUViLEVBY0FkLEVBQVNHLFVBQVksQ0FBQyxFQUNmSCxDQUNYLENBclQ2QixDQXFUM0JwQyxJQW1DRixTQUFTb0QsR0FBbUJobUUsR0FDeEIsT0FBT2dsRSxHQUFTM3NFLE9BQU8ySCxFQUMzQixDQW5DQWc3QixHQUFBLFlBQXlCUCxHQUFjc3JDLGVBQWdCZixHQUFTRyxXQXFDaEUsSUFnQkljLEdBaEJpQixzUkFpQmpCQyxHQWZ1QiwrakJBc0J2QkMsR0FBd0IsV0FJeEIsU0FBU0EsRUFBTzVzQyxHQUNaelYsR0FBWSxRQUFTLHNFQUNyQjV0QixLQUFLcWpDLFNBQVdBLENBQ3BCLENBS0EsT0FIQTRzQyxFQUFPaHZFLFVBQVVzdEIsUUFBVSxXQUN2QnZ1QixLQUFLcWpDLFNBQVcsSUFDcEIsRUFDTzRzQyxDQUNYLENBYjJCLEdBb0J2QkMsR0FDQSxXQUNJbHdFLEtBQUt1akQsU0FBVyxLQUNoQnZqRCxLQUFLNjBELE1BQVEsRUFDYjcwRCxLQUFLNEcsS0FBT2tPLEVBQVdtdEMsVUFDdkJqaUQsS0FBSzVGLE1BQVEsRUFDYjRGLEtBQUtxc0IsS0FBTyxFQUNacnNCLEtBQUs1SCxLQUFPLElBQ2hCLEVBU0ErM0UsR0FBbUMsV0FDbkMsU0FBU0EsSUFDTG53RSxLQUFLeWpELFNBQVcsR0FDaEJ6akQsS0FBSzA4QyxJQUFNLEdBQ1gxOEMsS0FBS29vQyxNQUFRLENBQ2pCLENBT0EsT0FOQStuQyxFQUFrQmx2RSxVQUFVMnRCLE1BQVEsV0FDaEMsSUFBSyxJQUFJdDFCLEVBQUksRUFBR0EsRUFBSTBHLEtBQUtvb0MsTUFBTzl1QyxJQUM1QjBHLEtBQUt5akQsU0FBU25xRCxHQUFLLEtBRXZCMEcsS0FBS29vQyxNQUFRLENBQ2pCLEVBQ08rbkMsQ0FDWCxDQWJzQyxHQW1CbENDLEdBQWdDLFdBQ2hDLFNBQVNBLEVBQWVDLEdBQ1EsaUJBQWpCQSxFQUNQcndFLEtBQUtzd0UsY0FBZ0IsSUFBSTk1RCxZQUFZNjVELEdBRWhDQSxhQUF3Qno1RCxXQUM3QjVXLEtBQUtzd0UsY0FBZ0JELEVBQWFwakQsT0FHbENqdEIsS0FBS3N3RSxjQUFnQkQsRUFFekJyd0UsS0FBS3V3RSxXQUFhLElBQUk3NUQsWUFBWTFXLEtBQUtzd0UsZUFDdkN0d0UsS0FBS3d3RSxZQUFjLElBQUkvNUQsYUFBYXpXLEtBQUtzd0UsY0FDN0MsQ0E0RkEsT0EzRkF0dkUsT0FBT2tRLGVBQWVrL0QsRUFBZW52RSxVQUFXLFdBQVksQ0FFeERtUSxJQUFLLFdBSUQsT0FIS3BSLEtBQUt5d0UsWUFDTnp3RSxLQUFLeXdFLFVBQVksSUFBSUMsVUFBVTF3RSxLQUFLc3dFLGdCQUVqQ3R3RSxLQUFLeXdFLFNBQ2hCLEVBQ0F0L0QsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWsvRCxFQUFlbnZFLFVBQVcsWUFBYSxDQUV6RG1RLElBQUssV0FJRCxPQUhLcFIsS0FBSzJ3RSxhQUNOM3dFLEtBQUsyd0UsV0FBYSxJQUFJLzVELFdBQVc1VyxLQUFLc3dFLGdCQUVuQ3R3RSxLQUFLMndFLFVBQ2hCLEVBQ0F4L0QsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWsvRCxFQUFlbnZFLFVBQVcsWUFBYSxDQUV6RG1RLElBQUssV0FJRCxPQUhLcFIsS0FBSzR3RSxhQUNONXdFLEtBQUs0d0UsV0FBYSxJQUFJQyxXQUFXN3dFLEtBQUtzd0UsZ0JBRW5DdHdFLEtBQUs0d0UsVUFDaEIsRUFDQXovRCxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlay9ELEVBQWVudkUsVUFBVyxhQUFjLENBRTFEbVEsSUFBSyxXQUlELE9BSEtwUixLQUFLOHdFLGNBQ045d0UsS0FBSzh3RSxZQUFjLElBQUluNkQsWUFBWTNXLEtBQUtzd0UsZ0JBRXJDdHdFLEtBQUs4d0UsV0FDaEIsRUFDQTMvRCxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlay9ELEVBQWVudkUsVUFBVyxZQUFhLENBRXpEbVEsSUFBSyxXQUlELE9BSEtwUixLQUFLK3dFLGFBQ04vd0UsS0FBSyt3RSxXQUFhLElBQUlsNkQsV0FBVzdXLEtBQUtzd0UsZ0JBRW5DdHdFLEtBQUsrd0UsVUFDaEIsRUFDQTUvRCxZQUFZLEVBQ1pnZSxjQUFjLElBUWxCaWhELEVBQWVudkUsVUFBVXVhLEtBQU8sU0FBVTVVLEdBQ3RDLE9BQU81RyxLQUFLNEcsRUFBTyxPQUN2QixFQUVBd3BFLEVBQWVudkUsVUFBVXN0QixRQUFVLFdBQy9CdnVCLEtBQUtzd0UsY0FBZ0IsS0FDckJ0d0UsS0FBS3l3RSxVQUFZLEtBQ2pCendFLEtBQUsyd0UsV0FBYSxLQUNsQjN3RSxLQUFLNHdFLFdBQWEsS0FDbEI1d0UsS0FBSzh3RSxZQUFjLEtBQ25COXdFLEtBQUsrd0UsV0FBYSxLQUNsQi93RSxLQUFLdXdFLFdBQWEsS0FDbEJ2d0UsS0FBS3d3RSxZQUFjLElBQ3ZCLEVBQ0FKLEVBQWVZLE9BQVMsU0FBVXBxRSxHQUM5QixPQUFRQSxHQUNKLElBQUssT0FDTCxJQUFLLFFBQ0QsT0FBTyxFQUNYLElBQUssUUFDTCxJQUFLLFNBQ0QsT0FBTyxFQUNYLElBQUssUUFDTCxJQUFLLFNBQ0wsSUFBSyxVQUNELE9BQU8sRUFDWCxRQUNJLE1BQU0sSUFBSTRsQixNQUFNNWxCLEVBQU8sNEJBRW5DLEVBQ093cEUsQ0FDWCxDQTFHbUMsR0FxSC9CYSxHQUF1QyxTQUFVL3lDLEdBT2pELFNBQVMreUMsRUFBc0I1dEMsR0FDM0IsSUFBSWxGLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU1xakMsSUFBYXJqQyxLQTBCM0MsT0F6QkFtK0IsRUFBTSt5QyxnQkFBa0IsS0FDeEIveUMsRUFBTWd6QyxjQUFnQixLQUN0Qmh6QyxFQUFNaXpDLFdBQWEsS0FDbkJqekMsRUFBTWlpQixNQUFRdVUsR0FBTVEsUUFDcEJoM0IsRUFBTTlSLEtBQW9DLEVBQTdCNVIsR0FBU2Esa0JBQ3RCNmlCLEVBQU1rekMsYUFBZSxFQUNyQmx6QyxFQUFNbXpDLFlBQWMsRUFDcEJuekMsRUFBTW96QyxrQkFBb0IsR0FDMUJwekMsRUFBTXF6QyxrQkFBb0IsR0FDMUJyekMsRUFBTXN6QyxZQUFjLEVBQ3BCdHpDLEVBQU11ekMsUUFBVSxLQUNoQnZ6QyxFQUFNd3pDLGtCQUFvQixHQUMxQnh6QyxFQUFNeXpDLHdCQUEwQixFQUNoQ3p6QyxFQUFNMHpDLFNBQVcsRUFDakIxekMsRUFBTTJ6QyxVQUFZLENBQUMsRUFDbkIzekMsRUFBTTR6QyxVQUFZLENBQUMsRUFDbkI1ekMsRUFBTTZ6QyxhQUFlLEVBQ3JCN3pDLEVBQU1rRixTQUFTeC9CLEdBQUcsWUFBYXM2QixFQUFNOHpDLFlBQWE5ekMsR0FDbERrRixFQUFTa2hCLFFBQVFMLGNBQWNwcUIsSUFBSXFFLEdBQ25DQSxFQUFNK3pDLFNBQVcsRUFDakIvekMsRUFBTWcwQyxRQUFVLEVBQ2hCaDBDLEVBQU1pMEMsUUFBVSxFQUNoQmowQyxFQUFNazBDLGlCQUFtQixLQUN6QmwwQyxFQUFNbTBDLGFBQWUsS0FDckJuMEMsRUFBTW8wQyxtQkFBcUIsR0FDcEJwMEMsQ0FDWCxDQW9WQSxPQXRYQSxHQUFVOHlDLEVBQXVCL3lDLEdBd0NqQyt5QyxFQUFzQmh3RSxVQUFVaWpELGNBQWdCLFdBQzVDLElBQUl2akMsRUFBSzNnQixLQUFLcWpDLFNBQVMxaUIsR0FDbkJsRyxHQUFTNHVCLGFBQWUzMEIsRUFBSXd5QyxhQUM1QmxuRCxLQUFLZ3lFLGFBQWUsR0FJcEJoeUUsS0FBS2d5RSxhQUFlLzNFLEtBQUt3RixJQUFJa2hCLEVBQUdncUQsYUFBYWhxRCxFQUFHaXFELHlCQUEwQm53RCxHQUFTUyxxQkFFbkZsYixLQUFLZ3lFLGFBQWV4ZSxHQUE2Qnh6RCxLQUFLZ3lFLGFBQWNyeEQsSUFFeEUzZ0IsS0FBSzB4RSxRQUFVMXhFLEtBQUtreEUsZ0JBQWdCc0IsZUFBZXh5RSxLQUFLZ3lFLGNBR3hELElBQUssSUFBSTE0RSxFQUFJLEVBQUdBLEVBQUkwRyxLQUFLNHhFLHdCQUF5QnQ0RSxJQUU5QzBHLEtBQUsyeEUsa0JBQWtCcjRFLEdBQUssSUFBSzBHLEtBQWtCLGNBRXZEQSxLQUFLeXlFLGtCQUNULEVBRUF4QixFQUFzQmh3RSxVQUFVd3hFLGlCQUFtQixXQU0vQyxJQUxBLElBQUlDLEVBQWdCekIsRUFBc0J5QixjQUFlQyxFQUFvQjFCLEVBQXNCMEIsa0JBRS9GQyxFQUFjNXlFLEtBQUtxc0IsS0FBTyxFQUUxQndtRCxFQUFTNTRFLEtBQUt3TSxNQUFNbXNFLEVBQWM1eUUsS0FBS2d5RSxjQUFnQixFQUNwRFUsRUFBYzM1RSxPQUFTNjVFLEdBQzFCRixFQUFjLzRFLEtBQUssSUFBSXUyRSxJQUUzQixLQUFPeUMsRUFBa0I1NUUsT0FBUzg1RSxHQUM5QkYsRUFBa0JoNUUsS0FBSyxJQUFJdzJFLElBRS9CLElBQUssSUFBSTcyRSxFQUFJLEVBQUdBLEVBQUkwRyxLQUFLZ3lFLGFBQWMxNEUsSUFDbkMwRyxLQUFLdXlFLG1CQUFtQmo1RSxHQUFLLElBRXJDLEVBRUEyM0UsRUFBc0Jod0UsVUFBVWd4RSxZQUFjLFdBQzFDanlFLEtBQUs2eEUsU0FBVyxDQUNwQixFQU1BWixFQUFzQmh3RSxVQUFVeWlDLE9BQVMsU0FBVW1NLEdBQzFDQSxFQUFReVMsU0FBU3ZWLFFBR2xCL3NDLEtBQUtxeEUsYUFBZ0J4aEMsRUFBUXBULFdBQVcxakMsT0FBUyxFQUFLaUgsS0FBS3FzQixNQUMzRHJzQixLQUFLNmpDLFFBRVQ3akMsS0FBS3F4RSxjQUFnQnhoQyxFQUFRcFQsV0FBVzFqQyxPQUFTLEVBQ2pEaUgsS0FBS3N4RSxhQUFlemhDLEVBQVFpakMsUUFBUS81RSxPQUNwQ2lILEtBQUt3eEUsa0JBQWtCeHhFLEtBQUt5eEUsYUFBZTVoQyxFQUFReVMsU0FBU25ZLFlBQzVEbnFDLEtBQUt1eEUsa0JBQWtCdnhFLEtBQUt5eEUsZUFBaUI1aEMsRUFDakQsRUFDQW9oQyxFQUFzQmh3RSxVQUFVOHhFLDBCQUE0QixXQUN4RCxJQUFlOTNCLEVBQU5qN0MsS0FBb0J3eEUsa0JBQW1CUSxFQUF2Q2h5RSxLQUF5RGd5RSxhQUM5RGdCLEVBQWdCL0IsRUFBc0IwQixrQkFDdEM1dUMsRUFBUS9qQyxLQUFLcWpDLFNBQVNVLE1BQ3RCc2YsRUFBZ0JyakQsS0FBS3V5RSxtQkFDckJVLEVBQVFqekUsS0FBS3FqQyxTQUFTOG5DLFVBQVUvaUMsTUFDaEM4cUMsSUFBU3JuQyxHQUFZd0MsYUFDckI4a0MsRUFBaUIsRUFDakI1dkIsRUFBV3l2QixFQUFjLEdBQ3pCNTRFLEVBQVEsRUFDWjJwQyxFQUFNb2Ysa0JBQWtCRSxFQUFlMnVCLEdBQ3ZDLElBQUssSUFBSTE0RSxFQUFJLEVBQUdBLEVBQUkwRyxLQUFLeXhFLGNBQWVuNEUsRUFBRyxDQUN2QyxJQUFJeStDLEVBQU1rRCxFQUFTM2hELEdBQ25CMmhELEVBQVMzaEQsR0FBSyxLQUNWeStDLEVBQUk5SyxnQkFBa0JpbUMsSUFHdEIzdkIsRUFBU25iLE9BQVM0cEMsSUFDbEJqdUMsRUFBTXVmLFdBQVdDLEVBQVVGLEVBQWU2dkIsRUFBTWxCLEdBQ2hEaHlFLEtBQUtvekUsZUFBZTd2QixFQUFVbnBELEVBQU9kLEdBQ3JDYyxFQUFRZCxFQUNSaXFELEVBQVd5dkIsSUFBZ0JHLEtBQ3pCRCxHQUVObjdCLEVBQUk5SyxjQUFnQmltQyxFQUNwQm43QixFQUFJdkwsUUFBVXltQyxFQUNkMXZCLEVBQVNFLFNBQVNGLEVBQVNuYixTQUFXMlAsRUFDMUMsQ0FRQSxJQVBJd0wsRUFBU25iLE1BQVEsSUFDakJyRSxFQUFNdWYsV0FBV0MsRUFBVUYsRUFBZTZ2QixFQUFNbEIsR0FDaERoeUUsS0FBS296RSxlQUFlN3ZCLEVBQVVucEQsRUFBTzRGLEtBQUt5eEUsZUFDeEMwQixJQUNBRCxHQUdHNTVFLEVBQUksRUFBR0EsRUFBSStwRCxFQUFjdHFELE9BQVFPLElBQ3RDK3BELEVBQWMvcEQsR0FBSyxLQUV2QnV5QyxHQUFZd0MsYUFBZTZrQyxDQUMvQixFQU9BakMsRUFBc0Jod0UsVUFBVW15RSxlQUFpQixTQUFVN3ZCLEVBQVVucEQsRUFBT2k1RSxHQUN4RSxJQUFJMzdELEVBQUsxWCxLQUFNeWpELEVBQVcvckMsRUFBRzY1RCxrQkFBbUJjLEVBQW1CMzZELEVBQUcyNkQsaUJBQWtCQyxFQUFlNTZELEVBQUc0NkQsYUFBY2xCLEVBQWExNUQsRUFBRzA1RCxXQUNwSWtDLEVBQVlyQyxFQUFzQnlCLGNBQ2xDYSxFQUFVdnpFLEtBQUtreUUsU0FDZnNCLEVBQVN4ekUsS0FBS215RSxRQUNkc0IsRUFBU3p6RSxLQUFLb3lFLFFBQ2RzQixFQUFXSixFQUFVQyxHQUN6QkcsRUFBU3Q1RSxNQUFRNEYsS0FBS295RSxRQUN0QnNCLEVBQVNud0IsU0FBV0EsRUFDcEIsSUFBSyxJQUFJanFELEVBQUljLEVBQU9kLEVBQUkrNUUsSUFBVS81RSxFQUFHLENBQ2pDLElBQUkrb0QsRUFBU29CLEVBQVNucUQsR0FDbEJ5K0MsRUFBTXNLLEVBQU9DLFNBQVNuWSxZQUN0QndwQyxFQUFrQjdvRCxHQUFxQml0QixFQUFJOU0sVUFBWSxFQUFJLEdBQUdvWCxFQUFPNTJCLFdBQ3pFZzRCLEVBQVNucUQsR0FBSyxLQUNWYyxFQUFRZCxHQUFLbzZFLEVBQVM3ZSxRQUFVOGUsSUFDaENELEVBQVNybkQsS0FBT29uRCxFQUFTQyxFQUFTdDVFLE1BQ2xDQSxFQUFRZCxHQUNSbzZFLEVBQVdKLElBQVlDLElBQ2Rod0IsU0FBV0EsRUFDcEJtd0IsRUFBU3Q1RSxNQUFRcTVFLEdBRXJCenpFLEtBQUs0ekUsd0JBQXdCdnhCLEVBQVFnd0IsRUFBa0JDLEVBQWNrQixFQUFRQyxHQUM3RUQsR0FBVW54QixFQUFPNWxCLFdBQVcxakMsT0FBUyxFQUFJcTRFLEVBQ3pDcUMsR0FBVXB4QixFQUFPeXdCLFFBQVEvNUUsT0FDekIyNkUsRUFBUzdlLE1BQVE4ZSxDQUNyQixDQUNJdjVFLEVBQVFpNUUsSUFDUkssRUFBU3JuRCxLQUFPb25ELEVBQVNDLEVBQVN0NUUsUUFDaENtNUUsR0FFTnZ6RSxLQUFLa3lFLFNBQVdxQixFQUNoQnZ6RSxLQUFLbXlFLFFBQVVxQixFQUNmeHpFLEtBQUtveUUsUUFBVXFCLENBQ25CLEVBS0F4QyxFQUFzQmh3RSxVQUFVNHlFLHFCQUF1QixTQUFVdHdCLEdBRTdELElBREEsSUFBSXV3QixFQUFnQjl6RSxLQUFLcWpDLFNBQVM2TCxRQUN6Qmh2QyxFQUFJLEVBQUdBLEVBQUlxakQsRUFBU25iLE1BQU9sb0MsSUFDaEM0ekUsRUFBYzVwQyxLQUFLcVosRUFBU0UsU0FBU3ZqRCxHQUFJcWpELEVBQVM3RyxJQUFJeDhDLElBQ3REcWpELEVBQVNFLFNBQVN2akQsR0FBSyxLQUUzQnFqRCxFQUFTbmIsTUFBUSxDQUNyQixFQUNBNm9DLEVBQXNCaHdFLFVBQVU4eUUsZUFBaUIsV0FDN0MsSUFBSXI4RCxFQUFLMVgsS0FBTWcwRSxFQUFtQnQ4RCxFQUFHaTZELGtCQUFtQnNDLEVBQWtCdjhELEVBQUcyNkQsaUJBQWtCajJCLEVBQWMxa0MsRUFBRzQ2RCxhQUMzRzczRCxHQUFTb0Msd0JBY1ZtM0QsRUFBaUJoMEUsS0FBSzZ4RSxVQUFVcUMsUUFBUXJzQyxPQUFPb3NDLEVBQWdCM0QsZUFDL0QwRCxFQUFpQmgwRSxLQUFLNnhFLFVBQVVTLGFBQWF6cUMsT0FBT3VVLEdBQ3BEcDhDLEtBQUtxakMsU0FBUzhaLFNBQVN1TyxrQkFkbkIxckQsS0FBSzR4RSx5QkFBMkI1eEUsS0FBSzZ4RSxXQUNyQzd4RSxLQUFLNHhFLDBCQUNMb0MsRUFBaUJoMEUsS0FBSzZ4RSxVQUFZLElBQUs3eEUsS0FBa0IsZUFFN0RnMEUsRUFBaUJoMEUsS0FBSzZ4RSxVQUFVcUMsUUFBUXJzQyxPQUFPb3NDLEVBQWdCM0QsZUFDL0QwRCxFQUFpQmgwRSxLQUFLNnhFLFVBQVVTLGFBQWF6cUMsT0FBT3VVLEdBQ3BEcDhDLEtBQUtxakMsU0FBUzhaLFNBQVNqVCxLQUFLOHBDLEVBQWlCaDBFLEtBQUs2eEUsV0FDbEQ3eEUsS0FBS3FqQyxTQUFTOFosU0FBU3VPLGdCQUN2QjFyRCxLQUFLNnhFLFdBUWIsRUFDQVosRUFBc0Jod0UsVUFBVWt6RSxZQUFjLFdBTTFDLElBTEEsSUFBSUMsRUFBVXAwRSxLQUFLa3lFLFNBQ2Z4NkQsRUFBSzFYLEtBQUtxakMsU0FBVTFpQixFQUFLakosRUFBR2lKLEdBQUkwZ0MsRUFBYzNwQyxFQUFHMG9DLE1BQ2pEa3pCLEVBQVlyQyxFQUFzQnlCLGNBQ2xDMkIsRUFBYyxLQUVULzZFLEVBQUksRUFBR0EsRUFBSTg2RSxFQUFTOTZFLElBQUssQ0FDOUIsSUFBSTZyQyxFQUFLbXVDLEVBQVVoNkUsR0FBSWlxRCxFQUFXcGUsRUFBR29lLFNBQVUzOEMsRUFBT3UrQixFQUFHditCLEtBQU15bEIsRUFBTzhZLEVBQUc5WSxLQUFNanlCLEVBQVErcUMsRUFBRy9xQyxNQUFPeTZELEVBQVExdkIsRUFBRzB2QixNQUN4R3dmLElBQWdCOXdCLElBQ2hCOHdCLEVBQWM5d0IsRUFDZHZqRCxLQUFLNnpFLHFCQUFxQnR3QixJQUU5QnZqRCxLQUFLb2dELE1BQU0zMEIsVUFBWW9wQyxFQUN2QnhULEVBQVlueUIsSUFBSWx2QixLQUFLb2dELE9BQ3JCei9CLEVBQUd3c0MsYUFBYXZtRCxFQUFNeWxCLEVBQU0xTCxFQUFHNjFCLGVBQXdCLEVBQVJwOEMsRUFDbkQsQ0FDSixFQUVBNjJFLEVBQXNCaHdFLFVBQVU0aUMsTUFBUSxXQUNWLElBQXRCN2pDLEtBQUtxeEUsZUFHVHJ4RSxLQUFLcXlFLGlCQUFtQnJ5RSxLQUFLczBFLG1CQUFtQnQwRSxLQUFLcXhFLGNBQ3JEcnhFLEtBQUtzeUUsYUFBZXR5RSxLQUFLdTBFLGVBQWV2MEUsS0FBS3N4RSxhQUM3Q3R4RSxLQUFLbXlFLFFBQVUsRUFDZm55RSxLQUFLb3lFLFFBQVUsRUFDZnB5RSxLQUFLa3lFLFNBQVcsRUFDaEJseUUsS0FBSyt5RSw0QkFDTC95RSxLQUFLK3pFLGlCQUNML3pFLEtBQUttMEUsY0FFTG4wRSxLQUFLeXhFLFlBQWMsRUFDbkJ6eEUsS0FBS3F4RSxhQUFlLEVBQ3BCcnhFLEtBQUtzeEUsWUFBYyxFQUN2QixFQUVBTCxFQUFzQmh3RSxVQUFVN0csTUFBUSxXQUNwQzRGLEtBQUtxakMsU0FBUytjLE1BQU1seEIsSUFBSWx2QixLQUFLb2dELE9BQzdCcGdELEtBQUtxakMsU0FBUzZMLFFBQVF1OEIsa0JBQWtCenJFLEtBQUtneUUsY0FDN0NoeUUsS0FBS3FqQyxTQUFTdWUsT0FBTzFYLEtBQUtscUMsS0FBSzB4RSxTQUMzQmozRCxHQUFTb0Msd0JBRVQ3YyxLQUFLcWpDLFNBQVM4WixTQUFTalQsS0FBS2xxQyxLQUFLMnhFLGtCQUFrQjN4RSxLQUFLNnhFLFVBRWhFLEVBRUFaLEVBQXNCaHdFLFVBQVVsRixLQUFPLFdBQ25DaUUsS0FBSzZqQyxPQUNULEVBRUFvdEMsRUFBc0Jod0UsVUFBVXN0QixRQUFVLFdBQ3RDLElBQUssSUFBSWoxQixFQUFJLEVBQUdBLEVBQUkwRyxLQUFLNHhFLHdCQUF5QnQ0RSxJQUMxQzBHLEtBQUsyeEUsa0JBQWtCcjRFLElBQ3ZCMEcsS0FBSzJ4RSxrQkFBa0JyNEUsR0FBR2kxQixVQUdsQ3Z1QixLQUFLcWpDLFNBQVN0L0IsSUFBSSxZQUFhL0QsS0FBS2l5RSxZQUFhanlFLE1BQ2pEQSxLQUFLOHhFLFVBQVksS0FDakI5eEUsS0FBSyt4RSxVQUFZLEtBQ2pCL3hFLEtBQUsyeEUsa0JBQW9CLEtBQ3pCM3hFLEtBQUtxeUUsaUJBQW1CLEtBQ3hCcnlFLEtBQUtzeUUsYUFBZSxLQUNoQnR5RSxLQUFLMHhFLFVBQ0wxeEUsS0FBSzB4RSxRQUFRbmpELFVBQ2J2dUIsS0FBSzB4RSxRQUFVLE1BRW5CeHpDLEVBQU9qOUIsVUFBVXN0QixRQUFROXJCLEtBQUt6QyxLQUNsQyxFQU1BaXhFLEVBQXNCaHdFLFVBQVVxekUsbUJBQXFCLFNBQVVqb0QsR0FFM0QsSUFBSW1vRCxFQUFZcm5ELEdBQVNsekIsS0FBS2s1QixLQUFLOUcsRUFBTyxJQUN0Q29vRCxFQUFtQnBuRCxHQUFLbW5ELEdBQ3hCRSxFQUEwQixFQUFaRixFQUNkeDBFLEtBQUs4eEUsVUFBVS80RSxRQUFVMDdFLElBQ3pCejBFLEtBQUsreEUsVUFBVWg1RSxPQUFTMDdFLEVBQW1CLEdBRS9DLElBQUl4bkQsRUFBU2p0QixLQUFLOHhFLFVBQVU0QyxHQUk1QixPQUhLem5ELElBQ0RqdEIsS0FBSzh4RSxVQUFVNEMsR0FBZXpuRCxFQUFTLElBQUltakQsR0FBZXNFLEVBQWMxMEUsS0FBS294RSxXQUFhLElBRXZGbmtELENBQ1gsRUFPQWdrRCxFQUFzQmh3RSxVQUFVc3pFLGVBQWlCLFNBQVVsb0QsR0FFdkQsSUFBSW1vRCxFQUFZcm5ELEdBQVNsekIsS0FBS2s1QixLQUFLOUcsRUFBTyxLQUN0Q29vRCxFQUFtQnBuRCxHQUFLbW5ELEdBQ3hCRSxFQUEwQixHQUFaRixFQUNkeDBFLEtBQUsreEUsVUFBVWg1RSxRQUFVMDdFLElBQ3pCejBFLEtBQUsreEUsVUFBVWg1RSxPQUFTMDdFLEVBQW1CLEdBRS9DLElBQUl4bkQsRUFBU2p0QixLQUFLK3hFLFVBQVUwQyxHQUk1QixPQUhLeG5ELElBQ0RqdEIsS0FBSyt4RSxVQUFVMEMsR0FBb0J4bkQsRUFBUyxJQUFJdFcsWUFBWSs5RCxJQUV6RHpuRCxDQUNYLEVBY0Fna0QsRUFBc0Jod0UsVUFBVTJ5RSx3QkFBMEIsU0FBVS9qQyxFQUFTb2tDLEVBQWlCNzNCLEVBQWFvM0IsRUFBUUMsR0FhL0csSUFaQSxJQUFJbEQsRUFBYTBELEVBQWdCMUQsV0FBWUMsRUFBY3lELEVBQWdCekQsWUFDdkVtRSxFQUFpQm5CLEVBQVN4ekUsS0FBS294RSxXQUMvQnJ6QixFQUFNbE8sRUFBUWtPLElBQ2Q2MkIsRUFBVy9rQyxFQUFRaWpDLFFBQ25CcjJDLEVBQWFvVCxFQUFRcFQsV0FDckJvNEMsRUFBWWhsQyxFQUFReVMsU0FBU25ZLFlBQVkrQyxlQUN6Q3RoQixFQUFRM3hCLEtBQUt3RixJQUFJb3dDLEVBQVFuUixXQUFZLEdBQ3JDbzJDLEVBQVFscEQsRUFBUSxHQUNiaWtCLEVBQVF5UyxTQUFTblksWUFBWWMsVUFDOUJuZixHQUFnQitqQixFQUFRa2xDLFNBQVVucEQsR0FDbENpa0IsRUFBUWtsQyxVQUFvQixJQUFSbnBELEdBQWUsSUFFaEN0eUIsRUFBSSxFQUFHQSxFQUFJbWpDLEVBQVcxakMsT0FBUU8sR0FBSyxFQUN4Q2szRSxFQUFZZ0QsS0FBWS8yQyxFQUFXbmpDLEdBQ25DazNFLEVBQVlnRCxLQUFZLzJDLEVBQVduakMsRUFBSSxHQUN2Q2szRSxFQUFZZ0QsS0FBWXoxQixFQUFJemtELEdBQzVCazNFLEVBQVlnRCxLQUFZejFCLEVBQUl6a0QsRUFBSSxHQUNoQ2kzRSxFQUFXaUQsS0FBWXNCLEVBQ3ZCdEUsRUFBWWdELEtBQVlxQixFQUU1QixJQUFTdjdFLEVBQUksRUFBR0EsRUFBSXM3RSxFQUFTNzdFLE9BQVFPLElBQ2pDOGlELEVBQVlxM0IsS0FBWWtCLEVBQWlCQyxFQUFTdDdFLEVBRTFELEVBU0EyM0UsRUFBc0J5QixjQUFnQixHQVN0Q3pCLEVBQXNCMEIsa0JBQW9CLEdBQ25DMUIsQ0FDWCxDQXhYMEMsQ0F3WHhDdHVCLElBTUVxeUIsR0FBc0MsV0FLdEMsU0FBU0EsRUFBcUJoaEIsRUFBV1gsR0FLckMsR0FKQXJ6RCxLQUFLZzBELFVBQVlBLEVBQ2pCaDBELEtBQUtxekQsYUFBZUEsRUFDcEJyekQsS0FBS2kxRSxhQUFlLENBQUMsRUFDckJqMUUsS0FBS2sxRSxrQkFBb0IsQ0FBQyxFQUN0QjdoQixFQUFhaHBELFFBQVEsV0FBYSxFQUNsQyxNQUFNLElBQUltaUIsTUFBTSw2Q0FFcEIsR0FBSTZtQyxFQUFhaHBELFFBQVEsYUFBZSxFQUNwQyxNQUFNLElBQUltaUIsTUFBTSw4Q0FFeEIsQ0F1Q0EsT0F0Q0F3b0QsRUFBcUIvekUsVUFBVXV4RSxlQUFpQixTQUFVcHZCLEdBQ3RELElBQUtwakQsS0FBS2kxRSxhQUFhN3hCLEdBQWMsQ0FFakMsSUFEQSxJQUFJK3hCLEVBQWUsSUFBSXQrRCxXQUFXdXNDLEdBQ3pCOXBELEVBQUksRUFBR0EsRUFBSThwRCxFQUFhOXBELElBQzdCNjdFLEVBQWE3N0UsR0FBS0EsRUFFdEIwRyxLQUFLazFFLGtCQUFrQjl4QixHQUFlOUUsR0FBYWg1QyxLQUFLLENBQUU4dkUsVUFBV0QsSUFBZ0IsR0FDckYsSUFBSXpoQixFQUFjMXpELEtBQUtxekQsYUFFdkJLLEdBREFBLEVBQWNBLEVBQVl4c0QsUUFBUSxZQUFhLEdBQUtrOEMsSUFDMUJsOEMsUUFBUSxjQUFlbEgsS0FBS3ExRSxrQkFBa0JqeUIsSUFDeEVwakQsS0FBS2kxRSxhQUFhN3hCLEdBQWUsSUFBSTJRLEdBQVEvekQsS0FBS2cwRCxVQUFXTixFQUNqRSxDQUNBLElBQUluVixFQUFXLENBQ1h4eUIsS0FBTSxJQUFJdFYsYUFBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLElBQ2pDNitELGtCQUFtQixJQUFJOS9DLEdBQ3ZCKy9DLFFBQVN2MUUsS0FBS2sxRSxrQkFBa0I5eEIsSUFFcEMsT0FBTyxJQUFJbVIsR0FBT3YwRCxLQUFLaTFFLGFBQWE3eEIsR0FBYzdFLEVBQ3RELEVBQ0F5MkIsRUFBcUIvekUsVUFBVW8wRSxrQkFBb0IsU0FBVWp5QixHQUN6RCxJQUFJcFMsRUFBTSxHQUNWQSxHQUFPLEtBQ1BBLEdBQU8sS0FDUCxJQUFLLElBQUkxM0MsRUFBSSxFQUFHQSxFQUFJOHBELEVBQWE5cEQsSUFDekJBLEVBQUksSUFDSjAzQyxHQUFPLFdBRVAxM0MsRUFBSThwRCxFQUFjLElBQ2xCcFMsR0FBTyxtQkFBcUIxM0MsRUFBSSxPQUVwQzAzQyxHQUFPLE1BQ1BBLEdBQU8sbUNBQXFDMTNDLEVBQUkscUJBQ2hEMDNDLEdBQU8sTUFJWCxPQUZBQSxHQUFPLE1BQ0EsSUFFWCxFQUNPZ2tDLENBQ1gsQ0F4RHlDLEdBOERyQ1EsR0FBK0IsU0FBVXQzQyxHQU16QyxTQUFTczNDLEVBQWMvNUIsUUFDSCxJQUFaQSxJQUFzQkEsR0FBVSxHQUNwQyxJQUFJdGQsRUFBUUQsRUFBT3o3QixLQUFLekMsT0FBU0EsS0FRakMsT0FQQW0rQixFQUFNKzFDLFFBQVUsSUFBSTE0QixHQUFPLEtBQU1DLEdBQVMsR0FDMUN0ZCxFQUFNbTBDLGFBQWUsSUFBSTkyQixHQUFPLEtBQU1DLEdBQVMsR0FDL0N0ZCxFQUFNc2UsYUFBYSxrQkFBbUJ0ZSxFQUFNKzFDLFFBQVMsR0FBRyxFQUFPai9ELEVBQU1rNUIsT0FDaEVzTyxhQUFhLGdCQUFpQnRlLEVBQU0rMUMsUUFBUyxHQUFHLEVBQU9qL0QsRUFBTWs1QixPQUM3RHNPLGFBQWEsU0FBVXRlLEVBQU0rMUMsUUFBUyxHQUFHLEVBQU1qL0QsRUFBTXEzQixlQUNyRG1RLGFBQWEsYUFBY3RlLEVBQU0rMUMsUUFBUyxHQUFHLEVBQU1qL0QsRUFBTWs1QixPQUN6RDJPLFNBQVMzZSxFQUFNbTBDLGNBQ2JuMEMsQ0FDWCxDQUNBLE9BakJBLEdBQVVxM0MsRUFBZXQzQyxHQWlCbEJzM0MsQ0FDWCxDQW5Ca0MsQ0FtQmhDdjVCLElBRUV3NUIsR0FBZ0IsMGhCQUVoQkMsR0FBa0IsbU5BR2xCQyxHQUFvQyxXQUNwQyxTQUFTQSxJQUNULENBeUVBLE9BekNBQSxFQUFtQnh6RSxPQUFTLFNBQVUySCxHQUNsQyxJQUFJNE4sRUFBSzFXLE9BQU9xRCxPQUFPLENBQ25CdXhFLE9BQVFILEdBQ1JJLFNBQVVILEdBQ1Z2RSxjQUFlcUUsR0FDZnBFLFdBQVksR0FDYnRuRSxHQUFVOHJFLEVBQVNsK0QsRUFBR2srRCxPQUFRQyxFQUFXbitELEVBQUdtK0QsU0FBVXpFLEVBQWExNUQsRUFBRzA1RCxXQUFZRCxFQUFnQno1RCxFQUFHeTVELGNBQ3hHLE9BQXNCLFNBQVVqekMsR0FFNUIsU0FBUzQzQyxFQUFZenlDLEdBQ2pCLElBQUlsRixFQUFRRCxFQUFPejdCLEtBQUt6QyxLQUFNcWpDLElBQWFyakMsS0FJM0MsT0FIQW0rQixFQUFNK3lDLGdCQUFrQixJQUFJOEQsR0FBcUJZLEVBQVFDLEdBQ3pEMTNDLEVBQU1nekMsY0FBZ0JBLEVBQ3RCaHpDLEVBQU1pekMsV0FBYUEsRUFDWmp6QyxDQUNYLENBQ0EsT0FSQSxHQUFVMjNDLEVBQWE1M0MsR0FRaEI0M0MsQ0FDWCxDQVZxQixDQVVuQjdFLEdBQ04sRUFDQWp3RSxPQUFPa1EsZUFBZXlrRSxFQUFvQixtQkFBb0IsQ0FLMUR2a0UsSUFBSyxXQUNELE9BQU9xa0UsRUFDWCxFQUNBdGtFLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV5a0UsRUFBb0IsMEJBQTJCLENBS2pFdmtFLElBQUssV0FDRCxPQUFPc2tFLEVBQ1gsRUFDQXZrRSxZQUFZLEVBQ1pnZSxjQUFjLElBRVh3bUQsQ0FDWCxDQTVFdUMsR0ErRW5DSSxHQUFnQkosR0FBbUJ4ekUsU0FDdkNuQixPQUFPcUQsT0FBTzB4RSxHQUFlLENBQ3pCcHhDLFVBQVcsQ0FDUHBpQyxLQUFNLFFBQ05xRSxLQUFNMjlCLEdBQWNzckMsa0JBVTVCLElBQUlsaEMsR0FBWSxDQUFDLEVBQ2JxbkMsR0FBVSxTQUFVenpFLEdBQ3BCdkIsT0FBT2tRLGVBQWV5OUIsR0FBV3BzQyxFQUFNLENBQ25DNk8sSUFBSyxXQUVELE9BREF3YyxHQUFZLFFBQVMsZ0JBQWtCcnJCLEVBQU8sc0JBQXdCQSxHQUMvRGt6QyxHQUFXbHpDLEVBQ3RCLEdBRVIsRUFDQSxJQUFLLElBQUksTUFBUWt6QyxHQUNidWdDLEdBQVEsSUFRWixJQUFJQyxHQUFVLENBQUMsRUFDWEMsR0FBVSxTQUFVM3pFLEdBQ3BCdkIsT0FBT2tRLGVBQWUra0UsR0FBUzF6RSxFQUFNLENBQ2pDNk8sSUFBSyxXQUVELE9BREF3YyxHQUFZLFFBQVMsa0JBQW9CcnJCLEVBQU8sc0JBQXdCQSxHQUNqRWlxRSxHQUFTanFFLEVBQ3BCLEdBRVIsRUFDQSxJQUFLLElBQUksTUFBUWlxRSxHQUNiMEosR0FBUSxJQVVaLElBQUksR0FBVSxRQ2pqVVZDLEdBQW1CLENBT25CQyxZQUFZLEVBT1pDLGdCQUFpQixLQU1qQkMsZUFBZ0IsS0FPaEJDLFNBQVUsRUFNVkMsbUJBQW1CLEVBTW5CQyxlQUFnQixLQVFoQkMsZUFBZ0IsU0FRaEJDLHdCQUF5QixPQVF6QkMsb0JBQW9CLEVBQ3BCQyxVQUFXLEdBSWY1NEMsR0FBY3lCLE1BQU15MkMsSUFDcEIsSUFvQklXLEdBQXNDLFdBSXRDLFNBQVNBLEVBQXFCenpDLEdBRTFCcmpDLEtBQUsrMkUsT0FBUSxFQUViLzJFLEtBQUtnM0UsV0FBWSxFQUVqQmgzRSxLQUFLaTNFLHdCQUF5QixFQUU5QmozRSxLQUFLazNFLEtBQU8sR0FFWmwzRSxLQUFLNjJFLFNBQVcsRUFFaEI3MkUsS0FBSzJSLFNBQVcsR0FFaEIzUixLQUFLbTNFLG1CQUFxQixFQUUxQm4zRSxLQUFLbzNFLHVCQUF5QixJQUM5QnAzRSxLQUFLcTNFLFNBQVcsTUFDWnArRCxHQUFTVSxRQUFVVixHQUFTUSxRQUM1QnpaLEtBQUtzM0Usa0JBR1QsSUFBSUMsRUFBTXBnRSxTQUFTQyxjQUFjLE9BQ2pDbWdFLEVBQUlqdEMsTUFBTXR6QixNQUFRd2dFLFFBQ2xCRCxFQUFJanRDLE1BQU1yekIsT0FBU3VnRSxRQUNuQkQsRUFBSWp0QyxNQUFNNVMsU0FBVyxXQUNyQjYvQyxFQUFJanRDLE1BQU03YSxJQUFNZ29ELE1BQ2hCRixFQUFJanRDLE1BQU01YSxLQUFPZ29ELE1BQ2pCSCxFQUFJanRDLE1BQU0zSSxPQWhESyxHQWdEcUJsWCxXQUNwQ3pxQixLQUFLdTNFLElBQU1BLEVBQ1h2M0UsS0FBS3FqQyxTQUFXQSxFQU1oQnJqQyxLQUFLMjNFLFdBQWEzM0UsS0FBSzIzRSxXQUFXenRDLEtBQUtscUMsTUFNdkNBLEtBQUs0M0UsYUFBZTUzRSxLQUFLNDNFLGFBQWExdEMsS0FBS2xxQyxNQUUzQ3FSLFdBQVdvakMsaUJBQWlCLFVBQVd6MEMsS0FBSzIzRSxZQUFZLEVBQzVELENBeVdBLE9BeFdBMzJFLE9BQU9rUSxlQUFlNGxFLEVBQXFCNzFFLFVBQVcsV0FBWSxDQU05RG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS2czRSxTQUNoQixFQUNBN2xFLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWU0bEUsRUFBcUI3MUUsVUFBVyx3QkFBeUIsQ0FNM0VtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtpM0Usc0JBQ2hCLEVBQ0E5bEUsWUFBWSxFQUNaZ2UsY0FBYyxJQU1sQjJuRCxFQUFxQjcxRSxVQUFVcTJFLGdCQUFrQixXQUM3QyxJQUFJbjVDLEVBQVFuK0IsS0FDUjYzRSxFQUFVMWdFLFNBQVNDLGNBQWMsVUFDckN5Z0UsRUFBUXZ0QyxNQUFNdHpCLE1BQVE4Z0UsTUFDdEJELEVBQVF2dEMsTUFBTXJ6QixPQUFTNmdFLE1BQ3ZCRCxFQUFRdnRDLE1BQU01UyxTQUFXLFdBQ3pCbWdELEVBQVF2dEMsTUFBTTdhLElBQU1zb0QsVUFDcEJGLEVBQVF2dEMsTUFBTTVhLEtBQU9zb0QsVUFDckJILEVBQVF2dEMsTUFBTTNJLE9BbEdBLEdBa0d5QmxYLFdBQ3ZDb3RELEVBQVF2dEMsTUFBTTN1QixnQkFBa0IsVUFDaENrOEQsRUFBUUksTUFBUSxrREFDaEJKLEVBQVFwakMsaUJBQWlCLFNBQVMsV0FDOUJ0VyxFQUFNODRDLHdCQUF5QixFQUMvQjk0QyxFQUFNKzVDLFdBQ04vNUMsRUFBTWc2QyxrQkFDVixJQUNBaGhFLFNBQVNpaEUsS0FBS3hrQyxZQUFZaWtDLEdBQzFCNzNFLEtBQUtxM0UsU0FBV1EsQ0FDcEIsRUFLQWYsRUFBcUI3MUUsVUFBVWszRSxpQkFBbUIsV0FDekNuNEUsS0FBS3EzRSxXQUdWbGdFLFNBQVNpaEUsS0FBS3YzQyxZQUFZN2dDLEtBQUtxM0UsVUFDL0JyM0UsS0FBS3EzRSxTQUFXLEtBQ3BCLEVBTUFQLEVBQXFCNzFFLFVBQVVpM0UsU0FBVyxXQUN0QyxJQUFJeGdFLEVBQ0ExWCxLQUFLZzNFLFlBR1RoM0UsS0FBS2czRSxXQUFZLEVBQ2pCM2xFLFdBQVc4RixTQUFTczlCLGlCQUFpQixZQUFhejBDLEtBQUs0M0UsY0FBYyxHQUNyRXZtRSxXQUFXd2pDLG9CQUFvQixVQUFXNzBDLEtBQUsyM0UsWUFBWSxHQUMzRDMzRSxLQUFLcWpDLFNBQVN4L0IsR0FBRyxhQUFjN0QsS0FBSzZuQyxPQUFRN25DLE1BQ0gsUUFBeEMwWCxFQUFLMVgsS0FBS3FqQyxTQUFTN25CLEtBQUtxeUQsa0JBQStCLElBQVBuMkQsR0FBeUJBLEVBQUdrOEIsWUFBWTV6QyxLQUFLdTNFLEtBQ2xHLEVBTUFULEVBQXFCNzFFLFVBQVVvM0UsV0FBYSxXQUN4QyxJQUFJM2dFLEVBQ0MxWCxLQUFLZzNFLFlBQWFoM0UsS0FBS2kzRSx5QkFHNUJqM0UsS0FBS2czRSxXQUFZLEVBQ2pCM2xFLFdBQVc4RixTQUFTMDlCLG9CQUFvQixZQUFhNzBDLEtBQUs0M0UsY0FBYyxHQUN4RXZtRSxXQUFXb2pDLGlCQUFpQixVQUFXejBDLEtBQUsyM0UsWUFBWSxHQUN4RDMzRSxLQUFLcWpDLFNBQVN0L0IsSUFBSSxhQUFjL0QsS0FBSzZuQyxRQUNOLFFBQTlCbndCLEVBQUsxWCxLQUFLdTNFLElBQUkxSixrQkFBK0IsSUFBUG4yRCxHQUF5QkEsRUFBR21wQixZQUFZN2dDLEtBQUt1M0UsS0FDeEYsRUFNQVQsRUFBcUI3MUUsVUFBVXEzRSx3QkFBMEIsU0FBVWhVLEdBQy9ELEdBQUtBLEVBQWNqbUMsU0FBWWltQyxFQUFjc1MsbUJBQTdDLENBR0l0UyxFQUFjOFIsWUFBYzlSLEVBQWN2akMsY0FDckN1akMsRUFBY2tTLG1CQUNmeDJFLEtBQUsyZ0MsU0FBUzJqQyxHQUVsQkEsRUFBY3VTLFNBQVc3MkUsS0FBSzYyRSxVQUVsQyxJQUFJbGxFLEVBQVcyeUQsRUFBYzN5RCxTQUM3QixHQUFJQSxFQUNBLElBQUssSUFBSXJZLEVBQUksRUFBR0EsRUFBSXFZLEVBQVM1WSxPQUFRTyxJQUNqQzBHLEtBQUtzNEUsd0JBQXdCM21FLEVBQVNyWSxHQVY5QyxDQWFKLEVBS0F3OUUsRUFBcUI3MUUsVUFBVTRtQyxPQUFTLFdBS3BDLElBQUl2ekIsRUFBTUUsWUFBWUYsTUFDdEIsS0FBSTJFLEdBQVNjLFFBQVFGLFFBQVV2RixFQUFNdFUsS0FBS20zRSxzQkFHMUNuM0UsS0FBS20zRSxtQkFBcUI3aUUsRUFBTXRVLEtBQUtvM0UsdUJBQ2hDcDNFLEtBQUtxakMsU0FBUzBpQixtQkFBbkIsQ0FJSS9sRCxLQUFLcWpDLFNBQVMwcEMscUJBQ2Qvc0UsS0FBS3M0RSx3QkFBd0J0NEUsS0FBS3FqQyxTQUFTMHBDLHFCQUUvQyxJQUFJcjFELEVBQUsxWCxLQUFLcWpDLFNBQVM3bkIsS0FBSys4RCx3QkFBeUI3b0QsRUFBT2hZLEVBQUdnWSxLQUFNRCxFQUFNL1gsRUFBRytYLElBQUt6WSxFQUFRVSxFQUFHVixNQUFPQyxFQUFTUyxFQUFHVCxPQUM3R2t1QixFQUFLbmxDLEtBQUtxakMsU0FBVW0xQyxFQUFZcnpDLEVBQUdudUIsTUFBT3loRSxFQUFhdHpDLEVBQUdsdUIsT0FBUXlYLEVBQWF5VyxFQUFHelcsV0FDbEZncUQsRUFBTTFoRSxFQUFRd2hFLEVBQWE5cEQsRUFDM0JpcUQsRUFBTTFoRSxFQUFTd2hFLEVBQWMvcEQsRUFDN0I2b0QsRUFBTXYzRSxLQUFLdTNFLElBQ2ZBLEVBQUlqdEMsTUFBTTVhLEtBQU9BLEVBQU8sS0FDeEI2bkQsRUFBSWp0QyxNQUFNN2EsSUFBTUEsRUFBTSxLQUN0QjhuRCxFQUFJanRDLE1BQU10ekIsTUFBUXdoRSxFQUFZLEtBQzlCakIsRUFBSWp0QyxNQUFNcnpCLE9BQVN3aEUsRUFBYSxLQUNoQyxJQUFLLElBQUluL0UsRUFBSSxFQUFHQSxFQUFJMEcsS0FBSzJSLFNBQVM1WSxPQUFRTyxJQUFLLENBQzNDLElBQUkwb0MsRUFBUWhpQyxLQUFLMlIsU0FBU3JZLEdBQzFCLEdBQUkwb0MsRUFBTTYwQyxXQUFhNzJFLEtBQUs2MkUsU0FDeEI3MEMsRUFBTXcwQyxtQkFBb0IsRUFDMUJscEQsR0FBWXR0QixLQUFLMlIsU0FBVXJZLEVBQUcsR0FDOUIwRyxLQUFLdTNFLElBQUkxMkMsWUFBWW1CLEVBQU15MEMsZ0JBQzNCejJFLEtBQUtrM0UsS0FBS3Y5RSxLQUFLcW9DLEVBQU15MEMsZ0JBQ3JCejBDLEVBQU15MEMsZUFBaUIsS0FDdkJuOUUsUUFFQyxDQUVEaStFLEVBQU12MUMsRUFBTXkwQyxlQUNaLElBQUkzMUMsRUFBVWtCLEVBQU1sQixRQUNoQnRGLEVBQUt3RyxFQUFNekgsZUFDWHlILEVBQU1sQixTQUNOeTJDLEVBQUlqdEMsTUFBTTVhLE1BQVE4TCxFQUFHL0YsR0FBTXFMLEVBQVFub0MsRUFBSTZpQyxFQUFHcC9CLEdBQU1zOEUsRUFBSyxLQUNyRG5CLEVBQUlqdEMsTUFBTTdhLEtBQU8rTCxFQUFHOUYsR0FBTW9MLEVBQVFsb0MsRUFBSTRpQyxFQUFHMTZCLEdBQU02M0UsRUFBSyxLQUNwRHBCLEVBQUlqdEMsTUFBTXR6QixNQUFROHBCLEVBQVE5cEIsTUFBUXdrQixFQUFHcC9CLEVBQUlzOEUsRUFBSyxLQUM5Q25CLEVBQUlqdEMsTUFBTXJ6QixPQUFTNnBCLEVBQVE3cEIsT0FBU3VrQixFQUFHMTZCLEVBQUk2M0UsRUFBSyxPQUdoRDczQyxFQUFVa0IsRUFBTXBPLFlBQ2hCNXpCLEtBQUs0NEUsV0FBVzkzQyxHQUNoQnkyQyxFQUFJanRDLE1BQU01YSxLQUFPb1IsRUFBUW5vQyxFQUFJKy9FLEVBQUssS0FDbENuQixFQUFJanRDLE1BQU03YSxJQUFNcVIsRUFBUWxvQyxFQUFJKy9FLEVBQUssS0FDakNwQixFQUFJanRDLE1BQU10ekIsTUFBUThwQixFQUFROXBCLE1BQVEwaEUsRUFBSyxLQUN2Q25CLEVBQUlqdEMsTUFBTXJ6QixPQUFTNnBCLEVBQVE3cEIsT0FBUzBoRSxFQUFLLEtBRXJDcEIsRUFBSVUsUUFBVWoyQyxFQUFNcTBDLGlCQUE2QyxPQUExQnIwQyxFQUFNcTBDLGtCQUM3Q2tCLEVBQUlVLE1BQVFqMkMsRUFBTXEwQyxpQkFFbEJrQixFQUFJMzZCLGFBQWEsZ0JBQWtCNWEsRUFBTXMwQyxnQkFDYixPQUF6QnQwQyxFQUFNczBDLGdCQUNUaUIsRUFBSWprQyxhQUFhLGFBQWN0UixFQUFNczBDLGlCQUl6Q3QwQyxFQUFNcTBDLGtCQUFvQmtCLEVBQUlVLE9BQVNqMkMsRUFBTXUwQyxXQUFhZ0IsRUFBSWhCLFdBQzlEZ0IsRUFBSVUsTUFBUWoyQyxFQUFNcTBDLGdCQUNsQmtCLEVBQUloQixTQUFXdjBDLEVBQU11MEMsU0FDakJ2MkUsS0FBSysyRSxPQUNILzJFLEtBQUs2NEUsZ0JBQWdCdEIsR0FFbkMsQ0FDSixDQUVBdjNFLEtBQUs2MkUsVUE3REwsQ0E4REosRUFNQUMsRUFBcUI3MUUsVUFBVTQzRSxnQkFBa0IsU0FBVXRCLEdBQ3ZEQSxFQUFJdUIsVUFBWSxTQUFXdkIsRUFBSTN3RSxLQUFPLGlCQUFtQjJ3RSxFQUFJVSxNQUFRLG1CQUFxQlYsRUFBSWhCLFFBQ2xHLEVBS0FPLEVBQXFCNzFFLFVBQVUyM0UsV0FBYSxTQUFVOTNDLEdBQzlDQSxFQUFRbm9DLEVBQUksSUFDWm1vQyxFQUFROXBCLE9BQVM4cEIsRUFBUW5vQyxFQUN6Qm1vQyxFQUFRbm9DLEVBQUksR0FFWm1vQyxFQUFRbG9DLEVBQUksSUFDWmtvQyxFQUFRN3BCLFFBQVU2cEIsRUFBUWxvQyxFQUMxQmtvQyxFQUFRbG9DLEVBQUksR0FFaEIsSUFBSThlLEVBQUsxWCxLQUFLcWpDLFNBQVVtMUMsRUFBWTlnRSxFQUFHVixNQUFPeWhFLEVBQWEvZ0UsRUFBR1QsT0FDMUQ2cEIsRUFBUW5vQyxFQUFJbW9DLEVBQVE5cEIsTUFBUXdoRSxJQUM1QjEzQyxFQUFROXBCLE1BQVF3aEUsRUFBWTEzQyxFQUFRbm9DLEdBRXBDbW9DLEVBQVFsb0MsRUFBSWtvQyxFQUFRN3BCLE9BQVN3aEUsSUFDN0IzM0MsRUFBUTdwQixPQUFTd2hFLEVBQWEzM0MsRUFBUWxvQyxFQUU5QyxFQU1BaytFLEVBQXFCNzFFLFVBQVUwL0IsU0FBVyxTQUFVMmpDLEdBRWhELElBQUlpVCxFQUFNdjNFLEtBQUtrM0UsS0FBS2puRSxNQUNmc25FLEtBQ0RBLEVBQU1wZ0UsU0FBU0MsY0FBYyxXQUN6Qmt6QixNQUFNdHpCLE1BQVF3Z0UsUUFDbEJELEVBQUlqdEMsTUFBTXJ6QixPQUFTdWdFLFFBQ25CRCxFQUFJanRDLE1BQU0zdUIsZ0JBQWtCM2IsS0FBSysyRSxNQUFRLHdCQUEwQixjQUNuRVEsRUFBSWp0QyxNQUFNNVMsU0FBVyxXQUNyQjYvQyxFQUFJanRDLE1BQU0zSSxPQTVTQyxHQTRTeUJsWCxXQUNwQzhzRCxFQUFJanRDLE1BQU15dUMsWUFBYyxPQUVwQnZoRSxVQUFVNEIsVUFBVTVQLGNBQWNhLFFBQVEsV0FBYSxFQUV2RGt0RSxFQUFJamtDLGFBQWEsWUFBYSxPQUc5QmlrQyxFQUFJamtDLGFBQWEsWUFBYSxVQUU5Qjk3QixVQUFVNEIsVUFBVXZMLE1BQU0sZ0JBRTFCMHBFLEVBQUlqa0MsYUFBYSxnQkFBaUIsYUFJbENpa0MsRUFBSWprQyxhQUFhLGdCQUFpQixRQUV0Q2lrQyxFQUFJOWlDLGlCQUFpQixRQUFTejBDLEtBQUtnNUUsU0FBUzl1QyxLQUFLbHFDLE9BQ2pEdTNFLEVBQUk5aUMsaUJBQWlCLFFBQVN6MEMsS0FBS2k1RSxTQUFTL3VDLEtBQUtscUMsT0FDakR1M0UsRUFBSTlpQyxpQkFBaUIsV0FBWXowQyxLQUFLazVFLFlBQVlodkMsS0FBS2xxQyxRQUczRHUzRSxFQUFJanRDLE1BQU02dUMsY0FBZ0I3VSxFQUFjcVMsd0JBRXhDWSxFQUFJM3dFLEtBQU8wOUQsRUFBY29TLGVBQ3JCcFMsRUFBYytSLGlCQUFxRCxPQUFsQy9SLEVBQWMrUixnQkFDL0NrQixFQUFJVSxNQUFRM1QsRUFBYytSLGdCQUVwQi9SLEVBQWNnUyxnQkFDZ0IsT0FBakNoUyxFQUFjZ1MsaUJBQ2pCaUIsRUFBSVUsTUFBUSxpQkFBbUIzVCxFQUFjaVMsVUFFN0NqUyxFQUFjZ1MsZ0JBQ3NCLE9BQWpDaFMsRUFBY2dTLGdCQUNqQmlCLEVBQUlqa0MsYUFBYSxhQUFjZ3hCLEVBQWNnUyxnQkFFN0N0MkUsS0FBSysyRSxPQUNILzJFLEtBQUs2NEUsZ0JBQWdCdEIsR0FDM0JqVCxFQUFja1MsbUJBQW9CLEVBQ2xDbFMsRUFBY21TLGVBQWlCYyxFQUMvQkEsRUFBSWpULGNBQWdCQSxFQUNwQnRrRSxLQUFLMlIsU0FBU2hZLEtBQUsycUUsR0FDbkJ0a0UsS0FBS3UzRSxJQUFJM2pDLFlBQVkwd0IsRUFBY21TLGdCQUNuQ25TLEVBQWNtUyxlQUFlRixTQUFXalMsRUFBY2lTLFFBQzFELEVBTUFPLEVBQXFCNzFFLFVBQVUrM0UsU0FBVyxTQUFVejlFLEdBQ2hELElBQUk2OUUsRUFBcUJwNUUsS0FBS3FqQyxTQUFTMnBDLFFBQVFxTSxZQUMzQy9VLEVBQWdCL29FLEVBQUU2SixPQUFPay9ELGNBQ3pCZ1YsRUFBWUYsRUFBbUJFLFVBQ25DRixFQUFtQkcsY0FBY2pWLEVBQWUsUUFBU2dWLEdBQ3pERixFQUFtQkcsY0FBY2pWLEVBQWUsYUFBY2dWLEdBQzlERixFQUFtQkcsY0FBY2pWLEVBQWUsTUFBT2dWLEVBQzNELEVBTUF4QyxFQUFxQjcxRSxVQUFVZzRFLFNBQVcsU0FBVTE5RSxHQUMzQ0EsRUFBRTZKLE9BQU93M0MsYUFBYSxjQUN2QnJoRCxFQUFFNkosT0FBT2t1QyxhQUFhLFlBQWEsYUFFdkMsSUFBSThsQyxFQUFxQnA1RSxLQUFLcWpDLFNBQVMycEMsUUFBUXFNLFlBQzNDL1UsRUFBZ0Ivb0UsRUFBRTZKLE9BQU9rL0QsY0FDekJnVixFQUFZRixFQUFtQkUsVUFDbkNGLEVBQW1CRyxjQUFjalYsRUFBZSxZQUFhZ1YsRUFDakUsRUFNQXhDLEVBQXFCNzFFLFVBQVVpNEUsWUFBYyxTQUFVMzlFLEdBQzlDQSxFQUFFNkosT0FBT3czQyxhQUFhLGNBQ3ZCcmhELEVBQUU2SixPQUFPa3VDLGFBQWEsWUFBYSxVQUV2QyxJQUFJOGxDLEVBQXFCcDVFLEtBQUtxakMsU0FBUzJwQyxRQUFRcU0sWUFDM0MvVSxFQUFnQi9vRSxFQUFFNkosT0FBT2svRCxjQUN6QmdWLEVBQVlGLEVBQW1CRSxVQUNuQ0YsRUFBbUJHLGNBQWNqVixFQUFlLFdBQVlnVixFQUNoRSxFQU1BeEMsRUFBcUI3MUUsVUFBVTAyRSxXQUFhLFNBQVVwOEUsR0E1WXZDLElBNllQQSxFQUFFaStFLFNBR054NUUsS0FBS2s0RSxVQUNULEVBTUFwQixFQUFxQjcxRSxVQUFVMjJFLGFBQWUsU0FBVXI4RSxHQUNoQyxJQUFoQkEsRUFBRWsrRSxXQUFtQyxJQUFoQmwrRSxFQUFFbStFLFdBRzNCMTVFLEtBQUtxNEUsWUFDVCxFQUVBdkIsRUFBcUI3MUUsVUFBVXN0QixRQUFVLFdBQ3JDdnVCLEtBQUttNEUsbUJBQ0xuNEUsS0FBS3UzRSxJQUFNLEtBQ1hsbUUsV0FBVzhGLFNBQVMwOUIsb0JBQW9CLFlBQWE3MEMsS0FBSzQzRSxjQUFjLEdBQ3hFdm1FLFdBQVd3akMsb0JBQW9CLFVBQVc3MEMsS0FBSzIzRSxZQUMvQzMzRSxLQUFLazNFLEtBQU8sS0FDWmwzRSxLQUFLMlIsU0FBVyxLQUNoQjNSLEtBQUtxakMsU0FBVyxJQUNwQixFQUVBeXpDLEVBQXFCbnlDLFVBQVksQ0FDN0JwaUMsS0FBTSxnQkFDTnFFLEtBQU0sQ0FDRjI5QixHQUFjc3JDLGVBQ2R0ckMsR0FBY28xQyx1QkFFZjdDLENBQ1gsQ0EzWnlDLEdDbEdyQzhDLEdBQWlDLFdBQ2pDLFNBQVNBLElBTUw1NUUsS0FBSzY1RSxTQUFXLEVBS2hCNzVFLEtBQUs4NUUsY0FBZ0IsRUFLckI5NUUsS0FBSys1RSxNQUFRLEVBS2IvNUUsS0FBS2c2RSxtQkFBcUIsRUFDMUJoNkUsS0FBSytGLE9BQVMsSUFBSW9yQixHQUNsQm54QixLQUFLb0YsT0FBUyxLQUNkcEYsS0FBS2k2RSxjQUFnQixLQUNyQmo2RSxLQUFLazZFLFdBQWEsS0FDbEJsNkUsS0FBS202RSxXQUFZLEVBQ2pCbjZFLEtBQUtvNkUsT0FBUyxFQUNkcDZFLEtBQUtxNkUsUUFBVSxFQUNmcjZFLEtBQUtnWCxNQUFRLEVBQ2JoWCxLQUFLaVgsT0FBUyxFQUNkalgsS0FBS3M2RSxNQUFRLEVBQ2J0NkUsS0FBS3U2RSxNQUFRLEVBQ2J2NkUsS0FBS3c2RSxZQUFjLEtBQ25CeDZFLEtBQUs2NUUsU0FBVyxFQUNoQjc1RSxLQUFLODVFLGNBQWdCLEVBQ3JCOTVFLEtBQUsrNUUsTUFBUSxFQUNiLzVFLEtBQUtnNkUsbUJBQXFCLENBQzlCLENBMkRBLE9BMURBaDVFLE9BQU9rUSxlQUFlMG9FLEVBQWdCMzRFLFVBQVcsWUFBYSxDQU0xRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS2s2RSxVQUNoQixFQUNBL29FLFlBQVksRUFDWmdlLGNBQWMsSUFhbEJ5cUQsRUFBZ0IzNEUsVUFBVXc1RSxpQkFBbUIsU0FBVW5XLEVBQWVub0MsRUFBT3UrQyxHQUN6RSxPQUFPcFcsRUFBYy9wQyxlQUFldkUsYUFBYTBrRCxHQUFhMTZFLEtBQUsrRixPQUFRbzJCLEVBQy9FLEVBS0F5OUMsRUFBZ0IzNEUsVUFBVTA1RSxVQUFZLFNBQVVoNUUsR0FJeEMsY0FBZUEsR0FBU0EsRUFBTXc0RSxZQUM5Qm42RSxLQUFLbTZFLFdBQVksR0FFckJuNkUsS0FBS282RSxPQUFTLFdBQVl6NEUsR0FBU0EsRUFBTXk0RSxPQUd6QyxJQUFJQyxFQUFVLFlBQWExNEUsR0FBU0EsRUFBTTA0RSxRQUMxQ3I2RSxLQUFLcTZFLFFBQVVoa0UsT0FBT0UsVUFBVThqRSxHQUFXQSxFQUFVLFVBQVcxNEUsR0FBU0EsRUFBTWk1RSxNQUMvRTU2RSxLQUFLZ1gsTUFBUSxVQUFXclYsR0FBU0EsRUFBTXFWLE1BQ3ZDaFgsS0FBS2lYLE9BQVMsV0FBWXRWLEdBQVNBLEVBQU1zVixPQUN6Q2pYLEtBQUtzNkUsTUFBUSxVQUFXMzRFLEdBQVNBLEVBQU0yNEUsTUFDdkN0NkUsS0FBS3U2RSxNQUFRLFVBQVc1NEUsR0FBU0EsRUFBTTQ0RSxNQUN2Q3Y2RSxLQUFLdzZFLFlBQWMsZ0JBQWlCNzRFLEdBQVNBLEVBQU02NEUsWUFDbkR4NkUsS0FBSzY1RSxTQUFXLGFBQWNsNEUsR0FBU0EsRUFBTWs0RSxTQUM3Qzc1RSxLQUFLODVFLGNBQWdCLGtCQUFtQm40RSxHQUFTQSxFQUFNbTRFLGNBQ3ZEOTVFLEtBQUsrNUUsTUFBUyxVQUFXcDRFLEdBQVNBLEVBQU1vNEUsT0FBVSxFQUNsRC81RSxLQUFLZzZFLG1CQUFzQix1QkFBd0JyNEUsR0FBU0EsRUFBTXE0RSxvQkFBdUIsQ0FDN0YsRUFFQUosRUFBZ0IzNEUsVUFBVWlpRCxNQUFRLFdBRzlCbGpELEtBQUttNkUsV0FBWSxDQUNyQixFQUNPUCxDQUNYLENBbkdvQyxHQXFIaEMsR0FBZ0IsU0FBUzk0RSxFQUFHekUsR0FJNUIsT0FIQSxHQUFnQjJFLE9BQU84OEIsZ0JBQ2xCLENBQUUxN0IsVUFBVyxjQUFnQmEsT0FBUyxTQUFVbkMsRUFBR3pFLEdBQUt5RSxFQUFFc0IsVUFBWS9GLENBQUcsR0FDMUUsU0FBVXlFLEVBQUd6RSxHQUFLLElBQUssSUFBSXZCLEtBQUt1QixFQUFTQSxFQUFFNkUsZUFBZXBHLEtBQU1nRyxFQUFFaEcsR0FBS3VCLEVBQUV2QixHQUFRLEVBQzlFLEdBQWNnRyxFQUFHekUsRUFDNUIsRUFZSXcrRSxHQUFrQyxXQUNsQyxTQUFTQSxJQUNMNzZFLEtBQUs4NkUsU0FBVSxFQUNmOTZFLEtBQUsrNkUsbUJBQXFCLEtBQzFCLzZFLEtBQUtnN0UscUJBQXNCLEVBQzNCaDdFLEtBQUtvRixPQUFTLEtBQ2RwRixLQUFLaTdFLGNBQWdCLEtBQ3JCajdFLEtBQUs0RyxLQUFPLEtBQ1o1RyxLQUFLNUgsS0FBTyxJQUNoQixDQWVBLE9BYkF5aUYsRUFBaUI1NUUsVUFBVWk2RSxnQkFBa0IsV0FDekNsN0UsS0FBSzg2RSxTQUFVLEVBQ2Y5NkUsS0FBS2c3RSxxQkFBc0IsRUFDM0JoN0UsS0FBSys2RSxtQkFBcUIvNkUsS0FBS2k3RSxhQUNuQyxFQUVBSixFQUFpQjU1RSxVQUFVaWlELE1BQVEsV0FDL0JsakQsS0FBSzg2RSxTQUFVLEVBQ2Y5NkUsS0FBSys2RSxtQkFBcUIsS0FDMUIvNkUsS0FBS2c3RSxxQkFBc0IsRUFDM0JoN0UsS0FBS2k3RSxjQUFnQixLQUNyQmo3RSxLQUFLb0YsT0FBUyxJQUNsQixFQUNPeTFFLENBQ1gsQ0F6QnFDLEdBaUNqQ00sR0FBeUMsV0FLekMsU0FBU0EsRUFBd0JDLEdBQzdCcDdFLEtBQUtxN0UsV0FBYUQsRUFDbEJwN0UsS0FBS3M3RSxPQUFTSCxFQUF3QkksTUFBTXRnRSxJQUNoRCxDQTBHQSxPQW5HQWtnRSxFQUF3Qmw2RSxVQUFVdTZFLE9BQVMsU0FBVTV6RSxFQUFNNnpFLEdBRW5EejdFLEtBQUtzN0UsT0FETEcsRUFDY3o3RSxLQUFLczdFLE9BQVMxekUsRUFHZDVILEtBQUtzN0UsUUFBVzF6RSxDQUV0QyxFQUNBNUcsT0FBT2tRLGVBQWVpcUUsRUFBd0JsNkUsVUFBVyxZQUFhLENBT2xFbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLcTdFLFVBQ2hCLEVBQ0FscUUsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWlxRSxFQUF3Qmw2RSxVQUFXLFFBQVMsQ0FNOURtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtzN0UsTUFDaEIsRUFDQXBzRCxJQUFLLFNBQVV3c0QsR0FDWDE3RSxLQUFLczdFLE9BQVNJLENBQ2xCLEVBQ0F2cUUsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWlxRSxFQUF3Qmw2RSxVQUFXLE9BQVEsQ0FNN0RtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtzN0UsU0FBV0gsRUFBd0JJLE1BQU10Z0UsSUFDekQsRUFDQTlKLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVpcUUsRUFBd0JsNkUsVUFBVyxPQUFRLENBTTdEbVEsSUFBSyxXQUNELE9BQThELElBQXREcFIsS0FBS3M3RSxPQUFTSCxFQUF3QkksTUFBTUksS0FDeEQsRUFDQXpzRCxJQUFLLFNBQVV1c0QsR0FDWHo3RSxLQUFLdzdFLE9BQU9MLEVBQXdCSSxNQUFNSSxLQUFNRixFQUNwRCxFQUNBdHFFLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVpcUUsRUFBd0JsNkUsVUFBVyxZQUFhLENBTWxFbVEsSUFBSyxXQUNELE9BQW9FLElBQTVEcFIsS0FBS3M3RSxPQUFTSCxFQUF3QkksTUFBTUssV0FDeEQsRUFDQTFzRCxJQUFLLFNBQVV1c0QsR0FDWHo3RSxLQUFLdzdFLE9BQU9MLEVBQXdCSSxNQUFNSyxXQUFZSCxFQUMxRCxFQUNBdHFFLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVpcUUsRUFBd0JsNkUsVUFBVyxXQUFZLENBTWpFbVEsSUFBSyxXQUNELE9BQW1FLElBQTNEcFIsS0FBS3M3RSxPQUFTSCxFQUF3QkksTUFBTU0sVUFDeEQsRUFDQTNzRCxJQUFLLFNBQVV1c0QsR0FDWHo3RSxLQUFLdzdFLE9BQU9MLEVBQXdCSSxNQUFNTSxVQUFXSixFQUN6RCxFQUNBdHFFLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJnc0QsRUFBd0JJLE1BQVF2NkUsT0FBTzg2RSxPQUFPLENBQzFDN2dFLEtBQU0sRUFDTjBnRSxLQUFNLEVBQ05FLFVBQVcsRUFDWEQsV0FBWSxJQUVUVCxDQUNYLENBbkg0QyxHQXlIeENZLEdBQTRCLFdBQzVCLFNBQVNBLElBQ0wvN0UsS0FBS2c4RSxXQUFhLElBQUk3cUQsRUFDMUIsQ0F5SUEsT0EzSEE0cUQsRUFBVzk2RSxVQUFVZzdFLGlCQUFtQixTQUFVQyxFQUFrQjVYLEVBQWV2RixFQUFNb2QsRUFBU3A3QyxHQUM5RixJQUFJcnBCLEVBQ0osSUFBSzRzRCxJQUFrQkEsRUFBY2ptQyxRQUNqQyxPQUFPLEVBRVgsSUFBSWxDLEVBQVErL0MsRUFBaUI5akYsS0FBSzJOLE9BYzlCcTJFLEdBQU0sRUFDTkMsRUFGSnQ3QyxFQUFjdWpDLEVBQWN2akMsYUFBZUEsRUFJdkN1N0MsR0FBa0IsRUFHdEIsR0FBSWhZLEVBQWN4akMsUUFDVnE3QyxJQUNBN1gsRUFBYy9wQyxlQUFldkUsYUFBYW1HLEVBQU9uOEIsS0FBS2c4RSxZQUNqRDFYLEVBQWN4akMsUUFBUW5QLFNBQVMzeEIsS0FBS2c4RSxXQUFXcmpGLEVBQUdxSCxLQUFLZzhFLFdBQVdwakYsR0FLbkV3akYsR0FBTSxHQUpORCxHQUFVLEVBQ1ZHLEdBQWtCLElBTTFCRCxHQUFvQixPQUtuQixHQUFJL1gsRUFBY2psQyxPQUNmODhDLEVBQVMsQ0FDVCxJQUFJMzZDLEVBQWM4aUMsRUFBY2psQyxNQUFNb0MsV0FDaEM2aUMsRUFBY2psQyxNQUFNbUMsV0FBYThpQyxFQUFjamxDLE1BQ2pEbUMsS0FBb0QsUUFBbkM5cEIsRUFBSzhwQixFQUFXKzZDLHFCQUFrQyxJQUFQN2tFLE9BQWdCLEVBQVNBLEVBQUdqVixLQUFLKytCLEVBQVlyRixNQUN6R2dnRCxHQUFVLEVBRWxCLENBS0osR0FBSUcsR0FBbUJoWSxFQUFjdGpDLHFCQUF1QnNqQyxFQUFjM3lELFNBRXRFLElBREEsSUFBSUEsRUFBVzJ5RCxFQUFjM3lELFNBQ3BCclksRUFBSXFZLEVBQVM1WSxPQUFTLEVBQUdPLEdBQUssRUFBR0EsSUFBSyxDQUMzQyxJQUFJMG9DLEVBQVFyd0IsRUFBU3JZLEdBRWpCa2pGLEVBQVd4OEUsS0FBS2k4RSxpQkFBaUJDLEVBQWtCbDZDLEVBQU8rOEIsRUFBTW9kLEVBQVNFLEdBQzdFLEdBQUlHLEVBQVUsQ0FHVixJQUFLeDZDLEVBQU12RCxPQUNQLFNBSUo0OUMsR0FBb0IsRUFLaEJHLElBQ0lOLEVBQWlCOTJFLFNBQ2pCKzJFLEdBQVUsR0FFZEMsR0FBTSxFQUVkLENBQ0osQ0F5QkosT0F0QklyN0MsSUFLSW83QyxJQUFZRCxFQUFpQjkyRSxTQUV4QmsvRCxFQUFjeGpDLFNBQVd3akMsRUFBY2lZLGVBQ3BDalksRUFBY2lZLGNBQWNwZ0QsS0FDNUJpZ0QsR0FBTSxHQUlkOVgsRUFBY3ZqQyxjQUNWcTdDLElBQVFGLEVBQWlCOTJFLFNBQ3pCODJFLEVBQWlCOTJFLE9BQVNrL0QsR0FFMUJ2RixHQUNBQSxFQUFLbWQsRUFBa0I1WCxJQUFpQjhYLEtBSTdDQSxDQUNYLEVBZUFMLEVBQVc5NkUsVUFBVXc3RSxRQUFVLFNBQVVQLEVBQWtCNVgsRUFBZXZGLEVBQU1vZCxHQUM1RW44RSxLQUFLaThFLGlCQUFpQkMsRUFBa0I1WCxFQUFldkYsRUFBTW9kLEdBQVMsRUFDMUUsRUFDT0osQ0FDWCxDQTdJK0IsR0FrTDNCVyxHQUFvQixDQUNwQjM3QyxhQUFhLEVBQ2JDLHFCQUFxQixFQUNyQkYsUUFBUyxLQVdMNjdDLGlCQUNBLE1BQXVCLFlBQWhCMzhFLEtBQUs0OEUsTUFDaEIsRUFDSUQsZUFBV3YxRSxHQUNQQSxFQUNBcEgsS0FBSzQ4RSxPQUFTLFVBRU8sWUFBaEI1OEUsS0FBSzQ4RSxTQUNWNThFLEtBQUs0OEUsT0FBUyxLQUV0QixFQVlBQSxPQUFRLEtBT0pDLHNCQUdBLFlBRjhCbDVFLElBQTFCM0QsS0FBSzg4RSxtQkFDSDk4RSxLQUFLODhFLGlCQUFtQixDQUFDLEdBQ3hCOThFLEtBQUs4OEUsZ0JBQ2hCLEVBTUFBLHNCQUFrQm41RSxHQUl0QnM2QixHQUFjeUIsTUFBTWc5QyxJQUNwQixJQUVJSyxHQUFlLENBQ2YzM0UsT0FBUSxLQUNSaE4sS0FBTSxDQUNGMk4sT0FBUSxPQWFaaTNFLEdBQW9DLFNBQVU5K0MsR0FTOUMsU0FBUzgrQyxFQUFtQjM1QyxFQUFVdjVCLEdBQ2xDLElBQUlxMEIsRUFBUUQsRUFBT3o3QixLQUFLekMsT0FBU0EsS0F3WWpDLE9BdllBOEosRUFBVUEsR0FBVyxDQUFDLEVBQ3RCcTBCLEVBQU1rRixTQUFXQSxFQUNqQmxGLEVBQU04K0Msd0JBQW9EdDVFLElBQS9CbUcsRUFBUW16RSxvQkFBbUNuekUsRUFBUW16RSxtQkFDOUU5K0MsRUFBTSsrQyxxQkFBdUJwekUsRUFBUW96RSxzQkFBd0IsR0FDN0QvK0MsRUFBTWcvQyxNQUFRLElBQUl2RCxHQUNsQno3QyxFQUFNZy9DLE1BQU1qRCxXQWxDRyxFQXFDZi83QyxFQUFNZy9DLE1BQU1wM0UsT0FBT21wQixLQUFLLFFBQ3hCaVAsRUFBTWkvQyxzQkFBd0IsQ0FBQyxFQUMvQmovQyxFQUFNaS9DLHNCQXZDUyxHQXVDaUNqL0MsRUFBTWcvQyxNQUN0RGgvQyxFQUFNay9DLG9CQUFzQixHQUM1QmwvQyxFQUFNbTdDLFVBQVksSUFBSXVCLEdBQ3RCMThDLEVBQU1tL0Msc0JBQXdCLEtBQzlCbi9DLEVBQU1vL0MsZ0JBQWlCLEVBQ3ZCcC9DLEVBQU1xL0MsYUFBYyxFQUNwQnIvQyxFQUFNcy9DLGFBQWMsRUFDcEJ0L0MsRUFBTXUvQyxvQkFBc0IsaUJBQWtCcnNFLFlBQzlDOHNCLEVBQU13L0Msb0JBQXNCLGlCQUFrQnRzRSxXQUM5QzhzQixFQUFNeS9DLHdCQUEwQnZzRSxXQUFXd3NFLGFBRTNDMS9DLEVBQU0yL0MsWUFBYzMvQyxFQUFNMi9DLFlBQVk1ekMsS0FBSy9MLEdBQzNDQSxFQUFNNC9DLGlCQUFtQjUvQyxFQUFNNC9DLGlCQUFpQjd6QyxLQUFLL0wsR0FDckRBLEVBQU02L0MsZ0JBQWtCNy9DLEVBQU02L0MsZ0JBQWdCOXpDLEtBQUsvTCxHQUNuREEsRUFBTTgvQyxxQkFBdUI5L0MsRUFBTTgvQyxxQkFBcUIvekMsS0FBSy9MLEdBQzdEQSxFQUFNKy9DLGNBQWdCLy9DLEVBQU0rL0MsY0FBY2gwQyxLQUFLL0wsR0FDL0NBLEVBQU1nZ0QsbUJBQXFCaGdELEVBQU1nZ0QsbUJBQW1CajBDLEtBQUsvTCxHQUN6REEsRUFBTWlnRCxjQUFnQmpnRCxFQUFNaWdELGNBQWNsMEMsS0FBSy9MLEdBQy9DQSxFQUFNa2dELG1CQUFxQmxnRCxFQUFNa2dELG1CQUFtQm4wQyxLQUFLL0wsR0FDekRBLEVBQU1tZ0QsYUFBZW5nRCxFQUFNbWdELGFBQWFwMEMsS0FBSy9MLEdBQzdDQSxFQUFNb2dELHNCQUF3QnBnRCxFQUFNb2dELHNCQUFzQnIwQyxLQUFLL0wsR0FDL0RBLEVBQU1xZ0QsY0FBZ0JyZ0QsRUFBTXFnRCxjQUFjdDBDLEtBQUsvTCxHQUMvQ0EsRUFBTXNnRCxhQUFlLENBQ2pCbEosUUFBUyxVQUNUbUosUUFBUyxXQUVidmdELEVBQU13Z0Qsa0JBQW9CLEtBQzFCeGdELEVBQU15K0MsT0FBUyxLQUNmeitDLEVBQU16UCxXQUFhLEVBQ25CeVAsRUFBTXlnRCxjQUFnQixHQUN0QnpnRCxFQUFNM3lCLE9BQVMsSUFBSXV3RSxHQUNuQjU5QyxFQUFNMGdELG1CQUFxQixJQUFJNTlDLEdBQy9COUMsRUFBTTJnRCxzQkFBd0IsQ0FBRUMsU0FBUyxFQUFNQyxTQUFTLEdBMlZ4RDdnRCxFQUFNOGdELHNCQUErQ3Q3RSxJQUE1Qm1HLEVBQVFvMUUsaUJBQWdDcDFFLEVBQVFvMUUsZ0JBQ3pFL2dELEVBQU1naEQsaUJBQWlCaGhELEVBQU1rRixTQUFTN25CLEtBQU0yaUIsRUFBTWtGLFNBQVMzVSxZQUNwRHlQLENBQ1gsQ0FxMkJBLE9BMXBESixTQUFtQnI5QixFQUFHekUsR0FFbEIsU0FBUzJoQyxJQUFPaCtCLEtBQUt3VCxZQUFjMVMsQ0FBRyxDQUR0QyxHQUFjQSxFQUFHekUsR0FFakJ5RSxFQUFFRyxVQUFrQixPQUFONUUsRUFBYTJFLE9BQU9tQixPQUFPOUYsSUFBTTJoQyxFQUFHLzhCLFVBQVk1RSxFQUFFNEUsVUFBVyxJQUFJKzhCLEVBQ25GLENBK1pJLENBQVVnL0MsRUFBb0I5K0MsR0FtWjlCbDlCLE9BQU9rUSxlQUFlOHJFLEVBQW1CLzdFLFVBQVcsa0JBQW1CLENBS25FbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLaS9FLGdCQUNoQixFQUNBL3ZELElBQUssU0FBVWd3RCxHQUNYbC9FLEtBQUtpL0UsaUJBQW1CQyxFQUNwQkEsRUFDQWwvRSxLQUFLby9FLG9CQUdMcC9FLEtBQUtxL0Usc0JBRWIsRUFDQWx1RSxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlOHJFLEVBQW1CLzdFLFVBQVcscUJBQXNCLENBTXRFbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLcWpDLFNBQVMwcEMscUJBQXVCL3NFLEtBQUs2K0Usa0JBQ3JELEVBQ0ExdEUsWUFBWSxFQUNaZ2UsY0FBYyxJQVNsQjZ0RCxFQUFtQi83RSxVQUFVazdFLFFBQVUsU0FBVW1ELEVBQWEzNUUsR0FZMUQsT0FWQW8zRSxHQUFhMzNFLE9BQVMsS0FFdEIyM0UsR0FBYTNrRixLQUFLMk4sT0FBU3U1RSxFQUV0QjM1RSxJQUNEQSxFQUFPM0YsS0FBS3UvRSxvQkFHaEJ2L0UsS0FBS3cvRSxtQkFBbUJ6QyxHQUFjcDNFLEVBQU0sTUFBTSxHQUUzQ28zRSxHQUFhMzNFLE1BQ3hCLEVBUUE0M0UsRUFBbUIvN0UsVUFBVWsrRSxpQkFBbUIsU0FBVXR2QyxFQUFTbmhCLFFBQzVDLElBQWZBLElBQXlCQSxFQUFhLEdBQzFDMXVCLEtBQUtxL0UsdUJBQ0xyL0UsS0FBS3kvRSxlQUNMei9FLEtBQUtzOUUsc0JBQXdCenRDLEVBQzdCN3ZDLEtBQUswdUIsV0FBYUEsRUFDbEIxdUIsS0FBSzAvRSxZQUNMMS9FLEtBQUtvL0UsbUJBQ1QsRUFFQXBDLEVBQW1CLzdFLFVBQVVtK0Usa0JBQW9CLFlBQ3pDcC9FLEtBQUt5OUUsYUFBZ0J6OUUsS0FBS3M5RSx1QkFBMEJ0OUUsS0FBS2kvRSxtQkFHN0RsNEMsR0FBTzhCLE9BQU8vTyxJQUFJOTVCLEtBQUsyL0UsYUFBYzMvRSxLQUFNeWtDLEdBQWdCbTdDLGFBQzNENS9FLEtBQUt5OUUsYUFBYyxFQUN2QixFQUVBVCxFQUFtQi83RSxVQUFVbytFLHFCQUF1QixXQUMzQ3IvRSxLQUFLeTlFLGNBR1YxMkMsR0FBTzhCLE9BQU8zRCxPQUFPbGxDLEtBQUsyL0UsYUFBYzMvRSxNQUN4Q0EsS0FBS3k5RSxhQUFjLEVBQ3ZCLEVBRUFULEVBQW1CLzdFLFVBQVV5K0UsVUFBWSxXQUNyQyxJQUFJMS9FLEtBQUt3OUUsYUFBZ0J4OUUsS0FBS3M5RSxzQkFBOUIsQ0FHQSxJQUFJaHpDLEVBQVF0cUMsS0FBS3M5RSxzQkFBc0JoekMsTUFDbkNqNUIsV0FBV21HLFVBQVVxb0Usa0JBQ3JCdjFDLEVBQU13MUMsaUJBQW1CLE9BQ3pCeDFDLEVBQU15MUMsY0FBZ0IsUUFFakIvL0UsS0FBSzQ5RSx3QkFDVnR6QyxFQUFNMDFDLFlBQWMsUUFNcEJoZ0YsS0FBSzQ5RSx1QkFDTHZzRSxXQUFXOEYsU0FBU3M5QixpQkFBaUIsY0FBZXowQyxLQUFLbytFLGNBQWVwK0UsS0FBSzgrRSx1QkFDN0U5K0UsS0FBS3M5RSxzQkFBc0I3b0MsaUJBQWlCLGNBQWV6MEMsS0FBS2srRSxjQUFlbCtFLEtBQUs4K0UsdUJBSXBGOStFLEtBQUtzOUUsc0JBQXNCN29DLGlCQUFpQixlQUFnQnowQyxLQUFLcytFLGFBQWN0K0UsS0FBSzgrRSx1QkFDcEY5K0UsS0FBS3M5RSxzQkFBc0I3b0MsaUJBQWlCLGNBQWV6MEMsS0FBS3crRSxjQUFleCtFLEtBQUs4K0UsdUJBQ3BGenRFLFdBQVdvakMsaUJBQWlCLGdCQUFpQnowQyxLQUFLZytFLGdCQUFpQmgrRSxLQUFLOCtFLHVCQUN4RXp0RSxXQUFXb2pDLGlCQUFpQixZQUFhejBDLEtBQUs4OUUsWUFBYTk5RSxLQUFLOCtFLHlCQUdoRXp0RSxXQUFXOEYsU0FBU3M5QixpQkFBaUIsWUFBYXowQyxLQUFLbytFLGNBQWVwK0UsS0FBSzgrRSx1QkFDM0U5K0UsS0FBS3M5RSxzQkFBc0I3b0MsaUJBQWlCLFlBQWF6MEMsS0FBS2srRSxjQUFlbCtFLEtBQUs4K0UsdUJBQ2xGOStFLEtBQUtzOUUsc0JBQXNCN29DLGlCQUFpQixXQUFZejBDLEtBQUtzK0UsYUFBY3QrRSxLQUFLOCtFLHVCQUNoRjkrRSxLQUFLczlFLHNCQUFzQjdvQyxpQkFBaUIsWUFBYXowQyxLQUFLdytFLGNBQWV4K0UsS0FBSzgrRSx1QkFDbEZ6dEUsV0FBV29qQyxpQkFBaUIsVUFBV3owQyxLQUFLODlFLFlBQWE5OUUsS0FBSzgrRSx3QkFLOUQ5K0UsS0FBSzI5RSxzQkFDTDM5RSxLQUFLczlFLHNCQUFzQjdvQyxpQkFBaUIsYUFBY3owQyxLQUFLaytFLGNBQWVsK0UsS0FBSzgrRSx1QkFDbkY5K0UsS0FBS3M5RSxzQkFBc0I3b0MsaUJBQWlCLGNBQWV6MEMsS0FBS2crRSxnQkFBaUJoK0UsS0FBSzgrRSx1QkFDdEY5K0UsS0FBS3M5RSxzQkFBc0I3b0MsaUJBQWlCLFdBQVl6MEMsS0FBSzg5RSxZQUFhOTlFLEtBQUs4K0UsdUJBQy9FOStFLEtBQUtzOUUsc0JBQXNCN29DLGlCQUFpQixZQUFhejBDLEtBQUtvK0UsY0FBZXArRSxLQUFLOCtFLHdCQUV0RjkrRSxLQUFLdzlFLGFBQWMsQ0F4Q25CLENBeUNKLEVBRUFSLEVBQW1CLzdFLFVBQVV3K0UsYUFBZSxXQUN4QyxHQUFLei9FLEtBQUt3OUUsYUFBZ0J4OUUsS0FBS3M5RSxzQkFBL0IsQ0FHQSxJQUFJaHpDLEVBQVF0cUMsS0FBS3M5RSxzQkFBc0JoekMsTUFDbkNqNUIsV0FBV21HLFVBQVVxb0Usa0JBQ3JCdjFDLEVBQU13MUMsaUJBQW1CLEdBQ3pCeDFDLEVBQU15MUMsY0FBZ0IsSUFFakIvL0UsS0FBSzQ5RSx3QkFDVnR6QyxFQUFNMDFDLFlBQWMsSUFFcEJoZ0YsS0FBSzQ5RSx1QkFDTHZzRSxXQUFXOEYsU0FBUzA5QixvQkFBb0IsY0FBZTcwQyxLQUFLbytFLGNBQWVwK0UsS0FBSzgrRSx1QkFDaEY5K0UsS0FBS3M5RSxzQkFBc0J6b0Msb0JBQW9CLGNBQWU3MEMsS0FBS2srRSxjQUFlbCtFLEtBQUs4K0UsdUJBQ3ZGOStFLEtBQUtzOUUsc0JBQXNCem9DLG9CQUFvQixlQUFnQjcwQyxLQUFLcytFLGFBQWN0K0UsS0FBSzgrRSx1QkFDdkY5K0UsS0FBS3M5RSxzQkFBc0J6b0Msb0JBQW9CLGNBQWU3MEMsS0FBS3crRSxjQUFleCtFLEtBQUs4K0UsdUJBQ3ZGenRFLFdBQVd3akMsb0JBQW9CLGdCQUFpQjcwQyxLQUFLZytFLGdCQUFpQmgrRSxLQUFLOCtFLHVCQUMzRXp0RSxXQUFXd2pDLG9CQUFvQixZQUFhNzBDLEtBQUs4OUUsWUFBYTk5RSxLQUFLOCtFLHlCQUduRXp0RSxXQUFXOEYsU0FBUzA5QixvQkFBb0IsWUFBYTcwQyxLQUFLbytFLGNBQWVwK0UsS0FBSzgrRSx1QkFDOUU5K0UsS0FBS3M5RSxzQkFBc0J6b0Msb0JBQW9CLFlBQWE3MEMsS0FBS2srRSxjQUFlbCtFLEtBQUs4K0UsdUJBQ3JGOStFLEtBQUtzOUUsc0JBQXNCem9DLG9CQUFvQixXQUFZNzBDLEtBQUtzK0UsYUFBY3QrRSxLQUFLOCtFLHVCQUNuRjkrRSxLQUFLczlFLHNCQUFzQnpvQyxvQkFBb0IsWUFBYTcwQyxLQUFLdytFLGNBQWV4K0UsS0FBSzgrRSx1QkFDckZ6dEUsV0FBV3dqQyxvQkFBb0IsVUFBVzcwQyxLQUFLODlFLFlBQWE5OUUsS0FBSzgrRSx3QkFFakU5K0UsS0FBSzI5RSxzQkFDTDM5RSxLQUFLczlFLHNCQUFzQnpvQyxvQkFBb0IsYUFBYzcwQyxLQUFLaytFLGNBQWVsK0UsS0FBSzgrRSx1QkFDdEY5K0UsS0FBS3M5RSxzQkFBc0J6b0Msb0JBQW9CLGNBQWU3MEMsS0FBS2crRSxnQkFBaUJoK0UsS0FBSzgrRSx1QkFDekY5K0UsS0FBS3M5RSxzQkFBc0J6b0Msb0JBQW9CLFdBQVk3MEMsS0FBSzg5RSxZQUFhOTlFLEtBQUs4K0UsdUJBQ2xGOStFLEtBQUtzOUUsc0JBQXNCem9DLG9CQUFvQixZQUFhNzBDLEtBQUtvK0UsY0FBZXArRSxLQUFLOCtFLHdCQUV6RjkrRSxLQUFLczlFLHNCQUF3QixLQUM3QnQ5RSxLQUFLdzlFLGFBQWMsQ0EvQm5CLENBZ0NKLEVBUUFSLEVBQW1CLzdFLFVBQVUwK0UsYUFBZSxTQUFVaDVDLEdBQ2xEM21DLEtBQUtxMEMsWUFBYzFOLEVBQ2YzbUMsS0FBS3EwQyxXQUFhcjBDLEtBQUtrOUUsdUJBRzNCbDlFLEtBQUtxMEMsV0FBYSxFQUNsQnIwQyxLQUFLNm5DLFNBQ1QsRUFFQW0xQyxFQUFtQi83RSxVQUFVNG1DLE9BQVMsV0FDbEMsR0FBSzduQyxLQUFLczlFLHNCQUlWLEdBQUl0OUUsS0FBS2lnRixTQUNMamdGLEtBQUtpZ0YsVUFBVyxNQURwQixDQVFBLElBQUssSUFBSWg0RSxLQUpUakksS0FBSzQ4RSxPQUFTLEtBSUE1OEUsS0FBS285RSxzQkFFZixHQUFJcDlFLEtBQUtvOUUsc0JBQXNCbDhFLGVBQWUrRyxHQUFJLENBQzlDLElBQUlpNEUsRUFBa0JsZ0YsS0FBS285RSxzQkFBc0JuMUUsR0FDakQsR0FBSWk0RSxFQUFnQmpHLGVBQWlELFVBQWhDaUcsRUFBZ0IxRixZQUF5QixDQUMxRSxJQUFJMEIsRUFBbUJsOEUsS0FBS21nRixxQ0FBcUNuZ0YsS0FBS3M1RSxVQUFXNEcsRUFBZ0JqRyxjQUFlaUcsR0FDaEhsZ0YsS0FBS3cvRSxtQkFBbUJ0RCxFQUFrQmw4RSxLQUFLdS9FLG1CQUFvQnYvRSxLQUFLdStFLHVCQUF1QixFQUNuRyxDQUNKLENBRUp2K0UsS0FBS29nRixjQUFjcGdGLEtBQUs0OEUsT0FmeEIsQ0FnQkosRUFLQUksRUFBbUIvN0UsVUFBVW0vRSxjQUFnQixTQUFVenVDLEdBQ25EQSxFQUFPQSxHQUFRLFVBQ2YsSUFBSTB1QyxHQUFjLEVBT2xCLEdBSklodkUsV0FBVysrQixpQkFBbUJwd0MsS0FBS3M5RSxpQ0FBaUNsdEMsa0JBQ3BFaXdDLEdBQWMsR0FHZHJnRixLQUFLMitFLG9CQUFzQmh0QyxFQUEvQixDQUdBM3hDLEtBQUsyK0Usa0JBQW9CaHRDLEVBQ3pCLElBQUlySCxFQUFRdHFDLEtBQUt5K0UsYUFBYTlzQyxHQUU5QixHQUFJckgsRUFDQSxjQUFlQSxHQUNYLElBQUssU0FFRysxQyxJQUNBcmdGLEtBQUtzOUUsc0JBQXNCaHpDLE1BQU1zeUMsT0FBU3R5QyxHQUU5QyxNQUNKLElBQUssV0FFREEsRUFBTXFILEdBQ04sTUFDSixJQUFLLFNBR0cwdUMsR0FDQXIvRSxPQUFPcUQsT0FBT3JFLEtBQUtzOUUsc0JBQXNCaHpDLE1BQU9BLFFBS3ZEKzFDLEdBQStCLGlCQUFUMXVDLElBQXNCM3dDLE9BQU9DLFVBQVVDLGVBQWV1QixLQUFLekMsS0FBS3krRSxhQUFjOXNDLEtBR3pHM3hDLEtBQUtzOUUsc0JBQXNCaHpDLE1BQU1zeUMsT0FBU2pyQyxFQTVCOUMsQ0E4QkosRUFPQXFyQyxFQUFtQi83RSxVQUFVczRFLGNBQWdCLFNBQVVqVixFQUFlZ2MsRUFBYWhILEdBRzFFQSxFQUFVMEIscUJBQXVCMVcsSUFBa0JnVixFQUFVeUIscUJBQzlEekIsRUFBVTJCLGNBQWdCM1csRUFDMUJnVixFQUFVMXlFLEtBQU8wNUUsRUFDakJoYyxFQUFjbmhFLEtBQUttOUUsRUFBYWhILEdBQzVCaFYsRUFBY2djLElBQ2RoYyxFQUFjZ2MsR0FBYWhILEdBR3ZDLEVBUUEwRCxFQUFtQi83RSxVQUFVcy9FLG1CQUFxQixTQUFVamMsRUFBZWdjLEVBQWFoSCxHQUNwRnQ1RSxLQUFLNCtFLGNBQWNqbEYsS0FBSyxDQUFFMnFFLGNBQWVBLEVBQWVnYyxZQUFhQSxFQUFhaEgsVUFBV0EsR0FDakcsRUFTQTBELEVBQW1CLzdFLFVBQVV1L0UsbUJBQXFCLFNBQVVya0QsRUFBT3hqQyxFQUFHQyxHQUNsRSxJQUFJaWpDLEVBYUFBLEVBWEM3N0IsS0FBS3M5RSxzQkFBc0JtRCxjQVdyQnpnRixLQUFLczlFLHNCQUFzQi9FLHdCQVYzQixDQUNINS9FLEVBQUcsRUFDSEMsRUFBRyxFQUNIb2UsTUFBT2hYLEtBQUtzOUUsc0JBQXNCdG1FLE1BQ2xDQyxPQUFRalgsS0FBS3M5RSxzQkFBc0JybUUsT0FDbkN5WSxLQUFNLEVBQ05ELElBQUssR0FNYixJQUFJaXhELEVBQXVCLEVBQU0xZ0YsS0FBSzB1QixXQUN0Q3lOLEVBQU14akMsR0FBTUEsRUFBSWtqQyxFQUFLbk0sT0FBUzF2QixLQUFLczlFLHNCQUFzQnRtRSxNQUFRNmtCLEVBQUs3a0IsT0FBVTBwRSxFQUNoRnZrRCxFQUFNdmpDLEdBQU1BLEVBQUlpakMsRUFBS3BNLE1BQVF6dkIsS0FBS3M5RSxzQkFBc0JybUUsT0FBUzRrQixFQUFLNWtCLFFBQVd5cEUsQ0FDckYsRUFlQTFELEVBQW1CLzdFLFVBQVV1K0UsbUJBQXFCLFNBQVV0RCxFQUFrQjVYLEVBQWV2RixFQUFNb2QsR0FDL0YsSUFBSUMsRUFBTXA4RSxLQUFLd0wsT0FBT2l4RSxRQUFRUCxFQUFrQjVYLEVBQWV2RixFQUFNb2QsR0FDakV5QyxFQUFnQjUrRSxLQUFLNCtFLGNBQ3pCLElBQUtBLEVBQWM3bEYsT0FDZixPQUFPcWpGLEVBR1hGLEVBQWlCbEIscUJBQXNCLEVBQ3ZDLElBQUkyRixFQUFhL0IsRUFBYzdsRixPQUMvQmlILEtBQUs0K0UsY0FBZ0IsR0FDckIsSUFBSyxJQUFJdGxGLEVBQUksRUFBR0EsRUFBSXFuRixFQUFZcm5GLElBQUssQ0FDakMsSUFBSW9lLEVBQUtrbkUsRUFBY3RsRixHQUFJc25GLEVBQWtCbHBFLEVBQUc0c0QsY0FBZWdjLEVBQWM1b0UsRUFBRzRvRSxZQUFhaEgsRUFBWTVoRSxFQUFHNGhFLFVBR3hHQSxFQUFVeUIscUJBQXVCNkYsSUFDakN0SCxFQUFVMEIscUJBQXNCLEdBRXBDaDdFLEtBQUt1NUUsY0FBY3FILEVBQWlCTixFQUFhaEgsRUFDckQsQ0FDQSxPQUFPOEMsQ0FDWCxFQUtBWSxFQUFtQi83RSxVQUFVaTlFLGNBQWdCLFNBQVVqRSxHQUVuRCxJQUFJajZFLEtBQUsyOUUscUJBQXFELFVBQTlCMUQsRUFBY08sWUFBOUMsQ0FFQSxJQUFJbDRFLEVBQVN0QyxLQUFLNmdGLHVCQUF1QjVHLEdBT3JDajZFLEtBQUtpOUUsb0JBQXNCMzZFLEVBQU8sR0FBR3crRSxlQUNwQjdHLEVBQWM4RyxjQUFnQixlQUFnQjlHLEtBRTNEQSxFQUFjcjBCLGlCQUl0QixJQURBLElBQUlvN0IsRUFBVzErRSxFQUFPdkosT0FDYk8sRUFBSSxFQUFHQSxFQUFJMG5GLEVBQVUxbkYsSUFBSyxDQUMvQixJQUFJcUksRUFBUVcsRUFBT2hKLEdBQ2Y0bUYsRUFBa0JsZ0YsS0FBS2loRiwrQkFBK0J0L0UsR0FDdER1NkUsRUFBbUJsOEUsS0FBS21nRixxQ0FBcUNuZ0YsS0FBS3M1RSxVQUFXMzNFLEVBQU91K0UsR0FJeEYsR0FIQWhFLEVBQWlCOWpGLEtBQUs2aEYsY0FBZ0JBLEVBQ3RDajZFLEtBQUt3L0UsbUJBQW1CdEQsRUFBa0JsOEUsS0FBS3UvRSxtQkFBb0J2L0UsS0FBS20rRSxvQkFBb0IsR0FDNUZuK0UsS0FBS21ELEtBQUssY0FBZSs0RSxHQUNDLFVBQXRCdjZFLEVBQU02NEUsWUFDTng2RSxLQUFLbUQsS0FBSyxhQUFjKzRFLFFBR3ZCLEdBQTBCLFVBQXRCdjZFLEVBQU02NEUsYUFBaUQsUUFBdEI3NEUsRUFBTTY0RSxZQUF1QixDQUNuRSxJQUFJMEcsRUFBaUMsSUFBakJ2L0UsRUFBTXk0RSxPQUMxQnA2RSxLQUFLbUQsS0FBSys5RSxFQUFnQixZQUFjLFlBQWFsaEYsS0FBS3M1RSxVQUM5RCxDQUNKLENBOUJjLENBK0JsQixFQU9BMEQsRUFBbUIvN0UsVUFBVWs5RSxtQkFBcUIsU0FBVWpDLEVBQWtCNVgsRUFBZThYLEdBQ3pGLElBQUloa0YsRUFBTzhqRixFQUFpQjlqRixLQUN4QnlZLEVBQUtxckUsRUFBaUI5akYsS0FBSzhoRixXQUMvQixHQUFJa0MsRUFLQSxHQUpLOVgsRUFBY3VZLGdCQUFnQmhzRSxLQUMvQnl6RCxFQUFjdVksZ0JBQWdCaHNFLEdBQU0sSUFBSXNxRSxHQUF3QnRxRSxJQUVwRTdRLEtBQUt1NUUsY0FBY2pWLEVBQWUsY0FBZTRYLEdBQ3hCLFVBQXJCOWpGLEVBQUtvaUYsWUFDTHg2RSxLQUFLdTVFLGNBQWNqVixFQUFlLGFBQWM0WCxRQUUvQyxHQUF5QixVQUFyQjlqRixFQUFLb2lGLGFBQWdELFFBQXJCcGlGLEVBQUtvaUYsWUFBdUIsQ0FDakUsSUFBSTBHLEVBQWdDLElBQWhCOW9GLEVBQUtnaUYsT0FDckI4RyxFQUNBNWMsRUFBY3VZLGdCQUFnQmhzRSxHQUFJc3dFLFdBQVksRUFHOUM3YyxFQUFjdVksZ0JBQWdCaHNFLEdBQUl1d0UsVUFBVyxFQUVqRHBoRixLQUFLdTVFLGNBQWNqVixFQUFlNGMsRUFBZ0IsWUFBYyxZQUFhaEYsRUFDakYsQ0FFUixFQU9BYyxFQUFtQi83RSxVQUFVb2dGLGtCQUFvQixTQUFVcEgsRUFBZXFILEVBQVd2aUIsR0FDakYsSUFBSXo4RCxFQUFTdEMsS0FBSzZnRix1QkFBdUI1RyxHQUNyQytHLEVBQVcxK0UsRUFBT3ZKLE9BR2xCcU0sRUFBUzYwRSxFQUFjNzBFLE9BRXZCNjBFLEVBQWNzSCxjQUFnQnRILEVBQWNzSCxlQUFleG9GLE9BQVMsSUFDcEVxTSxFQUFTNjBFLEVBQWNzSCxlQUFlLElBRzFDLElBREEsSUFBSUMsRUFBY3A4RSxJQUFXcEYsS0FBS3M5RSxzQkFBd0IsVUFBWSxHQUM3RGhrRixFQUFJLEVBQUdBLEVBQUkwbkYsRUFBVTFuRixJQUFLLENBQy9CLElBQUlxSSxFQUFRVyxFQUFPaEosR0FDZjRtRixFQUFrQmxnRixLQUFLaWhGLCtCQUErQnQvRSxHQUN0RHU2RSxFQUFtQmw4RSxLQUFLbWdGLHFDQUFxQ25nRixLQUFLczVFLFVBQVczM0UsRUFBT3UrRSxHQUt4RixHQUpBaEUsRUFBaUI5akYsS0FBSzZoRixjQUFnQkEsRUFFdENqNkUsS0FBS3cvRSxtQkFBbUJ0RCxFQUFrQmw4RSxLQUFLdS9FLG1CQUFvQnhnQixFQUFNdWlCLElBQWNFLEdBQ3ZGeGhGLEtBQUttRCxLQUFLbStFLEVBQVksZ0JBQWtCLFlBQWNFLEVBQWF0RixHQUN6QyxVQUF0QnY2RSxFQUFNNjRFLGFBQWlELFFBQXRCNzRFLEVBQU02NEUsWUFBdUIsQ0FDOUQsSUFBSTBHLEVBQWlDLElBQWpCdi9FLEVBQU15NEUsT0FDMUJwNkUsS0FBS21ELEtBQUsrOUUsRUFBZ0IsVUFBWU0sRUFBYyxVQUFZQSxFQUFhdEYsRUFDakYsS0FDK0IsVUFBdEJ2NkUsRUFBTTY0RSxjQUNYeDZFLEtBQUttRCxLQUFLbStFLEVBQVksY0FBZ0IsV0FBYUUsRUFBYXRGLEdBQ2hFbDhFLEtBQUt5aEYsbUNBQW1DOS9FLEVBQU15NUUsV0FFdEQsQ0FDSixFQUtBNEIsRUFBbUIvN0UsVUFBVSs4RSxnQkFBa0IsU0FBVXI4RSxHQUVqRDNCLEtBQUsyOUUscUJBQTZDLFVBQXRCaDhFLEVBQU02NEUsYUFFdEN4NkUsS0FBS3FoRixrQkFBa0IxL0UsR0FBTyxFQUFNM0IsS0FBS2krRSxxQkFDN0MsRUFNQWpCLEVBQW1CLzdFLFVBQVVnOUUscUJBQXVCLFNBQVUvQixFQUFrQjVYLEdBQzVFLElBQUlsc0UsRUFBTzhqRixFQUFpQjlqRixLQUN4QnlZLEVBQUtxckUsRUFBaUI5akYsS0FBSzhoRixnQkFDV3YyRSxJQUF0QzJnRSxFQUFjdVksZ0JBQWdCaHNFLFlBQ3ZCeXpELEVBQWN1WSxnQkFBZ0Joc0UsR0FDckM3USxLQUFLdTVFLGNBQWNqVixFQUFlLGdCQUFpQjRYLEdBQzFCLFVBQXJCOWpGLEVBQUtvaUYsYUFDTHg2RSxLQUFLdTVFLGNBQWNqVixFQUFlLGNBQWU0WCxHQUc3RCxFQUtBYyxFQUFtQi83RSxVQUFVNjhFLFlBQWMsU0FBVW44RSxHQUU3QzNCLEtBQUsyOUUscUJBQTZDLFVBQXRCaDhFLEVBQU02NEUsYUFFdEN4NkUsS0FBS3FoRixrQkFBa0IxL0UsR0FBTyxFQUFPM0IsS0FBSys5RSxpQkFDOUMsRUFPQWYsRUFBbUIvN0UsVUFBVTg4RSxpQkFBbUIsU0FBVTdCLEVBQWtCNVgsRUFBZThYLEdBQ3ZGLElBQUloa0YsRUFBTzhqRixFQUFpQjlqRixLQUN4QnlZLEVBQUtxckUsRUFBaUI5akYsS0FBSzhoRixXQUMzQndILEVBQWVwZCxFQUFjdVksZ0JBQWdCaHNFLEdBQzdDOHdFLEVBQStCLFVBQXJCdnBGLEVBQUtvaUYsWUFDZm9ILEVBQWdDLFVBQXJCeHBGLEVBQUtvaUYsYUFBZ0QsUUFBckJwaUYsRUFBS29pRixZQUdoRHFILEdBQWEsRUFFakIsR0FBSUQsRUFBUyxDQUNULElBQUlWLEVBQWdDLElBQWhCOW9GLEVBQUtnaUYsT0FDckJzQixFQUFRUCxHQUF3QkksTUFDaENoeUUsRUFBTzIzRSxFQUFnQnhGLEVBQU1FLFdBQWFGLEVBQU1HLFVBQ2hEaUcsT0FBMEJuK0UsSUFBakIrOUUsR0FBK0JBLEVBQWFoRyxNQUFRbnlFLEVBQzdENnlFLEdBQ0FwOEUsS0FBS3U1RSxjQUFjalYsRUFBZTRjLEVBQWdCLFVBQVksVUFBV2hGLEdBQ3JFNEYsSUFDQTloRixLQUFLdTVFLGNBQWNqVixFQUFlNGMsRUFBZ0IsYUFBZSxRQUFTaEYsR0FFMUUyRixHQUFhLElBR1pDLEdBQ0w5aEYsS0FBS3U1RSxjQUFjalYsRUFBZTRjLEVBQWdCLGlCQUFtQixpQkFBa0JoRixHQUd2RndGLElBQ0lSLEVBQ0FRLEVBQWFQLFdBQVksRUFHekJPLEVBQWFOLFVBQVcsRUFHcEMsQ0FFSWhGLEdBQ0FwOEUsS0FBS3U1RSxjQUFjalYsRUFBZSxZQUFhNFgsR0FDM0N5RixHQUNFM2hGLEtBQUt1NUUsY0FBY2pWLEVBQWUsV0FBWTRYLEdBQ2hEd0YsSUFFS0UsSUFBV0MsR0FDWjdoRixLQUFLdTVFLGNBQWNqVixFQUFlLGFBQWM0WCxHQUVoRHlGLElBQ0EzaEYsS0FBS3U1RSxjQUFjalYsRUFBZSxNQUFPNFgsR0FHekN3RixFQUFhSyxNQUFPLEtBSXZCTCxJQUNMMWhGLEtBQUt1NUUsY0FBY2pWLEVBQWUsbUJBQW9CNFgsR0FDbER5RixHQUNFM2hGLEtBQUt1NUUsY0FBY2pWLEVBQWUsa0JBQW1CNFgsSUFHM0R3RixHQUFnQkEsRUFBYU0sYUFDdEIxZCxFQUFjdVksZ0JBQWdCaHNFLEVBRTdDLEVBS0Ftc0UsRUFBbUIvN0UsVUFBVW05RSxjQUFnQixTQUFVbkUsR0FFbkQsSUFBSWo2RSxLQUFLMjlFLHFCQUFxRCxVQUE5QjFELEVBQWNPLFlBQTlDLENBRUEsSUFBSWw0RSxFQUFTdEMsS0FBSzZnRix1QkFBdUI1RyxHQUNYLFVBQTFCMzNFLEVBQU8sR0FBR2s0RSxhQUFxRCxRQUExQmw0RSxFQUFPLEdBQUdrNEUsY0FDL0N4NkUsS0FBS2lnRixVQUFXLEVBQ2hCamdGLEtBQUs0OEUsT0FBUyxNQUdsQixJQURBLElBQUlvRSxFQUFXMStFLEVBQU92SixPQUNiTyxFQUFJLEVBQUdBLEVBQUkwbkYsRUFBVTFuRixJQUFLLENBQy9CLElBQUlxSSxFQUFRVyxFQUFPaEosR0FDZjRtRixFQUFrQmxnRixLQUFLaWhGLCtCQUErQnQvRSxHQUN0RHU2RSxFQUFtQmw4RSxLQUFLbWdGLHFDQUFxQ25nRixLQUFLczVFLFVBQVczM0UsRUFBT3UrRSxHQUN4RmhFLEVBQWlCOWpGLEtBQUs2aEYsY0FBZ0JBLEVBQ3RDajZFLEtBQUt3L0UsbUJBQW1CdEQsRUFBa0JsOEUsS0FBS3UvRSxtQkFBb0J2L0UsS0FBS3ErRSxvQkFBb0IsR0FDNUZyK0UsS0FBS21ELEtBQUssY0FBZSs0RSxHQUNDLFVBQXRCdjZFLEVBQU02NEUsYUFDSng2RSxLQUFLbUQsS0FBSyxZQUFhKzRFLEdBQ0gsVUFBdEJ2NkUsRUFBTTY0RSxhQUFpRCxRQUF0Qjc0RSxFQUFNNjRFLGFBQ3JDeDZFLEtBQUttRCxLQUFLLFlBQWErNEUsRUFDakMsQ0FDOEIsVUFBMUI1NUUsRUFBTyxHQUFHazRFLGFBQ1Z4NkUsS0FBS29nRixjQUFjcGdGLEtBQUs0OEUsT0FwQmQsQ0F1QmxCLEVBT0FJLEVBQW1CLzdFLFVBQVVvOUUsbUJBQXFCLFNBQVVuQyxFQUFrQjVYLEVBQWU4WCxHQUN6RixJQUFJaGtGLEVBQU84akYsRUFBaUI5akYsS0FDeEJ1cEYsRUFBK0IsVUFBckJ2cEYsRUFBS29pRixZQUNmb0gsRUFBZ0MsVUFBckJ4cEYsRUFBS29pRixhQUFnRCxRQUFyQnBpRixFQUFLb2lGLFlBQ2hEb0gsR0FDQTVoRixLQUFLdStFLHNCQUFzQnJDLEVBQWtCNVgsRUFBZThYLEdBRTNEcDhFLEtBQUt1OUUsaUJBQWtCbkIsSUFDeEJwOEUsS0FBS3U1RSxjQUFjalYsRUFBZSxjQUFlNFgsR0FDN0N5RixHQUNFM2hGLEtBQUt1NUUsY0FBY2pWLEVBQWUsWUFBYTRYLEdBQ2pEMEYsR0FDRTVoRixLQUFLdTVFLGNBQWNqVixFQUFlLFlBQWE0WCxHQUU3RCxFQU1BYyxFQUFtQi83RSxVQUFVcTlFLGFBQWUsU0FBVXJFLEdBRWxELElBQUlqNkUsS0FBSzI5RSxxQkFBcUQsVUFBOUIxRCxFQUFjTyxZQUE5QyxDQUVBLElBRUk3NEUsRUFGUzNCLEtBQUs2Z0YsdUJBQXVCNUcsR0FFdEIsR0FDTyxVQUF0QnQ0RSxFQUFNNjRFLGNBQ054NkUsS0FBSzA5RSxtQkFBb0IsRUFDekIxOUUsS0FBS29nRixjQUFjLE9BRXZCLElBQUlGLEVBQWtCbGdGLEtBQUtpaEYsK0JBQStCdC9FLEdBQ3REdTZFLEVBQW1CbDhFLEtBQUttZ0YscUNBQXFDbmdGLEtBQUtzNUUsVUFBVzMzRSxFQUFPdStFLEdBQ3hGaEUsRUFBaUI5akYsS0FBSzZoRixjQUFnQnQ0RSxFQUN0QzNCLEtBQUt3L0UsbUJBQW1CdEQsRUFBa0JsOEUsS0FBS3UvRSxtQkFBb0J2L0UsS0FBS3UrRSx1QkFBdUIsR0FDL0Z2K0UsS0FBS21ELEtBQUssYUFBYys0RSxHQUNFLFVBQXRCdjZFLEVBQU02NEUsYUFBaUQsUUFBdEI3NEUsRUFBTTY0RSxZQUN2Q3g2RSxLQUFLbUQsS0FBSyxXQUFZKzRFLEdBS3RCbDhFLEtBQUt5aEYsbUNBQW1DdkIsRUFBZ0JoRyxXQW5COUMsQ0FxQmxCLEVBT0E4QyxFQUFtQi83RSxVQUFVczlFLHNCQUF3QixTQUFVckMsRUFBa0I1WCxFQUFlOFgsR0FDNUYsSUFBSWhrRixFQUFPOGpGLEVBQWlCOWpGLEtBQ3hCeVksRUFBS3FyRSxFQUFpQjlqRixLQUFLOGhGLFdBQzNCMEgsRUFBZ0MsVUFBckJ4cEYsRUFBS29pRixhQUFnRCxRQUFyQnBpRixFQUFLb2lGLFlBQ2hEa0gsRUFBZXBkLEVBQWN1WSxnQkFBZ0Joc0UsR0FFN0N1ckUsSUFBUXNGLElBQ1JBLEVBQWVwZCxFQUFjdVksZ0JBQWdCaHNFLEdBQU0sSUFBSXNxRSxHQUF3QnRxRSxTQUU5RGxOLElBQWpCKzlFLElBRUF0RixHQUFPcDhFLEtBQUswOUUsbUJBQ1BnRSxFQUFhSyxPQUNkTCxFQUFhSyxNQUFPLEVBQ3BCL2hGLEtBQUt1Z0YsbUJBQW1CamMsRUFBZSxjQUFlNFgsR0FDbEQwRixHQUNBNWhGLEtBQUt1Z0YsbUJBQW1CamMsRUFBZSxZQUFhNFgsSUFLeEQwRixHQUEyQixPQUFoQjVoRixLQUFLNDhFLFNBQ2hCNThFLEtBQUs0OEUsT0FBU3RZLEVBQWNzWSxTQUczQjhFLEVBQWFLLE9BQ2xCTCxFQUFhSyxNQUFPLEVBQ3BCL2hGLEtBQUt1NUUsY0FBY2pWLEVBQWUsYUFBY3RrRSxLQUFLczVFLFdBQ2pEc0ksR0FDQTVoRixLQUFLdTVFLGNBQWNqVixFQUFlLFdBQVk0WCxHQUc5Q3dGLEVBQWFNLGFBQ04xZCxFQUFjdVksZ0JBQWdCaHNFLElBR2pELEVBS0Ftc0UsRUFBbUIvN0UsVUFBVXU5RSxjQUFnQixTQUFVdkUsR0FDbkQsSUFBSWo2RSxLQUFLMjlFLHFCQUFxRCxVQUE5QjFELEVBQWNPLFlBQTlDLENBRUEsSUFFSTc0RSxFQUZTM0IsS0FBSzZnRix1QkFBdUI1RyxHQUV0QixHQUNmaUcsRUFBa0JsZ0YsS0FBS2loRiwrQkFBK0J0L0UsR0FDdER1NkUsRUFBbUJsOEUsS0FBS21nRixxQ0FBcUNuZ0YsS0FBS3M1RSxVQUFXMzNFLEVBQU91K0UsR0FDeEZoRSxFQUFpQjlqRixLQUFLNmhGLGNBQWdCdDRFLEVBQ1osVUFBdEJBLEVBQU02NEUsY0FDTng2RSxLQUFLMDlFLG1CQUFvQixHQUU3QjE5RSxLQUFLbUQsS0FBSyxjQUFlKzRFLEdBQ0MsVUFBdEJ2NkUsRUFBTTY0RSxhQUFpRCxRQUF0Qjc0RSxFQUFNNjRFLGFBQ3ZDeDZFLEtBQUttRCxLQUFLLFlBQWErNEUsRUFaYixDQWNsQixFQU1BYyxFQUFtQi83RSxVQUFVZ2dGLCtCQUFpQyxTQUFVdC9FLEdBQ3BFLElBQ0l1K0UsRUFEQTlFLEVBQVl6NUUsRUFBTXk1RSxVQWdCdEIsT0F6bkNlLElBMm1DWEEsR0FBd0QsVUFBdEJ6NUUsRUFBTTY0RSxZQUN4QzBGLEVBQWtCbGdGLEtBQUttOUUsTUFFbEJuOUUsS0FBS285RSxzQkFBc0JoQyxHQUNoQzhFLEVBQWtCbGdGLEtBQUtvOUUsc0JBQXNCaEMsS0FHN0M4RSxFQUFrQmxnRixLQUFLcTlFLG9CQUFvQnB0RSxPQUFTLElBQUkycEUsSUFDeENNLFdBQWFrQixFQUM3QnA3RSxLQUFLbzlFLHNCQUFzQmhDLEdBQWE4RSxHQUk1Q0EsRUFBZ0J2RixVQUFVaDVFLEdBQ25CdStFLENBQ1gsRUFLQWxELEVBQW1CLzdFLFVBQVV3Z0YsbUNBQXFDLFNBQVVyRyxHQUN4RSxJQUFJOEUsRUFBa0JsZ0YsS0FBS285RSxzQkFBc0JoQyxHQUM3QzhFLFdBQ09sZ0YsS0FBS285RSxzQkFBc0JoQyxHQUNsQzhFLEVBQWdCaDlCLFFBQ2hCbGpELEtBQUtxOUUsb0JBQW9CMWpGLEtBQUt1bUYsR0FFdEMsRUFTQWxELEVBQW1CLzdFLFVBQVVrL0UscUNBQXVDLFNBQVVqRSxFQUFrQitGLEVBQWMvQixHQVUxRyxPQVRBaEUsRUFBaUI5akYsS0FBTzhuRixFQUN4QmxnRixLQUFLd2dGLG1CQUFtQk4sRUFBZ0JuNkUsT0FBUWs4RSxFQUFhQyxRQUFTRCxFQUFhRSxTQUVsRCxVQUE3QkYsRUFBYXpILGNBQ2J5SCxFQUFhRyxRQUFVbEMsRUFBZ0JuNkUsT0FBT3BOLEVBQzlDc3BGLEVBQWFJLFFBQVVuQyxFQUFnQm42RSxPQUFPbk4sR0FFbERzbkYsRUFBZ0JqRyxjQUFnQmdJLEVBQ2hDL0YsRUFBaUJoNUIsUUFDVmc1QixDQUNYLEVBT0FjLEVBQW1CLzdFLFVBQVU0L0UsdUJBQXlCLFNBQVVsL0UsR0FDNUQsSUFBSTJnRixFQUFtQixHQUN2QixHQUFJdGlGLEtBQUsyOUUscUJBQXVCaDhFLGFBQWlCNGdGLFdBQzdDLElBQUssSUFBSWpwRixFQUFJLEVBQUdrcEYsRUFBSzdnRixFQUFNOGdGLGVBQWUxcEYsT0FBUU8sRUFBSWtwRixFQUFJbHBGLElBQUssQ0FDM0QsSUFBSTI1RSxFQUFRdHhFLEVBQU04Z0YsZUFBZW5wRixRQUNMLElBQWpCMjVFLEVBQU1tSCxTQUNYbkgsRUFBTW1ILE9BQVN6NEUsRUFBTStnRixRQUFRM3BGLE9BQVMsRUFBSSxRQUNuQixJQUFsQms2RSxFQUFNb0gsVUFDWHBILEVBQU1vSCxRQUFVMTRFLEVBQU0rZ0YsUUFBUTNwRixPQUFTLEVBQUksUUFDbEIsSUFBcEJrNkUsRUFBTWtILFlBQ2JsSCxFQUFNa0gsVUFBcUMsSUFBekJ4NEUsRUFBTStnRixRQUFRM3BGLFFBQStCLGVBQWY0SSxFQUFNaUYsV0FFL0IsSUFBaEJxc0UsRUFBTWo4RCxRQUNYaThELEVBQU1qOEQsTUFBUWk4RCxFQUFNMFAsU0FBVyxRQUNULElBQWpCMVAsRUFBTWg4RCxTQUNYZzhELEVBQU1oOEQsT0FBU2c4RCxFQUFNMlAsU0FBVyxRQUNYLElBQWhCM1AsRUFBTXFILFFBQ1hySCxFQUFNcUgsTUFBUSxRQUNPLElBQWhCckgsRUFBTXNILFFBQ1h0SCxFQUFNc0gsTUFBUSxRQUNhLElBQXRCdEgsRUFBTXVILGNBQ1h2SCxFQUFNdUgsWUFBYyxjQUNLLElBQXBCdkgsRUFBTW1JLFlBQ1huSSxFQUFNbUksVUFBWW5JLEVBQU1pSCxZQUFjLFFBQ2QsSUFBbkJqSCxFQUFNNEcsV0FDWDVHLEVBQU00RyxTQUFXNUcsRUFBTTRQLE9BQVMsU0FDWCxJQUFoQjVQLEVBQU04RyxRQUNYOUcsRUFBTThHLE1BQVEsUUFDb0IsSUFBN0I5RyxFQUFNK0cscUJBQ1gvRyxFQUFNK0csbUJBQXFCLFFBS0wsSUFBakIvRyxFQUFNNlAsU0FDWDdQLEVBQU02UCxPQUFTN1AsRUFBTThQLFFBQVU5UCxFQUFNaVAsY0FDZixJQUFqQmpQLEVBQU0rUCxTQUNYL1AsRUFBTStQLE9BQVMvUCxFQUFNZ1EsUUFBVWhRLEVBQU1rUCxTQUUzQ2xQLEVBQU02TixjQUFlLEVBQ3JCd0IsRUFBaUIzb0YsS0FBS3M1RSxFQUMxQixNQUdDLElBQUs1aEUsV0FBVzZ4RSxZQUNidmhGLGFBQWlCdWhGLGNBQWdCbGpGLEtBQUs0OUUsdUJBQTJCajhFLGFBQWlCMFAsV0FBV3dzRSxjQUFpQixDQUNsSCxJQUFJc0YsRUFBWXhoRixPQUNtQixJQUF4QndoRixFQUFVaEosWUFDZmdKLEVBQVVoSixXQUFZLFFBQ0csSUFBcEJnSixFQUFVbnNFLFFBQ2Ztc0UsRUFBVW5zRSxNQUFRLFFBQ1EsSUFBckJtc0UsRUFBVWxzRSxTQUNma3NFLEVBQVVsc0UsT0FBUyxRQUNNLElBQXBCa3NFLEVBQVU3SSxRQUNmNkksRUFBVTdJLE1BQVEsUUFDTyxJQUFwQjZJLEVBQVU1SSxRQUNmNEksRUFBVTVJLE1BQVEsUUFDYSxJQUExQjRJLEVBQVUzSSxjQUNmMkksRUFBVTNJLFlBQWMsY0FDSyxJQUF4QjJJLEVBQVUvSCxZQUNmK0gsRUFBVS9ILFVBN3RDTCxRQTh0Q3VCLElBQXZCK0gsRUFBVXRKLFdBQ2ZzSixFQUFVdEosU0FBVyxTQUNJLElBQXBCc0osRUFBVXBKLFFBQ2ZvSixFQUFVcEosTUFBUSxRQUNvQixJQUFqQ29KLEVBQVVuSixxQkFDZm1KLEVBQVVuSixtQkFBcUIsR0FFckNtSixFQUFVckMsY0FBZSxFQUN6QndCLEVBQWlCM29GLEtBQUt3cEYsRUFDMUIsTUFFSWIsRUFBaUIzb0YsS0FBS2dJLEdBRTFCLE9BQU8yZ0YsQ0FDWCxFQUVBdEYsRUFBbUIvN0UsVUFBVXN0QixRQUFVLFdBQ25DdnVCLEtBQUt5L0UsZUFDTHovRSxLQUFLcS9FLHVCQUNMci9FLEtBQUs4RCxxQkFDTDlELEtBQUtxakMsU0FBVyxLQUNoQnJqQyxLQUFLbTlFLE1BQVEsS0FDYm45RSxLQUFLczVFLFVBQVksS0FDakJ0NUUsS0FBS3M5RSxzQkFBd0IsS0FDN0J0OUUsS0FBS2srRSxjQUFnQixLQUNyQmwrRSxLQUFLbStFLG1CQUFxQixLQUMxQm4rRSxLQUFLODlFLFlBQWMsS0FDbkI5OUUsS0FBSys5RSxpQkFBbUIsS0FDeEIvOUUsS0FBS2crRSxnQkFBa0IsS0FDdkJoK0UsS0FBS2krRSxxQkFBdUIsS0FDNUJqK0UsS0FBS28rRSxjQUFnQixLQUNyQnArRSxLQUFLcStFLG1CQUFxQixLQUMxQnIrRSxLQUFLcytFLGFBQWUsS0FDcEJ0K0UsS0FBS3UrRSxzQkFBd0IsS0FDN0J2K0UsS0FBS3crRSxjQUFnQixLQUNyQngrRSxLQUFLd0wsT0FBUyxJQUNsQixFQUVBd3hFLEVBQW1CcjRDLFVBQVksQ0FDM0JwaUMsS0FBTSxjQUNOcUUsS0FBTSxDQUNGMjlCLEdBQWNzckMsZUFDZHRyQyxHQUFjbzFDLHVCQUVmcUQsQ0FDWCxDQXp2Q3VDLENBeXZDckMsSUM3eERFb0csR0FBWSxJQUFJNXhELEdBc0JoQjZ4RCxHQUF5QixXQUl6QixTQUFTQSxFQUFRaGdELEdBQ2JyakMsS0FBS3FqQyxTQUFXQSxDQUNwQixDQXdLQSxPQS9KQWdnRCxFQUFRcGlGLFVBQVVxaUYsTUFBUSxTQUFVbCtFLEVBQVE2RyxFQUFRczNFLEdBQ2hELElBQUlELEVBQVEsSUFBSXZ5QyxNQUVoQixPQURBdXlDLEVBQU10eUMsSUFBTWh4QyxLQUFLd2pGLE9BQU9wK0UsRUFBUTZHLEVBQVFzM0UsR0FDakNELENBQ1gsRUFVQUQsRUFBUXBpRixVQUFVdWlGLE9BQVMsU0FBVXArRSxFQUFRNkcsRUFBUXMzRSxHQUNqRCxPQUFPdmpGLEtBQUtrWCxPQUFPOVIsR0FBUXErRSxVQUFVeDNFLEVBQVFzM0UsRUFDakQsRUFRQUYsRUFBUXBpRixVQUFVaVcsT0FBUyxTQUFVOVIsRUFBUWl5QyxHQUN6QyxJQUNJM29CLEVBRUE2VSxFQUhBRixFQUFXcmpDLEtBQUtxakMsU0FFaEJxZ0QsR0FBUSxFQUVSQyxHQUFZLEVBQ1p2K0UsSUFDSUEsYUFBa0J5MEMsR0FDbEJ0VyxFQUFnQm4rQixHQUdoQm0rQixFQUFnQnZqQyxLQUFLcWpDLFNBQVNrcUMsZ0JBQWdCbm9FLEdBQzlDdStFLEdBQVksSUFHaEJwZ0QsR0FDQTdVLEVBQWE2VSxFQUFjNEcsWUFBWXpiLFdBQ3ZDMm9CLEVBQVFBLFFBQXFDQSxFQUFROVQsRUFBYzhULE1BQ25FcXNDLEdBQVEsRUFDUnJnRCxFQUFTRSxjQUFjMkcsS0FBSzNHLEtBRzVCN1UsRUFBYTJVLEVBQVMzVSxXQUNqQjJvQixLQUNEQSxFQUFRK3JDLElBQ0Zwc0UsTUFBUXFzQixFQUFTcnNCLE1BQ3ZCcWdDLEVBQU1wZ0MsT0FBU29zQixFQUFTcHNCLFFBRTVCeXNFLEdBQVEsRUFDUnJnRCxFQUFTRSxjQUFjMkcsS0FBSyxPQUVoQyxJQUFJbHpCLEVBQVEvYyxLQUFLZzFCLE1BQU1vb0IsRUFBTXJnQyxNQUFRMFgsR0FDakN6WCxFQUFTaGQsS0FBS2cxQixNQUFNb29CLEVBQU1wZ0MsT0FBU3lYLEdBQ25DazFELEVBQWUsSUFBSW4xRCxHQUFtQnpYLEVBQU9DLEVBQVEsR0FDckQ0c0UsRUFBYyxJQUFJanRFLFdBOUZSLEVBOEZxQ0ksRUFBUUMsR0FFdkQwSixFQUFLMGlCLEVBQVMxaUIsR0FDbEJBLEVBQUdtakUsV0FBVzdwRixLQUFLZzFCLE1BQU1vb0IsRUFBTTErQyxFQUFJKzFCLEdBQWF6MEIsS0FBS2cxQixNQUFNb29CLEVBQU16K0MsRUFBSTgxQixHQUFhMVgsRUFBT0MsRUFBUTBKLEVBQUdnckIsS0FBTWhyQixFQUFHMnJCLGNBQWV1M0MsR0FFNUgsSUFBSUUsRUFBYUgsRUFBYXJpRixRQUFRZ3VCLGFBQWEsRUFBRyxFQUFHdlksRUFBT0MsR0FJaEUsR0FIQW9zRSxFQUFRVyxnQkFBZ0JILEVBQWFFLEVBQVczckYsTUFDaER3ckYsRUFBYXJpRixRQUFRMGlGLGFBQWFGLEVBQVksRUFBRyxHQUU3Q0wsRUFBTyxDQUNQLElBQUlRLEVBQVcsSUFBSXoxRCxHQUFtQm0xRCxFQUFhNXNFLE1BQU80c0UsRUFBYTNzRSxPQUFRLEdBQy9FaXRFLEVBQVMzaUYsUUFBUTIwQixNQUFNLEdBQUksR0FFM0JndUQsRUFBUzNpRixRQUFRd3hDLFVBQVU2d0MsRUFBYTFzRSxPQUFRLEdBQUlELEdBQ3BEMnNFLEVBQWFyMUQsVUFDYnExRCxFQUFlTSxDQUNuQixDQUtBLE9BSklQLEdBQ0FwZ0QsRUFBY2hWLFNBQVEsR0FHbkJxMUQsRUFBYTFzRSxNQUN4QixFQVNBbXNFLEVBQVFwaUYsVUFBVXF1QixPQUFTLFNBQVVscUIsRUFBUWl5QyxHQUN6QyxJQUNJM29CLEVBQ0E2VSxFQUZBRixFQUFXcmpDLEtBQUtxakMsU0FHaEJzZ0QsR0FBWSxFQUNaditFLElBQ0lBLGFBQWtCeTBDLEdBQ2xCdFcsRUFBZ0JuK0IsR0FHaEJtK0IsRUFBZ0J2akMsS0FBS3FqQyxTQUFTa3FDLGdCQUFnQm5vRSxHQUM5Q3UrRSxHQUFZLElBR2hCcGdELEdBQ0E3VSxFQUFhNlUsRUFBYzRHLFlBQVl6YixXQUN2QzJvQixFQUFRQSxRQUFxQ0EsRUFBUTlULEVBQWM4VCxNQUNuRWhVLEVBQVNFLGNBQWMyRyxLQUFLM0csS0FHNUI3VSxFQUFhMlUsRUFBUzNVLFdBQ2pCMm9CLEtBQ0RBLEVBQVErckMsSUFDRnBzRSxNQUFRcXNCLEVBQVNyc0IsTUFDdkJxZ0MsRUFBTXBnQyxPQUFTb3NCLEVBQVNwc0IsUUFFNUJvc0IsRUFBU0UsY0FBYzJHLEtBQUssT0FFaEMsSUFBSWx6QixFQUFRL2MsS0FBS2cxQixNQUFNb29CLEVBQU1yZ0MsTUFBUTBYLEdBQ2pDelgsRUFBU2hkLEtBQUtnMUIsTUFBTW9vQixFQUFNcGdDLE9BQVN5WCxHQUNuQ20xRCxFQUFjLElBQUlqdEUsV0EzSlIsRUEySnFDSSxFQUFRQyxHQUV2RDBKLEVBQUswaUIsRUFBUzFpQixHQU1sQixPQUxBQSxFQUFHbWpFLFdBQVc3cEYsS0FBS2cxQixNQUFNb29CLEVBQU0xK0MsRUFBSSsxQixHQUFhejBCLEtBQUtnMUIsTUFBTW9vQixFQUFNeitDLEVBQUk4MUIsR0FBYTFYLEVBQU9DLEVBQVEwSixFQUFHZ3JCLEtBQU1ockIsRUFBRzJyQixjQUFldTNDLEdBQ3hIRixHQUNBcGdELEVBQWNoVixTQUFRLEdBRTFCODBELEVBQVFXLGdCQUFnQkgsRUFBYUEsR0FDOUJBLENBQ1gsRUFFQVIsRUFBUXBpRixVQUFVc3RCLFFBQVUsV0FDeEJ2dUIsS0FBS3FqQyxTQUFXLElBQ3BCLEVBT0FnZ0QsRUFBUVcsZ0JBQWtCLFNBQVUxMEQsRUFBUWpuQixHQUN4QyxJQUFLLElBQUkvTyxFQUFJLEVBQUdBLEVBQUlnMkIsRUFBT3YyQixPQUFRTyxHQUFLLEVBQUcsQ0FDdkMsSUFBSXN5QixFQUFRdmpCLEVBQUkvTyxFQUFJLEdBQUtnMkIsRUFBT2gyQixFQUFJLEdBQ3RCLElBQVZzeUIsR0FDQXZqQixFQUFJL08sR0FBS1csS0FBS2cxQixNQUFNaDFCLEtBQUt3RixJQUFnQixJQUFaNnZCLEVBQU9oMkIsR0FBYXN5QixFQUFPLE1BQ3hEdmpCLEVBQUkvTyxFQUFJLEdBQUtXLEtBQUtnMUIsTUFBTWgxQixLQUFLd0YsSUFBb0IsSUFBaEI2dkIsRUFBT2gyQixFQUFJLEdBQWFzeUIsRUFBTyxNQUNoRXZqQixFQUFJL08sRUFBSSxHQUFLVyxLQUFLZzFCLE1BQU1oMUIsS0FBS3dGLElBQW9CLElBQWhCNnZCLEVBQU9oMkIsRUFBSSxHQUFhc3lCLEVBQU8sUUFHaEV2akIsRUFBSS9PLEdBQUtnMkIsRUFBT2gyQixHQUNoQitPLEVBQUkvTyxFQUFJLEdBQUtnMkIsRUFBT2gyQixFQUFJLEdBQ3hCK08sRUFBSS9PLEVBQUksR0FBS2cyQixFQUFPaDJCLEVBQUksR0FFaEMsQ0FDSixFQUVBK3BGLEVBQVExK0MsVUFBWSxDQUNoQnBpQyxLQUFNLFVBQ05xRSxLQUFNMjlCLEdBQWNzckMsZ0JBRWpCd1QsQ0FDWCxDQS9LNEIsR0NuQnhCYyxHQUErQixXQVUvQixTQUFTQSxFQUFjN2lGLEVBQUlFLEVBQU15UixRQUNoQixJQUFUelIsSUFBbUJBLEdBQU8sR0FDOUJ4QixLQUFLb2tGLElBQU05aUYsRUFDWHRCLEtBQUtxa0YsTUFBUTdpRixFQUNieEIsS0FBS3NrRixTQUFXcnhFLEVBQ2hCalQsS0FBS3VrRixNQUFRdmtGLEtBQUt3a0YsTUFBUXhrRixLQUFLeWtGLE9BQVMsSUFDNUMsQ0FPQSxPQU5BTixFQUFjbGpGLFVBQVV5akYsT0FBUyxXQUM3QixPQUFvQixPQUFoQjFrRixLQUFLeWtGLFNBRVR6a0YsS0FBS3lrRixPQUFPQyxPQUFPMWtGLE9BQ1osRUFDWCxFQUNPbWtGLENBQ1gsQ0F4QmtDLEdBOEJsQyxTQUFTUSxHQUFrQjErRSxFQUFNMitFLEdBVzdCLE9BVkszK0UsRUFBS3VoQyxPQUtOdmhDLEVBQUs0K0UsTUFBTU4sTUFBUUssRUFDbkJBLEVBQUtKLE1BQVF2K0UsRUFBSzQrRSxNQUNsQjUrRSxFQUFLNCtFLE1BQVFELElBTmIzK0UsRUFBS3VoQyxNQUFRbzlDLEVBQ2IzK0UsRUFBSzQrRSxNQUFRRCxHQU9qQkEsRUFBS0gsT0FBU3grRSxFQUNQMitFLENBQ1gsQ0FJQSxJQTRLSUUsR0E1S0FDLEdBQXdCLFdBU3hCLFNBQVNBLElBQ0wva0YsS0FBS3duQyxNQUFReG5DLEtBQUs2a0YsV0FBUWxoRixDQUM5QixDQTBIQSxPQW5IQW9oRixFQUFPOWpGLFVBQVU2QixTQUFXLFNBQVVraUYsUUFDbkIsSUFBWEEsSUFBcUJBLEdBQVMsR0FDbEMsSUFBSUosRUFBTzVrRixLQUFLd25DLE1BQ2hCLEdBQUl3OUMsRUFDRSxRQUFTSixFQUVmLElBREEsSUFBSTVoRixFQUFLLEdBQ0Y0aEYsR0FDSDVoRixFQUFHckosS0FBS2lyRixHQUNSQSxFQUFPQSxFQUFLTCxNQUVoQixPQUFPdmhGLENBQ1gsRUFNQStoRixFQUFPOWpGLFVBQVVGLElBQU0sU0FBVTZqRixHQUM3QixLQUFNQSxhQUFnQlQsSUFDbEIsTUFBTSxJQUFJMzNELE1BQU0sK0RBRXBCLE9BQU9vNEQsRUFBS0gsU0FBV3prRixJQUMzQixFQU1BK2tGLEVBQU85akYsVUFBVW9sQyxTQUFXLFdBSXhCLElBSEEsSUFBSXZuQixFQUFjcmIsVUFFZEQsRUFBTyxHQUNGd2IsRUFBSyxFQUFHQSxFQUFLdmIsVUFBVTFLLE9BQVFpbUIsSUFDcEN4YixFQUFLd2IsR0FBTUYsRUFBWUUsR0FFM0IsSUFBSTRsRSxFQUFPNWtGLEtBQUt3bkMsTUFDaEIsSUFBS285QyxFQUNDLE9BQU8sRUFDYixLQUFPQSxHQUNDQSxFQUFLUCxPQUNIcmtGLEtBQUswa0YsT0FBT0UsR0FDbEJBLEVBQUtSLElBQUl4Z0YsTUFBTWdoRixFQUFLTixTQUFVOWdGLEdBQzlCb2hGLEVBQU9BLEVBQUtMLE1BRWhCLE9BQU8sQ0FDWCxFQU9BUSxFQUFPOWpGLFVBQVU2NEIsSUFBTSxTQUFVeDRCLEVBQUkyUixHQUVqQyxRQURnQixJQUFaQSxJQUFzQkEsRUFBVSxNQUNsQixtQkFBUDNSLEVBQ1AsTUFBTSxJQUFJa3JCLE1BQU0sbURBRXBCLE9BQU9tNEQsR0FBa0Iza0YsS0FBTSxJQUFJbWtGLEdBQWM3aUYsR0FBSSxFQUFPMlIsR0FDaEUsRUFPQTh4RSxFQUFPOWpGLFVBQVVPLEtBQU8sU0FBVUYsRUFBSTJSLEdBRWxDLFFBRGdCLElBQVpBLElBQXNCQSxFQUFVLE1BQ2xCLG1CQUFQM1IsRUFDUCxNQUFNLElBQUlrckIsTUFBTSxvREFFcEIsT0FBT200RCxHQUFrQjNrRixLQUFNLElBQUlta0YsR0FBYzdpRixHQUFJLEVBQU0yUixHQUMvRCxFQU1BOHhFLEVBQU85akYsVUFBVXlqRixPQUFTLFNBQVVFLEdBQ2hDLEtBQU1BLGFBQWdCVCxJQUNsQixNQUFNLElBQUkzM0QsTUFBTSxrRUFFcEIsT0FBSW80RCxFQUFLSCxTQUFXemtGLE9BRWhCNGtGLEVBQUtKLFFBQ0hJLEVBQUtKLE1BQU1ELE1BQVFLLEVBQUtMLE9BQzFCSyxFQUFLTCxRQUNISyxFQUFLTCxNQUFNQyxNQUFRSSxFQUFLSixPQUMxQkksSUFBUzVrRixLQUFLd25DLE9BQ2R4bkMsS0FBS3duQyxNQUFRbzlDLEVBQUtMLE1BQ0MsT0FBZkssRUFBS0wsUUFDTHZrRixLQUFLNmtGLE1BQVEsT0FHWkQsSUFBUzVrRixLQUFLNmtGLFFBQ25CN2tGLEtBQUs2a0YsTUFBUUQsRUFBS0osTUFDbEJ4a0YsS0FBSzZrRixNQUFNTixNQUFRLE1BRXZCSyxFQUFLSCxPQUFTLE1BZkR6a0YsSUFpQmpCLEVBS0Era0YsRUFBTzlqRixVQUFVZ2tGLFVBQVksV0FDekIsSUFBSUwsRUFBTzVrRixLQUFLd25DLE1BQ2hCLElBQUtvOUMsRUFDQyxPQUFPNWtGLEtBRWIsSUFEQUEsS0FBS3duQyxNQUFReG5DLEtBQUs2a0YsTUFBUSxLQUNuQkQsR0FDSEEsRUFBS0gsT0FBUyxLQUNkRyxFQUFPQSxFQUFLTCxNQUVoQixPQUFPdmtGLElBQ1gsRUFDTytrRixDQUNYLENBdEkyQixHQThJM0IsU0FBU0csR0FBU0MsRUFBS0MsR0FDbkJBLEVBQU9BLEdBQVEsQ0FBQyxFQWtCaEIsSUFqQkEsSUFBSW4wRSxFQUFJLENBRUp2TCxJQUFLLENBQUMsU0FBVSxXQUFZLFlBQWEsV0FBWSxPQUFRLFdBQVksT0FBUSxPQUFRLFdBQVksT0FBUSxZQUFhLE9BQVEsUUFBUyxVQUMzSXBLLEVBQUcsQ0FDQ2lILEtBQU0sV0FDTjhpRixPQUFRLDZCQUVaQSxPQUFRLENBRUp4M0MsT0FBUSwwSUFFUnkzQyxNQUFPLHFNQUdYM25GLEVBQUlzVCxFQUFFbzBFLE9BQU9ELEVBQUtHLFdBQWEsU0FBVyxTQUFTNzNFLEtBQUt5M0UsR0FDeERLLEVBQU0sQ0FBQyxFQUNQbHNGLEVBQUksR0FDREEsS0FDRGtzRixFQUFJdjBFLEVBQUV2TCxJQUFJcE0sSUFBTXFFLEVBQUVyRSxJQUFNLEdBTTlCLE9BTEFrc0YsRUFBSXYwRSxFQUFFM1YsRUFBRWlILE1BQVEsQ0FBQyxFQUNqQmlqRixFQUFJdjBFLEVBQUV2TCxJQUFJLEtBQUt3QixRQUFRK0osRUFBRTNWLEVBQUUrcEYsUUFBUSxTQUFVSSxFQUFLQyxFQUFJQyxHQUM5Q0QsSUFDRUYsRUFBSXYwRSxFQUFFM1YsRUFBRWlILE1BQU1takYsR0FBTUMsRUFDOUIsSUFDT0gsQ0FDWCxDQUlBLElBQUksR0FBYSxLQVFqQixTQUFTSSxLQUFZLENBU3JCLFNBQVNDLEdBQVVsaEYsRUFBS3VhLEVBQVM5YSxHQUN6QjhhLEdBQW9DLElBQXpCQSxFQUFRN1UsUUFBUSxPQUMzQjZVLEVBQVVBLEVBQVF3TCxVQUFVLElBRTNCeEwsSUFHTHZhLEVBQUl1YSxHQUFXOWEsRUFDbkIsQ0FPQSxTQUFTMGhGLEdBQVFDLEdBQ2IsT0FBT0EsRUFBSXQ3RCxXQUFXdmpCLFFBQVEsVUFBVyxHQUM3QyxDQU9BLElBQUk4K0UsR0FBZ0MsV0FrQmhDLFNBQVNBLEVBQWV6akYsRUFBTXdLLEVBQUtqRCxHQStDL0IsR0F4Q0E5SixLQUFLaW1GLFNBQVdMLEdBTWhCNWxGLEtBQUtrbUYsZUFBaUIsS0FLdEJsbUYsS0FBS21tRixjQUFnQixFQU1yQm5tRixLQUFLb21GLGVBQWlCLEtBTXRCcG1GLEtBQUtxbUYsY0FBZ0IsS0FNckJybUYsS0FBS3NtRixpQkFBbUIsS0FNeEJ0bUYsS0FBS3VtRixnQkFBa0IsS0FDdkJ2bUYsS0FBS3dtRixpQkFBbUIsS0FDeEJ4bUYsS0FBS3ltRixtQkFBcUIsS0FDMUJ6bUYsS0FBSzBtRixpQkFBbUIsS0FDeEIxbUYsS0FBSzJtRixnQkFBa0IsS0FDSCxpQkFBVHBrRixHQUFvQyxpQkFBUndLLEVBQ25DLE1BQU0sSUFBSXlmLE1BQU0sK0RBRXBCMWlCLEVBQVVBLEdBQVcsQ0FBQyxFQUN0QjlKLEtBQUtzN0UsT0FBUyxFQUVkdDdFLEtBQUs0bUYsU0FBU1osRUFBZWEsYUFBYUMsU0FBbUMsSUFBekIvNUUsRUFBSTFDLFFBQVEsVUFDaEVySyxLQUFLdUMsS0FBT0EsRUFDWnZDLEtBQUsrTSxJQUFNQSxFQUNYL00sS0FBSzJrQyxVQUFZM2tDLEtBQUsrbUYsZ0JBQ3RCL21GLEtBQUs1SCxLQUFPLEtBQ1o0SCxLQUFLNHZDLGFBQXNDLElBQXhCOWxDLEVBQVE4bEMsWUFBdUIsWUFBYzlsQyxFQUFROGxDLFlBQ3hFNXZDLEtBQUtnbkYsUUFBVWw5RSxFQUFRazlFLFNBQVcsRUFDbENobkYsS0FBS2luRixTQUFXbjlFLEVBQVFtOUUsVUFBWWpuRixLQUFLa25GLHFCQUV6Q2xuRixLQUFLbW5GLFFBQVVyOUUsRUFBUXE5RSxRQUl2Qm5uRixLQUFLNGtDLFNBQVc5NkIsRUFBUTg2QixVQUFZLENBQUMsRUFFckM1a0MsS0FBSzJHLE1BQVEsS0FHYjNHLEtBQUsrbEYsSUFBTSxLQUVYL2xGLEtBQUsyUixTQUFXLEdBRWhCM1IsS0FBSzRHLEtBQU9vL0UsRUFBZW9CLEtBQUt6YSxRQUVoQzNzRSxLQUFLcW5GLGNBQWdCLEVBR3JCcm5GLEtBQUtpbUYsU0FBV0wsR0FFaEI1bEYsS0FBS2ttRixlQUFpQixLQUV0QmxtRixLQUFLbW1GLGNBQWdCLEVBQ3JCbm1GLEtBQUtvbUYsZUFBaUJwbUYsS0FBS2d3QyxTQUFTOUYsS0FBS2xxQyxNQUN6Q0EsS0FBS3FtRixjQUFnQnJtRixLQUFLbzBDLFNBQVNsSyxLQUFLbHFDLE1BQ3hDQSxLQUFLc21GLGlCQUFtQnRtRixLQUFLc25GLFlBQVlwOUMsS0FBS2xxQyxNQUM5Q0EsS0FBS3VtRixnQkFBa0J2bUYsS0FBS3VuRixXQUFXcjlDLEtBQUtscUMsTUFFNUNBLEtBQUt3bUYsaUJBQW1CeG1GLEtBQUt3bkYsWUFBWXQ5QyxLQUFLbHFDLE1BQzlDQSxLQUFLeW1GLG1CQUFxQnptRixLQUFLeW5GLGNBQWN2OUMsS0FBS2xxQyxNQUNsREEsS0FBSzBtRixpQkFBbUIxbUYsS0FBSzBuRixZQUFZeDlDLEtBQUtscUMsTUFDOUNBLEtBQUsybUYsZ0JBQWtCM21GLEtBQUsybkYsV0FBV3o5QyxLQUFLbHFDLE1BRTVDQSxLQUFLNG5GLFFBQVUsSUFBSTdDLEdBTW5CL2tGLEtBQUs2bkYsV0FBYSxJQUFJOUMsR0FHdEIva0YsS0FBSzhuRixXQUFhLElBQUkvQyxHQUV0Qi9rRixLQUFLK25GLGtCQUFvQixJQUFJaEQsRUFDakMsQ0Fna0JBLE9BempCQWlCLEVBQWVnQyxxQkFBdUIsU0FBVTlvRSxFQUFTK25FLEdBQ3JEcEIsR0FBVUcsRUFBZWlDLGFBQWMvb0UsRUFBUytuRSxFQUNwRCxFQU9BakIsRUFBZWtDLG9CQUFzQixTQUFVaHBFLEVBQVNpb0UsR0FDcER0QixHQUFVRyxFQUFlbUMsWUFBYWpwRSxFQUFTaW9FLEVBQ25ELEVBQ0FubUYsT0FBT2tRLGVBQWU4MEUsRUFBZS9rRixVQUFXLFlBQWEsQ0FvQ3pEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLb29GLFNBQVNwQyxFQUFlYSxhQUFhQyxTQUNyRCxFQUNBMzFFLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWU4MEUsRUFBZS9rRixVQUFXLGFBQWMsQ0FPMURtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtvb0YsU0FBU3BDLEVBQWVhLGFBQWF3QixTQUNyRCxFQUNBbDNFLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWU4MEUsRUFBZS9rRixVQUFXLFlBQWEsQ0FPekRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtvb0YsU0FBU3BDLEVBQWVhLGFBQWF5QixRQUNyRCxFQUNBbjNFLFlBQVksRUFDWmdlLGNBQWMsSUFHbEI2MkQsRUFBZS9rRixVQUFVK3VDLFNBQVcsV0FDaENod0MsS0FBS3VvRixlQUNMdm9GLEtBQUt3b0YsU0FDVCxFQUtBeEMsRUFBZS9rRixVQUFVd25GLE1BQVEsU0FBVTM2RCxHQUV2QyxJQUFJOXRCLEtBQUsyRyxNQUFULENBUUEsR0FKQTNHLEtBQUsyRyxNQUFRLElBQUk2bEIsTUFBTXNCLEdBRXZCOXRCLEtBQUt1b0YsZUFFRHZvRixLQUFLK2xGLElBQ0wvbEYsS0FBSytsRixJQUFJMEMsYUFFUixHQUFJem9GLEtBQUswb0YsSUFDVjFvRixLQUFLMG9GLElBQUlELGFBRVIsR0FBSXpvRixLQUFLNUgsS0FFVixHQUFJNEgsS0FBSzVILEtBQUs0NEMsSUFDVmh4QyxLQUFLNUgsS0FBSzQ0QyxJQUFNZzFDLEVBQWUyQyxlQUkvQixLQUFPM29GLEtBQUs1SCxLQUFLd3dGLFlBQ2I1b0YsS0FBSzVILEtBQUt5b0MsWUFBWTdnQyxLQUFLNUgsS0FBS3d3RixZQUs1QzVvRixLQUFLd29GLFNBekJMLENBMEJKLEVBS0F4QyxFQUFlL2tGLFVBQVVvcEMsS0FBTyxTQUFVNzNCLEdBQ3RDLElBQUkyckIsRUFBUW4rQixLQUNaLElBQUlBLEtBQUs2b0YsVUFHVCxHQUFJN29GLEtBQUs4b0YsV0FDRHQyRSxHQUNBWCxZQUFXLFdBQWMsT0FBT1csRUFBRzJyQixFQUFRLEdBQUcsUUFhdEQsT0FUUzNyQixHQUNMeFMsS0FBSzhuRixXQUFXdG1GLEtBQUtnUixHQUV6QnhTLEtBQUs0bUYsU0FBU1osRUFBZWEsYUFBYXlCLFNBQVMsR0FDbkR0b0YsS0FBSzRuRixRQUFRdmhELFNBQVNybUMsT0FFRyxJQUFyQkEsS0FBSzR2QyxhQUFxRCxpQkFBckI1dkMsS0FBSzR2QyxjQUMxQzV2QyxLQUFLNHZDLFlBQWM1dkMsS0FBSytvRixzQkFBc0Ivb0YsS0FBSytNLE1BRS9DL00sS0FBS2luRixVQUNULEtBQUtqQixFQUFlZ0QsVUFBVUMsTUFDMUJqcEYsS0FBSzRHLEtBQU9vL0UsRUFBZW9CLEtBQUs2QixNQUNoQ2pwRixLQUFLa3BGLGFBQWEsU0FDbEIsTUFDSixLQUFLbEQsRUFBZWdELFVBQVVHLE1BQzFCbnBGLEtBQUs0RyxLQUFPby9FLEVBQWVvQixLQUFLK0IsTUFDaENucEYsS0FBS29wRixtQkFBbUIsU0FDeEIsTUFDSixLQUFLcEQsRUFBZWdELFVBQVVLLE1BQzFCcnBGLEtBQUs0RyxLQUFPby9FLEVBQWVvQixLQUFLaUMsTUFDaENycEYsS0FBS29wRixtQkFBbUIsU0FDeEIsTUFDSixLQUFLcEQsRUFBZWdELFVBQVVNLElBRTlCLGFBQzBCLElBQVh4RSxLQUNQQSxNQUFZenpFLFdBQVdrNEUsZ0JBQW9CLG9CQUFxQixJQUFLQyxpQkFFckUxRSxJQUFVOWtGLEtBQUs0dkMsWUFDZjV2QyxLQUFLeXBGLFdBR0x6cEYsS0FBSzBwRixXQUlyQixFQU1BMUQsRUFBZS9rRixVQUFVbW5GLFNBQVcsU0FBVXhnRixHQUMxQyxPQUFnQyxJQUF4QjVILEtBQUtzN0UsT0FBUzF6RSxFQUMxQixFQU1BbytFLEVBQWUva0YsVUFBVTJsRixTQUFXLFNBQVVoL0UsRUFBTVIsR0FDaERwSCxLQUFLczdFLE9BQVNsMEUsRUFBU3BILEtBQUtzN0UsT0FBUzF6RSxFQUFTNUgsS0FBS3M3RSxRQUFVMXpFLENBQ2pFLEVBRUFvK0UsRUFBZS9rRixVQUFVc25GLGFBQWUsV0FDcENueUUsYUFBYXBXLEtBQUttbUYsZUFDZG5tRixLQUFLNUgsTUFBUTRILEtBQUs1SCxLQUFLeThDLHNCQUN2QjcwQyxLQUFLNUgsS0FBS3k4QyxvQkFBb0IsUUFBUzcwQyxLQUFLcW1GLGVBQWUsR0FDM0RybUYsS0FBSzVILEtBQUt5OEMsb0JBQW9CLE9BQVE3MEMsS0FBS29tRixnQkFBZ0IsR0FDM0RwbUYsS0FBSzVILEtBQUt5OEMsb0JBQW9CLFdBQVk3MEMsS0FBS3NtRixrQkFBa0IsR0FDakV0bUYsS0FBSzVILEtBQUt5OEMsb0JBQW9CLGlCQUFrQjcwQyxLQUFLb21GLGdCQUFnQixJQUVyRXBtRixLQUFLK2xGLE1BQ0QvbEYsS0FBSytsRixJQUFJbHhDLHFCQUNUNzBDLEtBQUsrbEYsSUFBSWx4QyxvQkFBb0IsUUFBUzcwQyxLQUFLd21GLGtCQUFrQixHQUM3RHhtRixLQUFLK2xGLElBQUlseEMsb0JBQW9CLFVBQVc3MEMsS0FBS3ltRixvQkFBb0IsR0FDakV6bUYsS0FBSytsRixJQUFJbHhDLG9CQUFvQixRQUFTNzBDLEtBQUswbUYsa0JBQWtCLEdBQzdEMW1GLEtBQUsrbEYsSUFBSWx4QyxvQkFBb0IsV0FBWTcwQyxLQUFLc21GLGtCQUFrQixHQUNoRXRtRixLQUFLK2xGLElBQUlseEMsb0JBQW9CLE9BQVE3MEMsS0FBSzJtRixpQkFBaUIsS0FHM0QzbUYsS0FBSytsRixJQUFJdjBDLFFBQVUsS0FDbkJ4eEMsS0FBSytsRixJQUFJNEQsVUFBWSxLQUNyQjNwRixLQUFLK2xGLElBQUk2RCxXQUFhLEtBQ3RCNXBGLEtBQUsrbEYsSUFBSXgwQyxPQUFTLE1BRzlCLEVBRUF5MEMsRUFBZS9rRixVQUFVdW5GLFFBQVUsV0FDL0IsR0FBSXhvRixLQUFLOG9GLFdBQ0wsTUFBTSxJQUFJdDhELE1BQU0sNERBRXBCeHNCLEtBQUs0bUYsU0FBU1osRUFBZWEsYUFBYXdCLFVBQVUsR0FDcERyb0YsS0FBSzRtRixTQUFTWixFQUFlYSxhQUFheUIsU0FBUyxHQUNuRHRvRixLQUFLOG5GLFdBQVd6aEQsU0FBU3JtQyxLQUM3QixFQU9BZ21GLEVBQWUva0YsVUFBVWlvRixhQUFlLFNBQVV0aUYsR0FDMUM1RyxLQUFLNGtDLFNBQVNpbEQsWUFDZDdwRixLQUFLNUgsS0FBTzRILEtBQUs0a0MsU0FBU2lsRCxZQUVaLFVBQVRqakYsUUFBZ0QsSUFBckJ5SyxXQUFXMC9CLE1BQzNDL3dDLEtBQUs1SCxLQUFPLElBQUkyNEMsTUFHaEIvd0MsS0FBSzVILEtBQU8rZSxTQUFTQyxjQUFjeFEsR0FFbkM1RyxLQUFLNHZDLGNBQ0w1dkMsS0FBSzVILEtBQUt3M0MsWUFBYzV2QyxLQUFLNHZDLGFBRTVCNXZDLEtBQUs0a0MsU0FBU2tsRCxhQUNmOXBGLEtBQUs1SCxLQUFLNDRDLElBQU1oeEMsS0FBSytNLEtBRXpCL00sS0FBSzVILEtBQUtxOEMsaUJBQWlCLFFBQVN6MEMsS0FBS3FtRixlQUFlLEdBQ3hEcm1GLEtBQUs1SCxLQUFLcThDLGlCQUFpQixPQUFRejBDLEtBQUtvbUYsZ0JBQWdCLEdBQ3hEcG1GLEtBQUs1SCxLQUFLcThDLGlCQUFpQixXQUFZejBDLEtBQUtzbUYsa0JBQWtCLEdBQzFEdG1GLEtBQUtnbkYsVUFDTGhuRixLQUFLbW1GLGNBQWdCdDBFLFdBQVc3UixLQUFLdW1GLGdCQUFpQnZtRixLQUFLZ25GLFNBRW5FLEVBTUFoQixFQUFlL2tGLFVBQVVtb0YsbUJBQXFCLFNBQVV4aUYsR0FVcEQsR0FUSTVHLEtBQUs0a0MsU0FBU2lsRCxZQUNkN3BGLEtBQUs1SCxLQUFPNEgsS0FBSzRrQyxTQUFTaWxELFlBRVosVUFBVGpqRixRQUFnRCxJQUFyQnlLLFdBQVcwNEUsTUFDM0MvcEYsS0FBSzVILEtBQU8sSUFBSTJ4RixNQUdoQi9wRixLQUFLNUgsS0FBTytlLFNBQVNDLGNBQWN4USxHQUVyQixPQUFkNUcsS0FBSzVILEtBQVQsQ0FPQSxHQUhJNEgsS0FBSzR2QyxjQUNMNXZDLEtBQUs1SCxLQUFLdzNDLFlBQWM1dkMsS0FBSzR2QyxjQUU1QjV2QyxLQUFLNGtDLFNBQVNrbEQsV0FFZixHQUFJdHlFLFVBQVV3eUUsV0FDVmhxRixLQUFLNUgsS0FBSzQ0QyxJQUFNL3RDLE1BQU11SCxRQUFReEssS0FBSytNLEtBQU8vTSxLQUFLK00sSUFBSSxHQUFLL00sS0FBSytNLFNBRTVELEdBQUk5SixNQUFNdUgsUUFBUXhLLEtBQUsrTSxLQUV4QixJQURBLElBQUlrOUUsRUFBWWpxRixLQUFLNGtDLFNBQVNzbEQsU0FDckI1d0YsRUFBSSxFQUFHQSxFQUFJMEcsS0FBSytNLElBQUloVSxTQUFVTyxFQUNuQzBHLEtBQUs1SCxLQUFLdzdDLFlBQVk1ekMsS0FBS21xRixjQUFjdmpGLEVBQU01RyxLQUFLK00sSUFBSXpULEdBQUkySixNQUFNdUgsUUFBUXkvRSxHQUFhQSxFQUFVM3dGLEdBQUsyd0YsU0FJdEdBLEVBQVlqcUYsS0FBSzRrQyxTQUFTc2xELFNBQzlCbHFGLEtBQUs1SCxLQUFLdzdDLFlBQVk1ekMsS0FBS21xRixjQUFjdmpGLEVBQU01RyxLQUFLK00sSUFBSzlKLE1BQU11SCxRQUFReS9FLEdBQWFBLEVBQVUsR0FBS0EsSUFHM0dqcUYsS0FBSzVILEtBQUtxOEMsaUJBQWlCLFFBQVN6MEMsS0FBS3FtRixlQUFlLEdBQ3hEcm1GLEtBQUs1SCxLQUFLcThDLGlCQUFpQixPQUFRejBDLEtBQUtvbUYsZ0JBQWdCLEdBQ3hEcG1GLEtBQUs1SCxLQUFLcThDLGlCQUFpQixXQUFZejBDLEtBQUtzbUYsa0JBQWtCLEdBQzlEdG1GLEtBQUs1SCxLQUFLcThDLGlCQUFpQixpQkFBa0J6MEMsS0FBS29tRixnQkFBZ0IsR0FDbEVwbUYsS0FBSzVILEtBQUtpeUMsT0FDTnJxQyxLQUFLZ25GLFVBQ0xobkYsS0FBS21tRixjQUFnQnQwRSxXQUFXN1IsS0FBS3VtRixnQkFBaUJ2bUYsS0FBS2duRixTQTFCL0QsTUFGSWhuRixLQUFLeW9GLE1BQU0sd0JBQTBCN2hGLEVBOEI3QyxFQUVBby9FLEVBQWUva0YsVUFBVXlvRixTQUFXLFdBRUosaUJBQWpCMXBGLEtBQUttbkYsVUFDWm5uRixLQUFLbW5GLFFBQVVubkYsS0FBS29xRixxQkFFeEIsSUFBSXJFLEVBQU0vbEYsS0FBSytsRixJQUFNLElBQUl5RCxlQUVBLG9CQUFyQnhwRixLQUFLNHZDLGNBQ0xtMkMsRUFBSXNFLGlCQUFrQixHQUcxQnRFLEVBQUl1RSxLQUFLLE1BQU90cUYsS0FBSytNLEtBQUssR0FDMUJnNUUsRUFBSWlCLFFBQVVobkYsS0FBS2duRixRQUdmaG5GLEtBQUttbkYsVUFBWW5CLEVBQWV1RSxrQkFBa0J0dEUsTUFDL0NqZCxLQUFLbW5GLFVBQVluQixFQUFldUUsa0JBQWtCQyxTQUNyRHpFLEVBQUkwRSxhQUFlekUsRUFBZXVFLGtCQUFrQkcsS0FHcEQzRSxFQUFJMEUsYUFBZXpxRixLQUFLbW5GLFFBRTVCcEIsRUFBSXR4QyxpQkFBaUIsUUFBU3owQyxLQUFLd21GLGtCQUFrQixHQUNyRFQsRUFBSXR4QyxpQkFBaUIsVUFBV3owQyxLQUFLeW1GLG9CQUFvQixHQUN6RFYsRUFBSXR4QyxpQkFBaUIsUUFBU3owQyxLQUFLMG1GLGtCQUFrQixHQUNyRFgsRUFBSXR4QyxpQkFBaUIsV0FBWXowQyxLQUFLc21GLGtCQUFrQixHQUN4RFAsRUFBSXR4QyxpQkFBaUIsT0FBUXowQyxLQUFLMm1GLGlCQUFpQixHQUNuRFosRUFBSTRFLE1BQ1IsRUFFQTNFLEVBQWUva0YsVUFBVXdvRixTQUFXLFdBRUosaUJBQWpCenBGLEtBQUttbkYsVUFDWm5uRixLQUFLbW5GLFFBQVVubkYsS0FBS29xRixxQkFFeEIsSUFBSTFCLEVBQU0xb0YsS0FBSytsRixJQUFNLElBQUkxMEUsV0FBV2s0RSxlQUlwQ2IsRUFBSTFCLFFBQVVobkYsS0FBS2duRixTQUFXLElBQzlCMEIsRUFBSWwzQyxRQUFVeHhDLEtBQUt3bUYsaUJBQ25Ca0MsRUFBSWlCLFVBQVkzcEYsS0FBS3ltRixtQkFDckJpQyxFQUFJa0IsV0FBYTVwRixLQUFLc21GLGlCQUN0Qm9DLEVBQUluM0MsT0FBU3Z4QyxLQUFLMm1GLGdCQUNsQitCLEVBQUk0QixLQUFLLE1BQU90cUYsS0FBSytNLEtBQUssR0FLMUI4RSxZQUFXLFdBQWMsT0FBTzYyRSxFQUFJaUMsTUFBUSxHQUFHLEVBQ25ELEVBUUEzRSxFQUFlL2tGLFVBQVVrcEYsY0FBZ0IsU0FBVXZqRixFQUFNbUcsRUFBSzBtQyxHQUNyREEsSUFDREEsRUFBTzdzQyxFQUFPLElBQU01RyxLQUFLK21GLGNBQWNoNkUsSUFFM0MsSUFBSTFILEVBQVM4UixTQUFTQyxjQUFjLFVBR3BDLE9BRkEvUixFQUFPMnJDLElBQU1qa0MsRUFDYjFILEVBQU91QixLQUFPNnNDLEVBQ1BwdUMsQ0FDWCxFQUtBMmdGLEVBQWUva0YsVUFBVW16QyxTQUFXLFNBQVV6eUMsR0FDMUMzQixLQUFLeW9GLE1BQU0saUNBQW1DOW1GLEVBQU15RCxPQUFPd2xGLFNBQy9ELEVBS0E1RSxFQUFlL2tGLFVBQVVxbUYsWUFBYyxTQUFVM2xGLEdBQ3pDQSxHQUFTQSxFQUFNa3BGLGtCQUNmN3FGLEtBQUs2bkYsV0FBV3hoRCxTQUFTcm1DLEtBQU0yQixFQUFNbVAsT0FBU25QLEVBQU1tcEYsTUFFNUQsRUFFQTlFLEVBQWUva0YsVUFBVXNtRixXQUFhLFdBQ2xDdm5GLEtBQUt5b0YsTUFBTSxrQkFDZixFQUVBekMsRUFBZS9rRixVQUFVdW1GLFlBQWMsV0FDbkMsSUFBSXpCLEVBQU0vbEYsS0FBSytsRixJQUNmL2xGLEtBQUt5b0YsTUFBTTNDLEdBQVFDLEdBQU8sNEJBQThCQSxFQUFJaHlFLE9BQVMsWUFBZWd5RSxFQUFJZ0YsV0FBYSxJQUN6RyxFQUVBL0UsRUFBZS9rRixVQUFVd21GLGNBQWdCLFdBQ3JDLElBQUkxQixFQUFNL2xGLEtBQUsrbEYsSUFDZi9sRixLQUFLeW9GLE1BQU0zQyxHQUFRQyxHQUFPLHNCQUM5QixFQUVBQyxFQUFlL2tGLFVBQVV5bUYsWUFBYyxXQUNuQyxJQUFJM0IsRUFBTS9sRixLQUFLK2xGLElBQ2YvbEYsS0FBS3lvRixNQUFNM0MsR0FBUUMsR0FBTyxvQ0FDOUIsRUFFQUMsRUFBZS9rRixVQUFVMG1GLFdBQWEsV0FDbEMsSUFBSTVCLEVBQU0vbEYsS0FBSytsRixJQUNYaUYsRUFBTyxHQUNQajNFLE9BQStCLElBQWZneUUsRUFBSWh5RSxPQS9qQmhCLElBK2pCcURneUUsRUFBSWh5RSxPQWVqRSxHQWJ5QixLQUFyQmd5RSxFQUFJMEUsY0FBNEMsU0FBckIxRSxFQUFJMEUsbUJBQXVELElBQXJCMUUsRUFBSTBFLGVBQ3JFTyxFQUFPakYsRUFBSWtGLGNBbmtCTCxJQXVrQk5sM0UsSUFBMkJpM0UsRUFBS2p5RixPQUFTLEdBQUtndEYsRUFBSTBFLGVBQWlCekUsRUFBZXVFLGtCQUFrQlcsUUFDcEduM0UsRUF2a0JJLElBRVUsT0F3a0JUQSxJQUNMQSxFQTFrQk8sS0FFRSxJQTBrQktBLEVBQVMsSUFBTyxHQUNsQyxDQUVJLEdBQUkvVCxLQUFLbW5GLFVBQVluQixFQUFldUUsa0JBQWtCRyxLQUNsRDFxRixLQUFLNUgsS0FBTzR5RixFQUNaaHJGLEtBQUs0RyxLQUFPby9FLEVBQWVvQixLQUFLc0QsVUFHL0IsR0FBSTFxRixLQUFLbW5GLFVBQVluQixFQUFldUUsa0JBQWtCdHRFLEtBQ3ZELElBQ0lqZCxLQUFLNUgsS0FBTzZrQixLQUFLcFMsTUFBTW1nRixHQUN2QmhyRixLQUFLNEcsS0FBT28vRSxFQUFlb0IsS0FBS25xRSxJQUtwQyxDQUhBLE1BQU8xaEIsR0FFSCxZQURBeUUsS0FBS3lvRixNQUFNLHNDQUF3Q2x0RixFQUV2RCxNQUdDLEdBQUl5RSxLQUFLbW5GLFVBQVluQixFQUFldUUsa0JBQWtCQyxTQUN2RCxJQUNJLEdBQUluNUUsV0FBVzg1RSxVQUFXLENBQ3RCLElBQUlDLEVBQVksSUFBSUQsVUFDcEJuckYsS0FBSzVILEtBQU9nekYsRUFBVUMsZ0JBQWdCTCxFQUFNLFdBQ2hELEtBQ0ssQ0FDRCxJQUFJelQsRUFBTXBnRSxTQUFTQyxjQUFjLE9BQ2pDbWdFLEVBQUl1QixVQUFZa1MsRUFDaEJockYsS0FBSzVILEtBQU9tL0UsQ0FDaEIsQ0FDQXYzRSxLQUFLNEcsS0FBT28vRSxFQUFlb0IsS0FBS2tFLEdBS3BDLENBSEEsTUFBT0MsR0FFSCxZQURBdnJGLEtBQUt5b0YsTUFBTSxxQ0FBdUM4QyxFQUV0RCxNQUlBdnJGLEtBQUs1SCxLQUFPMnRGLEVBQUl5RixVQUFZUixFQU9wQ2hyRixLQUFLZ3dDLFVBREwsTUFGSWh3QyxLQUFLeW9GLE1BQU0sSUFBTTFDLEVBQUloeUUsT0FBUyxLQUFPZ3lFLEVBQUlnRixXQUFhLEtBQU9oRixFQUFJMEYsWUFJekUsRUFXQXpGLEVBQWUva0YsVUFBVThuRixzQkFBd0IsU0FBVWg4RSxFQUFLeWpCLEdBRTVELEdBQTZCLElBQXpCempCLEVBQUkxQyxRQUFRLFNBQ1osTUFBTyxHQUtYLEdBQUlnSCxXQUFXcTZFLFNBQVdyNkUsV0FBV3VHLFNBQVM4ekUsT0FDMUMsTUFBTyxZQUdYbDdELEVBQU1BLEdBQU9uZixXQUFXdUcsU0FDbkIsS0FDRCxHQUFhVCxTQUFTQyxjQUFjLE1BS3hDLEdBQVd4TCxLQUFPbUIsRUFDbEIsSUFBSTBqQixFQUFZeTBELEdBQVMsR0FBV3Q1RSxLQUFNLENBQUUyNUUsWUFBWSxJQUNwRDcwRCxHQUFhRCxFQUFVcGxCLE1BQXFCLEtBQWJtbEIsRUFBSW5sQixNQUFpQm9sQixFQUFVcGxCLE9BQVNtbEIsRUFBSW5sQixLQUMzRUosRUFBV3dsQixFQUFVeGxCLFNBQVd3bEIsRUFBVXhsQixTQUFXLElBQU0sR0FFL0QsT0FBSXdsQixFQUFVcmxCLE9BQVNvbEIsRUFBSWxsQixVQUFhb2xCLEdBQVl6bEIsSUFBYXVsQixFQUFJdmxCLFNBRzlELEdBRkksV0FHZixFQU9BKzZFLEVBQWUva0YsVUFBVW1wRixrQkFBb0IsV0FDekMsT0FBT3BFLEVBQWVtQyxZQUFZbm9GLEtBQUsya0MsWUFBY3FoRCxFQUFldUUsa0JBQWtCRyxJQUMxRixFQU9BMUUsRUFBZS9rRixVQUFVaW1GLG1CQUFxQixXQUMxQyxPQUFPbEIsRUFBZWlDLGFBQWFqb0YsS0FBSzJrQyxZQUFjcWhELEVBQWVnRCxVQUFVTSxHQUNuRixFQU1BdEQsRUFBZS9rRixVQUFVOGxGLGNBQWdCLFNBQVVoNkUsUUFDbkMsSUFBUkEsSUFBa0JBLEVBQU0vTSxLQUFLK00sS0FDakMsSUFBSXlTLEVBQU0sR0FDVixHQUFJeGYsS0FBS3NkLFVBQVcsQ0FDaEIsSUFBSXF1RSxFQUFhNStFLEVBQUkxQyxRQUFRLEtBQzdCbVYsRUFBTXpTLEVBQUkyZCxVQUFVaWhFLEVBQWEsRUFBRzUrRSxFQUFJMUMsUUFBUSxJQUFLc2hGLEdBQ3pELEtBQ0ssQ0FDRCxJQUFJQyxFQUFhNytFLEVBQUkxQyxRQUFRLEtBQ3pCd2hGLEVBQVk5K0UsRUFBSTFDLFFBQVEsS0FDeEI5QixFQUFRdE8sS0FBS3dGLElBQUltc0YsR0FBYyxFQUFJQSxFQUFhNytFLEVBQUloVSxPQUFROHlGLEdBQWEsRUFBSUEsRUFBWTkrRSxFQUFJaFUsUUFFakd5bUIsR0FEQXpTLEVBQU1BLEVBQUkyZCxVQUFVLEVBQUduaUIsSUFDYm1pQixVQUFVM2QsRUFBSWhFLFlBQVksS0FBTyxFQUMvQyxDQUNBLE9BQU95VyxFQUFJaFcsYUFDZixFQVFBdzhFLEVBQWUva0YsVUFBVTZxRixvQkFBc0IsU0FBVWxsRixHQUNyRCxPQUFRQSxHQUNKLEtBQUtvL0UsRUFBZXVFLGtCQUFrQlcsT0FDbEMsTUFBTywyQkFDWCxLQUFLbEYsRUFBZXVFLGtCQUFrQndCLEtBQ2xDLE1BQU8sbUJBQ1gsS0FBSy9GLEVBQWV1RSxrQkFBa0JDLFNBQ2xDLE1BQU8sa0JBQ1gsS0FBS3hFLEVBQWV1RSxrQkFBa0J0dEUsS0FDbEMsTUFBTyxtQkFDWCxLQUFLK29FLEVBQWV1RSxrQkFBa0J5QixRQUN0QyxLQUFLaEcsRUFBZXVFLGtCQUFrQkcsS0FFdEMsUUFDSSxNQUFPLGFBRW5CLEVBQ08xRSxDQUNYLENBOXJCbUMsR0FpekJuQyxTQUFTaUcsS0FDVCxDQU9BLFNBQVNDLEdBQVM1cUYsR0FDZCxPQUFPLFdBSUgsSUFIQSxJQUFJd2QsRUFBY3JiLFVBRWRELEVBQU8sR0FDRndiLEVBQUssRUFBR0EsRUFBS3ZiLFVBQVUxSyxPQUFRaW1CLElBQ3BDeGIsRUFBS3diLEdBQU1GLEVBQVlFLEdBRTNCLEdBQVcsT0FBUDFkLEVBQ0EsTUFBTSxJQUFJa3JCLE1BQU0sZ0NBRXBCLElBQUkyL0QsRUFBUzdxRixFQUNiQSxFQUFLLEtBQ0w2cUYsRUFBT3ZvRixNQUFNNUQsS0FBTXdELEVBQ3ZCLENBQ0osRUF4SUEsU0FBV3dpRixHQUNQLElBQVdhLEVBVUFPLEVBZ0JBNEIsRUFVQXVCLEdBcENBMUQsRUFTUmIsRUFBZWEsZUFBaUJiLEVBQWVhLGFBQWUsQ0FBQyxJQVBqREEsRUFBbUIsS0FBSSxHQUFLLE9BRXpDQSxFQUFhQSxFQUF1QixTQUFJLEdBQUssV0FFN0NBLEVBQWFBLEVBQXVCLFNBQUksR0FBSyxXQUU3Q0EsRUFBYUEsRUFBc0IsUUFBSSxHQUFLLFdBRXJDTyxFQWVScEIsRUFBZW9CLE9BQVNwQixFQUFlb0IsS0FBTyxDQUFDLElBYnpDQSxFQUFjLFFBQUksR0FBSyxVQUU1QkEsRUFBS0EsRUFBVyxLQUFJLEdBQUssT0FFekJBLEVBQUtBLEVBQVUsSUFBSSxHQUFLLE1BRXhCQSxFQUFLQSxFQUFZLE1BQUksR0FBSyxRQUUxQkEsRUFBS0EsRUFBWSxNQUFJLEdBQUssUUFFMUJBLEVBQUtBLEVBQVksTUFBSSxHQUFLLFFBRTFCQSxFQUFLQSxFQUFXLEtBQUksR0FBSyxRQUVsQjRCLEVBU1JoRCxFQUFlZ0QsWUFBY2hELEVBQWVnRCxVQUFZLENBQUMsSUFQOUNBLEVBQWUsSUFBSSxHQUFLLE1BRWxDQSxFQUFVQSxFQUFpQixNQUFJLEdBQUssUUFFcENBLEVBQVVBLEVBQWlCLE1BQUksR0FBSyxRQUVwQ0EsRUFBVUEsRUFBaUIsTUFBSSxHQUFLLFNBRTdCdUIsRUFhUnZFLEVBQWV1RSxvQkFBc0J2RSxFQUFldUUsa0JBQW9CLENBQUMsSUFYN0MsUUFBSSxPQUUvQkEsRUFBMEIsT0FBSSxjQUU5QkEsRUFBd0IsS0FBSSxPQUU1QkEsRUFBNEIsU0FBSSxXQUVoQ0EsRUFBd0IsS0FBSSxPQUU1QkEsRUFBd0IsS0FBSSxPQUVoQ3ZFLEVBQWVpQyxhQUFlLENBRTFCbUUsSUFBS3BHLEVBQWVnRCxVQUFVQyxNQUM5Qm9ELElBQUtyRyxFQUFlZ0QsVUFBVUMsTUFDOUJxRCxJQUFLdEcsRUFBZWdELFVBQVVDLE1BQzlCc0QsSUFBS3ZHLEVBQWVnRCxVQUFVQyxNQUM5QnVELEtBQU14RyxFQUFlZ0QsVUFBVUMsTUFDL0J3RCxJQUFLekcsRUFBZWdELFVBQVVDLE1BQzlCeUQsS0FBTTFHLEVBQWVnRCxVQUFVQyxNQUMvQjBELEtBQU0zRyxFQUFlZ0QsVUFBVUMsTUFDL0IyRCxJQUFLNUcsRUFBZWdELFVBQVVDLE1BQzlCNEQsS0FBTTdHLEVBQWVnRCxVQUFVQyxNQUMvQjkyQyxJQUFLNnpDLEVBQWVnRCxVQUFVQyxNQUM5QixVQUFXakQsRUFBZWdELFVBQVVDLE1BRXBDNkQsSUFBSzlHLEVBQWVnRCxVQUFVRyxNQUM5QjRELElBQUsvRyxFQUFlZ0QsVUFBVUcsTUFDOUI2RCxJQUFLaEgsRUFBZWdELFVBQVVHLE1BRTlCOEQsSUFBS2pILEVBQWVnRCxVQUFVSyxNQUM5QjZELEtBQU1sSCxFQUFlZ0QsVUFBVUssT0FFbkNyRCxFQUFlbUMsWUFBYyxDQUV6QmdGLE1BQU9uSCxFQUFldUUsa0JBQWtCQyxTQUN4QzRDLEtBQU1wSCxFQUFldUUsa0JBQWtCQyxTQUN2QzZDLElBQUtySCxFQUFldUUsa0JBQWtCQyxTQUN0QzhDLElBQUt0SCxFQUFldUUsa0JBQWtCQyxTQUN0QytDLElBQUt2SCxFQUFldUUsa0JBQWtCQyxTQUN0Q3I0QyxJQUFLNnpDLEVBQWV1RSxrQkFBa0JDLFNBSXRDZ0QsSUFBS3hILEVBQWV1RSxrQkFBa0JDLFNBRXRDNEIsSUFBS3BHLEVBQWV1RSxrQkFBa0J3QixLQUN0Q00sSUFBS3JHLEVBQWV1RSxrQkFBa0J3QixLQUN0Q08sSUFBS3RHLEVBQWV1RSxrQkFBa0J3QixLQUN0Q1EsSUFBS3ZHLEVBQWV1RSxrQkFBa0J3QixLQUN0Q1MsS0FBTXhHLEVBQWV1RSxrQkFBa0J3QixLQUN2Q1UsSUFBS3pHLEVBQWV1RSxrQkFBa0J3QixLQUN0Q1csS0FBTTFHLEVBQWV1RSxrQkFBa0J3QixLQUN2Q1ksS0FBTTNHLEVBQWV1RSxrQkFBa0J3QixLQUN2Q2EsSUFBSzVHLEVBQWV1RSxrQkFBa0J3QixLQUN0Q2MsS0FBTTdHLEVBQWV1RSxrQkFBa0J3QixLQUV2QzBCLEtBQU16SCxFQUFldUUsa0JBQWtCdHRFLEtBRXZDK3RFLEtBQU1oRixFQUFldUUsa0JBQWtCRyxLQUN2Q2dELElBQUsxSCxFQUFldUUsa0JBQWtCRyxLQUV0Q2lELElBQUszSCxFQUFldUUsa0JBQWtCVyxPQUN0QzBDLElBQUs1SCxFQUFldUUsa0JBQWtCVyxRQUcxQ2xGLEVBQWUyQyxVQUFZLG9GQUM5QixDQTNHRCxDQTJHRzNDLEtBQW1CQSxHQUFpQixDQUFDLElBa0N4QyxJQUFJNkgsR0FNQSxTQUF3QnoxRixFQUFNcWIsR0FDMUJ6VCxLQUFLNUgsS0FBT0EsRUFDWjRILEtBQUt5VCxTQUFXQSxDQUNwQixFQU9BcTZFLEdBQTRCLFdBTTVCLFNBQVNBLEVBQVdDLEVBQVFDLEdBQ3hCLElBQUk3dkQsRUFBUW4rQixLQTZDWixRQTVDb0IsSUFBaEJndUYsSUFBMEJBLEVBQWMsR0FDNUNodUYsS0FBS2l1RixRQUFVLEVBQ2ZqdUYsS0FBS2t1RixVQUFZakMsR0FDakJqc0YsS0FBS211RixZQUFjbEMsR0FDbkJqc0YsS0FBS291RixNQUFRbkMsR0FDYmpzRixLQUFLcXVGLE1BQVFwQyxHQUNianNGLEtBQUsyRyxNQUFRc2xGLEdBQ2Jqc0YsS0FBS2tuQyxTQUFVLEVBQ2ZsbkMsS0FBSyswQyxRQUFTLEVBQ2QvMEMsS0FBS3N1RixPQUFTLEdBQ2R0dUYsS0FBS3V1RixRQUFVLFNBQVVuMkYsRUFBTW8yRixFQUFlLzZFLEdBQzFDLEdBQUlBLEdBQWdDLG1CQUFiQSxFQUNuQixNQUFNLElBQUkrWSxNQUFNLG9DQUlwQixHQUZBMlIsRUFBTStJLFNBQVUsRUFFSixNQUFSOXVDLEdBQWdCK2xDLEVBQU1zd0QsT0FFdEI1OEUsWUFBVyxXQUFjLE9BQU9zc0IsRUFBTWt3RCxPQUFTLEdBQUcsT0FGdEQsQ0FLQSxJQUFJOXNELEVBQU8sSUFBSXNzRCxHQUFlejFGLEVBQTBCLG1CQUFicWIsRUFBMEJBLEVBQVd3NEUsSUFDNUV1QyxFQUNBcndELEVBQU1td0QsT0FBTzcvRSxRQUFROHlCLEdBR3JCcEQsRUFBTW13RCxPQUFPMzBGLEtBQUs0bkMsR0FFdEIxdkIsV0FBV3NzQixFQUFNc1QsUUFBUyxFQVIxQixDQVNKLEVBQ0F6eEMsS0FBS3l4QyxRQUFVLFdBQ1gsTUFBUXRULEVBQU00VyxRQUFVNVcsRUFBTTh2RCxRQUFVOXZELEVBQU02dkQsYUFBZTd2RCxFQUFNbXdELE9BQU92MUYsUUFBUSxDQUM5RSxJQUFJMjFGLEVBQU92d0QsRUFBTW13RCxPQUFPNStFLFFBQ0ksSUFBeEJ5dUIsRUFBTW13RCxPQUFPdjFGLFFBQ2JvbEMsRUFBTWl3RCxRQUVWandELEVBQU04dkQsU0FBVyxFQUNiOXZELEVBQU04dkQsVUFBWTl2RCxFQUFNNnZELGFBQ3hCN3ZELEVBQU0rdkQsWUFFVi92RCxFQUFNd3dELFFBQVFELEVBQUt0MkYsS0FBTTh6RixHQUFTL3RELEVBQU1vbUQsTUFBTW1LLElBQ2xELENBQ0osRUFDQTF1RixLQUFLMnVGLFFBQVVaLEVBQ0ssSUFBaEJDLEVBQ0EsTUFBTSxJQUFJeGhFLE1BQU0sZ0NBRXBCeHNCLEtBQUtndUYsWUFBY0EsRUFDbkJodUYsS0FBS2l0QixPQUFTK2dFLEVBQWMsQ0FDaEMsQ0EyR0EsT0F0R0FGLEVBQVc3c0YsVUFBVXNqRixNQUFRLFNBQVVtSyxHQUNuQyxJQUFJdndELEVBQVFuK0IsS0FDWixPQUFPLFdBSUgsSUFIQSxJQUFJOGUsRUFBY3JiLFVBRWRELEVBQU8sR0FDRndiLEVBQUssRUFBR0EsRUFBS3ZiLFVBQVUxSyxPQUFRaW1CLElBQ3BDeGIsRUFBS3diLEdBQU1GLEVBQVlFLEdBRTNCbWYsRUFBTTh2RCxTQUFXLEVBQ2pCUyxFQUFLajdFLFNBQVM3UCxNQUFNOHFGLEVBQU1sckYsR0FFWCxNQUFYQSxFQUFLLElBQ0wyNkIsRUFBTXgzQixNQUFNbkQsRUFBSyxHQUFJa3JGLEVBQUt0MkYsTUFFMUIrbEMsRUFBTTh2RCxTQUFZOXZELEVBQU02dkQsWUFBYzd2RCxFQUFNbFIsUUFDNUNrUixFQUFNZ3dELGNBRU5od0QsRUFBTXN3RCxRQUNOdHdELEVBQU1rd0QsUUFFVmx3RCxFQUFNc1QsU0FDVixDQUNKLEVBR0FxOEMsRUFBVzdzRixVQUFVdEgsS0FBTyxTQUFVdkIsRUFBTXFiLEdBQ3hDelQsS0FBS3V1RixRQUFRbjJGLEdBQU0sRUFBT3FiLEVBQzlCLEVBQ0FxNkUsRUFBVzdzRixVQUFVMnRGLEtBQU8sV0FDeEI1dUYsS0FBS2l1RixRQUFVLEVBQ2ZqdUYsS0FBS3F1RixNQUFRcEMsR0FDYmpzRixLQUFLa25DLFNBQVUsRUFDZmxuQyxLQUFLc3VGLE9BQVMsRUFDbEIsRUFFQVIsRUFBVzdzRixVQUFVd04sUUFBVSxTQUFVclcsRUFBTXFiLEdBQzNDelQsS0FBS3V1RixRQUFRbjJGLEdBQU0sRUFBTXFiLEVBQzdCLEVBQ0FxNkUsRUFBVzdzRixVQUFVbEksT0FBUyxXQUMxQixPQUFPaUgsS0FBS3N1RixPQUFPdjFGLE1BQ3ZCLEVBQ0ErMEYsRUFBVzdzRixVQUFVNHRGLFFBQVUsV0FDM0IsT0FBTzd1RixLQUFLaXVGLE9BQ2hCLEVBQ0FILEVBQVc3c0YsVUFBVXd0RixLQUFPLFdBQ3hCLE9BQU96dUYsS0FBS3N1RixPQUFPdjFGLE9BQVNpSCxLQUFLaXVGLFVBQVksQ0FDakQsRUFDQUgsRUFBVzdzRixVQUFVazBDLE1BQVEsWUFDTCxJQUFoQm4xQyxLQUFLKzBDLFNBR1QvMEMsS0FBSyswQyxRQUFTLEVBQ2xCLEVBQ0ErNEMsRUFBVzdzRixVQUFVNnRGLE9BQVMsV0FDMUIsSUFBb0IsSUFBaEI5dUYsS0FBSyswQyxPQUFULENBR0EvMEMsS0FBSyswQyxRQUFTLEVBR2QsSUFBSyxJQUFJdHNDLEVBQUksRUFBR0EsR0FBS3pJLEtBQUtndUYsWUFBYXZsRixJQUNuQ3pJLEtBQUt5eEMsU0FMVCxDQU9KLEVBUUFxOEMsRUFBV2lCLFdBQWEsU0FBVWpvRixFQUFPa29GLEVBQVV2N0UsRUFBVXc3RSxHQUN6RCxJQUFJMzFGLEVBQUksRUFDSkMsRUFBTXVOLEVBQU0vTixRQUNoQixTQUFTSyxFQUFLOEwsR0FDTkEsR0FBTzVMLElBQU1DLEVBQ1RrYSxHQUNBQSxFQUFTdk8sR0FJYitwRixFQUNBcDlFLFlBQVcsV0FDUG05RSxFQUFTbG9GLEVBQU14TixLQUFNRixFQUN6QixHQUFHLEdBR0g0MUYsRUFBU2xvRixFQUFNeE4sS0FBTUYsRUFFN0IsQ0FDQUEsRUFDSixFQU9BMDBGLEVBQVdyMEYsTUFBUSxTQUFVczBGLEVBQVFDLEdBQ2pDLE9BQU8sSUFBSUYsRUFBV0MsRUFBUUMsRUFDbEMsRUFDT0YsQ0FDWCxDQXJLK0IsR0F5SzNCb0IsR0FBb0IsY0E4Q3BCeHBELEdBQXdCLFdBS3hCLFNBQVNBLEVBQU8zbkIsRUFBU2l3RSxHQUNyQixJQUFJN3ZELEVBQVFuK0IsVUFDSSxJQUFaK2QsSUFBc0JBLEVBQVUsU0FDaEIsSUFBaEJpd0UsSUFBMEJBLEVBQWMsSUFFNUNodUYsS0FBS212RixTQUFXLEVBRWhCbnZGLEtBQUtvdkYsU0FBVSxFQW9CZnB2RixLQUFLcXZGLG1CQUFxQixHQUUxQnJ2RixLQUFLc3ZGLGtCQUFvQixHQUV6QnR2RixLQUFLdXZGLGlCQUFtQixHQUV4QnZ2RixLQUFLd3ZGLGtCQUFvQixHQU16Qnh2RixLQUFLeXZGLG1CQUFxQixTQUFVM3dGLEVBQUdnQyxHQUFLLE9BQU9xOUIsRUFBTXV4RCxjQUFjNXdGLEVBQUdnQyxFQUFJLEVBRTlFZCxLQUFLMnVDLFVBQVksQ0FBQyxFQUNsQjN1QyxLQUFLK2QsUUFBVUEsRUFDZi9kLEtBQUtzdkYsa0JBQW9CLEdBQ3pCdHZGLEtBQUt1dkYsaUJBQW1CLEdBQ3hCdnZGLEtBQUt3dkYsa0JBQW9CLEdBQ3pCeHZGLEtBQUt5dkYsbUJBQXFCLFNBQVUzd0YsRUFBR2dDLEdBQUssT0FBT3E5QixFQUFNdXhELGNBQWM1d0YsRUFBR2dDLEVBQUksRUFDOUVkLEtBQUtpbEMsT0FBUzZvRCxHQUFXcjBGLE1BQU11RyxLQUFLeXZGLG1CQUFvQnpCLEdBQ3hEaHVGLEtBQUtpbEMsT0FBT2tRLFFBQ1puMUMsS0FBSzJ1QyxVQUFZLENBQUMsRUFDbEIzdUMsS0FBSzZuRixXQUFhLElBQUk5QyxHQUN0Qi9rRixLQUFLaXFDLFFBQVUsSUFBSTg2QyxHQUNuQi9rRixLQUFLMnZGLE9BQVMsSUFBSTVLLEdBQ2xCL2tGLEtBQUs0bkYsUUFBVSxJQUFJN0MsR0FDbkIva0YsS0FBSzhuRixXQUFhLElBQUkvQyxHQUN0QixJQUFLLElBQUl6ckYsRUFBSSxFQUFHQSxFQUFJb3NDLEVBQU9rcUQsU0FBUzcyRixTQUFVTyxFQUFHLENBQzdDLElBQUl1MkYsRUFBU25xRCxFQUFPa3FELFNBQVN0MkYsR0FDekJ3MkYsRUFBTUQsRUFBT0MsSUFBS0MsRUFBTUYsRUFBT0UsSUFDL0JELEdBQ0E5dkYsS0FBSzh2RixJQUFJQSxHQUVUQyxHQUNBL3ZGLEtBQUsrdkYsSUFBSUEsRUFFakIsQ0FDQS92RixLQUFLc25DLFlBQWEsQ0FDdEIsQ0FtUkEsT0F6UUE1QixFQUFPemtDLFVBQVUrdUYsS0FBTyxTQUFVenRGLEVBQU13SyxFQUFLakQsRUFBUzJKLEdBRWxELEdBQUl6VCxLQUFLb3ZGLFdBQWF0bEYsSUFBWUEsRUFBUW1tRixnQkFDdEMsTUFBTSxJQUFJempFLE1BQU0scURBR3BCLEdBQUl4c0IsS0FBSzJ1QyxVQUFVcHNDLEdBQ2YsTUFBTSxJQUFJaXFCLE1BQU0sbUJBQXNCanFCLEVBQU8scUJBVWpELEdBUEF3SyxFQUFNL00sS0FBS2t3RixZQUFZbmpGLEdBRXZCL00sS0FBSzJ1QyxVQUFVcHNDLEdBQVEsSUFBSXlqRixHQUFlempGLEVBQU13SyxFQUFLakQsR0FDN0IsbUJBQWIySixHQUNQelQsS0FBSzJ1QyxVQUFVcHNDLEdBQU13bEYsa0JBQWtCdm1GLEtBQUtpUyxHQUc1Q3pULEtBQUtvdkYsUUFBUyxDQUdkLElBRkEsSUFBSTN3RCxFQUFTMzBCLEVBQVFtbUYsZUFDakJFLEVBQXFCLEdBQ2hCNzJGLEVBQUksRUFBR0EsRUFBSW1sQyxFQUFPOXNCLFNBQVM1WSxTQUFVTyxFQUNyQ21sQyxFQUFPOXNCLFNBQVNyWSxHQUFHd3ZGLFlBQ3BCcUgsRUFBbUJ4MkYsS0FBSzhrQyxFQUFPOXNCLFNBQVNyWSxJQUdoRCxJQUNJODJGLEVBRFkzeEQsRUFBTzRvRCxlQUFpQjhJLEVBQW1CcDNGLE9BQVMsSUFDdkNvM0YsRUFBbUJwM0YsT0FBUyxHQUd6RCxJQUZBMGxDLEVBQU85c0IsU0FBU2hZLEtBQUtxRyxLQUFLMnVDLFVBQVVwc0MsSUFDcENrOEIsRUFBTzRvRCxjQUFnQitJLEVBQ2Q5MkYsRUFBSSxFQUFHQSxFQUFJNjJGLEVBQW1CcDNGLFNBQVVPLEVBQzdDNjJGLEVBQW1CNzJGLEdBQUcrdEYsY0FBZ0IrSSxFQUUxQ3B3RixLQUFLMnVDLFVBQVVwc0MsR0FBTThrRixjQUFnQitJLENBQ3pDLENBR0EsT0FEQXB3RixLQUFLaWxDLE9BQU90ckMsS0FBS3FHLEtBQUsydUMsVUFBVXBzQyxJQUN6QnZDLElBQ1gsRUFRQTBsQyxFQUFPemtDLFVBQVU2dUYsSUFBTSxTQUFVeHVGLEdBRTdCLE9BREF0QixLQUFLc3ZGLGtCQUFrQjMxRixLQUFLMkgsR0FDckJ0QixJQUNYLEVBT0EwbEMsRUFBT3prQyxVQUFVOHVGLElBQU0sU0FBVXp1RixHQUU3QixPQURBdEIsS0FBS3V2RixpQkFBaUI1MUYsS0FBSzJILEdBQ3BCdEIsSUFDWCxFQUtBMGxDLEVBQU96a0MsVUFBVWlpRCxNQUFRLFdBTXJCLElBQUssSUFBSWo3QyxLQUxUakksS0FBS212RixTQUFXLEVBQ2hCbnZGLEtBQUtvdkYsU0FBVSxFQUNmcHZGLEtBQUtpbEMsT0FBTzJwRCxPQUNaNXVGLEtBQUtpbEMsT0FBT2tRLFFBRUVuMUMsS0FBSzJ1QyxVQUFXLENBQzFCLElBQUk5NkIsRUFBTTdULEtBQUsydUMsVUFBVTFtQyxHQUNyQjRMLEVBQUlxeUUsZ0JBQ0pyeUUsRUFBSXF5RSxlQUFleEIsU0FFbkI3d0UsRUFBSWcxRSxXQUNKaDFFLEVBQUk0MEUsTUFBTSxlQUVsQixDQUVBLE9BREF6b0YsS0FBSzJ1QyxVQUFZLENBQUMsRUFDWDN1QyxJQUNYLEVBTUEwbEMsRUFBT3prQyxVQUFVb3BDLEtBQU8sU0FBVTczQixHQU85QixHQU5Bb2IsR0FBWSxRQUFTLGdGQUVILG1CQUFQcGIsR0FDUHhTLEtBQUs4bkYsV0FBV3RtRixLQUFLZ1IsR0FHckJ4UyxLQUFLb3ZGLFFBQ0wsT0FBT3B2RixLQUVYLEdBQUlBLEtBQUtpbEMsT0FBT3dwRCxPQUNaenVGLEtBQUtxd0YsV0FDTHJ3RixLQUFLc3dGLGtCQUVKLENBSUQsSUFGQSxJQUNJQyxFQXZPRyxJQXNPUXZ3RixLQUFLaWxDLE9BQU9xcEQsT0FBT3YxRixPQUV6Qk8sRUFBSSxFQUFHQSxFQUFJMEcsS0FBS2lsQyxPQUFPcXBELE9BQU92MUYsU0FBVU8sRUFDN0MwRyxLQUFLaWxDLE9BQU9xcEQsT0FBT2gxRixHQUFHbEIsS0FBS2l2RixjQUFnQmtKLEVBRy9DdndGLEtBQUtxd0YsV0FFTHJ3RixLQUFLaWxDLE9BQU82cEQsUUFDaEIsQ0FDQSxPQUFPOXVGLElBQ1gsRUFDQWdCLE9BQU9rUSxlQUFldzBCLEVBQU96a0MsVUFBVyxjQUFlLENBS25EbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLaWxDLE9BQU8rb0QsV0FDdkIsRUFDQTkrRCxJQUFLLFNBQVU4K0QsR0FDWGh1RixLQUFLaWxDLE9BQU8rb0QsWUFBY0EsQ0FDOUIsRUFDQTc4RSxZQUFZLEVBQ1pnZSxjQUFjLElBT2xCdVcsRUFBT3prQyxVQUFVaXZGLFlBQWMsU0FBVW5qRixHQUNyQyxJQUNJdE0sRUFEQWd3QixFQUFZeTBELEdBQVNuNEUsRUFBSyxDQUFFdzRFLFlBQVksSUFnQjVDLEdBWkk5a0YsRUFEQWd3QixFQUFVeGxCLFdBQWF3bEIsRUFBVTlrQixNQUE4QixJQUF0Qm9CLEVBQUkxQyxRQUFRLE1BQzVDMEMsRUFHSi9NLEtBQUsrZCxRQUFRaGxCLFFBQ2ZpSCxLQUFLK2QsUUFBUWhWLFlBQVksT0FBUy9JLEtBQUsrZCxRQUFRaGxCLE9BQVMsR0FDdEMsTUFBbEJnVSxFQUFJaUMsT0FBTyxHQUNMaFAsS0FBSytkLFFBQVUsSUFBTWhSLEVBR3JCL00sS0FBSytkLFFBQVVoUixFQUd4Qi9NLEtBQUtxdkYsbUJBQW9CLENBQ3pCLElBQUk5akYsRUFBTzJqRixHQUFrQnhoRixLQUFLak4sR0FBUSxJQUViLEtBRDdCQSxFQUFTQSxFQUFPaUMsTUFBTSxFQUFHakMsRUFBTzFILE9BQVN3UyxFQUFLeFMsU0FDbkNzUixRQUFRLEtBQ2Y1SixHQUFVLElBQU1ULEtBQUtxdkYsbUJBR3JCNXVGLEdBQVUsSUFBTVQsS0FBS3F2RixtQkFFekI1dUYsR0FBVThLLENBQ2QsQ0FDQSxPQUFPOUssQ0FDWCxFQU1BaWxDLEVBQU96a0MsVUFBVXl1RixjQUFnQixTQUFVNWpELEVBQVUwa0QsR0FDakQsSUFBSXJ5RCxFQUFRbitCLEtBQ1o4ckMsRUFBU202QyxTQUFXdUssRUFFcEIxQyxHQUFXaUIsV0FBVy91RixLQUFLc3ZGLG1CQUFtQixTQUFVaHVGLEVBQUlsSSxHQUN4RGtJLEVBQUdtQixLQUFLMDdCLEVBQU8yTixHQUFVLFdBR3JCMXlDLEVBQUsweUMsRUFBU2c5QyxXQUFhLENBQUMsRUFBSSxLQUNwQyxHQUNKLElBQUcsV0FDS2g5QyxFQUFTZzlDLFdBQ1QzcUQsRUFBTXN5RCxRQUFRM2tELElBR2RBLEVBQVNvNkMsZUFBaUJwNkMsRUFBU2c4QyxXQUFXdG1GLEtBQUsyOEIsRUFBTXN5RCxRQUFTdHlELEdBQ2xFMk4sRUFBU3pCLE9BRWpCLElBQUcsRUFDUCxFQUVBM0UsRUFBT3prQyxVQUFVb3ZGLFNBQVcsV0FDeEJyd0YsS0FBS212RixTQUFXLEVBQ2hCbnZGLEtBQUtvdkYsU0FBVSxFQUNmcHZGLEtBQUs0bkYsUUFBUXZoRCxTQUFTcm1DLEtBQzFCLEVBRUEwbEMsRUFBT3prQyxVQUFVcXZGLFlBQWMsV0FDM0J0d0YsS0FBS212RixTQXBVTSxJQXFVWG52RixLQUFLb3ZGLFNBQVUsRUFDZnB2RixLQUFLOG5GLFdBQVd6aEQsU0FBU3JtQyxLQUFNQSxLQUFLMnVDLFVBQ3hDLEVBS0FqSixFQUFPemtDLFVBQVV3dkYsUUFBVSxTQUFVM2tELEdBQ2pDLElBQUkzTixFQUFRbitCLEtBQ1o4ckMsRUFBU282QyxlQUFpQixLQUUxQmxtRixLQUFLd3ZGLGtCQUFrQjcxRixLQUFLbXlDLEdBQzVCQSxFQUFTbTZDLFdBRVQ2SCxHQUFXaUIsV0FBVy91RixLQUFLdXZGLGtCQUFrQixTQUFVanVGLEVBQUlsSSxHQUN2RGtJLEVBQUdtQixLQUFLMDdCLEVBQU8yTixFQUFVMXlDLEVBQzdCLElBQUcsV0FDQzB5QyxFQUFTaThDLGtCQUFrQjFoRCxTQUFTeUYsR0FDcEMzTixFQUFNZ3hELFNBQVdsMUYsS0FBS3dGLElBdlZmLElBdVZpQzArQixFQUFNZ3hELFNBQVdyakQsRUFBU3U3QyxlQUNsRWxwRCxFQUFNMHBELFdBQVd4aEQsU0FBU2xJLEVBQU8yTixHQUM3QkEsRUFBU25sQyxNQUNUdzNCLEVBQU04TCxRQUFRNUQsU0FBU3lGLEVBQVNubEMsTUFBT3czQixFQUFPMk4sR0FHOUMzTixFQUFNd3hELE9BQU90cEQsU0FBU2xJLEVBQU8yTixHQUVqQzNOLEVBQU1xeEQsa0JBQWtCeG1GLE9BQU9tMUIsRUFBTXF4RCxrQkFBa0JubEYsUUFBUXloQyxHQUFXLEdBRXRFM04sRUFBTThHLE9BQU93cEQsUUFBNkMsSUFBbkN0d0QsRUFBTXF4RCxrQkFBa0J6MkYsUUFDL0NvbEMsRUFBTW15RCxhQUVkLElBQUcsRUFDUCxFQUVBNXFELEVBQU96a0MsVUFBVXN0QixRQUFVLFdBQ2xCdnVCLEtBQUtzbkMsWUFDTnRuQyxLQUFLa2pELE9BRWIsRUFDQWxpRCxPQUFPa1EsZUFBZXcwQixFQUFRLFNBQVUsQ0FFcEN0MEIsSUFBSyxXQUNELElBQUl1M0IsRUFBU2pELEVBQU9nRCxRQU1wQixPQUxLQyxLQUNEQSxFQUFTLElBQUlqRCxHQUNONEIsWUFBYSxFQUNwQjVCLEVBQU9nRCxRQUFVQyxHQUVkQSxDQUNYLEVBQ0F4M0IsWUFBWSxFQUNaZ2UsY0FBYyxJQVFsQnVXLEVBQU9ncUMsZUFBaUIsU0FBVW1nQixHQU05QixPQUxBamlFLEdBQVksUUFBUyx3RUFDckJrWCxHQUFXaEwsSUFBSSxDQUNYbHpCLEtBQU0yOUIsR0FBY21CLE9BQ3BCYixJQUFLZ3JELElBRUZucUQsQ0FDWCxFQUNBQSxFQUFPa3FELFNBQVcsR0FDWGxxRCxDQUNYLENBM1YyQixHQTRWM0JaLEdBQVdXLGFBQWFsQixHQUFjbUIsT0FBUUEsR0FBT2txRCxVQUNyRGxxRCxHQUFPemtDLFVBQVU2NEIsSUFBTSxTQUFhdjNCLEVBQU13SyxFQUFLakQsRUFBUzJKLEdBRXBELEdBQUl4USxNQUFNdUgsUUFBUWpJLEdBQU8sQ0FDckIsSUFBSyxJQUFJakosRUFBSSxFQUFHQSxFQUFJaUosRUFBS3hKLFNBQVVPLEVBQy9CMEcsS0FBSzg1QixJQUFJdjNCLEVBQUtqSixJQUVsQixPQUFPMEcsSUFDWCxDQWVBLEdBYm9CLGlCQUFUdUMsSUFDUHVILEVBQVV2SCxFQUNWa1IsRUFBVzFHLEdBQU9qRCxFQUFRMkosVUFBWTNKLEVBQVFnK0UsV0FDOUMvNkUsRUFBTWpELEVBQVFpRCxJQUNkeEssRUFBT3VILEVBQVF2SCxNQUFRdUgsRUFBUXBFLEtBQU9vRSxFQUFRaUQsS0FHL0IsaUJBQVJBLElBQ1AwRyxFQUFXM0osRUFDWEEsRUFBVWlELEVBQ1ZBLEVBQU14SyxHQUdTLGlCQUFSd0ssRUFDUCxNQUFNLElBQUl5ZixNQUFNLDRDQU9wQixNQUp1QixtQkFBWjFpQixJQUNQMkosRUFBVzNKLEVBQ1hBLEVBQVUsTUFFUDlKLEtBQUtnd0YsS0FBS3p0RixFQUFNd0ssRUFBS2pELEVBQVMySixFQUN6QyxFQVdBLElBQUlpOUUsR0FBaUMsV0FDakMsU0FBU0EsSUFDVCxDQXdCQSxPQWxCQUEsRUFBZ0JoNEQsS0FBTyxTQUFVNXVCLEdBQzdCQSxFQUFVOUksT0FBT3FELE9BQU8sQ0FDcEJzc0YsY0FBYyxHQUNmN21GLEdBQ0g5SixLQUFLNHdGLE9BQVM5bUYsRUFBUTZtRixhQUFlanJELEdBQU9pRCxPQUFTLElBQUlqRCxFQUM3RCxFQUtBZ3JELEVBQWdCbmlFLFFBQVUsV0FDbEJ2dUIsS0FBSzR3RixTQUNMNXdGLEtBQUs0d0YsT0FBT3JpRSxVQUNadnVCLEtBQUs0d0YsT0FBUyxLQUV0QixFQUVBRixFQUFnQi9yRCxVQUFZSixHQUFjNkUsWUFDbkNzbkQsQ0FDWCxDQTNCb0MsR0FpQ2hDRyxHQUErQixXQUMvQixTQUFTQSxJQUNULENBOEJBLE9BNUJBQSxFQUFjLzJELElBQU0sV0FDaEJrc0QsR0FBZWdDLHFCQUFxQixNQUFPaEMsR0FBZWdELFVBQVVNLEtBQ3BFdEQsR0FBZWtDLG9CQUFvQixNQUFPbEMsR0FBZXVFLGtCQUFrQkcsS0FDL0UsRUFPQW1HLEVBQWNkLElBQU0sU0FBVWprRCxFQUFVMXlDLEdBRXBDLElBQUkweUMsRUFBUzF6QyxNQUFTMHpDLEVBQVNsbEMsT0FBU28vRSxHQUFlb0IsS0FBSzZCLE9BQWdDLFFBQXZCbjlDLEVBQVNuSCxVQVcxRXZyQyxRQVhnRyxDQUNoRyxJQUFJaEIsRUFBTzB6QyxFQUFTMXpDLEtBQU0yVSxFQUFNKytCLEVBQVMvK0IsSUFBS3hLLEVBQU91cEMsRUFBU3ZwQyxLQUFNcWlDLEVBQVdrSCxFQUFTbEgsU0FDeEZvVCxHQUFRaUIsV0FBVzdnRCxFQUFNMlUsRUFBS3hLLEVBQU1xaUMsR0FBVTd4QixNQUFLLFNBQVVtOEIsR0FDekRwRCxFQUFTb0QsUUFBVUEsRUFDbkI5MUMsR0FDSixJQUdLMDNGLE1BQU0xM0YsRUFDZixDQUlKLEVBRUF5M0YsRUFBY2xzRCxVQUFZSixHQUFjbUIsT0FDakNtckQsQ0FDWCxDQWpDa0MsR0FxR2xDLFNBQVNFLEdBQVFqbEQsRUFBVTF5QyxHQUN2QixHQUFLMHlDLEVBQVMxekMsS0FBZCxDQUtBLEdBQUkwekMsRUFBU2k2QyxLQUFPajZDLEVBQVNxN0MsVUFBWW5CLEdBQWV1RSxrQkFBa0J3QixLQUV0RSxHQUFLOWxGLEtBQUsrcUYsTUFBaUMsaUJBQWxCbGxELEVBQVMxekMsTUFpQjdCLEdBQTRDLElBQXhDMHpDLEVBQVMxekMsS0FBS3dPLEtBQUt5RCxRQUFRLFNBQWdCLENBQ2hELElBQUk0bUYsRUFBUTUvRSxXQUFXNi9FLEtBQU83L0UsV0FBVzgvRSxVQUNyQ0MsRUFBUUgsRUFBTUksZ0JBQWdCdmxELEVBQVMxekMsTUFhM0MsT0FaQTB6QyxFQUFTOEYsS0FBTzlGLEVBQVMxekMsS0FDekIwekMsRUFBUzF6QyxLQUFPLElBQUkyNEMsTUFDcEJqRixFQUFTMXpDLEtBQUs0NEMsSUFBTW9nRCxFQUNwQnRsRCxFQUFTbGxDLEtBQU9vL0UsR0FBZW9CLEtBQUs2QixXQUdwQ245QyxFQUFTMXpDLEtBQUttNUMsT0FBUyxXQUNuQjAvQyxFQUFNSyxnQkFBZ0JGLEdBQ3RCdGxELEVBQVMxekMsS0FBS201QyxPQUFTLEtBQ3ZCbjRDLEdBQ0osRUFHSixNQWpDcUQsQ0FDakQsSUFBSXdOLEVBQU9rbEMsRUFBU2k2QyxJQUFJd0wsa0JBQWtCLGdCQUUxQyxHQUFJM3FGLEdBQWtDLElBQTFCQSxFQUFLeUQsUUFBUSxTQVVyQixPQVRBeWhDLEVBQVMxekMsS0FBTyxJQUFJMjRDLE1BQ3BCakYsRUFBUzF6QyxLQUFLNDRDLElBQU0sUUFBVXBxQyxFQUFPLFdBeEVyRCxTQUFzQndCLEdBR2xCLElBRkEsSUFBSWQsRUFBUyxHQUNUa3FGLEVBQU0sRUFDSEEsRUFBTXBwRixFQUFNclAsUUFBUSxDQUl2QixJQUZBLElBQUkwNEYsRUFBYSxDQUFDLEVBQUcsRUFBRyxHQUNwQkMsRUFBcUIsQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUMxQkMsRUFBTSxFQUFHQSxFQUFNRixFQUFXMTRGLFNBQVU0NEYsRUFDckNILEVBQU1wcEYsRUFBTXJQLE9BR1owNEYsRUFBV0UsR0FBaUMsSUFBMUJ2cEYsRUFBTVosV0FBV2dxRixLQUduQ0MsRUFBV0UsR0FBTyxFQWMxQixPQVRBRCxFQUFtQixHQUFLRCxFQUFXLElBQU0sRUFFekNDLEVBQW1CLElBQXVCLEVBQWhCRCxFQUFXLEtBQWEsRUFBTUEsRUFBVyxJQUFNLEVBRXpFQyxFQUFtQixJQUF1QixHQUFoQkQsRUFBVyxLQUFjLEVBQU1BLEVBQVcsSUFBTSxFQUUxRUMsRUFBbUIsR0FBcUIsR0FBaEJELEVBQVcsR0FFaEJELEdBQU9wcEYsRUFBTXJQLE9BQVMsSUFFckMsS0FBSyxFQUVEMjRGLEVBQW1CLEdBQUssR0FDeEJBLEVBQW1CLEdBQUssR0FDeEIsTUFDSixLQUFLLEVBRURBLEVBQW1CLEdBQUssR0FLaEMsSUFBU0MsRUFBTSxFQUFHQSxFQUFNRCxFQUFtQjM0RixTQUFVNDRGLEVBQ2pEcnFGLEdBakRFLG9FQWlEZ0IwSCxPQUFPMGlGLEVBQW1CQyxHQUVwRCxDQUNBLE9BQU9ycUYsQ0FDWCxDQTBCa0VzcUYsQ0FBYTlsRCxFQUFTaTZDLElBQUlrRixjQUM1RW4vQyxFQUFTbGxDLEtBQU9vL0UsR0FBZW9CLEtBQUs2QixXQUVwQ245QyxFQUFTMXpDLEtBQUttNUMsT0FBUyxXQUNuQnpGLEVBQVMxekMsS0FBS201QyxPQUFTLEtBQ3ZCbjRDLEdBQ0osRUFJUixDQW9CSkEsR0F2Q0EsTUFGSUEsR0EwQ1IsQ0FNQSxJQ3gzREl5NEYsR0FtQ0FDLEdEcTFEQUMsR0FBK0IsV0FDL0IsU0FBU0EsSUFDVCxDQUlBLE9BRkFBLEVBQWNwdEQsVUFBWUosR0FBY21CLE9BQ3hDcXNELEVBQWNoQyxJQUFNZ0IsR0FDYmdCLENBQ1gsQ0FQa0MsR0FTbENqdEQsR0FBV2hMLElBQUkrMkQsR0FBZWtCLElDNzFEOUIsU0FBV0QsR0FFUEEsRUFBaUJBLEVBQStDLDZCQUFJLE9BQVMsK0JBQzdFQSxFQUFpQkEsRUFBZ0QsOEJBQUksT0FBUyxnQ0FDOUVBLEVBQWlCQSxFQUFnRCw4QkFBSSxPQUFTLGdDQUM5RUEsRUFBaUJBLEVBQWdELDhCQUFJLE9BQVMsZ0NBRTlFQSxFQUFpQkEsRUFBc0Qsb0NBQUksT0FBUyxzQ0FDcEZBLEVBQWlCQSxFQUFzRCxvQ0FBSSxPQUFTLHNDQUNwRkEsRUFBaUJBLEVBQXNELG9DQUFJLE9BQVMsc0NBQ3BGQSxFQUFpQkEsRUFBZ0QsOEJBQUksT0FBUyxnQ0FFOUVBLEVBQWlCQSxFQUFxQyxtQkFBSSxPQUFTLHFCQUNuRUEsRUFBaUJBLEVBQTRDLDBCQUFJLE9BQVMsNEJBQzFFQSxFQUFpQkEsRUFBc0Msb0JBQUksT0FBUyxzQkFDcEVBLEVBQWlCQSxFQUE2QywyQkFBSSxPQUFTLDZCQUMzRUEsRUFBaUJBLEVBQXVDLHFCQUFJLE9BQVMsdUJBQ3JFQSxFQUFpQkEsRUFBNEMsMEJBQUksT0FBUyw0QkFDMUVBLEVBQWlCQSxFQUF3QyxzQkFBSSxPQUFTLHdCQUN0RUEsRUFBaUJBLEVBQW1ELGlDQUFJLE9BQVMsbUNBQ2pGQSxFQUFpQkEsRUFBMkQseUNBQUksT0FBUywyQ0FDekZBLEVBQWlCQSxFQUE0RCwwQ0FBSSxPQUFTLDRDQUUxRkEsRUFBaUJBLEVBQWtELGdDQUFJLE9BQVMsa0NBQ2hGQSxFQUFpQkEsRUFBbUQsaUNBQUksT0FBUyxtQ0FDakZBLEVBQWlCQSxFQUFrRCxnQ0FBSSxPQUFTLGtDQUNoRkEsRUFBaUJBLEVBQW1ELGlDQUFJLE9BQVMsbUNBRWpGQSxFQUFpQkEsRUFBNEMsMEJBQUksT0FBUyw0QkFFMUVBLEVBQWlCQSxFQUEyQyx5QkFBSSxPQUFTLDJCQUN6RUEsRUFBaUJBLEVBQTJELHlDQUFJLE9BQVMsMkNBQ3pGQSxFQUFpQkEsRUFBK0QsNkNBQUksT0FBUywrQ0FHN0ZBLEVBQWlCQSxFQUErQyw2QkFBSSxPQUFTLDhCQUNoRixDQXBDRCxDQW9DR0EsS0FBcUJBLEdBQW1CLENBQUMsSUFRNUMsSUFBSUUsS0FBc0NILEdBQU8sQ0FBQyxHQUV6Q0MsR0FBaUJHLDhCQUFnQyxHQUN0REosR0FBS0MsR0FBaUJJLCtCQUFpQyxHQUN2REwsR0FBS0MsR0FBaUJLLCtCQUFpQyxFQUN2RE4sR0FBS0MsR0FBaUJNLCtCQUFpQyxFQUV2RFAsR0FBS0MsR0FBaUJPLCtCQUFpQyxHQUN2RFIsR0FBS0MsR0FBaUJRLHFDQUF1QyxHQUM3RFQsR0FBS0MsR0FBaUJTLHFDQUF1QyxFQUM3RFYsR0FBS0MsR0FBaUJVLHFDQUF1QyxFQUU3RFgsR0FBS0MsR0FBaUJXLG9CQUFzQixHQUM1Q1osR0FBS0MsR0FBaUJZLDJCQUE2QixHQUNuRGIsR0FBS0MsR0FBaUJhLHFCQUF1QixFQUM3Q2QsR0FBS0MsR0FBaUJjLDRCQUE4QixFQUNwRGYsR0FBS0MsR0FBaUJlLHNCQUF3QixHQUM5Q2hCLEdBQUtDLEdBQWlCZ0IsMkJBQTZCLEVBQ25EakIsR0FBS0MsR0FBaUJpQix1QkFBeUIsR0FDL0NsQixHQUFLQyxHQUFpQmtCLGtDQUFvQyxFQUMxRG5CLEdBQUtDLEdBQWlCbUIsMENBQTRDLEdBQ2xFcEIsR0FBS0MsR0FBaUJvQiwyQ0FBNkMsR0FFbkVyQixHQUFLQyxHQUFpQnFCLGlDQUFtQyxHQUN6RHRCLEdBQUtDLEdBQWlCc0Isa0NBQW9DLEdBQzFEdkIsR0FBS0MsR0FBaUJ1QixpQ0FBbUMsSUFDekR4QixHQUFLQyxHQUFpQndCLGtDQUFvQyxJQUUxRHpCLEdBQUtDLEdBQWlCeUIsMkJBQTZCLEdBR25EMUIsR0FBS0MsR0FBaUIwQiwwQkFBNEIsR0FDbEQzQixHQUFLQyxHQUFpQjJCLDBDQUE0QyxFQUNsRTVCLEdBQUtDLEdBQWlCNEIsOENBQWdELEVBSXRFN0IsR0FBS0MsR0FBaUI2Qiw4QkFBZ0MsRUFDdEQ5QixJQWtCQSxHQUFnQixTQUFTL3dGLEVBQUd6RSxHQUk1QixPQUhBLEdBQWdCMkUsT0FBTzg4QixnQkFDbEIsQ0FBRTE3QixVQUFXLGNBQWdCYSxPQUFTLFNBQVVuQyxFQUFHekUsR0FBS3lFLEVBQUVzQixVQUFZL0YsQ0FBRyxHQUMxRSxTQUFVeUUsRUFBR3pFLEdBQUssSUFBSyxJQUFJdkIsS0FBS3VCLEVBQVNBLEVBQUU2RSxlQUFlcEcsS0FBTWdHLEVBQUVoRyxHQUFLdUIsRUFBRXZCLEdBQVEsRUFDOUUsR0FBY2dHLEVBQUd6RSxFQUM1QixFQUVBLFNBQVMsR0FBVXlFLEVBQUd6RSxHQUVsQixTQUFTMmhDLElBQU9oK0IsS0FBS3dULFlBQWMxUyxDQUFHLENBRHRDLEdBQWNBLEVBQUd6RSxHQUVqQnlFLEVBQUVHLFVBQWtCLE9BQU41RSxFQUFhMkUsT0FBT21CLE9BQU85RixJQUFNMmhDLEVBQUcvOEIsVUFBWTVFLEVBQUU0RSxVQUFXLElBQUkrOEIsRUFDbkYsQ0E4Q0EsSUE0YUk0MUQsR0FBTUMsR0E1YU5DLEdBQThCLFNBQVU1MUQsR0FVeEMsU0FBUzQxRCxFQUFhenVGLEVBQVF5RSxRQUNWLElBQVpBLElBQXNCQSxFQUFVLENBQUVrTixNQUFPLEVBQUdDLE9BQVEsRUFBR3M1QixVQUFVLElBQ3JFLElBQ0ltN0MsRUFDQXR6RixFQUZBK2xDLEVBQVFuK0IsS0ErQlosTUE1QnNCLGlCQUFYcUYsR0FDUHFtRixFQUFTcm1GLEVBQ1RqTixFQUFPLElBQUl3ZSxhQUdYODBFLEVBQVMsS0FDVHR6RixFQUFPaU4sSUFFWDg0QixFQUFRRCxFQUFPejdCLEtBQUt6QyxLQUFNNUgsRUFBTTBSLElBQVk5SixNQUt0QzByRixPQUFTQSxFQU1mdnRELEVBQU1sUixPQUFTNzBCLEVBQU8sSUFBSWc0RSxHQUFlaDRFLEdBQVEsS0FFN0MrbEMsRUFBTXV0RCxTQUErQixJQUFyQjVoRixFQUFReW1DLFVBQ3hCcFMsRUFBTWtNLE9BRU5qeUMsR0FBUUEsRUFBS1csU0FDYm9sQyxFQUFNcnRCLFFBQVMsRUFDZnF0QixFQUFNNDFELGFBQWE1MUQsRUFBTWxSLE9BQU9xakQsZ0JBRTdCbnlDLENBQ1gsQ0E2QkEsT0F4RUEsR0FBVTIxRCxFQUFjNTFELEdBNEN4QjQxRCxFQUFhN3lGLFVBQVU4eUYsYUFBZSxTQUFVQyxHQUVoRCxFQUVBRixFQUFhN3lGLFVBQVVvcEMsS0FBTyxXQUMxQixPQTlGV3AzQixFQThGTWpULEtBOUZHaTBGLE9BOEZHLEVBOUZZQyxFQThGSyxXQUNwQyxJQUFvQkMsRUFDcEIsT0F0RlosU0FBcUJsaEYsRUFBU21sRSxHQUMxQixJQUEwR2djLEVBQUd4N0YsRUFBRzhQLEVBQUc1QyxFQUEvR3V1RixFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUDdyRixFQUFFLEdBQVUsTUFBTUEsRUFBRSxHQUFNLE9BQU9BLEVBQUUsRUFBSSxFQUFHOHJGLEtBQU0sR0FBSUMsSUFBSyxJQUNwRyxPQUFPM3VGLEVBQUksQ0FBRTFNLEtBQU1zN0YsRUFBSyxHQUFJLE1BQVNBLEVBQUssR0FBSSxPQUFVQSxFQUFLLElBQXdCLG1CQUFYbmpGLFNBQTBCekwsRUFBRXlMLE9BQU95OUUsVUFBWSxXQUFhLE9BQU9odkYsSUFBTSxHQUFJOEYsRUFDdkosU0FBUzR1RixFQUFLdDNGLEdBQUssT0FBTyxTQUFVK00sR0FBSyxPQUN6QyxTQUFjd3FGLEdBQ1YsR0FBSVAsRUFBSyxNQUFNLElBQUl4eUYsVUFBVSxtQ0FDN0IsS0FBT3l5RixHQUFLLElBQ1IsR0FBSUQsRUFBSSxFQUFHeDdGLElBQU04UCxFQUFZLEVBQVJpc0YsRUFBRyxHQUFTLzdGLEVBQVUsT0FBSSs3RixFQUFHLEdBQUsvN0YsRUFBUyxTQUFPOFAsRUFBSTlQLEVBQVUsU0FBTThQLEVBQUVqRyxLQUFLN0osR0FBSSxHQUFLQSxFQUFFUSxTQUFXc1AsRUFBSUEsRUFBRWpHLEtBQUs3SixFQUFHKzdGLEVBQUcsS0FBS3ZoRixLQUFRLE9BQU8xSyxFQUU3SixPQURJOVAsRUFBSSxFQUFHOFAsSUFBS2lzRixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFRanNGLEVBQUV0QixRQUMzQnV0RixFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBR2pzRixFQUFJaXNGLEVBQUksTUFDeEIsS0FBSyxFQUFjLE9BQVhOLEVBQUVDLFFBQWdCLENBQUVsdEYsTUFBT3V0RixFQUFHLEdBQUl2aEYsTUFBTSxHQUNoRCxLQUFLLEVBQUdpaEYsRUFBRUMsUUFBUzE3RixFQUFJKzdGLEVBQUcsR0FBSUEsRUFBSyxDQUFDLEdBQUksU0FDeEMsS0FBSyxFQUFHQSxFQUFLTixFQUFFSSxJQUFJeGtGLE1BQU9va0YsRUFBRUcsS0FBS3ZrRixNQUFPLFNBQ3hDLFFBQ0ksTUFBa0J2SCxHQUFaQSxFQUFJMnJGLEVBQUVHLE1BQVl6N0YsT0FBUyxHQUFLMlAsRUFBRUEsRUFBRTNQLE9BQVMsS0FBa0IsSUFBVjQ3RixFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFTixFQUFJLEVBQUcsUUFBVSxDQUMzRyxHQUFjLElBQVZNLEVBQUcsTUFBY2pzRixHQUFNaXNGLEVBQUcsR0FBS2pzRixFQUFFLElBQU1pc0YsRUFBRyxHQUFLanNGLEVBQUUsSUFBTSxDQUFFMnJGLEVBQUVDLE1BQVFLLEVBQUcsR0FBSSxLQUFPLENBQ3JGLEdBQWMsSUFBVkEsRUFBRyxJQUFZTixFQUFFQyxNQUFRNXJGLEVBQUUsR0FBSSxDQUFFMnJGLEVBQUVDLE1BQVE1ckYsRUFBRSxHQUFJQSxFQUFJaXNGLEVBQUksS0FBTyxDQUNwRSxHQUFJanNGLEdBQUsyckYsRUFBRUMsTUFBUTVyRixFQUFFLEdBQUksQ0FBRTJyRixFQUFFQyxNQUFRNXJGLEVBQUUsR0FBSTJyRixFQUFFSSxJQUFJOTZGLEtBQUtnN0YsR0FBSyxLQUFPLENBQzlEanNGLEVBQUUsSUFBTTJyRixFQUFFSSxJQUFJeGtGLE1BQ2xCb2tGLEVBQUVHLEtBQUt2a0YsTUFBTyxTQUV0QjBrRixFQUFLdmMsRUFBSzMxRSxLQUFLd1EsRUFBU29oRixFQUM2QixDQUF2RCxNQUFPOTRGLEdBQUtvNUYsRUFBSyxDQUFDLEVBQUdwNUYsR0FBSTNDLEVBQUksQ0FBRyxDQUFFLFFBQVV3N0YsRUFBSTFyRixFQUFJLENBQUcsQ0FDekQsR0FBWSxFQUFSaXNGLEVBQUcsR0FBVSxNQUFNQSxFQUFHLEdBQU0sTUFBTyxDQUFFdnRGLE1BQU91dEYsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUXZoRixNQUFNLEVBQ2xGLENBdEJnRHdoRixDQUFLLENBQUN4M0YsRUFBRytNLEdBQUssQ0FBRyxDQXVCckUsQ0E0RG1CMHFGLENBQVk3MEYsTUFBTSxTQUFVMFgsR0FDL0IsT0FBUUEsRUFBRzQ4RSxPQUNQLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYXo4RSxNQUFNN1gsS0FBSzByRixTQUN4QyxLQUFLLEVBRUQsTUFBTyxDQUFDLEVBREdoMEUsRUFBRzY4RSxPQUNnQjNpRCxRQUNsQyxLQUFLLEVBRUQsTUFBTyxDQUFDLEVBRERsNkIsRUFBRzY4RSxPQUNnQkosZUFDOUIsS0FBSyxFQU9ELE9BTkFBLEVBQWN6OEUsRUFBRzY4RSxPQUNqQnYwRixLQUFLNUgsS0FBTyxJQUFJc2UsWUFBWXk5RSxHQUM1Qm4wRixLQUFLaXRCLE9BQVMsSUFBSW1qRCxHQUFlK2pCLEdBQ2pDbjBGLEtBQUs4USxRQUFTLEVBQ2Q5USxLQUFLK3pGLGFBQWFJLEdBQ2xCbjBGLEtBQUs2bkMsU0FDRSxDQUFDLEVBQWM3bkMsTUFFbEMsR0FDSixFQWpIRyxLQUY2QjgwRixFQThGRDFnRixXQTVGakIwZ0YsRUFBSTFnRixXQUFVLFNBQVVySSxFQUFTNkcsR0FDL0MsU0FBU21pRixFQUFVM3RGLEdBQVMsSUFBTXd0RixFQUFLVixFQUFVOTZGLEtBQUtnTyxHQUFrQyxDQUF2QixNQUFPN0wsR0FBS3FYLEVBQU9yWCxFQUFJLENBQUUsQ0FDMUYsU0FBU3k1RixFQUFTNXRGLEdBQVMsSUFBTXd0RixFQUFLVixFQUFpQixNQUFFOXNGLEdBQWtDLENBQXZCLE1BQU83TCxHQUFLcVgsRUFBT3JYLEVBQUksQ0FBRSxDQUM3RixTQUFTcTVGLEVBQUtuMEYsR0FKbEIsSUFBZTJHLEVBSWEzRyxFQUFPMlMsS0FBT3JILEVBQVF0TCxFQUFPMkcsUUFKMUNBLEVBSXlEM0csRUFBTzJHLE1BSmhEQSxhQUFpQjB0RixFQUFJMXRGLEVBQVEsSUFBSTB0RixHQUFFLFNBQVUvb0YsR0FBV0EsRUFBUTNFLEVBQVEsS0FJakIyTCxLQUFLZ2lGLEVBQVdDLEVBQVcsQ0FDN0dKLEdBQU1WLEVBQVlBLEVBQVV0d0YsTUFBTXFQLEVBQVNnaEYsR0FBYyxLQUFLNzZGLE9BQ2xFLElBUEosSUFBbUI2WixFQUFTZ2hGLEVBQVlhLEVBQUdaLENBb0h2QyxFQUNPSixDQUNYLENBMUVpQyxDQTBFL0JscEQsSUFrREVxcUQsR0FBMkMsU0FBVS8yRCxHQVlyRCxTQUFTKzJELEVBQTBCNXZGLEVBQVF5RSxHQUN2QyxJQUFJcTBCLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU1xRixFQUFReUUsSUFBWTlKLEtBWWxELE9BWEFtK0IsRUFBTWx5QixPQUFTbkMsRUFBUW1DLE9BQ3ZCa3lCLEVBQU0rMkQsT0FBU3ByRixFQUFRb3JGLFFBQVUsRUFDakMvMkQsRUFBTWlHLE9BQVN0NkIsRUFBUWtOLE1BQ3ZCbW5CLEVBQU1rRyxRQUFVdjZCLEVBQVFtTixPQUN4QmtuQixFQUFNd00sV0FBYXNxRCxFQUEwQkUsbUJBQW1CaDNELEVBQU1seUIsU0FDbEVuQyxFQUFRc3JGLGNBQWdCajNELEVBQU1sUixVQUU5QmtSLEVBQU1rM0QsY0FBZ0J2ckYsRUFBUXNyRixjQUN2QkgsRUFBMEJLLG9CQUFvQmp3RixhQUFrQnVSLFdBQWF2UixFQUFTODRCLEVBQU1sUixPQUFPc29FLFVBQVdwM0QsRUFBTWx5QixPQUFRa3lCLEVBQU0rMkQsT0FBUSxFQUFHLEVBQ2hKLzJELEVBQU1ubkIsTUFBT21uQixFQUFNbG5CLFNBRXBCa25CLENBQ1gsQ0F3RkEsT0FqSEEsR0FBVTgyRCxFQUEyQi8yRCxHQWdDckMrMkQsRUFBMEJoMEYsVUFBVTRwQyxPQUFTLFNBQVV4SCxFQUFVaWYsRUFBVTlYLEdBQ3ZFLElBQUk3cEIsRUFBSzBpQixFQUFTMWlCLEdBRWxCLElBRGdCMGlCLEVBQVM5aEMsUUFBUXVqQyxXQUFXOWtDLEtBQUsycUMsWUFFN0MsTUFBTSxJQUFJbmUsTUFBTXhzQixLQUFLMnFDLFdBQWEsc0RBRXRDLElBQUszcUMsS0FBS3ExRixjQUVOLE9BQU8sRUFFWCxJQUFLLElBQUkvN0YsRUFBSSxFQUFHNEcsRUFBSUYsS0FBS2sxRixPQUFRNTdGLEVBQUk0RyxFQUFHNUcsSUFBSyxDQUN6QyxJQUFJb2UsRUFBSzFYLEtBQUtxMUYsY0FBYy83RixHQUFJazhGLEVBQVU5OUUsRUFBRzg5RSxRQUFTQyxFQUFhLzlFLEVBQUcrOUUsV0FBWUMsRUFBY2grRSxFQUFHZytFLFlBQWFDLEVBQWNqK0UsRUFBR2krRSxZQUNqSWgxRSxFQUFHaTFFLHFCQUFxQmoxRSxFQUFHNHJCLFdBQVlpcEQsRUFBU3gxRixLQUFLaU0sT0FBUXdwRixFQUFZQyxFQUFhLEVBQUdDLEVBQzdGLENBQ0EsT0FBTyxDQUNYLEVBRUFWLEVBQTBCaDBGLFVBQVU4eUYsYUFBZSxXQUMvQy96RixLQUFLcTFGLGNBQWdCSixFQUEwQkssb0JBQW9CdDFGLEtBQUtpdEIsT0FBT3NvRSxVQUFXdjFGLEtBQUtpTSxPQUFRak0sS0FBS2sxRixPQUFRLEVBQUcsRUFDdkhsMUYsS0FBS2dYLE1BQU9oWCxLQUFLaVgsT0FDckIsRUFNQWcrRSxFQUEwQkUsbUJBQXFCLFNBQVVscEYsR0FDckQsR0FBSUEsR0FBVSxPQUFVQSxHQUFVLE1BQzlCLE1BQU8sT0FFTixHQUFJQSxHQUFVLE9BQVVBLEdBQVUsTUFDbkMsTUFBTyxNQUVOLEdBQUlBLEdBQVUsT0FBVUEsR0FBVSxNQUNuQyxNQUFPLFFBRU4sR0FBSUEsR0FBVSxNQUNmLE1BQU8sT0FFTixHQUFJQSxHQUFVLE9BQVVBLEdBQVUsTUFDbkMsTUFBTyxNQUVYLE1BQU0sSUFBSXVnQixNQUFNLDZDQUNwQixFQVlBeW9FLEVBQTBCSyxvQkFBc0IsU0FBVXJvRSxFQUFRaGhCLEVBQVFpcEYsRUFBUVcsRUFBWUMsRUFBYUMsRUFBWUMsR0FTbkgsSUFQQSxJQUFJOTVDLEVBQVUsSUFBSWo1QyxNQUFNaXlGLEdBQ3BCejNDLEVBQVN4d0IsRUFBT2dwRSxXQUNoQlIsRUFBYU0sRUFDYkwsRUFBY00sRUFDZEUsRUFBcUJULEVBQWFJLEVBQWEsSUFBT0EsRUFBYSxHQUNuRU0sRUFBc0JULEVBQWNJLEVBQWMsSUFBT0EsRUFBYyxHQUN2RU0sRUFBWUYsRUFBb0JDLEVBQXFCbkUsR0FBbUMvbEYsR0FDbkYzUyxFQUFJLEVBQUdBLEVBQUk0N0YsRUFBUTU3RixJQUN4QjRpRCxFQUFRNWlELEdBQUssQ0FDVGs4RixRQUFTbDhGLEVBQ1RtOEYsV0FBWVAsRUFBUyxFQUFJTyxFQUFhUyxFQUN0Q1IsWUFBYVIsRUFBUyxFQUFJUSxFQUFjUyxFQUN4Q1IsWUFBYSxJQUFJLytFLFdBQVdxVyxFQUFPQSxPQUFRd3dCLEVBQVEyNEMsSUFFdkQzNEMsR0FBVTI0QyxFQU1WQSxHQUZBRixHQUZBVCxFQUFjQSxHQUFjLEdBQU0sR0FFQUksRUFBYSxJQUFPQSxFQUFhLEtBQ25FTSxHQUZBVCxFQUFlQSxHQUFlLEdBQU0sR0FFQUksRUFBYyxJQUFPQSxFQUFjLElBQ2xCOUQsR0FBbUMvbEYsR0FFNUYsT0FBT2l3QyxDQUNYLEVBQ08rNEMsQ0FDWCxDQW5IOEMsQ0FtSDVDbkIsSUFTRXVDLEdBQXlDLFdBQ3pDLFNBQVNBLElBQ1QsQ0EwSUEsT0E1R0FBLEVBQXdCdEcsSUFBTSxTQUFVamtELEVBQVUxeUMsR0FDOUMsSUFBSWhCLEVBQU8wekMsRUFBUzF6QyxLQUVwQixHQUFJMHpDLEVBQVNsbEMsT0FBU28vRSxHQUFlb0IsS0FBS25xRSxNQUNuQzdrQixHQUNBQSxFQUFLaytGLFNBQ0xsK0YsRUFBSzZpRCxTQUFVLENBS2xCLElBSkEsSUFBSUEsRUFBVzdpRCxFQUFLNmlELFNBQ2hCczdDLE9BQWEsRUFDYkMsT0FBYyxFQUVUbDlGLEVBQUksRUFBRzRHLEVBQUkrNkMsRUFBU2xpRCxPQUFRTyxFQUFJNEcsRUFBRzVHLElBQUssQ0FDN0MsSUFBSTQxQyxFQUFVK0wsRUFBUzNoRCxHQUNuQm05RixFQUFRdm5ELEVBQVE4QixJQUNoQi9rQyxFQUFTaWpDLEVBQVFqakMsT0FJckIsR0FIS0EsSUFDRHVxRixFQUFjQyxHQUVkSixFQUF3QkssZUFBZXpxRixHQUFTLENBQ2hEc3FGLEVBQWFFLEVBQ2IsS0FDSixDQUNKLENBR0EsS0FGQUYsRUFBYUEsR0FBY0MsR0FJdkIsWUFEQXA5RixFQUFLLElBQUlvekIsTUFBTSxzQ0FBd0NzZixFQUFTLytCLElBQU0sdUNBRzFFLEdBQUl3cEYsSUFBZXpxRCxFQUFTLytCLElBR3hCLFlBREEzVCxFQUFLLElBQUlvekIsTUFBTSx1RUFHbkIsSUFBSW1xRSxFQUFjLENBQ2QvbUQsWUFBYTlELEVBQVM4RCxZQUN0QmhMLFNBQVVrSCxFQUFTbEgsU0FBU2d5RCxjQUM1QjNHLGVBQWdCbmtELEdBRWhCK3FELEVBQWUsV0FBWS9xRCxFQUFTLytCLElBQUk3RixRQXJDbkNsSCxLQXFDa0QrZCxRQUFTLElBQUt3NEUsR0FDckVPLEVBQWUxK0YsRUFBS2srRixRQXRDZnQyRixLQXdDRjg1QixJQUFJZzlELEVBQWNELEVBQWNGLEdBQWEsU0FBVTlpRixHQUMxRCxHQUFJQSxFQUFJbE4sTUFDSnZOLEVBQUt5YSxFQUFJbE4sV0FEYixDQUlBLElBQUkrUSxFQUFLN0QsRUFBSXE3QixRQUFTQSxPQUFpQixJQUFQeDNCLEVBQWdCLEtBQU9BLEVBQUl5dEIsRUFBS3R4QixFQUFJb25DLFNBQVVBLE9BQWtCLElBQVA5VixFQUFnQixDQUFDLEVBQUlBLEVBRTlHbmtDLE9BQU9xRCxPQUFPeW5DLEVBQVUsQ0FBRW9ELFFBQVNBLEVBQVMrTCxTQUFVQSxJQUV0RDdoRCxHQUxBLENBTUosR0FDSixNQUVJQSxHQUVSLEVBQ0E0SCxPQUFPa1EsZUFBZW1sRixFQUF5QixvQkFBcUIsQ0FFaEVqbEYsSUFBSyxXQUNELElBQUtpbEYsRUFBd0JVLG1CQUFvQixDQUU3QyxJQUNJcDJFLEVBRFNsRyxHQUFTQyxRQUFRM0QsZUFDZDZKLFdBQVcsU0FDM0IsSUFBS0QsRUFFRCxPQURBek0sUUFBUUMsS0FBSyxrRUFDTixDQUFDLEVBRVosSUFBSTJ3QixFQUFhLENBQ2JnZ0IsS0FBTW5rQyxFQUFHSyxhQUFhLGlDQUN0QitqQyxVQUFXcGtDLEVBQUdLLGFBQWEsc0NBQzNCZ2tDLElBQUtya0MsRUFBR0ssYUFBYSxnQ0FDckJpa0MsS0FBTXRrQyxFQUFHSyxhQUFhLGlDQUN0QmtrQyxNQUFPdmtDLEVBQUdLLGFBQWEsbUNBQ2hCTCxFQUFHSyxhQUFhLHlDQUN2Qm1rQyxJQUFLeGtDLEVBQUdLLGFBQWEsZ0NBQ3JCb2tDLEtBQU16a0MsRUFBR0ssYUFBYSxrQ0FFMUJxMUUsRUFBd0JVLG1CQUFxQmp5RCxDQUNqRCxDQUNBLE9BQU91eEQsRUFBd0JVLGtCQUNuQyxFQUNBNWxGLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVtbEYsRUFBeUIsaUJBQWtCLENBRTdEamxGLElBQUssV0FDRCxJQUFLaWxGLEVBQXdCVyxnQkFBaUIsQ0FDMUMsSUFBSWx5RCxFQUFhdXhELEVBQXdCWSxrQkFHekMsSUFBSyxJQUFJQyxLQUZUYixFQUF3QlcsZ0JBQWtCLENBQUMsRUFFakJseUQsRUFBWSxDQUNsQyxJQUFJSCxFQUFZRyxFQUFXb3lELEdBQ3RCdnlELEdBR0wzakMsT0FBT3FELE9BQU9neUYsRUFBd0JXLGdCQUFpQmgyRixPQUFPbTJGLGVBQWV4eUQsR0FDakYsQ0FDSixDQUNBLE9BQU8weEQsRUFBd0JXLGVBQ25DLEVBQ0E3bEYsWUFBWSxFQUNaZ2UsY0FBYyxJQUdsQmtuRSxFQUF3QjF4RCxVQUFZSixHQUFjbUIsT0FDM0Myd0QsQ0FDWCxDQTdJNEMsR0F1SjVDLFNBQVNlLEdBQTJCcnFGLEVBQUs0aEMsRUFBVy9KLEdBQ2hELElBQUlua0MsRUFBUyxDQUNUdzZDLFNBQVUsQ0FBQyxFQUNYL0wsUUFBUyxNQUViLE9BQUtQLEdBR1VBLEVBQVVocUMsS0FBSSxTQUFVbW5DLEdBQ25DLE9BQU8sSUFBS2tNLEdBQVEsSUFBSW5NLEdBQVlDLEVBQVU5cUMsT0FBT3FELE9BQU8sQ0FDeEQwbkMsT0FBUTEyQixFQUFhZ2hDLElBQ3JCcEwsVUFBVzMxQixFQUFZK2hGLHdCQUN4Qnp5RCxJQUNQLElBQ1M3L0IsU0FBUSxTQUFVbXFDLEVBQVM1MUMsR0FDaEMsSUFBSTZ3QyxFQUFjK0UsRUFBUS9FLFlBQ3RCbXNELEVBQVV2cEYsRUFBTSxLQUFPelQsRUFBSSxHQUMvQnV5QyxHQUFZb0MsV0FBVzlELEVBQWFtc0QsR0FDcEN0K0MsR0FBUS9KLFdBQVdpQixFQUFTb25ELEdBQ2xCLElBQU5oOUYsSUFDQXV5QyxHQUFZb0MsV0FBVzlELEVBQWFwOUIsR0FDcENpckMsR0FBUS9KLFdBQVdpQixFQUFTbmlDLEdBQzVCdE0sRUFBT3l1QyxRQUFVQSxHQUVyQnp1QyxFQUFPdzZDLFNBQVNxN0MsR0FBV3BuRCxDQUMvQixJQUNPenVDLEdBcEJJQSxDQXFCZixDQUdBLElBaURJNjJGLEdBaUlBQyxJQWhJSixTQUFXRCxHQUNQQSxFQUFZQSxFQUFpQyxvQkFBSSxHQUFLLHNCQUN0REEsRUFBWUEsRUFBK0Msa0NBQUksR0FBSyxvQ0FDcEVBLEVBQVlBLEVBQTRDLCtCQUFJLEdBQUssaUNBQ2pFQSxFQUFZQSxFQUEyQyw4QkFBSSxHQUFLLGdDQUNoRUEsRUFBWUEsRUFBMkMsOEJBQUksR0FBSyxnQ0FDaEVBLEVBQVlBLEVBQTRDLCtCQUFJLEdBQUssaUNBQ2pFQSxFQUFZQSxFQUF5Qyw0QkFBSSxHQUFLLDhCQUM5REEsRUFBWUEsRUFBd0MsMkJBQUksR0FBSyw2QkFDN0RBLEVBQVlBLEVBQXdDLDJCQUFJLEdBQUssNkJBQzdEQSxFQUFZQSxFQUErQyxrQ0FBSSxHQUFLLG9DQUNwRUEsRUFBWUEsRUFBNEMsK0JBQUksSUFBTSxpQ0FDbEVBLEVBQVlBLEVBQTRDLCtCQUFJLElBQU0saUNBQ2xFQSxFQUFZQSxFQUEyQyw4QkFBSSxJQUFNLGdDQUNqRUEsRUFBWUEsRUFBNEMsK0JBQUksSUFBTSxpQ0FDbEVBLEVBQVlBLEVBQTJDLDhCQUFJLElBQU0sZ0NBQ2pFQSxFQUFZQSxFQUF5Qyw0QkFBSSxJQUFNLDhCQUMvREEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQXFDLHdCQUFJLElBQU0sMEJBQzNEQSxFQUFZQSxFQUFxQyx3QkFBSSxJQUFNLDBCQUMzREEsRUFBWUEsRUFBMkMsOEJBQUksSUFBTSxnQ0FDakVBLEVBQVlBLEVBQThDLGlDQUFJLElBQU0sbUNBQ3BFQSxFQUFZQSxFQUFrRCxxQ0FBSSxJQUFNLHVDQUN4RUEsRUFBWUEsRUFBaUQsb0NBQUksSUFBTSxzQ0FDdkVBLEVBQVlBLEVBQThDLGlDQUFJLElBQU0sbUNBQ3BFQSxFQUFZQSxFQUEyQyw4QkFBSSxJQUFNLGdDQUNqRUEsRUFBWUEsRUFBMEMsNkJBQUksSUFBTSwrQkFDaEVBLEVBQVlBLEVBQXlDLDRCQUFJLElBQU0sOEJBQy9EQSxFQUFZQSxFQUEyQyw4QkFBSSxJQUFNLGdDQUNqRUEsRUFBWUEsRUFBd0MsMkJBQUksSUFBTSw2QkFDOURBLEVBQVlBLEVBQTZDLGdDQUFJLElBQU0sa0NBQ25FQSxFQUFZQSxFQUF1QywwQkFBSSxJQUFNLDRCQUM3REEsRUFBWUEsRUFBd0MsMkJBQUksSUFBTSw2QkFDOURBLEVBQVlBLEVBQXVDLDBCQUFJLElBQU0sNEJBQzdEQSxFQUFZQSxFQUF5Qyw0QkFBSSxJQUFNLDhCQUMvREEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQXNDLHlCQUFJLElBQU0sMkJBQzVEQSxFQUFZQSxFQUFxQyx3QkFBSSxJQUFNLDBCQUMzREEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQXFDLHdCQUFJLElBQU0sMEJBQzNEQSxFQUFZQSxFQUFzQyx5QkFBSSxJQUFNLDJCQUM1REEsRUFBWUEsRUFBbUMsc0JBQUksSUFBTSx3QkFDekRBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUFrQyxxQkFBSSxJQUFNLHVCQUN4REEsRUFBWUEsRUFBa0MscUJBQUksSUFBTSx1QkFDeERBLEVBQVlBLEVBQXdDLDJCQUFJLElBQU0sNkJBQzlEQSxFQUFZQSxFQUEyQyw4QkFBSSxJQUFNLGdDQUNqRUEsRUFBWUEsRUFBK0Msa0NBQUksSUFBTSxvQ0FDckVBLEVBQVlBLEVBQThDLGlDQUFJLElBQU0sbUNBQ3BFQSxFQUFZQSxFQUF1QywwQkFBSSxJQUFNLDRCQUM3REEsRUFBWUEsRUFBb0MsdUJBQUksSUFBTSx5QkFDMURBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUFvQyx1QkFBSSxJQUFNLHlCQUMxREEsRUFBWUEsRUFBbUMsc0JBQUksSUFBTSx3QkFDekRBLEVBQVlBLEVBQXNDLHlCQUFJLElBQU0sMkJBQzVEQSxFQUFZQSxFQUFtQyxzQkFBSSxJQUFNLHdCQUN6REEsRUFBWUEsRUFBbUMsc0JBQUksSUFBTSx3QkFDekRBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUFrQyxxQkFBSSxJQUFNLHVCQUN4REEsRUFBWUEsRUFBbUMsc0JBQUksSUFBTSx3QkFDekRBLEVBQVlBLEVBQWtDLHFCQUFJLElBQU0sdUJBQ3hEQSxFQUFZQSxFQUFxQyx3QkFBSSxJQUFNLDBCQUMzREEsRUFBWUEsRUFBa0MscUJBQUksSUFBTSx1QkFDeERBLEVBQVlBLEVBQWlDLG9CQUFJLElBQU0sc0JBQ3ZEQSxFQUFZQSxFQUFrQyxxQkFBSSxJQUFNLHVCQUN4REEsRUFBWUEsRUFBaUMsb0JBQUksSUFBTSxzQkFDdkRBLEVBQVlBLEVBQWtDLHFCQUFJLElBQU0sdUJBQ3hEQSxFQUFZQSxFQUFrQyxxQkFBSSxJQUFNLHVCQUN4REEsRUFBWUEsRUFBNEMsK0JBQUksSUFBTSxpQ0FDbEVBLEVBQVlBLEVBQXlDLDRCQUFJLElBQU0sOEJBQy9EQSxFQUFZQSxFQUF5Qyw0QkFBSSxJQUFNLDhCQUMvREEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUF3QywyQkFBSSxJQUFNLDZCQUM5REEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUF3QywyQkFBSSxJQUFNLDZCQUM5REEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUF3QywyQkFBSSxJQUFNLDZCQUM5REEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUFtQyxzQkFBSSxJQUFNLHdCQUN6REEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUFtQyxzQkFBSSxJQUFNLHdCQUN6REEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQXdDLDJCQUFJLElBQU0sNkJBQzlEQSxFQUFZQSxFQUF3QywyQkFBSSxJQUFNLDZCQUM5REEsRUFBWUEsRUFBd0MsMkJBQUksSUFBTSw2QkFDOURBLEVBQVlBLEVBQW9ELHVDQUFJLElBQU0seUNBQzFFQSxFQUFZQSxFQUEyQyw4QkFBSSxJQUFNLGdDQUNqRUEsRUFBWUEsRUFBNkMsZ0NBQUksSUFBTSxrQ0FDbkVBLEVBQVlBLEVBQTJDLDhCQUFJLElBQU0sZ0NBQ2pFQSxFQUFZQSxFQUE2QyxnQ0FBSSxJQUFNLGtDQUNuRUEsRUFBWUEsRUFBdUMsMEJBQUksSUFBTSw0QkFDN0RBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUFtQyxzQkFBSSxJQUFNLHdCQUN6REEsRUFBWUEsRUFBc0MseUJBQUksSUFBTSwyQkFDNURBLEVBQVlBLEVBQW1DLHNCQUFJLElBQU0sd0JBQ3pEQSxFQUFZQSxFQUF3QywyQkFBSSxJQUFNLDZCQUM5REEsRUFBWUEsRUFBOEIsaUJBQUksS0FBTyxtQkFDckRBLEVBQVlBLEVBQThCLGlCQUFJLEtBQU8sbUJBQ3JEQSxFQUFZQSxFQUE4QixpQkFBSSxLQUFPLG1CQUNyREEsRUFBWUEsRUFBOEIsaUJBQUksS0FBTyxtQkFDckRBLEVBQVlBLEVBQThCLGlCQUFJLEtBQU8sbUJBQ3JEQSxFQUFZQSxFQUE4QixpQkFBSSxLQUFPLG1CQUNyREEsRUFBWUEsRUFBb0MsdUJBQUksS0FBTyx5QkFDM0RBLEVBQVlBLEVBQThCLGlCQUFJLEtBQU8sbUJBQ3JEQSxFQUFZQSxFQUE4QixpQkFBSSxLQUFPLG1CQUNyREEsRUFBWUEsRUFBOEIsaUJBQUksS0FBTyxtQkFDckRBLEVBQVlBLEVBQThCLGlCQUFJLEtBQU8sbUJBQ3JEQSxFQUFZQSxFQUE4QixpQkFBSSxLQUFPLG1CQUNyREEsRUFBWUEsRUFBOEIsaUJBQUksS0FBTyxtQkFDckRBLEVBQVlBLEVBQTRCLGVBQUksS0FBTyxpQkFDbkRBLEVBQVlBLEVBQThCLGlCQUFJLEtBQU8sbUJBQ3JEQSxFQUFZQSxFQUF3QywyQkFBSSxLQUFPLDZCQUMvREEsRUFBWUEsRUFBOEIsaUJBQUksS0FBTyxtQkFDckRBLEVBQVlBLEVBQThCLGlCQUFJLEtBQU8sbUJBQ3JEQSxFQUFZQSxFQUE4QixpQkFBSSxLQUFPLG1CQUNyREEsRUFBWUEsRUFBeUQsNENBQUksS0FBTyw4Q0FDaEZBLEVBQVlBLEVBQWlFLG9EQUFJLEtBQU8sc0RBQ3hGQSxFQUFZQSxFQUFvQyx1QkFBSSxLQUFPLHdCQUM5RCxDQTNIRCxDQTJIR0EsS0FBZ0JBLEdBQWMsQ0FBQyxJQU1sQyxTQUFXQyxHQUNQQSxFQUF5QkEsRUFBa0Qsd0JBQUksR0FBSywwQkFDcEZBLEVBQXlCQSxFQUFrRCx3QkFBSSxHQUFLLDBCQUNwRkEsRUFBeUJBLEVBQWtELHdCQUFJLEdBQUsseUJBQ3ZGLENBSkQsQ0FJR0EsS0FBNkJBLEdBQTJCLENBQUMsSUFDNUQsSUE2Skk3L0UsR0FBSXl0QixHQUFJNC9CLEdBM0lSeXlCLEtBQW9CNUQsR0FBTyxDQUFDLEdBVmQsV0FXTTlCLEdBQWlCSSw4QkFDckMwQixHQVhjLFdBV005QixHQUFpQkssOEJBQ3JDeUIsR0FYYyxXQVdNOUIsR0FBaUJNLDhCQUNyQ3dCLElBS0E2RCxLQUFrQjVELEdBQU8sQ0FBQyxHQUVyQnlELEdBQVlJLDBCQUE0QjVGLEdBQWlCSSw4QkFDOUQyQixHQUFLeUQsR0FBWUssdUJBQXlCN0YsR0FBaUJJLDhCQUMzRDJCLEdBQUt5RCxHQUFZTSwwQkFBNEI5RixHQUFpQkssOEJBQzlEMEIsR0FBS3lELEdBQVlPLHVCQUF5Qi9GLEdBQWlCSyw4QkFDM0QwQixHQUFLeUQsR0FBWVEsMEJBQTRCaEcsR0FBaUJNLDhCQUM5RHlCLEdBQUt5RCxHQUFZUyx1QkFBeUJqRyxHQUFpQk0sOEJBRTNEeUIsR0FBS3lELEdBQVlVLDRCQUE4QmxHLEdBQWlCUSxvQ0FDaEV1QixHQUFLeUQsR0FBWVcsNEJBQThCbkcsR0FBaUJTLG9DQUNoRXNCLEdBQUt5RCxHQUFZWSw0QkFBOEJwRyxHQUFpQlUsb0NBQ2hFcUIsSUFXSixTQUFTc0UsR0FBU2hFLEdBQ2QsSUFBSS83RixFQUFPLElBQUlzZSxZQUFZeTlFLEdBRTNCLEdBeE9ZLFlBdU9JLzdGLEVBQUssR0FFakIsTUFBTSxJQUFJbzBCLE1BQU0sK0JBRXBCLElBQUk0ckUsRUFBUyxJQUFJMWhGLFlBQVl5OUUsRUFBYSxFQS9PeEIsSUErTzZDejlFLFlBQVlnVyxtQkFFdkV6VixFQUFTbWhGLEVBck9MLEdBc09KcGhGLEVBQVFvaEYsRUFyT0wsR0FzT0hDLEVBQWNELEVBck9KLEdBdU9WRSxFQUFjLElBQUk1aEYsWUFBWXk5RSxFQXRPcEIsR0FzTzJEejlFLFlBQVlnVyxrQkFwUGhFLEdBb1B3R2hXLFlBQVlnVyxtQkFDckk2ckUsRUFBY0QsRUEvRFAsR0FpRVgsR0E5RGMsRUE4RFZDLEVBQTJCLENBQzNCLElBQUlDLEVBQVNGLEVBak9ULEdBbU9KLEdBekRVLFlBeURORSxFQUF3QixDQUN4QixJQUFJQyxFQUFtQmpCLEdBQWlCZ0IsR0FFcENFLEVBQVUsSUFBSTloRixXQUFXdTlFLEVBRFZ3RSxLQVFuQixNQUFPLENBTlEsSUFBSTFELEdBQTBCeUQsRUFBUyxDQUNsRHpzRixPQUFRd3NGLEVBQ1J6aEYsTUFBT0EsRUFDUEMsT0FBUUEsRUFDUmkrRSxPQUFRbUQsSUFHaEIsQ0FFQSxJQUNJTyxFQUFhLElBQUlsaUYsWUFBWXRlLEVBQUs2MEIsT0FEckIwckUsSUF0UUUsR0F1UThEamlGLFlBQVlnVyxtQkFDekZtc0UsRUFBYUQsRUF0T1IsR0F1T0xFLEVBQW9CRixFQXRPUixHQXVPWkcsRUFBV0gsRUF0T1IsR0F1T0hJLEVBQVlKLEVBdE9SLEdBd09KSyxFQUFtQnhCLEdBQWVvQixHQUN0QyxRQUF5QmwxRixJQUFyQnMxRixFQUNBLE1BQU0sSUFBSXpzRSxNQUFNLHdEQUEwRHFzRSxHQUU5RSxHQS9FNEIsSUErRXhCRSxFQUVBLE1BQU0sSUFBSXZzRSxNQUFNLCtDQUVwQixHQUFJc3NFLElBQXNCdkIsR0FBeUIyQix3QkFFL0MsTUFBTSxJQUFJMXNFLE1BQU0sZ0RBR3BCLElBQUkyc0UsRUFBZSxJQUFJbDJGLE1BSXZCLEdBQWtCLElBQWQrMUYsRUFFQUcsRUFBYXgvRixLQUFLLElBQUlpZCxXQUFXdTlFLEVBTHBCd0UsVUFPWixDQU1ELElBSkEsSUFBSVMsRUFBWXBILEdBQW1DaUgsR0FDL0NJLEVBQVksRUFDWjVELEVBQWF6K0UsRUFDYjArRSxFQUFjeitFLEVBQ1QzZCxFQUFJLEVBQUdBLEVBQUkrK0YsRUFBYS8rRixJQUk3QisvRixHQUh3QnAvRixLQUFLQyxJQUFJLEVBQUl1N0YsRUFBYSxHQUFLLEdBQzlCeDdGLEtBQUtDLElBQUksRUFBSXc3RixFQUFjLEdBQUssR0FDQTBELEVBRXpEM0QsS0FBNEIsRUFDNUJDLEtBQThCLEVBRWxDLElBQUk0RCxFQXJCU1gsSUF1QmIsSUFBU3IvRixFQUFJLEVBQUdBLEVBQUkwL0YsRUFBVzEvRixJQUMzQjYvRixFQUFheC9GLEtBQUssSUFBSWlkLFdBQVd1OUUsRUFBYW1GLEVBQWFELElBQzNEQyxHQUFlRCxDQUV2QixDQUVBLE9BQU9GLEVBQWF4MEYsS0FBSSxTQUFVc29CLEdBQVUsT0FBTyxJQUFJZ29FLEdBQTBCaG9FLEVBQVEsQ0FDckZoaEIsT0FBUWd0RixFQUNSamlGLE1BQU9BLEVBQ1BDLE9BQVFBLEVBQ1JpK0UsT0FBUW1ELEdBQ1IsR0FDUixDQUNBLEdBdElXLEdBc0lQRSxFQUVBLE1BQU0sSUFBSS9yRSxNQUFNLHlEQUVwQixHQXpJVyxJQXlJUCtyRSxFQUVBLE1BQU0sSUFBSS9yRSxNQUFNLCtEQUVwQixHQTVJaUIsT0E0SWIrckUsRUFFQSxNQUFNLElBQUkvckUsTUFBTSx3RUFFcEIsR0FwSmEsRUFvSlQrckUsRUFFQSxNQUFNLElBQUkvckUsTUFBTSxtRUFFcEIsTUFBTSxJQUFJQSxNQUFNLG9FQUNwQixDQVFBLElBQUkrc0UsR0FBa0IsQ0FBQyxJQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLElBQU0sR0FBTSxHQUFNLEdBQU0sSUFvQ3JGQyxLQUFnQzloRixHQUFLLENBQUMsR0FDbkN6QyxFQUFNcTNCLGVBQWlCLEVBQzFCNTBCLEdBQUd6QyxFQUFNdWhDLGdCQUFrQixFQUMzQjkrQixHQUFHekMsRUFBTWs4QyxLQUFPLEVBQ2hCejVDLEdBQUd6QyxFQUFNaTRDLGNBQWdCLEVBQ3pCeDFDLEdBQUd6QyxFQUFNazVCLE9BQVMsRUFDbEJ6MkIsR0FBR3pDLEVBQU1vMEQsWUFBYyxFQUN2QjN4RCxJQUtBK2hGLEtBQXlCdDBELEdBQUssQ0FBQyxHQUM1QnB3QixFQUFRNDJCLE1BQVEsRUFDbkJ4RyxHQUFHcHdCLEVBQVFveEQsS0FBTyxFQUNsQmhoQyxHQUFHcHdCLEVBQVFzeEQsSUFBTSxFQUNqQmxoQyxHQUFHcHdCLEVBQVF3eEQsS0FBTyxFQUNsQnBoQyxHQUFHcHdCLEVBQVFteUQsV0FBYSxFQUN4Qi9oQyxHQUFHcHdCLEVBQVFveUQsaUJBQW1CLEVBQzlCaGlDLEdBQUdwd0IsRUFBUWt5RCxPQUFTLEVBQ3BCOWhDLElBS0F1MEQsS0FBNEIzMEIsR0FBSyxDQUFDLEdBQy9COXZELEVBQU0yMEQsd0JBQTBCLEVBQ25DN0UsR0FBRzl2RCxFQUFNNjBELHdCQUEwQixFQUNuQy9FLEdBQUc5dkQsRUFBTXkwRCxzQkFBd0IsRUFDakMzRSxJQUNKLFNBQVM0MEIsR0FBUzVzRixFQUFLb25GLEVBQWF5RixRQUNQLElBQXJCQSxJQUErQkEsR0FBbUIsR0FDdEQsSUFBSUMsRUFBVyxJQUFJQyxTQUFTM0YsR0FDNUIsSUE2SUosU0FBa0JwbkYsRUFBSzhzRixHQUduQixJQUFLLElBQUl2Z0csRUFBSSxFQUFHQSxFQUFJaWdHLEdBQWdCeGdHLE9BQVFPLElBQ3hDLEdBQUl1Z0csRUFBU0UsU0FBU3pnRyxLQUFPaWdHLEdBQWdCamdHLEdBRXpDLE9BREE0YSxRQUFRdk4sTUFBTW9HLEVBQU0sZ0NBQ2IsRUFHZixPQUFPLENBQ1gsQ0F2SlNpdEYsQ0FBU2p0RixFQUFLOHNGLEdBQ2YsT0FBTyxLQUVYLElBQUlJLEVBbEVTLFdBa0VNSixFQUFTSyxVQTNEaEIsSUEyRGlELEdBQ3pEanRDLEVBQVM0c0MsRUFBU0ssVUEzRGIsR0EyRDJDRCxHQUVoREUsRUFBV04sRUFBU0ssVUEzRGIsR0EyRDZDRCxHQUNwREcsRUFBbUJQLEVBQVNLLFVBM0RaLEdBMkRxREQsR0FDckVJLEVBQWFSLEVBQVNLLFVBMURiLEdBMEQrQ0QsR0FDeERLLEVBQWNULEVBQVNLLFVBMURiLEdBMERnREQsSUFBaUIsRUFDM0VNLEVBQWFWLEVBQVNLLFVBMURiLEdBMEQrQ0QsSUFBaUIsRUFDekVPLEVBQXdCWCxFQUFTSyxVQTFEWCxHQTBEMERELElBQWlCLEVBQ2pHUSxFQUFnQlosRUFBU0ssVUExRFosR0EwRGtERCxHQUMvRFMsRUFBdUJiLEVBQVNLLFVBMURYLEdBMER5REQsR0FDOUVVLEVBQXNCZCxFQUFTSyxVQTFEVixHQTBEd0RELEdBS2pGLEdBQW9CLElBQWhCSyxHQUFvQyxJQUFmQyxFQUNyQixNQUFNLElBQUkvdEUsTUFBTSxrQ0FFcEIsR0FBc0IsSUFBbEJpdUUsRUFDQSxNQUFNLElBQUlqdUUsTUFBTSxvREFFcEIsR0FBOEIsSUFBMUJndUUsRUFFQSxNQUFNLElBQUlodUUsTUFBTSx5Q0FHcEIsSUFVSW91RSxFQVJBQyxFQUFnQlIsRUFBYSxHQUFLLEVBQ2xDUyxFQUFpQlIsRUFBYyxHQUFLLEVBQ3BDbkIsRUFBZSxJQUFJbDJGLE1BQU11M0YsR0FDekJPLEVBQWNWLEVBQWFDLEVBa0IvQixHQWpCZSxJQUFYcnRDLElBRUE4dEMsRUFBY0YsRUFBZUMsUUFlTm4zRixLQVRuQmkzRixFQUhPLElBQVgzdEMsRUFFSXVzQyxHQUE2QnZzQyxHQUNSdXNDLEdBQTZCdnNDLEdBQVV3c0MsR0FBc0JVLEdBRzdEVCxHQUF5QnpzQyxHQUk3QitrQyxHQUFtQ29JLElBR3hELE1BQU0sSUFBSTV0RSxNQUFNLGdFQVlwQixJQVZBLElBQUl3dUUsRUFBU3BCLEVBeUdqQixTQUFxQkMsRUFBVWMsRUFBcUJWLEdBR2hELElBRkEsSUFBSWUsRUFBUyxJQUFJQyxJQUNiQyxFQUF3QixFQUNyQkEsRUFBd0JQLEdBQXFCLENBQ2hELElBQUlRLEVBQXNCdEIsRUFBU0ssVUEzTXBCLEdBMk1pRGdCLEVBQXVCakIsR0FDbkZtQixFQTVNVyxHQTRNZ0NGLEVBQXdCLEVBQ25FRyxFQUFlLEdBQU1GLEVBQXNCLEdBQUssRUFFcEQsR0FBNEIsSUFBeEJBLEdBQTZCQSxFQUFzQlIsRUFBc0JPLEVBQXVCLENBQ2hHaG5GLFFBQVF2TixNQUFNLGdEQUNkLEtBQ0osQ0FHQSxJQURBLElBQUkyMEYsRUFBYSxFQUNWQSxFQUFhSCxHQUM4QyxJQUExRHRCLEVBQVNFLFNBQVNxQixFQUF3QkUsR0FEVEEsS0FLekMsSUFBb0IsSUFBaEJBLEVBQW1CLENBQ25CcG5GLFFBQVF2TixNQUFNLDhEQUNkLEtBQ0osQ0FDQSxJQUFJakIsR0FBTSxJQUFJNjFGLGFBQWNwekYsT0FBTyxJQUFJeU8sV0FBV2lqRixFQUFTNXNFLE9BQVFtdUUsRUFBdUJFLElBQ3RGbDBGLEVBQVEsSUFBSTB5RixTQUFTRCxFQUFTNXNFLE9BQVFtdUUsRUFBd0JFLEVBQWEsRUFBR0gsRUFBc0JHLEVBQWEsR0FDckhOLEVBQU85ckUsSUFBSXhwQixFQUFLMEIsR0FJaEI4ekYsR0FBeUIsRUFBSUMsRUFBc0JFLENBQ3ZELENBQ0EsT0FBT0wsQ0FDWCxDQXhJVVEsQ0FBWTNCLEVBQVVjLEVBQXFCVixHQUMzQyxLQUVGd0IsRUFEZ0JWLEVBQWNILEVBRTlCN3lDLEVBQVdzeUMsRUFDWHJ5QyxFQUFZc3lDLEVBQ1pvQixFQUFrQmIsRUFDbEJjLEVBQW1CYixFQUNuQnhCLEVBdkdlLEdBdUdrQnFCLEVBQzVCaUIsRUFBYyxFQUFHQSxFQUFjbEIsRUFBc0JrQixJQUFlLENBR3pFLElBRkEsSUFBSXZDLEVBQVlRLEVBQVNLLFVBQVVaLEVBQWFXLEdBQzVDNEIsRUFBZ0J2QyxFQUFjLEVBQ3pCd0MsRUFBZSxFQUFHQSxFQUFldEIsRUFBdUJzQixJQUFnQixDQUc3RSxJQUFJQyxFQUFPNUMsRUFBYTJDLEdBQ25CQyxJQUNEQSxFQUFPNUMsRUFBYTJDLEdBQWdCLElBQUk3NEYsTUFBTXkzRixJQUVsRHFCLEVBQUtILEdBQWUsQ0FDaEJwRyxRQUFTb0csRUFFVG5HLFdBQVlpRixFQUF1QixHQUFnQixJQUFYenRDLEVBQWVsRixFQUFXMnpDLEVBQ2xFaEcsWUFBYWdGLEVBQXVCLEdBQWdCLElBQVh6dEMsRUFBZWpGLEVBQVkyekMsRUFDcEVoRyxZQUFhLElBQUkvK0UsV0FBV3U5RSxFQUFhMEgsRUFBZUosSUFFNURJLEdBQWlCSixDQUNyQixDQUdBbkMsR0FEQUEsR0FBZUQsRUFBWSxHQUNDLEdBQU0sRUFBSUMsRUFBYyxFQUFLQSxFQUFjLEVBQUtBLEVBTzVFbUMsR0FIQUMsR0FGQTN6QyxFQUFZQSxHQUFZLEdBQU0sR0EzRGpCLEVBNkQ4QixHQUFLLElBQ2hENHpDLEdBRkEzekMsRUFBYUEsR0FBYSxHQUFNLEdBM0RsQixFQTZEZ0MsR0FBSyxHQUVBNHlDLENBQ3ZELENBRUEsT0FBZSxJQUFYM3RDLEVBQ08sQ0FDSCt1QyxhQUFjN0MsRUFBYXgwRixLQUFJLFNBQVV5d0YsR0FDckMsSUFBSW5vRSxFQUFTbW9FLEVBQWEsR0FBR08sWUFDekJzRyxHQUFlLEVBWW5CLE9BWElodkMsSUFBV2g0QyxFQUFNazVCLE1BQ2pCbGhCLEVBQVMsSUFBSXhXLGFBQWEyK0UsRUFBYSxHQUFHTyxZQUFZMW9FLE9BQVFtb0UsRUFBYSxHQUFHTyxZQUFZTSxXQUFZYixFQUFhLEdBQUdPLFlBQVkzbkIsV0FBYSxHQUUxSS9nQixJQUFXaDRDLEVBQU1pNEMsY0FDdEIrdUMsR0FBZSxFQUNmaHZFLEVBQVMsSUFBSXZXLFlBQVkwK0UsRUFBYSxHQUFHTyxZQUFZMW9FLE9BQVFtb0UsRUFBYSxHQUFHTyxZQUFZTSxXQUFZYixFQUFhLEdBQUdPLFlBQVkzbkIsV0FBYSxJQUV6SS9nQixJQUFXaDRDLEVBQU1rOEMsTUFDdEI4cUMsR0FBZSxFQUNmaHZFLEVBQVMsSUFBSXBXLFdBQVd1K0UsRUFBYSxHQUFHTyxZQUFZMW9FLE9BQVFtb0UsRUFBYSxHQUFHTyxZQUFZTSxXQUFZYixFQUFhLEdBQUdPLFlBQVkzbkIsV0FBYSxJQUUxSSxDQUNIbGlDLFNBQVUsSUFBSWxCLEdBQWUzZCxFQUFRLENBQ2pDalcsTUFBT28rRSxFQUFhLEdBQUdLLFdBQ3ZCeCtFLE9BQVFtK0UsRUFBYSxHQUFHTSxjQUU1Qjl1RixLQUFNcW1ELEVBQ05oaEQsT0FBUWd3RixFQUFlQyxHQUF1Qi9CLEdBQVlBLEVBRWxFLElBQ0FhLE9BQVFBLEdBR1QsQ0FDSG1CLFdBQVloRCxFQUFheDBGLEtBQUksU0FBVXl3RixHQUFnQixPQUFPLElBQUlILEdBQTBCLEtBQU0sQ0FDOUZocEYsT0FBUW11RixFQUNScGpGLE1BQU9xakYsRUFDUHBqRixPQUFRcWpGLEVBQ1JwRixPQUFRd0YsRUFDUnRGLGFBQWNBLEdBQ2QsSUFDSjRGLE9BQVFBLEVBRWhCLENBaUJBLFNBQVNrQixHQUF1Qmp3RixHQUM1QixPQUFRQSxHQUNKLEtBQUs4SSxFQUFRNDJCLEtBQU0sT0FBTzUyQixFQUFRMHhELGFBQ2xDLEtBQUsxeEQsRUFBUW94RCxJQUFLLE9BQU9weEQsRUFBUTR4RCxZQUNqQyxLQUFLNXhELEVBQVFzeEQsR0FBSSxPQUFPdHhELEVBQVE4eEQsV0FDaEMsS0FBSzl4RCxFQUFRd3hELElBQUssT0FBT3h4RCxFQUFRZ3lELFlBQ2pDLFFBQVMsT0FBTzk2RCxFQUV4QixDQW9DQSs1RSxHQUFla0Msb0JBQW9CLE1BQU9sQyxHQUFldUUsa0JBQWtCVyxRQU8zRSxJQUFJa1IsR0FBMkIsV0FDM0IsU0FBU0EsSUFDVCxDQXFCQSxPQWRBQSxFQUFVck0sSUFBTSxTQUFVamtELEVBQVUxeUMsR0FDaEMsR0FBMkIsUUFBdkIweUMsRUFBU25ILFdBQXVCbUgsRUFBUzF6QyxLQUN6QyxJQUNJNEksT0FBT3FELE9BQU95bkMsRUFBVXNyRCxHQUEyQnRyRCxFQUFTdnBDLE1BQVF1cEMsRUFBUy8rQixJQUFLb3JGLEdBQVNyc0QsRUFBUzF6QyxNQUFPMHpDLEVBQVNsSCxVQUt4SCxDQUhBLE1BQU8xL0IsR0FFSCxZQURBOUwsRUFBSzhMLEVBRVQsQ0FFSjlMLEdBQ0osRUFFQWdqRyxFQUFVejNELFVBQVlKLEdBQWNtQixPQUM3QjAyRCxDQUNYLENBeEI4QixHQTJCOUJwVyxHQUFla0Msb0JBQW9CLE1BQU9sQyxHQUFldUUsa0JBQWtCVyxRQWtCM0UsSUFBSW1SLEdBQTJCLFdBQzNCLFNBQVNBLElBQ1QsQ0FrRUEsT0F4REFBLEVBQVV0TSxJQUFNLFNBQVVqa0QsRUFBVTF5QyxHQUNoQyxHQUEyQixRQUF2QjB5QyxFQUFTbkgsV0FBdUJtSCxFQUFTMXpDLEtBQ3pDLElBQ0ksSUFBSXErRixFQUFRM3FELEVBQVN2cEMsTUFBUXVwQyxFQUFTLytCLElBQ2xDMkssRUFBS2lpRixHQUFTbEQsRUFBTzNxRCxFQUFTMXpDLEtBQU00SCxLQUFLNDVGLGtCQUFtQnVDLEVBQWF6a0YsRUFBR3lrRixXQUFZSCxFQUFldGtGLEVBQUdza0YsYUFBY00sRUFBVzVrRixFQUFHc2pGLE9BQzFJLEdBQUltQixFQUFZLENBQ1osSUFBSTE3RixFQUFTMjJGLEdBQTJCWCxFQUFPMEYsRUFBWXJ3RCxFQUFTbEgsVUFDcEUsR0FBSTAzRCxHQUFZNzdGLEVBQU93NkMsU0FDbkIsSUFBSyxJQUFJNDVCLEtBQWFwMEUsRUFBT3c2QyxTQUN6Qng2QyxFQUFPdzZDLFNBQVM0NUIsR0FBVzFxQyxZQUFZb3lELGdCQUFrQkQsRUFHakV0N0YsT0FBT3FELE9BQU95bkMsRUFBVXJyQyxFQUM1QixNQUNLLEdBQUl1N0YsRUFBYyxDQUNuQixJQUFJUSxFQUFhLENBQUMsRUFDbEJSLEVBQWFqM0YsU0FBUSxTQUFVdStFLEVBQU9ocUYsR0FDbEMsSUFBSTQxQyxFQUFVLElBQUk4SSxHQUFRLElBQUluTSxHQUFZeTNDLEVBQU14M0MsU0FBVSxDQUN0REMsT0FBUTEyQixFQUFhZ2hDLElBQ3JCcEwsVUFBVzMxQixFQUFZK2hGLHVCQUN2Qnp3RixLQUFNMDhFLEVBQU0xOEUsS0FDWnFGLE9BQVFxM0UsRUFBTXIzRSxVQUVkcXFGLEVBQVVHLEVBQVEsS0FBT245RixFQUFJLEdBQzdCZ2pHLElBQ0VwdEQsRUFBUS9FLFlBQVlveUQsZ0JBQWtCRCxHQUM1Q3p3RCxHQUFZb0MsV0FBV2lCLEVBQVEvRSxZQUFhbXNELEdBQzVDdCtDLEdBQVEvSixXQUFXaUIsRUFBU29uRCxHQUNsQixJQUFOaDlGLElBQ0FrakcsRUFBVy9GLEdBQVN2bkQsRUFDcEJyRCxHQUFZb0MsV0FBV2lCLEVBQVEvRSxZQUFhc3NELEdBQzVDeitDLEdBQVEvSixXQUFXaUIsRUFBU3VuRCxJQUVoQytGLEVBQVdsRyxHQUFXcG5ELENBQzFCLElBQ0FsdUMsT0FBT3FELE9BQU95bkMsRUFBVSxDQUFFbVAsU0FBVXVoRCxHQUN4QyxDQUtKLENBSEEsTUFBT3QzRixHQUVILFlBREE5TCxFQUFLOEwsRUFFVCxDQUVKOUwsR0FDSixFQUVBaWpHLEVBQVUxM0QsVUFBWUosR0FBY21CLE9BU3BDMjJELEVBQVV6QyxrQkFBbUIsRUFDdEJ5QyxDQUNYLENBckU4QixHQ3R2QzFCLEdBQWdCLFNBQVN2N0YsRUFBR3pFLEdBSTVCLE9BSEEsR0FBZ0IyRSxPQUFPODhCLGdCQUNsQixDQUFFMTdCLFVBQVcsY0FBZ0JhLE9BQVMsU0FBVW5DLEVBQUd6RSxHQUFLeUUsRUFBRXNCLFVBQVkvRixDQUFHLEdBQzFFLFNBQVV5RSxFQUFHekUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTZFLGVBQWVwRyxLQUFNZ0csRUFBRWhHLEdBQUt1QixFQUFFdkIsR0FBUSxFQUM5RSxHQUFjZ0csRUFBR3pFLEVBQzVCLEVBRUEsU0FBUyxHQUFVeUUsRUFBR3pFLEdBRWxCLFNBQVMyaEMsSUFBT2grQixLQUFLd1QsWUFBYzFTLENBQUcsQ0FEdEMsR0FBY0EsRUFBR3pFLEdBRWpCeUUsRUFBRUcsVUFBa0IsT0FBTjVFLEVBQWEyRSxPQUFPbUIsT0FBTzlGLElBQU0yaEMsRUFBRy84QixVQUFZNUUsRUFBRTRFLFVBQVcsSUFBSSs4QixFQUNuRixDQTBCQSxJQ3pDSXkrRCxHQWlCQUMsR0R3QkFDLEdBQW1DLFNBQVV6K0QsR0FnQjdDLFNBQVN5K0QsRUFBa0JDLEVBQVNDLEVBQVlDLEVBQVdDLFFBQ3ZDLElBQVpILElBQXNCQSxFQUFVLFdBQ2xCLElBQWRFLElBQXdCQSxFQUFZLFlBQ3JCLElBQWZDLElBQXlCQSxHQUFhLEdBQzFDLElBQUk1K0QsRUFBUUQsRUFBT3o3QixLQUFLekMsT0FBU0EsS0F1QmpDLE9BbEJJODhGLEVBRGUsUUFFZkEsRUFGZSxPQUluQjMrRCxFQUFNNitELFlBQWMsRUFBQyxHQUFPLEdBQU0sR0FBTyxHQUFPLEdBQ2hENytELEVBQU04K0QsU0FBV0wsRUFDakJ6K0QsRUFBTSsrRCxXQUFhSixFQUNuQjMrRCxFQUFNZy9ELFNBQVcsS0FDakJoL0QsRUFBTWkvRCxpQkFBbUIsR0FDekJqL0QsRUFBTXNhLFVBQVksRUFDbEJ0YSxFQUFNNkMscUJBQXNCLEVBQzVCN0MsRUFBTTFTLFVBQVk1VyxFQUFZcVcsT0FDOUJpVCxFQUFNNCtELFdBQWFBLEVBQ25CNStELEVBQU1rL0QsYUFBYyxFQUNwQmwvRCxFQUFNZ00sWUFBYyxLQUNwQmhNLEVBQU1tL0QsY0FBY1QsR0FDcEIxK0QsRUFBTW8vRCxNQUFRLEVBQ2RwL0QsRUFBTXEvRCxRQUFVLElBQUkvbUYsYUFBYSxHQUNqQzBuQixFQUFNcFMsS0FBTyxTQUNOb1MsQ0FDWCxDQTRGQSxPQXZJQSxHQUFVdytELEVBQW1CeitELEdBZ0Q3QnkrRCxFQUFrQjE3RixVQUFVcThGLGNBQWdCLFNBQVVULEdBQzlDQSxJQUNBNzhGLEtBQUtnOUYsWUFBWSxHQUFLLGFBQWNILEdBQWMsVUFBV0EsSUFDckRBLEVBQVduOEYsWUFBY204RixFQUFXM21FLE1BQVFsMkIsS0FBS2c5RixZQUFZLEdBQ3JFaDlGLEtBQUtnOUYsWUFBWSxHQUFLLGFBQWNILElBQWVBLEVBQVdubEUsU0FBVzEzQixLQUFLZzlGLFlBQVksR0FDMUZoOUYsS0FBS2c5RixZQUFZLEdBQUssYUFBY0gsSUFBZUEsRUFBVzVsRSxTQUFXajNCLEtBQUtnOUYsWUFBWSxHQUMxRmg5RixLQUFLZzlGLFlBQVksR0FBSyxRQUFTSCxJQUFlQSxFQUFXOStDLElBQU0vOUMsS0FBS2c5RixZQUFZLEdBQ2hGaDlGLEtBQUtnOUYsWUFBWSxHQUFLLFNBQVVILEdBQWMsVUFBV0EsSUFDakRBLEVBQVc5d0UsUUFBVTh3RSxFQUFXanhFLE1BQVE1ckIsS0FBS2c5RixZQUFZLEdBRXpFLEVBQ0FMLEVBQWtCMTdGLFVBQVVvNkIsZ0JBQWtCLFdBRTFDcjdCLEtBQUt1Z0MsOEJBQ1QsRUFDQXYvQixPQUFPa1EsZUFBZXlyRixFQUFrQjE3RixVQUFXLE9BQVEsQ0FPdkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt1OUYsS0FDaEIsRUFDQXJ1RSxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUt1OUYsTUFBUW4yRixFQUNiaWpCLEdBQVFqakIsRUFBT3BILEtBQUt3OUYsUUFDeEIsRUFDQXJzRixZQUFZLEVBQ1pnZSxjQUFjLElBTWxCd3RFLEVBQWtCMTdGLFVBQVV5aUMsT0FBUyxTQUFVTCxHQUMzQyxJQUFJbEYsRUFBUW4rQixLQUNQQSxLQUFLcStCLFdBQVdyK0IsS0FBSzArQixZQUFjLElBQU0xK0IsS0FBSzJSLFNBQVM1WSxRQUFXaUgsS0FBS3MrQixhQUd2RXQrQixLQUFLbXFDLGNBQ05ucUMsS0FBS21xQyxZQUFjbnFDLEtBQUsyUixTQUFTLEdBQUcyd0MsU0FBU25ZLFlBQ3hDbnFDLEtBQUttcUMsWUFBWTRDLE9BQ2xCL3NDLEtBQUttcUMsWUFBWTNvQyxLQUFLLFVBQVUsV0FBYyxPQUFPMjhCLEVBQU0yRCxpQkFBaUIsRUFBSSxLQUd4RnVCLEVBQVNVLE1BQU1pZixrQkFBa0IzZixFQUFTMnBDLFFBQVF5d0IsVUFDbERwNkQsRUFBUzJwQyxRQUFReXdCLFNBQVMvNUQsT0FBTzFqQyxNQUNyQyxFQUtBMjhGLEVBQWtCMTdGLFVBQVU2Z0MsaUJBQW1CLFNBQVU0N0QsR0FFckQsSUFEQSxJQUFJL2dELEVBQWMxaUQsS0FBS3dNLE1BQU1pM0YsRUFBcUIxOUYsS0FBS2s5RixZQUNoRGw5RixLQUFLbzlGLGlCQUFpQnJrRyxPQUFTNGpELEdBQ2xDMzhDLEtBQUtvOUYsaUJBQWlCempHLEtBQUssR0FFL0JxRyxLQUFLbzlGLGlCQUFpQnpnRCxLQUFpQjM4QyxLQUFLeTRDLFNBQ2hELEVBQ0Fra0QsRUFBa0IxN0YsVUFBVXdwQyxRQUFVLFdBQ2xDLEdBQUl6cUMsS0FBS205RixTQUFVLENBQ2YsSUFBSyxJQUFJN2pHLEVBQUksRUFBR0EsRUFBSTBHLEtBQUttOUYsU0FBU3BrRyxTQUFVTyxFQUN4QzBHLEtBQUttOUYsU0FBUzdqRyxHQUFHaTFCLFVBRXJCdnVCLEtBQUttOUYsU0FBVyxJQUNwQixDQUNKLEVBWUFSLEVBQWtCMTdGLFVBQVVzdEIsUUFBVSxTQUFVemtCLEdBQzVDbzBCLEVBQU9qOUIsVUFBVXN0QixRQUFROXJCLEtBQUt6QyxLQUFNOEosR0FDcEM5SixLQUFLeXFDLFVBQ0x6cUMsS0FBS2c5RixZQUFjLEtBQ25CaDlGLEtBQUttOUYsU0FBVyxLQUNoQm45RixLQUFLbzlGLGlCQUFtQixJQUM1QixFQUNPVCxDQUNYLENBeklzQyxDQXlJcEMvNkQsSUFrQkUrN0QsR0FBZ0MsV0FNaEMsU0FBU0EsRUFBZWQsRUFBWWUsRUFBc0J2eEUsR0FDdERyc0IsS0FBS205QyxTQUFXLElBQUlsQixHQUNwQmo4QyxLQUFLbzhDLFlBQWMsS0FDbkJwOEMsS0FBS3FzQixLQUFPQSxFQUNacnNCLEtBQUs2OUYsa0JBQW9CLEdBQ3pCNzlGLEtBQUs4OUYsaUJBQW1CLEdBQ3hCLElBQUssSUFBSXhrRyxFQUFJLEVBQUdBLEVBQUl1akcsRUFBVzlqRyxTQUFVTyxFQUFHLENBQ3hDLElBQUl5a0csRUFBV2xCLEVBQVd2akcsR0FHMUJ5a0csRUFBVyxDQUNQQyxjQUFlRCxFQUFTQyxjQUN4QjN4RSxLQUFNMHhFLEVBQVMxeEUsS0FDZjR4RSxlQUFnQkYsRUFBU0UsZUFDekJyM0YsS0FBTW0zRixFQUFTbjNGLE1BQVFxTyxFQUFNazVCLE1BQzdCc1AsT0FBUXNnRCxFQUFTdGdELFFBRWpCbWdELEVBQXFCdGtHLEdBQ3JCMEcsS0FBSzY5RixrQkFBa0Jsa0csS0FBS29rRyxHQUc1Qi85RixLQUFLODlGLGlCQUFpQm5rRyxLQUFLb2tHLEVBRW5DLENBQ0EvOUYsS0FBS2srRixhQUFlLEVBQ3BCbCtGLEtBQUttK0YsYUFBZSxLQUNwQm4rRixLQUFLbytGLFdBQWEsS0FDbEJwK0YsS0FBS3ErRixpQkFBbUIsS0FDeEJyK0YsS0FBS3MrRixjQUFnQixFQUNyQnQrRixLQUFLdStGLGNBQWdCLEtBQ3JCditGLEtBQUt3K0YsWUFBYyxLQUNuQngrRixLQUFLeStGLGtCQUFvQixLQUN6QnorRixLQUFLeTRDLFVBQVksRUFDakJ6NEMsS0FBSzArRixhQUNULENBZ0ZBLE9BOUVBZixFQUFlMThGLFVBQVV5OUYsWUFBYyxXQUNuQyxJQUFJdmhELEVBQVduOUMsS0FBS205QyxTQUNoQndoRCxFQUFnQixFQUNwQjMrRixLQUFLbzhDLFlBQWMsSUFBSVosR0FBT3B2QixHQUFzQnBzQixLQUFLcXNCLE9BQU8sR0FBTSxHQUN0RTh3QixFQUFTTCxTQUFTOThDLEtBQUtvOEMsYUFDdkJwOEMsS0FBS3MrRixjQUFnQixFQUNyQixJQUFLLElBQUlobEcsRUFBSSxFQUFHQSxFQUFJMEcsS0FBSzY5RixrQkFBa0I5a0csU0FBVU8sR0FDN0N5a0csRUFBVy85RixLQUFLNjlGLGtCQUFrQnZrRyxJQUM3Qm1rRCxPQUFTa2hELEVBQ2xCQSxHQUFpQlosRUFBUzF4RSxLQUMxQnJzQixLQUFLcytGLGVBQWlCUCxFQUFTMXhFLEtBRW5DLElBQUl1eUUsRUFBWSxJQUFJcG9GLFlBQVl4VyxLQUFLcXNCLEtBQU9yc0IsS0FBS3MrRixjQUFnQixFQUFJLEdBQ3JFdCtGLEtBQUt3K0YsWUFBYyxJQUFJL25GLGFBQWFtb0YsR0FDcEM1K0YsS0FBS3krRixrQkFBb0IsSUFBSS9uRixZQUFZa29GLEdBQ3pDNStGLEtBQUt1K0YsY0FBZ0IsSUFBSS9pRCxHQUFPeDdDLEtBQUt3K0YsYUFBYSxHQUFPLEdBRXpELElBQUlLLEVBQWUsRUFFbkIsSUFEQTcrRixLQUFLaytGLGFBQWUsRUFDWDVrRyxFQUFJLEVBQUdBLEVBQUkwRyxLQUFLODlGLGlCQUFpQi9rRyxTQUFVTyxHQUM1Q3lrRyxFQUFXLzlGLEtBQUs4OUYsaUJBQWlCeGtHLElBQzVCbWtELE9BQVNvaEQsRUFDbEJBLEdBQWdCZCxFQUFTMXhFLEtBQ3pCcnNCLEtBQUtrK0YsY0FBZ0JILEVBQVMxeEUsS0FFbEMsSUFBSXl5RSxFQUFhLElBQUl0b0YsWUFBWXhXLEtBQUtxc0IsS0FBT3JzQixLQUFLaytGLGFBQWUsRUFBSSxHQUlyRSxJQUhBbCtGLEtBQUtvK0YsV0FBYSxJQUFJM25GLGFBQWFxb0YsR0FDbkM5K0YsS0FBS3ErRixpQkFBbUIsSUFBSTNuRixZQUFZb29GLEdBQ3hDOStGLEtBQUttK0YsYUFBZSxJQUFJM2lELEdBQU94N0MsS0FBS28rRixZQUFZLEdBQU0sR0FDN0M5a0csRUFBSSxFQUFHQSxFQUFJMEcsS0FBSzY5RixrQkFBa0I5a0csU0FBVU8sRUFBRyxDQUNwRCxJQUFJeWtHLEVBQVcvOUYsS0FBSzY5RixrQkFBa0J2a0csR0FDdEM2akQsRUFBU1YsYUFBYXNoRCxFQUFTQyxjQUFlaCtGLEtBQUt1K0YsY0FBZSxFQUFHUixFQUFTbjNGLE9BQVNxTyxFQUFNcTNCLGNBQWV5eEQsRUFBU24zRixLQUEyQixFQUFyQjVHLEtBQUtzK0YsY0FBcUMsRUFBbEJQLEVBQVN0Z0QsT0FDaEssQ0FDQSxJQUFTbmtELEVBQUksRUFBR0EsRUFBSTBHLEtBQUs4OUYsaUJBQWlCL2tHLFNBQVVPLEVBQzVDeWtHLEVBQVcvOUYsS0FBSzg5RixpQkFBaUJ4a0csR0FDckM2akQsRUFBU1YsYUFBYXNoRCxFQUFTQyxjQUFlaCtGLEtBQUttK0YsYUFBYyxFQUFHSixFQUFTbjNGLE9BQVNxTyxFQUFNcTNCLGNBQWV5eEQsRUFBU24zRixLQUEwQixFQUFwQjVHLEtBQUtrK0YsYUFBb0MsRUFBbEJILEVBQVN0Z0QsT0FFbEssRUFPQWtnRCxFQUFlMThGLFVBQVU4OUYsY0FBZ0IsU0FBVXB0RixFQUFVcXRGLEVBQVlDLEdBQ3JFLElBQUssSUFBSTNsRyxFQUFJLEVBQUdBLEVBQUkwRyxLQUFLNjlGLGtCQUFrQjlrRyxPQUFRTyxJQUFLLENBQ3BELElBQUl5a0csRUFBVy85RixLQUFLNjlGLGtCQUFrQnZrRyxHQUN0Q3lrRyxFQUFTRSxlQUFldHNGLEVBQVVxdEYsRUFBWUMsRUFBUWxCLEVBQVNuM0YsT0FBU3FPLEVBQU1xM0IsY0FBZ0J0c0MsS0FBS3krRixrQkFBb0J6K0YsS0FBS3crRixZQUFheCtGLEtBQUtzK0YsY0FBZVAsRUFBU3RnRCxPQUMxSyxDQUNBejlDLEtBQUt1K0YsY0FBYzlsRCxXQUN2QixFQU9Ba2xELEVBQWUxOEYsVUFBVWkrRixhQUFlLFNBQVV2dEYsRUFBVXF0RixFQUFZQyxHQUNwRSxJQUFLLElBQUkzbEcsRUFBSSxFQUFHQSxFQUFJMEcsS0FBSzg5RixpQkFBaUIva0csT0FBUU8sSUFBSyxDQUNuRCxJQUFJeWtHLEVBQVcvOUYsS0FBSzg5RixpQkFBaUJ4a0csR0FDckN5a0csRUFBU0UsZUFBZXRzRixFQUFVcXRGLEVBQVlDLEVBQVFsQixFQUFTbjNGLE9BQVNxTyxFQUFNcTNCLGNBQWdCdHNDLEtBQUtxK0YsaUJBQW1CcitGLEtBQUtvK0YsV0FBWXArRixLQUFLaytGLGFBQWNILEVBQVN0Z0QsT0FDdkssQ0FDQXo5QyxLQUFLbStGLGFBQWExbEQsV0FDdEIsRUFFQWtsRCxFQUFlMThGLFVBQVVzdEIsUUFBVSxXQUMvQnZ1QixLQUFLbzhDLFlBQWMsS0FDbkJwOEMsS0FBSzY5RixrQkFBb0IsS0FDekI3OUYsS0FBS3UrRixjQUFnQixLQUNyQnYrRixLQUFLdytGLFlBQWMsS0FDbkJ4K0YsS0FBS3krRixrQkFBb0IsS0FDekJ6K0YsS0FBSzg5RixpQkFBbUIsS0FDeEI5OUYsS0FBS20rRixhQUFlLEtBQ3BCbitGLEtBQUtvK0YsV0FBYSxLQUNsQnArRixLQUFLcStGLGlCQUFtQixLQUV4QnIrRixLQUFLbTlDLFNBQVM1dUIsU0FDbEIsRUFDT292RSxDQUNYLENBekhtQyxHQThJL0J3QixHQUFrQyxTQUFVamhFLEdBSzVDLFNBQVNpaEUsRUFBaUI5N0QsR0FDdEIsSUFBSWxGLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU1xakMsSUFBYXJqQyxLQWdEM0MsT0ExQ0FtK0IsRUFBTXlqQixPQUFTLEtBQ2Z6akIsRUFBTTArRCxXQUFhLEtBQ25CMStELEVBQU1zdUMsV0FBYSxJQUFJajNDLEdBQ3ZCMkksRUFBTTArRCxXQUFhLENBRWYsQ0FDSW1CLGNBQWUsa0JBQ2YzeEUsS0FBTSxFQUNONHhFLGVBQWdCOS9ELEVBQU1paEUsZUFDdEIzaEQsT0FBUSxHQUdaLENBQ0l1Z0QsY0FBZSxpQkFDZjN4RSxLQUFNLEVBQ040eEUsZUFBZ0I5L0QsRUFBTWtoRSxlQUN0QjVoRCxPQUFRLEdBR1osQ0FDSXVnRCxjQUFlLFlBQ2YzeEUsS0FBTSxFQUNONHhFLGVBQWdCOS9ELEVBQU1taEUsZUFDdEI3aEQsT0FBUSxHQUdaLENBQ0l1Z0QsY0FBZSxnQkFDZjN4RSxLQUFNLEVBQ040eEUsZUFBZ0I5L0QsRUFBTW9oRSxVQUN0QjloRCxPQUFRLEdBR1osQ0FDSXVnRCxjQUFlLFNBQ2YzeEUsS0FBTSxFQUNOemxCLEtBQU1xTyxFQUFNcTNCLGNBQ1oyeEQsZUFBZ0I5L0QsRUFBTXFoRSxXQUN0Qi9oRCxPQUFRLElBRWhCdGYsRUFBTXlqQixPQUFTMlMsR0FBT2p2RCxLQXJFakIsZ3FCQUZFLG9NQXVFc0MsQ0FBQyxHQUM5QzY0QixFQUFNaWlCLE1BQVF1VSxHQUFNUSxRQUNiaDNCLENBQ1gsQ0FzUEEsT0E1U0EsR0FBVWdoRSxFQUFrQmpoRSxHQTJENUJpaEUsRUFBaUJsK0YsVUFBVXlpQyxPQUFTLFNBQVVoRCxHQUMxQyxJQUFJL3VCLEVBQVcrdUIsRUFBVS91QixTQUNyQmlyRixFQUFVbDhELEVBQVV1OEQsU0FDcEJILEVBQVlwOEQsRUFBVXc4RCxXQUN0Qjc1RCxFQUFXcmpDLEtBQUtxakMsU0FDaEJvOEQsRUFBZ0I5dEYsRUFBUzVZLE9BQzdCLEdBQXNCLElBQWxCMG1HLEVBQUosQ0FHU0EsRUFBZ0I3QyxJQUFZbDhELEVBQVVxOEQsYUFDM0MwQyxFQUFnQjdDLEdBRXBCLElBQUkxZ0QsRUFBVXhiLEVBQVV5OEQsU0FDbkJqaEQsSUFDREEsRUFBVXhiLEVBQVV5OEQsU0FBV245RixLQUFLMC9GLGdCQUFnQmgvRCxJQUV4RCxJQUFJeUosRUFBY3g0QixFQUFTLEdBQUcyd0MsU0FBU25ZLFlBQ25DemUsRUFBZ0J5ZSxFQUFZYyxVQUFZLEVBRTVDanJDLEtBQUtvZ0QsTUFBTTMwQixVQUFZRCxHQUFpQmtWLEVBQVVqVixVQUFXQyxHQUM3RDJYLEVBQVMrYyxNQUFNbHhCLElBQUlsdkIsS0FBS29nRCxPQUN4QixJQUFJei9CLEVBQUswaUIsRUFBUzFpQixHQUNkaGpCLEVBQUkraUMsRUFBVW5HLGVBQWVqSixPQUFPdHhCLEtBQUt5c0UsWUFDN0M5dUUsRUFBRXk1QixRQUFRaU0sRUFBU3VjLGVBQWVyQixTQUFTMmIsa0JBQzNDbDZELEtBQUs0aEQsT0FBT3JELFNBQVMrMkIsa0JBQW9CMzNFLEVBQUVpNEIsU0FBUSxHQUNuRDUxQixLQUFLNGhELE9BQU9yRCxTQUFTb2hELE9BQVNoMEUsR0FBZ0IrVSxFQUFVODhELFFBQVM5OEQsRUFBVWhDLFdBQVkxK0IsS0FBSzRoRCxPQUFPckQsU0FBU29oRCxPQUFRajBFLEdBQ3BIMXJCLEtBQUs0aEQsT0FBT3JELFNBQVNtRCxTQUFXdlgsRUFDaENucUMsS0FBS3FqQyxTQUFTdWUsT0FBTzFYLEtBQUtscUMsS0FBSzRoRCxRQUcvQixJQUZBLElBQUlnK0MsR0FBZSxFQUVWdG1HLEVBQUksRUFBRzRHLEVBQUksRUFBRzVHLEVBQUltbUcsRUFBZW5tRyxHQUFLd2pHLEVBQVc1OEYsR0FBSyxFQUFHLENBQzlELElBQUkrK0YsRUFBVVEsRUFBZ0JubUcsRUFDMUIybEcsRUFBU25DLElBQ1RtQyxFQUFTbkMsR0FFVDU4RixHQUFLZzhDLEVBQVFuakQsUUFDYm1qRCxFQUFRdmlELEtBQUtxRyxLQUFLNi9GLHVCQUF1Qm4vRCxJQUU3QyxJQUFJelQsRUFBU2l2QixFQUFRaDhDLEdBRXJCK3NCLEVBQU84eEUsY0FBY3B0RixFQUFVclksRUFBRzJsRyxHQUNsQyxJQUFJYSxFQUFNcC9ELEVBQVUwOEQsaUJBQWlCbDlGLElBQU0sR0FDM0MwL0YsRUFBZUEsR0FBaUIzeUUsRUFBT3dyQixVQUFZcW5ELEtBRy9DN3lFLEVBQU93ckIsVUFBWS9YLEVBQVUrWCxVQUM3QnhyQixFQUFPaXlFLGFBQWF2dEYsRUFBVXJZLEVBQUcybEcsSUFHckM1N0QsRUFBUzhaLFNBQVNqVCxLQUFLamQsRUFBT2t3QixVQUM5Qng4QixFQUFHd3NDLGFBQWF4c0MsRUFBR3NoQyxVQUFvQixFQUFUZzlDLEVBQVl0K0UsRUFBRzYxQixlQUFnQixFQUNqRSxDQXhDQSxDQXlDSixFQU1BMm9ELEVBQWlCbCtGLFVBQVV5K0YsZ0JBQWtCLFNBQVVoL0QsR0FLbkQsSUFKQSxJQUFJd2IsRUFBVSxHQUNWN3ZCLEVBQU9xVSxFQUFVdThELFNBQ2pCSCxFQUFZcDhELEVBQVV3OEQsV0FDdEJVLEVBQXVCbDlELEVBQVVzOEQsWUFDNUIxakcsRUFBSSxFQUFHQSxFQUFJK3lCLEVBQU0veUIsR0FBS3dqRyxFQUMzQjVnRCxFQUFRdmlELEtBQUssSUFBSWdrRyxHQUFlMzlGLEtBQUs2OEYsV0FBWWUsRUFBc0JkLElBRTNFLE9BQU81Z0QsQ0FDWCxFQU1BaWpELEVBQWlCbCtGLFVBQVU0K0YsdUJBQXlCLFNBQVVuL0QsR0FDMUQsSUFBSW84RCxFQUFZcDhELEVBQVV3OEQsV0FDdEJVLEVBQXVCbDlELEVBQVVzOEQsWUFDckMsT0FBTyxJQUFJVyxHQUFlMzlGLEtBQUs2OEYsV0FBWWUsRUFBc0JkLEVBQ3JFLEVBVUFxQyxFQUFpQmwrRixVQUFVbStGLGVBQWlCLFNBQVV6dEYsRUFBVXF0RixFQUFZQyxFQUFRbjRGLEVBQU9pbUIsRUFBUTB3QixHQUsvRixJQUpBLElBQUlzaUQsRUFBSyxFQUNMQyxFQUFLLEVBQ0xDLEVBQUssRUFDTEMsRUFBSyxFQUNBNW1HLEVBQUksRUFBR0EsRUFBSTJsRyxJQUFVM2xHLEVBQUcsQ0FDN0IsSUFBSStvRCxFQUFTMXdDLEVBQVNxdEYsRUFBYTFsRyxHQUMvQjQxQyxFQUFVbVQsRUFBT0MsU0FDakJvMkIsRUFBS3IyQixFQUFPbnNCLE1BQU12OUIsRUFDbEJnZ0YsRUFBS3QyQixFQUFPbnNCLE1BQU10OUIsRUFDbEI0VSxFQUFPMGhDLEVBQVExaEMsS0FDZnlxQyxFQUFPL0ksRUFBUStJLEtBQ2Z6cUMsR0FJQXV5RixHQURBQyxFQUFLeHlGLEVBQUs3VSxFQUFLMHBELEVBQU9uSyxPQUFPdi9DLEVBQUlzL0MsRUFBS2poQyxPQUM1QnhKLEVBQUt3SixNQUVmaXBGLEdBREFDLEVBQUsxeUYsRUFBSzVVLEVBQUt5cEQsRUFBT25LLE9BQU90L0MsRUFBSXEvQyxFQUFLaGhDLFFBQzVCekosRUFBS3lKLFNBR2Y4b0YsRUFBTTluRCxFQUFVLE9BQUssRUFBSW9LLEVBQU9uSyxPQUFPdi9DLEdBQ3ZDcW5HLEVBQU0vbkQsRUFBVSxPQUFLb0ssRUFBT25LLE9BQU92L0MsRUFDbkNzbkcsRUFBS2hvRCxFQUFLaGhDLFFBQVUsRUFBSW9yQyxFQUFPbkssT0FBT3QvQyxHQUN0Q3NuRyxFQUFLam9ELEVBQUtoaEMsUUFBVW9yQyxFQUFPbkssT0FBT3QvQyxHQUV0Q2tPLEVBQU0yMkMsR0FBVXVpRCxFQUFLdG5CLEVBQ3JCNXhFLEVBQU0yMkMsRUFBUyxHQUFLeWlELEVBQUt2bkIsRUFDekI3eEUsRUFBTTIyQyxFQUFTMXdCLEdBQVVnekUsRUFBS3JuQixFQUM5QjV4RSxFQUFNMjJDLEVBQVMxd0IsRUFBUyxHQUFLbXpFLEVBQUt2bkIsRUFDbEM3eEUsRUFBTTIyQyxFQUFtQixFQUFUMXdCLEdBQWVnekUsRUFBS3JuQixFQUNwQzV4RSxFQUFNMjJDLEVBQW1CLEVBQVQxd0IsRUFBYyxHQUFLa3pFLEVBQUt0bkIsRUFDeEM3eEUsRUFBTTIyQyxFQUFtQixFQUFUMXdCLEdBQWVpekUsRUFBS3RuQixFQUNwQzV4RSxFQUFNMjJDLEVBQW1CLEVBQVQxd0IsRUFBYyxHQUFLa3pFLEVBQUt0bkIsRUFDeENsN0IsR0FBbUIsRUFBVDF3QixDQUNkLENBQ0osRUFVQW95RSxFQUFpQmwrRixVQUFVbytGLGVBQWlCLFNBQVUxdEYsRUFBVXF0RixFQUFZQyxFQUFRbjRGLEVBQU9pbUIsRUFBUTB3QixHQUMvRixJQUFLLElBQUlua0QsRUFBSSxFQUFHQSxFQUFJMmxHLEVBQVEzbEcsSUFBSyxDQUM3QixJQUFJNm1HLEVBQWlCeHVGLEVBQVNxdEYsRUFBYTFsRyxHQUFHbytCLFNBQzlDNXdCLEVBQU0yMkMsR0FBVTBpRCxFQUFleG5HLEVBQy9CbU8sRUFBTTIyQyxFQUFTLEdBQUswaUQsRUFBZXZuRyxFQUNuQ2tPLEVBQU0yMkMsRUFBUzF3QixHQUFVb3pFLEVBQWV4bkcsRUFDeENtTyxFQUFNMjJDLEVBQVMxd0IsRUFBUyxHQUFLb3pFLEVBQWV2bkcsRUFDNUNrTyxFQUFNMjJDLEVBQW1CLEVBQVQxd0IsR0FBZW96RSxFQUFleG5HLEVBQzlDbU8sRUFBTTIyQyxFQUFtQixFQUFUMXdCLEVBQWMsR0FBS296RSxFQUFldm5HLEVBQ2xEa08sRUFBTTIyQyxFQUFtQixFQUFUMXdCLEdBQWVvekUsRUFBZXhuRyxFQUM5Q21PLEVBQU0yMkMsRUFBbUIsRUFBVDF3QixFQUFjLEdBQUtvekUsRUFBZXZuRyxFQUNsRDZrRCxHQUFtQixFQUFUMXdCLENBQ2QsQ0FDSixFQVVBb3lFLEVBQWlCbCtGLFVBQVVxK0YsZUFBaUIsU0FBVTN0RixFQUFVcXRGLEVBQVlDLEVBQVFuNEYsRUFBT2ltQixFQUFRMHdCLEdBQy9GLElBQUssSUFBSW5rRCxFQUFJLEVBQUdBLEVBQUkybEcsRUFBUTNsRyxJQUFLLENBQzdCLElBQUk4bUcsRUFBaUJ6dUYsRUFBU3F0RixFQUFhMWxHLEdBQUcyOUIsU0FDOUNud0IsRUFBTTIyQyxHQUFVMmlELEVBQ2hCdDVGLEVBQU0yMkMsRUFBUzF3QixHQUFVcXpFLEVBQ3pCdDVGLEVBQU0yMkMsRUFBbUIsRUFBVDF3QixHQUFlcXpFLEVBQy9CdDVGLEVBQU0yMkMsRUFBbUIsRUFBVDF3QixHQUFlcXpFLEVBQy9CM2lELEdBQW1CLEVBQVQxd0IsQ0FDZCxDQUNKLEVBVUFveUUsRUFBaUJsK0YsVUFBVXMrRixVQUFZLFNBQVU1dEYsRUFBVXF0RixFQUFZQyxFQUFRbjRGLEVBQU9pbUIsRUFBUTB3QixHQUMxRixJQUFLLElBQUlua0QsRUFBSSxFQUFHQSxFQUFJMmxHLElBQVUzbEcsRUFBRyxDQUM3QixJQUFJK21HLEVBQWExdUYsRUFBU3F0RixFQUFhMWxHLEdBQUdncEQsU0FBU2pLLEtBQy9DZ29ELEdBQ0F2NUYsRUFBTTIyQyxHQUFVNGlELEVBQVd4akcsR0FDM0JpSyxFQUFNMjJDLEVBQVMsR0FBSzRpRCxFQUFXdmpHLEdBQy9CZ0ssRUFBTTIyQyxFQUFTMXdCLEdBQVVzekUsRUFBV3RqRyxHQUNwQytKLEVBQU0yMkMsRUFBUzF3QixFQUFTLEdBQUtzekUsRUFBV3JqRyxHQUN4QzhKLEVBQU0yMkMsRUFBbUIsRUFBVDF3QixHQUFlc3pFLEVBQVdwdEUsR0FDMUNuc0IsRUFBTTIyQyxFQUFtQixFQUFUMXdCLEVBQWMsR0FBS3N6RSxFQUFXbnRFLEdBQzlDcHNCLEVBQU0yMkMsRUFBbUIsRUFBVDF3QixHQUFlc3pFLEVBQVducEQsR0FDMUNwd0MsRUFBTTIyQyxFQUFtQixFQUFUMXdCLEVBQWMsR0FBS3N6RSxFQUFXbHBELEdBQzlDc0csR0FBbUIsRUFBVDF3QixJQUlWam1CLEVBQU0yMkMsR0FBVSxFQUNoQjMyQyxFQUFNMjJDLEVBQVMsR0FBSyxFQUNwQjMyQyxFQUFNMjJDLEVBQVMxd0IsR0FBVSxFQUN6QmptQixFQUFNMjJDLEVBQVMxd0IsRUFBUyxHQUFLLEVBQzdCam1CLEVBQU0yMkMsRUFBbUIsRUFBVDF3QixHQUFlLEVBQy9Cam1CLEVBQU0yMkMsRUFBbUIsRUFBVDF3QixFQUFjLEdBQUssRUFDbkNqbUIsRUFBTTIyQyxFQUFtQixFQUFUMXdCLEdBQWUsRUFDL0JqbUIsRUFBTTIyQyxFQUFtQixFQUFUMXdCLEVBQWMsR0FBSyxFQUNuQzB3QixHQUFtQixFQUFUMXdCLEVBRWxCLENBQ0osRUFVQW95RSxFQUFpQmwrRixVQUFVdStGLFdBQWEsU0FBVTd0RixFQUFVcXRGLEVBQVlDLEVBQVFuNEYsRUFBT2ltQixFQUFRMHdCLEdBQzNGLElBQUssSUFBSW5rRCxFQUFJLEVBQUdBLEVBQUkybEcsSUFBVTNsRyxFQUFHLENBQzdCLElBQUkrb0QsRUFBUzF3QyxFQUFTcXRGLEVBQWExbEcsR0FDL0JveUIsRUFBZ0IyMkIsRUFBT0MsU0FBU25ZLFlBQVljLFVBQVksRUFDeERyZixFQUFReTJCLEVBQU96MkIsTUFFZmtwRCxFQUFPbHBELEVBQVEsR0FBT0YsRUFDcEJJLEdBQWdCdTJCLEVBQU8weUIsU0FBVW5wRCxHQUFTeTJCLEVBQU8weUIsVUFBb0IsSUFBUm5wRCxHQUFlLElBQ2xGOWtCLEVBQU0yMkMsR0FBVXEzQixFQUNoQmh1RSxFQUFNMjJDLEVBQVMxd0IsR0FBVStuRCxFQUN6Qmh1RSxFQUFNMjJDLEVBQW1CLEVBQVQxd0IsR0FBZStuRCxFQUMvQmh1RSxFQUFNMjJDLEVBQW1CLEVBQVQxd0IsR0FBZStuRCxFQUMvQnIzQixHQUFtQixFQUFUMXdCLENBQ2QsQ0FDSixFQUVBb3lFLEVBQWlCbCtGLFVBQVVzdEIsUUFBVSxXQUNqQzJQLEVBQU9qOUIsVUFBVXN0QixRQUFROXJCLEtBQUt6QyxNQUMxQkEsS0FBSzRoRCxTQUNMNWhELEtBQUs0aEQsT0FBT3J6QixVQUNadnVCLEtBQUs0aEQsT0FBUyxNQUVsQjVoRCxLQUFLeXNFLFdBQWEsSUFDdEIsRUFFQTB5QixFQUFpQng2RCxVQUFZLENBQ3pCcGlDLEtBQU0sV0FDTnFFLEtBQU0yOUIsR0FBY3NyQyxnQkFFakJzdkIsQ0FDWCxDQTlTcUMsQ0E4U25DeDhDLEtDL25CRixTQUFXODVDLEdBQ1BBLEVBQWlCLE1BQUksUUFDckJBLEVBQWlCLE1BQUksUUFDckJBLEVBQWlCLE1BQUksT0FDeEIsQ0FKRCxDQUlHQSxLQUFjQSxHQUFZLENBQUMsSUFhOUIsU0FBV0MsR0FDUEEsRUFBZSxLQUFJLE9BQ25CQSxFQUFnQixNQUFJLFFBQ3BCQSxFQUFpQixPQUFJLFFBQ3hCLENBSkQsQ0FJR0EsS0FBYUEsR0FBVyxDQUFDLElBZTVCLElBQUk0RCxHQUFrQixDQUNsQkMsVUFBVSxFQUNWQyxVQUFXLEdBQ1hDLFlBQWEsRUFDYkMsWUFBYSxLQUNiQyxRQUFTLEtBQ1RDLGVBQWdCLFNBQVU3bkcsRUFBUThuRyxHQUU5QixRQUR3QixJQUFwQkEsSUFBOEJBLEVBQWtCLEtBQy9DN2dHLEtBQUt1Z0csV0FBYXhuRyxHQUFVdWQsTUFBTXZkLEdBQ25DLE9BQU84bkcsRUFFWCxJQUFJcGdHLEVBQVN4RyxLQUFLazVCLEtBQUtwNkIsRUFBU2lILEtBQUt3Z0csV0FPckMsT0FOSS8vRixFQUFTVCxLQUFLeWdHLFlBQ2RoZ0csRUFBU1QsS0FBS3lnRyxZQUVUaGdHLEVBQVNULEtBQUswZ0csY0FDbkJqZ0csRUFBU1QsS0FBSzBnRyxhQUVYamdHLENBQ1gsR0FPQXFnRyxHQUEyQixXQUMzQixTQUFTQSxJQUtMOWdHLEtBQUsrZ0csTUFBUSxTQUViL2dHLEtBQUs0ckIsTUFBUSxFQUtiNXJCLEtBQUtrdkMsUUFBVThJLEdBQVFncEQsTUFLdkJoaEcsS0FBSzAyQixPQUFTLEtBRWQxMkIsS0FBS3ErQixTQUFVLEVBQ2ZyK0IsS0FBS2tqRCxPQUNULENBd0JBLE9BdEJBNDlDLEVBQVU3L0YsVUFBVW13QixNQUFRLFdBQ3hCLElBQUkzbkIsRUFBTSxJQUFJcTNGLEVBTWQsT0FMQXIzRixFQUFJczNGLE1BQVEvZ0csS0FBSytnRyxNQUNqQnQzRixFQUFJbWlCLE1BQVE1ckIsS0FBSzRyQixNQUNqQm5pQixFQUFJeWxDLFFBQVVsdkMsS0FBS2t2QyxRQUNuQnpsQyxFQUFJaXRCLE9BQVMxMkIsS0FBSzAyQixPQUNsQmp0QixFQUFJNDBCLFFBQVVyK0IsS0FBS3ErQixRQUNaNTBCLENBQ1gsRUFFQXEzRixFQUFVNy9GLFVBQVVpaUQsTUFBUSxXQUN4QmxqRCxLQUFLK2dHLE1BQVEsU0FDYi9nRyxLQUFLNHJCLE1BQVEsRUFDYjVyQixLQUFLa3ZDLFFBQVU4SSxHQUFRZ3BELE1BQ3ZCaGhHLEtBQUswMkIsT0FBUyxLQUNkMTJCLEtBQUtxK0IsU0FBVSxDQUNuQixFQUVBeWlFLEVBQVU3L0YsVUFBVXN0QixRQUFVLFdBQzFCdnVCLEtBQUtrdkMsUUFBVSxLQUNmbHZDLEtBQUswMkIsT0FBUyxJQUNsQixFQUNPb3FFLENBQ1gsQ0EvQzhCLEdBaUUxQixHQUFnQixTQUFTaGdHLEVBQUd6RSxHQUk1QixPQUhBLEdBQWdCMkUsT0FBTzg4QixnQkFDbEIsQ0FBRTE3QixVQUFXLGNBQWdCYSxPQUFTLFNBQVVuQyxFQUFHekUsR0FBS3lFLEVBQUVzQixVQUFZL0YsQ0FBRyxHQUMxRSxTQUFVeUUsRUFBR3pFLEdBQUssSUFBSyxJQUFJdkIsS0FBS3VCLEVBQVNBLEVBQUU2RSxlQUFlcEcsS0FBTWdHLEVBQUVoRyxHQUFLdUIsRUFBRXZCLEdBQVEsRUFDOUUsR0FBY2dHLEVBQUd6RSxFQUM1QixFQUVBLFNBQVMsR0FBVXlFLEVBQUd6RSxHQUVsQixTQUFTMmhDLElBQU9oK0IsS0FBS3dULFlBQWMxUyxDQUFHLENBRHRDLEdBQWNBLEVBQUd6RSxHQUVqQnlFLEVBQUVHLFVBQWtCLE9BQU41RSxFQUFhMkUsT0FBT21CLE9BQU85RixJQUFNMmhDLEVBQUcvOEIsVUFBWTVFLEVBQUU0RSxVQUFXLElBQUkrOEIsRUFDbkYsQ0FFQSxTQUFTaWpFLEdBQWU3c0UsRUFBUTMyQixHQUM1QixJQUFJaWEsRUFBSXl0QixPQUNLLElBQVQxbkMsSUFBbUJBLEdBQU8sR0FDOUIsSUFBSUUsRUFBSXkyQixFQUFPcjdCLE9BQ2YsS0FBSTRFLEVBQUksR0FBUixDQUlBLElBREEsSUFBSTVDLEVBQU8sRUFDRnpCLEVBQUksRUFBR3lELEVBQUtxM0IsRUFBT3oyQixFQUFJLEdBQUlYLEVBQUtvM0IsRUFBT3oyQixFQUFJLEdBQUlyRSxFQUFJcUUsRUFBR3JFLEdBQUssRUFBRyxDQUNuRSxJQUFJMjVCLEVBQUttQixFQUFPOTZCLEdBQ1o0NUIsRUFBS2tCLEVBQU85NkIsRUFBSSxHQUNwQnlCLElBQVNrNEIsRUFBS2wyQixJQUFPbTJCLEVBQUtsMkIsR0FDMUJELEVBQUtrMkIsRUFDTGoyQixFQUFLazJCLENBQ1QsQ0FDQSxJQUFNejFCLEdBQVExQyxFQUFPLEdBQU8wQyxHQUFRMUMsR0FBUSxFQUN4QyxLQUFJcUMsRUFBSU8sRUFBSSxFQUNaLElBQVNyRSxFQUFJOEQsRUFBS0EsRUFBSSxFQUFJOUQsRUFBSXFFLEVBQUdyRSxHQUFLLEVBQUcsQ0FDckMsSUFBSTRuRyxFQUFLdmpHLEVBQUlyRSxFQUFJLEVBQ2I2bkcsRUFBS3hqRyxFQUFJckUsRUFBSSxFQUNiOG5HLEVBQUs5bkcsRUFDTCtuRyxFQUFLL25HLEVBQUksRUFDYm9lLEVBQUssQ0FBQzBjLEVBQU9ndEUsR0FBS2h0RSxFQUFPOHNFLElBQU05c0UsRUFBTzhzRSxHQUFNeHBGLEVBQUcsR0FBSTBjLEVBQU9ndEUsR0FBTTFwRixFQUFHLEdBQ25FeXRCLEVBQUssQ0FBQy9RLEVBQU9pdEUsR0FBS2p0RSxFQUFPK3NFLElBQU0vc0UsRUFBTytzRSxHQUFNaDhELEVBQUcsR0FBSS9RLEVBQU9pdEUsR0FBTWw4RCxFQUFHLEVBQ3ZFLENBUmEsQ0FWakIsQ0FvQkosQ0FXQSxJQUFJbThELEdBQVksQ0FDWkMsTUFBTyxTQUFVQyxHQUNiQSxFQUFhcHRFLE9BQVNvdEUsRUFBYUMsTUFBTXJ0RSxPQUFPMXhCLE9BQ3BELEVBQ0FnL0YsWUFBYSxTQUFVRixFQUFjRyxHQUNqQyxJQUFJdnRFLEVBQVNvdEUsRUFBYXB0RSxPQUN0Qnp6QixFQUFRNmdHLEVBQWE3Z0csTUFDckJpaEcsRUFBUUQsRUFBaUJ2dEUsT0FDekIwK0MsRUFBVTZ1QixFQUFpQjd1QixRQUMvQixHQUFJMStDLEVBQU9yN0IsUUFBVSxFQUFHLENBQ3BCa29HLEdBQWU3c0UsR0FBUSxHQUd2QixJQUZBLElBQUl5dEUsRUFBWSxHQUVQdm9HLEVBQUksRUFBR0EsRUFBSXFILEVBQU01SCxPQUFRTyxJQUFLLENBQ25DLElBQUltRSxFQUFPa0QsRUFBTXJILEdBQ2pCMm5HLEdBQWV4akcsRUFBSzIyQixRQUFRLEdBQzVCeXRFLEVBQVVsb0csS0FBS3k2QixFQUFPcjdCLE9BQVMsR0FDL0JxN0IsRUFBU0EsRUFBT3h4QixPQUFPbkYsRUFBSzIyQixPQUNoQyxDQUVBLElBQUlqN0IsRUFBWWhCLEdBQU9pOEIsRUFBUXl0RSxFQUFXLEdBQzFDLElBQUsxb0csRUFDRCxPQUVKLElBQUkyb0csRUFBVUYsRUFBTTdvRyxPQUFTLEVBQzdCLElBQVNPLEVBQUksRUFBR0EsRUFBSUgsRUFBVUosT0FBUU8sR0FBSyxFQUN2Q3c1RSxFQUFRbjVFLEtBQUtSLEVBQVVHLEdBQUt3b0csR0FDNUJodkIsRUFBUW41RSxLQUFLUixFQUFVRyxFQUFJLEdBQUt3b0csR0FDaENodkIsRUFBUW41RSxLQUFLUixFQUFVRyxFQUFJLEdBQUt3b0csR0FFcEMsSUFBU3hvRyxFQUFJLEVBQUdBLEVBQUk4NkIsRUFBT3I3QixPQUFRTyxJQUMvQnNvRyxFQUFNam9HLEtBQUt5NkIsRUFBTzk2QixHQUUxQixDQUNKLEdBY0F5b0csR0FBYyxDQUNkUixNQUFPLFNBQVVDLEdBRWIsSUFDSTdvRyxFQUNBQyxFQUNBODZCLEVBQ0FDLEVBQ0FxdUUsRUFDQUMsRUFOQTd0RSxFQUFTb3RFLEVBQWFwdEUsT0FPMUIsR0FBSW90RSxFQUFhNTZGLE9BQVNrcUIsR0FBTzBDLEtBQU0sQ0FDbkMsSUFBSTB1RSxFQUFTVixFQUFhQyxNQUMxQjlvRyxFQUFJdXBHLEVBQU92cEcsRUFDWEMsRUFBSXNwRyxFQUFPdHBHLEVBQ1hvcEcsRUFBS0MsRUFBS0MsRUFBTzN1RSxPQUNqQkcsRUFBS0MsRUFBSyxDQUNkLE1BQ0ssR0FBSTZ0RSxFQUFhNTZGLE9BQVNrcUIsR0FBT2tELEtBQU0sQ0FDeEMsSUFBSW11RSxFQUFVWCxFQUFhQyxNQUMzQjlvRyxFQUFJd3BHLEVBQVF4cEcsRUFDWkMsRUFBSXVwRyxFQUFRdnBHLEVBQ1pvcEcsRUFBS0csRUFBUW5yRixNQUNiaXJGLEVBQUtFLEVBQVFsckYsT0FDYnljLEVBQUtDLEVBQUssQ0FDZCxLQUNLLENBQ0QsSUFBSXl1RSxFQUFjWixFQUFhQyxNQUMzQjN0RSxFQUFZc3VFLEVBQVlwckYsTUFBUSxFQUNoQytjLEVBQWFxdUUsRUFBWW5yRixPQUFTLEVBQ3RDdGUsRUFBSXlwRyxFQUFZenBHLEVBQUltN0IsRUFDcEJsN0IsRUFBSXdwRyxFQUFZeHBHLEVBQUltN0IsRUFFcEJMLEVBQUtJLEdBRExrdUUsRUFBS0MsRUFBS2hvRyxLQUFLQyxJQUFJLEVBQUdELEtBQUt3RixJQUFJMmlHLEVBQVk3dUUsT0FBUXQ1QixLQUFLd0YsSUFBSXEwQixFQUFXQyxNQUV2RUosRUFBS0ksRUFBYWt1RSxDQUN0QixDQUNBLEdBQU1ELEdBQU0sR0FBS0MsR0FBTSxHQUFLdnVFLEdBQU0sR0FBS0MsR0FBTSxFQUE3QyxDQUtBLElBQUl2MkIsRUFBSW5ELEtBQUtrNUIsS0FBSyxJQUFNbDVCLEtBQUt3OUIsS0FBS3VxRSxFQUFLQyxJQUNuQ3RrRyxFQUFTLEVBQUpQLEdBQVVzMkIsRUFBSyxFQUFJLElBQU1DLEVBQUssRUFBSSxHQUUzQyxHQURBUyxFQUFPcjdCLE9BQVM0RSxFQUNOLElBQU5BLEVBQUosQ0FHQSxHQUFVLElBQU5QLEVBTUEsT0FMQWczQixFQUFPcjdCLE9BQVMsRUFDaEJxN0IsRUFBTyxHQUFLQSxFQUFPLEdBQUt6N0IsRUFBSSs2QixFQUM1QlUsRUFBTyxHQUFLQSxFQUFPLEdBQUt4N0IsRUFBSSs2QixFQUM1QlMsRUFBTyxHQUFLQSxFQUFPLEdBQUt6N0IsRUFBSSs2QixPQUM1QlUsRUFBTyxHQUFLQSxFQUFPLEdBQUt4N0IsRUFBSSs2QixHQUdoQyxJQXdDUTkyQixFQUNBQyxFQXpDSnVsRyxFQUFLLEVBQ0xDLEVBQVUsRUFBSmxsRyxHQUFVczJCLEVBQUssRUFBSSxHQUFLLEVBQzlCNnVFLEVBQUtELEVBQ0xFLEVBQUs3a0csRUFJRFosRUFBS3BFLEdBRkxrRSxFQUFLNjJCLEVBQUtzdUUsR0FHVi91RSxFQUFLdDZCLEVBQUlrRSxFQUNURyxFQUFLcEUsR0FITGtFLEVBQUs2MkIsR0FRVCxHQUpBUyxFQUFPaXVFLEtBQVF0bEcsRUFDZnEzQixFQUFPaXVFLEtBQVFybEcsRUFDZm8zQixJQUFTa3VFLEdBQU10bEcsRUFDZm8zQixJQUFTa3VFLEdBQU1ydkUsRUFDWFUsRUFBSSxDQUNKLElBQUlULEVBQUt0NkIsRUFBSWtFLEVBQ2JzM0IsRUFBT211RSxLQUFRdHZFLEVBQ2ZtQixFQUFPbXVFLEtBQVFydkUsRUFDZmtCLElBQVNvdUUsR0FBTXR2RSxFQUNma0IsSUFBU291RSxHQUFNemxHLENBQ25CLENBRUosSUFBSyxJQUFJekQsRUFBSSxFQUFHQSxFQUFJOEQsRUFBRzlELElBQUssQ0FDeEIsSUFBSThDLEVBQUluQyxLQUFLKzJCLEdBQUssR0FBSzEzQixFQUFJOEQsR0FHdkJMLEVBQUtwRSxHQUZMa0UsRUFBSzYyQixFQUFNejVCLEtBQUtvOEIsSUFBSWo2QixHQUFLNGxHLEdBR3pCL3VFLEVBQUt0NkIsRUFBSWtFLEVBQ1RHLEVBQUtwRSxHQUhMa0UsRUFBSzYyQixFQUFNMTVCLEtBQUtxOEIsSUFBSWw2QixHQUFLNmxHLEdBSXpCL3VFLEVBQUt0NkIsRUFBSWtFLEVBQ2JzM0IsRUFBT2l1RSxLQUFRdGxHLEVBQ2ZxM0IsRUFBT2l1RSxLQUFRcmxHLEVBQ2ZvM0IsSUFBU2t1RSxHQUFNdGxHLEVBQ2ZvM0IsSUFBU2t1RSxHQUFNcnZFLEVBQ2ZtQixFQUFPbXVFLEtBQVF0dkUsRUFDZm1CLEVBQU9tdUUsS0FBUXJ2RSxFQUNma0IsSUFBU291RSxHQUFNdHZFLEVBQ2ZrQixJQUFTb3VFLEdBQU16bEcsQ0FDbkIsQ0FJUUEsRUFBS3BFLEdBRkxrRSxFQUFLNjJCLEdBR0xULEVBQUt0NkIsRUFBSWtFLEVBQ1RHLEVBQUtwRSxHQUhMa0UsRUFBSzYyQixFQUFLc3VFLEdBSVYvdUUsRUFBS3Q2QixFQUFJa0UsRUFDYnMzQixFQUFPaXVFLEtBQVF0bEcsRUFDZnEzQixFQUFPaXVFLEtBQVFybEcsRUFDZm8zQixJQUFTb3VFLEdBQU10dkUsRUFDZmtCLElBQVNvdUUsR0FBTXpsRyxFQUNYMjJCLElBQ0FVLEVBQU9pdUUsS0FBUXB2RSxFQUNmbUIsRUFBT2l1RSxLQUFRcmxHLEVBQ2ZvM0IsSUFBU291RSxHQUFNdHZFLEVBQ2ZrQixJQUFTb3VFLEdBQU12dkUsRUEvRHZCLENBUEEsTUFGSW1CLEVBQU9yN0IsT0FBUyxDQTJFeEIsRUFDQTJvRyxZQUFhLFNBQVVGLEVBQWNHLEdBQ2pDLElBQUl2dEUsRUFBU290RSxFQUFhcHRFLE9BQ3RCd3RFLEVBQVFELEVBQWlCdnRFLE9BQ3pCMCtDLEVBQVU2dUIsRUFBaUI3dUIsUUFDL0IsR0FBc0IsSUFBbEIxK0MsRUFBT3I3QixPQUFYLENBR0EsSUFFSUosRUFDQUMsRUFIQWtwRyxFQUFVRixFQUFNN29HLE9BQVMsRUFDekIwcEcsRUFBU1gsRUFHYixHQUFJTixFQUFhNTZGLE9BQVNrcUIsR0FBT29FLEtBQU0sQ0FDbkMsSUFBSWd0RSxFQUFTVixFQUFhQyxNQUMxQjlvRyxFQUFJdXBHLEVBQU92cEcsRUFDWEMsRUFBSXNwRyxFQUFPdHBHLENBQ2YsS0FDSyxDQUNELElBQUl3cEcsRUFBY1osRUFBYUMsTUFDL0I5b0csRUFBSXlwRyxFQUFZenBHLEVBQUt5cEcsRUFBWXByRixNQUFRLEVBQ3pDcGUsRUFBSXdwRyxFQUFZeHBHLEVBQUt3cEcsRUFBWW5yRixPQUFTLENBQzlDLENBQ0EsSUFBSXlmLEVBQVM4cUUsRUFBYTlxRSxPQUUxQmtyRSxFQUFNam9HLEtBQUs2bkcsRUFBYTlxRSxPQUFVQSxFQUFPdDZCLEVBQUl6RCxFQUFNKzlCLEVBQU9wNkIsRUFBSTFELEVBQUs4OUIsRUFBT2pCLEdBQUs5OEIsRUFBRzZvRyxFQUFhOXFFLE9BQVVBLEVBQU9yNkIsRUFBSTFELEVBQU0rOUIsRUFBTzUxQixFQUFJbEksRUFBSzg5QixFQUFPaEIsR0FBSzk4QixHQUN0SmtwRyxJQUNBRixFQUFNam9HLEtBQUt5NkIsRUFBTyxHQUFJQSxFQUFPLElBQzdCLElBQUssSUFBSTk2QixFQUFJLEVBQUdBLEVBQUk4NkIsRUFBT3I3QixPQUFRTyxHQUFLLEVBQ3BDc29HLEVBQU1qb0csS0FBS3k2QixFQUFPOTZCLEdBQUk4NkIsRUFBTzk2QixFQUFJLElBRWpDdzVFLEVBQVFuNUUsS0FBS21vRyxJQUFXVyxFQUFRWCxHQUVwQ2h2QixFQUFRbjVFLEtBQUs4b0csRUFBUyxFQUFHQSxFQUFRWCxFQXpCakMsQ0EwQkosR0FhQVksR0FBaUIsQ0FDakJuQixNQUFPLFNBQVVDLEdBSWIsSUFBSW1CLEVBQVduQixFQUFhQyxNQUN4QjlvRyxFQUFJZ3FHLEVBQVNocUcsRUFDYkMsRUFBSStwRyxFQUFTL3BHLEVBQ2JvZSxFQUFRMnJGLEVBQVMzckYsTUFDakJDLEVBQVMwckYsRUFBUzFyRixPQUNsQm1kLEVBQVNvdEUsRUFBYXB0RSxPQUMxQkEsRUFBT3I3QixPQUFTLEVBQ2hCcTdCLEVBQU96NkIsS0FBS2hCLEVBQUdDLEVBQUdELEVBQUlxZSxFQUFPcGUsRUFBR0QsRUFBSXFlLEVBQU9wZSxFQUFJcWUsRUFBUXRlLEVBQUdDLEVBQUlxZSxFQUNsRSxFQUNBeXFGLFlBQWEsU0FBVUYsRUFBY0csR0FDakMsSUFBSXZ0RSxFQUFTb3RFLEVBQWFwdEUsT0FDdEJ3dEUsRUFBUUQsRUFBaUJ2dEUsT0FDekIwdEUsRUFBVUYsRUFBTTdvRyxPQUFTLEVBQzdCNm9HLEVBQU1qb0csS0FBS3k2QixFQUFPLEdBQUlBLEVBQU8sR0FBSUEsRUFBTyxHQUFJQSxFQUFPLEdBQUlBLEVBQU8sR0FBSUEsRUFBTyxHQUFJQSxFQUFPLEdBQUlBLEVBQU8sSUFDL0Z1dEUsRUFBaUI3dUIsUUFBUW41RSxLQUFLbW9HLEVBQVNBLEVBQVUsRUFBR0EsRUFBVSxFQUFHQSxFQUFVLEVBQUdBLEVBQVUsRUFBR0EsRUFBVSxFQUN6RyxHQWNKLFNBQVNjLEdBQU1DLEVBQUlDLEVBQUlDLEdBRW5CLE9BQU9GLEdBRElDLEVBQUtELEdBQ0lFLENBQ3hCLENBaUJBLFNBQVNDLEdBQXFCQyxFQUFPQyxFQUFPQyxFQUFLQyxFQUFLQyxFQUFLQyxFQUFLajdGLFFBQ2hELElBQVJBLElBQWtCQSxFQUFNLElBUzVCLElBUkEsSUFDSStyQixFQUFTL3JCLEVBQ1RrN0YsRUFBSyxFQUNMQyxFQUFLLEVBQ0xDLEVBQUssRUFDTEMsRUFBSyxFQUNML3FHLEVBQUksRUFDSkMsRUFBSSxFQUNDVSxFQUFJLEVBQUc0RyxFQUFJLEVBQUc1RyxHQVJmLEtBUXlCQSxFQUc3QmlxRyxFQUFLWCxHQUFNSyxFQUFPRSxFQUZsQmpqRyxFQUFJNUcsRUFUQSxJQVlKa3FHLEVBQUtaLEdBQU1NLEVBQU9FLEVBQUtsakcsR0FDdkJ1akcsRUFBS2IsR0FBTU8sRUFBS0UsRUFBS25qRyxHQUNyQndqRyxFQUFLZCxHQUFNUSxFQUFLRSxFQUFLcGpHLEdBRXJCdkgsRUFBSWlxRyxHQUFNVyxFQUFJRSxFQUFJdmpHLEdBQ2xCdEgsRUFBSWdxRyxHQUFNWSxFQUFJRSxFQUFJeGpHLEdBRVIsSUFBTjVHLEdBQVc4NkIsRUFBT0EsRUFBT3I3QixPQUFTLEtBQU9KLEdBQUt5N0IsRUFBT0EsRUFBT3I3QixPQUFTLEtBQU9ILEdBR2hGdzdCLEVBQU96NkIsS0FBS2hCLEVBQUdDLEdBRW5CLE9BQU93N0IsQ0FDWCxDQVdBLElBQUl1dkUsR0FBd0IsQ0FDeEJwQyxNQUFPLFNBQVVDLEdBQ2IsR0FBSW9DLEdBQVNDLHdCQUNUOUIsR0FBWVIsTUFBTUMsT0FEdEIsQ0FJQSxJQUFJc0MsRUFBWXRDLEVBQWFDLE1BQ3pCcnRFLEVBQVNvdEUsRUFBYXB0RSxPQUN0Qno3QixFQUFJbXJHLEVBQVVuckcsRUFDZEMsRUFBSWtyRyxFQUFVbHJHLEVBQ2RvZSxFQUFROHNGLEVBQVU5c0YsTUFDbEJDLEVBQVM2c0YsRUFBVTdzRixPQUVuQnNjLEVBQVN0NUIsS0FBS0MsSUFBSSxFQUFHRCxLQUFLd0YsSUFBSXFrRyxFQUFVdndFLE9BQVF0NUIsS0FBS3dGLElBQUl1WCxFQUFPQyxHQUFVLElBQzlFbWQsRUFBT3I3QixPQUFTLEVBRVh3NkIsR0FJRHl2RSxHQUFxQnJxRyxFQUFHQyxFQUFJMjZCLEVBQVE1NkIsRUFBR0MsRUFBR0QsRUFBSTQ2QixFQUFRMzZCLEVBQUd3N0IsR0FDekQ0dUUsR0FBcUJycUcsRUFBSXFlLEVBQVF1YyxFQUFRMzZCLEVBQUdELEVBQUlxZSxFQUFPcGUsRUFBR0QsRUFBSXFlLEVBQU9wZSxFQUFJMjZCLEVBQVFhLEdBQ2pGNHVFLEdBQXFCcnFHLEVBQUlxZSxFQUFPcGUsRUFBSXFlLEVBQVNzYyxFQUFRNTZCLEVBQUlxZSxFQUFPcGUsRUFBSXFlLEVBQVF0ZSxFQUFJcWUsRUFBUXVjLEVBQVEzNkIsRUFBSXFlLEVBQVFtZCxHQUM1RzR1RSxHQUFxQnJxRyxFQUFJNDZCLEVBQVEzNkIsRUFBSXFlLEVBQVF0ZSxFQUFHQyxFQUFJcWUsRUFBUXRlLEVBQUdDLEVBQUlxZSxFQUFTc2MsRUFBUWEsSUFOcEZBLEVBQU96NkIsS0FBS2hCLEVBQUdDLEVBQUdELEVBQUlxZSxFQUFPcGUsRUFBR0QsRUFBSXFlLEVBQU9wZSxFQUFJcWUsRUFBUXRlLEVBQUdDLEVBQUlxZSxFQVpsRSxDQW9CSixFQUNBeXFGLFlBQWEsU0FBVUYsRUFBY0csR0FDakMsR0FBSWlDLEdBQVNDLHdCQUNUOUIsR0FBWUwsWUFBWUYsRUFBY0csT0FEMUMsQ0FTQSxJQUxBLElBQUl2dEUsRUFBU290RSxFQUFhcHRFLE9BQ3RCd3RFLEVBQVFELEVBQWlCdnRFLE9BQ3pCMCtDLEVBQVU2dUIsRUFBaUI3dUIsUUFDM0JpeEIsRUFBU25DLEVBQU03b0csT0FBUyxFQUN4QkksRUFBWWhCLEdBQU9pOEIsRUFBUSxLQUFNLEdBQzVCOTZCLEVBQUksRUFBRzRHLEVBQUkvRyxFQUFVSixPQUFRTyxFQUFJNEcsRUFBRzVHLEdBQUssRUFDOUN3NUUsRUFBUW41RSxLQUFLUixFQUFVRyxHQUFLeXFHLEdBRTVCanhCLEVBQVFuNUUsS0FBS1IsRUFBVUcsRUFBSSxHQUFLeXFHLEdBRWhDanhCLEVBQVFuNUUsS0FBS1IsRUFBVUcsRUFBSSxHQUFLeXFHLEdBRXBDLElBQVN6cUcsRUFBSSxFQUFHNEcsRUFBSWswQixFQUFPcjdCLE9BQVFPLEVBQUk0RyxFQUFHNUcsSUFDdENzb0csRUFBTWpvRyxLQUFLeTZCLEVBQU85NkIsR0FBSTg2QixJQUFTOTZCLEdBZG5DLENBZ0JKLEdBbUJKLFNBQVMwcUcsR0FBT3JyRyxFQUFHQyxFQUFHdTVCLEVBQUlDLEVBQUk2eEUsRUFBYUMsRUFBYTVwRyxFQUE0RXNuRyxHQUNoSSxJQUtJdUMsRUFDQUMsRUFDQTlwRyxHQUNBNnBHLEVBQU0veEUsRUFDTmd5RSxHQUFPanlFLElBR1BneUUsR0FBTy94RSxFQUNQZ3lFLEVBQU1qeUUsR0FHVixJQUFJa3lFLEVBaEJLMXJHLEVBQUt3NUIsRUFBSzh4RSxFQWdCSkUsRUFDWEcsRUFoQksxckcsRUFBS3c1QixFQUFLNnhFLEVBZ0JKRyxFQUNYRyxFQWhCSzVyRyxFQUFLdzVCLEVBQUsreEUsRUFnQkpDLEVBQ1hLLEVBaEJLNXJHLEVBQUt3NUIsRUFBSzh4RSxFQWdCSkUsRUFJZixPQUZBeEMsRUFBTWpvRyxLQUFLMHFHLEVBQUtDLEdBQ2hCMUMsRUFBTWpvRyxLQUFLNHFHLEVBQUtDLEdBQ1QsQ0FDWCxDQWlCQSxTQUFTdjFFLEdBQU14eUIsRUFBSUcsRUFBSTg3RSxFQUFJQyxFQUFJcmxFLEVBQUlteEYsRUFBSTdDLEVBQU90bkcsR0FDMUMsSUFBSW9xRyxFQUFTaHNCLEVBQUtqOEUsRUFDZGtvRyxFQUFTaHNCLEVBQUsvN0UsRUFDZGdvRyxFQUFTM3FHLEtBQUtzOUIsTUFBTW10RSxFQUFRQyxHQUM1QkUsRUFBUzVxRyxLQUFLczlCLE1BQU1qa0IsRUFBSzdXLEVBQUlnb0csRUFBSzduRyxHQUNsQ3RDLEdBQWFzcUcsRUFBU0MsRUFDdEJELEdBQW9CLEVBQVYzcUcsS0FBSysyQixJQUVUMTJCLEdBQWFzcUcsRUFBU0MsSUFDNUJBLEdBQW9CLEVBQVY1cUcsS0FBSysyQixJQUVuQixJQUFJOHpFLEVBQWFGLEVBQ2JHLEVBQVlGLEVBQVNELEVBQ3JCSSxFQUFlL3FHLEtBQUttRSxJQUFJMm1HLEdBa0J4Qnh4RSxFQUFTdDVCLEtBQUt3OUIsS0FBTWl0RSxFQUFTQSxFQUFXQyxFQUFTQSxHQUNqRE0sRUFBc0UsR0FBekQsR0FBS0QsRUFBZS9xRyxLQUFLdzlCLEtBQUtsRSxHQUFVdDVCLEtBQUsrMkIsSUFBTyxHQUNqRWswRSxFQUFXSCxFQUFZRSxFQUUzQixHQURBSCxHQUFjSSxFQUNWNXFHLEVBQVcsQ0FDWHNuRyxFQUFNam9HLEtBQUs4QyxFQUFJRyxHQUNmZ2xHLEVBQU1qb0csS0FBSysrRSxFQUFJQyxHQUNmLElBQUssSUFBSXIvRSxFQUFJLEVBQUc4OEIsRUFBUTB1RSxFQUFZeHJHLEVBQUkyckcsRUFBVTNyRyxJQUFLODhCLEdBQVM4dUUsRUFDNUR0RCxFQUFNam9HLEtBQUs4QyxFQUFJRyxHQUNmZ2xHLEVBQU1qb0csS0FBSzhDLEVBQU94QyxLQUFLcThCLElBQUlGLEdBQVM3QyxFQUFVMzJCLEVBQU8zQyxLQUFLbzhCLElBQUlELEdBQVM3QyxHQUUzRXF1RSxFQUFNam9HLEtBQUs4QyxFQUFJRyxHQUNmZ2xHLEVBQU1qb0csS0FBSzJaLEVBQUlteEYsRUFDbkIsS0FDSyxDQUdELElBRkE3QyxFQUFNam9HLEtBQUsrK0UsRUFBSUMsR0FDZmlwQixFQUFNam9HLEtBQUs4QyxFQUFJRyxHQUNOdEQsRUFBSSxFQUFHODhCLEVBQVEwdUUsRUFBWXhyRyxFQUFJMnJHLEVBQVUzckcsSUFBSzg4QixHQUFTOHVFLEVBQzVEdEQsRUFBTWpvRyxLQUFLOEMsRUFBT3hDLEtBQUtxOEIsSUFBSUYsR0FBUzdDLEVBQVUzMkIsRUFBTzNDLEtBQUtvOEIsSUFBSUQsR0FBUzdDLEdBQ3ZFcXVFLEVBQU1qb0csS0FBSzhDLEVBQUlHLEdBRW5CZ2xHLEVBQU1qb0csS0FBSzJaLEVBQUlteEYsR0FDZjdDLEVBQU1qb0csS0FBSzhDLEVBQUlHLEVBQ25CLENBQ0EsT0FBa0IsRUFBWHFvRyxDQUNYLENBdVNBLFNBQVNFLEdBQVUzRCxFQUFjRyxHQUN6QkgsRUFBYTRELFVBQVVDLE9BaEMvQixTQUF5QjdELEVBQWNHLEdBQ25DLElBQUlyb0csRUFBSSxFQUNKbW9HLEVBQVFELEVBQWFDLE1BQ3JCcnRFLEVBQVNvdEUsRUFBYXB0RSxRQUFVcXRFLEVBQU1ydEUsT0FDdENreEUsRUFBYzdELEVBQU03NkYsT0FBU2txQixHQUFPeUQsTUFBUWt0RSxFQUFNanRFLFlBQ3RELEdBQXNCLElBQWxCSixFQUFPcjdCLE9BQVgsQ0FFQSxJQUFJNm9HLEVBQVFELEVBQWlCdnRFLE9BQ3pCMCtDLEVBQVU2dUIsRUFBaUI3dUIsUUFDM0IvNUUsRUFBU3E3QixFQUFPcjdCLE9BQVMsRUFDekJpbUcsRUFBYTRDLEVBQU03b0csT0FBUyxFQUM1QnlwQyxFQUFldzhELEVBRW5CLElBREE0QyxFQUFNam9HLEtBQUt5NkIsRUFBTyxHQUFJQSxFQUFPLElBQ3hCOTZCLEVBQUksRUFBR0EsRUFBSVAsRUFBUU8sSUFDcEJzb0csRUFBTWpvRyxLQUFLeTZCLEVBQVcsRUFBSjk2QixHQUFRODZCLEVBQVksRUFBSjk2QixFQUFTLElBQzNDdzVFLEVBQVFuNUUsS0FBSzZvQyxFQUFjQSxFQUFlLEdBQzFDQSxJQUVBOGlFLEdBQ0F4eUIsRUFBUW41RSxLQUFLNm9DLEVBQWN3OEQsRUFiakIsQ0FlbEIsQ0FZUXVHLENBQWdCL0QsRUFBY0csR0EvUnRDLFNBQTRCSCxFQUFjRyxHQUN0QyxJQUFJRixFQUFRRCxFQUFhQyxNQUNyQnJ0RSxFQUFTb3RFLEVBQWFwdEUsUUFBVXF0RSxFQUFNcnRFLE9BQU8xeEIsUUFDN0Mwd0IsRUFBTXV1RSxFQUFpQjZELGNBQzNCLEdBQXNCLElBQWxCcHhFLEVBQU9yN0IsT0FBWCxDQVlBLElBQUl1eEMsRUFBUWszRCxFQUFhNEQsVUFFckJLLEVBQWEsSUFBSXQwRSxHQUFNaUQsRUFBTyxHQUFJQSxFQUFPLElBQ3pDc3hFLEVBQVksSUFBSXYwRSxHQUFNaUQsRUFBT0EsRUFBT3I3QixPQUFTLEdBQUlxN0IsRUFBT0EsRUFBT3I3QixPQUFTLElBQ3hFdXNHLEVBQWM3RCxFQUFNNzZGLE9BQVNrcUIsR0FBT3lELE1BQVFrdEUsRUFBTWp0RSxZQUNsRG14RSxFQUFhMXJHLEtBQUttRSxJQUFJcW5HLEVBQVc5c0csRUFBSStzRyxFQUFVL3NHLEdBQUt5NkIsR0FDakRuNUIsS0FBS21FLElBQUlxbkcsRUFBVzdzRyxFQUFJOHNHLEVBQVU5c0csR0FBS3c2QixFQUU5QyxHQUFJa3lFLEVBQWEsQ0FFYmx4RSxFQUFTQSxFQUFPMXhCLFFBQ1ppakcsSUFDQXZ4RSxFQUFPbmtCLE1BQ1Bta0IsRUFBT25rQixNQUNQeTFGLEVBQVV4MkUsSUFBSWtGLEVBQU9BLEVBQU9yN0IsT0FBUyxHQUFJcTdCLEVBQU9BLEVBQU9yN0IsT0FBUyxLQUVwRSxJQUFJNnNHLEVBQTJDLElBQTlCSCxFQUFXOXNHLEVBQUkrc0csRUFBVS9zRyxHQUN0Q2t0RyxFQUEyQyxJQUE5QkgsRUFBVTlzRyxFQUFJNnNHLEVBQVc3c0csR0FDMUN3N0IsRUFBTzNsQixRQUFRbTNGLEVBQVdDLEdBQzFCenhFLEVBQU96NkIsS0FBS2lzRyxFQUFXQyxFQUMzQixDQUNBLElBQUlqRSxFQUFRRCxFQUFpQnZ0RSxPQUN6QnI3QixFQUFTcTdCLEVBQU9yN0IsT0FBUyxFQUN6QitzRyxFQUFhMXhFLEVBQU9yN0IsT0FDcEJndEcsRUFBYW5FLEVBQU03b0csT0FBUyxFQUU1QmllLEVBQVFzekIsRUFBTXR6QixNQUFRLEVBQ3RCZ3ZGLEVBQWVodkYsRUFBUUEsRUFDdkJpdkYsRUFBb0IzN0QsRUFBTTQ3RCxXQUFhNTdELEVBQU00N0QsV0FFN0NycEcsRUFBS3UzQixFQUFPLEdBQ1p0M0IsRUFBS3MzQixFQUFPLEdBQ1pyM0IsRUFBS3EzQixFQUFPLEdBQ1pwM0IsRUFBS28zQixFQUFPLEdBQ1puQixFQUFLLEVBQ0xDLEVBQUssRUFFTGl6RSxJQUFVcnBHLEVBQUtFLEdBQ2ZvcEcsRUFBUXZwRyxFQUFLRSxFQUNic3BHLEVBQVMsRUFDVEMsRUFBUyxFQUNUQyxFQUFPdHNHLEtBQUt3OUIsS0FBTTB1RSxFQUFRQSxFQUFVQyxFQUFRQSxHQUNoREQsR0FBU0ksRUFDVEgsR0FBU0csRUFDVEosR0FBU252RixFQUNUb3ZGLEdBQVNwdkYsRUFDVCxJQUFJd3ZGLEVBQVFsOEQsRUFBTW04RCxVQUNkeEMsRUFBNEIsR0FBYixFQUFJdUMsR0FDbkJ0QyxFQUFzQixFQUFSc0MsRUFDYmxCLElBQ0doN0QsRUFBTW84RCxNQUFRaEssR0FBU2lLLE1BQ3ZCYixHQUFjNzJFLEdBQU1weUIsRUFBTXNwRyxHQUFTbEMsRUFBY0MsR0FBZSxHQUFNcG5HLEVBQU1zcEcsR0FBU25DLEVBQWNDLEdBQWUsR0FBTXJuRyxFQUFNc3BHLEVBQVFsQyxFQUFjbm5HLEVBQU1zcEcsRUFBUW5DLEVBQWNwbkcsRUFBTXNwRyxFQUFRakMsRUFBY3BuRyxFQUFNc3BHLEVBQVFsQyxFQUFjdEMsR0FBTyxHQUFRLEVBRWxQdDNELEVBQU1vOEQsTUFBUWhLLEdBQVNrSyxTQUM1QmQsR0FBYzlCLEdBQU9ubkcsRUFBSUMsRUFBSXFwRyxFQUFPQyxFQUFPbkMsRUFBYUMsR0FBYSxFQUFNdEMsS0FJbkZBLEVBQU1qb0csS0FBS2tELEVBQU1zcEcsRUFBUWxDLEVBQWNubkcsRUFBTXNwRyxFQUFRbkMsR0FDckRyQyxFQUFNam9HLEtBQUtrRCxFQUFNc3BHLEVBQVFqQyxFQUFjcG5HLEVBQU1zcEcsRUFBUWxDLEdBQ3JELElBQUssSUFBSTVxRyxFQUFJLEVBQUdBLEVBQUlQLEVBQVMsSUFBS08sRUFBRyxDQUNqQ3VELEVBQUt1M0IsRUFBaUIsR0FBVDk2QixFQUFJLElBQ2pCd0QsRUFBS3MzQixFQUFrQixHQUFUOTZCLEVBQUksR0FBVSxHQUM1QnlELEVBQUtxM0IsRUFBVyxFQUFKOTZCLEdBQ1owRCxFQUFLbzNCLEVBQVksRUFBSjk2QixFQUFTLEdBQ3RCMjVCLEVBQUttQixFQUFpQixHQUFUOTZCLEVBQUksSUFDakI0NUIsRUFBS2tCLEVBQWtCLEdBQVQ5NkIsRUFBSSxHQUFVLEdBQzVCNnNHLElBQVVycEcsRUFBS0UsR0FDZm9wRyxFQUFRdnBHLEVBQUtFLEVBRWJvcEcsR0FEQUksRUFBT3RzRyxLQUFLdzlCLEtBQU0wdUUsRUFBUUEsRUFBVUMsRUFBUUEsR0FFNUNBLEdBQVNHLEVBQ1RKLEdBQVNudkYsRUFDVG92RixHQUFTcHZGLEVBQ1RxdkYsSUFBV3JwRyxFQUFLazJCLEdBQ2hCb3pFLEVBQVN2cEcsRUFBS2syQixFQUVkb3pFLEdBREFFLEVBQU90c0csS0FBS3c5QixLQUFNNHVFLEVBQVNBLEVBQVdDLEVBQVNBLEdBRS9DQSxHQUFVQyxFQUNWRixHQUFVcnZGLEVBQ1ZzdkYsR0FBVXR2RixFQUVWLElBQUk2dkYsRUFBTTlwRyxFQUFLRixFQUNYaXFHLEVBQU1ocUcsRUFBS0UsRUFDWCtwRyxFQUFNaHFHLEVBQUtrMkIsRUFDWCt6RSxFQUFNOXpFLEVBQUtsMkIsRUFFWGlxRyxFQUFPSixFQUFNRSxFQUFRRCxFQUFNRSxFQUUzQkUsRUFBU0osRUFBTUMsRUFBUUMsRUFBTUgsRUFDN0J2c0csRUFBYTRzRyxFQUFRLEVBR3pCLEdBQUlqdEcsS0FBS21FLElBQUk4b0csR0FBUyxLQUFRanRHLEtBQUttRSxJQUFJNm9HLEdBQ25DckYsRUFBTWpvRyxLQUFLb0QsRUFBTW9wRyxFQUFRbEMsRUFBY2puRyxFQUFNb3BHLEVBQVFuQyxHQUNyRHJDLEVBQU1qb0csS0FBS29ELEVBQU1vcEcsRUFBUWpDLEVBQWNsbkcsRUFBTW9wRyxFQUFRbEMsR0FFakQrQyxHQUFPLElBQ0gzOEQsRUFBTTFsQyxPQUFTNjNGLEdBQVVrSyxNQUN6QmIsR0FBYzcyRSxHQUFNbHlCLEVBQUlDLEVBQUlELEVBQU1vcEcsRUFBUWxDLEVBQWNqbkcsRUFBTW9wRyxFQUFRbkMsRUFBY2xuRyxFQUFNc3BHLEVBQVNwQyxFQUFjam5HLEVBQU1zcEcsRUFBU3JDLEVBQWNyQyxHQUFPLEdBQVMsRUFHOUprRSxHQUFjLEVBRWxCbEUsRUFBTWpvRyxLQUFLb0QsRUFBTXNwRyxFQUFTbkMsRUFBY2xuRyxFQUFNc3BHLEVBQVNwQyxHQUN2RHRDLEVBQU1qb0csS0FBS29ELEVBQU1zcEcsRUFBU3BDLEVBQWNqbkcsRUFBTXNwRyxFQUFTckMsUUFaL0QsQ0FpQkEsSUFBSTF0RSxJQUFRNHZFLEVBQVF0cEcsS0FBUXVwRyxFQUFRcHBHLEtBQVVtcEcsRUFBUXBwRyxLQUFRcXBHLEVBQVF0cEcsR0FDbEVxcUcsSUFBUWQsRUFBU3B6RSxLQUFRcXpFLEVBQVN0cEcsS0FBVXFwRyxFQUFTdHBHLEtBQVF1cEcsRUFBU3B6RSxHQUN0RXowQixHQUFPb29HLEVBQU1NLEVBQU9KLEVBQU14d0UsR0FBTzJ3RSxFQUNqQ3hvRyxHQUFPc29HLEVBQU16d0UsRUFBT3V3RSxFQUFNSyxHQUFPRCxFQUNqQ0UsR0FBVTNvRyxFQUFLMUIsSUFBTzBCLEVBQUsxQixJQUFTMkIsRUFBSzFCLElBQU8wQixFQUFLMUIsR0FFckRxcUcsRUFBTXRxRyxHQUFPMEIsRUFBSzFCLEdBQU1rbkcsRUFDeEJxRCxFQUFNdHFHLEdBQU8wQixFQUFLMUIsR0FBTWluRyxFQUV4QnNELEVBQU14cUcsR0FBTzBCLEVBQUsxQixHQUFNbW5HLEVBQ3hCc0QsRUFBTXhxRyxHQUFPMEIsRUFBSzFCLEdBQU1rbkcsRUFHeEJ1RCxFQUFlbnRHLEVBQVkycEcsRUFBY0MsRUFFekJrRCxHQUhTbnRHLEtBQUt3RixJQUFLb25HLEVBQU1BLEVBQVFDLEVBQU1BLEVBQU9DLEVBQU1BLEVBQVFDLEVBQU1BLEdBRTlCUyxFQUFlQSxFQUFlekIsRUFHOUUxN0QsRUFBTTFsQyxPQUFTNjNGLEdBQVVpTCxPQUFTTixFQUFRcEIsRUFBZUMsR0FDckQzckcsR0FDQXNuRyxFQUFNam9HLEtBQUswdEcsRUFBS0MsR0FDaEIxRixFQUFNam9HLEtBQUtvRCxFQUFNb3BHLEVBQVFqQyxFQUFjbG5HLEVBQU1vcEcsRUFBUWxDLEdBQ3JEdEMsRUFBTWpvRyxLQUFLMHRHLEVBQUtDLEdBQ2hCMUYsRUFBTWpvRyxLQUFLb0QsRUFBTXNwRyxFQUFTbkMsRUFBY2xuRyxFQUFNc3BHLEVBQVNwQyxLQUd2RHRDLEVBQU1qb0csS0FBS29ELEVBQU1vcEcsRUFBUWxDLEVBQWNqbkcsRUFBTW9wRyxFQUFRbkMsR0FDckRyQyxFQUFNam9HLEtBQUs0dEcsRUFBS0MsR0FDaEI1RixFQUFNam9HLEtBQUtvRCxFQUFNc3BHLEVBQVNwQyxFQUFjam5HLEVBQU1zcEcsRUFBU3JDLEdBQ3ZEckMsRUFBTWpvRyxLQUFLNHRHLEVBQUtDLElBRXBCMUIsR0FBYyxHQUVUeDdELEVBQU0xbEMsT0FBUzYzRixHQUFVa0ssTUFDMUJyc0csR0FDQXNuRyxFQUFNam9HLEtBQUswdEcsRUFBS0MsR0FDaEIxRixFQUFNam9HLEtBQUtvRCxFQUFNb3BHLEVBQVFqQyxFQUFjbG5HLEVBQU1vcEcsRUFBUWxDLEdBQ3JENEIsR0FBYzcyRSxHQUFNbHlCLEVBQUlDLEVBQUlELEVBQU1vcEcsRUFBUWpDLEVBQWNsbkcsRUFBTW9wRyxFQUFRbEMsRUFBY25uRyxFQUFNc3BHLEVBQVNuQyxFQUFjbG5HLEVBQU1zcEcsRUFBU3BDLEVBQWN0QyxHQUFPLEdBQVEsRUFDN0pBLEVBQU1qb0csS0FBSzB0RyxFQUFLQyxHQUNoQjFGLEVBQU1qb0csS0FBS29ELEVBQU1zcEcsRUFBU25DLEVBQWNsbkcsRUFBTXNwRyxFQUFTcEMsS0FHdkR0QyxFQUFNam9HLEtBQUtvRCxFQUFNb3BHLEVBQVFsQyxFQUFjam5HLEVBQU1vcEcsRUFBUW5DLEdBQ3JEckMsRUFBTWpvRyxLQUFLNHRHLEVBQUtDLEdBQ2hCMUIsR0FBYzcyRSxHQUFNbHlCLEVBQUlDLEVBQUlELEVBQU1vcEcsRUFBUWxDLEVBQWNqbkcsRUFBTW9wRyxFQUFRbkMsRUFBY2xuRyxFQUFNc3BHLEVBQVNwQyxFQUFjam5HLEVBQU1zcEcsRUFBU3JDLEVBQWNyQyxHQUFPLEdBQVMsRUFDOUpBLEVBQU1qb0csS0FBS29ELEVBQU1zcEcsRUFBU3BDLEVBQWNqbkcsRUFBTXNwRyxFQUFTckMsR0FDdkRyQyxFQUFNam9HLEtBQUs0dEcsRUFBS0MsS0FJcEI1RixFQUFNam9HLEtBQUswdEcsRUFBS0MsR0FDaEIxRixFQUFNam9HLEtBQUs0dEcsRUFBS0MsS0FLcEI1RixFQUFNam9HLEtBQUtvRCxFQUFNb3BHLEVBQVFsQyxFQUFjam5HLEVBQU1vcEcsRUFBUW5DLEdBQ3JEckMsRUFBTWpvRyxLQUFLb0QsRUFBTW9wRyxFQUFRakMsRUFBY2xuRyxFQUFNb3BHLEVBQVFsQyxHQUNqRDU1RCxFQUFNMWxDLE9BQVM2M0YsR0FBVWtLLE1BRXJCYixHQURBeHJHLEVBQ2MyMEIsR0FBTWx5QixFQUFJQyxFQUFJRCxFQUFNb3BHLEVBQVFqQyxFQUFjbG5HLEVBQU1vcEcsRUFBUWxDLEVBQWNubkcsRUFBTXNwRyxFQUFTbkMsRUFBY2xuRyxFQUFNc3BHLEVBQVNwQyxFQUFjdEMsR0FBTyxHQUFRLEVBRy9JM3lFLEdBQU1seUIsRUFBSUMsRUFBSUQsRUFBTW9wRyxFQUFRbEMsRUFBY2puRyxFQUFNb3BHLEVBQVFuQyxFQUFjbG5HLEVBQU1zcEcsRUFBU3BDLEVBQWNqbkcsRUFBTXNwRyxFQUFTckMsRUFBY3JDLEdBQU8sR0FBUyxFQUc3SnQzRCxFQUFNMWxDLE9BQVM2M0YsR0FBVWtMLE9BQVNQLEVBQVFwQixHQUFnQkMsSUFDM0QzckcsR0FDQXNuRyxFQUFNam9HLEtBQUs0dEcsRUFBS0MsR0FDaEI1RixFQUFNam9HLEtBQUs0dEcsRUFBS0MsS0FHaEI1RixFQUFNam9HLEtBQUswdEcsRUFBS0MsR0FDaEIxRixFQUFNam9HLEtBQUswdEcsRUFBS0MsSUFFcEJ4QixHQUFjLEdBRWxCbEUsRUFBTWpvRyxLQUFLb0QsRUFBTXNwRyxFQUFTcEMsRUFBY2puRyxFQUFNc3BHLEVBQVNyQyxHQUN2RHJDLEVBQU1qb0csS0FBS29ELEVBQU1zcEcsRUFBU25DLEVBQWNsbkcsRUFBTXNwRyxFQUFTcEMsR0FDdkQ0QixHQUFjLEVBaEZsQixDQWtGSixDQUNBanBHLEVBQUt1M0IsRUFBc0IsR0FBZHI3QixFQUFTLElBQ3RCK0QsRUFBS3MzQixFQUF1QixHQUFkcjdCLEVBQVMsR0FBVSxHQUNqQ2dFLEVBQUtxM0IsRUFBc0IsR0FBZHI3QixFQUFTLElBRXRCb3RHLElBQVVycEcsR0FEVkUsRUFBS28zQixFQUF1QixHQUFkcjdCLEVBQVMsR0FBVSxLQUVqQ3F0RyxFQUFRdnBHLEVBQUtFLEVBRWJvcEcsR0FEQUksRUFBT3RzRyxLQUFLdzlCLEtBQU0wdUUsRUFBUUEsRUFBVUMsRUFBUUEsR0FFNUNBLEdBQVNHLEVBQ1RKLEdBQVNudkYsRUFDVG92RixHQUFTcHZGLEVBQ1Q0cUYsRUFBTWpvRyxLQUFLb0QsRUFBTW9wRyxFQUFRbEMsRUFBY2puRyxFQUFNb3BHLEVBQVFuQyxHQUNyRHJDLEVBQU1qb0csS0FBS29ELEVBQU1vcEcsRUFBUWpDLEVBQWNsbkcsRUFBTW9wRyxFQUFRbEMsR0FDaERvQixJQUNHaDdELEVBQU1vOEQsTUFBUWhLLEdBQVNpSyxNQUN2QmIsR0FBYzcyRSxHQUFNbHlCLEVBQU1vcEcsR0FBU2xDLEVBQWNDLEdBQWUsR0FBTWxuRyxFQUFNb3BHLEdBQVNuQyxFQUFjQyxHQUFlLEdBQU1ubkcsRUFBTW9wRyxFQUFRbEMsRUFBY2puRyxFQUFNb3BHLEVBQVFuQyxFQUFjbG5HLEVBQU1vcEcsRUFBUWpDLEVBQWNsbkcsRUFBTW9wRyxFQUFRbEMsRUFBY3RDLEdBQU8sR0FBUyxFQUVuUHQzRCxFQUFNbzhELE1BQVFoSyxHQUFTa0ssU0FDNUJkLEdBQWM5QixHQUFPam5HLEVBQUlDLEVBQUltcEcsRUFBT0MsRUFBT25DLEVBQWFDLEdBQWEsRUFBT3RDLEtBR3BGLElBQUk5dUIsRUFBVTZ1QixFQUFpQjd1QixRQUMzQjgwQixFQUFPdEgsR0FBZ0JLLFFBQVVMLEdBQWdCSyxRQUVyRCxJQUFTcm5HLEVBQUl5c0csRUFBWXpzRyxFQUFJd3NHLEVBQWFDLEVBQWEsSUFBS3pzRyxFQUN4RHVELEVBQUsra0csRUFBVyxFQUFKdG9HLEdBQ1p3RCxFQUFLOGtHLEVBQVcsRUFBSnRvRyxFQUFTLEdBQ3JCeUQsRUFBSzZrRyxFQUFnQixHQUFUdG9HLEVBQUksSUFDaEIwRCxFQUFLNGtHLEVBQWlCLEdBQVR0b0csRUFBSSxHQUFVLEdBQzNCMjVCLEVBQUsydUUsRUFBZ0IsR0FBVHRvRyxFQUFJLElBQ2hCNDVCLEVBQUswdUUsRUFBaUIsR0FBVHRvRyxFQUFJLEdBQVUsR0FFdkJXLEtBQUttRSxJQUFLdkIsR0FBTUcsRUFBS2syQixHQUFRbjJCLEdBQU1tMkIsRUFBS3AyQixHQUFRbTJCLEdBQU1uMkIsRUFBS0UsSUFBUTRxRyxHQUd2RTkwQixFQUFRbjVFLEtBQUtMLEVBQUdBLEVBQUksRUFBR0EsRUFBSSxFQTVPL0IsQ0E4T0osQ0E4Q1F1dUcsQ0FBbUJyRyxFQUFjRyxFQUV6QyxDQU1BLElBa1NJLEdDenJDQW1HLEdEdTVCQUMsR0FBMEIsV0FDMUIsU0FBU0EsSUFDVCxDQXNGQSxPQXhFQUEsRUFBU0MsUUFBVSxTQUFVanJHLEVBQUlDLEVBQUlpMkIsRUFBSUMsRUFBSUssRUFBUWEsR0FDakQsSUFBSTZ1RSxFQUFRN3VFLEVBQU9BLEVBQU9yN0IsT0FBUyxHQUUvQnFLLEVBRFFneEIsRUFBT0EsRUFBT3I3QixPQUFTLEdBQ2xCaUUsRUFDYjI1QixFQUFLc3NFLEVBQVFsbUcsRUFDYjRDLEVBQUt1ekIsRUFBS2wyQixFQUNWNkMsRUFBS296QixFQUFLbDJCLEVBQ1ZrckcsRUFBS2h1RyxLQUFLbUUsSUFBS2dGLEVBQUt2RCxFQUFPODJCLEVBQUtoM0IsR0FDcEMsR0FBSXNvRyxFQUFLLE1BQXFCLElBQVgxMEUsRUFJZixPQUhJYSxFQUFPQSxFQUFPcjdCLE9BQVMsS0FBT2dFLEdBQU1xM0IsRUFBT0EsRUFBT3I3QixPQUFTLEtBQU9pRSxHQUNsRW8zQixFQUFPejZCLEtBQUtvRCxFQUFJQyxHQUViLEtBRVgsSUFBSWtyRyxFQUFNOWtHLEVBQUtBLEVBQU91ekIsRUFBS0EsRUFDdkJ3eEUsRUFBTXhvRyxFQUFLQSxFQUFPRSxFQUFLQSxFQUN2QnVvRyxFQUFNaGxHLEVBQUt6RCxFQUFPZzNCLEVBQUs5MkIsRUFDdkJ3b0csRUFBSzkwRSxFQUFTdDVCLEtBQUt3OUIsS0FBS3l3RSxHQUFNRCxFQUM5QkssRUFBSy8wRSxFQUFTdDVCLEtBQUt3OUIsS0FBSzB3RSxHQUFNRixFQUM5QjVGLEVBQUtnRyxFQUFLRCxFQUFLRixFQUNmNUYsRUFBS2dHLEVBQUtGLEVBQUtELEVBQ2YxckcsRUFBTTRyRyxFQUFLeG9HLEVBQU95b0csRUFBSzN4RSxFQUN2Qi81QixFQUFNeXJHLEVBQUsxb0csRUFBTzJvRyxFQUFLbGxHLEVBQ3ZCM0UsRUFBS2s0QixHQUFNMnhFLEVBQUtqRyxHQUNoQjNqRyxFQUFLMEUsR0FBTWtsRyxFQUFLakcsR0FDaEJ2a0csRUFBSytCLEdBQU13b0csRUFBSy9GLEdBQ2hCaUcsRUFBSzVvRyxHQUFNMG9HLEVBQUsvRixHQUdwQixNQUFPLENBQ0g3bEcsR0FBS0EsRUFBS00sRUFDVkgsR0FBS0EsRUFBS0ksRUFDVnUyQixPQUFRQSxFQUNSdXhFLFdBTmE3cUcsS0FBS3M5QixNQUFNNzRCLEVBQUs5QixFQUFJNkIsRUFBS2hDLEdBT3RDK3JHLFNBTld2dUcsS0FBS3M5QixNQUFNZ3hFLEVBQUszckcsRUFBSWtCLEVBQUtyQixHQU9wQ2dzRyxjQUFnQjl4RSxFQUFLaDNCLEVBQUtFLEVBQUt1RCxFQUV2QyxFQWtCQTJrRyxFQUFTVyxJQUFNLFNBQVVDLEVBQVNDLEVBQVNuc0csRUFBSUcsRUFBSTIyQixFQUFRdXhFLEVBQVkwRCxFQUFVSyxFQUFnQnowRSxHQVM3RixJQVJBLElBQUkwMEUsRUFBUU4sRUFBVzFELEVBQ25CMW5HLEVBQUlrakcsR0FBZ0JNLGVBQWUzbUcsS0FBS21FLElBQUkwcUcsR0FBU3YxRSxFQUE0QyxHQUFwQ3Q1QixLQUFLazVCLEtBQUtsNUIsS0FBS21FLElBQUkwcUcsR0FBUy8zRSxLQUN6Rmc0RSxFQUFRLEdBQWUsRUFBSjNyRyxHQUNuQjRyRyxFQUFpQixFQUFSRCxFQUNURSxFQUFTaHZHLEtBQUtvOEIsSUFBSTB5RSxHQUNsQkcsRUFBU2p2RyxLQUFLcThCLElBQUl5eUUsR0FDbEJJLEVBQVcvckcsRUFBSSxFQUNmay9ELEVBQWE2c0MsRUFBVyxFQUFLQSxFQUN4Qjd2RyxFQUFJLEVBQUdBLEdBQUs2dkcsSUFBWTd2RyxFQUFHLENBQ2hDLElBQ0k4OEIsRUFBUyxFQUFVMHVFLEVBQWNrRSxHQUQxQjF2RyxFQUFLZ2pFLEVBQVloakUsR0FFeEJnRCxFQUFJckMsS0FBS284QixJQUFJRCxHQUNiM3dCLEdBQUt4TCxLQUFLcThCLElBQUlGLEdBQ2xCaEMsRUFBT3o2QixNQUFRc3ZHLEVBQVMzc0csRUFBTTRzRyxFQUFTempHLEdBQU04dEIsRUFBVTkyQixHQUFPd3NHLEdBQVV4akcsRUFBTXlqRyxFQUFTNXNHLEdBQU1pM0IsRUFBVTMyQixFQUMzRyxDQUNKLEVBQ09tckcsQ0FDWCxDQXpGNkIsR0ErRnpCcUIsR0FBNkIsV0FDN0IsU0FBU0EsSUFDVCxDQWtGQSxPQWxFQUEsRUFBWUMsWUFBYyxTQUFVcEcsRUFBT0MsRUFBT0MsRUFBS0MsRUFBS2tHLEVBQU1DLEVBQU1sRyxFQUFLQyxHQWV6RSxJQWRBLElBQ0k3aUcsRUFBUyxFQUNUaUksRUFBSSxFQUNKaTlFLEVBQUssRUFDTDZqQixFQUFLLEVBQ0xDLEVBQUssRUFDTEMsRUFBTSxFQUNOQyxFQUFNLEVBQ05oeEcsRUFBSSxFQUNKQyxFQUFJLEVBQ0o4NkIsRUFBSyxFQUNMQyxFQUFLLEVBQ0xpMkUsRUFBUTNHLEVBQ1I0RyxFQUFRM0csRUFDSDVwRyxFQUFJLEVBQUdBLEdBZFIsS0Fja0JBLEVBU3RCbzZCLEVBQUtrMkUsR0FGTGp4RyxHQURBZ3hHLEdBREFELEdBREFELEVBQU0sR0FITi9nRyxFQUFJcFAsRUFmQSxLQW1CT213RyxHQUNDQSxHQUNEeEcsRUFBVSxFQUFNeUcsRUFBTWhoRyxFQUFJeTZGLEVBQVEsRUFBTXNHLEdBTG5EOWpCLEVBQUtqOUUsRUFBSUEsR0FLb0Q0Z0csR0FKN0RFLEVBQUs3akIsRUFBS2o5RSxHQUlpRTI2RixHQUczRTF2RSxFQUFLazJFLEdBRkxqeEcsRUFBSyt3RyxFQUFNekcsRUFBVSxFQUFNd0csRUFBTWhoRyxFQUFJMDZGLEVBQVEsRUFBSXFHLEVBQUs5akIsRUFBSzRqQixFQUFTQyxFQUFLbEcsR0FHekVzRyxFQUFRanhHLEVBQ1JreEcsRUFBUWp4RyxFQUNSNkgsR0FBVXhHLEtBQUt3OUIsS0FBTS9ELEVBQUtBLEVBQU9DLEVBQUtBLEdBRTFDLE9BQU9sekIsQ0FDWCxFQWNBMm9HLEVBQVlwQixRQUFVLFNBQVU3RSxFQUFLQyxFQUFLa0csRUFBTUMsRUFBTWxHLEVBQUtDLEVBQUtsdkUsR0FDNUQsSUFBSTZ1RSxFQUFRN3VFLEVBQU9BLEVBQU9yN0IsT0FBUyxHQUMvQm1xRyxFQUFROXVFLEVBQU9BLEVBQU9yN0IsT0FBUyxHQUNuQ3E3QixFQUFPcjdCLFFBQVUsRUFDakIsSUFBSXFFLEVBQUlrakcsR0FBZ0JNLGVBQWV3SSxFQUFZQyxZQUFZcEcsRUFBT0MsRUFBT0MsRUFBS0MsRUFBS2tHLEVBQU1DLEVBQU1sRyxFQUFLQyxJQUNwR3dHLEVBQUssRUFDTEMsRUFBTSxFQUNOQyxFQUFNLEVBQ05ya0IsRUFBSyxFQUNMNmpCLEVBQUssRUFDVHAxRSxFQUFPejZCLEtBQUtzcEcsRUFBT0MsR0FDbkIsSUFBSyxJQUFJNXBHLEVBQUksRUFBRzRHLEVBQUksRUFBRzVHLEdBQUs4RCxJQUFLOUQsRUFJN0Iwd0csR0FEQUQsR0FEQUQsRUFBTSxHQURONXBHLEVBQUk1RyxFQUFJOEQsSUFFRzBzRyxHQUNDQSxFQUVaTixHQURBN2pCLEVBQUt6bEYsRUFBSUEsR0FDQ0EsRUFDVmswQixFQUFPejZCLEtBQU1xd0csRUFBTS9HLEVBQVUsRUFBSThHLEVBQU03cEcsRUFBSWlqRyxFQUFRLEVBQUkyRyxFQUFLbmtCLEVBQUsyakIsRUFBU0UsRUFBS25HLEVBQU8yRyxFQUFNOUcsRUFBVSxFQUFJNkcsRUFBTTdwRyxFQUFJa2pHLEVBQVEsRUFBSTBHLEVBQUtua0IsRUFBSzRqQixFQUFTQyxFQUFLbEcsRUFFaEssRUFDTzhGLENBQ1gsQ0FyRmdDLEdBMkY1QmEsR0FBZ0MsV0FDaEMsU0FBU0EsSUFDVCxDQXVEQSxPQXpDQUEsRUFBZVosWUFBYyxTQUFVcEcsRUFBT0MsRUFBT0MsRUFBS0MsRUFBS0MsRUFBS0MsR0FDaEUsSUFBSS9tRyxFQUFLMG1HLEVBQVMsRUFBTUUsRUFBT0UsRUFDM0IzbUcsRUFBS3dtRyxFQUFTLEVBQU1FLEVBQU9FLEVBQzNCOW1HLEVBQU0sRUFBTTJtRyxFQUFRLEVBQU1GLEVBQzFCdG1HLEVBQU0sRUFBTXltRyxFQUFRLEVBQU1GLEVBQzFCOW1HLEVBQUksR0FBUUcsRUFBS0EsRUFBT0csRUFBS0EsR0FDN0JMLEVBQUksR0FBUUUsRUFBS0MsRUFBT0UsRUFBS0MsR0FDN0JMLEVBQUtFLEVBQUtBLEVBQU9HLEVBQUtBLEVBQ3RCOEksRUFBSSxFQUFNeEwsS0FBS3c5QixLQUFLcjdCLEVBQUlDLEVBQUlDLEdBQzVCcUQsRUFBSzFGLEtBQUt3OUIsS0FBS3I3QixHQUNmOHRHLEVBQU0sRUFBTTl0RyxFQUFJdUQsRUFDaEJ3bkcsRUFBSyxFQUFNbHRHLEtBQUt3OUIsS0FBS243QixHQUNyQjZ0RyxFQUFLOXRHLEVBQUlzRCxFQUNiLE9BQVN1cUcsRUFBTXprRyxFQUNSOUYsRUFBS3RELEdBQUtvSixFQUFJMGhHLElBQ1osRUFBTTdxRyxFQUFJRixFQUFNQyxFQUFJQSxHQUNuQnBDLEtBQUtxbUIsS0FBTSxFQUFNM2dCLEVBQU13cUcsRUFBSzFrRyxJQUFNMGtHLEVBQUtoRCxNQUFVLEVBQU0rQyxFQUNyRSxFQVdBRCxFQUFlakMsUUFBVSxTQUFVN0UsRUFBS0MsRUFBS0MsRUFBS0MsRUFBS2x2RSxHQU1uRCxJQUxBLElBQUk2dUUsRUFBUTd1RSxFQUFPQSxFQUFPcjdCLE9BQVMsR0FDL0JtcUcsRUFBUTl1RSxFQUFPQSxFQUFPcjdCLE9BQVMsR0FDL0JxRSxFQUFJa2pHLEdBQWdCTSxlQUFlcUosRUFBZVosWUFBWXBHLEVBQU9DLEVBQU9DLEVBQUtDLEVBQUtDLEVBQUtDLElBQzNGQyxFQUFLLEVBQ0xDLEVBQUssRUFDQWxxRyxFQUFJLEVBQUdBLEdBQUs4RCxJQUFLOUQsRUFBRyxDQUN6QixJQUFJNEcsRUFBSTVHLEVBQUk4RCxFQUNabW1HLEVBQUtOLEdBQVVFLEVBQU1GLEdBQVMvaUcsRUFDOUJzakcsRUFBS04sR0FBVUUsRUFBTUYsR0FBU2hqRyxFQUM5QmswQixFQUFPejZCLEtBQUs0cEcsR0FBUUosR0FBUUUsRUFBTUYsR0FBT2pqRyxFQUFNcWpHLEdBQU1yakcsRUFBSXNqRyxHQUFRSixHQUFRRSxFQUFNRixHQUFPbGpHLEVBQU1zakcsR0FBTXRqRyxFQUN0RyxDQUNKLEVBQ08rcEcsQ0FDWCxDQTFEbUMsR0FnRS9CRyxHQUEyQixXQUMzQixTQUFTQSxJQUNMcHFHLEtBQUtrakQsT0FDVCxDQTZCQSxPQXRCQWtuRCxFQUFVbnBHLFVBQVU4aEMsTUFBUSxTQUFVdUgsRUFBTzAwRCxFQUFZcUwsR0FDckRycUcsS0FBS2tqRCxRQUNMbGpELEtBQUtzcUMsTUFBUUEsRUFDYnRxQyxLQUFLNUYsTUFBUTRrRyxFQUNiaC9GLEtBQUtxcUcsWUFBY0EsQ0FDdkIsRUFNQUQsRUFBVW5wRyxVQUFVNUcsSUFBTSxTQUFVd29DLEVBQVV5bkUsR0FDMUN0cUcsS0FBS3dzRCxXQUFhODlDLEVBQVl0cUcsS0FBS3FxRyxZQUNuQ3JxRyxLQUFLcXNCLEtBQU93VyxFQUFXN2lDLEtBQUs1RixLQUNoQyxFQUNBZ3dHLEVBQVVucEcsVUFBVWlpRCxNQUFRLFdBQ3hCbGpELEtBQUtzcUMsTUFBUSxLQUNidHFDLEtBQUtxc0IsS0FBTyxFQUNacnNCLEtBQUs1RixNQUFRLEVBQ2I0RixLQUFLcXFHLFlBQWMsRUFDbkJycUcsS0FBS3dzRCxXQUFhLENBQ3RCLEVBQ080OUMsQ0FDWCxDQWpDOEIsR0E4QzFCRyxLQUFpQixHQUFLLENBQUMsR0FDcEJ6NUUsR0FBT3lELE1BQVErc0UsR0FDbEIsR0FBR3h3RSxHQUFPMEMsTUFBUXV1RSxHQUNsQixHQUFHanhFLEdBQU9rRCxNQUFRK3RFLEdBQ2xCLEdBQUdqeEUsR0FBT1csTUFBUWl4RSxHQUNsQixHQUFHNXhFLEdBQU9vRSxNQUFReXVFLEdBQ2xCLElBTUE2RyxHQUFhLEdBTWJDLEdBQWlCLEdBTWpCQyxHQUE4QixXQU85QixTQUFTQSxFQUFhakosRUFBTzluRCxFQUFXeXJELEVBQVcxdUUsUUFDN0IsSUFBZGlqQixJQUF3QkEsRUFBWSxXQUN0QixJQUFkeXJELElBQXdCQSxFQUFZLFdBQ3pCLElBQVgxdUUsSUFBcUJBLEVBQVMsTUFFbEMxMkIsS0FBS28wQixPQUFTLEdBRWRwMEIsS0FBS1csTUFBUSxHQUNiWCxLQUFLeWhHLE1BQVFBLEVBQ2J6aEcsS0FBS29sRyxVQUFZQSxFQUNqQnBsRyxLQUFLMjVDLFVBQVlBLEVBQ2pCMzVDLEtBQUswMkIsT0FBU0EsRUFDZDEyQixLQUFLNEcsS0FBTzY2RixFQUFNNzZGLElBQ3RCLENBa0JBLE9BYkE4akcsRUFBYXpwRyxVQUFVbXdCLE1BQVEsV0FDM0IsT0FBTyxJQUFJczVFLEVBQWExcUcsS0FBS3loRyxNQUFPemhHLEtBQUsyNUMsVUFBVzM1QyxLQUFLb2xHLFVBQVdwbEcsS0FBSzAyQixPQUM3RSxFQUVBZzBFLEVBQWF6cEcsVUFBVXN0QixRQUFVLFdBQzdCdnVCLEtBQUt5aEcsTUFBUSxLQUNiemhHLEtBQUtXLE1BQU01SCxPQUFTLEVBQ3BCaUgsS0FBS1csTUFBUSxLQUNiWCxLQUFLbzBCLE9BQU9yN0IsT0FBUyxFQUNyQmlILEtBQUtvMEIsT0FBUyxLQUNkcDBCLEtBQUtvbEcsVUFBWSxLQUNqQnBsRyxLQUFLMjVDLFVBQVksSUFDckIsRUFDTyt3RCxDQUNYLENBdkNpQyxHQXlDN0JDLEdBQVcsSUFBSXg1RSxHQVNmeTVFLEdBQWtDLFNBQVUxc0UsR0FHNUMsU0FBUzBzRSxJQUNMLElBQUl6c0UsRUFBUUQsRUFBT3o3QixLQUFLekMsT0FBU0EsS0FnRGpDLE9BOUNBbStCLEVBQU1xbkUsY0FBZ0IsS0FFdEJybkUsRUFBTTBzRSxjQUFnQixFQUN0QjFzRSxFQUFNaVosV0FBYSxLQUNuQmpaLEVBQU0yc0UsY0FBZ0IsS0FDdEIzc0UsRUFBTTRzRSxXQUFZLEVBRWxCNXNFLEVBQU0vSixPQUFTLEdBRWYrSixFQUFNNnNFLE9BQVMsR0FFZjdzRSxFQUFNNGYsSUFBTSxHQUVaNWYsRUFBTTIwQyxRQUFVLEdBRWhCMzBDLEVBQU04c0UsV0FBYSxHQUtuQjlzRSxFQUFNcWpFLGFBQWUsR0FLckJyakUsRUFBTW0xQyxVQUFZLEdBRWxCbjFDLEVBQU0rc0UsWUFBYyxFQU1wQi9zRSxFQUFNZ3RFLFFBQVUsR0FFaEJodEUsRUFBTW1QLE1BQVEsRUFFZG5QLEVBQU1pdEUsWUFBYyxFQUVwQmp0RSxFQUFNa3RFLFdBQWEsRUFFbkJsdEUsRUFBTW10RSxXQUFhLEVBRW5CbnRFLEVBQU1hLFFBQVUsSUFBSXBELEdBRXBCdUMsRUFBTW90RSxhQUFlLEVBQ2RwdEUsQ0FDWCxDQTZqQkEsT0FqbkJBLEdBQVV5c0UsRUFBa0Ixc0UsR0FxRDVCbDlCLE9BQU9rUSxlQUFlMDVGLEVBQWlCM3BHLFVBQVcsU0FBVSxDQUt4RG1RLElBQUssV0FNRCxPQUxBcFIsS0FBS3dyRyxnQkFDRHhyRyxLQUFLdXJHLGNBQWdCdnJHLEtBQUtzdEMsUUFDMUJ0dEMsS0FBS3VyRyxZQUFjdnJHLEtBQUtzdEMsTUFDeEJ0dEMsS0FBS2dnQyxtQkFFRmhnQyxLQUFLZy9CLE9BQ2hCLEVBQ0E3dEIsWUFBWSxFQUNaZ2UsY0FBYyxJQUdsQnk3RSxFQUFpQjNwRyxVQUFVbTlDLFdBQWEsV0FDcENwK0MsS0FBS3VyRyxhQUFlLEVBQ3BCdnJHLEtBQUtzdEMsUUFDTHR0QyxLQUFLa3JHLGFBQ0xsckcsS0FBS3NyRyxXQUFhLEVBQ2xCdHJHLEtBQUtvMEIsT0FBT3I3QixPQUFTLEVBQ3JCaUgsS0FBS2dyRyxPQUFPanlHLE9BQVMsRUFDckJpSCxLQUFLKzlDLElBQUlobEQsT0FBUyxFQUNsQmlILEtBQUs4eUUsUUFBUS81RSxPQUFTLEVBQ3RCaUgsS0FBS2lyRyxXQUFXbHlHLE9BQVMsRUFDekIsSUFBSyxJQUFJTyxFQUFJLEVBQUdBLEVBQUkwRyxLQUFLc3pFLFVBQVV2NkUsT0FBUU8sSUFDdkMwRyxLQUFLc3pFLFVBQVVoNkUsR0FBR2lxRCxTQUFTMzBCLFFBQzNCNjdFLEdBQWU5d0csS0FBS3FHLEtBQUtzekUsVUFBVWg2RSxJQUd2QyxJQURBMEcsS0FBS3N6RSxVQUFVdjZFLE9BQVMsRUFDZk8sRUFBSSxFQUFHQSxFQUFJMEcsS0FBS21yRyxRQUFRcHlHLE9BQVFPLElBQUssQ0FDMUMsSUFBSW15RyxFQUFZenJHLEtBQUttckcsUUFBUTd4RyxHQUM3Qm15RyxFQUFVdm9ELFFBQ1ZzbkQsR0FBVzd3RyxLQUFLOHhHLEVBQ3BCLENBQ0F6ckcsS0FBS21yRyxRQUFRcHlHLE9BQVMsQ0FDMUIsRUFLQTZ4RyxFQUFpQjNwRyxVQUFVMnRCLE1BQVEsV0FNL0IsT0FMSTV1QixLQUFLd2hHLGFBQWF6b0csT0FBUyxJQUMzQmlILEtBQUtvK0MsYUFDTHArQyxLQUFLcXJHLGFBQ0xyckcsS0FBS3doRyxhQUFhem9HLE9BQVMsR0FFeEJpSCxJQUNYLEVBU0E0cUcsRUFBaUIzcEcsVUFBVXlxRyxVQUFZLFNBQVVqSyxFQUFPOW5ELEVBQVd5ckQsRUFBVzF1RSxRQUN4RCxJQUFkaWpCLElBQXdCQSxFQUFZLFdBQ3RCLElBQWR5ckQsSUFBd0JBLEVBQVksV0FDekIsSUFBWDF1RSxJQUFxQkEsRUFBUyxNQUNsQyxJQUFJdCtCLEVBQU8sSUFBSXN5RyxHQUFhakosRUFBTzluRCxFQUFXeXJELEVBQVcxdUUsR0FHekQsT0FGQTEyQixLQUFLd2hHLGFBQWE3bkcsS0FBS3ZCLEdBQ3ZCNEgsS0FBS3N0QyxRQUNFdHRDLElBQ1gsRUFPQTRxRyxFQUFpQjNwRyxVQUFVMHFHLFNBQVcsU0FBVWxLLEVBQU8vcUUsR0FFbkQsUUFEZSxJQUFYQSxJQUFxQkEsRUFBUyxPQUM3QjEyQixLQUFLd2hHLGFBQWF6b0csT0FDbkIsT0FBTyxLQUVYLElBQUlYLEVBQU8sSUFBSXN5RyxHQUFhakosRUFBTyxLQUFNLEtBQU0vcUUsR0FDM0NrMUUsRUFBWTVyRyxLQUFLd2hHLGFBQWF4aEcsS0FBS3doRyxhQUFhem9HLE9BQVMsR0FJN0QsT0FIQVgsRUFBS2d0RyxVQUFZd0csRUFBVXhHLFVBQzNCd0csRUFBVWpyRyxNQUFNaEgsS0FBS3ZCLEdBQ3JCNEgsS0FBS3N0QyxRQUNFdHRDLElBQ1gsRUFFQTRxRyxFQUFpQjNwRyxVQUFVc3RCLFFBQVUsV0FDakMyUCxFQUFPajlCLFVBQVVzdEIsUUFBUTlyQixLQUFLekMsTUFFOUIsSUFBSyxJQUFJMUcsRUFBSSxFQUFHQSxFQUFJMEcsS0FBS3doRyxhQUFhem9HLFNBQVVPLEVBQzVDMEcsS0FBS3doRyxhQUFhbG9HLEdBQUdpMUIsVUFFekJ2dUIsS0FBS28wQixPQUFPcjdCLE9BQVMsRUFDckJpSCxLQUFLbzBCLE9BQVMsS0FDZHAwQixLQUFLZ3JHLE9BQU9qeUcsT0FBUyxFQUNyQmlILEtBQUtnckcsT0FBUyxLQUNkaHJHLEtBQUsrOUMsSUFBSWhsRCxPQUFTLEVBQ2xCaUgsS0FBSys5QyxJQUFNLEtBQ1gvOUMsS0FBSzh5RSxRQUFRLzVFLE9BQVMsRUFDdEJpSCxLQUFLOHlFLFFBQVUsS0FDZjl5RSxLQUFLbzhDLFlBQVk3dEIsVUFDakJ2dUIsS0FBS284QyxZQUFjLEtBQ25CcDhDLEtBQUt3aEcsYUFBYXpvRyxPQUFTLEVBQzNCaUgsS0FBS3doRyxhQUFlLEtBQ3BCeGhHLEtBQUtzekUsVUFBVXY2RSxPQUFTLEVBQ3hCaUgsS0FBS3N6RSxVQUFZLEtBQ2pCdHpFLEtBQUttckcsUUFBUXB5RyxPQUFTLEVBQ3RCaUgsS0FBS21yRyxRQUFVLEtBQ2ZuckcsS0FBS2cvQixRQUFVLElBQ25CLEVBTUE0ckUsRUFBaUIzcEcsVUFBVXM3RSxjQUFnQixTQUFVcGdELEdBRWpELElBREEsSUFBSXFsRSxFQUFleGhHLEtBQUt3aEcsYUFDZmxvRyxFQUFJLEVBQUdBLEVBQUlrb0csRUFBYXpvRyxTQUFVTyxFQUFHLENBQzFDLElBQUlsQixFQUFPb3BHLEVBQWFsb0csR0FDeEIsR0FBS2xCLEVBQUt1aEQsVUFBVXRiLFNBSWhCam1DLEVBQUtxcEcsUUFDRHJwRyxFQUFLcytCLE9BQ0x0K0IsRUFBS3MrQixPQUFPVixhQUFhbUcsRUFBT3d1RSxJQUdoQ0EsR0FBU3Q1RSxTQUFTOEssR0FFbEIvakMsRUFBS3FwRyxNQUFNOXZFLFNBQVNnNUUsR0FBU2h5RyxFQUFHZ3lHLEdBQVMveEcsSUFBSSxDQUM3QyxJQUFJaXpHLEdBQVUsRUFDZCxHQUFJenpHLEVBQUt1SSxNQUNMLElBQUssSUFBSW1yRyxFQUFNLEVBQUdBLEVBQU0xekcsRUFBS3VJLE1BQU01SCxPQUFRK3lHLElBRXZDLEdBRFcxekcsRUFBS3VJLE1BQU1tckcsR0FDYnJLLE1BQU05dkUsU0FBU2c1RSxHQUFTaHlHLEVBQUdneUcsR0FBUy94RyxHQUFJLENBQzdDaXpHLEdBQVUsRUFDVixLQUNKLENBR1IsSUFBS0EsRUFDRCxPQUFPLENBRWYsQ0FFUixDQUNBLE9BQU8sQ0FDWCxFQUtBakIsRUFBaUIzcEcsVUFBVXVxRyxjQUFnQixXQUN2QyxHQUFLeHJHLEtBQUt3aEcsYUFBYXpvRyxRQUl2QixHQUFLaUgsS0FBSytyRyxtQkFBVixDQUdBL3JHLEtBQUtvckcsV0FBYXByRyxLQUFLc3RDLE1BQ3ZCLElBQUl5USxFQUFNLzlDLEtBQUsrOUMsSUFDWHlqRCxFQUFleGhHLEtBQUt3aEcsYUFDcEJpSyxFQUFZLEtBQ1pPLEVBQWUsS0FDZmhzRyxLQUFLbXJHLFFBQVFweUcsT0FBUyxJQUV0Qml6RyxHQURBUCxFQUFZenJHLEtBQUttckcsUUFBUW5yRyxLQUFLbXJHLFFBQVFweUcsT0FBUyxJQUN0QnV4QyxPQUU3QixJQUFLLElBQUloeEMsRUFBSTBHLEtBQUtzckcsV0FBWWh5RyxFQUFJa29HLEVBQWF6b0csT0FBUU8sSUFBSyxDQUN4RDBHLEtBQUtzckcsYUFDTCxJQUFJbHpHLEVBQU9vcEcsRUFBYWxvRyxHQUNwQnFnRCxFQUFZdmhELEVBQUt1aEQsVUFDakJ5ckQsRUFBWWh0RyxFQUFLZ3RHLFVBQ1BtRixHQUFjbnlHLEVBQUt3TyxNQUV6QjI2RixNQUFNbnBHLEdBQ1ZBLEVBQUtzK0IsUUFDTDEyQixLQUFLaXNHLGdCQUFnQjd6RyxFQUFLZzhCLE9BQVFoOEIsRUFBS3MrQixTQUV2Q2lqQixFQUFVdGIsU0FBVyttRSxFQUFVL21FLFVBQy9CcitCLEtBQUtrc0csYUFBYTl6RyxFQUFLdUksT0FFM0IsSUFBSyxJQUFJVCxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFBSyxDQUN4QixJQUFJb3FDLEVBQWUsSUFBTnBxQyxFQUFXeTVDLEVBQVl5ckQsRUFDcEMsR0FBSzk2RCxFQUFNak0sUUFBWCxDQUVBLElBQUk4dEUsRUFBYzdoRSxFQUFNNEUsUUFBUS9FLFlBQzVCaWlFLEVBQVVwc0csS0FBSzh5RSxRQUFRLzVFLE9BQ3ZCc3pHLEVBQWNyc0csS0FBS28wQixPQUFPcjdCLE9BQVMsRUFDdkNvekcsRUFBWWxnRSxTQUFXNzJCLEVBQVdrM0YsT0FDeEIsSUFBTnBzRyxFQUNBRixLQUFLdXNHLFlBQVluMEcsR0FHakI0SCxLQUFLd3NHLFlBQVlwMEcsR0FFckIsSUFBSWkwQixFQUFRcnNCLEtBQUtvMEIsT0FBT3I3QixPQUFTLEVBQUtzekcsRUFDekIsSUFBVGhnRixJQUdBby9FLElBQWN6ckcsS0FBS3lzRyxlQUFlVCxFQUFjMWhFLEtBQ2hEbWhFLEVBQVVweEcsSUFBSSt4RyxFQUFTQyxHQUN2QlosRUFBWSxNQUdYQSxLQUNEQSxFQUFZakIsR0FBV3Y2RixPQUFTLElBQUltNkYsSUFDMUJybkUsTUFBTXVILEVBQU84aEUsRUFBU0MsR0FDaENyc0csS0FBS21yRyxRQUFReHhHLEtBQUs4eEcsR0FDbEJPLEVBQWUxaEUsR0FFbkJ0cUMsS0FBSzBzRyxPQUFPMXNHLEtBQUtvMEIsT0FBUTJwQixFQUFLelQsRUFBTTRFLFFBQVNtOUQsRUFBYWhnRixFQUFNaWUsRUFBTTVULFFBMUJ0RCxDQTJCcEIsQ0FDSixDQUNBLElBQUludUIsRUFBUXZJLEtBQUs4eUUsUUFBUS81RSxPQUNyQnFrRCxFQUFTcDlDLEtBQUtvMEIsT0FBT3I3QixPQUFTLEVBSWxDLEdBSEkweUcsR0FDQUEsRUFBVXB4RyxJQUFJa08sRUFBTzYwQyxHQUVHLElBQXhCcDlDLEtBQUttckcsUUFBUXB5RyxPQUFqQixDQU1BLElBQUk0ekcsRUFBU3Z2RCxFQUFTLE1BRWxCcDlDLEtBQUs4cUcsZUFBaUI5cUcsS0FBSzh5RSxRQUFRLzVFLFNBQVdpSCxLQUFLOHFHLGNBQWMveEcsUUFDOUQ0ekcsSUFBWTNzRyxLQUFLOHFHLGNBQWNwK0Usa0JBQW9CLEVBQ3REMXNCLEtBQUs4cUcsY0FBYzU3RSxJQUFJbHZCLEtBQUs4eUUsU0FHNUI5eUUsS0FBSzhxRyxjQUFnQjZCLEVBQVMsSUFBSWoyRixZQUFZMVcsS0FBSzh5RSxTQUFXLElBQUluOEQsWUFBWTNXLEtBQUs4eUUsU0FHdkY5eUUsS0FBSytxRyxVQUFZL3FHLEtBQUs0c0csY0FDbEI1c0csS0FBSytxRyxVQUNML3FHLEtBQUs2c0csY0FHTDdzRyxLQUFLb3pFLGdCQWhCVCxNQUZJcHpFLEtBQUsrcUcsV0FBWSxDQWhFckIsT0FMSS9xRyxLQUFLK3FHLFdBQVksQ0F5RnpCLEVBTUFILEVBQWlCM3BHLFVBQVV3ckcsZUFBaUIsU0FBVUssRUFBUUMsR0FDMUQsU0FBS0QsSUFBV0MsSUFHWkQsRUFBTzU5RCxRQUFRL0UsY0FBZ0I0aUUsRUFBTzc5RCxRQUFRL0UsYUFHOUMyaUUsRUFBTy9MLE1BQVErTCxFQUFPbGhGLFFBQVVtaEYsRUFBT2hNLE1BQVFnTSxFQUFPbmhGLFNBR3BEa2hGLEVBQU96SCxVQUFhMEgsRUFBTzFILE1BSXJDLEVBRUF1RixFQUFpQjNwRyxVQUFVOHFHLGlCQUFtQixXQUMxQyxHQUFJL3JHLEtBQUtzdEMsUUFBVXR0QyxLQUFLb3JHLGFBQWVwckcsS0FBS3doRyxhQUFhem9HLE9BQ3JELE9BQU8sRUFFWCxJQUFLLElBQUlPLEVBQUksRUFBR3lKLEVBQUkvQyxLQUFLd2hHLGFBQWF6b0csT0FBUU8sRUFBSXlKLEVBQUd6SixJQUFLLENBQ3RELElBQUlsQixFQUFPNEgsS0FBS3doRyxhQUFhbG9HLEdBQ3pCMHpHLEVBQU81MEcsRUFBS3VoRCxVQUNaNFUsRUFBT24yRCxFQUFLZ3RHLFVBQ2hCLEdBQUk0SCxJQUFTQSxFQUFLOTlELFFBQVEvRSxZQUFZNEMsTUFDaEMsT0FBTyxFQUNiLEdBQUl3aEIsSUFBU0EsRUFBS3JmLFFBQVEvRSxZQUFZNEMsTUFDaEMsT0FBTyxDQUNqQixDQUNBLE9BQU8sQ0FDWCxFQUVBNjlELEVBQWlCM3BHLFVBQVU0ckcsWUFBYyxXQUNyQzdzRyxLQUFLa3JHLGFBQ0xsckcsS0FBS28zQyxXQUFhLElBQUkzZ0MsYUFBYXpXLEtBQUsrOUMsS0FFeEMsSUFEQSxJQUFJb3RELEVBQVVuckcsS0FBS21yRyxRQUNWN3hHLEVBQUksRUFBR3lKLEVBQUlvb0csRUFBUXB5RyxPQUFRTyxFQUFJeUosRUFBR3pKLElBRXZDLElBREEsSUFBSXlxQyxFQUFRb25FLEVBQVE3eEcsR0FDWDRHLEVBQUksRUFBR0EsRUFBSTZqQyxFQUFNMVgsS0FBTW5zQixJQUFLLENBQ2pDLElBQUlxSSxFQUFRdzdCLEVBQU0zcEMsTUFBUThGLEVBQzFCRixLQUFLOHFHLGNBQWN2aUcsR0FBU3ZJLEtBQUs4cUcsY0FBY3ZpRyxHQUFTdzdCLEVBQU1zbUUsV0FDbEUsQ0FFUixFQUtBTyxFQUFpQjNwRyxVQUFVMnJHLFlBQWMsV0FFckMsR0FBSTVzRyxLQUFLbzBCLE9BQU9yN0IsT0FBUyxPQUNyQixPQUFPLEVBR1gsSUFEQSxJQUFJb3lHLEVBQVVuckcsS0FBS21yRyxRQUNWN3hHLEVBQUksRUFBR0EsRUFBSTZ4RyxFQUFRcHlHLE9BQVFPLElBQ2hDLEdBQUk2eEcsRUFBUTd4RyxHQUFHZ3hDLE1BQU0rNkQsT0FDakIsT0FBTyxFQUdmLE9BQVFybEcsS0FBS28wQixPQUFPcjdCLE9BQTJDLEVBQWxDNnhHLEVBQWlCcUMsY0FDbEQsRUFFQXJDLEVBQWlCM3BHLFVBQVVteUUsZUFBaUIsV0FFeEMsSUFEQSxJQUFJRixJQUFTcm5DLEdBQVl3QyxhQUNoQi8wQyxFQUFJLEVBQUdBLEVBQUkwRyxLQUFLc3pFLFVBQVV2NkUsT0FBUU8sSUFDdkMwRyxLQUFLc3pFLFVBQVVoNkUsR0FBR2lxRCxTQUFTMzBCLFFBQzNCNjdFLEdBQWU5d0csS0FBS3FHLEtBQUtzekUsVUFBVWg2RSxJQUV2QzBHLEtBQUtzekUsVUFBVXY2RSxPQUFTLEVBQ3hCLElBQUlpeUcsRUFBU2hyRyxLQUFLZ3JHLE9BQ2RDLEVBQWFqckcsS0FBS2lyRyxXQUNsQmlDLEVBQWV6QyxHQUFleDZGLE1BQzdCaTlGLEtBQ0RBLEVBQWUsSUFBSWg5QixJQUNOM3NCLFNBQVcsSUFBSTRzQixJQUVoQys4QixFQUFhM3BELFNBQVNuYixNQUFRLEVBQzlCOGtFLEVBQWE5eUcsTUFBUSxFQUNyQjh5RyxFQUFhN2dGLEtBQU8sRUFDcEI2Z0YsRUFBYXRtRyxLQUFPa08sRUFBV210QyxVQUMvQixJQUFJd2MsRUFBZSxFQUNmMHVDLEVBQWlCLEtBQ2pCdDRCLEVBQVksRUFDWnd3QixHQUFTLEVBQ1QrSCxFQUFXdDRGLEVBQVdtdEMsVUFDdEIxNUMsRUFBUSxFQUdaLElBRkF2SSxLQUFLc3pFLFVBQVUzNUUsS0FBS3V6RyxHQUVYNXpHLEVBQUksRUFBR0EsRUFBSTBHLEtBQUttckcsUUFBUXB5RyxPQUFRTyxJQUFLLENBQzFDLElBQUlsQixFQUFPNEgsS0FBS21yRyxRQUFRN3hHLEdBSXBCZ3hDLEVBQVFseUMsRUFBS2t5QyxNQUNiNmhFLEVBQWM3aEUsRUFBTTRFLFFBQVEvRSxZQUM1Qms3RCxNQUFhLzZELEVBQU0rNkQsU0FFbkIrSCxHQURBL0gsSUFBVy82RCxFQUFNKzZELFFBQ0d2d0YsRUFBV3U0RixNQUFRdjRGLEVBQVdtdEMsVUFFbERrckQsRUFBaUIsS0FDakIxdUMsRUFUZSxFQVVmeVUsS0FFQWk2QixJQUFtQmhCLElBQ25CZ0IsRUFBaUJoQixFQUNiQSxFQUFZbC9ELGdCQUFrQmltQyxJQWRuQixJQWVQelUsSUFDQXlVLElBQ0F6VSxFQUFlLEVBQ1h5dUMsRUFBYTdnRixLQUFPLEtBQ3BCNmdGLEVBQWV6QyxHQUFleDZGLFVBRTFCaTlGLEVBQWUsSUFBSWg5QixJQUNOM3NCLFNBQVcsSUFBSTRzQixJQUVoQ253RSxLQUFLc3pFLFVBQVUzNUUsS0FBS3V6RyxJQUV4QkEsRUFBYTl5RyxNQUFRbU8sRUFDckIya0csRUFBYTdnRixLQUFPLEVBQ3BCNmdGLEVBQWEzcEQsU0FBU25iLE1BQVEsRUFDOUI4a0UsRUFBYXRtRyxLQUFPd21HLEdBSXhCakIsRUFBWTMvRCxRQUFVLEVBQ3RCMi9ELEVBQVlsL0QsY0FBZ0JpbUMsRUFDNUJpNUIsRUFBWWovRCxlQUFpQnV4QixFQUM3QjB0QyxFQUFZbGdFLFNBQVc3MkIsRUFBV2szRixPQUNsQ1ksRUFBYTNwRCxTQUFTRSxTQUFTeXBELEVBQWEzcEQsU0FBU25iLFNBQVcrakUsRUFDaEUxdEMsTUFHUnl1QyxFQUFhN2dGLE1BQVFqMEIsRUFBS2kwQixLQUMxQjlqQixHQUFTblEsRUFBS2kwQixLQUNkd29ELEVBQVlzM0IsRUFBWWovRCxlQUN4Qmx0QyxLQUFLc3RHLFVBQVV0QyxFQUFRMWdFLEVBQU15MkQsTUFBT3oyRCxFQUFNMWUsTUFBT3h6QixFQUFLbzBELFdBQVlwMEQsRUFBS2l5RyxhQUN2RXJxRyxLQUFLdXRHLGNBQWN0QyxFQUFZcDJCLEVBQVd6OEUsRUFBS28wRCxXQUFZcDBELEVBQUtpeUcsWUFDcEUsQ0FDQXgrRCxHQUFZd0MsYUFBZTZrQyxFQUczQmx6RSxLQUFLd3RHLGdCQUNULEVBRUE1QyxFQUFpQjNwRyxVQUFVdXNHLGVBQWlCLFdBVXhDLElBVEEsSUFBSTVMLEVBQVE1aEcsS0FBS28wQixPQUNiMnBCLEVBQU0vOUMsS0FBSys5QyxJQUNYaXRELEVBQVNockcsS0FBS2dyRyxPQUNkQyxFQUFhanJHLEtBQUtpckcsV0FFbEJ3QyxFQUFXLElBQUlqM0YsWUFBMkIsRUFBZm9yRixFQUFNN29HLE9BQWEsR0FDOUMyMEcsRUFBTSxJQUFJajNGLGFBQWFnM0YsR0FDdkJFLEVBQU0sSUFBSWozRixZQUFZKzJGLEdBQ3RCM3lHLEVBQUksRUFDQ3hCLEVBQUksRUFBR0EsRUFBSXNvRyxFQUFNN29HLE9BQVMsRUFBR08sSUFDbENvMEcsRUFBSTV5RyxLQUFPOG1HLEVBQVUsRUFBSnRvRyxHQUNqQm8wRyxFQUFJNXlHLEtBQU84bUcsRUFBVyxFQUFKdG9HLEVBQVMsR0FDM0JvMEcsRUFBSTV5RyxLQUFPaWpELEVBQVEsRUFBSnprRCxHQUNmbzBHLEVBQUk1eUcsS0FBT2lqRCxFQUFTLEVBQUp6a0QsRUFBUyxHQUN6QnEwRyxFQUFJN3lHLEtBQU9rd0csRUFBTzF4RyxHQUNsQm8wRyxFQUFJNXlHLEtBQU9td0csRUFBVzN4RyxHQUUxQjBHLEtBQUtrMEUsUUFBUXJzQyxPQUFPNGxFLEdBQ3BCenRHLEtBQUtzeUUsYUFBYXpxQyxPQUFPN25DLEtBQUs4cUcsY0FDbEMsRUFLQUYsRUFBaUIzcEcsVUFBVXNyRyxZQUFjLFNBQVVuMEcsR0FDM0NBLEVBQUt1SSxNQUFNNUgsT0FDWHVvRyxHQUFVSSxZQUFZdHBHLEVBQU00SCxNQUdkdXFHLEdBQWNueUcsRUFBS3dPLE1BQ3pCODZGLFlBQVl0cEcsRUFBTTRILEtBRWxDLEVBS0E0cUcsRUFBaUIzcEcsVUFBVXVyRyxZQUFjLFNBQVVwMEcsR0FDL0Mrc0csR0FBVS9zRyxFQUFNNEgsTUFDaEIsSUFBSyxJQUFJMUcsRUFBSSxFQUFHQSxFQUFJbEIsRUFBS3VJLE1BQU01SCxPQUFRTyxJQUNuQzZyRyxHQUFVL3NHLEVBQUt1SSxNQUFNckgsR0FBSTBHLEtBRWpDLEVBS0E0cUcsRUFBaUIzcEcsVUFBVWlyRyxhQUFlLFNBQVV2ckcsR0FDaEQsSUFBSyxJQUFJckgsRUFBSSxFQUFHQSxFQUFJcUgsRUFBTTVILE9BQVFPLElBQUssQ0FDbkMsSUFBSW1FLEVBQU9rRCxFQUFNckgsR0FDSGl4RyxHQUFjOXNHLEVBQUttSixNQUN6QjI2RixNQUFNOWpHLEdBQ1ZBLEVBQUtpNUIsUUFDTDEyQixLQUFLaXNHLGdCQUFnQnh1RyxFQUFLMjJCLE9BQVEzMkIsRUFBS2k1QixPQUUvQyxDQUNKLEVBRUFrMEUsRUFBaUIzcEcsVUFBVSsrQixnQkFBa0IsV0FDekMsSUFBSTdDLEVBQVNuOUIsS0FBS2cvQixRQUNsQjdCLEVBQU92TyxRQUNQdU8sRUFBT1gsY0FBY3g4QixLQUFLbzBCLE9BQVEsRUFBR3AwQixLQUFLbzBCLE9BQU9yN0IsUUFDakRva0MsRUFBT3RLLElBQUk3eUIsS0FBSzZxRyxjQUFlN3FHLEtBQUs2cUcsY0FDeEMsRUFNQUQsRUFBaUIzcEcsVUFBVWdyRyxnQkFBa0IsU0FBVTczRSxFQUFRc0MsR0FDM0QsSUFBSyxJQUFJcDlCLEVBQUksRUFBR0EsRUFBSTg2QixFQUFPcjdCLE9BQVMsRUFBR08sSUFBSyxDQUN4QyxJQUFJWCxFQUFJeTdCLEVBQVksRUFBSjk2QixHQUNaVixFQUFJdzdCLEVBQVksRUFBSjk2QixFQUFTLEdBQ3pCODZCLEVBQVksRUFBSjk2QixHQUFXbzlCLEVBQU90NkIsRUFBSXpELEVBQU0rOUIsRUFBT3A2QixFQUFJMUQsRUFBSzg5QixFQUFPakIsR0FDM0RyQixFQUFZLEVBQUo5NkIsRUFBUyxHQUFNbzlCLEVBQU9yNkIsRUFBSTFELEVBQU0rOUIsRUFBTzUxQixFQUFJbEksRUFBSzg5QixFQUFPaEIsRUFDbkUsQ0FDSixFQVNBazFFLEVBQWlCM3BHLFVBQVVxc0csVUFBWSxTQUFVdEMsRUFBUWpLLEVBQU9uMUUsRUFBT1MsRUFBTW94QixRQUMxRCxJQUFYQSxJQUFxQkEsRUFBUyxHQUVsQyxJQUNJbXdELEVBQU85aEYsSUFEQWkxRSxHQUFTLEtBQWUsTUFBUkEsS0FBNEIsSUFBUkEsSUFBaUIsSUFDaENuMUUsR0FDaENvL0UsRUFBT2p5RyxPQUFTa0IsS0FBS0MsSUFBSTh3RyxFQUFPanlHLE9BQVEwa0QsRUFBU3B4QixHQUNqRCxJQUFLLElBQUkveUIsRUFBSSxFQUFHQSxFQUFJK3lCLEVBQU0veUIsSUFDdEIweEcsRUFBT3Z0RCxFQUFTbmtELEdBQUtzMEcsQ0FFN0IsRUFRQWhELEVBQWlCM3BHLFVBQVVzc0csY0FBZ0IsU0FBVXRDLEVBQVlwNkYsRUFBSXdiLEVBQU1veEIsUUFDeEQsSUFBWEEsSUFBcUJBLEVBQVMsR0FDbEN3dEQsRUFBV2x5RyxPQUFTa0IsS0FBS0MsSUFBSSt3RyxFQUFXbHlHLE9BQVEwa0QsRUFBU3B4QixHQUN6RCxJQUFLLElBQUkveUIsRUFBSSxFQUFHQSxFQUFJK3lCLEVBQU0veUIsSUFDdEIyeEcsRUFBV3h0RCxFQUFTbmtELEdBQUt1WCxDQUVqQyxFQVVBKzVGLEVBQWlCM3BHLFVBQVV5ckcsT0FBUyxTQUFVOUssRUFBTzdqRCxFQUFLN08sRUFBUzkwQyxFQUFPaXlCLEVBQU1xSyxRQUM3RCxJQUFYQSxJQUFxQkEsRUFBUyxNQUlsQyxJQUhBLElBQUludUIsRUFBUSxFQUNSc2xHLEVBQVc5dkQsRUFBSWhsRCxPQUNmcytDLEVBQVFuSSxFQUFRbUksTUFDYjl1QyxFQUFROGpCLEdBQU0sQ0FDakIsSUFBSTF6QixFQUFJaXBHLEVBQXdCLEdBQWpCeG5HLEVBQVFtTyxJQUNuQjNQLEVBQUlncEcsRUFBeUIsR0FBakJ4bkcsRUFBUW1PLEdBQWMsR0FDdEMsR0FBSW11QixFQUFRLENBQ1IsSUFBSXZFLEVBQU11RSxFQUFPdDZCLEVBQUl6RCxFQUFNKzlCLEVBQU9wNkIsRUFBSTFELEVBQUs4OUIsRUFBT2pCLEdBQ2xENzhCLEVBQUs4OUIsRUFBT3I2QixFQUFJMUQsRUFBTSs5QixFQUFPNTFCLEVBQUlsSSxFQUFLODlCLEVBQU9oQixHQUM3Qy84QixFQUFJdzVCLENBQ1IsQ0FDQTVwQixJQUNBdzFDLEVBQUlwa0QsS0FBS2hCLEVBQUkwK0MsRUFBTXJnQyxNQUFPcGUsRUFBSXkrQyxFQUFNcGdDLE9BQ3hDLENBQ0EsSUFBSWt6QixFQUFjK0UsRUFBUS9FLGFBQ3RCa04sRUFBTXJnQyxNQUFRbXpCLEVBQVluekIsT0FDdkJxZ0MsRUFBTXBnQyxPQUFTa3pCLEVBQVlsekIsU0FDOUJqWCxLQUFLOHRHLFVBQVUvdkQsRUFBSzdPLEVBQVMyK0QsRUFBVXhoRixFQUUvQyxFQVNBdStFLEVBQWlCM3BHLFVBQVU2c0csVUFBWSxTQUFVL3ZELEVBQUs3TyxFQUFTOTBDLEVBQU9peUIsR0FXbEUsSUFWQSxJQUFJOGQsRUFBYytFLEVBQVEvRSxZQUN0Qi9XLEVBQU0sS0FDTmlnRCxFQUFTajVFLEVBQWdCLEVBQVBpeUIsRUFDbEJnckIsRUFBUW5JLEVBQVFtSSxNQUNoQnRnQixFQUFTc2dCLEVBQU1yZ0MsTUFBUW16QixFQUFZbnpCLE1BQ25DZ2dCLEVBQVNxZ0IsRUFBTXBnQyxPQUFTa3pCLEVBQVlsekIsT0FDcEM4ckUsRUFBVTFyQyxFQUFNMStDLEVBQUkwK0MsRUFBTXJnQyxNQUMxQmlzRSxFQUFVNXJDLEVBQU16K0MsRUFBSXkrQyxFQUFNcGdDLE9BQzFCMWUsRUFBTzBCLEtBQUt3TSxNQUFNczNDLEVBQUkzakQsR0FBU2c1QixHQUMvQjU2QixFQUFPeUIsS0FBS3dNLE1BQU1zM0MsRUFBSTNqRCxFQUFRLEdBQUtnNUIsR0FDOUI5NUIsRUFBSWMsRUFBUSxFQUFHZCxFQUFJKzVFLEVBQVEvNUUsR0FBSyxFQUNyQ2YsRUFBTzBCLEtBQUt3RixJQUFJbEgsRUFBTTBCLEtBQUt3TSxNQUFNczNDLEVBQUl6a0QsR0FBSzg1QixJQUMxQzU2QixFQUFPeUIsS0FBS3dGLElBQUlqSCxFQUFNeUIsS0FBS3dNLE1BQU1zM0MsRUFBSXprRCxFQUFJLEdBQUs4NUIsSUFJbEQsSUFGQTJ2RCxHQUFXeHFGLEVBQ1gwcUYsR0FBV3pxRixFQUNGYyxFQUFJYyxFQUFPZCxFQUFJKzVFLEVBQVEvNUUsR0FBSyxFQUNqQ3lrRCxFQUFJemtELElBQU15a0QsRUFBSXprRCxHQUFLeXBGLEdBQVdoc0QsRUFDOUJnbkIsRUFBSXprRCxFQUFJLElBQU15a0QsRUFBSXprRCxFQUFJLEdBQUsycEYsR0FBV2pzRCxDQUU5QyxFQU1BNHpFLEVBQWlCcUMsZUFBaUIsSUFDM0JyQyxDQUNYLENBbm5CcUMsQ0FtbkJuQ3AxQixJQU1FdTRCLEdBQTJCLFNBQVU3dkUsR0FFckMsU0FBUzZ2RSxJQUNMLElBQUk1dkUsRUFBbUIsT0FBWEQsR0FBbUJBLEVBQU90NkIsTUFBTTVELEtBQU15RCxZQUFjekQsS0FxQmhFLE9BbkJBbStCLEVBQU1ubkIsTUFBUSxFQUVkbW5CLEVBQU1zb0UsVUFBWSxHQUVsQnRvRSxFQUFNa25FLFFBQVMsRUFNZmxuRSxFQUFNdW9FLElBQU1oSyxHQUFTc1IsS0FNckI3dkUsRUFBTXY1QixLQUFPNjNGLEdBQVVrTCxNQUV2QnhwRSxFQUFNK25FLFdBQWEsR0FDWi9uRSxDQUNYLENBMEJBLE9BbERBLEdBQVU0dkUsRUFBVzd2RSxHQTBCckI2dkUsRUFBVTlzRyxVQUFVbXdCLE1BQVEsV0FDeEIsSUFBSTNuQixFQUFNLElBQUlza0csRUFZZCxPQVhBdGtHLEVBQUlzM0YsTUFBUS9nRyxLQUFLK2dHLE1BQ2pCdDNGLEVBQUltaUIsTUFBUTVyQixLQUFLNHJCLE1BQ2pCbmlCLEVBQUl5bEMsUUFBVWx2QyxLQUFLa3ZDLFFBQ25CemxDLEVBQUlpdEIsT0FBUzEyQixLQUFLMDJCLE9BQ2xCanRCLEVBQUk0MEIsUUFBVXIrQixLQUFLcStCLFFBQ25CNTBCLEVBQUl1TixNQUFRaFgsS0FBS2dYLE1BQ2pCdk4sRUFBSWc5RixVQUFZem1HLEtBQUt5bUcsVUFDckJoOUYsRUFBSTQ3RixPQUFTcmxHLEtBQUtxbEcsT0FDbEI1N0YsRUFBSWk5RixJQUFNMW1HLEtBQUswbUcsSUFDZmo5RixFQUFJN0UsS0FBTzVFLEtBQUs0RSxLQUNoQjZFLEVBQUl5OEYsV0FBYWxtRyxLQUFLa21HLFdBQ2Z6OEYsQ0FDWCxFQUVBc2tHLEVBQVU5c0csVUFBVWlpRCxNQUFRLFdBQ3hCaGxCLEVBQU9qOUIsVUFBVWlpRCxNQUFNemdELEtBQUt6QyxNQUU1QkEsS0FBSytnRyxNQUFRLEVBQ2IvZ0csS0FBS3ltRyxVQUFZLEdBQ2pCem1HLEtBQUtnWCxNQUFRLEVBQ2JoWCxLQUFLcWxHLFFBQVMsQ0FDbEIsRUFDTzBJLENBQ1gsQ0FwRDhCLENBb0Q1QmpOLElBRUVtTixHQUFPLElBQUl4M0YsYUFBYSxHQUV4QnkzRixHQUFrQixDQUFDLEVBbUJuQnRLLEdBQTBCLFNBQVUxbEUsR0FLcEMsU0FBUzBsRSxFQUFTem1ELFFBQ0csSUFBYkEsSUFBdUJBLEVBQVcsTUFDdEMsSUFBSWhmLEVBQVFELEVBQU96N0IsS0FBS3pDLE9BQVNBLEtBbURqQyxPQTlDQW0rQixFQUFNeWpCLE9BQVMsS0FFZnpqQixFQUFNd3hDLFdBQWEsUUFLbkJ4eEMsRUFBTWd3RSxZQUFjLEtBRXBCaHdFLEVBQU1ndEUsUUFBVSxHQUVoQmh0RSxFQUFNaXdFLFdBQWEsRUFFbkJqd0UsRUFBTStzRSxZQUFjLEVBRXBCL3NFLEVBQU0xQixXQUFhLEtBRW5CMEIsRUFBTWt3RSxXQUFhLElBQUl2TixHQUV2QjNpRSxFQUFNbXdFLFdBQWEsSUFBSVAsR0FFdkI1dkUsRUFBTW84QixRQUFVLEtBRWhCcDhCLEVBQU1vd0UsV0FBWSxFQUtsQnB3RSxFQUFNaWlCLE1BQVF1VSxHQUFNUSxRQUNwQmgzQixFQUFNcXdFLFVBQVlyeEQsR0FBWSxJQUFJeXRELEdBQ2xDenNFLEVBQU1xd0UsVUFBVWh5RCxXQVloQnJlLEVBQU1zd0UsY0FBZ0IsRUFFdEJ0d0UsRUFBTXBTLEtBQU8sU0FDYm9TLEVBQU0xUyxVQUFZNVcsRUFBWXFXLE9BQ3ZCaVQsQ0FDWCxDQWl4QkEsT0EzMEJBLEdBQVV5bEUsRUFBVTFsRSxHQTJEcEJsOUIsT0FBT2tRLGVBQWUweUYsRUFBUzNpRyxVQUFXLFdBQVksQ0FPbERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt3dUcsU0FDaEIsRUFDQXI5RixZQUFZLEVBQ1pnZSxjQUFjLElBT2xCeTBFLEVBQVMzaUcsVUFBVW13QixNQUFRLFdBRXZCLE9BREFweEIsS0FBSzB1RyxhQUNFLElBQUk5SyxFQUFTNWpHLEtBQUt3dUcsVUFDN0IsRUFDQXh0RyxPQUFPa1EsZUFBZTB5RixFQUFTM2lHLFVBQVcsWUFBYSxDQUNuRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS29nRCxNQUFNMzBCLFNBQ3RCLEVBU0F5RCxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUtvZ0QsTUFBTTMwQixVQUFZcmtCLENBQzNCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlMHlGLEVBQVMzaUcsVUFBVyxPQUFRLENBTTlDbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLdTlGLEtBQ2hCLEVBQ0FydUUsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLdTlGLE1BQVFuMkYsQ0FDakIsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWUweUYsRUFBUzNpRyxVQUFXLE9BQVEsQ0FLOUNtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtxdUcsVUFDaEIsRUFDQWw5RixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlMHlGLEVBQVMzaUcsVUFBVyxPQUFRLENBSzlDbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLc3VHLFVBQ2hCLEVBQ0FuOUYsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQnkwRSxFQUFTM2lHLFVBQVVta0csVUFBWSxTQUFVdDdGLEVBQVNpM0YsRUFBT24xRSxFQUFPNjZFLEVBQVdwQixHQVV2RSxZQVRnQixJQUFadjdGLElBQXNCQSxFQUFVLFdBQ3RCLElBQVZpM0YsSUFBb0JBLEVBQVEsUUFDbEIsSUFBVm4xRSxJQUFvQkEsRUFBUSxRQUNkLElBQWQ2NkUsSUFBd0JBLEVBQVksU0FDekIsSUFBWHBCLElBQXFCQSxHQUFTLEdBRVgsaUJBQVp2N0YsSUFDUEEsRUFBVSxDQUFFa04sTUFBT2xOLEVBQVNpM0YsTUFBT0EsRUFBT24xRSxNQUFPQSxFQUFPNjZFLFVBQVdBLEVBQVdwQixPQUFRQSxJQUVuRnJsRyxLQUFLMnVHLGlCQUFpQjdrRyxFQUNqQyxFQWtCQTg1RixFQUFTM2lHLFVBQVUwdEcsaUJBQW1CLFNBQVU3a0csR0FFNUNBLEVBQVU5SSxPQUFPcUQsT0FBTyxDQUNwQjJTLE1BQU8sRUFDUGs0QixRQUFTOEksR0FBUWdwRCxNQUNqQkQsTUFBUWozRixHQUFXQSxFQUFRb2xDLFFBQVcsU0FBVyxFQUNqRHRqQixNQUFPLEVBQ1A4SyxPQUFRLEtBQ1IrdkUsVUFBVyxHQUNYcEIsUUFBUSxFQUNScUIsSUFBS2hLLEdBQVNzUixLQUNkcHBHLEtBQU02M0YsR0FBVWtMLE1BQ2hCekIsV0FBWSxJQUNicDhGLEdBQ0M5SixLQUFLbXVHLGFBQ0xudUcsS0FBSzR1RyxZQUVULElBQUl2d0UsRUFBVXYwQixFQUFRa04sTUFBUSxHQUFLbE4sRUFBUThoQixNQUFRLEVBV25ELE9BVkt5UyxHQUlHdjBCLEVBQVE0c0IsU0FDUjVzQixFQUFRNHNCLE9BQVM1c0IsRUFBUTRzQixPQUFPdEYsUUFDaEN0bkIsRUFBUTRzQixPQUFPaUIsVUFFbkIzMkIsT0FBT3FELE9BQU9yRSxLQUFLc3VHLFdBQVksQ0FBRWp3RSxRQUFTQSxHQUFXdjBCLElBUHJEOUosS0FBS3N1RyxXQUFXcHJELFFBU2JsakQsSUFDWCxFQUtBNGpHLEVBQVMzaUcsVUFBVTJ0RyxVQUFZLFdBQzNCLEdBQUk1dUcsS0FBS211RyxZQUFhLENBQ2xCLElBQUkvNUUsRUFBU3AwQixLQUFLbXVHLFlBQVkvNUUsT0FDMUI3NkIsRUFBTXlHLEtBQUttdUcsWUFBWS81RSxPQUFPcjdCLE9BQzlCUSxFQUFNLElBQ055RyxLQUFLMHJHLFVBQVUxckcsS0FBS211RyxhQUNwQm51RyxLQUFLbXVHLFlBQWMsSUFBSWg2RSxHQUN2Qm4wQixLQUFLbXVHLFlBQVkzNUUsYUFBYyxFQUMvQngwQixLQUFLbXVHLFlBQVkvNUUsT0FBT3o2QixLQUFLeTZCLEVBQU83NkIsRUFBTSxHQUFJNjZCLEVBQU83NkIsRUFBTSxJQUVuRSxNQUVJeUcsS0FBS211RyxZQUFjLElBQUloNkUsR0FDdkJuMEIsS0FBS211RyxZQUFZMzVFLGFBQWMsQ0FFdkMsRUFLQW92RSxFQUFTM2lHLFVBQVV5dEcsV0FBYSxXQUN4QjF1RyxLQUFLbXVHLGNBQ0RudUcsS0FBS211RyxZQUFZLzVFLE9BQU9yN0IsT0FBUyxHQUNqQ2lILEtBQUswckcsVUFBVTFyRyxLQUFLbXVHLGFBQ3BCbnVHLEtBQUttdUcsWUFBYyxNQUduQm51RyxLQUFLbXVHLFlBQVkvNUUsT0FBT3I3QixPQUFTLEVBRzdDLEVBT0E2cUcsRUFBUzNpRyxVQUFVNHRHLE9BQVMsU0FBVWwyRyxFQUFHQyxHQUlyQyxPQUhBb0gsS0FBSzR1RyxZQUNMNXVHLEtBQUttdUcsWUFBWS81RSxPQUFPLEdBQUt6N0IsRUFDN0JxSCxLQUFLbXVHLFlBQVkvNUUsT0FBTyxHQUFLeDdCLEVBQ3RCb0gsSUFDWCxFQVFBNGpHLEVBQVMzaUcsVUFBVTZ0RyxPQUFTLFNBQVVuMkcsRUFBR0MsR0FDaENvSCxLQUFLbXVHLGFBQ05udUcsS0FBSzZ1RyxPQUFPLEVBQUcsR0FHbkIsSUFBSXo2RSxFQUFTcDBCLEtBQUttdUcsWUFBWS81RSxPQUMxQjZ1RSxFQUFRN3VFLEVBQU9BLEVBQU9yN0IsT0FBUyxHQUMvQm1xRyxFQUFROXVFLEVBQU9BLEVBQU9yN0IsT0FBUyxHQUluQyxPQUhJa3FHLElBQVV0cUcsR0FBS3VxRyxJQUFVdHFHLEdBQ3pCdzdCLEVBQU96NkIsS0FBS2hCLEVBQUdDLEdBRVpvSCxJQUNYLEVBTUE0akcsRUFBUzNpRyxVQUFVOHRHLFdBQWEsU0FBVXAyRyxFQUFHQyxRQUMvQixJQUFORCxJQUFnQkEsRUFBSSxRQUNkLElBQU5DLElBQWdCQSxFQUFJLEdBQ3BCb0gsS0FBS211RyxZQUNrQyxJQUFuQ251RyxLQUFLbXVHLFlBQVkvNUUsT0FBT3I3QixTQUN4QmlILEtBQUttdUcsWUFBWS81RSxPQUFTLENBQUN6N0IsRUFBR0MsSUFJbENvSCxLQUFLNnVHLE9BQU9sMkcsRUFBR0MsRUFFdkIsRUFVQWdyRyxFQUFTM2lHLFVBQVUrdEcsaUJBQW1CLFNBQVU3TCxFQUFLQyxFQUFLQyxFQUFLQyxHQUMzRHRqRyxLQUFLK3VHLGFBQ0wsSUFBSTM2RSxFQUFTcDBCLEtBQUttdUcsWUFBWS81RSxPQUs5QixPQUpzQixJQUFsQkEsRUFBT3I3QixRQUNQaUgsS0FBSzZ1RyxPQUFPLEVBQUcsR0FFbkI1RSxHQUFlakMsUUFBUTdFLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtsdkUsR0FDcENwMEIsSUFDWCxFQVdBNGpHLEVBQVMzaUcsVUFBVWd1RyxjQUFnQixTQUFVOUwsRUFBS0MsRUFBS2tHLEVBQU1DLEVBQU1sRyxFQUFLQyxHQUdwRSxPQUZBdGpHLEtBQUsrdUcsYUFDTDNGLEdBQVlwQixRQUFRN0UsRUFBS0MsRUFBS2tHLEVBQU1DLEVBQU1sRyxFQUFLQyxFQUFLdGpHLEtBQUttdUcsWUFBWS81RSxRQUM5RHAwQixJQUNYLEVBWUE0akcsRUFBUzNpRyxVQUFVaXVHLE1BQVEsU0FBVW55RyxFQUFJQyxFQUFJaTJCLEVBQUlDLEVBQUlLLEdBQ2pEdnpCLEtBQUsrdUcsV0FBV2h5RyxFQUFJQyxHQUNwQixJQUFJbzNCLEVBQVNwMEIsS0FBS211RyxZQUFZLzVFLE9BQzFCM3pCLEVBQVNzbkcsR0FBU0MsUUFBUWpyRyxFQUFJQyxFQUFJaTJCLEVBQUlDLEVBQUlLLEVBQVFhLEdBQ3RELEdBQUkzekIsRUFBUSxDQUNSLElBQUloRSxFQUFLZ0UsRUFBT2hFLEdBQUlHLEVBQUs2RCxFQUFPN0QsR0FBSXV5RyxFQUFXMXVHLEVBQU84eUIsT0FBUXV4RSxFQUFhcmtHLEVBQU9xa0csV0FBWTBELEVBQVcvbkcsRUFBTytuRyxTQUFVQyxFQUFnQmhvRyxFQUFPZ29HLGNBQ2pKem9HLEtBQUswb0csSUFBSWpzRyxFQUFJRyxFQUFJdXlHLEVBQVVySyxFQUFZMEQsRUFBVUMsRUFDckQsQ0FDQSxPQUFPem9HLElBQ1gsRUFjQTRqRyxFQUFTM2lHLFVBQVV5bkcsSUFBTSxTQUFVanNHLEVBQUlHLEVBQUkyMkIsRUFBUXV4RSxFQUFZMEQsRUFBVUMsR0FFckUsUUFEc0IsSUFBbEJBLElBQTRCQSxHQUFnQixHQUM1QzNELElBQWUwRCxFQUNmLE9BQU94b0csS0FTWCxJQVBLeW9HLEdBQWlCRCxHQUFZMUQsRUFDOUIwRCxHQUFZejNFLEdBRVAwM0UsR0FBaUIzRCxHQUFjMEQsSUFDcEMxRCxHQUFjL3pFLElBR0osR0FERnkzRSxFQUFXMUQsRUFFbkIsT0FBTzlrRyxLQUVYLElBQUlvdkcsRUFBUzN5RyxFQUFNeEMsS0FBS284QixJQUFJeXVFLEdBQWN2eEUsRUFDdEM4N0UsRUFBU3p5RyxFQUFNM0MsS0FBS3E4QixJQUFJd3VFLEdBQWN2eEUsRUFDdENILEVBQU1wekIsS0FBS3d1RyxVQUFVaEosY0FFckJweEUsRUFBU3AwQixLQUFLbXVHLFlBQWNudUcsS0FBS211RyxZQUFZLzVFLE9BQVMsS0FDMUQsR0FBSUEsRUFBUSxDQUdSLElBQUlrN0UsRUFBUXIxRyxLQUFLbUUsSUFBSWcyQixFQUFPQSxFQUFPcjdCLE9BQVMsR0FBS3EyRyxHQUM3Q0csRUFBUXQxRyxLQUFLbUUsSUFBSWcyQixFQUFPQSxFQUFPcjdCLE9BQVMsR0FBS3MyRyxHQUM3Q0MsRUFBUWw4RSxHQUFPbThFLEVBQVFuOEUsR0FFdkJnQixFQUFPejZCLEtBQUt5MUcsRUFBUUMsRUFFNUIsTUFFSXJ2RyxLQUFLNnVHLE9BQU9PLEVBQVFDLEdBQ3BCajdFLEVBQVNwMEIsS0FBS211RyxZQUFZLzVFLE9BRzlCLE9BREEyekUsR0FBU1csSUFBSTBHLEVBQVFDLEVBQVE1eUcsRUFBSUcsRUFBSTIyQixFQUFRdXhFLEVBQVkwRCxFQUFVQyxFQUFlcjBFLEdBQzNFcDBCLElBQ1gsRUFRQTRqRyxFQUFTM2lHLFVBQVV1dUcsVUFBWSxTQUFVek8sRUFBT24xRSxHQUc1QyxZQUZjLElBQVZtMUUsSUFBb0JBLEVBQVEsUUFDbEIsSUFBVm4xRSxJQUFvQkEsRUFBUSxHQUN6QjVyQixLQUFLeXZHLGlCQUFpQixDQUFFdmdFLFFBQVM4SSxHQUFRZ3BELE1BQU9ELE1BQU9BLEVBQU9uMUUsTUFBT0EsR0FDaEYsRUFVQWc0RSxFQUFTM2lHLFVBQVV3dUcsaUJBQW1CLFNBQVUzbEcsR0FFNUNBLEVBQVU5SSxPQUFPcUQsT0FBTyxDQUNwQjZxQyxRQUFTOEksR0FBUWdwRCxNQUNqQkQsTUFBTyxTQUNQbjFFLE1BQU8sRUFDUDhLLE9BQVEsTUFDVDVzQixHQUNDOUosS0FBS211RyxhQUNMbnVHLEtBQUs0dUcsWUFFVCxJQUFJdndFLEVBQVV2MEIsRUFBUThoQixNQUFRLEVBVzlCLE9BVkt5UyxHQUlHdjBCLEVBQVE0c0IsU0FDUjVzQixFQUFRNHNCLE9BQVM1c0IsRUFBUTRzQixPQUFPdEYsUUFDaEN0bkIsRUFBUTRzQixPQUFPaUIsVUFFbkIzMkIsT0FBT3FELE9BQU9yRSxLQUFLcXVHLFdBQVksQ0FBRWh3RSxRQUFTQSxHQUFXdjBCLElBUHJEOUosS0FBS3F1RyxXQUFXbnJELFFBU2JsakQsSUFDWCxFQUtBNGpHLEVBQVMzaUcsVUFBVXl1RyxRQUFVLFdBR3pCLE9BRkExdkcsS0FBSzB1RyxhQUNMMXVHLEtBQUtxdUcsV0FBV25yRCxRQUNUbGpELElBQ1gsRUFTQTRqRyxFQUFTM2lHLFVBQVUwdUcsU0FBVyxTQUFVaDNHLEVBQUdDLEVBQUdvZSxFQUFPQyxHQUNqRCxPQUFPalgsS0FBSzByRyxVQUFVLElBQUlsNkUsR0FBVTc0QixFQUFHQyxFQUFHb2UsRUFBT0MsR0FDckQsRUFVQTJzRixFQUFTM2lHLFVBQVUydUcsZ0JBQWtCLFNBQVVqM0csRUFBR0MsRUFBR29lLEVBQU9DLEVBQVFzYyxHQUNoRSxPQUFPdnpCLEtBQUswckcsVUFBVSxJQUFJejJFLEdBQWlCdDhCLEVBQUdDLEVBQUdvZSxFQUFPQyxFQUFRc2MsR0FDcEUsRUFRQXF3RSxFQUFTM2lHLFVBQVU0dUcsV0FBYSxTQUFVbDNHLEVBQUdDLEVBQUcyNkIsR0FDNUMsT0FBT3Z6QixLQUFLMHJHLFVBQVUsSUFBSXA0RSxHQUFPMzZCLEVBQUdDLEVBQUcyNkIsR0FDM0MsRUFTQXF3RSxFQUFTM2lHLFVBQVU2dUcsWUFBYyxTQUFVbjNHLEVBQUdDLEVBQUdvZSxFQUFPQyxHQUNwRCxPQUFPalgsS0FBSzByRyxVQUFVLElBQUk3M0UsR0FBUWw3QixFQUFHQyxFQUFHb2UsRUFBT0MsR0FDbkQsRUFNQTJzRixFQUFTM2lHLFVBQVU4dUcsWUFBYyxXQUk3QixJQUhBLElBTUkzN0UsRUFOQXRWLEVBQWNyYixVQUVka0ksRUFBTyxHQUNGcVQsRUFBSyxFQUFHQSxFQUFLdmIsVUFBVTFLLE9BQVFpbUIsSUFDcENyVCxFQUFLcVQsR0FBTUYsRUFBWUUsR0FHM0IsSUFBSXdWLEdBQWMsRUFDZHc3RSxFQUFPcmtHLEVBQUssR0FFWnFrRyxFQUFLNTdFLFFBQ0xJLEVBQWN3N0UsRUFBS3g3RSxZQUNuQkosRUFBUzQ3RSxFQUFLNTdFLFFBR2RBLEVBREtueEIsTUFBTXVILFFBQVFtQixFQUFLLElBQ2ZBLEVBQUssR0FHTEEsRUFFYixJQUFJODFGLEVBQVEsSUFBSXR0RSxHQUFRQyxHQUd4QixPQUZBcXRFLEVBQU1qdEUsWUFBY0EsRUFDcEJ4MEIsS0FBSzByRyxVQUFVakssR0FDUnpoRyxJQUNYLEVBTUE0akcsRUFBUzNpRyxVQUFVeXFHLFVBQVksU0FBVWpLLEdBT3JDLE9BTkt6aEcsS0FBS3V1RyxVQUlOdnVHLEtBQUt3dUcsVUFBVTdDLFNBQVNsSyxFQUFPemhHLEtBQUt1NkQsU0FIcEN2NkQsS0FBS3d1RyxVQUFVOUMsVUFBVWpLLEVBQU96aEcsS0FBS3F1RyxXQUFXajlFLFFBQVNweEIsS0FBS3N1RyxXQUFXbDlFLFFBQVNweEIsS0FBS3U2RCxTQUtwRnY2RCxJQUNYLEVBS0E0akcsRUFBUzNpRyxVQUFVMnRCLE1BQVEsV0FRdkIsT0FQQTV1QixLQUFLd3VHLFVBQVU1L0UsUUFDZjV1QixLQUFLc3VHLFdBQVdwckQsUUFDaEJsakQsS0FBS3F1RyxXQUFXbnJELFFBQ2hCbGpELEtBQUtrL0IsWUFDTGwvQixLQUFLdTZELFFBQVUsS0FDZnY2RCxLQUFLdXVHLFdBQVksRUFDakJ2dUcsS0FBS211RyxZQUFjLEtBQ1pudUcsSUFDWCxFQU1BNGpHLEVBQVMzaUcsVUFBVW00RCxXQUFhLFdBQzVCLElBQUloaEUsRUFBTzRILEtBQUt3dUcsVUFBVWhOLGFBQzFCLFFBQXVCLElBQWhCcHBHLEVBQUtXLFFBQ0xYLEVBQUssR0FBR3FwRyxNQUFNNzZGLE9BQVNrcUIsR0FBT1csTUFDN0JyNUIsRUFBSyxHQUFHcytCLFFBQ1J0K0IsRUFBSyxHQUFHdUksTUFBTTVILFFBQ2JYLEVBQUssR0FBR2d0RyxVQUFVL21FLFNBQVdqbUMsRUFBSyxHQUFHZ3RHLFVBQVVwdUYsTUFDNUQsRUFLQTRzRixFQUFTM2lHLFVBQVV1aUMsUUFBVSxTQUFVSCxHQUNuQ3JqQyxLQUFLMHVHLGFBQ0wsSUFBSXZ4RCxFQUFXbjlDLEtBQUt3dUcsVUFHcEJyeEQsRUFBU3F1RCxnQkFDTHJ1RCxFQUFTNHRELFdBQ0wvcUcsS0FBS2tyRyxhQUFlL3RELEVBQVMrdEQsWUFDN0JsckcsS0FBS2l3RyxtQkFFVGp3RyxLQUFLa3dHLGVBQWU3c0UsS0FJcEJBLEVBQVNVLE1BQU1GLFFBQ2Y3akMsS0FBS213RyxjQUFjOXNFLEdBRTNCLEVBRUF1Z0UsRUFBUzNpRyxVQUFVZ3ZHLGlCQUFtQixXQUNsQyxJQUFJOXlELEVBQVduOUMsS0FBS3d1RyxVQUNoQi9pRixFQUFZenJCLEtBQUt5ckIsVUFDakJseUIsRUFBTTRqRCxFQUFTZ3VELFFBQVFweUcsT0FDM0JpSCxLQUFLb3VHLFdBQWEsRUFDbEJwdUcsS0FBS3l1RyxjQUFnQixFQUNyQnp1RyxLQUFLa3JHLFdBQWEvdEQsRUFBUyt0RCxXQUMzQmxyRyxLQUFLbXJHLFFBQVFweUcsT0FBU1EsRUFDdEJ5RyxLQUFLeThCLFdBQWEsSUFBSWhtQixhQUFhMG1DLEVBQVMvb0IsUUFDNUMsSUFBSyxJQUFJOTZCLEVBQUksRUFBR0EsRUFBSUMsRUFBS0QsSUFBSyxDQUMxQixJQUFJODJHLEVBQUtqekQsRUFBU2d1RCxRQUFRN3hHLEdBQ3RCeW5HLEVBQVFxUCxFQUFHOWxFLE1BQU15MkQsTUFDakJ0a0UsRUFBYSxJQUFJaG1CLGFBQWF6VyxLQUFLeThCLFdBQVd4UCxPQUF5QixFQUFqQm1qRixFQUFHL0YsWUFBa0IsRUFBbUIsRUFBaEIrRixFQUFHNWpELFlBQ2pGek8sRUFBTSxJQUFJdG5DLGFBQWEwbUMsRUFBUy9GLFdBQVducUIsT0FBeUIsRUFBakJtakYsRUFBRy9GLFlBQWtCLEVBQW1CLEVBQWhCK0YsRUFBRzVqRCxZQUU5RXpvQixFQUFRLENBQ1J0SCxXQUFZQSxFQUNaaFIsVUFBV0EsRUFDWHFuRCxRQUpVLElBQUluOEQsWUFBWXdtQyxFQUFTMnRELGNBQWM3OUUsT0FBbUIsRUFBWG1qRixFQUFHaDJHLE1BQVdnMkcsRUFBRy9qRixNQUsxRTB4QixJQUFLQSxFQUNMc3lELFVBQVdobUYsR0FBUTAyRSxHQUNuQmhzQixTQUFVZ3NCLEVBQ1Z6K0MsU0FBVTh0RCxFQUFHOWxFLE1BQU00RSxRQUNuQnRqQixNQUFPd2tGLEVBQUc5bEUsTUFBTTFlLE1BQ2hCOFMsV0FBWSxHQUVoQjErQixLQUFLbXJHLFFBQVE3eEcsR0FBS3lxQyxDQUN0QixDQUNKLEVBS0E2L0QsRUFBUzNpRyxVQUFVaXZHLGVBQWlCLFNBQVU3c0UsR0FDMUMsR0FBS3JqQyxLQUFLbXJHLFFBQVFweUcsT0FBbEIsQ0FHQXNxQyxFQUFTVSxNQUFNaWYsa0JBQWtCM2YsRUFBUzJwQyxRQUFRaHRFLEtBQUsydkUsYUFDdkQzdkUsS0FBS3N3RyxvQkFDTHR3RyxLQUFLdXdHLGlCQUNMLElBQUssSUFBSWozRyxFQUFJLEVBQUd5SixFQUFJL0MsS0FBS21yRyxRQUFRcHlHLE9BQVFPLEVBQUl5SixFQUFHekosSUFBSyxDQUNqRCxJQUFJeXFDLEVBQVEvakMsS0FBS21yRyxRQUFRN3hHLEdBQ3pCeXFDLEVBQU1yRixXQUFhMStCLEtBQUswK0IsV0FBYXFGLEVBQU1uWSxNQUMzQ3lYLEVBQVMycEMsUUFBUWh0RSxLQUFLMnZFLFlBQVlqc0MsT0FBT0ssRUFDN0MsQ0FSQSxDQVNKLEVBS0E2L0QsRUFBUzNpRyxVQUFVa3ZHLGNBQWdCLFNBQVU5c0UsR0FDekMsSUFBSXVlLEVBQVM1aEQsS0FBS3d3RyxxQkFBcUJudEUsR0FDbkM4WixFQUFXbjlDLEtBQUt3dUcsVUFDaEJ6aUYsRUFBTy9yQixLQUFLK3JCLEtBQ1oyUyxFQUFhMStCLEtBQUswK0IsV0FDbEI2ZixFQUFXcUQsRUFBT3JELFNBQ2xCKzBCLEVBQVluMkIsRUFBU20yQixVQUV6Qi8wQixFQUFTKzJCLGtCQUFvQnQxRSxLQUFLNHhCLFVBQVUySSxlQUU1Q2drQixFQUFTeHlCLEtBQUssSUFBUUEsR0FBUSxHQUFNLEtBQVEsSUFBTzJTLEVBQ25ENmYsRUFBU3h5QixLQUFLLElBQVFBLEdBQVEsRUFBSyxLQUFRLElBQU8yUyxFQUNsRDZmLEVBQVN4eUIsS0FBSyxJQUFjLElBQVBBLEdBQWUsSUFBTzJTLEVBQzNDNmYsRUFBU3h5QixLQUFLLEdBQUsyUyxFQUtuQjJFLEVBQVN1ZSxPQUFPMVgsS0FBSzBYLEdBQ3JCdmUsRUFBUzhaLFNBQVNqVCxLQUFLaVQsRUFBVXlFLEdBRWpDdmUsRUFBUytjLE1BQU1seEIsSUFBSWx2QixLQUFLb2dELE9BRXhCLElBQUssSUFBSTltRCxFQUFJLEVBQUd5SixFQUFJdXdFLEVBQVV2NkUsT0FBUU8sRUFBSXlKLEVBQUd6SixJQUN6QzBHLEtBQUt5d0csc0JBQXNCcHRFLEVBQVU4WixFQUFTbTJCLFVBQVVoNkUsR0FFaEUsRUFNQXNxRyxFQUFTM2lHLFVBQVV3dkcsc0JBQXdCLFNBQVVwdEUsRUFBVXF3QyxHQUczRCxJQUZBLElBQUlud0IsRUFBV213QixFQUFTbndCLFNBQVUzOEMsRUFBTzhzRSxFQUFTOXNFLEtBQU15bEIsRUFBT3FuRCxFQUFTcm5ELEtBQU1qeUIsRUFBUXM1RSxFQUFTdDVFLE1BQzNGczJHLEVBQW9CbnRELEVBQVNuYixNQUN4QmxvQyxFQUFJLEVBQUdBLEVBQUl3d0csRUFBbUJ4d0csSUFDbkNtakMsRUFBUzZMLFFBQVFoRixLQUFLcVosRUFBU0UsU0FBU3ZqRCxHQUFJQSxHQUVoRG1qQyxFQUFTOFosU0FBUzZFLEtBQUtwN0MsRUFBTXlsQixFQUFNanlCLEVBQ3ZDLEVBS0F3cEcsRUFBUzNpRyxVQUFVdXZHLHFCQUF1QixTQUFVbnRFLEdBQ2hELElBQUl1ZSxFQUFTNWhELEtBQUs0aEQsT0FDZCt0QixFQUFhM3ZFLEtBQUsydkUsV0FDdEIsSUFBSy90QixFQUFRLENBSVQsSUFBS3NzRCxHQUFnQnYrQixHQUFhLENBRzlCLElBRkEsSUFBSXFDLEVBQWUzdUMsRUFBUzJwQyxRQUFRMkMsR0FBWXFDLGFBQzVDbUQsRUFBZSxJQUFJdCtELFdBQVdtN0QsR0FDekIxNEUsRUFBSSxFQUFHQSxFQUFJMDRFLEVBQWMxNEUsSUFDOUI2N0UsRUFBYTc3RSxHQUFLQSxFQUV0QixJQUFJaWxELEVBQVcsQ0FDWHh5QixLQUFNLElBQUl0VixhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsSUFDakM2K0Qsa0JBQW1CLElBQUk5L0MsR0FDdkIrL0MsUUFBU2ozQixHQUFhaDVDLEtBQUssQ0FBRTh2RSxVQUFXRCxJQUFnQixJQUV4RHR6QixFQUFVeGUsRUFBUzJwQyxRQUFRMkMsR0FBWStCLFFBQVE3dkIsUUFDbkRxc0QsR0FBZ0J2K0IsR0FBYyxJQUFJcGIsR0FBTzFTLEVBQVN0RCxFQUN0RCxDQUNBcUQsRUFBU3NzRCxHQUFnQnYrQixFQUM3QixDQUNBLE9BQU8vdEIsQ0FDWCxFQUVBZ2lELEVBQVMzaUcsVUFBVWlpQyxpQkFBbUIsV0FDbENsakMsS0FBSzB1RyxhQUNMLElBQUl2eEQsRUFBV245QyxLQUFLd3VHLFVBRXBCLEdBQUtyeEQsRUFBU3FrRCxhQUFhem9HLE9BQTNCLENBR0EsSUFBSTJlLEVBQUt5bEMsRUFBU2hnQixPQUFRNWtDLEVBQU9tZixFQUFHbmYsS0FBTUMsRUFBT2tmLEVBQUdsZixLQUFNQyxFQUFPaWYsRUFBR2pmLEtBQU1DLEVBQU9nZixFQUFHaGYsS0FDcEZzSCxLQUFLZy9CLFFBQVExQyxTQUFTdDhCLEtBQUs0eEIsVUFBV3I1QixFQUFNQyxFQUFNQyxFQUFNQyxFQUZ4RCxDQUdKLEVBTUFrckcsRUFBUzNpRyxVQUFVczdFLGNBQWdCLFNBQVVwZ0QsR0FFekMsT0FEQW44QixLQUFLdTZCLGVBQWV2RSxhQUFhbUcsRUFBT3luRSxFQUFTK00sYUFDMUMzd0csS0FBS3d1RyxVQUFVanlCLGNBQWNxbkIsRUFBUytNLFlBQ2pELEVBRUEvTSxFQUFTM2lHLFVBQVVzdkcsZUFBaUIsV0FDaEMsR0FBSXZ3RyxLQUFLb3VHLFlBQWNwdUcsS0FBSytyQixLQUFNLENBQzlCL3JCLEtBQUtvdUcsVUFBWXB1RyxLQUFLK3JCLEtBRXRCLElBREEsSUFBSTZrRixFQUFVdm1GLEdBQVFycUIsS0FBSytyQixLQUFNa2lGLElBQ3hCMzBHLEVBQUksRUFBR0EsRUFBSTBHLEtBQUttckcsUUFBUXB5RyxPQUFRTyxJQUFLLENBQzFDLElBQUl5cUMsRUFBUS9qQyxLQUFLbXJHLFFBQVE3eEcsR0FDckI4MEcsRUFBWXJxRSxFQUFNc3NFLFVBS2xCdFAsR0FKSzZQLEVBQVEsR0FBS3hDLEVBQVUsR0FBTSxLQUlwQixLQUhUd0MsRUFBUSxHQUFLeEMsRUFBVSxHQUFNLEtBR1IsSUFBVSxFQUYvQndDLEVBQVEsR0FBS3hDLEVBQVUsR0FBTSxLQUd0Q3JxRSxFQUFNZ3hDLFVBQVlnc0IsR0FBUyxLQUNaLE1BQVJBLEtBQ1MsSUFBUkEsSUFBaUIsR0FDN0IsQ0FDSixDQUNKLEVBRUE2QyxFQUFTM2lHLFVBQVVxdkcsa0JBQW9CLFdBQ25DLElBQUlPLEVBQU83d0csS0FBSzR4QixVQUFVc0osU0FDMUIsR0FBSWw3QixLQUFLeXVHLGVBQWlCb0MsRUFBMUIsQ0FHQTd3RyxLQUFLeXVHLGFBQWVvQyxFQVdwQixJQVZBLElBQUlyMUUsRUFBS3g3QixLQUFLNHhCLFVBQVUySSxlQUNwQm4rQixFQUFJby9CLEVBQUdwL0IsRUFDUEMsRUFBSW0vQixFQUFHbi9CLEVBQ1BDLEVBQUlrL0IsRUFBR2wvQixFQUNQd0UsRUFBSTA2QixFQUFHMTZCLEVBQ1AyMEIsRUFBSytGLEVBQUcvRixHQUNSQyxFQUFLOEYsRUFBRzlGLEdBQ1J0OUIsRUFBTzRILEtBQUt3dUcsVUFBVXA2RSxPQUN0QnFJLEVBQWF6OEIsS0FBS3k4QixXQUNsQjJMLEVBQVEsRUFDSDl1QyxFQUFJLEVBQUdBLEVBQUlsQixFQUFLVyxPQUFRTyxHQUFLLEVBQUcsQ0FDckMsSUFBSVgsRUFBSVAsRUFBS2tCLEdBQ1RWLEVBQUlSLEVBQUtrQixFQUFJLEdBQ2pCbWpDLEVBQVcyTCxLQUFZaHNDLEVBQUl6RCxFQUFNMkQsRUFBSTFELEVBQUs2OEIsRUFDMUNnSCxFQUFXMkwsS0FBWXRuQyxFQUFJbEksRUFBTXlELEVBQUkxRCxFQUFLKzhCLENBQzlDLENBakJBLENBa0JKLEVBS0FrdUUsRUFBUzNpRyxVQUFVNnZHLFVBQVksV0FDM0IsSUFBSTNDLEVBQWNudUcsS0FBS211RyxZQVF2QixPQVBJQSxJQUVBQSxFQUFZMzVFLGFBQWMsRUFHMUJ4MEIsS0FBSzB1RyxjQUVGMXVHLElBQ1gsRUFNQTRqRyxFQUFTM2lHLFVBQVU4dkcsVUFBWSxTQUFVcjZFLEdBRXJDLE9BREExMkIsS0FBS3U2RCxRQUFVN2pDLEVBQ1IxMkIsSUFDWCxFQVNBNGpHLEVBQVMzaUcsVUFBVSt2RyxVQUFZLFdBRzNCLE9BRkFoeEcsS0FBSzB1RyxhQUNMMXVHLEtBQUt1dUcsV0FBWSxFQUNWdnVHLElBQ1gsRUFLQTRqRyxFQUFTM2lHLFVBQVVnd0csUUFBVSxXQUd6QixPQUZBanhHLEtBQUswdUcsYUFDTDF1RyxLQUFLdXVHLFdBQVksRUFDVnZ1RyxJQUNYLEVBWUE0akcsRUFBUzNpRyxVQUFVc3RCLFFBQVUsU0FBVXprQixHQUNuQzlKLEtBQUt3dUcsVUFBVWh5RCxXQUNpQixJQUE1Qng4QyxLQUFLd3VHLFVBQVVoeUQsVUFDZng4QyxLQUFLd3VHLFVBQVUvakUsVUFFbkJ6cUMsS0FBS3U2RCxRQUFVLEtBQ2Z2NkQsS0FBS211RyxZQUFjLEtBQ25CbnVHLEtBQUtzdUcsV0FBVy8vRSxVQUNoQnZ1QixLQUFLc3VHLFdBQWEsS0FDbEJ0dUcsS0FBS3F1RyxXQUFXOS9FLFVBQ2hCdnVCLEtBQUtxdUcsV0FBYSxLQUNsQnJ1RyxLQUFLd3VHLFVBQVksS0FDakJ4dUcsS0FBSzRoRCxPQUFTLEtBQ2Q1aEQsS0FBS3k4QixXQUFhLEtBQ2xCejhCLEtBQUttckcsUUFBUXB5RyxPQUFTLEVBQ3RCaUgsS0FBS21yRyxRQUFVLEtBQ2ZqdEUsRUFBT2o5QixVQUFVc3RCLFFBQVE5ckIsS0FBS3pDLEtBQU04SixFQUN4QyxFQUtBODVGLEVBQVNDLHlCQUEwQixFQUtuQ0QsRUFBUytNLFlBQWMsSUFBSXgvRSxHQUNwQnl5RSxDQUNYLENBNzBCNkIsQ0E2MEIzQmhpRSxJQUVFc3ZFLEdBQWdCLENBQ2hCNVAsVUFBV0EsR0FDWFMsWUFBYUEsR0FDYlcsZUFBZ0JBLEdBQ2hCaUIsc0JBQXVCQSxHQUN2QndCLFVBQVdBLEdBQ1g0QyxTQUFVQSxHQUNWcUIsWUFBYUEsR0FDYmEsZUFBZ0JBLEdBQ2hCRyxVQUFXQSxHQUNYRyxjQUFlQSxHQUNmQyxXQUFZQSxHQUNaQyxlQUFnQkEsSUU5ekZoQixHQUFnQixTQUFTM3BHLEVBQUd6RSxHQUk1QixPQUhBLEdBQWdCMkUsT0FBTzg4QixnQkFDbEIsQ0FBRTE3QixVQUFXLGNBQWdCYSxPQUFTLFNBQVVuQyxFQUFHekUsR0FBS3lFLEVBQUVzQixVQUFZL0YsQ0FBRyxHQUMxRSxTQUFVeUUsRUFBR3pFLEdBQUssSUFBSyxJQUFJdkIsS0FBS3VCLEVBQVNBLEVBQUU2RSxlQUFlcEcsS0FBTWdHLEVBQUVoRyxHQUFLdUIsRUFBRXZCLEdBQVEsRUFDOUUsR0FBY2dHLEVBQUd6RSxFQUM1QixFQVFJODBHLEdBQVksSUFBSWhnRixHQUNoQjJoRCxHQUFVLElBQUluOEQsWUFBWSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQXdCMUN5NkYsR0FBd0IsU0FBVWx6RSxHQUdsQyxTQUFTa3pFLEVBQU9saUUsR0FDWixJQUFJL1EsRUFBUUQsRUFBT3o3QixLQUFLekMsT0FBU0EsS0E2QmpDLE9BNUJBbStCLEVBQU1rekUsUUFBVSxJQUFJajhFLEdBQWdCK0ksRUFBTW16RSxnQkFBaUJuekUsRUFBUStRLEVBQVVBLEVBQVFzSixjQUFjNy9DLEVBQUksRUFBS3UyQyxFQUFVQSxFQUFRc0osY0FBYzUvQyxFQUFJLEdBQ2hKdWxDLEVBQU1ta0IsU0FBVyxLQUNqQm5rQixFQUFNaUcsT0FBUyxFQUNmakcsRUFBTWtHLFFBQVUsRUFDaEJsRyxFQUFNby9ELE1BQVEsS0FDZHAvRCxFQUFNNDJDLFNBQVcsS0FDakI1MkMsRUFBTXBTLEtBQU8sU0FDYm9TLEVBQU0xUyxVQUFZNVcsRUFBWXFXLE9BQzlCaVQsRUFBTW96RSxZQUFjLFNBQ3BCcHpFLEVBQU00ZixJQUFNLEtBRVo1ZixFQUFNK1EsUUFBVUEsR0FBVzhJLEdBQVEvYixNQUNuQ2tDLEVBQU0xQixXQUFhLElBQUlobUIsYUFBYSxHQUNwQzBuQixFQUFNcXpFLGtCQUFvQixLQUMxQnJ6RSxFQUFNc3dFLGNBQWdCLEVBQ3RCdHdFLEVBQU00M0IsWUFBYyxFQUNwQjUzQixFQUFNc3pFLHFCQUF1QixFQUM3QnR6RSxFQUFNdXpFLG1CQUFxQixFQUczQnZ6RSxFQUFNMjBDLFFBQVVBLEdBQ2hCMzBDLEVBQU13eEMsV0FBYSxRQUtuQnh4QyxFQUFNcUIsVUFBVyxFQUNqQnJCLEVBQU13ekUsYUFBZWwzRixHQUFTc0MsYUFDdkJvaEIsQ0FDWCxDQTJWQSxPQTVaSixTQUFtQnI5QixFQUFHekUsR0FFbEIsU0FBUzJoQyxJQUFPaCtCLEtBQUt3VCxZQUFjMVMsQ0FBRyxDQUR0QyxHQUFjQSxFQUFHekUsR0FFakJ5RSxFQUFFRyxVQUFrQixPQUFONUUsRUFBYTJFLE9BQU9tQixPQUFPOUYsSUFBTTJoQyxFQUFHLzhCLFVBQVk1RSxFQUFFNEUsVUFBVyxJQUFJKzhCLEVBQ25GLENBNEJJLENBQVVvekUsRUFBUWx6RSxHQW1DbEJrekUsRUFBT253RyxVQUFVMndHLGlCQUFtQixXQUNoQzV4RyxLQUFLKzFELFlBQWMsRUFDbkIvMUQsS0FBSzB4RyxtQkFBcUIsRUFDMUIxeEcsS0FBS3V4RyxZQUFjLFNBRWZ2eEcsS0FBS29rQyxTQUNMcGtDLEtBQUtrMkIsTUFBTXY5QixFQUFJeUcsR0FBS1ksS0FBS2syQixNQUFNdjlCLEdBQUtxSCxLQUFLb2tDLE9BQVNwa0MsS0FBS3NpRCxTQUFTckssS0FBS2poQyxPQUVyRWhYLEtBQUtxa0MsVUFDTHJrQyxLQUFLazJCLE1BQU10OUIsRUFBSXdHLEdBQUtZLEtBQUtrMkIsTUFBTXQ5QixHQUFLb0gsS0FBS3FrQyxRQUFVcmtDLEtBQUtzaUQsU0FBU3JLLEtBQUtoaEMsT0FFOUUsRUFFQW02RixFQUFPbndHLFVBQVVxd0csZ0JBQWtCLFdBQy9CdHhHLEtBQUt5dUcsY0FBZ0IsRUFDckJ6dUcsS0FBS3l4RyxxQkFBdUIsQ0FDaEMsRUFFQUwsRUFBT253RyxVQUFVcXZHLGtCQUFvQixXQUNqQyxJQUFJcGhFLEVBQVVsdkMsS0FBS3NpRCxTQUNuQixHQUFJdGlELEtBQUt5dUcsZUFBaUJ6dUcsS0FBSzR4QixVQUFVc0osVUFBWWw3QixLQUFLKzFELGFBQWU3bUIsRUFBUXVKLFVBQWpGLENBSUl6NEMsS0FBSysxRCxhQUFlN21CLEVBQVF1SixZQUM1Qno0QyxLQUFLKzlDLElBQU0vOUMsS0FBS3NpRCxTQUFTakssS0FBS2pCLFlBRWxDcDNDLEtBQUt5dUcsYUFBZXp1RyxLQUFLNHhCLFVBQVVzSixTQUNuQ2w3QixLQUFLKzFELFdBQWE3bUIsRUFBUXVKLFVBRTFCLElBQUlqZCxFQUFLeDdCLEtBQUs0eEIsVUFBVTJJLGVBQ3BCbitCLEVBQUlvL0IsRUFBR3AvQixFQUNQQyxFQUFJbS9CLEVBQUduL0IsRUFDUEMsRUFBSWsvQixFQUFHbC9CLEVBQ1B3RSxFQUFJMDZCLEVBQUcxNkIsRUFDUDIwQixFQUFLK0YsRUFBRy9GLEdBQ1JDLEVBQUs4RixFQUFHOUYsR0FDUitHLEVBQWF6OEIsS0FBS3k4QixXQUNsQmp2QixFQUFPMGhDLEVBQVExaEMsS0FDZnlxQyxFQUFPL0ksRUFBUStJLEtBQ2ZDLEVBQVNsNEMsS0FBS3F4RyxRQUNkdFIsRUFBSyxFQUNMQyxFQUFLLEVBQ0xDLEVBQUssRUFDTEMsRUFBSyxFQTJCVCxHQTFCSTF5RixHQUlBdXlGLEdBREFDLEVBQUt4eUYsRUFBSzdVLEVBQUt1L0MsRUFBTzVpQixHQUFLMmlCLEVBQUtqaEMsT0FDdEJ4SixFQUFLd0osTUFFZmlwRixHQURBQyxFQUFLMXlGLEVBQUs1VSxFQUFLcy9DLEVBQU8zaUIsR0FBSzBpQixFQUFLaGhDLFFBQ3RCekosRUFBS3lKLFNBSWY4b0YsR0FEQUMsR0FBTTluRCxFQUFPNWlCLEdBQUsyaUIsRUFBS2poQyxPQUNiaWhDLEVBQUtqaEMsTUFFZmlwRixHQURBQyxHQUFNaG9ELEVBQU8zaUIsR0FBSzBpQixFQUFLaGhDLFFBQ2JnaEMsRUFBS2hoQyxRQUduQndsQixFQUFXLEdBQU1yZ0MsRUFBSTRqRyxFQUFPMWpHLEVBQUk0akcsRUFBTXpxRSxFQUN0Q2dILEVBQVcsR0FBTTM3QixFQUFJby9GLEVBQU83akcsRUFBSTJqRyxFQUFNdHFFLEVBRXRDK0csRUFBVyxHQUFNcmdDLEVBQUkyakcsRUFBT3pqRyxFQUFJNGpHLEVBQU16cUUsRUFDdENnSCxFQUFXLEdBQU0zN0IsRUFBSW8vRixFQUFPN2pHLEVBQUkwakcsRUFBTXJxRSxFQUV0QytHLEVBQVcsR0FBTXJnQyxFQUFJMmpHLEVBQU96akcsRUFBSTJqRyxFQUFNeHFFLEVBQ3RDZ0gsRUFBVyxHQUFNMzdCLEVBQUltL0YsRUFBTzVqRyxFQUFJMGpHLEVBQU1ycUUsRUFFdEMrRyxFQUFXLEdBQU1yZ0MsRUFBSTRqRyxFQUFPMWpHLEVBQUkyakcsRUFBTXhxRSxFQUN0Q2dILEVBQVcsR0FBTTM3QixFQUFJbS9GLEVBQU81akcsRUFBSTJqRyxFQUFNdHFFLEVBQ2xDMTFCLEtBQUsyeEcsYUFFTCxJQURBLElBQUlqakYsRUFBYWpVLEdBQVNLLFdBQ2pCeGhCLEVBQUksRUFBR0EsRUFBSW1qQyxFQUFXMWpDLFNBQVVPLEVBQ3JDbWpDLEVBQVduakMsR0FBS1csS0FBS2cxQixPQUFPd04sRUFBV25qQyxHQUFLbzFCLEVBQWEsR0FBS0EsRUFwRHRFLENBdURKLEVBTUEwaUYsRUFBT253RyxVQUFVNHdHLHlCQUEyQixXQUN4QyxHQUFLN3hHLEtBQUt3eEcsbUJBR0wsR0FBSXh4RyxLQUFLeXhHLHNCQUF3Qnp4RyxLQUFLNHhCLFVBQVVzSixVQUFZbDdCLEtBQUsweEcsb0JBQXNCMXhHLEtBQUtzaUQsU0FBUzdKLFVBQ3RHLFlBSEF6NEMsS0FBS3d4RyxrQkFBb0IsSUFBSS82RixhQUFhLEdBSzlDelcsS0FBS3l4RyxvQkFBc0J6eEcsS0FBSzR4QixVQUFVc0osU0FDMUNsN0IsS0FBSzB4RyxrQkFBb0IxeEcsS0FBS3NpRCxTQUFTN0osVUFFdkMsSUFBSXZKLEVBQVVsdkMsS0FBS3NpRCxTQUNmN2xCLEVBQWF6OEIsS0FBS3d4RyxrQkFDbEJ2NUQsRUFBTy9JLEVBQVErSSxLQUNmQyxFQUFTbDRDLEtBQUtxeEcsUUFFZDcxRSxFQUFLeDdCLEtBQUs0eEIsVUFBVTJJLGVBQ3BCbitCLEVBQUlvL0IsRUFBR3AvQixFQUNQQyxFQUFJbS9CLEVBQUduL0IsRUFDUEMsRUFBSWsvQixFQUFHbC9CLEVBQ1B3RSxFQUFJMDZCLEVBQUcxNkIsRUFDUDIwQixFQUFLK0YsRUFBRy9GLEdBQ1JDLEVBQUs4RixFQUFHOUYsR0FDUnNxRSxHQUFNOW5ELEVBQU81aUIsR0FBSzJpQixFQUFLamhDLE1BQ3ZCK29GLEVBQUtDLEVBQUsvbkQsRUFBS2poQyxNQUNma3BGLEdBQU1ob0QsRUFBTzNpQixHQUFLMGlCLEVBQUtoaEMsT0FDdkJncEYsRUFBS0MsRUFBS2pvRCxFQUFLaGhDLE9BRW5Cd2xCLEVBQVcsR0FBTXJnQyxFQUFJNGpHLEVBQU8xakcsRUFBSTRqRyxFQUFNenFFLEVBQ3RDZ0gsRUFBVyxHQUFNMzdCLEVBQUlvL0YsRUFBTzdqRyxFQUFJMmpHLEVBQU10cUUsRUFFdEMrRyxFQUFXLEdBQU1yZ0MsRUFBSTJqRyxFQUFPempHLEVBQUk0akcsRUFBTXpxRSxFQUN0Q2dILEVBQVcsR0FBTTM3QixFQUFJby9GLEVBQU83akcsRUFBSTBqRyxFQUFNcnFFLEVBRXRDK0csRUFBVyxHQUFNcmdDLEVBQUkyakcsRUFBT3pqRyxFQUFJMmpHLEVBQU14cUUsRUFDdENnSCxFQUFXLEdBQU0zN0IsRUFBSW0vRixFQUFPNWpHLEVBQUkwakcsRUFBTXJxRSxFQUV0QytHLEVBQVcsR0FBTXJnQyxFQUFJNGpHLEVBQU8xakcsRUFBSTJqRyxFQUFNeHFFLEVBQ3RDZ0gsRUFBVyxHQUFNMzdCLEVBQUltL0YsRUFBTzVqRyxFQUFJMmpHLEVBQU10cUUsQ0FDMUMsRUFNQTA3RSxFQUFPbndHLFVBQVV1aUMsUUFBVSxTQUFVSCxHQUNqQ3JqQyxLQUFLc3dHLG9CQUNManRFLEVBQVNVLE1BQU1pZixrQkFBa0IzZixFQUFTMnBDLFFBQVFodEUsS0FBSzJ2RSxhQUN2RHRzQyxFQUFTMnBDLFFBQVFodEUsS0FBSzJ2RSxZQUFZanNDLE9BQU8xakMsS0FDN0MsRUFFQW94RyxFQUFPbndHLFVBQVVpaUMsaUJBQW1CLFdBQ2hDLElBQUkxMUIsRUFBT3hOLEtBQUtzaUQsU0FBUzkwQyxLQUNyQnlxQyxFQUFPajRDLEtBQUtzaUQsU0FBU3JLLE1BRXBCenFDLEdBQVNBLEVBQUt3SixRQUFVaWhDLEVBQUtqaEMsT0FBU3hKLEVBQUt5SixTQUFXZ2hDLEVBQUtoaEMsUUFFNURqWCxLQUFLc3dHLG9CQUNMdHdHLEtBQUtnL0IsUUFBUTNDLFFBQVFyOEIsS0FBS3k4QixjQUkxQno4QixLQUFLNnhHLDJCQUNMN3hHLEtBQUtnL0IsUUFBUTNDLFFBQVFyOEIsS0FBS3d4RyxtQkFFbEMsRUFNQUosRUFBT253RyxVQUFVZy9CLGVBQWlCLFNBQVVwRSxHQUV4QyxPQUE2QixJQUF6Qjc3QixLQUFLMlIsU0FBUzVZLFFBQ1RpSCxLQUFLaS9CLGVBQ05qL0IsS0FBS2kvQixhQUFlLElBQUlyRCxJQUU1QjU3QixLQUFLaS9CLGFBQWExbUMsS0FBT3lILEtBQUtzaUQsU0FBU3JLLEtBQUtqaEMsT0FBU2hYLEtBQUtxeEcsUUFBUS83RSxHQUNsRXQxQixLQUFLaS9CLGFBQWF6bUMsS0FBT3dILEtBQUtzaUQsU0FBU3JLLEtBQUtoaEMsUUFBVWpYLEtBQUtxeEcsUUFBUTk3RSxHQUNuRXYxQixLQUFLaS9CLGFBQWF4bUMsS0FBT3VILEtBQUtzaUQsU0FBU3JLLEtBQUtqaEMsT0FBUyxFQUFJaFgsS0FBS3F4RyxRQUFRLzdFLElBQ3RFdDFCLEtBQUtpL0IsYUFBYXZtQyxLQUFPc0gsS0FBS3NpRCxTQUFTckssS0FBS2hoQyxRQUFVLEVBQUlqWCxLQUFLcXhHLFFBQVE5N0UsSUFDbEVzRyxJQUNJNzdCLEtBQUtvL0IsbUJBQ05wL0IsS0FBS28vQixpQkFBbUIsSUFBSTVOLElBRWhDcUssRUFBTzc3QixLQUFLby9CLGtCQUVUcC9CLEtBQUtpL0IsYUFBYWpELGFBQWFILElBRW5DcUMsRUFBT2o5QixVQUFVZy9CLGVBQWV4OUIsS0FBS3pDLEtBQU02N0IsRUFDdEQsRUFNQXUxRSxFQUFPbndHLFVBQVVzN0UsY0FBZ0IsU0FBVXBnRCxHQUN2Q244QixLQUFLdTZCLGVBQWV2RSxhQUFhbUcsRUFBT2cxRSxJQUN4QyxJQUFJbjZGLEVBQVFoWCxLQUFLc2lELFNBQVNySyxLQUFLamhDLE1BQzNCQyxFQUFTalgsS0FBS3NpRCxTQUFTckssS0FBS2hoQyxPQUM1QmxhLEdBQU1pYSxFQUFRaFgsS0FBS2s0QyxPQUFPdi9DLEVBQzFCcUUsRUFBSyxFQUNULE9BQUltMEcsR0FBVXg0RyxHQUFLb0UsR0FBTW8wRyxHQUFVeDRHLEVBQUlvRSxFQUFLaWEsSUFDeENoYSxHQUFNaWEsRUFBU2pYLEtBQUtrNEMsT0FBT3QvQyxFQUN2QnU0RyxHQUFVdjRHLEdBQUtvRSxHQUFNbTBHLEdBQVV2NEcsRUFBSW9FLEVBQUtpYSxFQUtwRCxFQVVBbTZGLEVBQU9ud0csVUFBVXN0QixRQUFVLFNBQVV6a0IsR0FLakMsR0FKQW8wQixFQUFPajlCLFVBQVVzdEIsUUFBUTlyQixLQUFLekMsS0FBTThKLEdBQ3BDOUosS0FBS3NpRCxTQUFTditDLElBQUksU0FBVS9ELEtBQUs0eEcsaUJBQWtCNXhHLE1BQ25EQSxLQUFLcXhHLFFBQVUsS0FDeUIsa0JBQVp2bkcsRUFBd0JBLEVBQVVBLEdBQVdBLEVBQVFvbEMsUUFDN0QsQ0FDaEIsSUFBSTRpRSxFQUF3QyxrQkFBWmhvRyxFQUF3QkEsRUFBVUEsR0FBV0EsRUFBUXFnQyxZQUNyRm5xQyxLQUFLc2lELFNBQVMvekIsVUFBVXVqRixFQUM1QixDQUNBOXhHLEtBQUtzaUQsU0FBVyxJQUNwQixFQVNBOHVELEVBQU85ckcsS0FBTyxTQUFVRCxFQUFReUUsR0FJNUIsT0FBTyxJQUFJc25HLEVBSEkvckcsYUFBa0IyeUMsR0FDM0IzeUMsRUFDQTJ5QyxHQUFRMXlDLEtBQUtELEVBQVF5RSxHQUUvQixFQUNBOUksT0FBT2tRLGVBQWVrZ0csRUFBT253RyxVQUFXLGNBQWUsQ0FDbkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUsyeEcsWUFDaEIsRUFVQXppRixJQUFLLFNBQVU5bkIsR0FDUHBILEtBQUsyeEcsZUFBaUJ2cUcsSUFDdEJwSCxLQUFLeXVHLGNBQWdCLEdBRXpCenVHLEtBQUsyeEcsYUFBZXZxRyxDQUN4QixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWtnRyxFQUFPbndHLFVBQVcsUUFBUyxDQUU3Q21RLElBQUssV0FDRCxPQUFPblgsS0FBS21FLElBQUk0QixLQUFLazJCLE1BQU12OUIsR0FBS3FILEtBQUtzaUQsU0FBU3JLLEtBQUtqaEMsS0FDdkQsRUFDQWtZLElBQUssU0FBVTluQixHQUNYLElBQUkzQixFQUFJckcsR0FBS1ksS0FBS2syQixNQUFNdjlCLElBQU0sRUFDOUJxSCxLQUFLazJCLE1BQU12OUIsRUFBSThNLEVBQUkyQixFQUFRcEgsS0FBS3NpRCxTQUFTckssS0FBS2poQyxNQUM5Q2hYLEtBQUtva0MsT0FBU2g5QixDQUNsQixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWtnRyxFQUFPbndHLFVBQVcsU0FBVSxDQUU5Q21RLElBQUssV0FDRCxPQUFPblgsS0FBS21FLElBQUk0QixLQUFLazJCLE1BQU10OUIsR0FBS29ILEtBQUtzaUQsU0FBU3JLLEtBQUtoaEMsTUFDdkQsRUFDQWlZLElBQUssU0FBVTluQixHQUNYLElBQUkzQixFQUFJckcsR0FBS1ksS0FBS2syQixNQUFNdDlCLElBQU0sRUFDOUJvSCxLQUFLazJCLE1BQU10OUIsRUFBSTZNLEVBQUkyQixFQUFRcEgsS0FBS3NpRCxTQUFTckssS0FBS2hoQyxPQUM5Q2pYLEtBQUtxa0MsUUFBVWo5QixDQUNuQixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWtnRyxFQUFPbndHLFVBQVcsU0FBVSxDQWdCOUNtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtxeEcsT0FDaEIsRUFDQW5pRixJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUtxeEcsUUFBUWhnRixTQUFTanFCLEVBQzFCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFla2dHLEVBQU9ud0csVUFBVyxPQUFRLENBTzVDbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLdTlGLEtBQ2hCLEVBQ0FydUUsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLdTlGLE1BQVFuMkYsRUFDYnBILEtBQUsrMEUsVUFBWTN0RSxHQUFTLEtBQWUsTUFBUkEsS0FBNEIsSUFBUkEsSUFBaUIsR0FDMUUsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVrZ0csRUFBT253RyxVQUFXLFVBQVcsQ0FFL0NtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtzaUQsUUFDaEIsRUFDQXB6QixJQUFLLFNBQVU5bkIsR0FDUHBILEtBQUtzaUQsV0FBYWw3QyxJQUdsQnBILEtBQUtzaUQsVUFDTHRpRCxLQUFLc2lELFNBQVN2K0MsSUFBSSxTQUFVL0QsS0FBSzR4RyxpQkFBa0I1eEcsTUFFdkRBLEtBQUtzaUQsU0FBV2w3QyxHQUFTNHdDLEdBQVEvYixNQUNqQ2o4QixLQUFLdXhHLFlBQWMsU0FDbkJ2eEcsS0FBSysxRCxZQUFjLEVBQ25CLzFELEtBQUsweEcsbUJBQXFCLEVBQ3RCdHFHLElBRUlBLEVBQU0raUMsWUFBWTRDLE1BQ2xCL3NDLEtBQUs0eEcsbUJBR0x4cUcsRUFBTTVGLEtBQUssU0FBVXhCLEtBQUs0eEcsaUJBQWtCNXhHLE9BR3hELEVBQ0FtUixZQUFZLEVBQ1pnZSxjQUFjLElBRVhpaUYsQ0FDWCxDQTlYMkIsQ0E4WHpCeHZFLElEcmFFLEdBQWdCLFNBQVM5Z0MsRUFBR3pFLEdBSTVCLE9BSEEsR0FBZ0IyRSxPQUFPODhCLGdCQUNsQixDQUFFMTdCLFVBQVcsY0FBZ0JhLE9BQVMsU0FBVW5DLEVBQUd6RSxHQUFLeUUsRUFBRXNCLFVBQVkvRixDQUFHLEdBQzFFLFNBQVV5RSxFQUFHekUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTZFLGVBQWVwRyxLQUFNZ0csRUFBRWhHLEdBQUt1QixFQUFFdkIsR0FBUSxFQUM5RSxHQUFjZ0csRUFBR3pFLEVBQzVCLEdBbUJBLFNBQVd5ckcsR0FDUEEsRUFBY0EsRUFBK0IsZ0JBQUksR0FBSyxrQkFDdERBLEVBQWNBLEVBQWlDLGtCQUFJLEdBQUssbUJBQzNELENBSEQsQ0FHR0EsS0FBa0JBLEdBQWdCLENBQUMsSUFHdEMsSUFBSWlLLEdBQWUsQ0FDZkMsTUFBTyxPQUNQQyxZQUFZLEVBQ1pDLFlBQVksRUFDWkMsZ0JBQWlCLEVBQ2pCQyxnQkFBaUJuNEcsS0FBSysyQixHQUFLLEVBQzNCcWhGLGVBQWdCLEVBQ2hCQyxnQkFBaUIsUUFDakJDLG1CQUFvQixFQUNwQnZGLEtBQU0sUUFDTndGLGlCQUFrQjFLLEdBQWMySyxnQkFDaENDLGtCQUFtQixHQUNuQkMsV0FBWSxRQUNaQyxTQUFVLEdBQ1ZDLFVBQVcsU0FDWEMsWUFBYSxTQUNiQyxXQUFZLFNBQ1pDLGNBQWUsRUFDZkMsV0FBWSxFQUNaQyxTQUFVLFFBQ1ZoTixXQUFZLEdBQ1o1bEQsUUFBUyxFQUNUNnlELE9BQVEsUUFDUkMsZ0JBQWlCLEVBQ2pCQyxhQUFjLGFBQ2Q3bEcsTUFBTSxFQUNOOGxHLFdBQVksTUFDWkMsVUFBVSxFQUNWQyxjQUFlLElBQ2ZDLFFBQVMsR0FFVEMsR0FBc0IsQ0FDdEIsUUFDQSxhQUNBLFlBQ0EsVUFDQSxVQUNBLGFBVUFDLEdBQTJCLFdBaUQzQixTQUFTQSxFQUFVcnBFLEdBQ2Z0cUMsS0FBSzR6RyxRQUFVLEVBQ2Y1ekcsS0FBS2tqRCxRQUNMMndELEdBQW1CN3pHLEtBQU1zcUMsRUFBT0EsRUFDcEMsQ0FnaEJBLE9BemdCQXFwRSxFQUFVMXlHLFVBQVVtd0IsTUFBUSxXQUN4QixJQUFJMGlGLEVBQW1CLENBQUMsRUFFeEIsT0FEQUQsR0FBbUJDLEVBQWtCOXpHLEtBQU0reEcsSUFDcEMsSUFBSTRCLEVBQVVHLEVBQ3pCLEVBRUFILEVBQVUxeUcsVUFBVWlpRCxNQUFRLFdBQ3hCMndELEdBQW1CN3pHLEtBQU0reEcsR0FBY0EsR0FDM0MsRUFDQS93RyxPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsUUFBUyxDQU1oRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBSyt6RyxNQUNoQixFQUNBN2tGLElBQUssU0FBVThpRixHQUNQaHlHLEtBQUsrekcsU0FBVy9CLElBQ2hCaHlHLEtBQUsrekcsT0FBUy9CLEVBQ2RoeUcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsYUFBYyxDQUVyRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS2cwRyxXQUNoQixFQUNBOWtGLElBQUssU0FBVStpRixHQUNQanlHLEtBQUtnMEcsY0FBZ0IvQixJQUNyQmp5RyxLQUFLZzBHLFlBQWMvQixFQUNuQmp5RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxhQUFjLENBRXJEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLaTBHLFdBQ2hCLEVBQ0Eva0YsSUFBSyxTQUFVZ2pGLEdBQ1BseUcsS0FBS2kwRyxjQUFnQi9CLElBQ3JCbHlHLEtBQUtpMEcsWUFBYy9CLEVBQ25CbHlHLEtBQUs0ekcsVUFFYixFQUNBemlHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV5aUcsRUFBVTF5RyxVQUFXLGtCQUFtQixDQUUxRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS2swRyxnQkFDaEIsRUFDQWhsRixJQUFLLFNBQVVpakYsR0FDUG55RyxLQUFLazBHLG1CQUFxQi9CLElBQzFCbnlHLEtBQUtrMEcsaUJBQW1CL0IsRUFDeEJueUcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsa0JBQW1CLENBRTFEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLbTBHLGdCQUNoQixFQUNBamxGLElBQUssU0FBVWtqRixHQUNQcHlHLEtBQUttMEcsbUJBQXFCL0IsSUFDMUJweUcsS0FBS20wRyxpQkFBbUIvQixFQUN4QnB5RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxpQkFBa0IsQ0FFekRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtvMEcsZUFDaEIsRUFDQWxsRixJQUFLLFNBQVVtakYsR0FDUHJ5RyxLQUFLbzBHLGtCQUFvQi9CLElBQ3pCcnlHLEtBQUtvMEcsZ0JBQWtCL0IsRUFDdkJyeUcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsa0JBQW1CLENBRTFEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLcTBHLGdCQUNoQixFQUNBbmxGLElBQUssU0FBVW9qRixHQUNYLElBQUlnQyxFQUFjQyxHQUFTakMsR0FDdkJ0eUcsS0FBS3EwRyxtQkFBcUJDLElBQzFCdDBHLEtBQUtxMEcsaUJBQW1CQyxFQUN4QnQwRyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxxQkFBc0IsQ0FFN0RtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt3MEcsbUJBQ2hCLEVBQ0F0bEYsSUFBSyxTQUFVcWpGLEdBQ1B2eUcsS0FBS3cwRyxzQkFBd0JqQyxJQUM3QnZ5RyxLQUFLdzBHLG9CQUFzQmpDLEVBQzNCdnlHLEtBQUs0ekcsVUFFYixFQUNBemlHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV5aUcsRUFBVTF5RyxVQUFXLE9BQVEsQ0FTL0NtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt5MEcsS0FDaEIsRUFDQXZsRixJQUFLLFNBQVU4OUUsR0FNWCxJQUFJc0gsRUFBY0MsR0FBU3ZILEdBQ3ZCaHRHLEtBQUt5MEcsUUFBVUgsSUFDZnQwRyxLQUFLeTBHLE1BQVFILEVBQ2J0MEcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsbUJBQW9CLENBTTNEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLMDBHLGlCQUNoQixFQUNBeGxGLElBQUssU0FBVXNqRixHQUNQeHlHLEtBQUswMEcsb0JBQXNCbEMsSUFDM0J4eUcsS0FBSzAwRyxrQkFBb0JsQyxFQUN6Qnh5RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxvQkFBcUIsQ0FLNURtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUsyMEcsa0JBQ2hCLEVBQ0F6bEYsSUFBSyxTQUFVd2pGLElBNFh2QixTQUF3QmtDLEVBQVFDLEdBQzVCLElBQUs1eEcsTUFBTXVILFFBQVFvcUcsS0FBWTN4RyxNQUFNdUgsUUFBUXFxRyxHQUN6QyxPQUFPLEVBRVgsR0FBSUQsRUFBTzc3RyxTQUFXODdHLEVBQU85N0csT0FDekIsT0FBTyxFQUVYLElBQUssSUFBSU8sRUFBSSxFQUFHQSxFQUFJczdHLEVBQU83N0csU0FBVU8sRUFDakMsR0FBSXM3RyxFQUFPdDdHLEtBQU91N0csRUFBT3Y3RyxHQUNyQixPQUFPLEVBR2YsT0FBTyxDQUNYLEVBeFlpQnc3RyxDQUFlOTBHLEtBQUsyMEcsbUJBQW9CakMsS0FDekMxeUcsS0FBSzIwRyxtQkFBcUJqQyxFQUMxQjF5RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxhQUFjLENBRXJEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLKzBHLFdBQ2hCLEVBQ0E3bEYsSUFBSyxTQUFVeWpGLEdBQ1AzeUcsS0FBSzJ5RyxhQUFlQSxJQUNwQjN5RyxLQUFLKzBHLFlBQWNwQyxFQUNuQjN5RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxXQUFZLENBS25EbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLZzFHLFNBQ2hCLEVBQ0E5bEYsSUFBSyxTQUFVMGpGLEdBQ1A1eUcsS0FBS2cxRyxZQUFjcEMsSUFDbkI1eUcsS0FBS2cxRyxVQUFZcEMsRUFDakI1eUcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsWUFBYSxDQU9wRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS2kxRyxVQUNoQixFQUNBL2xGLElBQUssU0FBVTJqRixHQUNQN3lHLEtBQUtpMUcsYUFBZXBDLElBQ3BCN3lHLEtBQUtpMUcsV0FBYXBDLEVBQ2xCN3lHLEtBQUs0ekcsVUFFYixFQUNBemlHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV5aUcsRUFBVTF5RyxVQUFXLGNBQWUsQ0FPdERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtrMUcsWUFDaEIsRUFDQWhtRixJQUFLLFNBQVU0akYsR0FDUDl5RyxLQUFLazFHLGVBQWlCcEMsSUFDdEI5eUcsS0FBS2sxRyxhQUFlcEMsRUFDcEI5eUcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsYUFBYyxDQU9yRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS20xRyxXQUNoQixFQUNBam1GLElBQUssU0FBVTZqRixHQUNQL3lHLEtBQUttMUcsY0FBZ0JwQyxJQUNyQi95RyxLQUFLbTFHLFlBQWNwQyxFQUNuQi95RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxnQkFBaUIsQ0FFeERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtvMUcsY0FDaEIsRUFDQWxtRixJQUFLLFNBQVU4akYsR0FDUGh6RyxLQUFLbzFHLGlCQUFtQnBDLElBQ3hCaHpHLEtBQUtvMUcsZUFBaUJwQyxFQUN0Qmh6RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxhQUFjLENBRXJEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLcTFHLFdBQ2hCLEVBQ0FubUYsSUFBSyxTQUFVK2pGLEdBQ1BqekcsS0FBS3ExRyxjQUFnQnBDLElBQ3JCanpHLEtBQUtxMUcsWUFBY3BDLEVBQ25CanpHLEtBQUs0ekcsVUFFYixFQUNBemlHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV5aUcsRUFBVTF5RyxVQUFXLFVBQVcsQ0FFbERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtzMUcsUUFDaEIsRUFDQXBtRixJQUFLLFNBQVV1a0YsR0FDUHp6RyxLQUFLczFHLFdBQWE3QixJQUNsQnp6RyxLQUFLczFHLFNBQVc3QixFQUNoQnp6RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxXQUFZLENBT25EbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLdTFHLFNBQ2hCLEVBQ0FybUYsSUFBSyxTQUFVZ2tGLEdBQ1BsekcsS0FBS3UxRyxZQUFjckMsSUFDbkJsekcsS0FBS3UxRyxVQUFZckMsRUFDakJsekcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsYUFBYyxDQU1yRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3cxRyxXQUNoQixFQUNBdG1GLElBQUssU0FBVWczRSxHQUNQbG1HLEtBQUt3MUcsY0FBZ0J0UCxJQUNyQmxtRyxLQUFLdzFHLFlBQWN0UCxFQUNuQmxtRyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxVQUFXLENBS2xEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLeTFHLFFBQ2hCLEVBQ0F2bUYsSUFBSyxTQUFVb3hCLEdBQ1B0Z0QsS0FBS3kxRyxXQUFhbjFELElBQ2xCdGdELEtBQUt5MUcsU0FBV24xRCxFQUNoQnRnRCxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxTQUFVLENBS2pEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLMDFHLE9BQ2hCLEVBQ0F4bUYsSUFBSyxTQUFVaWtGLEdBSVgsSUFBSW1CLEVBQWNDLEdBQVNwQixHQUN2Qm56RyxLQUFLMDFHLFVBQVlwQixJQUNqQnQwRyxLQUFLMDFHLFFBQVVwQixFQUNmdDBHLEtBQUs0ekcsVUFFYixFQUNBemlHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWV5aUcsRUFBVTF5RyxVQUFXLGtCQUFtQixDQU0xRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBSzIxRyxnQkFDaEIsRUFDQXptRixJQUFLLFNBQVVra0YsR0FDUHB6RyxLQUFLMjFHLG1CQUFxQnZDLElBQzFCcHpHLEtBQUsyMUcsaUJBQW1CdkMsRUFDeEJwekcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsZUFBZ0IsQ0FNdkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs0MUcsYUFDaEIsRUFDQTFtRixJQUFLLFNBQVVta0YsR0FDUHJ6RyxLQUFLNDFHLGdCQUFrQnZDLElBQ3ZCcnpHLEtBQUs0MUcsY0FBZ0J2QyxFQUNyQnJ6RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxPQUFRLENBRS9DbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLNjFHLEtBQ2hCLEVBQ0EzbUYsSUFBSyxTQUFVMWhCLEdBQ1B4TixLQUFLNjFHLFFBQVVyb0csSUFDZnhOLEtBQUs2MUcsTUFBUXJvRyxFQUNieE4sS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsYUFBYyxDQWFyRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBSzgxRyxXQUNoQixFQUNBNW1GLElBQUssU0FBVW9rRixHQUNQdHpHLEtBQUs4MUcsY0FBZ0J4QyxJQUNyQnR6RyxLQUFLODFHLFlBQWN4QyxFQUNuQnR6RyxLQUFLNHpHLFVBRWIsRUFDQXppRyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleWlHLEVBQVUxeUcsVUFBVyxXQUFZLENBRW5EbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLKzFHLFNBQ2hCLEVBQ0E3bUYsSUFBSyxTQUFVcWtGLEdBQ1B2ekcsS0FBSysxRyxZQUFjeEMsSUFDbkJ2ekcsS0FBSysxRyxVQUFZeEMsRUFDakJ2ekcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXlpRyxFQUFVMXlHLFVBQVcsZ0JBQWlCLENBRXhEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLZzJHLGNBQ2hCLEVBQ0E5bUYsSUFBSyxTQUFVc2tGLEdBQ1B4ekcsS0FBS2cyRyxpQkFBbUJ4QyxJQUN4Qnh6RyxLQUFLZzJHLGVBQWlCeEMsRUFDdEJ4ekcsS0FBSzR6RyxVQUViLEVBQ0F6aUcsWUFBWSxFQUNaZ2UsY0FBYyxJQU9sQndrRixFQUFVMXlHLFVBQVVnMUcsYUFBZSxXQUUvQixJQUFJQyxFQUEyQyxpQkFBbEJsMkcsS0FBSzR5RyxTQUF5QjV5RyxLQUFLNHlHLFNBQVcsS0FBTzV5RyxLQUFLNHlHLFNBR25GdUQsRUFBZW4yRyxLQUFLMnlHLFdBQ25CMXZHLE1BQU11SCxRQUFReEssS0FBSzJ5RyxjQUNwQndELEVBQWVuMkcsS0FBSzJ5RyxXQUFXN3RHLE1BQU0sTUFFekMsSUFBSyxJQUFJeEwsRUFBSTY4RyxFQUFhcDlHLE9BQVMsRUFBR08sR0FBSyxFQUFHQSxJQUFLLENBRS9DLElBQUlxNUcsRUFBYXdELEVBQWE3OEcsR0FBR2tVLFFBRTVCLHFCQUF1QmpFLEtBQUtvcEcsSUFBZWUsR0FBb0JycEcsUUFBUXNvRyxHQUFjLElBQ3RGQSxFQUFhLElBQU9BLEVBQWEsS0FFckN3RCxFQUFhNzhHLEdBQUtxNUcsQ0FDdEIsQ0FDQSxPQUFPM3lHLEtBQUs2eUcsVUFBWSxJQUFNN3lHLEtBQUs4eUcsWUFBYyxJQUFNOXlHLEtBQUsreUcsV0FBYSxJQUFNbUQsRUFBaUIsSUFBTUMsRUFBYXZ4RyxLQUFLLElBQzVILEVBQ08rdUcsQ0FDWCxDQXRrQjhCLEdBNmtCOUIsU0FBU3lDLEdBQWVyVixHQUNwQixNQUFxQixpQkFBVkEsRUFDQXgyRSxHQUFXdzJFLElBRUksaUJBQVZBLEdBQ2dCLElBQXhCQSxFQUFNMTJGLFFBQVEsUUFDZDAyRixFQUFRQSxFQUFNNzVGLFFBQVEsS0FBTSxNQUc3QjY1RixFQUNYLENBQ0EsU0FBU3dULEdBQVN4VCxHQUNkLEdBQUs5OUYsTUFBTXVILFFBQVF1MkYsR0FHZCxDQUNELElBQUssSUFBSXpuRyxFQUFJLEVBQUdBLEVBQUl5bkcsRUFBTWhvRyxTQUFVTyxFQUNoQ3luRyxFQUFNem5HLEdBQUs4OEcsR0FBZXJWLEVBQU16bkcsSUFFcEMsT0FBT3luRyxDQUNYLENBUEksT0FBT3FWLEdBQWVyVixFQVE5QixDQThCQSxTQUFTOFMsR0FBbUJ6dUcsRUFBUUMsRUFBUWd4RyxHQUN4QyxJQUFLLElBQUkzc0csS0FBUTJzRyxFQUNUcHpHLE1BQU11SCxRQUFRbkYsRUFBT3FFLElBQ3JCdEUsRUFBT3NFLEdBQVFyRSxFQUFPcUUsR0FBTWhILFFBRzVCMEMsRUFBT3NFLEdBQVFyRSxFQUFPcUUsRUFHbEMsQ0FHQSxJQUFJNHNHLEdBQWtCLENBRWxCam5GLG9CQUFvQixHQVdwQmtuRixHQUE2QixXQVk3QixTQUFTQSxFQUFZdnJCLEVBQU0xZ0QsRUFBT3R6QixFQUFPQyxFQUFRdS9GLEVBQU9DLEVBQVl4RCxFQUFZeUQsRUFBY0MsR0FDMUYzMkcsS0FBS2dyRixLQUFPQSxFQUNaaHJGLEtBQUtzcUMsTUFBUUEsRUFDYnRxQyxLQUFLZ1gsTUFBUUEsRUFDYmhYLEtBQUtpWCxPQUFTQSxFQUNkalgsS0FBS3cyRyxNQUFRQSxFQUNieDJHLEtBQUt5MkcsV0FBYUEsRUFDbEJ6MkcsS0FBS2l6RyxXQUFhQSxFQUNsQmp6RyxLQUFLMDJHLGFBQWVBLEVBQ3BCMTJHLEtBQUsyMkcsZUFBaUJBLENBQzFCLENBa2VBLE9BemRBSixFQUFZSyxZQUFjLFNBQVU1ckIsRUFBTTFnRCxFQUFPaXBFLEVBQVVyOEYsUUFDeEMsSUFBWEEsSUFBcUJBLEVBQVNxL0YsRUFBWU0sU0FDOUN0RCxFQUFXLE1BQUNBLEVBQStDanBFLEVBQU1pcEUsU0FBV0EsRUFDNUUsSUFBSXVELEVBQU94c0UsRUFBTTJyRSxlQUNiVSxFQUFpQkosRUFBWVEsWUFBWUQsR0FHYixJQUE1QkgsRUFBZS9ELFdBQ2YrRCxFQUFlL0QsU0FBV3RvRSxFQUFNc29FLFNBQ2hDK0QsRUFBZUssT0FBUzFzRSxFQUFNc29FLFVBRWxDLElBQUlyeEcsRUFBVTJWLEVBQU8wSixXQUFXLEtBQU0wMUYsSUFDdEMvMEcsRUFBUXUxRyxLQUFPQSxFQUtmLElBSkEsSUFDSU4sR0FEYWpELEVBQVdnRCxFQUFZaEQsU0FBU3ZvQixFQUFNMWdELEVBQU9wekIsR0FBVTh6RSxHQUNqRGxtRixNQUFNLGtCQUN6QjJ4RyxFQUFhLElBQUl4ekcsTUFBTXV6RyxFQUFNejlHLFFBQzdCMjlHLEVBQWUsRUFDVnA5RyxFQUFJLEVBQUdBLEVBQUlrOUcsRUFBTXo5RyxPQUFRTyxJQUFLLENBQ25DLElBQUkyOUcsRUFBWTExRyxFQUFRcTFHLFlBQVlKLEVBQU1sOUcsSUFBSTBkLE9BQVV3L0YsRUFBTWw5RyxHQUFHUCxPQUFTLEdBQUt1eEMsRUFBTTBvRSxjQUNyRnlELEVBQVduOUcsR0FBSzI5RyxFQUNoQlAsRUFBZXo4RyxLQUFLQyxJQUFJdzhHLEVBQWNPLEVBQzFDLENBQ0EsSUFBSWpnRyxFQUFRMC9GLEVBQWVwc0UsRUFBTThvRSxnQkFDN0I5b0UsRUFBTTRuRSxhQUNObDdGLEdBQVNzekIsRUFBTWlvRSxvQkFFbkIsSUFBSVUsRUFBYTNvRSxFQUFNMm9FLFlBQWMwRCxFQUFlL0QsU0FBV3RvRSxFQUFNOG9FLGdCQUNqRW44RixFQUFTaGQsS0FBS0MsSUFBSSs0RyxFQUFZMEQsRUFBZS9ELFNBQVd0b0UsRUFBTThvRSxrQkFDMURvRCxFQUFNejlHLE9BQVMsSUFBTWs2RyxFQUFhM29FLEVBQU1tcEUsU0FJaEQsT0FISW5wRSxFQUFNNG5FLGFBQ05qN0YsR0FBVXF6QixFQUFNaW9FLG9CQUViLElBQUlnRSxFQUFZdnJCLEVBQU0xZ0QsRUFBT3R6QixFQUFPQyxFQUFRdS9GLEVBQU9DLEVBQVl4RCxFQUFhM29FLEVBQU1tcEUsUUFBU2lELEVBQWNDLEVBQ3BILEVBU0FKLEVBQVloRCxTQUFXLFNBQVV2b0IsRUFBTTFnRCxFQUFPcHpCLFFBQzNCLElBQVhBLElBQXFCQSxFQUFTcS9GLEVBQVlNLFNBcUI5QyxJQXBCQSxJQUFJdDFHLEVBQVUyVixFQUFPMEosV0FBVyxLQUFNMDFGLElBQ2xDdC9GLEVBQVEsRUFDUnUzQyxFQUFPLEdBQ1Bpb0QsRUFBUSxHQUNSMzNDLEVBQVE3OUQsT0FBT21CLE9BQU8sTUFDdEI2d0csRUFBZ0Ixb0UsRUFBTTBvRSxjQUFlTSxFQUFhaHBFLEVBQU1ncEUsV0FFeEQ0RCxFQUFpQlgsRUFBWVcsZUFBZTVELEdBQzVDNkQsRUFBbUJaLEVBQVlZLGlCQUFpQjdELEdBRWhEOEQsR0FBb0JGLEVBT3BCMUQsRUFBZ0JscEUsRUFBTWtwRSxjQUFnQlIsRUFFdENxRSxFQUFTZCxFQUFZZSxTQUFTdHNCLEdBQ3pCMXhGLEVBQUksRUFBR0EsRUFBSSs5RyxFQUFPdCtHLE9BQVFPLElBQUssQ0FFcEMsSUFBSWkrRyxFQUFRRixFQUFPLzlHLEdBRW5CLEdBQUlpOUcsRUFBWWlCLFVBQVVELEdBQVEsQ0FFOUIsSUFBS0osRUFBa0IsQ0FDbkJYLEdBQVNELEVBQVlrQixRQUFRbHBELEdBQzdCNm9ELEdBQW9CRixFQUNwQjNvRCxFQUFPLEdBQ1B2M0MsRUFBUSxFQUNSLFFBQ0osQ0FHQXVnRyxFQUFRLEdBQ1osQ0FFQSxHQUFJTCxFQUFnQixDQUVoQixJQUFJUSxFQUFzQm5CLEVBQVlvQixnQkFBZ0JKLEdBQ2xESyxFQUFzQnJCLEVBQVlvQixnQkFBZ0JwcEQsRUFBS0EsRUFBS3gxRCxPQUFTLElBQ3pFLEdBQUkyK0csR0FBdUJFLEVBQ3ZCLFFBRVIsQ0FFQSxJQUFJQyxFQUFhdEIsRUFBWXVCLGFBQWFQLEVBQU92RSxFQUFlbjBDLEVBQU90OUQsR0FFdkUsR0FBSXMyRyxFQUFhckUsRUFTYixHQVBhLEtBQVRqbEQsSUFFQWlvRCxHQUFTRCxFQUFZa0IsUUFBUWxwRCxHQUM3QkEsRUFBTyxHQUNQdjNDLEVBQVEsR0FHUnUvRixFQUFZd0IsY0FBY1IsRUFBT2p0RSxFQUFNMm5FLFlBSXZDLElBRkEsSUFBSStGLEVBQWF6QixFQUFZMEIsY0FBY1YsR0FFbENyM0csRUFBSSxFQUFHQSxFQUFJODNHLEVBQVdqL0csT0FBUW1ILElBQUssQ0FJeEMsSUFIQSxJQUFJZzRHLEVBQU9GLEVBQVc5M0csR0FDbEIrSCxFQUFJLEVBRUQrdkcsRUFBVzkzRyxFQUFJK0gsSUFBSSxDQUN0QixJQUFJa3dHLEVBQVdILEVBQVc5M0csRUFBSStILEdBQzFCbXdHLEVBQVdGLEVBQUtBLEVBQUtuL0csT0FBUyxHQUVsQyxHQUFLdzlHLEVBQVk4QixjQUFjRCxFQUFVRCxFQUFVWixFQUFPcjNHLEVBQUdvcUMsRUFBTTJuRSxZQUsvRCxNQUhBaUcsR0FBUUMsRUFLWmx3RyxHQUNKLENBQ0EvSCxHQUFLZzRHLEVBQUtuL0csT0FBUyxFQUNuQixJQUFJdS9HLEVBQWlCL0IsRUFBWXVCLGFBQWFJLEVBQU1sRixFQUFlbjBDLEVBQU90OUQsR0FDdEUrMkcsRUFBaUJ0aEcsRUFBUXc4RixJQUN6QmdELEdBQVNELEVBQVlrQixRQUFRbHBELEdBQzdCNm9ELEdBQW1CLEVBQ25CN29ELEVBQU8sR0FDUHYzQyxFQUFRLEdBRVp1M0MsR0FBUTJwRCxFQUNSbGhHLEdBQVNzaEcsQ0FDYixLQUdDLENBR0cvcEQsRUFBS3gxRCxPQUFTLElBQ2R5OUcsR0FBU0QsRUFBWWtCLFFBQVFscEQsR0FDN0JBLEVBQU8sR0FDUHYzQyxFQUFRLEdBRVosSUFBSXVoRyxFQUFjai9HLElBQU0rOUcsRUFBT3QrRyxPQUFTLEVBRXhDeTlHLEdBQVNELEVBQVlrQixRQUFRRixHQUFRZ0IsR0FDckNuQixHQUFtQixFQUNuQjdvRCxFQUFPLEdBQ1B2M0MsRUFBUSxDQUNaLE1BTUk2Z0csRUFBYTdnRyxFQUFRdzhGLElBRXJCNEQsR0FBbUIsRUFFbkJaLEdBQVNELEVBQVlrQixRQUFRbHBELEdBRTdCQSxFQUFPLEdBQ1B2M0MsRUFBUSxJQUdSdTNDLEVBQUt4MUQsT0FBUyxJQUFNdzlHLEVBQVlvQixnQkFBZ0JKLElBQVVILEtBRTFEN29ELEdBQVFncEQsRUFFUnZnRyxHQUFTNmdHLEVBR3JCLENBRUEsT0FEQXJCLEVBQVNELEVBQVlrQixRQUFRbHBELEdBQU0sRUFFdkMsRUFPQWdvRCxFQUFZa0IsUUFBVSxTQUFVbHBELEVBQU1pcUQsR0FJbEMsWUFIZ0IsSUFBWkEsSUFBc0JBLEdBQVUsR0FDcENqcUQsRUFBT2dvRCxFQUFZa0MsVUFBVWxxRCxHQUN0QixFQUFZQSxFQUFPLEtBQU9BLENBRXJDLEVBU0Fnb0QsRUFBWXVCLGFBQWUsU0FBVXB5RyxFQUFLc3RHLEVBQWVuMEMsRUFBT3Q5RCxHQUM1RCxJQUFJeVYsRUFBUTZuRCxFQUFNbjVELEdBQ2xCLEdBQXFCLGlCQUFWc1IsRUFBb0IsQ0FDM0IsSUFBSTBoRyxFQUFZaHpHLEVBQVUsT0FBSXN0RyxFQUM5Qmg4RixFQUFRelYsRUFBUXExRyxZQUFZbHhHLEdBQUtzUixNQUFRMGhHLEVBQ3pDNzVDLEVBQU1uNUQsR0FBT3NSLENBQ2pCLENBQ0EsT0FBT0EsQ0FDWCxFQU1BdS9GLEVBQVlXLGVBQWlCLFNBQVU1RCxHQUNuQyxNQUF1QixXQUFmQSxHQUEwQyxhQUFmQSxDQUN2QyxFQU1BaUQsRUFBWVksaUJBQW1CLFNBQVU3RCxHQUNyQyxNQUF1QixXQUFmQSxDQUNaLEVBTUFpRCxFQUFZa0MsVUFBWSxTQUFVenRCLEdBQzlCLEdBQW9CLGlCQUFUQSxFQUNQLE1BQU8sR0FFWCxJQUFLLElBQUkxeEYsRUFBSTB4RixFQUFLanlGLE9BQVMsRUFBR08sR0FBSyxFQUFHQSxJQUFLLENBQ3ZDLElBQUk0K0csRUFBT2x0QixFQUFLMXhGLEdBQ2hCLElBQUtpOUcsRUFBWW9CLGdCQUFnQk8sR0FDN0IsTUFFSmx0QixFQUFPQSxFQUFLdG9GLE1BQU0sR0FBSSxFQUMxQixDQUNBLE9BQU9zb0YsQ0FDWCxFQU1BdXJCLEVBQVlpQixVQUFZLFNBQVVVLEdBQzlCLE1BQW9CLGlCQUFUQSxHQUdIM0IsRUFBWW9DLFVBQVV0dUcsUUFBUTZ0RyxFQUFLMXdHLFdBQVcsS0FBTyxDQUNqRSxFQVdBK3VHLEVBQVlvQixnQkFBa0IsU0FBVU8sRUFBTVUsR0FDMUMsTUFBb0IsaUJBQVRWLEdBR0gzQixFQUFZc0MsZ0JBQWdCeHVHLFFBQVE2dEcsRUFBSzF3RyxXQUFXLEtBQU8sQ0FDdkUsRUFNQSt1RyxFQUFZZSxTQUFXLFNBQVV0c0IsR0FDN0IsSUFBSXFzQixFQUFTLEdBQ1RFLEVBQVEsR0FDWixHQUFvQixpQkFBVHZzQixFQUNQLE9BQU9xc0IsRUFFWCxJQUFLLElBQUkvOUcsRUFBSSxFQUFHQSxFQUFJMHhGLEVBQUtqeUYsT0FBUU8sSUFBSyxDQUNsQyxJQUFJNCtHLEVBQU9sdEIsRUFBSzF4RixHQUNaNitHLEVBQVdudEIsRUFBSzF4RixFQUFJLEdBQ3BCaTlHLEVBQVlvQixnQkFBZ0JPLEVBQU1DLElBQWE1QixFQUFZaUIsVUFBVVUsSUFDdkQsS0FBVlgsSUFDQUYsRUFBTzE5RyxLQUFLNDlHLEdBQ1pBLEVBQVEsSUFFWkYsRUFBTzE5RyxLQUFLdStHLElBR2hCWCxHQUFTVyxDQUNiLENBSUEsTUFIYyxLQUFWWCxHQUNBRixFQUFPMTlHLEtBQUs0OUcsR0FFVEYsQ0FDWCxFQVdBZCxFQUFZd0IsY0FBZ0IsU0FBVWUsRUFBUTdHLEdBQzFDLE9BQU9BLENBQ1gsRUFlQXNFLEVBQVk4QixjQUFnQixTQUFVVSxFQUFPSCxFQUFXRSxFQUFRRSxFQUFRaEYsR0FDcEUsT0FBTyxDQUNYLEVBYUF1QyxFQUFZMEIsY0FBZ0IsU0FBVVYsR0FDbEMsT0FBT0EsRUFBTXp5RyxNQUFNLEdBQ3ZCLEVBTUF5eEcsRUFBWVEsWUFBYyxTQUFVRCxHQUVoQyxHQUFJUCxFQUFZMEMsT0FBT25DLEdBQ25CLE9BQU9QLEVBQVkwQyxPQUFPbkMsR0FFOUIsSUFBSWphLEVBQWEsQ0FDYm1hLE9BQVEsRUFDUmtDLFFBQVMsRUFDVHRHLFNBQVUsR0FFVjE3RixFQUFTcS9GLEVBQVlNLFFBQ3JCdDFHLEVBQVVnMUcsRUFBWTRDLFNBQzFCNTNHLEVBQVF1MUcsS0FBT0EsRUFDZixJQUFJc0MsRUFBZ0I3QyxFQUFZOEMsZUFBaUI5QyxFQUFZK0MsZ0JBQ3pEdGlHLEVBQVEvYyxLQUFLazVCLEtBQUs1eEIsRUFBUXExRyxZQUFZd0MsR0FBZXBpRyxPQUNyRHVpRyxFQUFXdC9HLEtBQUtrNUIsS0FBSzV4QixFQUFRcTFHLFlBQVlMLEVBQVkrQyxpQkFBaUJ0aUcsT0FDdEVDLEVBQVNoZCxLQUFLazVCLEtBQUtvakYsRUFBWWlELGtCQUFvQkQsR0FDdkRBLEVBQVdBLEVBQVdoRCxFQUFZa0Qsb0JBQXNCLEVBQ3hEdmlHLEVBQU9GLE1BQVFBLEVBQ2ZFLEVBQU9ELE9BQVNBLEVBQ2hCMVYsRUFBUW80QyxVQUFZLE9BQ3BCcDRDLEVBQVFxNEMsU0FBUyxFQUFHLEVBQUc1aUMsRUFBT0MsR0FDOUIxVixFQUFRdTFHLEtBQU9BLEVBQ2Z2MUcsRUFBUTh4RyxhQUFlLGFBQ3ZCOXhHLEVBQVFvNEMsVUFBWSxPQUNwQnA0QyxFQUFRbTRHLFNBQVNOLEVBQWUsRUFBR0csR0FDbkMsSUFBSUksRUFBWXA0RyxFQUFRZ3VCLGFBQWEsRUFBRyxFQUFHdlksRUFBT0MsR0FBUTdlLEtBQ3REazNCLEVBQVNxcUYsRUFBVTVnSCxPQUNuQncxRCxFQUFlLEVBQVJ2M0MsRUFDUDFkLEVBQUksRUFDSjhRLEVBQU0sRUFDTnJPLEdBQU8sRUFFWCxJQUFLekMsRUFBSSxFQUFHQSxFQUFJaWdILElBQVlqZ0gsRUFBRyxDQUMzQixJQUFLLElBQUk0RyxFQUFJLEVBQUdBLEVBQUlxdUQsRUFBTXJ1RCxHQUFLLEVBQzNCLEdBQTJCLE1BQXZCeTVHLEVBQVV2dkcsRUFBTWxLLEdBQVksQ0FDNUJuRSxHQUFPLEVBQ1AsS0FDSixDQUVKLEdBQUtBLEVBSUQsTUFIQXFPLEdBQU9ta0QsQ0FLZixDQUtBLElBSkFzdUMsRUFBV21hLE9BQVN1QyxFQUFXamdILEVBQy9COFEsRUFBTWtsQixFQUFTaS9CLEVBQ2Z4eUQsR0FBTyxFQUVGekMsRUFBSTJkLEVBQVEzZCxFQUFJaWdILElBQVlqZ0gsRUFBRyxDQUNoQyxJQUFTNEcsRUFBSSxFQUFHQSxFQUFJcXVELEVBQU1ydUQsR0FBSyxFQUMzQixHQUEyQixNQUF2Qnk1RyxFQUFVdnZHLEVBQU1sSyxHQUFZLENBQzVCbkUsR0FBTyxFQUNQLEtBQ0osQ0FFSixHQUFLQSxFQUlELE1BSEFxTyxHQUFPbWtELENBS2YsQ0FJQSxPQUhBc3VDLEVBQVdxYyxRQUFVNS9HLEVBQUlpZ0gsRUFDekIxYyxFQUFXK1YsU0FBVy9WLEVBQVdtYSxPQUFTbmEsRUFBV3FjLFFBQ3JEM0MsRUFBWTBDLE9BQU9uQyxHQUFRamEsRUFDcEJBLENBQ1gsRUFLQTBaLEVBQVlxRCxhQUFlLFNBQVU5QyxRQUNwQixJQUFUQSxJQUFtQkEsRUFBTyxJQUMxQkEsU0FDT1AsRUFBWTBDLE9BQU9uQyxHQUcxQlAsRUFBWTBDLE9BQVMsQ0FBQyxDQUU5QixFQUNBajRHLE9BQU9rUSxlQUFlcWxHLEVBQWEsVUFBVyxDQU0xQ25sRyxJQUFLLFdBQ0QsSUFBS21sRyxFQUFZc0QsU0FBVSxDQUN2QixJQUFJM2lHLE9BQVMsRUFDYixJQUVJLElBQUk1YSxFQUFJLElBQUk4ekMsZ0JBQWdCLEVBQUcsR0FDM0I3dUMsRUFBVWpGLEVBQUVza0IsV0FBVyxLQUFNMDFGLElBQ2pDLEdBQUkvMEcsR0FBV0EsRUFBUXExRyxZQUVuQixPQURBTCxFQUFZc0QsU0FBV3Y5RyxFQUNoQkEsRUFFWDRhLEVBQVN1RCxHQUFTQyxRQUFRM0QsY0FJOUIsQ0FGQSxNQUFPekQsR0FDSDRELEVBQVN1RCxHQUFTQyxRQUFRM0QsY0FDOUIsQ0FDQUcsRUFBT0YsTUFBUUUsRUFBT0QsT0FBUyxHQUMvQnMvRixFQUFZc0QsU0FBVzNpRyxDQUMzQixDQUNBLE9BQU9xL0YsRUFBWXNELFFBQ3ZCLEVBQ0Exb0csWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZXFsRyxFQUFhLFdBQVksQ0FLM0NubEcsSUFBSyxXQUlELE9BSEttbEcsRUFBWXVELFlBQ2J2RCxFQUFZdUQsVUFBWXZELEVBQVlNLFFBQVFqMkYsV0FBVyxLQUFNMDFGLEtBRTFEQyxFQUFZdUQsU0FDdkIsRUFDQTNvRyxZQUFZLEVBQ1pnZSxjQUFjLElBRVhvbkYsQ0FDWCxDQXpmZ0MsR0F5Z0JoQ0EsR0FBWTBDLE9BQVMsQ0FBQyxFQVV0QjFDLEdBQVk4QyxlQUFpQixPQVM3QjlDLEdBQVkrQyxnQkFBa0IsSUFTOUIvQyxHQUFZa0Qsb0JBQXNCLElBU2xDbEQsR0FBWWlELGtCQUFvQixFQU9oQ2pELEdBQVlvQyxVQUFZLENBQ3BCLEdBQ0EsSUFPSnBDLEdBQVlzQyxnQkFBa0IsQ0FDMUIsRUFDQSxHQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxPQVVKLElBQUlrQixHQUF3QixDQUN4QjdxRSxTQUFTLEVBQ1R2OUIsVUFBVSxFQUNWdzRCLGFBQWEsR0F3QmI2dkUsR0FBc0IsU0FBVTk3RSxHQU9oQyxTQUFTODdFLEVBQUtodkIsRUFBTTFnRCxFQUFPcHpCLEdBQ3ZCLElBQUlpbkIsRUFBUW4rQixLQUNSaTZHLEdBQVksRUFDWC9pRyxJQUNEQSxFQUFTdUQsR0FBU0MsUUFBUTNELGVBQzFCa2pHLEdBQVksR0FFaEIvaUcsRUFBT0YsTUFBUSxFQUNmRSxFQUFPRCxPQUFTLEVBQ2hCLElBQUlpNEIsRUFBVThJLEdBQVExeUMsS0FBSzRSLEdBbUIzQixPQWxCQWc0QixFQUFRK0ksS0FBTyxJQUFJem1CLEdBQ25CMGQsRUFBUTFoQyxLQUFPLElBQUlna0IsSUFDbkIyTSxFQUFRRCxFQUFPejdCLEtBQUt6QyxLQUFNa3ZDLElBQVlsdkMsTUFDaENrNkcsV0FBYUQsRUFDbkI5N0UsRUFBTWpuQixPQUFTQSxFQUNmaW5CLEVBQU01OEIsUUFBVTJWLEVBQU8wSixXQUFXLEtBQU0sQ0FFcEN5TyxvQkFBb0IsSUFFeEI4TyxFQUFNcTNCLFlBQWMvNkMsR0FBU0ssV0FDN0JxakIsRUFBTWc4RSxpQkFBa0IsRUFDeEJoOEUsRUFBTWk4RSxNQUFRLEtBQ2RqOEUsRUFBTWs4RSxPQUFTLEtBQ2ZsOEUsRUFBTW04RSxlQUFpQixLQUN2Qm44RSxFQUFNbzhFLE1BQVEsR0FDZHA4RSxFQUFNNnNELEtBQU9BLEVBQ2I3c0QsRUFBTW1NLE1BQVFBLEVBQ2RuTSxFQUFNcThFLGNBQWdCLEVBQ2ZyOEUsQ0FDWCxDQTRkQSxPQWgxREosU0FBbUJyOUIsRUFBR3pFLEdBRWxCLFNBQVMyaEMsSUFBT2grQixLQUFLd1QsWUFBYzFTLENBQUcsQ0FEdEMsR0FBY0EsRUFBR3pFLEdBRWpCeUUsRUFBRUcsVUFBa0IsT0FBTjVFLEVBQWEyRSxPQUFPbUIsT0FBTzlGLElBQU0yaEMsRUFBRy84QixVQUFZNUUsRUFBRTRFLFVBQVcsSUFBSSs4QixFQUNuRixDQTYwQ0ksQ0FBVWc4RSxFQUFNOTdFLEdBNENoQjg3RSxFQUFLLzRHLFVBQVV3NUcsV0FBYSxTQUFVQyxHQUNsQyxJQUFJcHdFLEVBQVF0cUMsS0FBS3E2RyxPQU1qQixHQUpJcjZHLEtBQUt3NkcsZUFBaUJsd0UsRUFBTXNwRSxVQUM1QjV6RyxLQUFLc3RDLE9BQVEsRUFDYnR0QyxLQUFLdzZHLGFBQWVsd0UsRUFBTXNwRSxTQUV6QjV6RyxLQUFLc3RDLFFBQVNvdEUsRUFBbkIsQ0FHQTE2RyxLQUFLdTZHLE1BQVF2NkcsS0FBS3E2RyxPQUFPcEUsZUFDekIsSUFrQkkwRSxFQUNBQyxFQW5CQXI1RyxFQUFVdkIsS0FBS3VCLFFBQ2ZzNUcsRUFBV3RFLEdBQVlLLFlBQVk1MkcsS0FBS282RyxPQUFTLElBQUtwNkcsS0FBS3E2RyxPQUFRcjZHLEtBQUtxNkcsT0FBTzlHLFNBQVV2ekcsS0FBS2tYLFFBQzlGRixFQUFRNmpHLEVBQVM3akcsTUFDakJDLEVBQVM0akcsRUFBUzVqRyxPQUNsQnUvRixFQUFRcUUsRUFBU3JFLE1BQ2pCdkQsRUFBYTRILEVBQVM1SCxXQUN0QndELEVBQWFvRSxFQUFTcEUsV0FDdEJDLEVBQWVtRSxFQUFTbkUsYUFDeEJDLEVBQWlCa0UsRUFBU2xFLGVBQzlCMzJHLEtBQUtrWCxPQUFPRixNQUFRL2MsS0FBS2s1QixLQUFLbDVCLEtBQUtrNUIsS0FBTWw1QixLQUFLQyxJQUFJLEVBQUc4YyxHQUEwQixFQUFoQnN6QixFQUFNZ1csU0FBaUJ0Z0QsS0FBS3cxRCxhQUMzRngxRCxLQUFLa1gsT0FBT0QsT0FBU2hkLEtBQUtrNUIsS0FBS2w1QixLQUFLazVCLEtBQU1sNUIsS0FBS0MsSUFBSSxFQUFHK2MsR0FBMkIsRUFBaEJxekIsRUFBTWdXLFNBQWlCdGdELEtBQUt3MUQsYUFDN0ZqMEQsRUFBUTIwQixNQUFNbDJCLEtBQUt3MUQsWUFBYXgxRCxLQUFLdzFELGFBQ3JDajBELEVBQVF1dEIsVUFBVSxFQUFHLEVBQUc5dUIsS0FBS2tYLE9BQU9GLE1BQU9oWCxLQUFLa1gsT0FBT0QsUUFDdkQxVixFQUFRdTFHLEtBQU85MkcsS0FBS3U2RyxNQUNwQmg1RyxFQUFRMDFHLFVBQVkzc0UsRUFBTThvRSxnQkFDMUI3eEcsRUFBUTh4RyxhQUFlL29FLEVBQU0rb0UsYUFDN0I5eEcsRUFBUTJ4RyxTQUFXNW9FLEVBQU00b0UsU0FDekIzeEcsRUFBUTJrRyxXQUFhNTdELEVBQU00N0QsV0FnQjNCLElBWkEsSUFBSTRVLEVBQWN4d0UsRUFBTTRuRSxXQUFhLEVBQUksRUFZaEM1NEcsRUFBSSxFQUFHQSxFQUFJd2hILElBQWV4aEgsRUFBRyxDQUNsQyxJQUFJeWhILEVBQWV6d0UsRUFBTTRuRSxZQUFvQixJQUFONTRHLEVBRW5DMGhILEVBQWVELEVBQWU5Z0gsS0FBS2s1QixLQUFLbDVCLEtBQUtDLElBQUksRUFBRytjLEdBQTJCLEVBQWhCcXpCLEVBQU1nVyxTQUFnQixFQUNyRjI2RCxFQUFpQkQsRUFBZWg3RyxLQUFLdzFELFlBQ3pDLEdBQUl1bEQsRUFBYyxDQUlkeDVHLEVBQVFvNEMsVUFBWSxRQUNwQnA0QyxFQUFRMjVHLFlBQWMsUUFDdEIsSUFBSTVJLEVBQWtCaG9FLEVBQU1nb0UsZ0JBQ3hCem5GLEVBQU1SLEdBQW1DLGlCQUFwQmlvRixFQUErQkEsRUFBa0IzbkYsR0FBVzJuRixJQUNqRkQsRUFBaUIvbkUsRUFBTStuRSxlQUFpQnJ5RyxLQUFLdzFELFlBQzdDKzhDLEVBQXFCam9FLEVBQU1pb0UsbUJBQXFCdnlHLEtBQUt3MUQsWUFDekRqMEQsRUFBUTQ1RyxZQUFjLFFBQW1CLElBQVR0d0YsRUFBSSxHQUFXLElBQWUsSUFBVEEsRUFBSSxHQUFXLElBQWUsSUFBVEEsRUFBSSxHQUFXLElBQU15ZixFQUFNNm5FLGdCQUFrQixJQUN2SDV3RyxFQUFRNjVHLFdBQWEvSSxFQUNyQjl3RyxFQUFRODVHLGNBQWdCcGhILEtBQUtvOEIsSUFBSWlVLEVBQU04bkUsaUJBQW1CRyxFQUMxRGh4RyxFQUFRKzVHLGNBQWlCcmhILEtBQUtxOEIsSUFBSWdVLEVBQU04bkUsaUJBQW1CRyxFQUFzQjBJLENBQ3JGLE1BR0kxNUcsRUFBUW80QyxVQUFZMzVDLEtBQUt1N0csbUJBQW1CanhFLEVBQU9rc0UsRUFBT3FFLEdBSTFEdDVHLEVBQVEyNUcsWUFBYzV3RSxFQUFNNm9FLE9BQzVCNXhHLEVBQVE0NUcsWUFBYyxRQUN0QjU1RyxFQUFRNjVHLFdBQWEsRUFDckI3NUcsRUFBUTg1RyxjQUFnQixFQUN4Qjk1RyxFQUFRKzVHLGNBQWdCLEVBRTVCLElBQUlFLEdBQXNCdkksRUFBYTBELEVBQWUvRCxVQUFZLElBQzdEb0gsRUFBS3lCLHdCQUEwQnhJLEVBQWEwRCxFQUFlL0QsU0FBVyxLQUN2RTRJLEVBQXFCLEdBR3pCLElBQUssSUFBSTFQLEVBQU0sRUFBR0EsRUFBTTBLLEVBQU16OUcsT0FBUSt5RyxJQUNsQzZPLEVBQWdCcndFLEVBQU04b0UsZ0JBQWtCLEVBQ3hDd0gsRUFBa0J0d0UsRUFBTThvRSxnQkFBa0IsRUFBTXRILEVBQU1tSCxFQUFlMEQsRUFBZUssT0FDOUV3RSxFQUNjLFVBQWhCbHhFLEVBQU0wbkUsTUFDTjJJLEdBQWlCakUsRUFBZUQsRUFBVzNLLEdBRXRCLFdBQWhCeGhFLEVBQU0wbkUsUUFDWDJJLElBQWtCakUsRUFBZUQsRUFBVzNLLElBQVEsR0FFcER4aEUsRUFBTTZvRSxRQUFVN29FLEVBQU04b0UsaUJBQ3RCcHpHLEtBQUswN0csa0JBQWtCbEYsRUFBTTFLLEdBQU02TyxFQUFnQnJ3RSxFQUFNZ1csUUFBU3M2RCxFQUFnQnR3RSxFQUFNZ1csUUFBVTA2RCxHQUFjLEdBRWhIMXdFLEVBQU0waUUsTUFDTmh0RyxLQUFLMDdHLGtCQUFrQmxGLEVBQU0xSyxHQUFNNk8sRUFBZ0Jyd0UsRUFBTWdXLFFBQVNzNkQsRUFBZ0J0d0UsRUFBTWdXLFFBQVUwNkQsRUFHOUcsQ0FDQWg3RyxLQUFLdXJFLGVBMUZMLENBMkZKLEVBU0F5dUMsRUFBSy80RyxVQUFVeTZHLGtCQUFvQixTQUFVMXdCLEVBQU1yeUYsRUFBR0MsRUFBRytpSCxRQUNwQyxJQUFiQSxJQUF1QkEsR0FBVyxHQUN0QyxJQUVJM0ksRUFGUWh6RyxLQUFLcTZHLE9BRVNySCxjQUt0QjRJLEVBQXVCNUIsRUFBSzZCLDRCQUN4QixrQkFBbUJDLHlCQUF5Qjc2RyxXQUN6QyxzQkFBdUI2NkcseUJBQXlCNzZHLFdBQzNELEdBQXNCLElBQWxCK3hHLEdBQXVCNEksRUFXdkIsT0FWSUEsSUFDQTU3RyxLQUFLdUIsUUFBUXl4RyxjQUFnQkEsRUFDN0JoekcsS0FBS3VCLFFBQVF3Nkcsa0JBQW9CL0ksUUFFakMySSxFQUNBMzdHLEtBQUt1QixRQUFReTZHLFdBQVdoeEIsRUFBTXJ5RixFQUFHQyxHQUdqQ29ILEtBQUt1QixRQUFRbTRHLFNBQVMxdUIsRUFBTXJ5RixFQUFHQyxJQWN2QyxJQVZBLElBQUlxakgsRUFBa0J0akgsRUFPbEJ1akgsRUFBY2o1RyxNQUFNcUMsS0FBT3JDLE1BQU1xQyxLQUFLMGxGLEdBQVFBLEVBQUtsbUYsTUFBTSxJQUN6RHEzRyxFQUFnQm44RyxLQUFLdUIsUUFBUXExRyxZQUFZNXJCLEdBQU1oMEUsTUFDL0NvbEcsRUFBZSxFQUNWOWlILEVBQUksRUFBR0EsRUFBSTRpSCxFQUFZbmpILFNBQVVPLEVBQUcsQ0FDekMsSUFBSStpSCxFQUFjSCxFQUFZNWlILEdBQzFCcWlILEVBQ0EzN0csS0FBS3VCLFFBQVF5NkcsV0FBV0ssRUFBYUosRUFBaUJyakgsR0FHdERvSCxLQUFLdUIsUUFBUW00RyxTQUFTMkMsRUFBYUosRUFBaUJyakgsR0FHeEQsSUFEQSxJQUFJMGpILEVBQVUsR0FDTHA4RyxFQUFJNUcsRUFBSSxFQUFHNEcsRUFBSWc4RyxFQUFZbmpILFNBQVVtSCxFQUMxQ284RyxHQUFXSixFQUFZaDhHLEdBRzNCKzdHLEdBQW1CRSxHQURuQkMsRUFBZXA4RyxLQUFLdUIsUUFBUXExRyxZQUFZMEYsR0FBU3RsRyxPQUNDZzhGLEVBQ2xEbUosRUFBZ0JDLENBQ3BCLENBQ0osRUFFQXBDLEVBQUsvNEcsVUFBVXNxRSxjQUFnQixXQUMzQixJQUFJcjBELEVBQVNsWCxLQUFLa1gsT0FDbEIsR0FBSWxYLEtBQUtxNkcsT0FBTzdzRyxLQUFNLENBQ2xCLElBQUkrdUcsRUFBVW50RixHQUFXbFksR0FDckJxbEcsRUFBUW5rSCxPQUNSOGUsRUFBT0YsTUFBUXVsRyxFQUFRdmxHLE1BQ3ZCRSxFQUFPRCxPQUFTc2xHLEVBQVF0bEcsT0FDeEJqWCxLQUFLdUIsUUFBUTBpRixhQUFhczRCLEVBQVFua0gsS0FBTSxFQUFHLEdBRW5ELENBQ0EsSUFBSTgyQyxFQUFVbHZDLEtBQUtzaUQsU0FDZmhZLEVBQVF0cUMsS0FBS3E2RyxPQUNiLzVELEVBQVVoVyxFQUFNOThCLEtBQU8sRUFBSTg4QixFQUFNZ1csUUFDakNuVyxFQUFjK0UsRUFBUS9FLFlBQzFCK0UsRUFBUTFoQyxLQUFLd0osTUFBUWs0QixFQUFRa0osT0FBT3BoQyxNQUFRRSxFQUFPRixNQUFRaFgsS0FBS3cxRCxZQUNoRXRtQixFQUFRMWhDLEtBQUt5SixPQUFTaTRCLEVBQVFrSixPQUFPbmhDLE9BQVNDLEVBQU9ELE9BQVNqWCxLQUFLdzFELFlBQ25FdG1CLEVBQVExaEMsS0FBSzdVLEdBQUsybkQsRUFDbEJwUixFQUFRMWhDLEtBQUs1VSxHQUFLMG5ELEVBQ2xCcFIsRUFBUStJLEtBQUtqaEMsTUFBUWs0QixFQUFRa0osT0FBT3BoQyxNQUFtQixFQUFWc3BDLEVBQzdDcFIsRUFBUStJLEtBQUtoaEMsT0FBU2k0QixFQUFRa0osT0FBT25oQyxPQUFvQixFQUFWcXBDLEVBRS9DdGdELEtBQUs0eEcsbUJBQ0x6bkUsRUFBWXFELFlBQVl0MkIsRUFBT0YsTUFBT0UsRUFBT0QsT0FBUWpYLEtBQUt3MUQsYUFDMUR0bUIsRUFBUXlKLFlBQ1IzNEMsS0FBS3N0QyxPQUFRLENBQ2pCLEVBS0Ewc0UsRUFBSy80RyxVQUFVdWlDLFFBQVUsU0FBVUgsR0FDM0JyakMsS0FBS202RyxpQkFBbUJuNkcsS0FBS3cxRCxjQUFnQm55QixFQUFTM1UsYUFDdEQxdUIsS0FBS3cxRCxZQUFjbnlCLEVBQVMzVSxXQUM1QjF1QixLQUFLc3RDLE9BQVEsR0FFakJ0dEMsS0FBS3k2RyxZQUFXLEdBQ2hCdjhFLEVBQU9qOUIsVUFBVXVpQyxRQUFRL2dDLEtBQUt6QyxLQUFNcWpDLEVBQ3hDLEVBRUEyMkUsRUFBSy80RyxVQUFVbzZCLGdCQUFrQixXQUM3QnI3QixLQUFLeTZHLFlBQVcsR0FDaEJ2OEUsRUFBT2o5QixVQUFVbzZCLGdCQUFnQjU0QixLQUFLekMsS0FDMUMsRUFDQWc2RyxFQUFLLzRHLFVBQVUyeUIsVUFBWSxTQUFVbU0sRUFBWWxFLEdBTTdDLE9BTEE3N0IsS0FBS3k2RyxZQUFXLElBQ1MsSUFBckJ6NkcsS0FBSysxRCxhQUVMaDJCLEdBQWEsR0FFVjdCLEVBQU9qOUIsVUFBVTJ5QixVQUFVbnhCLEtBQUt6QyxLQUFNKy9CLEVBQVlsRSxFQUM3RCxFQU1BbStFLEVBQUsvNEcsVUFBVWcvQixlQUFpQixTQUFVcEUsR0FFdEMsT0FEQTc3QixLQUFLeTZHLFlBQVcsR0FDVHY4RSxFQUFPajlCLFVBQVVnL0IsZUFBZXg5QixLQUFLekMsS0FBTTY3QixFQUN0RCxFQUVBbStFLEVBQUsvNEcsVUFBVWlpQyxpQkFBbUIsV0FDOUJsakMsS0FBS3N3RyxvQkFFTHR3RyxLQUFLZy9CLFFBQVEzQyxRQUFRcjhCLEtBQUt5OEIsV0FDOUIsRUFRQXU5RSxFQUFLLzRHLFVBQVVzNkcsbUJBQXFCLFNBQVVqeEUsRUFBT2tzRSxFQUFPZ0csR0FJeEQsSUFTSUMsRUFUQTlpRSxFQUFZclAsRUFBTTBpRSxLQUN0QixJQUFLL3BHLE1BQU11SCxRQUFRbXZDLEdBQ2YsT0FBT0EsRUFFTixHQUF5QixJQUFyQkEsRUFBVTVnRCxPQUNmLE9BQU80Z0QsRUFBVSxHQU9yQixJQUFJK2lFLEVBQXdCcHlFLEVBQWdCLFdBQUlBLEVBQU1pb0UsbUJBQXFCLEVBRXZFanlELEVBQVVoVyxFQUFNZ1csU0FBVyxFQUMzQnRwQyxFQUFTaFgsS0FBS2tYLE9BQU9GLE1BQVFoWCxLQUFLdzFELFlBQWVrbkQsRUFBa0MsRUFBVnA4RCxFQUN6RXJwQyxFQUFValgsS0FBS2tYLE9BQU9ELE9BQVNqWCxLQUFLdzFELFlBQWVrbkQsRUFBa0MsRUFBVnA4RCxFQUUzRTBzRCxFQUFPcnpELEVBQVVqM0MsUUFDakJnd0csRUFBb0Jwb0UsRUFBTW9vRSxrQkFBa0Jod0csUUFFaEQsSUFBS2d3RyxFQUFrQjM1RyxPQUVuQixJQURBLElBQUk0akgsRUFBYzNQLEVBQUtqMEcsT0FBUyxFQUN2Qk8sRUFBSSxFQUFHQSxFQUFJcWpILElBQWVyakgsRUFDL0JvNUcsRUFBa0IvNEcsS0FBS0wsRUFBSXFqSCxHQVNuQyxHQUpBM1AsRUFBS3YrRixRQUFRa3JDLEVBQVUsSUFDdkIrNEQsRUFBa0Jqa0csUUFBUSxHQUMxQnUrRixFQUFLcnpHLEtBQUtnZ0QsRUFBVUEsRUFBVTVnRCxPQUFTLElBQ3ZDMjVHLEVBQWtCLzRHLEtBQUssR0FDbkIyd0MsRUFBTWtvRSxtQkFBcUIxSyxHQUFjMkssZ0JBQWlCLENBRTFEZ0ssRUFBV3o4RyxLQUFLdUIsUUFBUXE3RyxxQkFBcUI1bEcsRUFBUSxFQUFHc3BDLEVBQVN0cEMsRUFBUSxFQUFHQyxFQUFTcXBDLEdBSXJGLElBQUl1OEQsRUFBYUwsRUFBUTdGLGVBQWUvRCxTQUFXdG9FLEVBQU04b0UsZ0JBQ3pELElBQVM5NUcsRUFBSSxFQUFHQSxFQUFJazlHLEVBQU16OUcsT0FBUU8sSUFBSyxDQUNuQyxJQUFJd2pILEVBQWtCTixFQUFRdkosWUFBYzM1RyxFQUFJLEdBQU11akgsRUFDbERFLEVBQWNQLEVBQVF2SixXQUFhMzVHLEVBQ25DMGpILEVBQXdCRCxFQUV4QnpqSCxFQUFJLEdBQUt3akgsRUFBaUJDLElBQzFCQyxHQUF5QkQsRUFBY0QsR0FBa0IsR0FFN0QsSUFBSUcsRUFBaUJGLEVBQWNGLEVBQy9CSyxFQUFjVixFQUFRdkosWUFBYzM1RyxFQUFJLEdBQ3hDNmpILEVBQXNCRixFQUV0QjNqSCxFQUFJLEVBQUlrOUcsRUFBTXo5RyxRQUFVbWtILEVBQWNELElBQ3RDRSxHQUF1QkYsRUFBaUJDLEdBQWUsR0FJM0QsSUFEQSxJQUFJRSxHQUFzQkQsRUFBc0JILEdBQXlCL2xHLEVBQ2hFL1csRUFBSSxFQUFHQSxFQUFJOHNHLEVBQUtqMEcsT0FBUW1ILElBQUssQ0FFbEMsSUFBSW05RyxFQUVBQSxFQURnQyxpQkFBekIzSyxFQUFrQnh5RyxHQUNkd3lHLEVBQWtCeHlHLEdBR2xCQSxFQUFJOHNHLEVBQUtqMEcsT0FFeEIsSUFBSXVrSCxFQUFhcmpILEtBQUt3RixJQUFJLEVBQUd4RixLQUFLQyxJQUFJLEVBQUk4aUgsRUFBd0IvbEcsRUFBV29tRyxFQUFXRCxJQUV4RkUsRUFBYWpuRyxPQUFPaW5HLEVBQVdDLFFBQVEsSUFDdkNkLEVBQVNlLGFBQWFGLEVBQVl0USxFQUFLOXNHLEdBQzNDLENBQ0osQ0FDSixLQUNLLENBRUR1OEcsRUFBV3o4RyxLQUFLdUIsUUFBUXE3RyxxQkFBcUJ0OEQsRUFBU3JwQyxFQUFTLEVBQUdELEVBQVFzcEMsRUFBU3JwQyxFQUFTLEdBRzVGLElBQUl3bUcsRUFBa0J6USxFQUFLajBHLE9BQVMsRUFDaEMya0gsRUFBbUIsRUFDdkIsSUFBU3BrSCxFQUFJLEVBQUdBLEVBQUkwekcsRUFBS2owRyxPQUFRTyxJQUFLLENBQ2xDLElBQUl5QyxFQUVBQSxFQURnQyxpQkFBekIyMkcsRUFBa0JwNUcsR0FDbEJvNUcsRUFBa0JwNUcsR0FHbEJva0gsRUFBbUJELEVBRTlCaEIsRUFBU2UsYUFBYXpoSCxFQUFNaXhHLEVBQUsxekcsSUFDakNva0gsR0FDSixDQUNKLENBQ0EsT0FBT2pCLENBQ1gsRUFhQXpDLEVBQUsvNEcsVUFBVXN0QixRQUFVLFNBQVV6a0IsR0FDUixrQkFBWkEsSUFDUEEsRUFBVSxDQUFFNkgsU0FBVTdILElBRTFCQSxFQUFVOUksT0FBT3FELE9BQU8sQ0FBQyxFQUFHMDFHLEdBQXVCandHLEdBQ25EbzBCLEVBQU9qOUIsVUFBVXN0QixRQUFROXJCLEtBQUt6QyxLQUFNOEosR0FHaEM5SixLQUFLazZHLGFBQ0xsNkcsS0FBS2tYLE9BQU9ELE9BQVNqWCxLQUFLa1gsT0FBT0YsTUFBUSxHQUc3Q2hYLEtBQUt1QixRQUFVLEtBQ2Z2QixLQUFLa1gsT0FBUyxLQUNkbFgsS0FBS3E2RyxPQUFTLElBQ2xCLEVBQ0FyNUcsT0FBT2tRLGVBQWU4b0csRUFBSy80RyxVQUFXLFFBQVMsQ0FFM0NtUSxJQUFLLFdBRUQsT0FEQXBSLEtBQUt5NkcsWUFBVyxHQUNUeGdILEtBQUttRSxJQUFJNEIsS0FBS2syQixNQUFNdjlCLEdBQUtxSCxLQUFLc2lELFNBQVNySyxLQUFLamhDLEtBQ3ZELEVBQ0FrWSxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUt5NkcsWUFBVyxHQUNoQixJQUFJaDFHLEVBQUlyRyxHQUFLWSxLQUFLazJCLE1BQU12OUIsSUFBTSxFQUM5QnFILEtBQUtrMkIsTUFBTXY5QixFQUFJOE0sRUFBSTJCLEVBQVFwSCxLQUFLc2lELFNBQVNySyxLQUFLamhDLE1BQzlDaFgsS0FBS29rQyxPQUFTaDlCLENBQ2xCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlOG9HLEVBQUsvNEcsVUFBVyxTQUFVLENBRTVDbVEsSUFBSyxXQUVELE9BREFwUixLQUFLeTZHLFlBQVcsR0FDVHhnSCxLQUFLbUUsSUFBSTRCLEtBQUtrMkIsTUFBTXQ5QixHQUFLb0gsS0FBS3NpRCxTQUFTckssS0FBS2hoQyxNQUN2RCxFQUNBaVksSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLeTZHLFlBQVcsR0FDaEIsSUFBSWgxRyxFQUFJckcsR0FBS1ksS0FBS2syQixNQUFNdDlCLElBQU0sRUFDOUJvSCxLQUFLazJCLE1BQU10OUIsRUFBSTZNLEVBQUkyQixFQUFRcEgsS0FBS3NpRCxTQUFTckssS0FBS2hoQyxPQUM5Q2pYLEtBQUtxa0MsUUFBVWo5QixDQUNuQixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZThvRyxFQUFLLzRHLFVBQVcsUUFBUyxDQU0zQ21RLElBQUssV0FJRCxPQUFPcFIsS0FBS3E2RyxNQUNoQixFQUNBbnJGLElBQUssU0FBVW9iLEdBQ1hBLEVBQVFBLEdBQVMsQ0FBQyxFQUVkdHFDLEtBQUtxNkcsT0FETC92RSxhQUFpQnFwRSxHQUNIcnBFLEVBR0EsSUFBSXFwRSxHQUFVcnBFLEdBRWhDdHFDLEtBQUt3NkcsY0FBZ0IsRUFDckJ4NkcsS0FBS3N0QyxPQUFRLENBQ2pCLEVBQ0FuOEIsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZThvRyxFQUFLLzRHLFVBQVcsT0FBUSxDQUUxQ21RLElBQUssV0FDRCxPQUFPcFIsS0FBS282RyxLQUNoQixFQUNBbHJGLElBQUssU0FBVTg3RCxHQUNYQSxFQUFPem1GLE9BQU95bUYsUUFBc0MsR0FBS0EsR0FDckRockYsS0FBS282RyxRQUFVcHZCLElBR25CaHJGLEtBQUtvNkcsTUFBUXB2QixFQUNiaHJGLEtBQUtzdEMsT0FBUSxFQUNqQixFQUNBbjhCLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWU4b0csRUFBSy80RyxVQUFXLGFBQWMsQ0FPaERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt3MUQsV0FDaEIsRUFDQXRtQyxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUttNkcsaUJBQWtCLEVBQ25CbjZHLEtBQUt3MUQsY0FBZ0JwdUQsSUFHekJwSCxLQUFLdzFELFlBQWNwdUQsRUFDbkJwSCxLQUFLc3RDLE9BQVEsRUFDakIsRUFDQW44QixZQUFZLEVBQ1pnZSxjQUFjLElBUWxCNnFGLEVBQUt5Qix3QkFBeUIsRUFNOUJ6QixFQUFLNkIsMkJBQTRCLEVBQzFCN0IsQ0FDWCxDQWpnQnlCLENBaWdCdkI1SSxJRTkxREYzMkYsR0FBU2tqRyxrQkFBb0IsRUFrQjdCLElBQUksR0FBZ0IsU0FBUzc4RyxFQUFHekUsR0FJNUIsT0FIQSxHQUFnQjJFLE9BQU84OEIsZ0JBQ2xCLENBQUUxN0IsVUFBVyxjQUFnQmEsT0FBUyxTQUFVbkMsRUFBR3pFLEdBQUt5RSxFQUFFc0IsVUFBWS9GLENBQUcsR0FDMUUsU0FBVXlFLEVBQUd6RSxHQUFLLElBQUssSUFBSXZCLEtBQUt1QixFQUFTQSxFQUFFNkUsZUFBZXBHLEtBQU1nRyxFQUFFaEcsR0FBS3VCLEVBQUV2QixHQUFRLEVBQzlFLEdBQWNnRyxFQUFHekUsRUFDNUIsRUFhSXVoSCxHQUE4QixXQUk5QixTQUFTQSxFQUFhQyxHQUNsQjc5RyxLQUFLNjlHLGlCQUFtQkEsRUFDeEI3OUcsS0FBSzg5RyxVQUFZLENBQ3JCLENBWUEsT0FWQUYsRUFBYTM4RyxVQUFVODhHLFdBQWEsV0FDaEMvOUcsS0FBSzg5RyxVQUFZOTlHLEtBQUs2OUcsZ0JBQzFCLEVBS0FELEVBQWEzOEcsVUFBVSs4RyxnQkFBa0IsV0FDckMsT0FBT2grRyxLQUFLODlHLGFBQWMsQ0FDOUIsRUFDT0YsQ0FDWCxDQXBCaUMsR0E2QmpDLFNBQVNLLEdBQXlCMThFLEVBQU05bkMsR0FDcEMsSUFBSWdILEdBQVMsRUFFYixHQUFJOGdDLEdBQVFBLEVBQUsyOEUsV0FBYTM4RSxFQUFLMjhFLFVBQVVubEgsT0FDekMsSUFBSyxJQUFJTyxFQUFJLEVBQUdBLEVBQUlpb0MsRUFBSzI4RSxVQUFVbmxILE9BQVFPLElBQ3ZDLEdBQUlpb0MsRUFBSzI4RSxVQUFVNWtILGFBQWMwK0MsR0FBUyxDQUN0QyxJQUFJN04sRUFBYzVJLEVBQUsyOEUsVUFBVTVrSCxHQUFHNndDLGFBQ0EsSUFBaEMxd0MsRUFBTTRRLFFBQVE4L0IsS0FDZDF3QyxFQUFNRSxLQUFLd3dDLEdBQ1gxcEMsR0FBUyxFQUVqQixDQUdSLE9BQU9BLENBQ1gsQ0FRQSxTQUFTMDlHLEdBQWdCNThFLEVBQU05bkMsR0FDM0IsR0FBSThuQyxFQUFLNEksdUJBQXVCMEIsR0FBYSxDQUN6QyxJQUFJcUQsRUFBVTNOLEVBQUs0SSxZQUluQixPQUhnQyxJQUE1QjF3QyxFQUFNNFEsUUFBUTZrQyxJQUNkejFDLEVBQU1FLEtBQUt1MUMsSUFFUixDQUNYLENBQ0EsT0FBTyxDQUNYLENBUUEsU0FBU2t2RSxHQUFZNzhFLEVBQU05bkMsR0FDdkIsR0FBSThuQyxFQUFLK2dCLFVBQVkvZ0IsRUFBSytnQixvQkFBb0J0SyxHQUFTLENBQ25ELElBQUk5SSxFQUFVM04sRUFBSytnQixTQUFTblksWUFJNUIsT0FIZ0MsSUFBNUIxd0MsRUFBTTRRLFFBQVE2a0MsSUFDZHoxQyxFQUFNRSxLQUFLdTFDLElBRVIsQ0FDWCxDQUNBLE9BQU8sQ0FDWCxDQVFBLFNBQVNtdkUsR0FBU0MsRUFBUy84RSxHQUN2QixPQUFJQSxhQUFnQnk0RSxLQUVoQno0RSxFQUFLazVFLFlBQVcsSUFDVCxFQUdmLENBUUEsU0FBUzhELEdBQW1CRCxFQUFTLzhFLEdBQ2pDLEdBQUlBLGFBQWdCb3lFLEdBQVcsQ0FDM0IsSUFBSW1ELEVBQU92MUUsRUFBSzAwRSxlQUVoQixPQURBTSxHQUFZUSxZQUFZRCxJQUNqQixDQUNYLENBQ0EsT0FBTyxDQUNYLENBUUEsU0FBUzBILEdBQVNqOUUsRUFBTTluQyxHQUNwQixHQUFJOG5DLGFBQWdCeTRFLEdBQU0sRUFFYSxJQUEvQnZnSCxFQUFNNFEsUUFBUWszQixFQUFLK0ksUUFDbkI3d0MsRUFBTUUsS0FBSzRuQyxFQUFLK0ksUUFHUyxJQUF6Qjd3QyxFQUFNNFEsUUFBUWszQixJQUNkOW5DLEVBQU1FLEtBQUs0bkMsR0FHZixJQUFJMk4sRUFBVTNOLEVBQUsrZ0IsU0FBU25ZLFlBSTVCLE9BSGdDLElBQTVCMXdDLEVBQU00USxRQUFRNmtDLElBQ2R6MUMsRUFBTUUsS0FBS3UxQyxJQUVSLENBQ1gsQ0FDQSxPQUFPLENBQ1gsQ0FRQSxTQUFTdXZFLEdBQWNsOUUsRUFBTTluQyxHQUN6QixPQUFJOG5DLGFBQWdCb3lFLE1BQ2EsSUFBekJsNkcsRUFBTTRRLFFBQVFrM0IsSUFDZDluQyxFQUFNRSxLQUFLNG5DLElBRVIsRUFHZixDQXFCQSxJQUFJbTlFLEdBQTZCLFdBSTdCLFNBQVNBLEVBQVlyN0UsR0FDakIsSUFBSWxGLEVBQVFuK0IsS0FDWkEsS0FBSzIrRyxRQUFVLElBQUlmLEdBQWFuakcsR0FBU2tqRyxtQkFDekMzOUcsS0FBS3FqQyxTQUFXQSxFQUNoQnJqQyxLQUFLNCtHLGlCQUFtQixLQUN4QjUrRyxLQUFLdkcsTUFBUSxHQUNidUcsS0FBSzYrRyxTQUFXLEdBQ2hCNytHLEtBQUs4K0csWUFBYyxHQUNuQjkrRyxLQUFLKytHLFVBQVksR0FDakIvK0csS0FBS2cvRyxTQUFVLEVBQ2ZoL0csS0FBS2kvRyxZQUFjLFdBRVY5Z0YsRUFBTTFrQyxPQUdYMGtDLEVBQU0rZ0YsY0FDVixFQUVBbC9HLEtBQUttL0csaUJBQWlCWCxJQUN0QngrRyxLQUFLbS9HLGlCQUFpQlYsSUFDdEJ6K0csS0FBS20vRyxpQkFBaUJsQixJQUN0QmorRyxLQUFLbS9HLGlCQUFpQmhCLElBQ3RCbitHLEtBQUttL0csaUJBQWlCZixJQUV0QnArRyxLQUFLby9HLG1CQUFtQmYsSUFDeEJyK0csS0FBS28vRyxtQkFBbUJiLEdBQzVCLENBNElBLE9BMUlBRyxFQUFZejlHLFVBQVU0cEMsT0FBUyxTQUFVdEosRUFBTW51QixHQUMzQyxJQUFJK3FCLEVBQVFuK0IsS0FRWixNQVBvQixtQkFBVHVoQyxJQUNQbnVCLEVBQU9tdUIsRUFDUEEsRUFBTyxNQUVQbnVCLEdBQ0F3YSxHQUFZLFFBQVMsOEVBRWxCLElBQUl4WixTQUFRLFNBQVVySSxHQUdyQncxQixHQUNBcEQsRUFBTXJFLElBQUl5SCxHQUdkLElBQUl5TyxFQUFXLFdBQ1g1OEIsU0FBNENBLElBQzVDckgsR0FDSixFQUVJb3lCLEVBQU0xa0MsTUFBTVYsUUFDWm9sQyxFQUFNNGdGLFVBQVVwbEgsS0FBS3EyQyxHQUNoQjdSLEVBQU02Z0YsVUFDUDdnRixFQUFNNmdGLFNBQVUsRUFDaEJqNEUsR0FBTzhCLE9BQU9YLFFBQVEvSixFQUFNa2hGLEtBQU1saEYsRUFBT3NHLEdBQWdCNjZFLFdBSTdEdHZFLEdBRVIsR0FDSixFQUtBMHVFLEVBQVl6OUcsVUFBVW8rRyxLQUFPLFdBQ3pCeHRHLFdBQVc3UixLQUFLaS9HLFlBQWEsRUFDakMsRUFNQVAsRUFBWXo5RyxVQUFVaStHLGFBQWUsV0FHakMsSUFGQWwvRyxLQUFLMitHLFFBQVFaLGFBRU4vOUcsS0FBS3ZHLE1BQU1WLFFBQVVpSCxLQUFLMitHLFFBQVFYLG1CQUFtQixDQUN4RCxJQUFJejhFLEVBQU92aEMsS0FBS3ZHLE1BQU0sR0FDbEI4bEgsR0FBVyxFQUNmLEdBQUloK0UsSUFBU0EsRUFBS2hDLFdBQ2QsSUFBSyxJQUFJam1DLEVBQUksRUFBR0MsRUFBTXlHLEtBQUs4K0csWUFBWS9sSCxPQUFRTyxFQUFJQyxFQUFLRCxJQUNwRCxHQUFJMEcsS0FBSzgrRyxZQUFZeGxILEdBQUcwRyxLQUFLNCtHLGlCQUFrQnI5RSxHQUFPLENBQ2xEdmhDLEtBQUt2RyxNQUFNaVcsUUFDWDZ2RyxHQUFXLEVBQ1gsS0FDSixDQUdIQSxHQUNEdi9HLEtBQUt2RyxNQUFNaVcsT0FFbkIsQ0FFQSxHQUFLMVAsS0FBS3ZHLE1BQU1WLE9BVVpndUMsR0FBTzhCLE9BQU9YLFFBQVFsb0MsS0FBS3EvRyxLQUFNci9HLEtBQU15a0MsR0FBZ0I2NkUsYUFWbkMsQ0FDcEJ0L0csS0FBS2cvRyxTQUFVLEVBQ2YsSUFBSUQsRUFBWS8rRyxLQUFLKytHLFVBQVVyOEcsTUFBTSxHQUVyQyxJQURBMUMsS0FBSysrRyxVQUFVaG1ILE9BQVMsRUFDZk8sRUFBSSxFQUFHQyxFQUFNd2xILEVBQVVobUgsT0FBUU8sRUFBSUMsRUFBS0QsSUFDN0N5bEgsRUFBVXpsSCxJQUVsQixDQUtKLEVBT0FvbEgsRUFBWXo5RyxVQUFVaytHLGlCQUFtQixTQUFVSyxHQUkvQyxPQUhJQSxHQUNBeC9HLEtBQUs2K0csU0FBU2xsSCxLQUFLNmxILEdBRWhCeC9HLElBQ1gsRUFPQTArRyxFQUFZejlHLFVBQVVtK0csbUJBQXFCLFNBQVVLLEdBSWpELE9BSElBLEdBQ0F6L0csS0FBSzgrRyxZQUFZbmxILEtBQUs4bEgsR0FFbkJ6L0csSUFDWCxFQU9BMCtHLEVBQVl6OUcsVUFBVTY0QixJQUFNLFNBQVV5SCxHQUdsQyxJQUFLLElBQUlqb0MsRUFBSSxFQUFHQyxFQUFNeUcsS0FBSzYrRyxTQUFTOWxILE9BQVFPLEVBQUlDLElBQ3hDeUcsS0FBSzYrRyxTQUFTdmxILEdBQUdpb0MsRUFBTXZoQyxLQUFLdkcsT0FEaUJILEtBTXJELEdBQUlpb0MsYUFBZ0JLLEdBQ2hCLElBQVN0b0MsRUFBSWlvQyxFQUFLNXZCLFNBQVM1WSxPQUFTLEVBQUdPLEdBQUssRUFBR0EsSUFDM0MwRyxLQUFLODVCLElBQUl5SCxFQUFLNXZCLFNBQVNyWSxJQUcvQixPQUFPMEcsSUFDWCxFQUVBMCtHLEVBQVl6OUcsVUFBVXN0QixRQUFVLFdBQ3hCdnVCLEtBQUtnL0csU0FDTGo0RSxHQUFPOEIsT0FBTzNELE9BQU9sbEMsS0FBS3EvRyxLQUFNci9HLE1BRXBDQSxLQUFLZy9HLFNBQVUsRUFDZmgvRyxLQUFLNitHLFNBQVcsS0FDaEI3K0csS0FBSzgrRyxZQUFjLEtBQ25COStHLEtBQUtxakMsU0FBVyxLQUNoQnJqQyxLQUFLKytHLFVBQVksS0FDakIvK0csS0FBS3ZHLE1BQVEsS0FDYnVHLEtBQUsyK0csUUFBVSxLQUNmMytHLEtBQUs0K0csaUJBQW1CLElBQzVCLEVBQ09GLENBQ1gsQ0EzS2dDLEdBb0xoQyxTQUFTZ0IsR0FBbUJyOEUsRUFBVTlCLEdBQ2xDLE9BQUlBLGFBQWdCc0ssS0FJWHRLLEVBQUtvTCxZQUFZdEosRUFBUzhnQixjQUMzQjlnQixFQUFTNkwsUUFBUWhGLEtBQUszSSxJQUVuQixFQUdmLENBUUEsU0FBU28rRSxHQUFldDhFLEVBQVU5QixHQUM5QixLQUFNQSxhQUFnQnFpRSxJQUNsQixPQUFPLEVBRVgsSUFBSXptRCxFQUFXNWIsRUFBSzRiLFNBRXBCNWIsRUFBS210RSxhQUNMdnhELEVBQVNxdUQsZ0JBR1QsSUFGQSxJQUFJTCxFQUFVaHVELEVBQVNndUQsUUFFZDd4RyxFQUFJLEVBQUdBLEVBQUk2eEcsRUFBUXB5RyxPQUFRTyxJQUFLLENBQ3JDLElBQUk0MUMsRUFBVWk4RCxFQUFRN3hHLEdBQUdneEMsTUFBTTRFLFFBQzNCQSxHQUNBd3dFLEdBQW1CcjhFLEVBQVU2TCxFQUFRL0UsWUFFN0MsQ0FLQSxPQUhLZ1QsRUFBUzR0RCxXQUNWMW5FLEVBQVM4WixTQUFTalQsS0FBS2lULEVBQVU1YixFQUFLaXZFLHFCQUFxQm50RSxLQUV4RCxDQUNYLENBUUEsU0FBU3U4RSxHQUFhcitFLEVBQU05bkMsR0FDeEIsT0FBSThuQyxhQUFnQnFpRSxLQUNoQm5xRyxFQUFNRSxLQUFLNG5DLElBQ0osRUFHZixDQTZCQSxJQUFJcytFLEdBQXlCLFNBQVUzaEYsR0FLbkMsU0FBUzJoRixFQUFReDhFLEdBQ2IsSUFBSWxGLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU1xakMsSUFBYXJqQyxLQU0zQyxPQUxBbStCLEVBQU15Z0YsaUJBQW1CemdGLEVBQU1rRixTQUUvQmxGLEVBQU1naEYsaUJBQWlCUyxJQUN2QnpoRixFQUFNaWhGLG1CQUFtQk0sSUFDekJ2aEYsRUFBTWloRixtQkFBbUJPLElBQ2xCeGhGLENBQ1gsQ0FNQSxPQWhkSixTQUFtQnI5QixFQUFHekUsR0FFbEIsU0FBUzJoQyxJQUFPaCtCLEtBQUt3VCxZQUFjMVMsQ0FBRyxDQUR0QyxHQUFjQSxFQUFHekUsR0FFakJ5RSxFQUFFRyxVQUFrQixPQUFONUUsRUFBYTJFLE9BQU9tQixPQUFPOUYsSUFBTTJoQyxFQUFHLzhCLFVBQVk1RSxFQUFFNEUsVUFBVyxJQUFJKzhCLEVBQ25GLENBMGJJLENBQVU2aEYsRUFBUzNoRixHQWNuQjJoRixFQUFRbDdFLFVBQVksQ0FDaEJwaUMsS0FBTSxVQUNOcUUsS0FBTTI5QixHQUFjc3JDLGdCQUVqQmd3QyxDQUNYLENBcEI0QixDQW9CMUJuQixJQU9Fb0IsR0FBNkIsV0FFN0IsU0FBU0EsRUFBWUMsR0FDakIvL0csS0FBSysvRyxnQkFBa0JBLEVBQ3ZCLy9HLEtBQUtnZ0gsV0FBYSxDQUN0QixDQVlBLE9BVkFGLEVBQVk3K0csVUFBVTg4RyxXQUFhLFdBQy9CLzlHLEtBQUtnZ0gsV0FBYTNyRyxLQUFLQyxLQUMzQixFQUtBd3JHLEVBQVk3K0csVUFBVSs4RyxnQkFBa0IsV0FDcEMsT0FBTzNwRyxLQUFLQyxNQUFRdFUsS0FBS2dnSCxXQUFhaGdILEtBQUsrL0csZUFDL0MsRUFDT0QsQ0FDWCxDQWxCZ0MsR0M5ZDVCRyxHQUE2QixXQVE3QixTQUFTQSxFQUFZL3dFLEVBQVM5MkMsRUFBTThuSCxRQUNMLElBQXZCQSxJQUFpQ0EsRUFBcUIsTUFFMURsZ0gsS0FBS21nSCxhQUFlLEdBQ3BCbmdILEtBQUtzaUQsU0FBV3BULGFBQW1COEksR0FBVTlJLEVBQVUsS0FDdkRsdkMsS0FBS21xQyxZQUFjK0UsYUFBbUJyRCxHQUFjcUQsRUFBVWx2QyxLQUFLc2lELFNBQVNuWSxZQUM1RW5xQyxLQUFLaTdDLFNBQVcsQ0FBQyxFQUNqQmo3QyxLQUFLb2dILFdBQWEsQ0FBQyxFQUNuQnBnSCxLQUFLNUgsS0FBT0EsRUFDWixJQUFJMHpDLEVBQVc5ckMsS0FBS21xQyxZQUFZMkIsU0FDaEM5ckMsS0FBSzB1QixXQUFhMXVCLEtBQUtxZ0gsa0JBQWtCSCxJQUF1QnAwRSxFQUFXQSxFQUFTLytCLElBQU0sT0FDMUYvTSxLQUFLc2dILFFBQVV0Z0gsS0FBSzVILEtBQUttb0gsT0FDekJ2Z0gsS0FBS3dnSCxXQUFheC9HLE9BQU9pRSxLQUFLakYsS0FBS3NnSCxTQUNuQ3RnSCxLQUFLeWdILFlBQWMsRUFDbkJ6Z0gsS0FBSzBnSCxVQUFZLElBQ3JCLENBeUlBLE9BaklBVCxFQUFZaC9HLFVBQVVvL0csa0JBQW9CLFNBQVVILFFBQ3JCLElBQXZCQSxJQUFpQ0EsRUFBcUIsTUFDMUQsSUFBSWhxRixFQUFRbDJCLEtBQUs1SCxLQUFLdW9ILEtBQUt6cUYsTUFFdkJ4SCxFQUFhaUMsR0FBbUJ1dkYsRUFBb0IsTUFVeEQsT0FSbUIsT0FBZnh4RixJQUVBQSxPQUF1Qi9xQixJQUFWdXlCLEVBQXNCckYsV0FBV3FGLEdBQVMsR0FHeEMsSUFBZnhILEdBQ0ExdUIsS0FBS21xQyxZQUFZc0QsY0FBYy9lLEdBRTVCQSxDQUNYLEVBRUF1eEYsRUFBWWgvRyxVQUFVNEosTUFBUSxTQUFVNEksR0FDcEMsSUFBSTBxQixFQUFRbitCLEtBSVosT0FISXlULEdBQ0FtYSxHQUFZLFFBQVMsNkVBRWxCLElBQUl4WixTQUFRLFNBQVVySSxHQUN6Qm95QixFQUFNdWlGLFVBQVksU0FBVXpsRSxHQUN4QnhuQyxTQUFvREEsRUFBU3duQyxHQUM3RGx2QyxFQUFRa3ZDLEVBQ1osRUFDQTljLEVBQU1zaUYsWUFBYyxFQUNoQnRpRixFQUFNcWlGLFdBQVd6bkgsUUFBVWtuSCxFQUFZVyxZQUN2Q3ppRixFQUFNMGlGLGVBQWUsR0FDckIxaUYsRUFBTTJpRixxQkFDTjNpRixFQUFNNGlGLGtCQUdONWlGLEVBQU02aUYsWUFFZCxHQUNKLEVBS0FmLEVBQVloL0csVUFBVTQvRyxlQUFpQixTQUFVSSxHQUc3QyxJQUZBLElBQUlDLEVBQWFELEVBQ2JFLEVBQVlsQixFQUFZVyxXQUNyQk0sRUFBYUQsRUFBb0JFLEdBQWFELEVBQWFsaEgsS0FBS3dnSCxXQUFXem5ILFFBQVEsQ0FDdEYsSUFBSU8sRUFBSTBHLEtBQUt3Z0gsV0FBV1UsR0FDcEI5b0gsRUFBTzRILEtBQUtzZ0gsUUFBUWhuSCxHQUNwQnVpQyxFQUFPempDLEVBQUtpL0MsTUFDaEIsR0FBSXhiLEVBQU0sQ0FDTixJQUFJd2IsRUFDQTdwQyxFQUFPLEtBQ1A0ekcsR0FBOEIsSUFBakJocEgsRUFBS21rSCxTQUFxQm5rSCxFQUFLZ3BILFdBQzFDaHBILEVBQUtncEgsV0FBYWhwSCxFQUFLaS9DLE1BQ3pCWSxFQUFPLElBQUl6bUIsR0FBVSxFQUFHLEVBQUd2M0IsS0FBS3dNLE1BQU0yNkcsRUFBVzM0RyxHQUFLekksS0FBSzB1QixXQUFZejBCLEtBQUt3TSxNQUFNMjZHLEVBQVd6eUcsR0FBSzNPLEtBQUswdUIsWUFFdkcyb0IsRUFEQWovQyxFQUFLaXBILFFBQ0csSUFBSTd2RixHQUFVdjNCLEtBQUt3TSxNQUFNbzFCLEVBQUtsakMsR0FBS3FILEtBQUswdUIsV0FBWXowQixLQUFLd00sTUFBTW8xQixFQUFLampDLEdBQUtvSCxLQUFLMHVCLFdBQVl6MEIsS0FBS3dNLE1BQU1vMUIsRUFBS2x0QixHQUFLM08sS0FBSzB1QixXQUFZejBCLEtBQUt3TSxNQUFNbzFCLEVBQUtwekIsR0FBS3pJLEtBQUswdUIsWUFHMUosSUFBSThDLEdBQVV2M0IsS0FBS3dNLE1BQU1vMUIsRUFBS2xqQyxHQUFLcUgsS0FBSzB1QixXQUFZejBCLEtBQUt3TSxNQUFNbzFCLEVBQUtqakMsR0FBS29ILEtBQUswdUIsV0FBWXowQixLQUFLd00sTUFBTW8xQixFQUFLcHpCLEdBQUt6SSxLQUFLMHVCLFdBQVl6MEIsS0FBS3dNLE1BQU1vMUIsRUFBS2x0QixHQUFLM08sS0FBSzB1QixhQUdqSixJQUFqQnQyQixFQUFLbWtILFNBQXFCbmtILEVBQUtrcEgsbUJBQy9COXpHLEVBQU8sSUFBSWdrQixHQUFVdjNCLEtBQUt3TSxNQUFNck8sRUFBS2twSCxpQkFBaUIzb0gsR0FBS3FILEtBQUswdUIsV0FBWXowQixLQUFLd00sTUFBTXJPLEVBQUtrcEgsaUJBQWlCMW9ILEdBQUtvSCxLQUFLMHVCLFdBQVl6MEIsS0FBS3dNLE1BQU1vMUIsRUFBS3B6QixHQUFLekksS0FBSzB1QixXQUFZejBCLEtBQUt3TSxNQUFNbzFCLEVBQUtsdEIsR0FBSzNPLEtBQUswdUIsYUFFdk0xdUIsS0FBS2k3QyxTQUFTM2hELEdBQUssSUFBSTArQyxHQUFRaDRDLEtBQUttcUMsWUFBYWtOLEVBQU9ZLEVBQU16cUMsRUFBTXBWLEVBQUtpcEgsUUFBVSxFQUFJLEVBQUdqcEgsRUFBSzgvQyxRQUUvRkYsR0FBUS9KLFdBQVdqdUMsS0FBS2k3QyxTQUFTM2hELEdBQUlBLEVBQ3pDLENBQ0E0bkgsR0FDSixDQUNKLEVBRUFqQixFQUFZaC9HLFVBQVU2L0csbUJBQXFCLFdBQ3ZDLElBQUlWLEVBQWFwZ0gsS0FBSzVILEtBQUtnb0gsWUFBYyxDQUFDLEVBQzFDLElBQUssSUFBSW1CLEtBQVluQixFQUFZLENBQzdCcGdILEtBQUtvZ0gsV0FBV21CLEdBQVksR0FDNUIsSUFBSyxJQUFJam9ILEVBQUksRUFBR0EsRUFBSThtSCxFQUFXbUIsR0FBVXhvSCxPQUFRTyxJQUFLLENBQ2xELElBQUlrb0gsRUFBWXBCLEVBQVdtQixHQUFVam9ILEdBQ3JDMEcsS0FBS29nSCxXQUFXbUIsR0FBVTVuSCxLQUFLcUcsS0FBS2k3QyxTQUFTdW1FLEdBQ2pELENBQ0osQ0FDSixFQUVBdkIsRUFBWWgvRyxVQUFVOC9HLGVBQWlCLFdBQ25DLElBQUl0dEcsRUFBV3pULEtBQUswZ0gsVUFDcEIxZ0gsS0FBSzBnSCxVQUFZLEtBQ2pCMWdILEtBQUt5Z0gsWUFBYyxFQUNuQmh0RyxFQUFTaFIsS0FBS3pDLEtBQU1BLEtBQUtpN0MsU0FDN0IsRUFFQWdsRSxFQUFZaC9HLFVBQVUrL0csV0FBYSxXQUMvQixJQUFJN2lGLEVBQVFuK0IsS0FDWkEsS0FBSzZnSCxlQUFlN2dILEtBQUt5Z0gsWUFBY1IsRUFBWVcsWUFDbkQ1Z0gsS0FBS3lnSCxjQUNMNXVHLFlBQVcsV0FDSHNzQixFQUFNc2lGLFlBQWNSLEVBQVlXLFdBQWF6aUYsRUFBTXFpRixXQUFXem5ILE9BQzlEb2xDLEVBQU02aUYsY0FHTjdpRixFQUFNMmlGLHFCQUNOM2lGLEVBQU00aUYsaUJBRWQsR0FBRyxFQUNQLEVBS0FkLEVBQVloL0csVUFBVXN0QixRQUFVLFNBQVVxcUIsR0FDdEMsSUFBSWxoQyxFQUVKLElBQUssSUFBSXBlLFVBRFcsSUFBaEJzL0MsSUFBMEJBLEdBQWMsR0FDOUI1NEMsS0FBS2k3QyxTQUNmajdDLEtBQUtpN0MsU0FBUzNoRCxHQUFHaTFCLFVBRXJCdnVCLEtBQUtzZ0gsUUFBVSxLQUNmdGdILEtBQUt3Z0gsV0FBYSxLQUNsQnhnSCxLQUFLNUgsS0FBTyxLQUNaNEgsS0FBS2k3QyxTQUFXLEtBQ1pyQyxJQUN5QixRQUF4QmxoQyxFQUFLMVgsS0FBS3NpRCxnQkFBNkIsSUFBUDVxQyxHQUF5QkEsRUFBRzZXLFVBQzdEdnVCLEtBQUttcUMsWUFBWTViLFdBRXJCdnVCLEtBQUtzaUQsU0FBVyxLQUNoQnRpRCxLQUFLbXFDLFlBQWMsS0FDbkJucUMsS0FBS21nSCxhQUFlLEVBQ3hCLEVBRUFGLEVBQVlXLFdBQWEsSUFDbEJYLENBQ1gsQ0FqS2dDLEdBbU01QndCLEdBQW1DLFdBQ25DLFNBQVNBLElBQ1QsQ0FvRkEsT0E3RUFBLEVBQWtCMXhCLElBQU0sU0FBVWprRCxFQUFVMXlDLEdBQ3hDLElBQUlzZSxFQUFJeXRCLEVBRUp5ckQsRUFBUzV3RixLQUNUMGhILEVBQW9CNTFFLEVBQVN2cEMsS0FBTyxTQUV4QyxHQUFLdXBDLEVBQVMxekMsTUFDUDB6QyxFQUFTbGxDLE9BQVNvL0UsR0FBZW9CLEtBQUtucUUsTUFDckM2dUIsRUFBUzF6QyxLQUFLbW9ILFNBQ2YzdkIsRUFBT2ppRCxVQUFVK3lFLEdBSHhCLENBVUEsSUFBSUMsRUFBMEYsUUFBNUV4OEUsRUFBOEIsUUFBeEJ6dEIsRUFBS28wQixFQUFTMXpDLFlBQXlCLElBQVBzZixPQUFnQixFQUFTQSxFQUFHaXBHLFlBQXlCLElBQVB4N0UsT0FBZ0IsRUFBU0EsRUFBR3k4RSxvQkFDbEksR0FBSTMrRyxNQUFNdUgsUUFBUW0zRyxHQXFCZCxJQXBCQSxJQUFJM3JDLEVBQVUsU0FBVXowQyxHQUNwQixHQUFvQixpQkFBVEEsRUFDUCxNQUFPLFdBRVgsSUFBSXNnRixFQUFXdGdGLEVBQUtyNkIsUUFBUSxRQUFTLElBQ2pDNDZHLEVBQVUsV0FBWWgyRSxFQUFTLytCLElBQUk3RixRQUFRMHBGLEVBQU83eUUsUUFBUyxJQUFLd2pCLEdBRXBFLEdBQUlxdkQsRUFBT2ppRCxVQUFVa3pFLElBQ2Q3Z0gsT0FBTytnSCxPQUFPbnhCLEVBQU9qaUQsV0FBV3F6RSxNQUFLLFNBQVVsakgsR0FBSyxPQUFPLFVBQVcsU0FBVUEsRUFBRWlPLFFBQVUrMEcsQ0FBUyxJQUN4RyxNQUFPLFdBRVgsSUFBSWg0RyxFQUFVLENBQ1Y4bEMsWUFBYTlELEVBQVM4RCxZQUN0QnEzQyxTQUFVakIsR0FBZWdELFVBQVVNLElBQ25DbkMsUUFBU25CLEdBQWV1RSxrQkFBa0J0dEUsS0FDMUNnekUsZUFBZ0Jua0QsRUFDaEJsSCxTQUFVa0gsRUFBU2xILFVBRXZCZ3NELEVBQU85MkQsSUFBSStuRixFQUFVQyxFQUFTaDRHLEVBQ2xDLEVBQ1NrVixFQUFLLEVBQUdpakcsRUFBZU4sRUFBWTNpRyxFQUFLaWpHLEVBQWFscEgsT0FBUWltQixJQUVsRWczRCxFQURXaXNDLEVBQWFqakcsSUFJaEMsSUFBSTIzRSxFQUFjLENBQ2QvbUQsWUFBYTlELEVBQVM4RCxZQUN0QmhMLFNBQVVrSCxFQUFTbEgsU0FBU2d5RCxjQUM1QjNHLGVBQWdCbmtELEdBRWhCK3FELEVBQWU0cUIsRUFBa0JTLGdCQUFnQnAyRSxFQUFVOGtELEVBQU83eUUsU0FFdEU2eUUsRUFBTzkyRCxJQUFJNG5GLEVBQW1CN3FCLEVBQWNGLEdBQWEsU0FBcUI5aUYsR0FDMUUsR0FBSUEsRUFBSWxOLE1BQ0p2TixFQUFLeWEsRUFBSWxOLFdBRGIsQ0FJQSxJQUFJdzdHLEVBQWMsSUFBSWxDLEdBQVlwc0csRUFBSXE3QixRQUFTcEQsRUFBUzF6QyxLQUFNMHpDLEVBQVMvK0IsS0FDdkVvMUcsRUFBWXQzRyxRQUFRa0ksTUFBSyxXQUNyQis0QixFQUFTcTJFLFlBQWNBLEVBQ3ZCcjJFLEVBQVNtUCxTQUFXa25FLEVBQVlsbkUsU0FDaEM3aEQsR0FDSixHQU5BLENBT0osR0FqREEsTUFGSUEsR0FvRFIsRUFNQXFvSCxFQUFrQlMsZ0JBQWtCLFNBQVVwMkUsRUFBVS90QixHQUVwRCxPQUFJK3RCLEVBQVN4dUIsVUFDRnd1QixFQUFTMXpDLEtBQUt1b0gsS0FBS3I5QixNQUV2QixXQUFZeDNDLEVBQVMvK0IsSUFBSTdGLFFBQVE2VyxFQUFTLElBQUsrdEIsRUFBUzF6QyxLQUFLdW9ILEtBQUtyOUIsTUFDN0UsRUFFQW0rQixFQUFrQjk4RSxVQUFZSixHQUFjbUIsT0FDckMrN0UsQ0FDWCxDQXZGc0MsR0NoTmxDLEdBQWdCLFNBQVMzZ0gsRUFBR3pFLEdBSTVCLE9BSEEsR0FBZ0IyRSxPQUFPODhCLGdCQUNsQixDQUFFMTdCLFVBQVcsY0FBZ0JhLE9BQVMsU0FBVW5DLEVBQUd6RSxHQUFLeUUsRUFBRXNCLFVBQVkvRixDQUFHLEdBQzFFLFNBQVV5RSxFQUFHekUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTZFLGVBQWVwRyxLQUFNZ0csRUFBRWhHLEdBQUt1QixFQUFFdkIsR0FBUSxFQUM5RSxHQUFjZ0csRUFBR3pFLEVBQzVCLEVBRUEsU0FBUyxHQUFVeUUsRUFBR3pFLEdBRWxCLFNBQVMyaEMsSUFBT2grQixLQUFLd1QsWUFBYzFTLENBQUcsQ0FEdEMsR0FBY0EsRUFBR3pFLEdBRWpCeUUsRUFBRUcsVUFBa0IsT0FBTjVFLEVBQWEyRSxPQUFPbUIsT0FBTzlGLElBQU0yaEMsRUFBRy84QixVQUFZNUUsRUFBRTRFLFVBQVcsSUFBSSs4QixFQUNuRixDQUVBLElBQUksR0FBWSxJQUFJN00sR0FLaEJpeEYsR0FBOEIsU0FBVWxrRixHQU94QyxTQUFTa2tGLEVBQWFsekUsRUFBU2w0QixFQUFPQyxRQUNwQixJQUFWRCxJQUFvQkEsRUFBUSxVQUNqQixJQUFYQyxJQUFxQkEsRUFBUyxLQUNsQyxJQUFJa25CLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU1rdkMsSUFBWWx2QyxLQWMxQyxPQWJBbStCLEVBQU1ra0YsY0FBZ0IsSUFBSS9uRixHQUUxQjZELEVBQU1pRyxPQUFTcHRCLEVBRWZtbkIsRUFBTWtHLFFBQVVwdEIsRUFDaEJrbkIsRUFBTW1hLFNBQVduYSxFQUFNK1EsUUFBUW9KLFVBQVksSUFBSW9kLEdBQWN4bUIsR0FNN0QvUSxFQUFNd3hDLFdBQWEsZUFDbkJ4eEMsRUFBTW1rRixpQkFBa0IsRUFDakJua0YsQ0FDWCxDQW9LQSxPQTVMQSxHQUFVaWtGLEVBQWNsa0YsR0F5QnhCbDlCLE9BQU9rUSxlQUFla3hHLEVBQWFuaEgsVUFBVyxjQUFlLENBT3pEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLczRDLFNBQVNxZCxXQUN6QixFQUNBem1DLElBQUssU0FBVTluQixHQUNYcEgsS0FBS3M0QyxTQUFTcWQsWUFBY3Z1RCxFQUM1QnBILEtBQUtzNEMsU0FBU3pRLFFBQU8sRUFDekIsRUFDQTEyQixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFla3hHLEVBQWFuaEgsVUFBVyxZQUFhLENBRXZEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLcWlILGNBQWNuc0YsS0FDOUIsRUFDQWhILElBQUssU0FBVTluQixHQUNYcEgsS0FBS3FpSCxjQUFjbnNGLE1BQU03RSxTQUFTanFCLEVBQ3RDLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFla3hHLEVBQWFuaEgsVUFBVyxlQUFnQixDQUUxRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3FpSCxjQUFjM3FGLFFBQzlCLEVBQ0F4SSxJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUtxaUgsY0FBYzNxRixTQUFTckcsU0FBU2pxQixFQUN6QyxFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUtsQml6RixFQUFhbmhILFVBQVUyd0csaUJBQW1CLFdBQ2xDNXhHLEtBQUtzNEMsV0FDTHQ0QyxLQUFLczRDLFNBQVNwSixRQUFVbHZDLEtBQUtzaUQsVUFFakN0aUQsS0FBS3V4RyxZQUFjLFFBQ3ZCLEVBS0E2USxFQUFhbmhILFVBQVV1aUMsUUFBVSxTQUFVSCxHQUV2QyxJQUFJNkwsRUFBVWx2QyxLQUFLc2lELFNBQ2RwVCxHQUFZQSxFQUFRbkMsUUFHekIvc0MsS0FBS3FpSCxjQUFjam5GLHVCQUNuQnA3QixLQUFLczRDLFNBQVN6USxTQUNkeEUsRUFBU1UsTUFBTWlmLGtCQUFrQjNmLEVBQVMycEMsUUFBUWh0RSxLQUFLMnZFLGFBQ3ZEdHNDLEVBQVMycEMsUUFBUWh0RSxLQUFLMnZFLFlBQVlqc0MsT0FBTzFqQyxNQUM3QyxFQUVBb2lILEVBQWFuaEgsVUFBVWlpQyxpQkFBbUIsV0FDdEMsSUFBSTNxQyxFQUFPeUgsS0FBS29rQyxRQUFVcGtDLEtBQUtxeEcsUUFBUS83RSxHQUNuQzk4QixFQUFPd0gsS0FBS3FrQyxTQUFXcmtDLEtBQUtxeEcsUUFBUTk3RSxHQUNwQzk4QixFQUFPdUgsS0FBS29rQyxRQUFVLEVBQUlwa0MsS0FBS3F4RyxRQUFRLzdFLElBQ3ZDNThCLEVBQU9zSCxLQUFLcWtDLFNBQVcsRUFBSXJrQyxLQUFLcXhHLFFBQVE5N0UsSUFDNUN2MUIsS0FBS2cvQixRQUFRMUMsU0FBU3Q4QixLQUFLNHhCLFVBQVdyNUIsRUFBTUMsRUFBTUMsRUFBTUMsRUFDNUQsRUFNQTBwSCxFQUFhbmhILFVBQVVnL0IsZUFBaUIsU0FBVXBFLEdBRTlDLE9BQTZCLElBQXpCNzdCLEtBQUsyUixTQUFTNVksUUFDZGlILEtBQUtnL0IsUUFBUXptQyxLQUFPeUgsS0FBS29rQyxRQUFVcGtDLEtBQUtxeEcsUUFBUS83RSxHQUNoRHQxQixLQUFLZy9CLFFBQVF4bUMsS0FBT3dILEtBQUtxa0MsU0FBV3JrQyxLQUFLcXhHLFFBQVE5N0UsR0FDakR2MUIsS0FBS2cvQixRQUFRdm1DLEtBQU91SCxLQUFLb2tDLFFBQVUsRUFBSXBrQyxLQUFLcXhHLFFBQVEvN0UsSUFDcER0MUIsS0FBS2cvQixRQUFRdG1DLEtBQU9zSCxLQUFLcWtDLFNBQVcsRUFBSXJrQyxLQUFLcXhHLFFBQVE5N0UsSUFDaERzRyxJQUNJNzdCLEtBQUtvL0IsbUJBQ05wL0IsS0FBS28vQixpQkFBbUIsSUFBSTVOLElBRWhDcUssRUFBTzc3QixLQUFLby9CLGtCQUVUcC9CLEtBQUtnL0IsUUFBUWhELGFBQWFILElBRTlCcUMsRUFBT2o5QixVQUFVZy9CLGVBQWV4OUIsS0FBS3pDLEtBQU02N0IsRUFDdEQsRUFNQXVtRixFQUFhbmhILFVBQVVzN0UsY0FBZ0IsU0FBVXBnRCxHQUM3Q244QixLQUFLdTZCLGVBQWV2RSxhQUFhbUcsRUFBTyxJQUN4QyxJQUFJbmxCLEVBQVFoWCxLQUFLb2tDLE9BQ2JudEIsRUFBU2pYLEtBQUtxa0MsUUFDZHRuQyxHQUFNaWEsRUFBUWhYLEtBQUtrNEMsT0FBTzVpQixHQUM5QixHQUFJLEdBQVUzOEIsR0FBS29FLEdBQU0sR0FBVXBFLEVBQUlvRSxFQUFLaWEsRUFBTyxDQUMvQyxJQUFJaGEsR0FBTWlhLEVBQVNqWCxLQUFLazRDLE9BQU8zaUIsR0FDL0IsR0FBSSxHQUFVMzhCLEdBQUtvRSxHQUFNLEdBQVVwRSxFQUFJb0UsRUFBS2lhLEVBQ3hDLE9BQU8sQ0FFZixDQUNBLE9BQU8sQ0FDWCxFQVVBbXJHLEVBQWFuaEgsVUFBVXN0QixRQUFVLFNBQVV6a0IsR0FDdkNvMEIsRUFBT2o5QixVQUFVc3RCLFFBQVE5ckIsS0FBS3pDLEtBQU04SixHQUNwQzlKLEtBQUtxaUgsY0FBZ0IsS0FDckJyaUgsS0FBS3M0QyxTQUFXLElBQ3BCLEVBV0E4cEUsRUFBYTk4RyxLQUFPLFNBQVVELEVBQVF5RSxHQUlsQyxPQUFPLElBQUlzNEcsRUFISS84RyxhQUFrQjJ5QyxHQUMzQjN5QyxFQUNBMnlDLEdBQVExeUMsS0FBS0QsRUFBUXlFLEdBQ01BLEVBQVFrTixNQUFPbE4sRUFBUW1OLE9BQzVELEVBQ0FqVyxPQUFPa1EsZUFBZWt4RyxFQUFhbmhILFVBQVcsUUFBUyxDQUVuRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS29rQyxNQUNoQixFQUNBbFYsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLb2tDLE9BQVNoOUIsQ0FDbEIsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVreEcsRUFBYW5oSCxVQUFXLFNBQVUsQ0FFcERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtxa0MsT0FDaEIsRUFDQW5WLElBQUssU0FBVTluQixHQUNYcEgsS0FBS3FrQyxRQUFVajlCLENBQ25CLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRVhpekYsQ0FDWCxDQTlMaUMsQ0E4TC9CaFIsSUFJRW1SLEdBQWUsc2RBUWYsR0FBVSxJQUFJL3NGLEdBT2RndEYsR0FBc0MsU0FBVXRrRixHQU1oRCxTQUFTc2tGLEVBQXFCbi9FLEdBQzFCLElBQUlsRixFQUFRRCxFQUFPejdCLEtBQUt6QyxLQUFNcWpDLElBQWFyakMsS0FVM0MsT0FSQXFqQyxFQUFTa2hCLFFBQVFMLGNBQWNwcUIsSUFBSXFFLEdBQ25DQSxFQUFNcWhCLEtBQU8sSUFBSTFCLEdBTWpCM2YsRUFBTWlpQixNQUFRdVUsR0FBTVEsUUFDYmgzQixDQUNYLENBa0ZBLE9BbkdBLEdBQVVxa0YsRUFBc0J0a0YsR0FtQmhDc2tGLEVBQXFCdmhILFVBQVVpakQsY0FBZ0IsV0FDM0MsSUFBSTdnQixFQUFXcmpDLEtBQUtxakMsU0FDaEJrYixFQUFXLENBQUU4YixRQUFTaDNCLEVBQVN1YyxnQkFDbkM1L0MsS0FBS3lpSCxhQUFlbHVELEdBQU9qdkQsS0FBS2k5RyxHQXhDaEIsdVNBd0NpRGhrRSxHQUNqRXYrQyxLQUFLNGhELE9BQVN2ZSxFQUFTOWhDLFFBQVFxaUQsYUFBZSxFQUN4QzJRLEdBQU9qdkQsS0FwQ0YsdWNBRUUsOHBCQWtDbUNpNUMsR0FDMUNnVyxHQUFPanZELEtBQUtpOUcsR0F2Q0wsbzJCQXVDbUNoa0UsRUFDcEQsRUFJQWlrRSxFQUFxQnZoSCxVQUFVeWlDLE9BQVMsU0FBVWcvRSxHQUM5QyxJQUFJci9FLEVBQVdyakMsS0FBS3FqQyxTQUNoQm1jLEVBQU94L0MsS0FBS3cvQyxLQUNaOStDLEVBQVc4K0MsRUFBSzkrQyxTQUNwQkEsRUFBUyxHQUFLQSxFQUFTLEdBQU1naUgsRUFBUyxRQUFLQSxFQUFHeHFFLE9BQU92L0MsRUFDckQrSCxFQUFTLEdBQUtBLEVBQVMsR0FBS2dpSCxFQUFHcitFLFNBQVdxK0UsRUFBR3hxRSxPQUFPdC9DLEVBQ3BEOEgsRUFBUyxHQUFLQSxFQUFTLEdBQU1naUgsRUFBUyxRQUFLLEVBQU1BLEVBQUd4cUUsT0FBT3YvQyxHQUMzRCtILEVBQVMsR0FBS0EsRUFBUyxHQUFLZ2lILEVBQUdyK0UsU0FBVyxFQUFNcStFLEVBQUd4cUUsT0FBT3QvQyxHQUMxRCxJQUFJK3BILEVBQVVELEVBQUdKLGdCQUFrQkksRUFBR3hxRSxPQUFPdi9DLEVBQUksRUFDN0NpcUgsRUFBVUYsRUFBR0osZ0JBQWtCSSxFQUFHeHFFLE9BQU90L0MsRUFBSSxHQUNqRDhILEVBQVc4K0MsRUFBS3pCLEtBQ1AsR0FBS3I5QyxFQUFTLElBQU1paUgsRUFDN0JqaUgsRUFBUyxHQUFLQSxFQUFTLElBQU1raUgsRUFDN0JsaUgsRUFBUyxHQUFLQSxFQUFTLEdBQUssRUFBTWlpSCxFQUNsQ2ppSCxFQUFTLEdBQUtBLEVBQVMsR0FBSyxFQUFNa2lILEVBQ2xDcGpFLEVBQUtwQixhQUNMLElBQUlyRyxFQUFNMnFFLEVBQUdwZ0UsU0FDVHVnRSxFQUFVOXFFLEVBQUk1TixZQUNkemUsRUFBZ0JtM0YsRUFBUTUzRSxVQUFZLEVBQ3BDbFosRUFBSzJ3RixFQUFHTCxjQUFjN25GLGVBQ3RCc29GLEVBQUtKLEVBQUdwcUUsU0FDUjJkLEVBQVc0c0QsRUFBUXAyRSxjQUNoQnNMLEVBQUlWLE1BQU1yZ0MsUUFBVTZyRyxFQUFRN3JHLE9BQVMrZ0MsRUFBSVYsTUFBTXBnQyxTQUFXNHJHLEVBQVE1ckcsT0FFckVnL0MsSUFDSzRzRCxFQUFRbDJFLFlBQVl0SixFQUFTOGdCLGFBTTlCOFIsRUFBVzRzRCxFQUFRNTJFLFdBQWE3MkIsRUFBV2tILE1BTHZDdW1HLEVBQVE1MkUsV0FBYTcyQixFQUFXa0gsUUFDaEN1bUcsRUFBUTUyRSxTQUFXNzJCLEVBQVdrM0YsU0FPMUMsSUFBSTFxRCxFQUFTcVUsRUFBV2oyRCxLQUFLeWlILGFBQWV6aUgsS0FBSzRoRCxPQUM3Q241QyxFQUFJc3ZDLEVBQUkvZ0MsTUFDUnJJLEVBQUlvcEMsRUFBSTlnQyxPQUNSK2hCLEVBQUkwcEYsRUFBR3QrRSxPQUNQMitFLEVBQUlMLEVBQUdyK0UsUUFDWCxHQUFRblYsSUFBSTZDLEVBQUczMUIsRUFBSXFNLEVBQUl1d0IsRUFBR2pILEVBQUcxMUIsRUFBSW9NLEVBQUlzNkcsRUFBR2h4RixFQUFHejFCLEVBQUlxUyxFQUFJcXFCLEVBQUdqSCxFQUFHanhCLEVBQUk2TixFQUFJbzBHLEVBQUdoeEYsRUFBRzBELEdBQUt1RCxFQUFHakgsRUFBRzJELEdBQUtxdEYsR0FNdkYsR0FBUXByRixTQUNKcytCLEVBQ0EsR0FBUTcrQixRQUFRMHJGLEVBQUdsdEQsV0FHbkJoVSxFQUFPckQsU0FBU3lrRSxVQUFZRixFQUFHbHRELFNBQVNoZ0MsU0FBUSxHQUNoRGdzQixFQUFPckQsU0FBU3NYLFlBQWNpdEQsRUFBR2p0RCxZQUNqQ2pVLEVBQU9yRCxTQUFTdVgsYUFBZWd0RCxFQUFHaHRELGNBRXRDbFUsRUFBT3JELFNBQVMwa0UsV0FBYSxHQUFRcnRGLFNBQVEsR0FDN0Nnc0IsRUFBT3JELFNBQVNvaEQsT0FBU3h6RSxHQUFzQnUyRixFQUFHMzJGLEtBQU0yMkYsRUFBR2hrRixXQUFZa2pCLEVBQU9yRCxTQUFTb2hELE9BQVFqMEUsR0FDL0ZrMkIsRUFBT3JELFNBQVMrMkIsa0JBQW9Cb3RDLEVBQUc5d0YsVUFBVTJJLGVBQWUzRSxTQUFRLEdBQ3hFZ3NCLEVBQU9yRCxTQUFTbUQsU0FBVzNKLEVBQzNCMVUsRUFBU3VlLE9BQU8xWCxLQUFLMFgsR0FDckJ2ZSxFQUFTOFosU0FBU2pULEtBQUtzVixHQUN2QngvQyxLQUFLb2dELE1BQU0zMEIsVUFBWUQsR0FBaUJrM0YsRUFBR2ozRixVQUFXQyxHQUN0RDJYLEVBQVMrYyxNQUFNbHhCLElBQUlsdkIsS0FBS29nRCxPQUN4Qi9jLEVBQVM4WixTQUFTNkUsS0FBS2hpRCxLQUFLcWpDLFNBQVMxaUIsR0FBR3NoQyxVQUFXLEVBQUcsRUFDMUQsRUFFQXVnRSxFQUFxQjc5RSxVQUFZLENBQzdCcGlDLEtBQU0sZUFDTnFFLEtBQU0yOUIsR0FBY3NyQyxnQkFFakIyeUMsQ0FDWCxDQXJHeUMsQ0FxR3ZDNy9ELElDdlVFLEdBQWdCLFNBQVM3aEQsRUFBR3pFLEdBSTVCLE9BSEEsR0FBZ0IyRSxPQUFPODhCLGdCQUNsQixDQUFFMTdCLFVBQVcsY0FBZ0JhLE9BQVMsU0FBVW5DLEVBQUd6RSxHQUFLeUUsRUFBRXNCLFVBQVkvRixDQUFHLEdBQzFFLFNBQVV5RSxFQUFHekUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTZFLGVBQWVwRyxLQUFNZ0csRUFBRWhHLEdBQUt1QixFQUFFdkIsR0FBUSxFQUM5RSxHQUFjZ0csRUFBR3pFLEVBQzVCLEVBRUEsU0FBUyxHQUFVeUUsRUFBR3pFLEdBRWxCLFNBQVMyaEMsSUFBT2grQixLQUFLd1QsWUFBYzFTLENBQUcsQ0FEdEMsR0FBY0EsRUFBR3pFLEdBRWpCeUUsRUFBRUcsVUFBa0IsT0FBTjVFLEVBQWEyRSxPQUFPbUIsT0FBTzlGLElBQU0yaEMsRUFBRy84QixVQUFZNUUsRUFBRTRFLFVBQVcsSUFBSSs4QixFQUNuRixDQU1BLElBQUlrbEYsR0FBOEIsV0FLOUIsU0FBU0EsRUFBYWpsRSxFQUFVM0YsR0FDNUJ0NEMsS0FBS2krQyxTQUFXQSxFQUNoQmorQyxLQUFLczRDLFNBQVdBLEVBQ2hCdDRDLEtBQUs1SCxLQUFPLEtBQ1o0SCxLQUFLbWpILGlCQUFtQixFQUN4Qm5qSCxLQUFLb2pILGtCQUFvQixFQUN6QnBqSCxLQUFLeTRDLFVBQVksQ0FDckIsQ0FvQkEsT0FmQXlxRSxFQUFhamlILFVBQVU0bUMsT0FBUyxTQUFVc3VCLEdBQ3RDLEdBQUtBLEdBQ0VuMkQsS0FBS21qSCxrQkFBb0JuakgsS0FBS2krQyxTQUFTeEYsV0FDdkN6NEMsS0FBS29qSCxtQkFBcUJwakgsS0FBS3M0QyxTQUFTRyxVQUYvQyxDQUtBejRDLEtBQUttakgsZ0JBQWtCbmpILEtBQUtpK0MsU0FBU3hGLFVBQ3JDejRDLEtBQUtvakgsaUJBQW1CcGpILEtBQUtzNEMsU0FBU0csVUFDdEMsSUFBSXJnRCxFQUFPNEgsS0FBS2krQyxTQUFTN2xELEtBQ3BCNEgsS0FBSzVILE1BQVE0SCxLQUFLNUgsS0FBS1csU0FBV1gsRUFBS1csU0FDeENpSCxLQUFLNUgsS0FBTyxJQUFJcWUsYUFBYXJlLEVBQUtXLFNBRXRDaUgsS0FBS3M0QyxTQUFTNGQsWUFBWTk5RCxFQUFNNEgsS0FBSzVILE1BQ3JDNEgsS0FBS3k0QyxXQVJMLENBU0osRUFDT3lxRSxDQUNYLENBakNpQyxHQW1DN0IsR0FBWSxJQUFJL3hGLEdBQ2hCa3lGLEdBQWMsSUFBSWx2RixHQWdCbEJtdkYsR0FBc0IsU0FBVXBsRixHQVNoQyxTQUFTb2xGLEVBQUtubUUsRUFBVXlFLEVBQVF4QixFQUFPZ3RELFFBQ2xCLElBQWJBLElBQXVCQSxFQUFXdDRGLEVBQVdtdEMsV0FDakQsSUFBSTlqQixFQUFRRCxFQUFPejdCLEtBQUt6QyxPQUFTQSxLQWNqQyxPQWJBbStCLEVBQU1nZixTQUFXQSxFQUNqQmhmLEVBQU15akIsT0FBU0EsRUFDZnpqQixFQUFNaWlCLE1BQVFBLEdBQVN1VSxHQUFNUSxRQUM3QmgzQixFQUFNaXZFLFNBQVdBLEVBQ2pCanZFLEVBQU0vakMsTUFBUSxFQUNkK2pDLEVBQU05UixLQUFPLEVBQ2I4UixFQUFNNGYsSUFBTSxLQUNaNWYsRUFBTTIwQyxRQUFVLEtBQ2hCMzBDLEVBQU0xQixXQUFhLElBQUlobUIsYUFBYSxHQUNwQzBuQixFQUFNb2xGLGFBQWUsRUFDckJwbEYsRUFBTXN3RSxjQUFnQixFQUN0QnR3RSxFQUFNd3pFLGFBQWVsM0YsR0FBU3NDLGFBQzlCb2hCLEVBQU1xbEYsU0FBVyxLQUNWcmxGLENBQ1gsQ0FrU0EsT0EzVEEsR0FBVW1sRixFQUFNcGxGLEdBMEJoQmw5QixPQUFPa1EsZUFBZW95RyxFQUFLcmlILFVBQVcsV0FBWSxDQU05Q21RLElBQUssV0FDRCxPQUFPcFIsS0FBS3d1RyxTQUNoQixFQUNBdC9FLElBQUssU0FBVTluQixHQUNQcEgsS0FBS3d1RyxZQUFjcG5HLElBR25CcEgsS0FBS3d1RyxZQUNMeHVHLEtBQUt3dUcsVUFBVWh5RCxXQUNpQixJQUE1Qng4QyxLQUFLd3VHLFVBQVVoeUQsVUFDZng4QyxLQUFLd3VHLFVBQVUvakUsV0FHdkJ6cUMsS0FBS3d1RyxVQUFZcG5HLEVBQ2JwSCxLQUFLd3VHLFdBQ0x4dUcsS0FBS3d1RyxVQUFVaHlELFdBRW5CeDhDLEtBQUt1akgsYUFBZSxFQUN4QixFQUNBcHlHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVveUcsRUFBS3JpSCxVQUFXLFdBQVksQ0FLOUNtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUttOUMsU0FBU2pCLFFBQVEsRUFDakMsRUFDQS9xQyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlb3lHLEVBQUtyaUgsVUFBVyxpQkFBa0IsQ0FNcERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUttOUMsU0FBU2pCLFFBQVEsRUFDakMsRUFDQS9xQyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlb3lHLEVBQUtyaUgsVUFBVyxXQUFZLENBQzlDbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLNGhELE1BQ2hCLEVBRUExeUIsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLNGhELE9BQVN4NkMsQ0FDbEIsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVveUcsRUFBS3JpSCxVQUFXLFlBQWEsQ0FDL0NtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUtvZ0QsTUFBTTMwQixTQUN0QixFQU1BeUQsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLb2dELE1BQU0zMEIsVUFBWXJrQixDQUMzQixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZW95RyxFQUFLcmlILFVBQVcsY0FBZSxDQUNqRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBSzJ4RyxZQUNoQixFQVFBemlGLElBQUssU0FBVTluQixHQUNQcEgsS0FBSzJ4RyxlQUFpQnZxRyxJQUN0QnBILEtBQUt5dUcsY0FBZ0IsR0FFekJ6dUcsS0FBSzJ4RyxhQUFldnFHLENBQ3hCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlb3lHLEVBQUtyaUgsVUFBVyxPQUFRLENBUTFDbVEsSUFBSyxXQUNELE1BQU8sU0FBVXBSLEtBQUs0aEQsT0FBUzVoRCxLQUFLNGhELE9BQU83MUIsS0FBTyxJQUN0RCxFQUNBbUQsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLNGhELE9BQU83MUIsS0FBTzNrQixDQUN2QixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZW95RyxFQUFLcmlILFVBQVcsVUFBVyxDQUU3Q21RLElBQUssV0FDRCxNQUFPLFlBQWFwUixLQUFLNGhELE9BQVM1aEQsS0FBSzRoRCxPQUFPMVMsUUFBVSxJQUM1RCxFQUNBaGdCLElBQUssU0FBVTluQixHQUNYcEgsS0FBSzRoRCxPQUFPMVMsUUFBVTluQyxDQUMxQixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQU1sQm0wRixFQUFLcmlILFVBQVV1aUMsUUFBVSxTQUFVSCxHQUcvQixJQUFJM2lDLEVBQVdWLEtBQUttOUMsU0FBU2pCLFFBQVEsR0FBRzlqRCxLQUMzQjRILEtBQUs0aEQsT0FFUG1wRCxXQUNKL3FHLEtBQUtvdEcsV0FBYXQ0RixFQUFXbXRDLFdBQzdCdmhELEVBQVMzSCxPQUErQixFQUF0QnVxSCxFQUFLclcsZUFDMUJqdEcsS0FBS3lqSCxlQUFlcGdGLEdBR3BCcmpDLEtBQUswakgsZUFBZXJnRixFQUU1QixFQUtBaWdGLEVBQUtyaUgsVUFBVXlpSCxlQUFpQixTQUFVcmdGLEdBQ3RDLElBQUl1ZSxFQUFTNWhELEtBQUs0aEQsT0FDbEJBLEVBQU9oMkIsTUFBUTVyQixLQUFLMCtCLFdBQ2hCa2pCLEVBQU8vWixRQUNQK1osRUFBTy9aLFNBRVh4RSxFQUFTVSxNQUFNRixRQUVmK2QsRUFBT3JELFNBQVMrMkIsa0JBQW9CdDFFLEtBQUs0eEIsVUFBVTJJLGVBQWUzRSxTQUFRLEdBQzFFeU4sRUFBU3VlLE9BQU8xWCxLQUFLMFgsR0FFckJ2ZSxFQUFTK2MsTUFBTWx4QixJQUFJbHZCLEtBQUtvZ0QsT0FFeEIvYyxFQUFTOFosU0FBU2pULEtBQUtscUMsS0FBS205QyxTQUFVeUUsR0FFdEN2ZSxFQUFTOFosU0FBUzZFLEtBQUtoaUQsS0FBS290RyxTQUFVcHRHLEtBQUtxc0IsS0FBTXJzQixLQUFLNUYsTUFBTzRGLEtBQUttOUMsU0FBU1osY0FDL0UsRUFLQSttRSxFQUFLcmlILFVBQVV3aUgsZUFBaUIsU0FBVXBnRixHQUN0QyxJQUFJOFosRUFBV245QyxLQUFLbTlDLFNBQ2hCeUUsRUFBUzVoRCxLQUFLNGhELE9BQ2RBLEVBQU90SixXQUNQc0osRUFBT3RKLFNBQVN6USxTQUNoQjduQyxLQUFLMmpILGdCQUdUM2pILEtBQUtzd0csb0JBQ0x0d0csS0FBSzh5RSxRQUFVMzFCLEVBQVNmLFlBQVloa0QsS0FDcEM0SCxLQUFLKzBFLFNBQVduekIsRUFBT216QixTQUN2Qi8wRSxLQUFLc2lELFNBQVdWLEVBQU8xUyxRQUN2QixJQUFJeWdDLEVBQWEzdkUsS0FBSzRqSCxTQUFTajBDLFdBQy9CdHNDLEVBQVNVLE1BQU1pZixrQkFBa0IzZixFQUFTMnBDLFFBQVEyQyxJQUNsRHRzQyxFQUFTMnBDLFFBQVEyQyxHQUFZanNDLE9BQU8xakMsS0FDeEMsRUFFQXNqSCxFQUFLcmlILFVBQVVxdkcsa0JBQW9CLFdBQy9CLElBQ0l1VCxFQURXN2pILEtBQUttOUMsU0FDVWpCLFFBQVEsR0FDbEN4N0MsRUFBV21qSCxFQUFlenJILEtBQzFCMHJILEVBQWdCRCxFQUFlcHJFLFVBQ25DLEdBQUlxckUsSUFBa0I5akgsS0FBS3VqSCxhQUFldmpILEtBQUt5dUcsZUFBaUJ6dUcsS0FBSzR4QixVQUFVc0osU0FBL0UsQ0FHQWw3QixLQUFLeXVHLGFBQWV6dUcsS0FBSzR4QixVQUFVc0osU0FDL0JsN0IsS0FBS3k4QixXQUFXMWpDLFNBQVcySCxFQUFTM0gsU0FDcENpSCxLQUFLeThCLFdBQWEsSUFBSWhtQixhQUFhL1YsRUFBUzNILFNBVWhELElBUkEsSUFBSXlpQyxFQUFLeDdCLEtBQUs0eEIsVUFBVTJJLGVBQ3BCbitCLEVBQUlvL0IsRUFBR3AvQixFQUNQQyxFQUFJbS9CLEVBQUduL0IsRUFDUEMsRUFBSWsvQixFQUFHbC9CLEVBQ1B3RSxFQUFJMDZCLEVBQUcxNkIsRUFDUDIwQixFQUFLK0YsRUFBRy9GLEdBQ1JDLEVBQUs4RixFQUFHOUYsR0FDUitHLEVBQWF6OEIsS0FBS3k4QixXQUNibmpDLEVBQUksRUFBR0EsRUFBSW1qQyxFQUFXMWpDLE9BQVMsRUFBR08sSUFBSyxDQUM1QyxJQUFJWCxFQUFJK0gsRUFBYyxFQUFKcEgsR0FDZFYsRUFBSThILEVBQWMsRUFBSnBILEVBQVMsR0FDM0JtakMsRUFBZ0IsRUFBSm5qQyxHQUFXOEMsRUFBSXpELEVBQU0yRCxFQUFJMUQsRUFBSzY4QixFQUMxQ2dILEVBQWdCLEVBQUpuakMsRUFBUyxHQUFNK0MsRUFBSTFELEVBQU1tSSxFQUFJbEksRUFBSzg4QixDQUNsRCxDQUNBLEdBQUkxMUIsS0FBSzJ4RyxhQUNMLEtBQUlqakYsRUFBYWpVLEdBQVNLLFdBQzFCLElBQVN4aEIsRUFBSSxFQUFHQSxFQUFJbWpDLEVBQVcxakMsU0FBVU8sRUFDckNtakMsRUFBV25qQyxHQUFLVyxLQUFLZzFCLE9BQU93TixFQUFXbmpDLEdBQUtvMUIsRUFBYSxHQUFLQSxFQUY5QixDQUt4QzF1QixLQUFLdWpILFlBQWNPLENBekJuQixDQTBCSixFQUVBUixFQUFLcmlILFVBQVUwaUgsYUFBZSxXQUMxQixJQUFJSSxFQUFVL2pILEtBQUttOUMsU0FBU2pCLFFBQVEsR0FDaEMwRixFQUFTNWhELEtBQUs0aEQsT0FDYkEsRUFBT3RKLFNBQVMyZCxTQVFqQmoyRCxLQUFLKzlDLElBQU1nbUUsRUFBUTNySCxNQVBkNEgsS0FBS3dqSCxXQUNOeGpILEtBQUt3akgsU0FBVyxJQUFJTixHQUFhYSxFQUFTbmlFLEVBQU90SixXQUVyRHQ0QyxLQUFLd2pILFNBQVMzN0UsU0FDZDduQyxLQUFLKzlDLElBQU0vOUMsS0FBS3dqSCxTQUFTcHJILEtBS2pDLEVBS0FrckgsRUFBS3JpSCxVQUFVaWlDLGlCQUFtQixXQUM5QmxqQyxLQUFLc3dHLG9CQUNMdHdHLEtBQUtnL0IsUUFBUXhDLGNBQWN4OEIsS0FBS3k4QixXQUFZLEVBQUd6OEIsS0FBS3k4QixXQUFXMWpDLE9BQ25FLEVBTUF1cUgsRUFBS3JpSCxVQUFVczdFLGNBQWdCLFNBQVVwZ0QsR0FDckMsSUFBS244QixLQUFLNHpCLFlBQVlqQyxTQUFTd0ssRUFBTXhqQyxFQUFHd2pDLEVBQU12akMsR0FDMUMsT0FBTyxFQUVYb0gsS0FBS3U2QixlQUFldkUsYUFBYW1HLEVBQU8sSUFNeEMsSUFMQSxJQUFJejdCLEVBQVdWLEtBQUttOUMsU0FBU04sVUFBVSxtQkFBbUJ6a0QsS0FDdERnOEIsRUFBU2l2RixHQUFZanZGLE9BQ3JCMCtDLEVBQVU5eUUsS0FBS205QyxTQUFTSixXQUFXM2tELEtBQ25DbUIsRUFBTXU1RSxFQUFRLzVFLE9BQ2Q2N0YsRUFBeUIsSUFBbEI1MEYsS0FBS290RyxTQUFpQixFQUFJLEVBQzVCOXpHLEVBQUksRUFBR0EsRUFBSSxFQUFJQyxFQUFLRCxHQUFLczdGLEVBQU0sQ0FDcEMsSUFBSW92QixFQUFvQixFQUFibHhDLEVBQVF4NUUsR0FDZjJxSCxFQUF3QixFQUFqQm54QyxFQUFReDVFLEVBQUksR0FDbkI0cUgsRUFBd0IsRUFBakJweEMsRUFBUXg1RSxFQUFJLEdBT3ZCLEdBTkE4NkIsRUFBTyxHQUFLMXpCLEVBQVNzakgsR0FDckI1dkYsRUFBTyxHQUFLMXpCLEVBQVNzakgsRUFBTyxHQUM1QjV2RixFQUFPLEdBQUsxekIsRUFBU3VqSCxHQUNyQjd2RixFQUFPLEdBQUsxekIsRUFBU3VqSCxFQUFPLEdBQzVCN3ZGLEVBQU8sR0FBSzF6QixFQUFTd2pILEdBQ3JCOXZGLEVBQU8sR0FBSzF6QixFQUFTd2pILEVBQU8sR0FDeEJiLEdBQVkxeEYsU0FBUyxHQUFVaDVCLEVBQUcsR0FBVUMsR0FDNUMsT0FBTyxDQUVmLENBQ0EsT0FBTyxDQUNYLEVBQ0EwcUgsRUFBS3JpSCxVQUFVc3RCLFFBQVUsU0FBVXprQixHQUMvQm8wQixFQUFPajlCLFVBQVVzdEIsUUFBUTlyQixLQUFLekMsS0FBTThKLEdBQ2hDOUosS0FBS21rSCxpQkFDTG5rSCxLQUFLbWtILGVBQWU1MUYsVUFDcEJ2dUIsS0FBS21rSCxlQUFpQixNQUUxQm5rSCxLQUFLbTlDLFNBQVcsS0FDaEJuOUMsS0FBSzRoRCxPQUFTLEtBQ2Q1aEQsS0FBS29nRCxNQUFRLEtBQ2JwZ0QsS0FBSys5QyxJQUFNLEtBQ1gvOUMsS0FBSzh5RSxRQUFVLEtBQ2Y5eUUsS0FBS3k4QixXQUFhLElBQ3RCLEVBRUE2bUYsRUFBS3JXLGVBQWlCLElBQ2ZxVyxDQUNYLENBN1R5QixDQTZUdkIxaEYsSUFVRXdpRixHQUE4QixTQUFVbG1GLEdBV3hDLFNBQVNrbUYsRUFBYTFpRSxFQUFVNTNDLEdBQzVCLElBQUlxMEIsRUFBUW4rQixLQUNSdStDLEVBQVcsQ0FDWG1ELFNBQVVBLEVBQ1Y5MUIsTUFBTyxFQUNQeTRGLGVBQWdCN3VGLEdBQU9rRyxTQUN2QmlrRSxPQUFRLElBQUlscEYsYUFBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLEtBa0J2QyxPQWZBM00sRUFBVTlJLE9BQU9xRCxPQUFPLENBQ3BCMG5CLEtBQU0sU0FDTkgsTUFBTyxFQUNQK2pELFdBQVksU0FDYjdsRSxJQUNTeTBDLFVBQ1J2OUMsT0FBT3FELE9BQU9rNkMsRUFBVXowQyxFQUFReTBDLFdBRXBDcGdCLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU04SixFQUFRKzNDLFNBQVdrUyxHQUFRenVELEtBbENoRCw4WUFGRSxnTEFvQ3NFaTVDLElBQWF2K0MsTUFDcEZza0gsYUFBYyxFQUNwQm5tRixFQUFNbWEsU0FBVyxJQUFJb2QsR0FBY2hVLEdBQ25DdmpCLEVBQU00c0UsZUFBZ0NwbkcsSUFBcEJtRyxFQUFRKzNDLFFBQzFCMWpCLEVBQU13eEMsV0FBYTdsRSxFQUFRNmxFLFdBQzNCeHhDLEVBQU1wUyxLQUFPamlCLEVBQVFpaUIsS0FDckJvUyxFQUFNdlMsTUFBUTloQixFQUFROGhCLE1BQ2Z1UyxDQUNYLENBZ0VBLE9BbkdBLEdBQVVpbUYsRUFBY2xtRixHQW9DeEJsOUIsT0FBT2tRLGVBQWVrekcsRUFBYW5qSCxVQUFXLFVBQVcsQ0FFckRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt1K0MsU0FBU21ELFFBQ3pCLEVBQ0F4eUIsSUFBSyxTQUFVOW5CLEdBQ1BwSCxLQUFLdStDLFNBQVNtRCxXQUFhdDZDLEtBQ3RCcEgsS0FBS3UrQyxTQUFTbUQsU0FBU3ZYLFlBQVljLFlBQWU3akMsRUFBTStpQyxZQUFZYyxZQUNyRWpyQyxLQUFLc2tILGFBQWMsR0FFdkJ0a0gsS0FBS3UrQyxTQUFTbUQsU0FBV3Q2QyxFQUN6QnBILEtBQUtzNEMsU0FBU3BKLFFBQVU5bkMsRUFFaEMsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVrekcsRUFBYW5qSCxVQUFXLFFBQVMsQ0FDbkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt1a0gsTUFDaEIsRUFLQXIxRixJQUFLLFNBQVU5bkIsR0FDUEEsSUFBVXBILEtBQUt1a0gsU0FFbkJ2a0gsS0FBS3VrSCxPQUFTbjlHLEVBQ2RwSCxLQUFLc2tILGFBQWMsRUFDdkIsRUFDQW56RyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFla3pHLEVBQWFuakgsVUFBVyxPQUFRLENBQ2xEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLdTlGLEtBQ2hCLEVBS0FydUUsSUFBSyxTQUFVOW5CLEdBQ1BBLElBQVVwSCxLQUFLdTlGLFFBRW5CdjlGLEtBQUt1OUYsTUFBUW4yRixFQUNicEgsS0FBSyswRSxVQUFZM3RFLEdBQVMsS0FBZSxNQUFSQSxLQUE0QixJQUFSQSxJQUFpQixJQUN0RXBILEtBQUtza0gsYUFBYyxFQUN2QixFQUNBbnpHLFlBQVksRUFDWmdlLGNBQWMsSUFHbEJpMUYsRUFBYW5qSCxVQUFVNG1DLE9BQVMsV0FDNUIsR0FBSTduQyxLQUFLc2tILFlBQWEsQ0FDbEJ0a0gsS0FBS3NrSCxhQUFjLEVBQ25CLElBQUluNkUsRUFBY25xQyxLQUFLa3ZDLFFBQVEvRSxZQUMvQmhlLEdBQXNCbnNCLEtBQUt1OUYsTUFBT3Y5RixLQUFLdWtILE9BQVF2a0gsS0FBS3UrQyxTQUFTb2hELE9BQVF4MUQsRUFBWWMsVUFDckYsQ0FDSWpyQyxLQUFLczRDLFNBQVN6USxXQUNkN25DLEtBQUt1K0MsU0FBUzhsRSxlQUFpQnJrSCxLQUFLczRDLFNBQVNzZCxTQUVyRCxFQUNPd3VELENBQ1gsQ0FyR2lDLENBcUcvQjd2RCxJQWlCRWl3RCxHQUE4QixTQUFVdG1GLEdBT3hDLFNBQVNzbUYsRUFBYTlqSCxFQUFVcTlDLEVBQUt4MUMsR0FDakMsSUFBSTQxQixFQUFRRCxFQUFPejdCLEtBQUt6QyxPQUFTQSxLQUM3QjZqSCxFQUFpQixJQUFJcm9FLEdBQU85NkMsR0FDNUIrakgsRUFBWSxJQUFJanBFLEdBQU91QyxHQUFLLEdBQzVCM0IsRUFBYyxJQUFJWixHQUFPanpDLEdBQU8sR0FBTSxHQUsxQyxPQUpBNDFCLEVBQU1zZSxhQUFhLGtCQUFtQm9uRSxFQUFnQixHQUFHLEVBQU81dUcsRUFBTWs1QixPQUNqRXNPLGFBQWEsZ0JBQWlCZ29FLEVBQVcsR0FBRyxFQUFPeHZHLEVBQU1rNUIsT0FDekQyTyxTQUFTVixHQUNkamUsRUFBTXVtRixXQUFhLEVBQ1p2bUYsQ0FDWCxDQWFBLE9BN0JBLEdBQVVxbUYsRUFBY3RtRixHQWlCeEJsOUIsT0FBT2tRLGVBQWVzekcsRUFBYXZqSCxVQUFXLGdCQUFpQixDQU0zRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS2s4QyxRQUFRLEdBQUd6RCxTQUMzQixFQUNBdG5DLFlBQVksRUFDWmdlLGNBQWMsSUFFWHExRixDQUNYLENBL0JpQyxDQStCL0J2b0UsSUM5aEJFLEdBQWdCLFNBQVNuN0MsRUFBR3pFLEdBSTVCLE9BSEEsR0FBZ0IyRSxPQUFPODhCLGdCQUNsQixDQUFFMTdCLFVBQVcsY0FBZ0JhLE9BQVMsU0FBVW5DLEVBQUd6RSxHQUFLeUUsRUFBRXNCLFVBQVkvRixDQUFHLEdBQzFFLFNBQVV5RSxFQUFHekUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTZFLGVBQWVwRyxLQUFNZ0csRUFBRWhHLEdBQUt1QixFQUFFdkIsR0FBUSxFQUM5RSxHQUFjZ0csRUFBR3pFLEVBQzVCLEVBYUlzb0gsR0FDQSxXQUNJM2tILEtBQUs0a0gsS0FBTyxHQUNaNWtILEtBQUsya0QsT0FBUyxHQUNkM2tELEtBQUs2a0gsS0FBTyxHQUNaN2tILEtBQUtrNEcsS0FBTyxHQUNabDRHLEtBQUs4a0gsUUFBVSxHQUNmOWtILEtBQUsra0gsY0FBZ0IsRUFDekIsRUFRQUMsR0FBNEIsV0FDNUIsU0FBU0EsSUFDVCxDQW1GQSxPQTdFQUEsRUFBV3o3RyxLQUFPLFNBQVVuUixHQUN4QixNQUF1QixpQkFBVEEsR0FBb0QsSUFBL0JBLEVBQUtpUyxRQUFRLGFBQ3BELEVBTUEyNkcsRUFBV242RyxNQUFRLFNBQVU2aUYsR0FFekIsSUFBSTluRCxFQUFROG5ELEVBQUk3L0UsTUFBTSxtQkFDbEJvM0csRUFBVSxDQUNWTCxLQUFNLEdBQ05qZ0UsT0FBUSxHQUNSa2dFLEtBQU0sR0FDTjNNLEtBQU0sR0FDTmdOLE1BQU8sR0FDUEosUUFBUyxHQUNUSyxTQUFVLEdBQ1ZKLGNBQWUsSUFFbkIsSUFBSyxJQUFJenJILEtBQUtzc0MsRUFBTyxDQUVqQixJQUFJcmpDLEVBQU9xakMsRUFBTXRzQyxHQUFHdVUsTUFBTSxhQUFhLEdBRW5DdTNHLEVBQWdCeC9FLEVBQU10c0MsR0FBR3VVLE1BQU0sb0NBRS9CdzNHLEVBQVcsQ0FBQyxFQUNoQixJQUFLLElBQUl2WixLQUFPc1osRUFBZSxDQUUzQixJQUFJdGdILEVBQVFzZ0gsRUFBY3RaLEdBQUtobkcsTUFBTSxLQUNqQ1ksRUFBTVosRUFBTSxHQUVad2dILEVBQVd4Z0gsRUFBTSxHQUFHb0MsUUFBUSxNQUFPLElBRW5DcStHLEVBQWExMEYsV0FBV3kwRixHQUV4QmwrRyxFQUFRa1AsTUFBTWl2RyxHQUFjRCxFQUFXQyxFQUMzQ0YsRUFBUzMvRyxHQUFPMEIsQ0FDcEIsQ0FFQTY5RyxFQUFRMWlILEdBQU01SSxLQUFLMHJILEVBQ3ZCLENBQ0EsSUFBSXZPLEVBQU8sSUFBSTZOLEdBZ0NmLE9BL0JBTSxFQUFRTCxLQUFLNy9HLFNBQVEsU0FBVTYvRyxHQUFRLE9BQU85TixFQUFLOE4sS0FBS2pySCxLQUFLLENBQ3pENnJILEtBQU1aLEVBQUtZLEtBQ1huNUYsS0FBTWpSLFNBQVN3cEcsRUFBS3Y0RixLQUFNLEtBQzFCLElBQ0o0NEYsRUFBUXRnRSxPQUFPNS9DLFNBQVEsU0FBVTQvQyxHQUFVLE9BQU9teUQsRUFBS255RCxPQUFPaHJELEtBQUssQ0FDL0RzNUcsV0FBWTczRixTQUFTdXBDLEVBQU9zdUQsV0FBWSxLQUN4QyxJQUNKZ1MsRUFBUUosS0FBSzkvRyxTQUFRLFNBQVU4L0csR0FBUSxPQUFPL04sRUFBSytOLEtBQUtsckgsS0FBSyxDQUN6RGtYLEdBQUl1SyxTQUFTeXBHLEVBQUtoMEcsR0FBSSxJQUN0QjQwRyxLQUFNWixFQUFLWSxNQUNYLElBQ0pSLEVBQVEvTSxLQUFLbnpHLFNBQVEsU0FBVW16RyxHQUFRLE9BQU9wQixFQUFLb0IsS0FBS3YrRyxLQUFLLENBQ3pEa1gsR0FBSXVLLFNBQVM4OEYsRUFBS3JuRyxHQUFJLElBQ3RCZzBHLEtBQU16cEcsU0FBUzg4RixFQUFLMk0sS0FBTSxJQUMxQmxzSCxFQUFHeWlCLFNBQVM4OEYsRUFBS3YvRyxFQUFHLElBQ3BCQyxFQUFHd2lCLFNBQVM4OEYsRUFBS3QvRyxFQUFHLElBQ3BCb2UsTUFBT29FLFNBQVM4OEYsRUFBS2xoRyxNQUFPLElBQzVCQyxPQUFRbUUsU0FBUzg4RixFQUFLamhHLE9BQVEsSUFDOUJ5dUcsUUFBU3RxRyxTQUFTODhGLEVBQUt3TixRQUFTLElBQ2hDQyxRQUFTdnFHLFNBQVM4OEYsRUFBS3lOLFFBQVMsSUFDaENDLFNBQVV4cUcsU0FBUzg4RixFQUFLME4sU0FBVSxLQUNsQyxJQUNKWCxFQUFRSCxRQUFRLy9HLFNBQVEsU0FBVSsvRyxHQUFXLE9BQU9oTyxFQUFLZ08sUUFBUW5ySCxLQUFLLENBQ2xFa3NILE1BQU96cUcsU0FBUzBwRyxFQUFRZSxNQUFPLElBQy9CQyxPQUFRMXFHLFNBQVMwcEcsRUFBUWdCLE9BQVEsSUFDakM3bUIsT0FBUTdqRixTQUFTMHBHLEVBQVE3bEIsT0FBUSxLQUNqQyxJQUNKZ21CLEVBQVFGLGNBQWNoZ0gsU0FBUSxTQUFVZ2hILEdBQU0sT0FBT2pQLEVBQUtpTyxjQUFjcHJILEtBQUssQ0FDekVxc0gsY0FBZTVxRyxTQUFTMnFHLEVBQUdDLGNBQWUsSUFDMUNDLFVBQVdGLEVBQUdFLFdBQ2QsSUFDR25QLENBQ1gsRUFDT2tPLENBQ1gsQ0F0RitCLEdBNEYzQmtCLEdBQTJCLFdBQzNCLFNBQVNBLElBQ1QsQ0FzRUEsT0FoRUFBLEVBQVUzOEcsS0FBTyxTQUFVblIsR0FDdkIsT0FBT0EsYUFBZ0IrdEgsYUFDaEIvdEgsRUFBS2d1SCxxQkFBcUIsUUFBUXJ0SCxRQUM0QixPQUE5RFgsRUFBS2d1SCxxQkFBcUIsUUFBUSxHQUFHeHBFLGFBQWEsT0FDN0QsRUFNQXNwRSxFQUFVcjdHLE1BQVEsU0FBVXlpRixHQVF4QixJQVBBLElBQUlsMUYsRUFBTyxJQUFJdXNILEdBQ1hDLEVBQU90M0IsRUFBSTg0QixxQkFBcUIsUUFDaEN6aEUsRUFBUzJvQyxFQUFJODRCLHFCQUFxQixVQUNsQ3ZCLEVBQU92M0IsRUFBSTg0QixxQkFBcUIsUUFDaENsTyxFQUFPNXFCLEVBQUk4NEIscUJBQXFCLFFBQ2hDdEIsRUFBVXgzQixFQUFJODRCLHFCQUFxQixXQUNuQ3JCLEVBQWdCejNCLEVBQUk4NEIscUJBQXFCLGlCQUNwQzlzSCxFQUFJLEVBQUdBLEVBQUlzckgsRUFBSzdySCxPQUFRTyxJQUM3QmxCLEVBQUt3c0gsS0FBS2pySCxLQUFLLENBQ1g2ckgsS0FBTVosRUFBS3RySCxHQUFHc2pELGFBQWEsUUFDM0J2d0IsS0FBTWpSLFNBQVN3cEcsRUFBS3RySCxHQUFHc2pELGFBQWEsUUFBUyxNQUdyRCxJQUFTdGpELEVBQUksRUFBR0EsRUFBSXFyRCxFQUFPNXJELE9BQVFPLElBQy9CbEIsRUFBS3VzRCxPQUFPaHJELEtBQUssQ0FDYnM1RyxXQUFZNzNGLFNBQVN1cEMsRUFBT3JyRCxHQUFHc2pELGFBQWEsY0FBZSxNQUduRSxJQUFTdGpELEVBQUksRUFBR0EsRUFBSXVySCxFQUFLOXJILE9BQVFPLElBQzdCbEIsRUFBS3lzSCxLQUFLbHJILEtBQUssQ0FDWGtYLEdBQUl1SyxTQUFTeXBHLEVBQUt2ckgsR0FBR3NqRCxhQUFhLE1BQU8sS0FBTyxFQUNoRDZvRSxLQUFNWixFQUFLdnJILEdBQUdzakQsYUFBYSxVQUduQyxJQUFTdGpELEVBQUksRUFBR0EsRUFBSTQrRyxFQUFLbi9HLE9BQVFPLElBQUssQ0FDbEMsSUFBSTBMLEVBQVNrekcsRUFBSzUrRyxHQUNsQmxCLEVBQUs4L0csS0FBS3YrRyxLQUFLLENBQ1hrWCxHQUFJdUssU0FBU3BXLEVBQU80M0MsYUFBYSxNQUFPLElBQ3hDaW9FLEtBQU16cEcsU0FBU3BXLEVBQU80M0MsYUFBYSxRQUFTLEtBQU8sRUFDbkRqa0QsRUFBR3lpQixTQUFTcFcsRUFBTzQzQyxhQUFhLEtBQU0sSUFDdENoa0QsRUFBR3dpQixTQUFTcFcsRUFBTzQzQyxhQUFhLEtBQU0sSUFDdEM1bEMsTUFBT29FLFNBQVNwVyxFQUFPNDNDLGFBQWEsU0FBVSxJQUM5QzNsQyxPQUFRbUUsU0FBU3BXLEVBQU80M0MsYUFBYSxVQUFXLElBQ2hEOG9FLFFBQVN0cUcsU0FBU3BXLEVBQU80M0MsYUFBYSxXQUFZLElBQ2xEK29FLFFBQVN2cUcsU0FBU3BXLEVBQU80M0MsYUFBYSxXQUFZLElBQ2xEZ3BFLFNBQVV4cUcsU0FBU3BXLEVBQU80M0MsYUFBYSxZQUFhLEtBRTVELENBQ0EsSUFBU3RqRCxFQUFJLEVBQUdBLEVBQUl3ckgsRUFBUS9ySCxPQUFRTyxJQUNoQ2xCLEVBQUswc0gsUUFBUW5ySCxLQUFLLENBQ2Rrc0gsTUFBT3pxRyxTQUFTMHBHLEVBQVF4ckgsR0FBR3NqRCxhQUFhLFNBQVUsSUFDbERrcEUsT0FBUTFxRyxTQUFTMHBHLEVBQVF4ckgsR0FBR3NqRCxhQUFhLFVBQVcsSUFDcERxaUQsT0FBUTdqRixTQUFTMHBHLEVBQVF4ckgsR0FBR3NqRCxhQUFhLFVBQVcsTUFHNUQsSUFBU3RqRCxFQUFJLEVBQUdBLEVBQUl5ckgsRUFBY2hzSCxPQUFRTyxJQUN0Q2xCLEVBQUsyc0gsY0FBY3BySCxLQUFLLENBQ3BCc3NILFVBQVdsQixFQUFjenJILEdBQUdzakQsYUFBYSxhQUN6Q29wRSxjQUFlNXFHLFNBQVMycEcsRUFBY3pySCxHQUFHc2pELGFBQWEsaUJBQWtCLE1BR2hGLE9BQU94a0QsQ0FDWCxFQUNPOHRILENBQ1gsQ0F6RThCLEdBK0UxQkcsR0FBaUMsV0FDakMsU0FBU0EsSUFDVCxDQXNCQSxPQWhCQUEsRUFBZ0I5OEcsS0FBTyxTQUFVblIsR0FDN0IsR0FBb0IsaUJBQVRBLEdBQXFCQSxFQUFLaVMsUUFBUSxXQUFhLEVBQUcsQ0FDekQsSUFBSWlqRixHQUFNLElBQUlqOEUsV0FBVzg1RSxXQUFZRSxnQkFBZ0JqekYsRUFBTSxZQUMzRCxPQUFPOHRILEdBQVUzOEcsS0FBSytqRixFQUMxQixDQUNBLE9BQU8sQ0FDWCxFQU1BKzRCLEVBQWdCeDdHLE1BQVEsU0FBVXk3RyxHQUM5QixJQUFJaDVCLEdBQU0sSUFBSWo4RSxXQUFXODVFLFdBQVlFLGdCQUFnQmk3QixFQUFRLFlBQzdELE9BQU9KLEdBQVVyN0csTUFBTXlpRixFQUMzQixFQUNPKzRCLENBQ1gsQ0F6Qm9DLEdBNEJoQ0UsR0FBVSxDQUNWdkIsR0FDQWtCLEdBQ0FHLElBT0osU0FBU0csR0FBaUJwdUgsR0FDdEIsSUFBSyxJQUFJa0IsRUFBSSxFQUFHQSxFQUFJaXRILEdBQVF4dEgsT0FBUU8sSUFDaEMsR0FBSWl0SCxHQUFRanRILEdBQUdpUSxLQUFLblIsR0FDaEIsT0FBT211SCxHQUFRanRILEdBR3ZCLE9BQU8sSUFDWCxDQXlIQSxTQUFTbXRILEdBQVV2dkcsRUFBUTNWLEVBQVNpN0csRUFBUzdqSCxFQUFHQyxFQUFHODFCLEVBQVk0YixHQUMzRCxJQUFJNHRFLEVBQU9zRSxFQUFReHhCLEtBQ2YyckIsRUFBaUI2RixFQUFRN0YsZUFDN0JwMUcsRUFBUTAwQixVQUFVdDlCLEVBQUdDLEdBQ3JCMkksRUFBUTIwQixNQUFNeEgsRUFBWUEsR0FDMUIsSUFBSStHLEVBQUs2VSxFQUFNOG9FLGdCQUFrQixFQUM3QjE5RSxHQUFPNFUsRUFBTThvRSxnQkFBa0IsRUFTbkMsR0FSQTd4RyxFQUFRdTFHLEtBQU94c0UsRUFBTTJyRSxlQUNyQjEwRyxFQUFRMDFHLFVBQVkzc0UsRUFBTThvRSxnQkFDMUI3eEcsRUFBUTh4RyxhQUFlL29FLEVBQU0rb0UsYUFDN0I5eEcsRUFBUTJ4RyxTQUFXNW9FLEVBQU00b0UsU0FDekIzeEcsRUFBUTJrRyxXQUFhNTdELEVBQU00N0QsV0FFM0Iza0csRUFBUW80QyxVQXhIWixTQUEyQnppQyxFQUFRM1YsRUFBUytvQyxFQUFPNWIsRUFBWThuRixFQUFPZ0csR0FJbEUsSUFTSUMsRUFUQTlpRSxFQUFZclAsRUFBTTBpRSxLQUN0QixJQUFLL3BHLE1BQU11SCxRQUFRbXZDLEdBQ2YsT0FBT0EsRUFFTixHQUF5QixJQUFyQkEsRUFBVTVnRCxPQUNmLE9BQU80Z0QsRUFBVSxHQU9yQixJQUFJK2lFLEVBQXdCcHlFLEVBQWdCLFdBQUlBLEVBQU1pb0UsbUJBQXFCLEVBRXZFanlELEVBQVVoVyxFQUFNZ1csU0FBVyxFQUMzQnRwQyxFQUFTRSxFQUFPRixNQUFRMFgsRUFBY2d1RixFQUFrQyxFQUFWcDhELEVBQzlEcnBDLEVBQVVDLEVBQU9ELE9BQVN5WCxFQUFjZ3VGLEVBQWtDLEVBQVZwOEQsRUFFaEUwc0QsRUFBT3J6RCxFQUFVajNDLFFBQ2pCZ3dHLEVBQW9CcG9FLEVBQU1vb0Usa0JBQWtCaHdHLFFBRWhELElBQUtnd0csRUFBa0IzNUcsT0FFbkIsSUFEQSxJQUFJNGpILEVBQWMzUCxFQUFLajBHLE9BQVMsRUFDdkJPLEVBQUksRUFBR0EsRUFBSXFqSCxJQUFlcmpILEVBQy9CbzVHLEVBQWtCLzRHLEtBQUtMLEVBQUlxakgsR0FTbkMsR0FKQTNQLEVBQUt2K0YsUUFBUWtyQyxFQUFVLElBQ3ZCKzRELEVBQWtCamtHLFFBQVEsR0FDMUJ1K0YsRUFBS3J6RyxLQUFLZ2dELEVBQVVBLEVBQVU1Z0QsT0FBUyxJQUN2QzI1RyxFQUFrQi80RyxLQUFLLEdBQ25CMndDLEVBQU1rb0UsbUJBQXFCMUssR0FBYzJLLGdCQUFpQixDQUUxRGdLLEVBQVdsN0csRUFBUXE3RyxxQkFBcUI1bEcsRUFBUSxFQUFHc3BDLEVBQVN0cEMsRUFBUSxFQUFHQyxFQUFTcXBDLEdBT2hGLElBQUlvbUUsRUFBb0IsRUFJcEJ0SixHQUZhWixFQUFRN0YsZUFBZS9ELFNBQVd0b0UsRUFBTThvRSxpQkFFbkJuOEYsRUFDdEMsSUFBUzNkLEVBQUksRUFBR0EsRUFBSWs5RyxFQUFNejlHLE9BQVFPLElBRTlCLElBREEsSUFBSXlqSCxFQUFjUCxFQUFRdkosV0FBYTM1RyxFQUM5QjRHLEVBQUksRUFBR0EsRUFBSThzRyxFQUFLajBHLE9BQVFtSCxJQUFLLENBRWxDLElBT0lvOUcsRUFBY1AsRUFBYzlsRyxHQU5JLGlCQUF6Qnk3RixFQUFrQnh5RyxHQUNkd3lHLEVBQWtCeHlHLEdBR2xCQSxFQUFJOHNHLEVBQUtqMEcsUUFFOEJxa0gsRUFFbER1SixFQUFjMXNILEtBQUtDLElBQUl3c0gsRUFBbUJwSixHQUM5Q3FKLEVBQWMxc0gsS0FBS3dGLElBQUlrbkgsRUFBYSxHQUNwQ2xLLEVBQVNlLGFBQWFtSixFQUFhM1osRUFBSzlzRyxJQUN4Q3dtSCxFQUFvQkMsQ0FDeEIsQ0FFUixLQUNLLENBRURsSyxFQUFXbDdHLEVBQVFxN0cscUJBQXFCdDhELEVBQVNycEMsRUFBUyxFQUFHRCxFQUFRc3BDLEVBQVNycEMsRUFBUyxHQUd2RixJQUFJd21HLEVBQWtCelEsRUFBS2owRyxPQUFTLEVBQ2hDMmtILEVBQW1CLEVBQ3ZCLElBQVNwa0gsRUFBSSxFQUFHQSxFQUFJMHpHLEVBQUtqMEcsT0FBUU8sSUFBSyxDQUNsQyxJQUFJeUMsRUFFQUEsRUFEZ0MsaUJBQXpCMjJHLEVBQWtCcDVHLEdBQ2xCbzVHLEVBQWtCcDVHLEdBR2xCb2tILEVBQW1CRCxFQUU5QmhCLEVBQVNlLGFBQWF6aEgsRUFBTWl4RyxFQUFLMXpHLElBQ2pDb2tILEdBQ0osQ0FDSixDQUNBLE9BQU9qQixDQUNYLENBNkJ3Qm1LLENBQWtCMXZHLEVBQVEzVixFQUFTK29DLEVBQU81YixFQUFZLENBQUN3cEYsR0FBT3NFLEdBQ2xGajdHLEVBQVEyNUcsWUFBYzV3RSxFQUFNNm9FLE9BQ3hCN29FLEVBQU00bkUsV0FBWSxDQUNsQixJQUFJSSxFQUFrQmhvRSxFQUFNZ29FLGdCQUN4QnpuRixFQUFNUixHQUFtQyxpQkFBcEJpb0YsRUFBK0JBLEVBQWtCM25GLEdBQVcybkYsSUFDakZELEVBQWlCL25FLEVBQU0rbkUsZUFBaUIzakYsRUFDeEM2akYsRUFBcUJqb0UsRUFBTWlvRSxtQkFBcUI3akYsRUFDcERudEIsRUFBUTQ1RyxZQUFjLFFBQW1CLElBQVR0d0YsRUFBSSxHQUFXLElBQWUsSUFBVEEsRUFBSSxHQUFXLElBQWUsSUFBVEEsRUFBSSxHQUFXLElBQU15ZixFQUFNNm5FLGdCQUFrQixJQUN2SDV3RyxFQUFRNjVHLFdBQWEvSSxFQUNyQjl3RyxFQUFRODVHLGNBQWdCcGhILEtBQUtvOEIsSUFBSWlVLEVBQU04bkUsaUJBQW1CRyxFQUMxRGh4RyxFQUFRKzVHLGNBQWdCcmhILEtBQUtxOEIsSUFBSWdVLEVBQU04bkUsaUJBQW1CRyxDQUM5RCxNQUVJaHhHLEVBQVE0NUcsWUFBYyxRQUN0QjU1RyxFQUFRNjVHLFdBQWEsRUFDckI3NUcsRUFBUTg1RyxjQUFnQixFQUN4Qjk1RyxFQUFRKzVHLGNBQWdCLEVBRXhCaHhFLEVBQU02b0UsUUFBVTdvRSxFQUFNOG9FLGlCQUN0Qjd4RyxFQUFReTZHLFdBQVc5RCxFQUFNemlGLEVBQUlDLEVBQUs4bUYsRUFBUXZKLFdBQWEwRCxFQUFldUMsU0FFdEU1dUUsRUFBTTBpRSxNQUNOenJHLEVBQVFtNEcsU0FBU3hCLEVBQU16aUYsRUFBSUMsRUFBSzhtRixFQUFRdkosV0FBYTBELEVBQWV1QyxTQUV4RTMzRyxFQUFRc3RCLGFBQWEsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3BDdHRCLEVBQVFvNEMsVUFBWSxrQkFDeEIsQ0FPQSxTQUFTa3RFLEdBQXNCNzdCLEdBQzNCLE9BQU8vbkYsTUFBTXFDLEtBQU9yQyxNQUFNcUMsS0FBSzBsRixHQUFRQSxFQUFLbG1GLE1BQU0sR0FDdEQsQ0FpREEsU0FBU2dpSCxHQUFnQjNoQyxHQUNyQixPQUFPQSxFQUFJNGhDLFlBQWM1aEMsRUFBSTRoQyxZQUFZLEdBQUs1aEMsRUFBSTM5RSxXQUFXLEVBQ2pFLENBT0EsSUFBSXcvRyxHQUE0QixXQU81QixTQUFTQSxFQUFXNXVILEVBQU02aUQsRUFBVWdzRSxHQUNoQyxJQUFJdnZHLEVBQUl5dEIsRUFDSnkvRSxFQUFPeHNILEVBQUt3c0gsS0FBSyxHQUNqQmpnRSxFQUFTdnNELEVBQUt1c0QsT0FBTyxHQUNyQmtnRSxFQUFPenNILEVBQUt5c0gsS0FBSyxHQUNqQkUsRUFBZ0Izc0gsRUFBSzJzSCxjQUFjLEdBQ25DbHhHLEVBQU04YyxHQUFtQmswRixFQUFLWSxNQUM5QnlCLEVBQWUsQ0FBQyxFQUNwQmxuSCxLQUFLbW5ILGNBQWdCRixFQUNyQmpuSCxLQUFLODJHLEtBQU84TixFQUFLWSxLQUNqQnhsSCxLQUFLcXNCLEtBQU91NEYsRUFBS3Y0RixLQUNqQnJzQixLQUFLaXpHLFdBQWF0dUQsRUFBT3N1RCxXQUFhcC9GLEVBQ3RDN1QsS0FBS2tsSCxNQUFRLENBQUMsRUFDZGxsSCxLQUFLa25ILGFBQWVBLEVBR3BCLElBQUssSUFBSTV0SCxFQUFJLEVBQUdBLEVBQUlsQixFQUFLeXNILEtBQUs5ckgsT0FBUU8sSUFBSyxDQUN2QyxJQUFJeXJFLEVBQUszc0UsRUFBS3lzSCxLQUFLdnJILEdBQUl1WCxFQUFLazBELEVBQUdsMEQsR0FBSTQwRyxFQUFPMWdELEVBQUcwZ0QsS0FDN0N5QixFQUFhcjJHLEdBQU1vcUMsYUFBb0JoNEMsTUFDakNnNEMsRUFBUzNoRCxHQUFLMmhELEVBQVN3cUUsSUFFeEJWLGFBQXFELEVBQVNBLEVBQWNrQixZQUEwQyxTQUE1QmxCLEVBQWNrQixZQUN6R2lCLEVBQWFyMkcsR0FBSXM1QixZQUFZYyxVQUFZMzFCLEVBQVkraEYsdUJBQ3JENnZCLEVBQWFyMkcsR0FBSXM1QixZQUFZNEIsT0FBUzEyQixFQUFhZ2hDLElBRTNELENBRUEsSUFBUy84QyxFQUFJLEVBQUdBLEVBQUlsQixFQUFLOC9HLEtBQUtuL0csT0FBUU8sSUFBSyxDQUN2QyxJQUFJMHJFLEVBQUs1c0UsRUFBSzgvRyxLQUFLNStHLEdBQWdCOHRILEdBQVp2MkcsRUFBS20wRCxFQUFHbjBELEdBQWFtMEQsRUFBRzYvQyxNQUMzQzUvQyxFQUFLN3NFLEVBQUs4L0csS0FBSzUrRyxHQUFJWCxFQUFJc3NFLEVBQUd0c0UsRUFBR0MsRUFBSXFzRSxFQUFHcnNFLEVBQUdvZSxFQUFRaXVELEVBQUdqdUQsTUFBT0MsRUFBU2d1RCxFQUFHaHVELE9BQVF5dUcsRUFBVXpnRCxFQUFHeWdELFFBQVNDLEVBQVUxZ0QsRUFBRzBnRCxRQUFTQyxFQUFXM2dELEVBQUcyZ0QsU0FFM0lodEgsR0FBS2liLEVBQ0xtRCxHQUFTbkQsRUFDVG9ELEdBQVVwRCxFQUNWNnhHLEdBQVc3eEcsRUFDWDh4RyxHQUFXOXhHLEVBQ1greEcsR0FBWS94RyxFQUNaLElBQUlnb0IsRUFBTyxJQUFJckssSUFQZjc0QixHQUFLa2IsR0FPeUJxekcsRUFBYUUsR0FBUS92RSxNQUFNMStDLEVBQUlrYixFQUFNamIsRUFBS3N1SCxFQUFhRSxHQUFRL3ZFLE1BQU16K0MsRUFBSWliLEVBQU1tRCxFQUFPQyxHQUNwSGpYLEtBQUtrbEgsTUFBTXIwRyxHQUFNLENBQ2J3MkcsUUFBUzNCLEVBQ1Q0QixRQUFTM0IsRUFDVDRCLFNBQVUzQixFQUNWZCxRQUFTLENBQUMsRUFDVjUxRSxRQUFTLElBQUk4SSxHQUFRa3ZFLEVBQWFFLEdBQVFqOUUsWUFBYXRPLEdBQ3ZEZ3BGLEtBQU11QyxFQUVkLENBRUEsSUFBUzl0SCxFQUFJLEVBQUdBLEVBQUlsQixFQUFLMHNILFFBQVEvckgsT0FBUU8sSUFBSyxDQUMxQyxJQUFJNHJFLEVBQUs5c0UsRUFBSzBzSCxRQUFReHJILEdBQUl1c0gsRUFBUTNnRCxFQUFHMmdELE1BQU9DLEVBQVM1Z0QsRUFBRzRnRCxPQUFRN21CLEVBQVMvNUIsRUFBRys1QixPQUM1RTRtQixHQUFTaHlHLEVBQ1RpeUcsR0FBVWp5RyxFQUNWb3JGLEdBQVVwckYsRUFDTjdULEtBQUtrbEgsTUFBTVksS0FDWDlsSCxLQUFLa2xILE1BQU1ZLEdBQVFoQixRQUFRZSxHQUFTNW1CLEVBRTVDLENBRUFqL0YsS0FBS3duSCxtQkFBcUJ6QyxhQUFxRCxFQUFTQSxFQUFjaUIsY0FDdEdobUgsS0FBS3luSCxrQkFBa0wsUUFBN0p0aUYsRUFBc0csUUFBaEd6dEIsRUFBS3F0RyxhQUFxRCxFQUFTQSxFQUFja0IsaUJBQThCLElBQVB2dUcsT0FBZ0IsRUFBU0EsRUFBR2xPLHFCQUFrQyxJQUFQMjdCLEVBQWdCQSxFQUFLLE1BQ3hOLENBMFFBLE9BeFFBNmhGLEVBQVcvbEgsVUFBVXN0QixRQUFVLFdBQzNCLElBQUssSUFBSTFkLEtBQU03USxLQUFLa2xILE1BQ2hCbGxILEtBQUtrbEgsTUFBTXIwRyxHQUFJcStCLFFBQVEzZ0IsVUFDdkJ2dUIsS0FBS2tsSCxNQUFNcjBHLEdBQUlxK0IsUUFBVSxLQUU3QixJQUFLLElBQUlyK0IsS0FBTTdRLEtBQUtrbkgsYUFDWmxuSCxLQUFLbW5ILGVBQ0xubkgsS0FBS2tuSCxhQUFhcjJHLEdBQUkwZCxTQUFRLEdBRWxDdnVCLEtBQUtrbkgsYUFBYXIyRyxHQUFNLEtBRzVCN1EsS0FBS2tsSCxNQUFRLEtBQ2JsbEgsS0FBS2tuSCxhQUFlLElBQ3hCLEVBWUFGLEVBQVdVLFFBQVUsU0FBVXR2SCxFQUFNNmlELEVBQVVnc0UsR0FDM0MsSUFBSVUsRUFDSixHQUFJdnZILGFBQWdCdXNILEdBQ2hCZ0QsRUFBV3Z2SCxNQUVWLENBQ0QsSUFBSTZULEVBQVN1NkcsR0FBaUJwdUgsR0FDOUIsSUFBSzZULEVBQ0QsTUFBTSxJQUFJdWdCLE1BQU0sc0NBRXBCbTdGLEVBQVcxN0csRUFBT3BCLE1BQU16UyxFQUM1QixDQUVJNmlELGFBQW9CakQsS0FDcEJpRCxFQUFXLENBQUNBLElBRWhCLElBQUk2N0QsRUFBTyxJQUFJa1EsRUFBV1csRUFBVTFzRSxFQUFVZ3NFLEdBRTlDLE9BREFELEVBQVdZLFVBQVU5USxFQUFLQSxNQUFRQSxFQUMzQkEsQ0FDWCxFQUtBa1EsRUFBV2EsVUFBWSxTQUFVdGxILEdBQzdCLElBQUl1MEcsRUFBT2tRLEVBQVdZLFVBQVVybEgsR0FDaEMsSUFBS3UwRyxFQUNELE1BQU0sSUFBSXRxRixNQUFNLHdCQUEwQmpxQixFQUFPLEtBRXJEdTBHLEVBQUt2b0YsaUJBQ0V5NEYsRUFBV1ksVUFBVXJsSCxFQUNoQyxFQTJDQXlrSCxFQUFXMWhILEtBQU8sU0FBVS9DLEVBQU11bEgsRUFBV2grRyxHQUN6QyxJQUFLdkgsRUFDRCxNQUFNLElBQUlpcUIsTUFBTSw2Q0FFcEIsSUFBSTlVLEVBQUsxVyxPQUFPcUQsT0FBTyxDQUFDLEVBQUcyaUgsRUFBV2UsZUFBZ0JqK0csR0FBVW83RyxFQUFReHRHLEVBQUd3dEcsTUFBTzVrRSxFQUFVNW9DLEVBQUc0b0MsUUFBUzV4QixFQUFhaFgsRUFBR2dYLFdBQVlzNUYsRUFBZXR3RyxFQUFHc3dHLGFBQWNDLEVBQWdCdndHLEVBQUd1d0csY0FDbkxDLEVBOU5aLFNBQTJCaEQsR0FFRixpQkFBVkEsSUFDUEEsRUFBUSxDQUFDQSxJQUliLElBREEsSUFBSXprSCxFQUFTLEdBQ0puSCxFQUFJLEVBQUc0RyxFQUFJZ2xILEVBQU1uc0gsT0FBUU8sRUFBSTRHLEVBQUc1RyxJQUFLLENBQzFDLElBQUlpb0MsRUFBTzJqRixFQUFNNXJILEdBRWpCLEdBQUkySixNQUFNdUgsUUFBUSsyQixHQUFPLENBQ3JCLEdBQW9CLElBQWhCQSxFQUFLeG9DLE9BQ0wsTUFBTSxJQUFJeXpCLE1BQU0saUVBQW1FK1UsRUFBS3hvQyxPQUFTLEtBRXJHLElBQUlvdkgsRUFBWTVtRixFQUFLLEdBQUcvNUIsV0FBVyxHQUMvQjRnSCxFQUFVN21GLEVBQUssR0FBRy81QixXQUFXLEdBQ2pDLEdBQUk0Z0gsRUFBVUQsRUFDVixNQUFNLElBQUkzN0YsTUFBTSwwQ0FFcEIsSUFBSyxJQUFJcy9FLEVBQU1xYyxFQUFXRSxFQUFNRCxFQUFTdGMsR0FBT3VjLEVBQUt2YyxJQUNqRHJyRyxFQUFPOUcsS0FBSzRLLE9BQU9HLGFBQWFvbkcsR0FFeEMsTUFHSXJyRyxFQUFPOUcsS0FBS2lLLE1BQU1uRCxFQUFRb21ILEdBQXNCdGxGLEdBRXhELENBQ0EsR0FBc0IsSUFBbEI5Z0MsRUFBTzFILE9BQ1AsTUFBTSxJQUFJeXpCLE1BQU0sc0RBRXBCLE9BQU8vckIsQ0FDWCxDQThMd0I2bkgsQ0FBa0JwRCxHQUM5QjU2RSxFQUFRdzlFLGFBQXFCblUsR0FBWW1VLEVBQVksSUFBSW5VLEdBQVVtVSxHQUNuRTdRLEVBQVkrUSxFQUNaTCxFQUFXLElBQUloRCxHQUNuQmdELEVBQVMvQyxLQUFLLEdBQUssQ0FDZlksS0FBTWw3RSxFQUFNcW9FLFdBQ1p0bUYsS0FBTWllLEVBQU1zb0UsVUFFaEIrVSxFQUFTaGpFLE9BQU8sR0FBSyxDQUNqQnN1RCxXQUFZM29FLEVBQU1zb0UsVUFTdEIsSUFQQSxJQUVJMTdGLEVBQ0EzVixFQUNBNG9DLEVBSkFvK0UsRUFBWSxFQUNaQyxFQUFZLEVBSVpDLEVBQWdCLEVBQ2hCeHRFLEVBQVcsR0FDTjNoRCxFQUFJLEVBQUdBLEVBQUk0dUgsRUFBVW52SCxPQUFRTyxJQUFLLENBQ2xDNGQsS0FDREEsRUFBU3VELEdBQVNDLFFBQVEzRCxnQkFDbkJDLE1BQVFneEcsRUFDZjl3RyxFQUFPRCxPQUFTZ3hHLEVBQ2hCMW1ILEVBQVUyVixFQUFPMEosV0FBVyxNQUM1QnVwQixFQUFjLElBQUkwQixHQUFZMzBCLEVBQVEsQ0FBRXdYLFdBQVlBLElBQ3BEdXNCLEVBQVN0aEQsS0FBSyxJQUFJcStDLEdBQVE3TixJQUMxQnc5RSxFQUFTOUMsS0FBS2xySCxLQUFLLENBQ2ZrWCxHQUFJb3FDLEVBQVNsaUQsT0FBUyxFQUN0QjBzSCxLQUFNLE1BSWQsSUFBSWlELEVBQVlSLEVBQVU1dUgsR0FDdEJrakgsRUFBVWpHLEdBQVlLLFlBQVk4UixFQUFXcCtFLEdBQU8sRUFBT3B6QixHQUMzREYsRUFBUXdsRyxFQUFReGxHLE1BQ2hCQyxFQUFTaGQsS0FBS2s1QixLQUFLcXBGLEVBQVF2bEcsUUFFM0IweEcsRUFBb0IxdUgsS0FBS2s1QixNQUEwQixXQUFwQm1YLEVBQU11b0UsVUFBeUIsRUFBSSxHQUFLNzdGLEdBRTNFLEdBQUl3eEcsR0FBYVAsRUFBaUJoeEcsRUFBU3lYLEVBQTNDLENBQ0ksR0FBa0IsSUFBZDg1RixFQUVBLE1BQU0sSUFBSWg4RixNQUFNLDhCQUFnQ3k3RixFQUFoQyxpQ0FDVTM5RSxFQUFNcW9FLFdBQWEsZ0JBQWtCcm9FLEVBQU1zb0UsU0FBVyxjQUFnQjhWLEVBQVksUUFFOUdwdkgsRUFFRjRkLEVBQVMsS0FDVDNWLEVBQVUsS0FDVjRvQyxFQUFjLEtBQ2RxK0UsRUFBWSxFQUNaRCxFQUFZLEVBQ1pFLEVBQWdCLENBRXBCLE1BR0EsR0FGQUEsRUFBZ0J4dUgsS0FBS0MsSUFBSStjLEVBQVN1bEcsRUFBUTdGLGVBQWV1QyxRQUFTdVAsR0FFN0RFLEVBQW9CajZGLEVBQWM2NUYsR0FBYXRSLEVBQXBELENBQ0ksR0FBa0IsSUFBZHNSLEVBRUEsTUFBTSxJQUFJLzdGLE1BQU0sNkJBQStCdzdGLEVBQS9CLGlDQUNVMTlFLEVBQU1xb0UsV0FBYSxnQkFBa0Jyb0UsRUFBTXNvRSxTQUFXLGNBQWdCOFYsRUFBWSxRQUU5R3B2SCxFQUNGa3ZILEdBQWFDLEVBQWdCLzVGLEVBQzdCODVGLEVBQVl2dUgsS0FBS2s1QixLQUFLcTFGLEdBQ3RCRCxFQUFZLEVBQ1pFLEVBQWdCLENBRXBCLEtBWkEsQ0FhQWhDLEdBQVV2dkcsRUFBUTNWLEVBQVNpN0csRUFBUytMLEVBQVdDLEVBQVc5NUYsRUFBWTRiLEdBRXRFLElBQUl6NUIsRUFBS2kyRyxHQUFnQnRLLEVBQVF4eEIsTUFFakMyOEIsRUFBU3pQLEtBQUt2K0csS0FBSyxDQUNma1gsR0FBSUEsRUFDSmcwRyxLQUFNNXBFLEVBQVNsaUQsT0FBUyxFQUN4QkosRUFBRzR2SCxFQUFZNzVGLEVBQ2Y5MUIsRUFBRzR2SCxFQUFZOTVGLEVBQ2YxWCxNQUFPMnhHLEVBQ1AxeEcsT0FBUUEsRUFDUnl1RyxRQUFTLEVBQ1RDLFFBQVMsRUFDVEMsU0FBVTNySCxLQUFLazVCLEtBQUtuYyxHQUNic3pCLEVBQU00bkUsV0FBYTVuRSxFQUFNaW9FLG1CQUFxQixJQUM5Q2pvRSxFQUFNNm9FLE9BQVM3b0UsRUFBTThvRSxnQkFBa0IsTUFFbERtVixJQUFjSSxFQUFxQixFQUFJcm9FLEdBQVk1eEIsRUFDbkQ2NUYsRUFBWXR1SCxLQUFLazVCLEtBQUtvMUYsRUFuQnRCLENBb0JKLENBR1NqdkgsRUFBSSxFQUFiLElBQUssSUFBV0MsRUFBTTJ1SCxFQUFVbnZILE9BQVFPLEVBQUlDLEVBQUtELElBRTdDLElBREEsSUFBSXVzSCxFQUFRcUMsRUFBVTV1SCxHQUNiNEcsRUFBSSxFQUFHQSxFQUFJM0csRUFBSzJHLElBQUssQ0FDMUIsSUFBSTRsSCxFQUFTb0MsRUFBVWhvSCxHQUNuQnEyQixFQUFLaDFCLEVBQVFxMUcsWUFBWWlQLEdBQU83dUcsTUFDaENtd0YsRUFBSzVsRyxFQUFRcTFHLFlBQVlrUCxHQUFROXVHLE1BRWpDaW9GLEVBRFExOUYsRUFBUXExRyxZQUFZaVAsRUFBUUMsR0FBUTl1RyxPQUMxQnVmLEVBQUs0d0UsR0FDdkJsSSxHQUNBMG9CLEVBQVM3QyxRQUFRbnJILEtBQUssQ0FDbEJrc0gsTUFBT2lCLEdBQWdCakIsR0FDdkJDLE9BQVFnQixHQUFnQmhCLEdBQ3hCN21CLE9BQVFBLEdBR3BCLENBRUosSUFBSTZYLEVBQU8sSUFBSWtRLEVBQVdXLEVBQVUxc0UsR0FBVSxHQU05QyxZQUptQ3QzQyxJQUEvQnFqSCxFQUFXWSxVQUFVcmxILElBQ3JCeWtILEVBQVdhLFVBQVV0bEgsR0FFekJ5a0gsRUFBV1ksVUFBVXJsSCxHQUFRdTBHLEVBQ3RCQSxDQUNYLEVBT0FrUSxFQUFXLy9DLE1BQVEsQ0FBQyxDQUFDLElBQUssS0FBTSxDQUFDLElBQUssS0FBTSxLQU81QysvQyxFQUFXNEIsUUFBVSxDQUFDLENBQUMsSUFBSyxNQUs1QjVCLEVBQVc2QixhQUFlLENBQUMsQ0FBQyxJQUFLLEtBQU0sQ0FBQyxJQUFLLEtBQU0sQ0FBQyxJQUFLLEtBQU0sS0FNL0Q3QixFQUFXOEIsTUFBUSxDQUFDLENBQUMsSUFBSyxNQVMxQjlCLEVBQVdlLGVBQWlCLENBQ3hCcjVGLFdBQVksRUFDWnM1RixhQUFjLElBQ2RDLGNBQWUsSUFDZjNuRSxRQUFTLEVBQ1Q0a0UsTUFBTzhCLEVBQVc2QixjQUd0QjdCLEVBQVdZLFVBQVksQ0FBQyxFQUNqQlosQ0FDWCxDQTlVK0IsR0FxVjNCK0IsR0FBa0MsR0FDbENDLEdBQStCLEdBQy9CQyxHQUFxQixHQStCckJDLEdBQTRCLFNBQVVockYsR0FjdEMsU0FBU2dyRixFQUFXbCtCLEVBQU0xZ0QsUUFDUixJQUFWQSxJQUFvQkEsRUFBUSxDQUFDLEdBQ2pDLElBQUluTSxFQUFRRCxFQUFPejdCLEtBQUt6QyxPQUFTQSxLQUtqQ20rQixFQUFNby9ELE1BQVEsU0FFZCxJQUFJN2xGLEVBQUsxVyxPQUFPcUQsT0FBTyxDQUFDLEVBQUc2a0gsRUFBV0MsY0FBZTcrRSxHQUFRMG5FLEVBQVF0NkYsRUFBR3M2RixNQUFPam1GLEVBQU9yVSxFQUFHcVUsS0FBTXE5RixFQUFXMXhHLEVBQUcweEcsU0FBVXBXLEVBQWdCdDdGLEVBQUdzN0YsY0FBZXFXLEVBQVczeEcsRUFBRzJ4RyxTQUFVelcsRUFBV2w3RixFQUFHazdGLFNBQy9MLElBQUtvVSxHQUFXWSxVQUFVeUIsR0FDdEIsTUFBTSxJQUFJNzhGLE1BQU0sdUJBQTBCNjhGLEVBQVcsS0FvQnpELE9BbEJBbHJGLEVBQU1tckYscUJBQXVCLEdBQzdCbnJGLEVBQU1vckYsV0FBYSxFQUNuQnByRixFQUFNcXJGLFlBQWMsRUFDcEJyckYsRUFBTTQxRSxPQUFTL0IsRUFDZjd6RSxFQUFNby9ELE1BQVF4eEUsRUFDZG9TLEVBQU1vOEUsV0FBUTUyRyxFQUNkdzZCLEVBQU1zckYsVUFBWUosRUFDbEJsckYsRUFBTTYyRSxVQUFZcEMsRUFDbEJ6MEUsRUFBTTZzRCxLQUFPQSxFQUNiN3NELEVBQU11ckYsVUFBWU4sRUFDbEJqckYsRUFBTXdyRixlQUFpQixFQUN2QnhyRixFQUFNaTNFLGVBQWlCcEMsRUFDdkI3MEUsRUFBTWt6RSxRQUFVLElBQUlqOEUsSUFBZ0IsV0FBYytJLEVBQU1tUCxPQUFRLENBQU0sR0FBR25QLEVBQU8sRUFBRyxHQUNuRkEsRUFBTXd6RSxhQUFlbDNGLEdBQVNzQyxhQUM5Qm9oQixFQUFNbVAsT0FBUSxFQUNkblAsRUFBTXEzQixZQUFjLzZDLEdBQVNLLFdBQzdCcWpCLEVBQU1nOEUsaUJBQWtCLEVBQ3hCaDhFLEVBQU15ckYsY0FBZ0IsQ0FBQyxFQUNoQnpyRixDQUNYLENBK2pCQSxPQXo3Q0osU0FBbUJyOUIsRUFBR3pFLEdBRWxCLFNBQVMyaEMsSUFBT2grQixLQUFLd1QsWUFBYzFTLENBQUcsQ0FEdEMsR0FBY0EsRUFBR3pFLEdBRWpCeUUsRUFBRUcsVUFBa0IsT0FBTjVFLEVBQWEyRSxPQUFPbUIsT0FBTzlGLElBQU0yaEMsRUFBRy84QixVQUFZNUUsRUFBRTRFLFVBQVcsSUFBSSs4QixFQUNuRixDQXkwQkksQ0FBVWtyRixFQUFZaHJGLEdBK0N0QmdyRixFQUFXam9ILFVBQVV3NUcsV0FBYSxXQXVCOUIsSUF0QkEsSUFBSS9pRyxFQUNBdGYsRUFBTzR1SCxHQUFXWSxVQUFVNW5ILEtBQUt5cEgsV0FDakM3VyxFQUFXNXlHLEtBQUs0eUcsU0FDaEIxOEUsRUFBUTA4RSxFQUFXeDZHLEVBQUtpMEIsS0FDeEJ5SixFQUFNLElBQUkzRSxHQUNWK3pGLEVBQVEsR0FDUnpPLEVBQWEsR0FDYm9ULEVBQWEsR0FFYkMsRUFBYWpELEdBRE43bUgsS0FBS282RyxNQUFNbHpHLFFBQVEsZUFBZ0IsT0FBUyxLQUVuRGtpSCxFQUFXcHBILEtBQUswcEgsVUFBWXR4SCxFQUFLaTBCLEtBQU91bUYsRUFDeENtWCxFQUE4QyxTQUEzQjN4SCxFQUFLcXZILGtCQUN0QnNCLEdBQWtDQyxHQUNwQ2dCLEVBQWUsS0FDZkMsRUFBZ0IsRUFDaEJ2VCxFQUFlLEVBQ2Zub0QsRUFBTyxFQUNQMjdELEdBQWdCLEVBQ2hCQyxFQUFpQixFQUNqQkMsRUFBZ0IsRUFDaEJDLEVBQWdCLEVBQ2hCQyxFQUFhLEVBQ1JoeEgsRUFBSSxFQUFHQSxFQUFJd3dILEVBQVcvd0gsT0FBUU8sSUFBSyxDQUN4QyxJQUNJaXhILEVBQVd6RCxHQURYNU8sRUFBTzRSLEVBQVd4d0gsSUFPdEIsR0FMSSxTQUFXaVEsS0FBSzJ1RyxLQUNoQmdTLEVBQWU1d0gsRUFDZjZ3SCxFQUFpQkYsRUFDakJLLEtBRVMsT0FBVHBTLEdBQTBCLE9BQVRBLEVBQXJCLENBWUEsSUFBSXNTLEVBQVdweUgsRUFBSzhzSCxNQUFNcUYsR0FDMUIsR0FBS0MsRUFBTCxDQUdJUixHQUFnQlEsRUFBUzFGLFFBQVFrRixLQUNqQ2wwRixFQUFJbjlCLEdBQUs2eEgsRUFBUzFGLFFBQVFrRixJQUU5QixJQUFJUyxFQUFpQnhCLEdBQW1CaDVHLE9BQVMsQ0FDN0NpL0IsUUFBUzhJLEdBQVEvYixNQUNqQnN5QixLQUFNLEVBQ05nOEQsU0FBVSxFQUNWRyxXQUFZLEVBQ1poekYsU0FBVSxJQUFJdkcsSUFFbEJzNUYsRUFBZXY3RSxRQUFVczdFLEVBQVN0N0UsUUFDbEN1N0UsRUFBZWw4RCxLQUFPQSxFQUN0Qms4RCxFQUFlRixTQUFXQSxFQUMxQkUsRUFBZS95RixTQUFTLytCLEVBQUltOUIsRUFBSW45QixFQUFJNnhILEVBQVNuRCxRQUFXcm5ILEtBQUtvMUcsZUFBaUIsRUFDOUVxVixFQUFlL3lGLFNBQVM5K0IsRUFBSWs5QixFQUFJbDlCLEVBQUk0eEgsRUFBU2xELFFBQzdDbUQsRUFBZUMsV0FBYUosRUFDNUJwRixFQUFNdnJILEtBQUs4d0gsR0FDWFIsRUFBZ0JRLEVBQWUveUYsU0FBUy8rQixFQUNsQ3NCLEtBQUtDLElBQUlzd0gsRUFBU2pELFNBQVdpRCxFQUFTbkQsUUFBU21ELEVBQVN0N0UsUUFBUStJLEtBQUtqaEMsT0FDM0U4ZSxFQUFJbjlCLEdBQUs2eEgsRUFBU2pELFNBQVd2bkgsS0FBS28xRyxlQUNsQ2lWLEVBQWdCcHdILEtBQUtDLElBQUltd0gsRUFBZ0JHLEVBQVNsRCxRQUFVa0QsRUFBU3Q3RSxRQUFRajRCLFFBQzdFK3lHLEVBQWVPLEdBQ08sSUFBbEJMLEdBQXVCZCxFQUFXLEdBQUt0ekYsRUFBSW45QixFQUFJeXdILElBRS9DOTdGLEdBQVk0M0YsRUFBTyxFQUFJZ0YsSUFEckJFLEVBQ21ELEVBQUk5d0gsRUFBSTR3SCxHQUM3RDV3SCxFQUFJNHdILEVBQ0pBLEdBQWdCLEVBQ2hCelQsRUFBVzk4RyxLQUFLd3dILEdBQ2hCTixFQUFXbHdILEtBQUt1ckgsRUFBTW5zSCxPQUFTLEVBQUltc0gsRUFBTUEsRUFBTW5zSCxPQUFTLEdBQUcyeEgsV0FBYSxHQUN4RWhVLEVBQWV6OEcsS0FBS0MsSUFBSXc4RyxFQUFjeVQsR0FDdEM1N0QsSUFDQXo0QixFQUFJbjlCLEVBQUksRUFDUm05QixFQUFJbDlCLEdBQUtSLEVBQUs2NkcsV0FDZCtXLEVBQWUsS0FDZk0sRUFBYSxFQW5DakIsQ0FKQSxNQVZJN1QsRUFBVzk4RyxLQUFLc3dILEdBQ2hCSixFQUFXbHdILE1BQU0sR0FDakIrOEcsRUFBZXo4RyxLQUFLQyxJQUFJdzhHLEVBQWN1VCxLQUNwQzE3RCxJQUNBNjdELEVBQ0Z0MEYsRUFBSW45QixFQUFJLEVBQ1JtOUIsRUFBSWw5QixHQUFLUixFQUFLNjZHLFdBQ2QrVyxFQUFlLEtBQ2ZNLEVBQWEsQ0EyQ3JCLENBQ0EsSUFBSWxTLEVBQVcwUixFQUFXQSxFQUFXL3dILE9BQVMsR0FDN0IsT0FBYnEvRyxHQUFrQyxPQUFiQSxJQUNqQixTQUFXN3VHLEtBQUs2dUcsS0FDaEI2UixFQUFnQkUsR0FFcEIxVCxFQUFXOThHLEtBQUtzd0gsR0FDaEJ2VCxFQUFlejhHLEtBQUtDLElBQUl3OEcsRUFBY3VULEdBQ3RDSixFQUFXbHdILE1BQU0sSUFFckIsSUFBSWd4SCxFQUFtQixHQUN2QixJQUFTcnhILEVBQUksRUFBR0EsR0FBS2kxRCxFQUFNajFELElBQUssQ0FDNUIsSUFBSXN4SCxFQUFjLEVBQ0UsVUFBaEI1cUgsS0FBSyt6RyxPQUNMNlcsRUFBY2xVLEVBQWVELEVBQVduOUcsR0FFbkIsV0FBaEIwRyxLQUFLK3pHLE9BQ1Y2VyxHQUFlbFUsRUFBZUQsRUFBV245RyxJQUFNLEVBRTFCLFlBQWhCMEcsS0FBSyt6RyxTQUNWNlcsRUFBY2YsRUFBV3Z3SCxHQUFLLEVBQUksR0FBS285RyxFQUFlRCxFQUFXbjlHLElBQU11d0gsRUFBV3Z3SCxJQUV0RnF4SCxFQUFpQmh4SCxLQUFLaXhILEVBQzFCLENBQ0EsSUFBSUMsRUFBVzNGLEVBQU1uc0gsT0FDakIreEgsRUFBZ0IsQ0FBQyxFQUNqQkMsRUFBbUIsR0FDbkJDLEVBQXNCaHJILEtBQUtzcEgscUJBRS9CLElBREFTLEVBQWlCcHdILEtBQUtpSyxNQUFNbW1ILEVBQWtCaUIsR0FDckMxeEgsRUFBSSxFQUFHQSxFQUFJdXhILEVBQVV2eEgsSUFBSyxDQUMvQixJQUNJMnhILEdBREEvN0UsRUFBVWcyRSxFQUFNNXJILEdBQUc0MUMsU0FDTS9FLFlBQVl6YyxJQUN6QyxJQUFLbzlGLEVBQWNHLEdBQWlCLENBRWhDLEtBRElDLEVBQWVuQixFQUFpQjk1RyxPQUNqQixDQUNmLElBQUlrdEMsRUFBVyxJQUFJcW5FLEdBQ2ZaLE9BQVcsRUFDWHVILE9BQWdCLEVBQ1csU0FBM0IveUgsRUFBS3F2SCxtQkFDTDdELEVBQVcsSUFBSVEsR0FBYXBzRSxHQUFRL2IsT0FDcENrdkYsRUFBZ0J0MkcsRUFBWXFXLFNBRzVCMDRGLEVBQVcsSUFBSVEsR0FBYXBzRSxHQUFRL2IsTUFBTyxDQUFFNGxCLFFBQVNrUyxHQUFRenVELEtBbE52RSxpZEFGQSxvK0JBb05pR2k1QyxTQUFVLENBQUU2c0UsUUFBUyxLQUM3R0QsRUFBZ0J0MkcsRUFBWW9XLFlBRWhDLElBQUlvZ0csRUFBTyxJQUFJL0gsR0FBS25tRSxFQUFVeW1FLEdBQzlCeUgsRUFBSzUvRixVQUFZMC9GLEVBQ2pCRCxFQUFlLENBQ1gzaUgsTUFBTyxFQUNQdTlGLFdBQVksRUFDWndsQixZQUFhLEVBQ2JDLFNBQVUsRUFDVnpnQyxNQUFPLEVBQ1B1Z0MsS0FBTUEsRUFDTjNxSCxTQUFVLEtBQ1ZxOUMsSUFBSyxLQUNMKzBCLFFBQVMsS0FFakIsQ0FFQW80QyxFQUFhM2lILE1BQVEsRUFDckIyaUgsRUFBYXBsQixXQUFhLEVBQzFCb2xCLEVBQWFJLFlBQWMsRUFDM0JKLEVBQWFLLFNBQVcsRUFDeEJMLEVBQWFwZ0MsTUFBUSxFQUVyQixJQUFJOCtCLEVBQWdCNXBILEtBQUs0cEgsY0FDekJBLEVBQWNxQixHQUFrQnJCLEVBQWNxQixJQUFtQixJQUFJanpFLEdBQVE5SSxFQUFRL0UsYUFDckYrZ0YsRUFBYUcsS0FBS244RSxRQUFVMDZFLEVBQWNxQixHQUMxQ0MsRUFBYUcsS0FBS3QvRixLQUFPL3JCLEtBQUt1OUYsTUFDOUJ3dEIsRUFBaUJweEgsS0FBS3V4SCxHQUN0QkosRUFBY0csR0FBa0JDLENBQ3BDLENBQ0FKLEVBQWNHLEdBQWdCbmdDLE9BQ2xDLENBR0EsSUFBU3h4RixFQUFJLEVBQUdBLEVBQUkweEgsRUFBb0JqeUgsT0FBUU8sS0FDYyxJQUF0RHl4SCxFQUFpQjFnSCxRQUFRMmdILEVBQW9CMXhILEtBQzdDMEcsS0FBSzZnQyxZQUFZbXFGLEVBQW9CMXhILEdBQUcreEgsTUFLaEQsSUFBUy94SCxFQUFJLEVBQUdBLEVBQUl5eEgsRUFBaUJoeUgsT0FBUU8sSUFDckN5eEgsRUFBaUJ6eEgsR0FBRyt4SCxLQUFLNXNGLFNBQVd6K0IsTUFDcENBLEtBQUsyZ0MsU0FBU29xRixFQUFpQnp4SCxHQUFHK3hILE1BSzFDLElBQUssSUFBSS94SCxLQURUMEcsS0FBS3NwSCxxQkFBdUJ5QixFQUNkRCxFQUFlLENBQ3pCLElBQ0loZ0MsR0FEQW9nQyxFQUFlSixFQUFjeHhILElBQ1J3eEYsTUFHekIsTUFBdUMsUUFBL0JwekUsRUFBS3d6RyxFQUFhcDRDLGVBQTRCLElBQVBwN0QsT0FBZ0IsRUFBU0EsRUFBRzNlLFFBQVUsRUFBSSt4RixJQUFVb2dDLEVBQWF4cUgsU0FBUzNILE9BQStCLEVBQXRCdXFILEdBQUtyVyxlQUNuSWllLEVBQWF4cUgsU0FBVyxJQUFJK1YsYUFBYSxFQUFRcTBFLEdBQ2pEb2dDLEVBQWFudEUsSUFBTSxJQUFJdG5DLGFBQWEsRUFBUXEwRSxHQUM1Q29nQyxFQUFhcDRDLFFBQVUsSUFBSW44RCxZQUFZLEVBQUltMEUsUUFNM0MsSUFIQSxJQUFJMGdDLEVBQVVOLEVBQWFwZ0MsTUFDdkJwcUYsRUFBV3dxSCxFQUFheHFILFNBRW5Cb3JHLEVBQWdCLEVBQVYwZixFQUFjLEVBQUcxZixFQUFNcHJHLEVBQVMzSCxPQUFRK3lHLElBQ25EcHJHLEVBQVNvckcsR0FBTyxFQUt4Qm9mLEVBQWFHLEtBQUtoL0YsS0FBTyxFQUFJeStELENBQ2pDLENBQ0EsSUFBU3h4RixFQUFJLEVBQUdBLEVBQUl1eEgsRUFBVXZ4SCxJQUFLLENBQy9CLElBQUk0K0csRUFDQXo2RCxHQURBeTZELEVBQU9nTixFQUFNNXJILElBQ0NvK0IsU0FBUy8rQixFQUFLZ3lILEVBQWlCelMsRUFBSzNwRCxPQUF5QixZQUFoQnZ1RCxLQUFLK3pHLE9BQXVCbUUsRUFBS3dTLFdBQWEsR0FDekcxcUgsS0FBSzJ4RyxlQUNMbDBELEVBQVN4akQsS0FBS2cxQixNQUFNd3VCLElBRXhCLElBRUl2TyxFQUZBdThFLEVBQU9odUUsRUFBU3ZuQixFQUNoQncxRixFQUFPeFQsRUFBS3hnRixTQUFTOStCLEVBQUlzOUIsRUFFekJ5MUYsRUFBV2IsR0FEWDU3RSxFQUFVZ3BFLEVBQUtocEUsU0FDa0IvRSxZQUFZemMsS0FDN0NrK0YsRUFBZTE4RSxFQUFRbUksTUFDdkJncEQsRUFBYW54RCxFQUFRbUosS0FDckI5dkMsRUFBUW9qSCxFQUFTcGpILFFBQ3JCb2pILEVBQVM3NEMsUUFBaUIsRUFBUnZxRSxFQUFhLEdBQUssRUFBYSxFQUFSQSxFQUN6Q29qSCxFQUFTNzRDLFFBQWlCLEVBQVJ2cUUsRUFBYSxHQUFLLEVBQWEsRUFBUkEsRUFDekNvakgsRUFBUzc0QyxRQUFpQixFQUFSdnFFLEVBQWEsR0FBSyxFQUFhLEVBQVJBLEVBQ3pDb2pILEVBQVM3NEMsUUFBaUIsRUFBUnZxRSxFQUFhLEdBQUssRUFBYSxFQUFSQSxFQUN6Q29qSCxFQUFTNzRDLFFBQWlCLEVBQVJ2cUUsRUFBYSxHQUFLLEVBQWEsRUFBUkEsRUFDekNvakgsRUFBUzc0QyxRQUFpQixFQUFSdnFFLEVBQWEsR0FBSyxFQUFhLEVBQVJBLEVBQ3pDb2pILEVBQVNqckgsU0FBa0IsRUFBUjZILEVBQWEsR0FBS2tqSCxFQUNyQ0UsRUFBU2pySCxTQUFrQixFQUFSNkgsRUFBYSxHQUFLbWpILEVBQ3JDQyxFQUFTanJILFNBQWtCLEVBQVI2SCxFQUFhLEdBQUtrakgsRUFBUUcsRUFBYTUwRyxNQUFRa2YsRUFDbEV5MUYsRUFBU2pySCxTQUFrQixFQUFSNkgsRUFBYSxHQUFLbWpILEVBQ3JDQyxFQUFTanJILFNBQWtCLEVBQVI2SCxFQUFhLEdBQUtrakgsRUFBUUcsRUFBYTUwRyxNQUFRa2YsRUFDbEV5MUYsRUFBU2pySCxTQUFrQixFQUFSNkgsRUFBYSxHQUFLbWpILEVBQVFFLEVBQWEzMEcsT0FBU2lmLEVBQ25FeTFGLEVBQVNqckgsU0FBa0IsRUFBUjZILEVBQWEsR0FBS2tqSCxFQUNyQ0UsRUFBU2pySCxTQUFrQixFQUFSNkgsRUFBYSxHQUFLbWpILEVBQVFFLEVBQWEzMEcsT0FBU2lmLEVBQ25FeTFGLEVBQVM1dEUsSUFBYSxFQUFSeDFDLEVBQWEsR0FBSzgzRixFQUFXeGpHLEdBQzNDOHVILEVBQVM1dEUsSUFBYSxFQUFSeDFDLEVBQWEsR0FBSzgzRixFQUFXdmpHLEdBQzNDNnVILEVBQVM1dEUsSUFBYSxFQUFSeDFDLEVBQWEsR0FBSzgzRixFQUFXdGpHLEdBQzNDNHVILEVBQVM1dEUsSUFBYSxFQUFSeDFDLEVBQWEsR0FBSzgzRixFQUFXcmpHLEdBQzNDMnVILEVBQVM1dEUsSUFBYSxFQUFSeDFDLEVBQWEsR0FBSzgzRixFQUFXcHRFLEdBQzNDMDRGLEVBQVM1dEUsSUFBYSxFQUFSeDFDLEVBQWEsR0FBSzgzRixFQUFXbnRFLEdBQzNDeTRGLEVBQVM1dEUsSUFBYSxFQUFSeDFDLEVBQWEsR0FBSzgzRixFQUFXbnBELEdBQzNDeTBFLEVBQVM1dEUsSUFBYSxFQUFSeDFDLEVBQWEsR0FBSzgzRixFQUFXbHBELEVBQy9DLENBR0EsSUFBSyxJQUFJNzlDLEtBRlQwRyxLQUFLdXBILFdBQWE3UyxFQUFleGdGLEVBQ2pDbDJCLEtBQUt3cEgsYUFBZTF6RixFQUFJbDlCLEVBQUlSLEVBQUs2NkcsWUFBYy84RSxFQUNqQzQwRixFQUFlLENBQ3pCLElBQUlJLEVBQWVKLEVBQWN4eEgsR0FFakMsR0FBc0IsSUFBbEIwRyxLQUFLazRDLE9BQU92L0MsR0FBNkIsSUFBbEJxSCxLQUFLazRDLE9BQU90L0MsRUFJbkMsSUFIQSxJQUFJMHlILEVBQWMsRUFDZE8sRUFBZ0I3ckgsS0FBS3VwSCxXQUFhdnBILEtBQUtrNEMsT0FBT3YvQyxFQUM5Q216SCxHQUFnQjlySCxLQUFLd3BILFlBQWN4cEgsS0FBS2s0QyxPQUFPdC9DLEVBQzFDbXpILEdBQU0sRUFBR0EsR0FBTWIsRUFBYXBnQyxNQUFPaWhDLEtBQ3hDYixFQUFheHFILFNBQVM0cUgsTUFBa0JPLEVBQ3hDWCxFQUFheHFILFNBQVM0cUgsTUFBa0JRLEdBQ3hDWixFQUFheHFILFNBQVM0cUgsTUFBa0JPLEVBQ3hDWCxFQUFheHFILFNBQVM0cUgsTUFBa0JRLEdBQ3hDWixFQUFheHFILFNBQVM0cUgsTUFBa0JPLEVBQ3hDWCxFQUFheHFILFNBQVM0cUgsTUFBa0JRLEdBQ3hDWixFQUFheHFILFNBQVM0cUgsTUFBa0JPLEVBQ3hDWCxFQUFheHFILFNBQVM0cUgsTUFBa0JRLEdBR2hEOXJILEtBQUsycEgsZUFBaUJVLEVBQWdCbjBGLEVBQ3RDLElBQUk4bkIsR0FBZWt0RSxFQUFhRyxLQUFLbHVFLFNBQVNOLFVBQVUsbUJBQ3BEbXZFLEdBQWdCZCxFQUFhRyxLQUFLbHVFLFNBQVNOLFVBQVUsaUJBQ3JEVCxHQUFjOHVFLEVBQWFHLEtBQUtsdUUsU0FBU0osV0FDN0NpQixHQUFhNWxELEtBQU84eUgsRUFBYXhxSCxTQUNqQ3NySCxHQUFjNXpILEtBQU84eUgsRUFBYW50RSxJQUNsQzNCLEdBQVloa0QsS0FBTzh5SCxFQUFhcDRDLFFBQ2hDOTBCLEdBQWFuVyxTQUNibWtGLEdBQWNua0YsU0FDZHVVLEdBQVl2VSxRQUNoQixDQUNBLElBQVN2dUMsRUFBSSxFQUFHQSxFQUFJNHJILEVBQU1uc0gsT0FBUU8sSUFDOUIydkgsR0FBbUJ0dkgsS0FBS3VySCxFQUFNNXJILElBRWxDMEcsS0FBS3U2RyxNQUFRbmlILEVBQ2I0SCxLQUFLc3RDLE9BQVEsQ0FDakIsRUFDQTQ3RSxFQUFXam9ILFVBQVVvNkIsZ0JBQWtCLFdBQ25DcjdCLEtBQUtnNkYsV0FDTGg2RixLQUFLc2tDLDBCQUNULEVBQ0E0a0YsRUFBV2pvSCxVQUFVdWlDLFFBQVUsU0FBVUgsR0FDakNyakMsS0FBS202RyxpQkFBbUJuNkcsS0FBS3cxRCxjQUFnQm55QixFQUFTM1UsYUFDdEQxdUIsS0FBS3cxRCxZQUFjbnlCLEVBQVMzVSxXQUM1QjF1QixLQUFLc3RDLE9BQVEsR0FHakIsSUFBSTUxQixFQUFLc3ZHLEdBQVdZLFVBQVU1bkgsS0FBS3lwSCxXQUFZakMsRUFBcUI5dkcsRUFBRzh2RyxtQkFBb0JDLEVBQW9CL3ZHLEVBQUcrdkcsa0JBQW1CcDdGLEVBQU8zVSxFQUFHMlUsS0FDL0ksR0FBMEIsU0FBdEJvN0YsRUFPQSxJQUxBLElBQUl0aUYsRUFBS25sQyxLQUFLdTZCLGVBQWdCbitCLEVBQUkrb0MsRUFBRy9vQyxFQUFHQyxFQUFJOG9DLEVBQUc5b0MsRUFBR0MsRUFBSTZvQyxFQUFHN29DLEVBQUd3RSxFQUFJcWtDLEVBQUdya0MsRUFDL0Q0eUIsRUFBS3o1QixLQUFLdzlCLEtBQU1yN0IsRUFBSUEsRUFBTUMsRUFBSUEsR0FDOUJzM0IsRUFBSzE1QixLQUFLdzlCLEtBQU1uN0IsRUFBSUEsRUFBTXdFLEVBQUlBLEdBQzlCbXJILEdBQWNoeUgsS0FBS21FLElBQUlzMUIsR0FBTXo1QixLQUFLbUUsSUFBSXUxQixJQUFPLEVBQzdDdTRGLEVBQVlsc0gsS0FBSzR5RyxTQUFXdm1GLEVBQ3ZCck4sRUFBSyxFQUFHK2xELEVBQUsva0UsS0FBS3NwSCxxQkFBc0J0cUcsRUFBSytsRCxFQUFHaHNFLE9BQVFpbUIsSUFDbEQrbEQsRUFBRy9sRCxHQUNUcXNHLEtBQUt6cEUsT0FBT3JELFNBQVM2c0UsUUFBVWEsRUFBYXpFLEVBQXFCMEUsRUFBWWxzSCxLQUFLdzFELFlBRy9GdDNCLEVBQU9qOUIsVUFBVXVpQyxRQUFRL2dDLEtBQUt6QyxLQUFNcWpDLEVBQ3hDLEVBS0E2bEYsRUFBV2pvSCxVQUFVZy9CLGVBQWlCLFdBRWxDLE9BREFqZ0MsS0FBS2c2RixXQUNFOTdELEVBQU9qOUIsVUFBVWcvQixlQUFleDlCLEtBQUt6QyxLQUNoRCxFQUtBa3BILEVBQVdqb0gsVUFBVSs0RixTQUFXLFdBQzVCLElBQUk4YyxFQUFPa1EsR0FBV1ksVUFBVTVuSCxLQUFLeXBILFdBQ3JDLElBQUszUyxFQUNELE1BQU0sSUFBSXRxRixNQUFNLHVCQUEwQnhzQixLQUFLeXBILFVBQVksS0FFM0R6cEgsS0FBS3U2RyxRQUFVekQsSUFDZjkyRyxLQUFLc3RDLE9BQVEsR0FFYnR0QyxLQUFLc3RDLE9BQ0x0dEMsS0FBS3k2RyxZQUViLEVBQ0F6NUcsT0FBT2tRLGVBQWVnNEcsRUFBV2pvSCxVQUFXLE9BQVEsQ0FLaERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt1OUYsS0FDaEIsRUFDQXJ1RSxJQUFLLFNBQVU5bkIsR0FDWCxHQUFJcEgsS0FBS3U5RixRQUFVbjJGLEVBQW5CLENBRUFwSCxLQUFLdTlGLE1BQVFuMkYsRUFDYixJQUFLLElBQUk5TixFQUFJLEVBQUdBLEVBQUkwRyxLQUFLc3BILHFCQUFxQnZ3SCxPQUFRTyxJQUNsRDBHLEtBQUtzcEgscUJBQXFCaHdILEdBQUcreEgsS0FBS3QvRixLQUFPM2tCLENBSC9CLENBS2xCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlZzRHLEVBQVdqb0gsVUFBVyxRQUFTLENBTWpEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLK3pHLE1BQ2hCLEVBQ0E3a0YsSUFBSyxTQUFVOW5CLEdBQ1BwSCxLQUFLK3pHLFNBQVczc0csSUFDaEJwSCxLQUFLK3pHLE9BQVMzc0csRUFDZHBILEtBQUtzdEMsT0FBUSxFQUVyQixFQUNBbjhCLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVnNEcsRUFBV2pvSCxVQUFXLFdBQVksQ0FFcERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUt5cEgsU0FDaEIsRUFDQXY2RixJQUFLLFNBQVU5bkIsR0FDWCxJQUFLNC9HLEdBQVdZLFVBQVV4Z0gsR0FDdEIsTUFBTSxJQUFJb2xCLE1BQU0sdUJBQTBCcGxCLEVBQVEsS0FFbERwSCxLQUFLeXBILFlBQWNyaUgsSUFDbkJwSCxLQUFLeXBILFVBQVlyaUgsRUFDakJwSCxLQUFLc3RDLE9BQVEsRUFFckIsRUFDQW44QixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlZzRHLEVBQVdqb0gsVUFBVyxXQUFZLENBRXBEbVEsSUFBSyxXQUNELElBQUlzRyxFQUNKLE9BQWlDLFFBQXpCQSxFQUFLMVgsS0FBS2cxRyxpQkFBOEIsSUFBUHQ5RixFQUFnQkEsRUFBS3N2RyxHQUFXWSxVQUFVNW5ILEtBQUt5cEgsV0FBV3A5RixJQUN2RyxFQUNBNkMsSUFBSyxTQUFVOW5CLEdBQ1BwSCxLQUFLZzFHLFlBQWM1dEcsSUFDbkJwSCxLQUFLZzFHLFVBQVk1dEcsRUFDakJwSCxLQUFLc3RDLE9BQVEsRUFFckIsRUFDQW44QixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlZzRHLEVBQVdqb0gsVUFBVyxTQUFVLENBVWxEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLcXhHLE9BQ2hCLEVBQ0FuaUYsSUFBSyxTQUFVOW5CLEdBQ1UsaUJBQVZBLEVBQ1BwSCxLQUFLcXhHLFFBQVFuaUYsSUFBSTluQixHQUdqQnBILEtBQUtxeEcsUUFBUWhnRixTQUFTanFCLEVBRTlCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlZzRHLEVBQVdqb0gsVUFBVyxPQUFRLENBRWhEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLbzZHLEtBQ2hCLEVBQ0FsckYsSUFBSyxTQUFVODdELEdBQ1hBLEVBQU96bUYsT0FBT3ltRixRQUFzQyxHQUFLQSxHQUNyRGhyRixLQUFLbzZHLFFBQVVwdkIsSUFHbkJockYsS0FBS282RyxNQUFRcHZCLEVBQ2JockYsS0FBS3N0QyxPQUFRLEVBQ2pCLEVBQ0FuOEIsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWc0RyxFQUFXam9ILFVBQVcsV0FBWSxDQU1wRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBSzBwSCxTQUNoQixFQUNBeDZGLElBQUssU0FBVTluQixHQUNQcEgsS0FBSzBwSCxZQUFjdGlILElBR3ZCcEgsS0FBSzBwSCxVQUFZdGlILEVBQ2pCcEgsS0FBS3N0QyxPQUFRLEVBQ2pCLEVBQ0FuOEIsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWc0RyxFQUFXam9ILFVBQVcsZ0JBQWlCLENBTXpEbVEsSUFBSyxXQUVELE9BREFwUixLQUFLZzZGLFdBQ0VoNkYsS0FBSzJwSCxjQUNoQixFQUNBeDRHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWVnNEcsRUFBV2pvSCxVQUFXLFlBQWEsQ0FNckRtUSxJQUFLLFdBRUQsT0FEQXBSLEtBQUtnNkYsV0FDRWg2RixLQUFLdXBILFVBQ2hCLEVBQ0FwNEcsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWc0RyxFQUFXam9ILFVBQVcsZ0JBQWlCLENBRXpEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLbzFHLGNBQ2hCLEVBQ0FsbUYsSUFBSyxTQUFVOW5CLEdBQ1BwSCxLQUFLbzFHLGlCQUFtQmh1RyxJQUN4QnBILEtBQUtvMUcsZUFBaUJodUcsRUFDdEJwSCxLQUFLc3RDLE9BQVEsRUFFckIsRUFDQW44QixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlZzRHLEVBQVdqb0gsVUFBVyxjQUFlLENBUXZEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLMnhHLFlBQ2hCLEVBQ0F6aUYsSUFBSyxTQUFVOW5CLEdBQ1BBLElBQVVwSCxLQUFLMnhHLGVBQ2YzeEcsS0FBSzJ4RyxhQUFldnFHLEVBQ3BCcEgsS0FBS3N0QyxPQUFRLEVBRXJCLEVBQ0FuOEIsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZWc0RyxFQUFXam9ILFVBQVcsYUFBYyxDQU10RG1RLElBQUssV0FFRCxPQURBcFIsS0FBS2c2RixXQUNFaDZGLEtBQUt3cEgsV0FDaEIsRUFDQXI0RyxZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFlZzRHLEVBQVdqb0gsVUFBVyxhQUFjLENBT3REbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLdzFELFdBQ2hCLEVBQ0F0bUMsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLbTZHLGlCQUFrQixFQUNuQm42RyxLQUFLdzFELGNBQWdCcHVELElBR3pCcEgsS0FBS3cxRCxZQUFjcHVELEVBQ25CcEgsS0FBS3N0QyxPQUFRLEVBQ2pCLEVBQ0FuOEIsWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQis1RixFQUFXam9ILFVBQVVzdEIsUUFBVSxTQUFVemtCLEdBQ3JDLElBQUk4L0csRUFBZ0I1cEgsS0FBSzRwSCxjQUVyQkcsRUFBOEMsU0FEdkMvQyxHQUFXWSxVQUFVNW5ILEtBQUt5cEgsV0FDVGhDLGtCQUN0QnNCLEdBQWtDQyxHQUN4Q2UsRUFBaUJwd0gsS0FBS2lLLE1BQU1tbUgsRUFBa0IvcEgsS0FBS3NwSCxzQkFDbkQsSUFBSyxJQUFJdHFHLEVBQUssRUFBR3RILEVBQUsxWCxLQUFLc3BILHFCQUFzQnRxRyxFQUFLdEgsRUFBRzNlLE9BQVFpbUIsSUFBTSxDQUNuRSxJQUFJa3NHLEVBQWV4ekcsRUFBR3NILEdBQ3RCaGYsS0FBSzZnQyxZQUFZcXFGLEVBQWFHLEtBQ2xDLENBUUEsSUFBSyxJQUFJeDZHLEtBUFQ3USxLQUFLc3BILHFCQUF1QixHQUU1QlMsRUFDSy9sRixRQUFPLFNBQVU2Z0YsR0FBUSxPQUFPK0UsRUFBYy9FLEVBQUt3RyxLQUFLbjhFLFFBQVEvRSxZQUFZemMsSUFBTSxJQUNsRjNvQixTQUFRLFNBQVU4L0csR0FDbkJBLEVBQUt3RyxLQUFLbjhFLFFBQVU4SSxHQUFRL2IsS0FDaEMsSUFDZTJ0RixFQUNHQSxFQUFjLzRHLEdBQ3BCMGQsaUJBQ0RxN0YsRUFBYy80RyxHQUV6QjdRLEtBQUt1NkcsTUFBUSxLQUNidjZHLEtBQUs0cEgsY0FBZ0IsS0FDckIxckYsRUFBT2o5QixVQUFVc3RCLFFBQVE5ckIsS0FBS3pDLEtBQU04SixFQUN4QyxFQUNBby9HLEVBQVdDLGNBQWdCLENBQ3ZCblgsTUFBTyxPQUNQam1GLEtBQU0sU0FDTnE5RixTQUFVLEVBQ1ZwVyxjQUFlLEdBRVprVyxDQUNYLENBOW1CK0IsQ0E4bUI3QnRuRixJQU9FdXFGLEdBQWtDLFdBQ2xDLFNBQVNBLElBQ1QsQ0FtSEEsT0E5R0FBLEVBQWlCcnlGLElBQU0sV0FDbkJrc0QsR0FBZWtDLG9CQUFvQixNQUFPbEMsR0FBZXVFLGtCQUFrQkcsS0FDL0UsRUFRQXloQyxFQUFpQnA4QixJQUFNLFNBQVVqa0QsRUFBVTF5QyxHQUN2QyxJQUFJNlMsRUFBU3U2RyxHQUFpQjE2RSxFQUFTMXpDLE1BRXZDLEdBQUs2VCxFQWdCTCxJQVpBLElBQUk4UixFQUFVb3VHLEVBQWlCMTBHLFdBQVd6WCxLQUFNOHJDLEdBQzVDMXpDLEVBQU82VCxFQUFPcEIsTUFBTWloQyxFQUFTMXpDLE1BQzdCNmlELEVBQVcsQ0FBQyxFQUdaM0osRUFBWSxTQUFVdXpFLEdBQ3RCNXBFLEVBQVM0cEUsRUFBS2pnRixTQUFTd25GLFVBQVl2SCxFQUFLMzFFLFFBQ3BDbHVDLE9BQU9pRSxLQUFLZzJDLEdBQVVsaUQsU0FBV1gsRUFBS3lzSCxLQUFLOXJILFNBQzNDK3lDLEVBQVN1Z0YsV0FBYXJGLEdBQVdVLFFBQVF0dkgsRUFBTTZpRCxHQUFVLEdBQ3pEN2hELElBRVIsRUFDU0UsRUFBSSxFQUFHQSxFQUFJbEIsRUFBS3lzSCxLQUFLOXJILFNBQVVPLEVBQUcsQ0FDdkMsSUFBSTh5SCxFQUFXaDBILEVBQUt5c0gsS0FBS3ZySCxHQUFHbXNILEtBQ3hCMTRHLEVBQU1nUixFQUFVcXVHLEVBQ2hCcG5DLEdBQVMsRUFHYixJQUFLLElBQUl6aUYsS0FBUXZDLEtBQUsydUMsVUFBVyxDQUM3QixJQUFJMjlFLEVBQWlCdHNILEtBQUsydUMsVUFBVXBzQyxHQUNwQyxHQUFJK3BILEVBQWV2L0csTUFBUUEsRUFBSyxDQUM1QnUvRyxFQUFlMW5GLFNBQVN3bkYsU0FBV0EsRUFDL0JFLEVBQWVwOUUsUUFDZm9DLEVBQVVnN0UsR0FHVkEsRUFBZXZrQyxrQkFBa0JqdUQsSUFBSXdYLEdBRXpDMHpDLEdBQVMsRUFDVCxLQUNKLENBQ0osQ0FHQSxJQUFLQSxFQUFRLENBRVQsSUFBSWw3RSxFQUFVLENBQ1Y4bEMsWUFBYTlELEVBQVM4RCxZQUN0QnEzQyxTQUFVakIsR0FBZWdELFVBQVVDLE1BQ25DcmtELFNBQVU1akMsT0FBT3FELE9BQU8sQ0FBRStuSCxTQUFVQSxHQUFZdGdGLEVBQVNsSCxTQUFTZ3lELGVBQ2xFM0csZUFBZ0Jua0QsR0FFcEI5ckMsS0FBSzg1QixJQUFJL3NCLEVBQUtqRCxFQUFTd25DLEVBQzNCLENBQ0osTUEvQ0lsNEMsR0FnRFIsRUFNQSt5SCxFQUFpQjEwRyxXQUFhLFNBQVVtNUUsRUFBUTlrRCxHQUM1QyxJQUFJeWdGLEVBQVV6Z0YsRUFBU3h1QixVQUFxRCxHQUF6QzZ1RyxFQUFpQmh0RyxRQUFRMnNCLEVBQVMvK0IsS0FrQnJFLE9BakJJKytCLEVBQVN4dUIsWUFDTSxNQUFYaXZHLElBQ0FBLEVBQVMsSUFFVDM3QixFQUFPN3lFLFNBQVd3dUcsR0FFdUMsTUFBckQzN0IsRUFBTzd5RSxRQUFRL08sT0FBTzRoRixFQUFPN3lFLFFBQVFobEIsT0FBUyxLQUM5Q3d6SCxHQUFVLE9BS3RCQSxFQUFTQSxFQUFPcmxILFFBQVEwcEYsRUFBTzd5RSxRQUFTLE1BRVcsTUFBckN3dUcsRUFBT3Y5RyxPQUFPdTlHLEVBQU94ekgsT0FBUyxLQUN4Q3d6SCxHQUFVLEtBRVBBLENBQ1gsRUFLQUosRUFBaUJodEcsUUFBVSxTQUFVcFMsR0FDakMsSUFBSStTLEVBQU0vUyxFQUNMN0YsUUFBUSxNQUFPLEtBQ2ZBLFFBQVEsTUFBTyxJQUNmQSxRQUFRLFlBQWEsSUFFMUIsT0FBSTRZLElBQVEvUyxFQUNELElBR00sS0FBUitTLEVBQ0UsSUFFSkEsQ0FDWCxFQUVBcXNHLEVBQWlCeG5GLFVBQVlKLEdBQWNtQixPQUNwQ3ltRixDQUNYLENBdEhxQyxHQ2g5Q2pDLEdBQWdCLFNBQVNyckgsRUFBR3pFLEdBSTVCLE9BSEEsR0FBZ0IyRSxPQUFPODhCLGdCQUNsQixDQUFFMTdCLFVBQVcsY0FBZ0JhLE9BQVMsU0FBVW5DLEVBQUd6RSxHQUFLeUUsRUFBRXNCLFVBQVkvRixDQUFHLEdBQzFFLFNBQVV5RSxFQUFHekUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTZFLGVBQWVwRyxLQUFNZ0csRUFBRWhHLEdBQUt1QixFQUFFdkIsR0FBUSxFQUM5RSxHQUFjZ0csRUFBR3pFLEVBQzVCLEVBd0JJbXdILEdBQTZCLFNBQVV0dUYsR0FLdkMsU0FBU3N1RixFQUFZNWdHLFFBQ0gsSUFBVkEsSUFBb0JBLEVBQVEsR0FDaEMsSUFBSXVTLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBQU0sR0F2QnZCLCtLQXVCZ0QsQ0FBRXlzSCxPQUFRLEtBQVF6c0gsS0FFekUsT0FEQW0rQixFQUFNdlMsTUFBUUEsRUFDUHVTLENBQ1gsQ0FlQSxPQS9DSixTQUFtQnI5QixFQUFHekUsR0FFbEIsU0FBUzJoQyxJQUFPaCtCLEtBQUt3VCxZQUFjMVMsQ0FBRyxDQUR0QyxHQUFjQSxFQUFHekUsR0FFakJ5RSxFQUFFRyxVQUFrQixPQUFONUUsRUFBYTJFLE9BQU9tQixPQUFPOUYsSUFBTTJoQyxFQUFHLzhCLFVBQVk1RSxFQUFFNEUsVUFBVyxJQUFJKzhCLEVBQ25GLENBbUJJLENBQVV3dUYsRUFBYXR1RixHQVV2Qmw5QixPQUFPa1EsZUFBZXM3RyxFQUFZdnJILFVBQVcsUUFBUyxDQUtsRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBS3UrQyxTQUFTa3VFLE1BQ3pCLEVBQ0F2OUYsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLdStDLFNBQVNrdUUsT0FBU3JsSCxDQUMzQixFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVYcTlGLENBQ1gsQ0ExQmdDLENBMEI5Qm4zRCxJQ3JERSxHQUFnQixTQUFTdjBELEVBQUd6RSxHQUk1QixPQUhBLEdBQWdCMkUsT0FBTzg4QixnQkFDbEIsQ0FBRTE3QixVQUFXLGNBQWdCYSxPQUFTLFNBQVVuQyxFQUFHekUsR0FBS3lFLEVBQUVzQixVQUFZL0YsQ0FBRyxHQUMxRSxTQUFVeUUsRUFBR3pFLEdBQUssSUFBSyxJQUFJdkIsS0FBS3VCLEVBQVNBLEVBQUU2RSxlQUFlcEcsS0FBTWdHLEVBQUVoRyxHQUFLdUIsRUFBRXZCLEdBQVEsRUFDOUUsR0FBY2dHLEVBQUd6RSxFQUM1QixFQUVBLFNBQVMsR0FBVXlFLEVBQUd6RSxHQUVsQixTQUFTMmhDLElBQU9oK0IsS0FBS3dULFlBQWMxUyxDQUFHLENBRHRDLEdBQWNBLEVBQUd6RSxHQUVqQnlFLEVBQUVHLFVBQWtCLE9BQU41RSxFQUFhMkUsT0FBT21CLE9BQU85RixJQUFNMmhDLEVBQUcvOEIsVUFBWTVFLEVBQUU0RSxVQUFXLElBQUkrOEIsRUFDbkYsQ0F5QkEsSUFBSTB1RixHQUFrQixDQUNsQixFQUFHLENBQUMsUUFBVSxRQUFVLFNBQ3hCLEVBQUcsQ0FBQyxRQUFVLFFBQVUsUUFBVSxTQUNsQyxFQUFHLENBQUMsUUFBVSxRQUFVLFFBQVUsUUFBVSxRQUM1QyxHQUFJLENBQUMsTUFBUSxRQUFVLFFBQVUsUUFBVSxRQUFVLFNBQ3JELEdBQUksQ0FBQyxRQUFVLFFBQVUsUUFBVSxRQUFVLFFBQVUsUUFBVSxTQUNqRSxHQUFJLENBQUMsT0FBVSxRQUFVLFFBQVUsT0FBUyxRQUFVLFFBQVUsUUFBVSxVQUUxRSxHQUFlLENBQ2YsdUNBQ0EsOEJBQ0Esa0JBQ0EsSUFDQSxnQ0FDQSxhQUNBLEtBQU05bkgsS0FBSyxNQTJCWCtuSCxHQUFnQyxTQUFVenVGLEdBUzFDLFNBQVN5dUYsRUFBZUMsRUFBWUMsRUFBVXRwQyxFQUFTNzBELEVBQVlvK0YsUUFDOUMsSUFBYkQsSUFBdUJBLEVBQVcsUUFDdEIsSUFBWnRwQyxJQUFzQkEsRUFBVSxRQUNqQixJQUFmNzBELElBQXlCQSxFQUFhalUsR0FBU00sd0JBQ2hDLElBQWYreEcsSUFBeUJBLEVBQWEsR0FDMUMsSUFBSTN1RixFQUFRbitCLEtBQ1Irc0gsRUEvRVosU0FBZ0NELEVBQVluMEgsR0FDeEMsSUFHSTRqRSxFQUhBeXdELEVBQWEveUgsS0FBS2s1QixLQUFLMjVGLEVBQWEsR0FDcENHLEVBSFcseXNCQUlYQyxFQUFXLEdBR1gzd0QsRUFEQTVqRSxFQUNXLGlGQUdBLGlGQUVmLElBQUssSUFBSVcsRUFBSSxFQUFHQSxFQUFJd3pILEVBQVl4ekgsSUFBSyxDQUNqQyxJQUFJNnpILEVBQU81d0QsRUFBU3IxRCxRQUFRLFVBQVc1TixFQUFFbXhCLFlBRXpDeWlHLEdBREFDLEVBQU9BLEVBQUtqbUgsUUFBUSxnQkFBaUI1TixHQUFLMHpILEVBQWEsR0FBSyxNQUU1REUsR0FBWSxJQUNoQixDQUdBLE9BRkFELEVBQWFBLEVBQVcvbEgsUUFBUSxTQUFVZ21ILElBQ2xCaG1ILFFBQVEsU0FBVTRsSCxFQUFXcmlHLFdBRXpELENBMkRzQjJpRyxDQUF1Qk4sRUFBWUYsR0FDN0NTLEVBMUNaLFNBQWdDUCxHQU81QixJQU5BLElBS0kxbEgsRUFMQWttSCxFQUFTWixHQUFnQkksR0FDekJFLEVBQWFNLEVBQU92MEgsT0FDcEJ3MEgsRUFBYSxHQUNiTCxFQUFXLEdBR041ekgsRUFBSSxFQUFHQSxFQUFJd3pILEVBQVl4ekgsSUFBSyxDQUNqQyxJQUFJNnpILEVBSE8sMEVBR1NqbUgsUUFBUSxVQUFXNU4sRUFBRW14QixZQUN6Q3JqQixFQUFROU4sRUFDSkEsR0FBSzB6SCxJQUNMNWxILEVBQVEwbEgsRUFBYXh6SCxFQUFJLEdBRzdCNHpILEdBREFDLEVBQU9BLEVBQUtqbUgsUUFBUSxVQUFXb21ILEVBQU9sbUgsR0FBT3FqQixZQUU3Q3lpRyxHQUFZLElBQ2hCLENBR0EsT0FGQUssRUFBYUEsRUFBV3JtSCxRQUFRLFNBQVVnbUgsSUFDbEJobUgsUUFBUSxTQUFVNGxILEVBQVdyaUcsV0FFekQsQ0FzQnNCK2lHLENBQXVCVixHQVdyQyxPQVZBM3VGLEVBQVFELEVBQU96N0IsS0FBS3pDLEtBRXBCK3NILEVBRUFNLElBQVlydEgsTUFDTjRzSCxXQUFhQSxFQUNuQnp1RixFQUFNelAsV0FBYUEsRUFDbkJ5UCxFQUFNc3ZGLFNBQVcsRUFDakJ0dkYsRUFBTW9sRCxRQUFVQSxFQUNoQnBsRCxFQUFNZ3ZGLEtBQU9OLEVBQ04xdUYsQ0FDWCxDQW9GQSxPQS9HQSxHQUFVd3VGLEVBQWdCenVGLEdBbUMxQnl1RixFQUFlMXJILFVBQVUyQyxNQUFRLFNBQVUweEQsRUFBZWx0RCxFQUFPZCxFQUFRODVDLEdBcUJyRSxHQXBCSTk1QyxFQUNJdEgsS0FBSzRzSCxXQUNMNXNILEtBQUt1K0MsU0FBU3N1RSxTQUFZLEVBQUl2bEgsRUFBTzBQLE9BQVUxUCxFQUFPMFAsTUFBUTVPLEVBQU00TyxPQUdwRWhYLEtBQUt1K0MsU0FBU3N1RSxTQUFZLEVBQUl2bEgsRUFBTzJQLFFBQVczUCxFQUFPMlAsT0FBUzdPLEVBQU02TyxRQUl0RWpYLEtBQUs0c0gsV0FFTDVzSCxLQUFLdStDLFNBQVNzdUUsU0FBWSxFQUFJdjNELEVBQWNqeUIsU0FBU3JzQixPQUFVcytDLEVBQWNqeUIsU0FBU3JzQixNQUFRNU8sRUFBTTRPLE9BR3BHaFgsS0FBS3UrQyxTQUFTc3VFLFNBQVksRUFBSXYzRCxFQUFjanlCLFNBQVNwc0IsUUFBV3ErQyxFQUFjanlCLFNBQVNwc0IsT0FBUzdPLEVBQU02TyxRQUk5R2pYLEtBQUt1K0MsU0FBU3N1RSxVQUFZN3NILEtBQUs2c0gsU0FDL0I3c0gsS0FBS3UrQyxTQUFTc3VFLFVBQVk3c0gsS0FBSzB0SCxPQUNYLElBQWhCMXRILEtBQUswdEgsT0FDTHA0RCxFQUFjN1QsWUFBWXpoRCxLQUFNb0ksRUFBT2QsRUFBUTg1QyxPQUU5QyxDQUNELElBQUl1c0UsRUFBZXI0RCxFQUFjMWEsbUJBQzdCdlgsRUFBV2l5QixFQUFjanlCLFNBQ3pCMmQsRUFBTzU0QyxFQUNQNjRDLEVBQU8wc0UsRUFDWDN0SCxLQUFLb2dELE1BQU15VSxPQUFRLEVBQ25CUyxFQUFjN1QsWUFBWXpoRCxLQUFNZ2hELEVBQU1DLEVBQU0xckMsRUFBWTJyQyxPQUN4RCxJQUFLLElBQUk1bkQsRUFBSSxFQUFHQSxFQUFJMEcsS0FBSzB0SCxPQUFTLEVBQUdwMEgsSUFBSyxDQUN0Q2c4RCxFQUFjblUsYUFBYUgsRUFBTXpyQyxFQUFZaXNDLE1BQzdDeGhELEtBQUt1K0MsU0FBU21ELFNBQVdULEVBQ3pCLElBQUlndEQsRUFBT2h0RCxFQUNYQSxFQUFPRCxFQUNQQSxFQUFPaXRELEVBQ1A1cUUsRUFBU3VlLE9BQU8xWCxLQUFLbHFDLE1BQ3JCcWpDLEVBQVM4WixTQUFTNkUsS0FBSyxFQUMzQixDQUNBaGlELEtBQUtvZ0QsTUFBTXlVLE9BQVEsRUFDbkJTLEVBQWM3VCxZQUFZemhELEtBQU1paEQsRUFBTTM1QyxFQUFRODVDLEdBQzlDa1UsRUFBY3ZhLG9CQUFvQjR5RSxFQUN0QyxDQUNKLEVBQ0Ezc0gsT0FBT2tRLGVBQWV5N0csRUFBZTFySCxVQUFXLE9BQVEsQ0FLcERtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs2c0gsUUFDaEIsRUFDQTM5RixJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUtzZ0QsUUFBVSxFQUF1QixFQUFsQnJtRCxLQUFLbUUsSUFBSWdKLEdBQzdCcEgsS0FBSzZzSCxTQUFXemxILENBQ3BCLEVBQ0ErSixZQUFZLEVBQ1pnZSxjQUFjLElBRWxCbnVCLE9BQU9rUSxlQUFleTdHLEVBQWUxckgsVUFBVyxVQUFXLENBTXZEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLeXRILFFBQ2hCLEVBQ0F2K0YsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLeXRILFNBQVdybUgsRUFDaEJwSCxLQUFLMHRILE9BQVN0bUgsQ0FDbEIsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFFWHc5RixDQUNYLENBakhtQyxDQWlIakN0M0QsSUFRRXU0RCxHQUE0QixTQUFVMXZGLEdBUXRDLFNBQVMwdkYsRUFBV2YsRUFBVXRwQyxFQUFTNzBELEVBQVlvK0YsUUFDOUIsSUFBYkQsSUFBdUJBLEVBQVcsUUFDdEIsSUFBWnRwQyxJQUFzQkEsRUFBVSxRQUNqQixJQUFmNzBELElBQXlCQSxFQUFhalUsR0FBU00sd0JBQ2hDLElBQWYreEcsSUFBeUJBLEVBQWEsR0FDMUMsSUFBSTN1RixFQUFRRCxFQUFPejdCLEtBQUt6QyxPQUFTQSxLQU9qQyxPQU5BbStCLEVBQU0wdkYsWUFBYyxJQUFJbEIsSUFBZSxFQUFNRSxFQUFVdHBDLEVBQVM3MEQsRUFBWW8rRixHQUM1RTN1RixFQUFNMnZGLFlBQWMsSUFBSW5CLElBQWUsRUFBT0UsRUFBVXRwQyxFQUFTNzBELEVBQVlvK0YsR0FDN0UzdUYsRUFBTXpQLFdBQWFBLEVBQ25CeVAsRUFBTW9sRCxRQUFVQSxFQUNoQnBsRCxFQUFNZ3ZGLEtBQU9OLEVBQ2IxdUYsRUFBTTR2RixrQkFBbUIsRUFDbEI1dkYsQ0FDWCxDQXdIQSxPQTVJQSxHQUFVeXZGLEVBQVkxdkYsR0E0QnRCMHZGLEVBQVczc0gsVUFBVTJDLE1BQVEsU0FBVTB4RCxFQUFlbHRELEVBQU9kLEVBQVE4NUMsR0FDakUsSUFBSTRzRSxFQUFZL3pILEtBQUttRSxJQUFJNEIsS0FBSzZ0SCxZQUFZaEIsVUFDdENvQixFQUFZaDBILEtBQUttRSxJQUFJNEIsS0FBSzh0SCxZQUFZakIsVUFDMUMsR0FBSW1CLEdBQWFDLEVBQVcsQ0FDeEIsSUFBSU4sRUFBZXI0RCxFQUFjMWEsbUJBQ2pDNTZDLEtBQUs2dEgsWUFBWWpxSCxNQUFNMHhELEVBQWVsdEQsRUFBT3VsSCxFQUFjcDRHLEVBQVkyckMsT0FDdkVsaEQsS0FBSzh0SCxZQUFZbHFILE1BQU0weEQsRUFBZXE0RCxFQUFjcm1ILEVBQVE4NUMsR0FDNURrVSxFQUFjdmEsb0JBQW9CNHlFLEVBQ3RDLE1BQ1NNLEVBQ0xqdUgsS0FBSzh0SCxZQUFZbHFILE1BQU0weEQsRUFBZWx0RCxFQUFPZCxFQUFRODVDLEdBR3JEcGhELEtBQUs2dEgsWUFBWWpxSCxNQUFNMHhELEVBQWVsdEQsRUFBT2QsRUFBUTg1QyxFQUU3RCxFQUNBd3NFLEVBQVczc0gsVUFBVWl0SCxjQUFnQixXQUM3Qmx1SCxLQUFLbXVILGtCQUNMbnVILEtBQUtzZ0QsUUFBVSxFQUdmdGdELEtBQUtzZ0QsUUFBK0YsRUFBckZybUQsS0FBS0MsSUFBSUQsS0FBS21FLElBQUk0QixLQUFLNnRILFlBQVloQixVQUFXNXlILEtBQUttRSxJQUFJNEIsS0FBSzh0SCxZQUFZakIsVUFFL0YsRUFDQTdySCxPQUFPa1EsZUFBZTA4RyxFQUFXM3NILFVBQVcsT0FBUSxDQUtoRG1RLElBQUssV0FDRCxPQUFPcFIsS0FBSzZ0SCxZQUFZVixJQUM1QixFQUNBaitGLElBQUssU0FBVTluQixHQUNYcEgsS0FBSzZ0SCxZQUFZVixLQUFPbnRILEtBQUs4dEgsWUFBWVgsS0FBTy9sSCxFQUNoRHBILEtBQUtrdUgsZUFDVCxFQUNBLzhHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWUwOEcsRUFBVzNzSCxVQUFXLFVBQVcsQ0FLbkRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs2dEgsWUFBWXRxQyxPQUM1QixFQUNBcjBELElBQUssU0FBVTluQixHQUNYcEgsS0FBSzZ0SCxZQUFZdHFDLFFBQVV2akYsS0FBSzh0SCxZQUFZdnFDLFFBQVVuOEUsQ0FDMUQsRUFDQStKLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWUwOEcsRUFBVzNzSCxVQUFXLFFBQVMsQ0FLakRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs2dEgsWUFBWVYsSUFDNUIsRUFDQWorRixJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs2dEgsWUFBWVYsS0FBTy9sSCxFQUN4QnBILEtBQUtrdUgsZUFDVCxFQUNBLzhHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWUwOEcsRUFBVzNzSCxVQUFXLFFBQVMsQ0FLakRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs4dEgsWUFBWVgsSUFDNUIsRUFDQWorRixJQUFLLFNBQVU5bkIsR0FDWHBILEtBQUs4dEgsWUFBWVgsS0FBTy9sSCxFQUN4QnBILEtBQUtrdUgsZUFDVCxFQUNBLzhHLFlBQVksRUFDWmdlLGNBQWMsSUFFbEJudUIsT0FBT2tRLGVBQWUwOEcsRUFBVzNzSCxVQUFXLFlBQWEsQ0FLckRtUSxJQUFLLFdBQ0QsT0FBT3BSLEtBQUs4dEgsWUFBWXJpRyxTQUM1QixFQUNBeUQsSUFBSyxTQUFVOW5CLEdBQ1hwSCxLQUFLOHRILFlBQVlyaUcsVUFBWXJrQixDQUNqQyxFQUNBK0osWUFBWSxFQUNaZ2UsY0FBYyxJQUVsQm51QixPQUFPa1EsZUFBZTA4RyxFQUFXM3NILFVBQVcsbUJBQW9CLENBSzVEbVEsSUFBSyxXQUNELE9BQU9wUixLQUFLbXVILGlCQUNoQixFQUNBai9GLElBQUssU0FBVTluQixHQUNYcEgsS0FBS211SCxrQkFBb0IvbUgsRUFDekJwSCxLQUFLa3VILGVBQ1QsRUFDQS84RyxZQUFZLEVBQ1pnZSxjQUFjLElBRVh5K0YsQ0FDWCxDQTlJK0IsQ0E4STdCdjRELElDdlZFLEdBQWdCLFNBQVN2MEQsRUFBR3pFLEdBSTVCLE9BSEEsR0FBZ0IyRSxPQUFPODhCLGdCQUNsQixDQUFFMTdCLFVBQVcsY0FBZ0JhLE9BQVMsU0FBVW5DLEVBQUd6RSxHQUFLeUUsRUFBRXNCLFVBQVkvRixDQUFHLEdBQzFFLFNBQVV5RSxFQUFHekUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTZFLGVBQWVwRyxLQUFNZ0csRUFBRWhHLEdBQUt1QixFQUFFdkIsR0FBUSxFQUM5RSxHQUFjZ0csRUFBR3pFLEVBQzVCLEVBdUJJK3hILEdBQW1DLFNBQVVsd0YsR0FFN0MsU0FBU2t3RixJQUNMLElBQUlqd0YsRUFBUW4rQixLQUNSdStDLEVBQVcsQ0FDWDVnRCxFQUFHLElBQUk4WSxhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDaEJnMkcsT0FBUSxHQUlaLE9BRkF0dUYsRUFBUUQsRUFBT3o3QixLQUFLekMsS0FBTWd3RSxHQTFCbkIsb3NDQTBCa0R6eEIsSUFBYXYrQyxNQUNoRTRyQixNQUFRLEVBQ1B1UyxDQUNYLENBMGJBLE9BN2RKLFNBQW1CcjlCLEVBQUd6RSxHQUVsQixTQUFTMmhDLElBQU9oK0IsS0FBS3dULFlBQWMxUyxDQUFHLENBRHRDLEdBQWNBLEVBQUd6RSxHQUVqQnlFLEVBQUVHLFVBQWtCLE9BQU41RSxFQUFhMkUsT0FBT21CLE9BQU85RixJQUFNMmhDLEVBQUcvOEIsVUFBWTVFLEVBQUU0RSxVQUFXLElBQUkrOEIsRUFDbkYsQ0FrQkksQ0FBVW93RixFQUFtQmx3RixHQW9CN0Jrd0YsRUFBa0JudEgsVUFBVW90SCxZQUFjLFNBQVUzM0YsRUFBUTQzRixRQUN2QyxJQUFiQSxJQUF1QkEsR0FBVyxHQUN0QyxJQUFJQyxFQUFZNzNGLEVBQ1o0M0YsSUFDQXR1SCxLQUFLd3VILFVBQVVELEVBQVd2dUgsS0FBS3UrQyxTQUFTNWdELEVBQUcrNEIsR0FDM0M2M0YsRUFBWXZ1SCxLQUFLeXVILGFBQWFGLElBR2xDdnVILEtBQUt1K0MsU0FBUzVnRCxFQUFJNHdILENBQ3RCLEVBU0FILEVBQWtCbnRILFVBQVV1dEgsVUFBWSxTQUFVbm1ILEVBQUtqTSxFQUFHQyxHQXlCdEQsT0F2QkFnTSxFQUFJLEdBQU1qTSxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEVnTSxFQUFJLEdBQU1qTSxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEVnTSxFQUFJLEdBQU1qTSxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEVnTSxFQUFJLEdBQU1qTSxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEVnTSxFQUFJLEdBQU1qTSxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFBT0QsRUFBRSxHQUU3RWlNLEVBQUksR0FBTWpNLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRWdNLEVBQUksR0FBTWpNLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRWdNLEVBQUksR0FBTWpNLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRWdNLEVBQUksR0FBTWpNLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRWdNLEVBQUksR0FBTWpNLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUFPRCxFQUFFLEdBRTdFaU0sRUFBSSxJQUFPak0sRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFZ00sRUFBSSxJQUFPak0sRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFZ00sRUFBSSxJQUFPak0sRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFZ00sRUFBSSxJQUFPak0sRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFZ00sRUFBSSxJQUFPak0sRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQU9ELEVBQUUsSUFFbEZpTSxFQUFJ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RUFHVGt3RCxHQUFVRixHQUFXLElBQUssS0FBUUQsSUFBWSxDQUFDLElBQy9DSSxHQUFVSCxHQUFXLEtBQUssS0FBUUQsSUFBWSxDQUFDLElBQy9DSyxHQUFVSixHQUFXLEtBQUssS0FBUUQsSUFBWSxFQUFFLElBRXRESCxHQUFJclYsTUFBTWgwRixTQUFTMnBHLElBQ25CTixHQUFJclYsTUFBTWgwRixTQUFTNHBHLElBQ25CUCxHQUFJclYsTUFBTWgwRixTQUFTNnBHLElBRW5CUixHQUFJaGhHLE9BQU9sUCxLQUFLaHlCLElBQ2RvaUksR0FBV2wvQyxLQUFPLEtBQU9tL0MsRUFBRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb21pc2UtcG9seWZpbGwvc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9maW5hbGx5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXBvbHlmaWxsL3NyYy9hbGxTZXR0bGVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wb2x5ZmlsbC9kaXN0L2VzbS9wb2x5ZmlsbC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbnN0YW50cy9kaXN0L2VzbS9jb25zdGFudHMubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zZXR0aW5ncy9kaXN0L2VzbS9zZXR0aW5ncy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2Rpc3QvZXNtL3V0aWxzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9kaXN0L2VzbS9tYXRoLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZGlzcGxheS9kaXN0L2VzbS9kaXNwbGF5Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZXh0ZW5zaW9ucy9kaXN0L2VzbS9leHRlbnNpb25zLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvdGlja2VyL2Rpc3QvZXNtL3RpY2tlci5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3J1bm5lci9kaXN0L2VzbS9ydW5uZXIubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2Rpc3QvZXNtL2NvcmUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9hY2Nlc3NpYmlsaXR5L2Rpc3QvZXNtL2FjY2Vzc2liaWxpdHkubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9pbnRlcmFjdGlvbi9kaXN0L2VzbS9pbnRlcmFjdGlvbi5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2V4dHJhY3QvZGlzdC9lc20vZXh0cmFjdC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2xvYWRlcnMvZGlzdC9lc20vbG9hZGVycy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMvZGlzdC9lc20vY29tcHJlc3NlZC10ZXh0dXJlcy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lci9kaXN0L2VzbS9wYXJ0aWNsZS1jb250YWluZXIubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9kaXN0L2VzbS9ncmFwaGljcy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvZGlzdC9lc20vdGV4dC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9kaXN0L2VzbS9zcHJpdGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2Rpc3QvZXNtL3ByZXBhcmUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGVzaGVldC9kaXN0L2VzbS9zcHJpdGVzaGVldC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvZGlzdC9lc20vc3ByaXRlLXRpbGluZy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvZGlzdC9lc20vbWVzaC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2Rpc3QvZXNtL3RleHQtYml0bWFwLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWFscGhhL2Rpc3QvZXNtL2ZpbHRlci1hbHBoYS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2Rpc3QvZXNtL2ZpbHRlci1ibHVyLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9kaXN0L2VzbS9maWx0ZXItY29sb3ItbWF0cml4Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9kaXN0L2VzbS9maWx0ZXItZGlzcGxhY2VtZW50Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvZGlzdC9lc20vZmlsdGVyLWZ4YWEubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItbm9pc2UvZGlzdC9lc20vZmlsdGVyLW5vaXNlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwL2Rpc3QvZXNtL21peGluLWNhY2hlLWFzLWJpdG1hcC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lL2Rpc3QvZXNtL21peGluLWdldC1jaGlsZC1ieS1uYW1lLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi9kaXN0L2VzbS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2Rpc3QvZXNtL2FwcC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gtZXh0cmFzL2Rpc3QvZXNtL21lc2gtZXh0cmFzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLWFuaW1hdGVkL2Rpc3QvZXNtL3Nwcml0ZS1hbmltYXRlZC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvZGlzdC9lc20vcGl4aS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Jhc2lzL2Rpc3QvZXNtL2Jhc2lzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvYXNzZXRzL2Rpc3QvZXNtL2Fzc2V0cy5tanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMzI3NjcgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMCk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSB8IDApO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSB8IDApO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRleCBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXNcbiAgICAgICAgICAgIGVhciA9IG5leHQubmV4dDtcbiAgICAgICAgICAgIHN0b3AgPSBuZXh0Lm5leHQ7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWFyID0gbmV4dDtcblxuICAgICAgICAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xuICAgICAgICBpZiAoZWFyID09PSBzdG9wKSB7XG4gICAgICAgICAgICAvLyB0cnkgZmlsdGVyaW5nIHBvaW50cyBhbmQgc2xpY2luZyBhZ2FpblxuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBlYXIgPSBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xuXG4gICAgICAgICAgICAvLyBhcyBhIGxhc3QgcmVzb3J0LCB0cnkgc3BsaXR0aW5nIHRoZSByZW1haW5pbmcgcG9seWdvbiBpbnRvIHR3b1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRFYXJjdXQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcbmZ1bmN0aW9uIGlzRWFyKGVhcikge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXG4gICAgICAgIHgxID0gYXggPiBieCA/IChheCA+IGN4ID8gYXggOiBjeCkgOiAoYnggPiBjeCA/IGJ4IDogY3gpLFxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcblxuICAgIHZhciBwID0gYy5uZXh0O1xuICAgIHdoaWxlIChwICE9PSBhKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgdmFyIGF4ID0gYS54LCBieCA9IGIueCwgY3ggPSBjLngsIGF5ID0gYS55LCBieSA9IGIueSwgY3kgPSBjLnk7XG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciB4MCA9IGF4IDwgYnggPyAoYXggPCBjeCA/IGF4IDogY3gpIDogKGJ4IDwgY3ggPyBieCA6IGN4KSxcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXG4gICAgICAgIHgxID0gYXggPiBieCA/IChheCA+IGN4ID8gYXggOiBjeCkgOiAoYnggPiBjeCA/IGJ4IDogY3gpLFxuICAgICAgICB5MSA9IGF5ID4gYnkgPyAoYXkgPiBjeSA/IGF5IDogY3kpIDogKGJ5ID4gY3kgPyBieSA6IGN5KTtcblxuICAgIC8vIHotb3JkZXIgcmFuZ2UgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlIGJib3g7XG4gICAgdmFyIG1pblogPSB6T3JkZXIoeDAsIHkwLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSxcbiAgICAgICAgbWF4WiA9IHpPcmRlcih4MSwgeTEsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHAgPSBlYXIucHJldlosXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnNcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4ueCA+PSB4MCAmJiBuLnggPD0geDEgJiYgbi55ID49IHkwICYmIG4ueSA8PSB5MSAmJiBuICE9PSBhICYmIG4gIT09IGMgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBuLngsIG4ueSkgJiYgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBpbmNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAobi54ID49IHgwICYmIG4ueCA8PSB4MSAmJiBuLnkgPj0geTAgJiYgbi55IDw9IHkxICYmIG4gIT09IGEgJiYgbiAhPT0gYyAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIG4ueCwgbi55KSAmJiBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0gfCAwKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSB8IDApO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltIHwgMCk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIGJyaWRnZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKCFicmlkZ2UpIHtcbiAgICAgICAgcmV0dXJuIG91dGVyTm9kZTtcbiAgICB9XG5cbiAgICB2YXIgYnJpZGdlUmV2ZXJzZSA9IHNwbGl0UG9seWdvbihicmlkZ2UsIGhvbGUpO1xuXG4gICAgLy8gZmlsdGVyIGNvbGxpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgZmlsdGVyUG9pbnRzKGJyaWRnZVJldmVyc2UsIGJyaWRnZVJldmVyc2UubmV4dCk7XG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhicmlkZ2UsIGJyaWRnZS5uZXh0KTtcbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xuXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAobG9jYWxseUluc2lkZShwLCBob2xlKSAmJlxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RvcCk7XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXG5mdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7XG4gICAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gMCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gKHggLSBtaW5YKSAqIGludlNpemUgfCAwO1xuICAgIHkgPSAoeSAtIG1pblkpICogaW52U2l6ZSB8IDA7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpID49IChheCAtIHB4KSAqIChjeSAtIHB5KSAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgPj0gKGJ4IC0gcHgpICogKGF5IC0gcHkpICYmXG4gICAgICAgICAgIChieCAtIHB4KSAqIChjeSAtIHB5KSA+PSAoY3ggLSBweCkgKiAoYnkgLSBweSk7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2Vcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xuXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcblxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcbn1cblxuZnVuY3Rpb24gc2lnbihudW0pIHtcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IDA7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuMy4yIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjMuMicsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsgLy8gaW4gTm9kZS5qcyBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7IC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgeyAvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBvYmpba10ubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiaW1wb3J0IHByb21pc2VGaW5hbGx5IGZyb20gJy4vZmluYWxseSc7XG5pbXBvcnQgYWxsU2V0dGxlZCBmcm9tICcuL2FsbFNldHRsZWQnO1xuXG4vLyBTdG9yZSBzZXRUaW1lb3V0IHJlZmVyZW5jZSBzbyBwcm9taXNlLXBvbHlmaWxsIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuLy8gb3RoZXIgY29kZSBtb2RpZnlpbmcgc2V0VGltZW91dCAobGlrZSBzaW5vbi51c2VGYWtlVGltZXJzKCkpXG52YXIgc2V0VGltZW91dEZ1bmMgPSBzZXRUaW1lb3V0O1xuXG5mdW5jdGlvbiBpc0FycmF5KHgpIHtcbiAgcmV0dXJuIEJvb2xlYW4oeCAmJiB0eXBlb2YgeC5sZW5ndGggIT09ICd1bmRlZmluZWQnKTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8vIFBvbHlmaWxsIGZvciBGdW5jdGlvbi5wcm90b3R5cGUuYmluZFxuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIFByb21pc2UoZm4pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpO1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdub3QgYSBmdW5jdGlvbicpO1xuICAvKiogQHR5cGUgeyFudW1iZXJ9ICovXG4gIHRoaXMuX3N0YXRlID0gMDtcbiAgLyoqIEB0eXBlIHshYm9vbGVhbn0gKi9cbiAgdGhpcy5faGFuZGxlZCA9IGZhbHNlO1xuICAvKiogQHR5cGUge1Byb21pc2V8dW5kZWZpbmVkfSAqL1xuICB0aGlzLl92YWx1ZSA9IHVuZGVmaW5lZDtcbiAgLyoqIEB0eXBlIHshQXJyYXk8IUZ1bmN0aW9uPn0gKi9cbiAgdGhpcy5fZGVmZXJyZWRzID0gW107XG5cbiAgZG9SZXNvbHZlKGZuLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlKHNlbGYsIGRlZmVycmVkKSB7XG4gIHdoaWxlIChzZWxmLl9zdGF0ZSA9PT0gMykge1xuICAgIHNlbGYgPSBzZWxmLl92YWx1ZTtcbiAgfVxuICBpZiAoc2VsZi5fc3RhdGUgPT09IDApIHtcbiAgICBzZWxmLl9kZWZlcnJlZHMucHVzaChkZWZlcnJlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbGYuX2hhbmRsZWQgPSB0cnVlO1xuICBQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpIHtcbiAgICB2YXIgY2IgPSBzZWxmLl9zdGF0ZSA9PT0gMSA/IGRlZmVycmVkLm9uRnVsZmlsbGVkIDogZGVmZXJyZWQub25SZWplY3RlZDtcbiAgICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICAgIChzZWxmLl9zdGF0ZSA9PT0gMSA/IHJlc29sdmUgOiByZWplY3QpKGRlZmVycmVkLnByb21pc2UsIHNlbGYuX3ZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJldDtcbiAgICB0cnkge1xuICAgICAgcmV0ID0gY2Ioc2VsZi5fdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChkZWZlcnJlZC5wcm9taXNlLCBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzb2x2ZShkZWZlcnJlZC5wcm9taXNlLCByZXQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShzZWxmLCBuZXdWYWx1ZSkge1xuICB0cnkge1xuICAgIC8vIFByb21pc2UgUmVzb2x1dGlvbiBQcm9jZWR1cmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9taXNlcy1hcGx1cy9wcm9taXNlcy1zcGVjI3RoZS1wcm9taXNlLXJlc29sdXRpb24tcHJvY2VkdXJlXG4gICAgaWYgKG5ld1ZhbHVlID09PSBzZWxmKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4nKTtcbiAgICBpZiAoXG4gICAgICBuZXdWYWx1ZSAmJlxuICAgICAgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG5ld1ZhbHVlID09PSAnZnVuY3Rpb24nKVxuICAgICkge1xuICAgICAgdmFyIHRoZW4gPSBuZXdWYWx1ZS50aGVuO1xuICAgICAgaWYgKG5ld1ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBzZWxmLl9zdGF0ZSA9IDM7XG4gICAgICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGZpbmFsZShzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkb1Jlc29sdmUoYmluZCh0aGVuLCBuZXdWYWx1ZSksIHNlbGYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGYuX3N0YXRlID0gMTtcbiAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIGZpbmFsZShzZWxmKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChzZWxmLCBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3Qoc2VsZiwgbmV3VmFsdWUpIHtcbiAgc2VsZi5fc3RhdGUgPSAyO1xuICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICBmaW5hbGUoc2VsZik7XG59XG5cbmZ1bmN0aW9uIGZpbmFsZShzZWxmKSB7XG4gIGlmIChzZWxmLl9zdGF0ZSA9PT0gMiAmJiBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoID09PSAwKSB7XG4gICAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXNlbGYuX2hhbmRsZWQpIHtcbiAgICAgICAgUHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4oc2VsZi5fdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNlbGYuX2RlZmVycmVkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGhhbmRsZShzZWxmLCBzZWxmLl9kZWZlcnJlZHNbaV0pO1xuICB9XG4gIHNlbGYuX2RlZmVycmVkcyA9IG51bGw7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb21pc2UpIHtcbiAgdGhpcy5vbkZ1bGZpbGxlZCA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogbnVsbDtcbiAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBUYWtlIGEgcG90ZW50aWFsbHkgbWlzYmVoYXZpbmcgcmVzb2x2ZXIgZnVuY3Rpb24gYW5kIG1ha2Ugc3VyZVxuICogb25GdWxmaWxsZWQgYW5kIG9uUmVqZWN0ZWQgYXJlIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogTWFrZXMgbm8gZ3VhcmFudGVlcyBhYm91dCBhc3luY2hyb255LlxuICovXG5mdW5jdGlvbiBkb1Jlc29sdmUoZm4sIHNlbGYpIHtcbiAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBmbihcbiAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvbHZlKHNlbGYsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlamVjdChzZWxmLCByZWFzb24pO1xuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICBkb25lID0gdHJ1ZTtcbiAgICByZWplY3Qoc2VsZiwgZXgpO1xuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlWydjYXRjaCddID0gZnVuY3Rpb24ob25SZWplY3RlZCkge1xuICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgdmFyIHByb20gPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBoYW5kbGUodGhpcywgbmV3IEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb20pKTtcbiAgcmV0dXJuIHByb207XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddID0gcHJvbWlzZUZpbmFsbHk7XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24oYXJyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIWlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdQcm9taXNlLmFsbCBhY2NlcHRzIGFuIGFycmF5JykpO1xuICAgIH1cblxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiByZXNvbHZlKFtdKTtcbiAgICB2YXIgcmVtYWluaW5nID0gYXJncy5sZW5ndGg7XG5cbiAgICBmdW5jdGlvbiByZXMoaSwgdmFsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodmFsICYmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgIHZhciB0aGVuID0gdmFsLnRoZW47XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGVuLmNhbGwoXG4gICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXJnc1tpXSA9IHZhbDtcbiAgICAgICAgaWYgKC0tcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgcmVzb2x2ZShhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcyhpLCBhcmdzW2ldKTtcbiAgICB9XG4gIH0pO1xufTtcblxuUHJvbWlzZS5hbGxTZXR0bGVkID0gYWxsU2V0dGxlZDtcblxuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IFByb21pc2UpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlamVjdCh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24oYXJyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIWlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdQcm9taXNlLnJhY2UgYWNjZXB0cyBhbiBhcnJheScpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoYXJyW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIFVzZSBwb2x5ZmlsbCBmb3Igc2V0SW1tZWRpYXRlIGZvciBwZXJmb3JtYW5jZSBnYWluc1xuUHJvbWlzZS5faW1tZWRpYXRlRm4gPVxuICAvLyBAdHMtaWdub3JlXG4gICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nICYmXG4gICAgZnVuY3Rpb24oZm4pIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgfSkgfHxcbiAgZnVuY3Rpb24oZm4pIHtcbiAgICBzZXRUaW1lb3V0RnVuYyhmbiwgMCk7XG4gIH07XG5cblByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gX3VuaGFuZGxlZFJlamVjdGlvbkZuKGVycikge1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1Bvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjonLCBlcnIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTtcbiIsIi8qKlxuICogQHRoaXMge1Byb21pc2V9XG4gKi9cbmZ1bmN0aW9uIGZpbmFsbHlDb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICB2YXIgY29uc3RydWN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdGhpcy50aGVuKFxuICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZpbmFsbHlDb25zdHJ1Y3RvcjtcbiIsImZ1bmN0aW9uIGFsbFNldHRsZWQoYXJyKSB7XG4gIHZhciBQID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghKGFyciAmJiB0eXBlb2YgYXJyLmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIHR5cGVvZiBhcnIgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIGFyciArXG4gICAgICAgICAgICAnIGlzIG5vdCBpdGVyYWJsZShjYW5ub3QgcmVhZCBwcm9wZXJ0eSBTeW1ib2woU3ltYm9sLml0ZXJhdG9yKSknXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiByZXNvbHZlKFtdKTtcbiAgICB2YXIgcmVtYWluaW5nID0gYXJncy5sZW5ndGg7XG5cbiAgICBmdW5jdGlvbiByZXMoaSwgdmFsKSB7XG4gICAgICBpZiAodmFsICYmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGVuLmNhbGwoXG4gICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICBhcmdzW2ldID0geyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbjogZSB9O1xuICAgICAgICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFyZ3NbaV0gPSB7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlOiB2YWwgfTtcbiAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFsbFNldHRsZWQ7XG4iLCIvKiFcbiAqIEBwaXhpL3BvbHlmaWxsIC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL3BvbHlmaWxsIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IFBvbHlmaWxsIGZyb20gJ3Byb21pc2UtcG9seWZpbGwnO1xuaW1wb3J0IG9iamVjdEFzc2lnbiBmcm9tICdvYmplY3QtYXNzaWduJztcblxuaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gY292ZXJzIGJyb3dzZXJzXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm90LXdyaXRhYmxlIHRzKDI1NDApIGVycm9yIG9ubHkgb24gbm9kZVxuICAgICAgICBzZWxmLmdsb2JhbFRoaXMgPSBzZWxmO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBjb3ZlcnMgdmVyc2lvbnMgb2YgTm9kZSA8IDEyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm90LXdyaXRhYmxlIHRzKDI1NDApIGVycm9yIG9ubHkgb24gbm9kZVxuICAgICAgICBnbG9iYWwuZ2xvYmFsVGhpcyA9IGdsb2JhbDtcbiAgICB9XG59XG5cbi8vIFN1cHBvcnQgZm9yIElFIDkgLSAxMSB3aGljaCBkb2VzIG5vdCBpbmNsdWRlIFByb21pc2VzXG5pZiAoIWdsb2JhbFRoaXMuUHJvbWlzZSkge1xuICAgIGdsb2JhbFRoaXMuUHJvbWlzZSA9IFBvbHlmaWxsO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmFzc2lnbiA9IG9iamVjdEFzc2lnbjtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuLy8gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIEJyb3dzZXJmaXlcbi8vIEJyb3dzZXJpZnkgYXV0b21hdGljYWxseSBkZXRlY3RzIHRoZSB1c2Ugb2YgYGdsb2JhbGAgYW5kIHBhc3NlcyB0aGVcbi8vIGNvcnJlY3QgcmVmZXJlbmNlIG9mIGBnbG9iYWxgLCBgZ2xvYmFsVGhpc2AsIGFuZCBmaW5hbGx5IGB3aW5kb3dgXG52YXIgT05FX0ZSQU1FX1RJTUUgPSAxNjtcbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSkge1xuICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cbi8vIHBlcmZvcm1hbmNlLm5vd1xuaWYgKCEoZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZSAmJiBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lXzEgPSBEYXRlLm5vdygpO1xuICAgIGlmICghZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZSkge1xuICAgICAgICBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuICAgIGdsb2JhbFRoaXMucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZV8xOyB9O1xufVxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhZ2xvYmFsVGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgIHZhciBwID0gdmVuZG9yc1t4XTtcbiAgICBnbG9iYWxUaGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbFRoaXNbcCArIFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xuICAgIGdsb2JhbFRoaXMuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBnbG9iYWxUaGlzW3AgKyBcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdXG4gICAgICAgIHx8IGdsb2JhbFRoaXNbcCArIFwiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xufVxuaWYgKCFnbG9iYWxUaGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIGdsb2JhbFRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2sgKyBcImlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBkZWxheSA9IE9ORV9GUkFNRV9USU1FICsgbGFzdFRpbWUgLSBjdXJyZW50VGltZTtcbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzLnNlbGYuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjYWxsYmFjayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9O1xufVxuaWYgKCFnbG9iYWxUaGlzLmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgZ2xvYmFsVGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTsgfTtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lnblxuaWYgKCFNYXRoLnNpZ24pIHtcbiAgICBNYXRoLnNpZ24gPSBmdW5jdGlvbiBtYXRoU2lnbih4KSB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG4gICAgICAgIGlmICh4ID09PSAwIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG4gICAgfTtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc0ludGVnZXJcbmlmICghTnVtYmVyLmlzSW50ZWdlcikge1xuICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiBudW1iZXJJc0ludGVnZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgICB9O1xufVxuXG5pZiAoIWdsb2JhbFRoaXMuQXJyYXlCdWZmZXIpIHtcbiAgICBnbG9iYWxUaGlzLkFycmF5QnVmZmVyID0gQXJyYXk7XG59XG5pZiAoIWdsb2JhbFRoaXMuRmxvYXQzMkFycmF5KSB7XG4gICAgZ2xvYmFsVGhpcy5GbG9hdDMyQXJyYXkgPSBBcnJheTtcbn1cbmlmICghZ2xvYmFsVGhpcy5VaW50MzJBcnJheSkge1xuICAgIGdsb2JhbFRoaXMuVWludDMyQXJyYXkgPSBBcnJheTtcbn1cbmlmICghZ2xvYmFsVGhpcy5VaW50MTZBcnJheSkge1xuICAgIGdsb2JhbFRoaXMuVWludDE2QXJyYXkgPSBBcnJheTtcbn1cbmlmICghZ2xvYmFsVGhpcy5VaW50OEFycmF5KSB7XG4gICAgZ2xvYmFsVGhpcy5VaW50OEFycmF5ID0gQXJyYXk7XG59XG5pZiAoIWdsb2JhbFRoaXMuSW50MzJBcnJheSkge1xuICAgIGdsb2JhbFRoaXMuSW50MzJBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9seWZpbGwubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb25zdGFudHMgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvY29uc3RhbnRzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFJFTkRFUkVSX1RZUEVcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5LTk9XTiAtIFVua25vd24gcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBXZWJHTCByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDQU5WQVMgLSBDYW52YXMgcmVuZGVyIHR5cGUuXG4gKi9cbnZhciBSRU5ERVJFUl9UWVBFO1xuKGZ1bmN0aW9uIChSRU5ERVJFUl9UWVBFKSB7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiVU5LTk9XTlwiXSA9IDBdID0gXCJVTktOT1dOXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJDQU5WQVNcIl0gPSAyXSA9IFwiQ0FOVkFTXCI7XG59KShSRU5ERVJFUl9UWVBFIHx8IChSRU5ERVJFUl9UWVBFID0ge30pKTtcbi8qKlxuICogQml0d2lzZSBPUiBvZiBtYXNrcyB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQlVGRkVSX0JJVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1IgLSBJbmRpY2F0ZXMgdGhlIGJ1ZmZlcnMgY3VycmVudGx5IGVuYWJsZWQgZm9yIGNvbG9yIHdyaXRpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEggLSBJbmRpY2F0ZXMgdGhlIGRlcHRoIGJ1ZmZlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gSW5kaWNhdGVzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAqL1xudmFyIEJVRkZFUl9CSVRTO1xuKGZ1bmN0aW9uIChCVUZGRVJfQklUUykge1xuICAgIEJVRkZFUl9CSVRTW0JVRkZFUl9CSVRTW1wiQ09MT1JcIl0gPSAxNjM4NF0gPSBcIkNPTE9SXCI7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJERVBUSFwiXSA9IDI1Nl0gPSBcIkRFUFRIXCI7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJTVEVOQ0lMXCJdID0gMTAyNF0gPSBcIlNURU5DSUxcIjtcbn0pKEJVRkZFUl9CSVRTIHx8IChCVUZGRVJfQklUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUwgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERCAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFkgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTiAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gT1ZFUkxBWSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9ET0RHRSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTiAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVCAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gU09GVF9MSUdIVCAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIVUUgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT04gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTk9TSVRZIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxfTlBNIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5fTlBNIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU4gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVVQgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19BVE9QIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUiAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0lOIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1VUIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUCAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1VCVFJBQ1QgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVkVSIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gWE9SIC1cbiAqL1xudmFyIEJMRU5EX01PREVTO1xuKGZ1bmN0aW9uIChCTEVORF9NT0RFUykge1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREXCJdID0gMV0gPSBcIkFERFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTVVMVElQTFlcIl0gPSAyXSA9IFwiTVVMVElQTFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTlwiXSA9IDNdID0gXCJTQ1JFRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk9WRVJMQVlcIl0gPSA0XSA9IFwiT1ZFUkxBWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiREFSS0VOXCJdID0gNV0gPSBcIkRBUktFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTElHSFRFTlwiXSA9IDZdID0gXCJMSUdIVEVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9ET0RHRVwiXSA9IDddID0gXCJDT0xPUl9ET0RHRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfQlVSTlwiXSA9IDhdID0gXCJDT0xPUl9CVVJOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIQVJEX0xJR0hUXCJdID0gOV0gPSBcIkhBUkRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNPRlRfTElHSFRcIl0gPSAxMF0gPSBcIlNPRlRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRJRkZFUkVOQ0VcIl0gPSAxMV0gPSBcIkRJRkZFUkVOQ0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVYQ0xVU0lPTlwiXSA9IDEyXSA9IFwiRVhDTFVTSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIVUVcIl0gPSAxM10gPSBcIkhVRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0FUVVJBVElPTlwiXSA9IDE0XSA9IFwiU0FUVVJBVElPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JcIl0gPSAxNV0gPSBcIkNPTE9SXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMVU1JTk9TSVRZXCJdID0gMTZdID0gXCJMVU1JTk9TSVRZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxfTlBNXCJdID0gMTddID0gXCJOT1JNQUxfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERfTlBNXCJdID0gMThdID0gXCJBRERfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5fTlBNXCJdID0gMTldID0gXCJTQ1JFRU5fTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT05FXCJdID0gMjBdID0gXCJOT05FXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1ZFUlwiXSA9IDBdID0gXCJTUkNfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0lOXCJdID0gMjFdID0gXCJTUkNfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVVRcIl0gPSAyMl0gPSBcIlNSQ19PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19BVE9QXCJdID0gMjNdID0gXCJTUkNfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09WRVJcIl0gPSAyNF0gPSBcIkRTVF9PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfSU5cIl0gPSAyNV0gPSBcIkRTVF9JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09VVFwiXSA9IDI2XSA9IFwiRFNUX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0FUT1BcIl0gPSAyN10gPSBcIkRTVF9BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFUkFTRVwiXSA9IDI2XSA9IFwiRVJBU0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNVQlRSQUNUXCJdID0gMjhdID0gXCJTVUJUUkFDVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiWE9SXCJdID0gMjldID0gXCJYT1JcIjtcbn0pKEJMRU5EX01PREVTIHx8IChCTEVORF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgd2ViZ2wgZHJhdyBtb2Rlcy4gVGhlc2UgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB3aGljaCBHTCBkcmF3TW9kZSB0byB1c2VcbiAqIHVuZGVyIGNlcnRhaW4gc2l0dWF0aW9ucyBhbmQgcmVuZGVyZXJzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FUyAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVMgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU4gLVxuICovXG52YXIgRFJBV19NT0RFUztcbihmdW5jdGlvbiAoRFJBV19NT0RFUykge1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlBPSU5UU1wiXSA9IDBdID0gXCJQT0lOVFNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FU1wiXSA9IDFdID0gXCJMSU5FU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfTE9PUFwiXSA9IDJdID0gXCJMSU5FX0xPT1BcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX1NUUklQXCJdID0gM10gPSBcIkxJTkVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRVNcIl0gPSA0XSA9IFwiVFJJQU5HTEVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfU1RSSVBcIl0gPSA1XSA9IFwiVFJJQU5HTEVfU1RSSVBcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9GQU5cIl0gPSA2XSA9IFwiVFJJQU5HTEVfRkFOXCI7XG59KShEUkFXX01PREVTIHx8IChEUkFXX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0ZXh0dXJlL3Jlc291cmNlcyBmb3JtYXRzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEZPUk1BVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gW1JHQkE9NjQwOF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtSR0I9NjQwN10gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtSRz0zMzMxOV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtSRUQ9NjQwM10gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtSR0JBX0lOVEVHRVI9MzYyNDldIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbUkdCX0lOVEVHRVI9MzYyNDhdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbUkdfSU5URUdFUj0zMzMyMF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtSRURfSU5URUdFUj0zNjI0NF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtBTFBIQT02NDA2XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0xVTUlOQU5DRT02NDA5XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0xVTUlOQU5DRV9BTFBIQT02NDEwXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0RFUFRIX0NPTVBPTkVOVD02NDAyXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0RFUFRIX1NURU5DSUw9MzQwNDFdIC1cbiAqL1xudmFyIEZPUk1BVFM7XG4oZnVuY3Rpb24gKEZPUk1BVFMpIHtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JBXCJdID0gNjQwOF0gPSBcIlJHQkFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JcIl0gPSA2NDA3XSA9IFwiUkdCXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdcIl0gPSAzMzMxOV0gPSBcIlJHXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkVEXCJdID0gNjQwM10gPSBcIlJFRFwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQkFfSU5URUdFUlwiXSA9IDM2MjQ5XSA9IFwiUkdCQV9JTlRFR0VSXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCX0lOVEVHRVJcIl0gPSAzNjI0OF0gPSBcIlJHQl9JTlRFR0VSXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdfSU5URUdFUlwiXSA9IDMzMzIwXSA9IFwiUkdfSU5URUdFUlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJFRF9JTlRFR0VSXCJdID0gMzYyNDRdID0gXCJSRURfSU5URUdFUlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gW1RFWFRVUkVfMkQ9MzU1M10gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtURVhUVVJFX0NVQkVfTUFQPTM0MDY3XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1RFWFRVUkVfMkRfQVJSQVk9MzU4NjZdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1RFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWD0zNDA3MF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k9MzQwNzFdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1RFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWj0zNDA3M10gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o9MzQwNzRdIC1cbiAqL1xudmFyIFRBUkdFVFM7XG4oZnVuY3Rpb24gKFRBUkdFVFMpIHtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEXCJdID0gMzU1M10gPSBcIlRFWFRVUkVfMkRcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQXCJdID0gMzQwNjddID0gXCJURVhUVVJFX0NVQkVfTUFQXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRF9BUlJBWVwiXSA9IDM1ODY2XSA9IFwiVEVYVFVSRV8yRF9BUlJBWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiXSA9IDM0MDY5XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCJdID0gMzQwNzBdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIl0gPSAzNDA3MV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiXSA9IDM0MDcyXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCJdID0gMzQwNzNdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIl0gPSAzNDA3NF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiO1xufSkoVEFSR0VUUyB8fCAoVEFSR0VUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVFlQRVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX0JZVEU9NTEyMV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVTlNJR05FRF9TSE9SVD01MTIzXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX1NIT1JUXzVfNl81PTMzNjM1XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTldIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVTlNJR05FRF9JTlQ9NTEyNV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVTlNJR05FRF9JTlRfMTBGXzExRl8xMUZfUkVWPTM1ODk5XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVj0zMzY0MF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVTlNJR05FRF9JTlRfMjRfOD0zNDA0Ml0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVTlNJR05FRF9JTlRfNV85XzlfOV9SRVY9MzU5MDJdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbQllURT01MTIwXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1NIT1JUPTUxMjJdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbSU5UPTUxMjRdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbRkxPQVQ9NTEyNl0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtGTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVY9MzYyNjldIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbSEFMRl9GTE9BVD0zNjE5M10gLVxuICovXG52YXIgVFlQRVM7XG4oZnVuY3Rpb24gKFRZUEVTKSB7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9CWVRFXCJdID0gNTEyMV0gPSBcIlVOU0lHTkVEX0JZVEVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXCJdID0gNTEyM10gPSBcIlVOU0lHTkVEX1NIT1JUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiXSA9IDMzNjM1XSA9IFwiVU5TSUdORURfU0hPUlRfNV82XzVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIl0gPSAzMjgxOV0gPSBcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIl0gPSAzMjgyMF0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0lOVFwiXSA9IDUxMjVdID0gXCJVTlNJR05FRF9JTlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVZcIl0gPSAzNTg5OV0gPSBcIlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVZcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVlwiXSA9IDMzNjQwXSA9IFwiVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9JTlRfMjRfOFwiXSA9IDM0MDQyXSA9IFwiVU5TSUdORURfSU5UXzI0XzhcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0lOVF81XzlfOV85X1JFVlwiXSA9IDM1OTAyXSA9IFwiVU5TSUdORURfSU5UXzVfOV85XzlfUkVWXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJCWVRFXCJdID0gNTEyMF0gPSBcIkJZVEVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlNIT1JUXCJdID0gNTEyMl0gPSBcIlNIT1JUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJJTlRcIl0gPSA1MTI0XSA9IFwiSU5UXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJGTE9BVFwiXSA9IDUxMjZdID0gXCJGTE9BVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWXCJdID0gMzYyNjldID0gXCJGTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVZcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgc2FtcGxlciB0eXBlcy4gQ29ycmVzcG9uZCB0byBgc2FtcGxlcmAsIGBpc2FtcGxlcmAsIGB1c2FtcGxlcmAgR0xTTCB0eXBlcyByZXNwZWN0aXZlbHkuXG4gKiBXZWJHTDEgd29ya3Mgb25seSB3aXRoIEZMT0FULlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNBTVBMRVJfVFlQRVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gW0ZMT0FUPTBdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbSU5UPTFdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVUlOVD0yXSAtXG4gKi9cbnZhciBTQU1QTEVSX1RZUEVTO1xuKGZ1bmN0aW9uIChTQU1QTEVSX1RZUEVTKSB7XG4gICAgU0FNUExFUl9UWVBFU1tTQU1QTEVSX1RZUEVTW1wiRkxPQVRcIl0gPSAwXSA9IFwiRkxPQVRcIjtcbiAgICBTQU1QTEVSX1RZUEVTW1NBTVBMRVJfVFlQRVNbXCJJTlRcIl0gPSAxXSA9IFwiSU5UXCI7XG4gICAgU0FNUExFUl9UWVBFU1tTQU1QTEVSX1RZUEVTW1wiVUlOVFwiXSA9IDJdID0gXCJVSU5UXCI7XG59KShTQU1QTEVSX1RZUEVTIHx8IChTQU1QTEVSX1RZUEVTID0ge30pKTtcbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xudmFyIFNDQUxFX01PREVTO1xuKGZ1bmN0aW9uIChTQ0FMRV9NT0RFUykge1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTkVBUkVTVFwiXSA9IDBdID0gXCJORUFSRVNUXCI7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJMSU5FQVJcIl0gPSAxXSA9IFwiTElORUFSXCI7XG59KShTQ0FMRV9NT0RFUyB8fCAoU0NBTEVfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFfSB3cmFwIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCB3cmFwcGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBDTEFNUCBvciBSRVBFQVQsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICogSWYgdGhlIHRleHR1cmUgaXMgbm9uIHBvd2VyIG9mIHR3byB0aGVuIGNsYW1wIHdpbGwgYmUgdXNlZCByZWdhcmRsZXNzIGFzIFdlYkdMIGNhblxuICogb25seSB1c2UgUkVQRUFUIGlmIHRoZSB0ZXh0dXJlIGlzIHBvMi5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICogQG5hbWUgTUlQTUFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPRkYgLSBObyBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9XMiAtIEdlbmVyYXRlIG1pcG1hcHMgaWYgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3cyXG4gKiBAcHJvcGVydHkge251bWJlcn0gT04gLSBBbHdheXMgZ2VuZXJhdGUgbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OX01BTlVBTCAtIFVzZSBtaXBtYXBzLCBidXQgZG8gbm90IGF1dG8tZ2VuZXJhdGUgdGhlbTsgdGhpcyBpcyB1c2VkIHdpdGggYSByZXNvdXJjZVxuICogICB0aGF0IHN1cHBvcnRzIGJ1ZmZlcmluZyBlYWNoIGxldmVsLW9mLWRldGFpbC5cbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OX01BTlVBTFwiXSA9IDNdID0gXCJPTl9NQU5VQUxcIjtcbn0pKE1JUE1BUF9NT0RFUyB8fCAoTUlQTUFQX01PREVTID0ge30pKTtcbi8qKlxuICogSG93IHRvIHRyZWF0IHRleHR1cmVzIHdpdGggcHJlbXVsdGlwbGllZCBhbHBoYVxuICogQG5hbWUgQUxQSEFfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PX1BSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgbm90IHByZW11bHRpcGxpZWQsIGxlYXZlIGl0IGxpa2UgdGhhdC5cbiAqICBPcHRpb24gZm9yIGNvbXByZXNzZWQgYW5kIGRhdGEgdGV4dHVyZXMgdGhhdCBhcmUgY3JlYXRlZCBmcm9tIHR5cGVkIGFycmF5cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMWV9PTl9VUExPQUQgLSBTb3VyY2UgaXMgbm90IHByZW11bHRpcGxpZWQsIHByZW11bHRpcGx5IG9uIHVwbG9hZC5cbiAqICBEZWZhdWx0IG9wdGlvbiwgdXNlZCBmb3IgYWxsIGxvYWRlZCBpbWFnZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBhbHJlYWR5IHByZW11bHRpcGxpZWRcbiAqICBFeGFtcGxlOiBzcGluZSBhdGxhc2VzIHdpdGggYF9wbWFgIHN1ZmZpeC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOUE0gLSBBbGlhcyBmb3IgTk9fUFJFTVVMVElQTElFRF9BTFBIQS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlBBQ0sgLSBEZWZhdWx0IG9wdGlvbiwgYWxpYXMgZm9yIFBSRU1VTFRJUExZX09OX1VQTE9BRC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQTUEgLSBBbGlhcyBmb3IgUFJFTVVMVElQTElFRF9BTFBIQS5cbiAqL1xudmFyIEFMUEhBX01PREVTO1xuKGZ1bmN0aW9uIChBTFBIQV9NT0RFUykge1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiTlBNXCJdID0gMF0gPSBcIk5QTVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiVU5QQUNLXCJdID0gMV0gPSBcIlVOUEFDS1wiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUE1BXCJdID0gMl0gPSBcIlBNQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiXSA9IDBdID0gXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIl0gPSAxXSA9IFwiUFJFTVVMVElQTFlfT05fVVBMT0FEXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMWV9BTFBIQVwiXSA9IDJdID0gXCJQUkVNVUxUSVBMWV9BTFBIQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUFJFTVVMVElQTElFRF9BTFBIQVwiXSA9IDJdID0gXCJQUkVNVUxUSVBMSUVEX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25maWd1cmUgd2hldGhlciBmaWx0ZXIgdGV4dHVyZXMgYXJlIGNsZWFyZWQgYWZ0ZXIgYmluZGluZy5cbiAqXG4gKiBGaWx0ZXIgdGV4dHVyZXMgbmVlZCBub3QgYmUgY2xlYXJlZCBpZiB0aGUgZmlsdGVyIGRvZXMgbm90IHVzZSBwaXhlbCBibGVuZGluZy4ge0BsaW5rIENMRUFSX01PREVTLkJMSVR9IHdpbGwgZGV0ZWN0XG4gKiB0aGlzIGFuZCBza2lwIGNsZWFyaW5nIGFzIGFuIG9wdGltaXphdGlvbi5cbiAqIEBuYW1lIENMRUFSX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTEVORCAtIERvIG5vdCBjbGVhciB0aGUgZmlsdGVyIHRleHR1cmUuIFRoZSBmaWx0ZXIncyBvdXRwdXQgd2lsbCBibGVuZCBvbiB0b3Agb2YgdGhlIG91dHB1dCB0ZXh0dXJlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gQWx3YXlzIGNsZWFyIHRoZSBmaWx0ZXIgdGV4dHVyZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb25seSBpZiB7QGxpbmsgRmlsdGVyU3lzdGVtLmZvcmNlQ2xlYXJ9IGlzIHNldCBvciBpZiB0aGUgZmlsdGVyIHVzZXMgcGl4ZWwgYmxlbmRpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTO1xuKGZ1bmN0aW9uIChHQ19NT0RFUykge1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiQVVUT1wiXSA9IDBdID0gXCJBVVRPXCI7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJNQU5VQUxcIl0gPSAxXSA9IFwiTUFOVUFMXCI7XG59KShHQ19NT0RFUyB8fCAoR0NfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICogQG5hbWUgUFJFQ0lTSU9OXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNvbnN0YW50XG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtMT1c9J2xvd3AnXSAtXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW01FRElVTT0nbWVkaXVtcCddIC1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbSElHSD0naGlnaHAnXSAtXG4gKi9cbnZhciBQUkVDSVNJT047XG4oZnVuY3Rpb24gKFBSRUNJU0lPTikge1xuICAgIFBSRUNJU0lPTltcIkxPV1wiXSA9IFwibG93cFwiO1xuICAgIFBSRUNJU0lPTltcIk1FRElVTVwiXSA9IFwibWVkaXVtcFwiO1xuICAgIFBSRUNJU0lPTltcIkhJR0hcIl0gPSBcImhpZ2hwXCI7XG59KShQUkVDSVNJT04gfHwgKFBSRUNJU0lPTiA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyBmb3IgbWFzayBpbXBsZW1lbnRhdGlvbnMuXG4gKiBXZSB1c2UgYHR5cGVgIHN1ZmZpeCBiZWNhdXNlIGl0IGxlYWRzIHRvIHZlcnkgZGlmZmVyZW50IGJlaGF2aW91cnNcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIENvbG9yIG1hc2sgKFJHQkEpXG4gKi9cbnZhciBNQVNLX1RZUEVTO1xuKGZ1bmN0aW9uIChNQVNLX1RZUEVTKSB7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU0NJU1NPUlwiXSA9IDFdID0gXCJTQ0lTU09SXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1RFTkNJTFwiXSA9IDJdID0gXCJTVEVOQ0lMXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1BSSVRFXCJdID0gM10gPSBcIlNQUklURVwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIkNPTE9SXCJdID0gNF0gPSBcIkNPTE9SXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQml0d2lzZSBPUiBvZiBtYXNrcyB0aGF0IGluZGljYXRlIHRoZSBjb2xvciBjaGFubmVscyB0aGF0IGFyZSByZW5kZXJlZCB0by5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBDT0xPUl9NQVNLX0JJVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVEIC0gUmVkIGNoYW5uZWwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gR1JFRU4gLSBHcmVlbiBjaGFubmVsXG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxVRSAtIEJsdWUgY2hhbm5lbC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBTFBIQSAtIEFscGhhIGNoYW5uZWwuXG4gKi9cbnZhciBDT0xPUl9NQVNLX0JJVFM7XG4oZnVuY3Rpb24gKENPTE9SX01BU0tfQklUUykge1xuICAgIENPTE9SX01BU0tfQklUU1tDT0xPUl9NQVNLX0JJVFNbXCJSRURcIl0gPSAxXSA9IFwiUkVEXCI7XG4gICAgQ09MT1JfTUFTS19CSVRTW0NPTE9SX01BU0tfQklUU1tcIkdSRUVOXCJdID0gMl0gPSBcIkdSRUVOXCI7XG4gICAgQ09MT1JfTUFTS19CSVRTW0NPTE9SX01BU0tfQklUU1tcIkJMVUVcIl0gPSA0XSA9IFwiQkxVRVwiO1xuICAgIENPTE9SX01BU0tfQklUU1tDT0xPUl9NQVNLX0JJVFNbXCJBTFBIQVwiXSA9IDhdID0gXCJBTFBIQVwiO1xufSkoQ09MT1JfTUFTS19CSVRTIHx8IChDT0xPUl9NQVNLX0JJVFMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG11bHRpLXNhbXBsaW5nIGFudGlhbGlhc2luZy5cbiAqIEBzZWUgUElYSS5GcmFtZWJ1ZmZlciNtdWx0aXNhbXBsZVxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciB2YXJpb3VzIGJ1ZmZlciB0eXBlcyBpbiBQaXhpXG4gKiBAc2VlIFBJWEkuQlVGRkVSX1RZUEVcbiAqIEBuYW1lIEJVRkZFUl9UWVBFXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFTEVNRU5UX0FSUkFZX0JVRkZFUiAtIGJ1ZmZlciB0eXBlIGZvciB1c2luZyBhcyBhbiBpbmRleCBidWZmZXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBUlJBWV9CVUZGRVIgLSBidWZmZXIgdHlwZSBmb3IgdXNpbmcgYXR0cmlidXRlIGRhdGFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTklGT1JNX0JVRkZFUiAtIHRoZSBidWZmZXIgdHlwZSBpcyBmb3IgdW5pZm9ybSBidWZmZXIgb2JqZWN0c1xuICovXG52YXIgQlVGRkVSX1RZUEU7XG4oZnVuY3Rpb24gKEJVRkZFUl9UWVBFKSB7XG4gICAgQlVGRkVSX1RZUEVbQlVGRkVSX1RZUEVbXCJFTEVNRU5UX0FSUkFZX0JVRkZFUlwiXSA9IDM0OTYzXSA9IFwiRUxFTUVOVF9BUlJBWV9CVUZGRVJcIjtcbiAgICBCVUZGRVJfVFlQRVtCVUZGRVJfVFlQRVtcIkFSUkFZX0JVRkZFUlwiXSA9IDM0OTYyXSA9IFwiQVJSQVlfQlVGRkVSXCI7XG4gICAgLy8gTk9UIFlFVCBTVVBQT1JURURcbiAgICBCVUZGRVJfVFlQRVtCVUZGRVJfVFlQRVtcIlVOSUZPUk1fQlVGRkVSXCJdID0gMzUzNDVdID0gXCJVTklGT1JNX0JVRkZFUlwiO1xufSkoQlVGRkVSX1RZUEUgfHwgKEJVRkZFUl9UWVBFID0ge30pKTtcblxuZXhwb3J0IHsgQUxQSEFfTU9ERVMsIEJMRU5EX01PREVTLCBCVUZGRVJfQklUUywgQlVGRkVSX1RZUEUsIENMRUFSX01PREVTLCBDT0xPUl9NQVNLX0JJVFMsIERSQVdfTU9ERVMsIEVOViwgRk9STUFUUywgR0NfTU9ERVMsIE1BU0tfVFlQRVMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBQUkVDSVNJT04sIFJFTkRFUkVSX1RZUEUsIFNBTVBMRVJfVFlQRVMsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUywgV1JBUF9NT0RFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc2V0dGluZ3MgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvc2V0dGluZ3MgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBNSVBNQVBfTU9ERVMsIE1TQUFfUVVBTElUWSwgR0NfTU9ERVMsIFdSQVBfTU9ERVMsIFNDQUxFX01PREVTLCBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG52YXIgQnJvd3NlckFkYXB0ZXIgPSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNhbnZhcyBlbGVtZW50IG9mIHRoZSBnaXZlbiBzaXplLlxuICAgICAqIFRoaXMgY2FudmFzIGlzIGNyZWF0ZWQgdXNpbmcgdGhlIGJyb3dzZXIncyBuYXRpdmUgY2FudmFzIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHdpZHRoIC0gd2lkdGggb2YgdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIGNyZWF0ZUNhbnZhczogZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9LFxuICAgIGdldFdlYkdMUmVuZGVyaW5nQ29udGV4dDogZnVuY3Rpb24gKCkgeyByZXR1cm4gV2ViR0xSZW5kZXJpbmdDb250ZXh0OyB9LFxuICAgIGdldE5hdmlnYXRvcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmF2aWdhdG9yOyB9LFxuICAgIGdldEJhc2VVcmw6IGZ1bmN0aW9uICgpIHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IGRvY3VtZW50LmJhc2VVUkkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsgfSxcbiAgICBmZXRjaDogZnVuY3Rpb24gKHVybCwgb3B0aW9ucykgeyByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKTsgfSxcbn07XG5cbnZhciBhcHBsZUlwaG9uZSA9IC9pUGhvbmUvaTtcbnZhciBhcHBsZUlwb2QgPSAvaVBvZC9pO1xudmFyIGFwcGxlVGFibGV0ID0gL2lQYWQvaTtcbnZhciBhcHBsZVVuaXZlcnNhbCA9IC9cXGJpT1MtdW5pdmVyc2FsKD86LispTWFjXFxiL2k7XG52YXIgYW5kcm9pZFBob25lID0gL1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaTtcbnZhciBhbmRyb2lkVGFibGV0ID0gL0FuZHJvaWQvaTtcbnZhciBhbWF6b25QaG9uZSA9IC8oPzpTRDQ5MzBVUnxcXGJTaWxrKD86LispTW9iaWxlXFxiKS9pO1xudmFyIGFtYXpvblRhYmxldCA9IC9TaWxrL2k7XG52YXIgd2luZG93c1Bob25lID0gL1dpbmRvd3MgUGhvbmUvaTtcbnZhciB3aW5kb3dzVGFibGV0ID0gL1xcYldpbmRvd3MoPzouKylBUk1cXGIvaTtcbnZhciBvdGhlckJsYWNrQmVycnkgPSAvQmxhY2tCZXJyeS9pO1xudmFyIG90aGVyQmxhY2tCZXJyeTEwID0gL0JCMTAvaTtcbnZhciBvdGhlck9wZXJhID0gL09wZXJhIE1pbmkvaTtcbnZhciBvdGhlckNocm9tZSA9IC9cXGIoQ3JpT1N8Q2hyb21lKSg/Oi4rKU1vYmlsZS9pO1xudmFyIG90aGVyRmlyZWZveCA9IC9Nb2JpbGUoPzouKylGaXJlZm94XFxiL2k7XG52YXIgaXNBcHBsZVRhYmxldE9uSW9zMTMgPSBmdW5jdGlvbiAobmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IucGxhdGZvcm0gPT09ICdNYWNJbnRlbCcgJiZcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSAmJlxuICAgICAgICB0eXBlb2YgTVNTdHJlYW0gPT09ICd1bmRlZmluZWQnKTtcbn07XG5mdW5jdGlvbiBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZ2V4KSB7IHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7IH07XG59XG5mdW5jdGlvbiBpc01vYmlsZSQxKHBhcmFtKSB7XG4gICAgdmFyIG5hdiA9IHtcbiAgICAgICAgdXNlckFnZW50OiAnJyxcbiAgICAgICAgcGxhdGZvcm06ICcnLFxuICAgICAgICBtYXhUb3VjaFBvaW50czogMFxuICAgIH07XG4gICAgaWYgKCFwYXJhbSAmJiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuYXYgPSB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogbmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgbWF4VG91Y2hQb2ludHM6IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbmF2LnVzZXJBZ2VudCA9IHBhcmFtO1xuICAgIH1cbiAgICBlbHNlIGlmIChwYXJhbSAmJiBwYXJhbS51c2VyQWdlbnQpIHtcbiAgICAgICAgbmF2ID0ge1xuICAgICAgICAgICAgdXNlckFnZW50OiBwYXJhbS51c2VyQWdlbnQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogcGFyYW0ucGxhdGZvcm0sXG4gICAgICAgICAgICBtYXhUb3VjaFBvaW50czogcGFyYW0ubWF4VG91Y2hQb2ludHMgfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgdXNlckFnZW50ID0gbmF2LnVzZXJBZ2VudDtcbiAgICB2YXIgdG1wID0gdXNlckFnZW50LnNwbGl0KCdbRkJBTicpO1xuICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gICAgfVxuICAgIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnVHdpdHRlcicpO1xuICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IGNyZWF0ZU1hdGNoKHVzZXJBZ2VudCk7XG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgYXBwbGU6IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaChhcHBsZUlwaG9uZSkgJiYgIW1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICBpcG9kOiBtYXRjaChhcHBsZUlwb2QpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYXBwbGVJcGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFwcGxlVGFibGV0KSB8fCBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgdW5pdmVyc2FsOiBtYXRjaChhcHBsZVVuaXZlcnNhbCksXG4gICAgICAgICAgICBkZXZpY2U6IChtYXRjaChhcHBsZUlwaG9uZSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZUlwb2QpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVUYWJsZXQpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVVbml2ZXJzYWwpIHx8XG4gICAgICAgICAgICAgICAgaXNBcHBsZVRhYmxldE9uSW9zMTMobmF2KSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKVxuICAgICAgICB9LFxuICAgICAgICBhbWF6b246IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaChhbWF6b25QaG9uZSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhbWF6b25QaG9uZSkgJiYgbWF0Y2goYW1hem9uVGFibGV0KSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uUGhvbmUpIHx8IG1hdGNoKGFtYXpvblRhYmxldClcbiAgICAgICAgfSxcbiAgICAgICAgYW5kcm9pZDoge1xuICAgICAgICAgICAgcGhvbmU6ICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbWF6b25QaG9uZSkpIHx8XG4gICAgICAgICAgICAgICAgKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmIG1hdGNoKGFuZHJvaWRQaG9uZSkpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaChhbWF6b25QaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2goYW5kcm9pZFBob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhbWF6b25UYWJsZXQpIHx8IG1hdGNoKGFuZHJvaWRUYWJsZXQpKSxcbiAgICAgICAgICAgIGRldmljZTogKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFtYXpvblBob25lKSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbWF6b25UYWJsZXQpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRQaG9uZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW5kcm9pZFRhYmxldCkpKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKC9cXGJva2h0dHBcXGIvaSlcbiAgICAgICAgfSxcbiAgICAgICAgd2luZG93czoge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NUYWJsZXQpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaCh3aW5kb3dzUGhvbmUpIHx8IG1hdGNoKHdpbmRvd3NUYWJsZXQpXG4gICAgICAgIH0sXG4gICAgICAgIG90aGVyOiB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiBtYXRjaChvdGhlckJsYWNrQmVycnkpLFxuICAgICAgICAgICAgYmxhY2tiZXJyeTEwOiBtYXRjaChvdGhlckJsYWNrQmVycnkxMCksXG4gICAgICAgICAgICBvcGVyYTogbWF0Y2gob3RoZXJPcGVyYSksXG4gICAgICAgICAgICBmaXJlZm94OiBtYXRjaChvdGhlckZpcmVmb3gpLFxuICAgICAgICAgICAgY2hyb21lOiBtYXRjaChvdGhlckNocm9tZSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKG90aGVyQmxhY2tCZXJyeSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckJsYWNrQmVycnkxMCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlck9wZXJhKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyRmlyZWZveCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckNocm9tZSlcbiAgICAgICAgfSxcbiAgICAgICAgYW55OiBmYWxzZSxcbiAgICAgICAgcGhvbmU6IGZhbHNlLFxuICAgICAgICB0YWJsZXQ6IGZhbHNlXG4gICAgfTtcbiAgICByZXN1bHQuYW55ID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0LmFuZHJvaWQuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQud2luZG93cy5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC5vdGhlci5kZXZpY2U7XG4gICAgcmVzdWx0LnBob25lID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLnBob25lIHx8IHJlc3VsdC5hbmRyb2lkLnBob25lIHx8IHJlc3VsdC53aW5kb3dzLnBob25lO1xuICAgIHJlc3VsdC50YWJsZXQgPVxuICAgICAgICByZXN1bHQuYXBwbGUudGFibGV0IHx8IHJlc3VsdC5hbmRyb2lkLnRhYmxldCB8fCByZXN1bHQud2luZG93cy50YWJsZXQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIGlzTW9iaWxlID0gaXNNb2JpbGUkMShnbG9iYWxUaGlzLm5hdmlnYXRvcik7XG5cbi8qKlxuICogVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzLlxuICogQXBwYXJlbnQgb24gaU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuICogVGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHNhbWUgYnVmZmVyIG1heSBiZSB1cGxvYWRlZCBtb3JlIHRoYW4gb25jZS5cbiAqL1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpIHtcbiAgICByZXR1cm4gIWlzTW9iaWxlLmFwcGxlLmRldmljZTtcbn1cblxuLyoqXG4gKiBUaGUgbWF4aW11bSByZWNvbW1lbmRlZCB0ZXh0dXJlIHVuaXRzIHRvIHVzZS5cbiAqIEluIHRoZW9yeSB0aGUgYmlnZ2VyIHRoZSBiZXR0ZXIsIGFuZCBmb3IgZGVza3RvcCB3ZSdsbCB1c2UgYXMgbWFueSBhcyB3ZSBjYW4uXG4gKiBCdXQgc29tZSBtb2JpbGUgZGV2aWNlcyBzbG93IGRvd24gaWYgdGhlcmUgaXMgdG8gbWFueSBicmFuY2hlcyBpbiB0aGUgc2hhZGVyLlxuICogU28gaW4gcHJhY3RpY2UgdGhlcmUgc2VlbXMgdG8gYmUgYSBzd2VldCBzcG90IHNpemUgdGhhdCB2YXJpZXMgZGVwZW5kaW5nIG9uIHRoZSBkZXZpY2UuXG4gKlxuICogSW4gdjQsIGFsbCBtb2JpbGUgZGV2aWNlcyB3ZXJlIGxpbWl0ZWQgdG8gNCB0ZXh0dXJlIHVuaXRzIGJlY2F1c2UgZm9yIHRoaXMuXG4gKiBJbiB2NSwgd2UgYWxsb3cgYWxsIHRleHR1cmUgdW5pdHMgdG8gYmUgdXNlZCBvbiBtb2Rlcm4gQXBwbGUgb3IgQW5kcm9pZCBkZXZpY2VzLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHJlY29tbWVuZGVkIHRleHR1cmUgdW5pdHMgdG8gdXNlLlxuICovXG5mdW5jdGlvbiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKG1heCkge1xuICAgIHZhciBhbGxvd01heCA9IHRydWU7XG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSkge1xuICAgICAgICBpZiAoaXNNb2JpbGUuYXBwbGUuZGV2aWNlKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL09TIChcXGQrKV8oXFxkKyk/Lyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0ZXh0dXJlIHVuaXRzIG9uIGRldmljZXMgYmVsb3cgaU9TIDExLCB3aGljaCB3aWxsIGJlIG9sZGVyIGhhcmR3YXJlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9BbmRyb2lkXFxzKFswLTkuXSopLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0ZXh0dXJlIHVuaXRzIG9uIGRldmljZXMgYmVsb3cgQW5kcm9pZCA3IChOb3VnYXQpLCB3aGljaCB3aWxsIGJlIG9sZGVyIGhhcmR3YXJlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFsbG93TWF4ID8gbWF4IDogNDtcbn1cblxuLyoqXG4gKiBVc2VyJ3MgY3VzdG9taXphYmxlIGdsb2JhbHMgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgUElYSSBzZXR0aW5ncywgc3VjaFxuICogYXMgYSByZW5kZXJlcidzIGRlZmF1bHQgcmVzb2x1dGlvbiwgZnJhbWVyYXRlLCBmbG9hdCBwcmVjaXNpb24sIGV0Yy5cbiAqIEBleGFtcGxlXG4gKiAvLyBVc2UgdGhlIG5hdGl2ZSB3aW5kb3cgcmVzb2x1dGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvbHV0aW9uXG4gKiAvLyB3aWxsIHN1cHBvcnQgaGlnaC1kZW5zaXR5IGRpc3BsYXlzIHdoZW4gcmVuZGVyaW5nXG4gKiBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAqXG4gKiAvLyBEaXNhYmxlIGludGVycG9sYXRpb24gd2hlbiBzY2FsaW5nLCB3aWxsIG1ha2UgdGV4dHVyZSBiZSBwaXhlbGF0ZWRcbiAqIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERSA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcbiAqIEBuYW1lc3BhY2UgUElYSS5zZXR0aW5nc1xuICovXG52YXIgc2V0dGluZ3MgPSB7XG4gICAgLyoqXG4gICAgICogVGhpcyBhZGFwdGVyIGlzIHVzZWQgdG8gY2FsbCBtZXRob2RzIHRoYXQgYXJlIHBsYXRmb3JtIGRlcGVuZGVudC5cbiAgICAgKiBGb3IgZXhhbXBsZSBgZG9jdW1lbnQuY3JlYXRlRWxlbWVudGAgb25seSBydW5zIG9uIHRoZSB3ZWIgYnV0IGZhaWxzIGluIG5vZGUgZW52aXJvbm1lbnRzLlxuICAgICAqIFRoaXMgYWxsb3dzIHVzIHRvIHN1cHBvcnQgbW9yZSBwbGF0Zm9ybXMgYnkgYWJzdHJhY3RpbmcgYXdheSBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbnMgcGVyIHBsYXRmb3JtLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCB0aGUgYWRhcHRlciBpcyBzZXQgdG8gd29yayBpbiB0aGUgYnJvd3Nlci4gSG93ZXZlciB5b3UgY2FuIGNyZWF0ZSB5b3VyIG93blxuICAgICAqIGJ5IGltcGxlbWVudGluZyB0aGUgYElBZGFwdGVyYCBpbnRlcmZhY2UuIFNlZSBgSUFkYXB0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqIEBuYW1lIEFEQVBURVJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLklBZGFwdGVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQnJvd3NlckFkYXB0ZXJcbiAgICAgKi9cbiAgICBBREFQVEVSOiBCcm93c2VyQWRhcHRlcixcbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSBXZWJHTCB3aWxsIGF0dGVtcHQgbWFrZSB0ZXh0dXJlcyBtaW1wYXBlZCBieSBkZWZhdWx0LlxuICAgICAqIE1pcG1hcHBpbmcgd2lsbCBvbmx5IHN1Y2NlZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSB1cGxvYWRlZCBoYXMgcG93ZXIgb2YgdHdvIGRpbWVuc2lvbnMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIE1JUE1BUF9URVhUVVJFU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuTUlQTUFQX01PREVTLlBPVzJcbiAgICAgKi9cbiAgICBNSVBNQVBfVEVYVFVSRVM6IE1JUE1BUF9NT0RFUy5QT1cyLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVzLlxuICAgICAqIFVzdWFsbHkgZnJvbSAwIHRvIDE2XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRVNPTFVUSU9OXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBSRVNPTFVUSU9OOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBGSUxURVJfUkVTT0xVVElPTjogMSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGZpbHRlciBzYW1wbGVzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBGSUxURVJfTVVMVElTQU1QTEVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLk1TQUFfUVVBTElUWS5OT05FXG4gICAgICovXG4gICAgRklMVEVSX01VTFRJU0FNUExFOiBNU0FBX1FVQUxJVFkuTk9ORSxcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB0ZXh0dXJlcyB0aGF0IHRoaXMgZGV2aWNlIHN1cHBvcnRzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG4gICAgLy8gVE9ETzogbWF5YmUgY2hhbmdlIHRvIFNQUklURS5CQVRDSF9TSVpFOiAyMDAwXG4gICAgLy8gVE9ETzogbWF5YmUgYWRkIFBBUlRJQ0xFLkJBVENIX1NJWkU6IDE1MDAwXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBhaW1zIHRvIGJhbGFuY2UgZGVza3RvcCBhbmQgbW9iaWxlIGRldmljZXMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9CQVRDSF9TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDQwOTZcbiAgICAgKi9cbiAgICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCByZW5kZXIgb3B0aW9ucyBpZiBub25lIGFyZSBzdXBwbGllZCB0byB7QGxpbmsgUElYSS5SZW5kZXJlcn1cbiAgICAgKiBvciB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn0uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFTkRFUl9PUFRJT05TXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IFt2aWV3PW51bGxdIC1cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbnRpYWxpYXM9ZmFsc2VdIC1cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdXRvRGVuc2l0eT1mYWxzZV0gLVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUNvbnRleHRBbHBoYT10cnVlXSAgLVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtiYWNrZ3JvdW5kQWxwaGE9MV0gLVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC1cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW3dpZHRoPTgwMF0gLVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaGVpZ2h0PTYwMF0gLVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2xlZ2FjeT1mYWxzZV0gLVxuICAgICAqL1xuICAgIFJFTkRFUl9PUFRJT05TOiB7XG4gICAgICAgIHZpZXc6IG51bGwsXG4gICAgICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgICAgIGF1dG9EZW5zaXR5OiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgYmFja2dyb3VuZEFscGhhOiAxLFxuICAgICAgICB1c2VDb250ZXh0QWxwaGE6IHRydWUsXG4gICAgICAgIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlLFxuICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgICAgICB3aWR0aDogODAwLFxuICAgICAgICBoZWlnaHQ6IDYwMCxcbiAgICAgICAgbGVnYWN5OiBmYWxzZSxcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgICAqL1xuICAgIEdDX01PREU6IEdDX01PREVTLkFVVE8sXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4IGlkbGUuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9JRExFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDM2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfSURMRTogNjAgKiA2MCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NQVhfQ0hFQ0tfQ09VTlRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0NIRUNLX0NPVU5UOiA2MCAqIDEwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgV1JBUF9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgICAqL1xuICAgIFdSQVBfTU9ERTogV1JBUF9NT0RFUy5DTEFNUCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNjYWxlIG1vZGUgZm9yIHRleHR1cmVzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTQ0FMRV9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNDQUxFX01PREVTLkxJTkVBUlxuICAgICAqL1xuICAgIFNDQUxFX01PREU6IFNDQUxFX01PREVTLkxJTkVBUixcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9WRVJURVhcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5ISUdIXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX1ZFUlRFWDogUFJFQ0lTSU9OLkhJR0gsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogaU9TIGlzIGJlc3Qgc2V0IGF0IGhpZ2hwIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzM3NDJcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUFJFQ0lTSU9OX0ZSQUdNRU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uTUVESVVNXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX0ZSQUdNRU5UOiBpc01vYmlsZS5hcHBsZS5kZXZpY2UgPyBQUkVDSVNJT04uSElHSCA6IFBSRUNJU0lPTi5NRURJVU0sXG4gICAgLyoqXG4gICAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENBTl9VUExPQURfU0FNRV9CVUZGRVJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIENBTl9VUExPQURfU0FNRV9CVUZGRVI6IGNhblVwbG9hZFNhbWVCdWZmZXIoKSxcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGJpdG1hcCBjcmVhdGlvbiBiZWZvcmUgaW1hZ2UgbG9hZC4gVGhpcyBmZWF0dXJlIGlzIGV4cGVyaW1lbnRhbC5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ1JFQVRFX0lNQUdFX0JJVE1BUFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBDUkVBVEVfSU1BR0VfQklUTUFQOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgUk9VTkRfUElYRUxTOiBmYWxzZSxcbn07XG5cbmV4cG9ydCB7IEJyb3dzZXJBZGFwdGVyLCBpc01vYmlsZSwgc2V0dGluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdXRpbHMgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvdXRpbHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmV4cG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudGVtaXR0ZXIzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZWFyY3V0IH0gZnJvbSAnZWFyY3V0JztcbmltcG9ydCB7IHBhcnNlLCBmb3JtYXQsIHJlc29sdmUgfSBmcm9tICd1cmwnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWlucyByZWRlY2xhcmVkIHR5cGVzIGZvciBOb2RlIGB1cmxgIGFuZCBgcXVlcnlzdHJpbmdgIG1vZHVsZXMuIFRoZXNlIG1vZHVsZXNcbiAqIGRvbid0IHByb3ZpZGUgdGhlaXIgb3duIHR5cGluZ3MgYnV0IGluc3RlYWQgYXJlIGEgcGFydCBvZiB0aGUgZnVsbCBOb2RlIHR5cGluZ3MuIFRoZSBwdXJwb3NlIG9mXG4gKiB0aGlzIGZpbGUgaXMgdG8gcmVkZWNsYXJlIHRoZSByZXF1aXJlZCB0eXBlcyB0byBhdm9pZCBoYXZpbmcgdGhlIHdob2xlIE5vZGUgdHlwZXMgYXMgYVxuICogZGVwZW5kZW5jeS5cbiAqL1xudmFyIHVybCA9IHtcbiAgICBwYXJzZTogcGFyc2UsXG4gICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgcmVzb2x2ZTogcmVzb2x2ZSxcbn07XG5cbmZ1bmN0aW9uIGFzc2VydFBhdGgocGF0aCkge1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhdGggbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQgXCIgKyBKU09OLnN0cmluZ2lmeShwYXRoKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlVXJsUGFyYW1zKHVybCkge1xuICAgIHZhciByZSA9IHVybC5zcGxpdCgnPycpWzBdO1xuICAgIHJldHVybiByZS5zcGxpdCgnIycpWzBdO1xufVxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTsgLy8gJCYgbWVhbnMgdGhlIHdob2xlIG1hdGNoZWQgc3RyaW5nXG59XG5mdW5jdGlvbiByZXBsYWNlQWxsKHN0ciwgZmluZCwgcmVwbGFjZSkge1xuICAgIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4cChmaW5kKSwgJ2cnKSwgcmVwbGFjZSk7XG59XG4vLyBSZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggd2l0aCBkaXJlY3RvcnkgbmFtZXNcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsIGFsbG93QWJvdmVSb290KSB7XG4gICAgdmFyIHJlcyA9ICcnO1xuICAgIHZhciBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgdmFyIGxhc3RTbGFzaCA9IC0xO1xuICAgIHZhciBkb3RzID0gMDtcbiAgICB2YXIgY29kZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChpIDwgcGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNDcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29kZSA9IDQ3O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID09PSA0Nykge1xuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkgO1xuICAgICAgICAgICAgZWxzZSBpZiAobGFzdFNsYXNoICE9PSBpIC0gMSAmJiBkb3RzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPCAyXG4gICAgICAgICAgICAgICAgICAgIHx8IGxhc3RTZWdtZW50TGVuZ3RoICE9PSAyXG4gICAgICAgICAgICAgICAgICAgIHx8IHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAxKSAhPT0gNDZcbiAgICAgICAgICAgICAgICAgICAgfHwgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDIpICE9PSA0Nikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ICE9PSByZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zbGljZSgwLCBsYXN0U2xhc2hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzICs9ICcvLi4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJy4uJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyArPSBcIi9cIiArIHBhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IGkgLSBsYXN0U2xhc2ggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDQ2ICYmIGRvdHMgIT09IC0xKSB7XG4gICAgICAgICAgICArK2RvdHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb3RzID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbnZhciBwYXRoID0ge1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgcGF0aCB0byBwb3NpeCBmb3JtYXQuXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgcGF0aCB0byBjb252ZXJ0IHRvIHBvc2l4XG4gICAgICovXG4gICAgdG9Qb3NpeDogZnVuY3Rpb24gKHBhdGgpIHsgcmV0dXJuIHJlcGxhY2VBbGwocGF0aCwgJ1xcXFwnLCAnLycpOyB9LFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcGF0aCBpcyBhIFVSTFxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggdG8gY2hlY2tcbiAgICAgKi9cbiAgICBpc1VybDogZnVuY3Rpb24gKHBhdGgpIHsgcmV0dXJuICgvXmh0dHBzPzovKS50ZXN0KHRoaXMudG9Qb3NpeChwYXRoKSk7IH0sXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBwYXRoIGlzIGEgZGF0YSBVUkxcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIHRvIGNoZWNrXG4gICAgICovXG4gICAgaXNEYXRhVXJsOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICByZXR1cm4gKC9eZGF0YTooW2Etel0rXFwvW2EtejAtOS0rLl0rKDtbYS16MC05LS4hIyQlKisue318fmBdKz1bYS16MC05LS4hIyQlKisue30oKV98fmBdKykqKT8oO2Jhc2U2NCk/LChbYS16MC05ISQmJywoKSorOz1cXC0uX346QFxcLz8lXFxzPD5dKj8pJC9pKVxuICAgICAgICAgICAgLnRlc3QocGF0aCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHBhdGggaGFzIGEgcHJvdG9jb2wgZS5nLiBodHRwOi8vXG4gICAgICogVGhpcyB3aWxsIHJldHVybiB0cnVlIGZvciB3aW5kb3dzIGZpbGUgcGF0aHNcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIHRvIGNoZWNrXG4gICAgICovXG4gICAgaGFzUHJvdG9jb2w6IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiAoL15bXi86XSs6XFwvLykudGVzdCh0aGlzLnRvUG9zaXgocGF0aCkpOyB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3RvY29sIG9mIHRoZSBwYXRoIGUuZy4gaHR0cDovLywgQzovLCBmaWxlOi8vL1xuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggdG8gZ2V0IHRoZSBwcm90b2NvbCBmcm9tXG4gICAgICovXG4gICAgZ2V0UHJvdG9jb2w6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgICAgIHBhdGggPSB0aGlzLnRvUG9zaXgocGF0aCk7XG4gICAgICAgIHZhciBwcm90b2NvbCA9ICcnO1xuICAgICAgICB2YXIgaXNGaWxlID0gKC9eZmlsZTpcXC9cXC9cXC8vKS5leGVjKHBhdGgpO1xuICAgICAgICB2YXIgaXNIdHRwID0gKC9eW14vOl0rOlxcL1xcLy8pLmV4ZWMocGF0aCk7XG4gICAgICAgIHZhciBpc1dpbmRvd3MgPSAoL15bXi86XSs6XFwvLykuZXhlYyhwYXRoKTtcbiAgICAgICAgaWYgKGlzRmlsZSB8fCBpc0h0dHAgfHwgaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICB2YXIgYXJyID0gKGlzRmlsZSA9PT0gbnVsbCB8fCBpc0ZpbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlzRmlsZVswXSkgfHwgKGlzSHR0cCA9PT0gbnVsbCB8fCBpc0h0dHAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlzSHR0cFswXSkgfHwgKGlzV2luZG93cyA9PT0gbnVsbCB8fCBpc1dpbmRvd3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlzV2luZG93c1swXSk7XG4gICAgICAgICAgICBwcm90b2NvbCA9IGFycjtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKGFyci5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm90b2NvbDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIFVSTCB0byBhbiBhYnNvbHV0ZSBwYXRoLlxuICAgICAqIFdoZW4gbG9hZGluZyBmcm9tIGEgV2ViIFdvcmtlciwgd2UgbXVzdCB1c2UgYWJzb2x1dGUgcGF0aHMuXG4gICAgICogSWYgdGhlIFVSTCBpcyBhbHJlYWR5IGFic29sdXRlIHdlIHJldHVybiBpdCBhcyBpc1xuICAgICAqIElmIGl0J3Mgbm90LCB3ZSBjb252ZXJ0IGl0XG4gICAgICogQHBhcmFtIHVybCAtIFRoZSBVUkwgdG8gdGVzdFxuICAgICAqIEBwYXJhbSBjdXN0b21CYXNlVXJsIC0gVGhlIGJhc2UgVVJMIHRvIHVzZVxuICAgICAqIEBwYXJhbSBjdXN0b21Sb290VXJsIC0gVGhlIHJvb3QgVVJMIHRvIHVzZVxuICAgICAqL1xuICAgIHRvQWJzb2x1dGU6IGZ1bmN0aW9uICh1cmwsIGN1c3RvbUJhc2VVcmwsIGN1c3RvbVJvb3RVcmwpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEYXRhVXJsKHVybCkpXG4gICAgICAgICAgICB7IHJldHVybiB1cmw7IH1cbiAgICAgICAgdmFyIGJhc2VVcmwgPSByZW1vdmVVcmxQYXJhbXModGhpcy50b1Bvc2l4KGN1c3RvbUJhc2VVcmwgIT09IG51bGwgJiYgY3VzdG9tQmFzZVVybCAhPT0gdm9pZCAwID8gY3VzdG9tQmFzZVVybCA6IHNldHRpbmdzLkFEQVBURVIuZ2V0QmFzZVVybCgpKSk7XG4gICAgICAgIHZhciByb290VXJsID0gcmVtb3ZlVXJsUGFyYW1zKHRoaXMudG9Qb3NpeChjdXN0b21Sb290VXJsICE9PSBudWxsICYmIGN1c3RvbVJvb3RVcmwgIT09IHZvaWQgMCA/IGN1c3RvbVJvb3RVcmwgOiB0aGlzLnJvb3RuYW1lKGJhc2VVcmwpKSk7XG4gICAgICAgIGFzc2VydFBhdGgodXJsKTtcbiAgICAgICAgdXJsID0gdGhpcy50b1Bvc2l4KHVybCk7XG4gICAgICAgIC8vIHJvb3QgcmVsYXRpdmUgdXJsXG4gICAgICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0aC5qb2luKHJvb3RVcmwsIHVybC5zbGljZSgxKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFic29sdXRlUGF0aCA9IHRoaXMuaXNBYnNvbHV0ZSh1cmwpID8gdXJsIDogdGhpcy5qb2luKGJhc2VVcmwsIHVybCk7XG4gICAgICAgIHJldHVybiBhYnNvbHV0ZVBhdGg7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVzIHRoZSBnaXZlbiBwYXRoLCByZXNvbHZpbmcgJy4uJyBhbmQgJy4nIHNlZ21lbnRzXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgcGF0aCB0byBub3JtYWxpemVcbiAgICAgKi9cbiAgICBub3JtYWxpemU6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHBhdGggPSB0aGlzLnRvUG9zaXgocGF0aCk7XG4gICAgICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHsgcmV0dXJuICcuJzsgfVxuICAgICAgICB2YXIgcHJvdG9jb2wgPSAnJztcbiAgICAgICAgdmFyIGlzQWJzb2x1dGUgPSBwYXRoLnN0YXJ0c1dpdGgoJy8nKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzUHJvdG9jb2wocGF0aCkpIHtcbiAgICAgICAgICAgIHByb3RvY29sID0gdGhpcy5yb290bmFtZShwYXRoKTtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKHByb3RvY29sLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYWlsaW5nU2VwYXJhdG9yID0gcGF0aC5lbmRzV2l0aCgnLycpO1xuICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICAgICAgcGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsIGZhbHNlKTtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMCAmJiB0cmFpbGluZ1NlcGFyYXRvcilcbiAgICAgICAgICAgIHsgcGF0aCArPSAnLyc7IH1cbiAgICAgICAgaWYgKGlzQWJzb2x1dGUpXG4gICAgICAgICAgICB7IHJldHVybiBcIi9cIiArIHBhdGg7IH1cbiAgICAgICAgcmV0dXJuIHByb3RvY29sICsgcGF0aDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgcGF0aCBpcyBhbiBhYnNvbHV0ZSBwYXRoLlxuICAgICAqIEFic29sdXRlIHBhdGhzIGNhbiBiZSB1cmxzLCBkYXRhIHVybHMsIG9yIHBhdGhzIG9uIGRpc2tcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIHRvIHRlc3RcbiAgICAgKi9cbiAgICBpc0Fic29sdXRlOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgICAgICBwYXRoID0gdGhpcy50b1Bvc2l4KHBhdGgpO1xuICAgICAgICBpZiAodGhpcy5oYXNQcm90b2NvbChwYXRoKSlcbiAgICAgICAgICAgIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgcmV0dXJuIHBhdGguc3RhcnRzV2l0aCgnLycpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSm9pbnMgYWxsIGdpdmVuIHBhdGggc2VnbWVudHMgdG9nZXRoZXIgdXNpbmcgdGhlIHBsYXRmb3JtLXNwZWNpZmljIHNlcGFyYXRvciBhcyBhIGRlbGltaXRlcixcbiAgICAgKiB0aGVuIG5vcm1hbGl6ZXMgdGhlIHJlc3VsdGluZyBwYXRoXG4gICAgICogQHBhcmFtIHNlZ21lbnRzIC0gVGhlIHNlZ21lbnRzIG9mIHRoZSBwYXRoIHRvIGpvaW5cbiAgICAgKi9cbiAgICBqb2luOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBzZWdtZW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgc2VnbWVudHNbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGpvaW5lZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGFyZyA9IHNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgYXNzZXJ0UGF0aChhcmcpO1xuICAgICAgICAgICAgaWYgKGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpvaW5lZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB7IGpvaW5lZCA9IGFyZzsgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldkFyZyA9IChfYSA9IHNlZ21lbnRzW2kgLSAxXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4dG5hbWUocHJldkFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW5lZCArPSBcIi8uLi9cIiArIGFyZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW5lZCArPSBcIi9cIiArIGFyZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoam9pbmVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplKGpvaW5lZCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXJlY3RvcnkgbmFtZSBvZiBhIHBhdGhcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIHRvIHBhcnNlXG4gICAgICovXG4gICAgZGlybmFtZTogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgYXNzZXJ0UGF0aChwYXRoKTtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgeyByZXR1cm4gJy4nOyB9XG4gICAgICAgIHBhdGggPSB0aGlzLnRvUG9zaXgocGF0aCk7XG4gICAgICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgaGFzUm9vdCA9IGNvZGUgPT09IDQ3O1xuICAgICAgICB2YXIgZW5kID0gLTE7XG4gICAgICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgICAgICB2YXIgcHJvdG8gPSB0aGlzLmdldFByb3RvY29sKHBhdGgpO1xuICAgICAgICB2YXIgb3JpZ3BhdGggPSBwYXRoO1xuICAgICAgICBwYXRoID0gcGF0aC5zbGljZShwcm90by5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgICAgICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjb2RlID09PSA0Nykge1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yXG4gICAgICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgZW5kIGlzIC0xIGFuZCBpdHMgYSB1cmwgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgcGF0aCBiYWNrXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICBpZiAoZW5kID09PSAtMSlcbiAgICAgICAgICAgIHsgcmV0dXJuIGhhc1Jvb3QgPyAnLycgOiB0aGlzLmlzVXJsKG9yaWdwYXRoKSA/IHByb3RvICsgcGF0aCA6IHByb3RvOyB9XG4gICAgICAgIGlmIChoYXNSb290ICYmIGVuZCA9PT0gMSlcbiAgICAgICAgICAgIHsgcmV0dXJuICcvLyc7IH1cbiAgICAgICAgcmV0dXJuIHByb3RvICsgcGF0aC5zbGljZSgwLCBlbmQpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcm9vdCBvZiB0aGUgcGF0aCBlLmcuIC8sIEM6LywgZmlsZTovLy8sIGh0dHA6Ly9kb21haW4uY29tL1xuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggdG8gcGFyc2VcbiAgICAgKi9cbiAgICByb290bmFtZTogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgYXNzZXJ0UGF0aChwYXRoKTtcbiAgICAgICAgcGF0aCA9IHRoaXMudG9Qb3NpeChwYXRoKTtcbiAgICAgICAgdmFyIHJvb3QgPSAnJztcbiAgICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnLycpKVxuICAgICAgICAgICAgeyByb290ID0gJy8nOyB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMuZ2V0UHJvdG9jb2wocGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNVcmwocGF0aCkpIHtcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gZmluZCB0aGUgZmlyc3QgcGF0aCBzZXBhcmF0b3JcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhdGguaW5kZXhPZignLycsIHJvb3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByb290ID0gcGF0aC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgeyByb290ID0gcGF0aDsgfVxuICAgICAgICAgICAgaWYgKCFyb290LmVuZHNXaXRoKCcvJykpXG4gICAgICAgICAgICAgICAgeyByb290ICs9ICcvJzsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGFzdCBwb3J0aW9uIG9mIGEgcGF0aFxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggdG8gdGVzdFxuICAgICAqIEBwYXJhbSBleHQgLSBPcHRpb25hbCBleHRlbnNpb24gdG8gcmVtb3ZlXG4gICAgICovXG4gICAgYmFzZW5hbWU6IGZ1bmN0aW9uIChwYXRoLCBleHQpIHtcbiAgICAgICAgYXNzZXJ0UGF0aChwYXRoKTtcbiAgICAgICAgaWYgKGV4dClcbiAgICAgICAgICAgIHsgYXNzZXJ0UGF0aChleHQpOyB9XG4gICAgICAgIHBhdGggPSB0aGlzLnRvUG9zaXgocGF0aCk7XG4gICAgICAgIHZhciBzdGFydCA9IDA7XG4gICAgICAgIHZhciBlbmQgPSAtMTtcbiAgICAgICAgdmFyIG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBpZiAoZXh0ICE9PSB1bmRlZmluZWQgJiYgZXh0Lmxlbmd0aCA+IDAgJiYgZXh0Lmxlbmd0aCA8PSBwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGV4dC5sZW5ndGggPT09IHBhdGgubGVuZ3RoICYmIGV4dCA9PT0gcGF0aClcbiAgICAgICAgICAgICAgICB7IHJldHVybiAnJzsgfVxuICAgICAgICAgICAgdmFyIGV4dElkeCA9IGV4dC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgdmFyIGZpcnN0Tm9uU2xhc2hFbmQgPSAtMTtcbiAgICAgICAgICAgIGZvciAoaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gNDcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdE5vblNsYXNoRW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIHJlbWVtYmVyIHRoaXMgaW5kZXggaW4gY2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgbmVlZCBpdCBpZiB0aGUgZXh0ZW5zaW9uIGVuZHMgdXAgbm90IG1hdGNoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Tm9uU2xhc2hFbmQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZXh0SWR4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBtYXRjaCB0aGUgZXhwbGljaXQgZXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gZXh0LmNoYXJDb2RlQXQoZXh0SWR4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtLWV4dElkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCB0aGUgZXh0ZW5zaW9uLCBzbyBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXIgcGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRlbnNpb24gZG9lcyBub3QgbWF0Y2gsIHNvIG91ciByZXN1bHQgaXMgdGhlIGVudGlyZSBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0SWR4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFydCA9PT0gZW5kKVxuICAgICAgICAgICAgICAgIHsgZW5kID0gZmlyc3ROb25TbGFzaEVuZDsgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW5kID09PSAtMSlcbiAgICAgICAgICAgICAgICB7IGVuZCA9IHBhdGgubGVuZ3RoOyB9XG4gICAgICAgICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBpZiAocGF0aC5jaGFyQ29kZUF0KGkpID09PSA0Nykge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcbiAgICAgICAgICAgICAgICAvLyBwYXRoIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPT09IC0xKVxuICAgICAgICAgICAgeyByZXR1cm4gJyc7IH1cbiAgICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBleHRlbnNpb24gb2YgdGhlIHBhdGgsIGZyb20gdGhlIGxhc3Qgb2NjdXJyZW5jZSBvZiB0aGUgLiAocGVyaW9kKSBjaGFyYWN0ZXIgdG8gZW5kIG9mIHN0cmluZyBpbiB0aGUgbGFzdFxuICAgICAqIHBvcnRpb24gb2YgdGhlIHBhdGguIElmIHRoZXJlIGlzIG5vIC4gaW4gdGhlIGxhc3QgcG9ydGlvbiBvZiB0aGUgcGF0aCwgb3IgaWYgdGhlcmUgYXJlIG5vIC4gY2hhcmFjdGVycyBvdGhlciB0aGFuXG4gICAgICogdGhlIGZpcnN0IGNoYXJhY3RlciBvZiB0aGUgYmFzZW5hbWUgb2YgcGF0aCwgYW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggdG8gcGFyc2VcbiAgICAgKi9cbiAgICBleHRuYW1lOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgICAgICBwYXRoID0gdGhpcy50b1Bvc2l4KHBhdGgpO1xuICAgICAgICB2YXIgc3RhcnREb3QgPSAtMTtcbiAgICAgICAgdmFyIHN0YXJ0UGFydCA9IDA7XG4gICAgICAgIHZhciBlbmQgPSAtMTtcbiAgICAgICAgdmFyIG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAgICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcbiAgICAgICAgdmFyIHByZURvdFN0YXRlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKGNvZGUgPT09IDQ3KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgICAgICAgICAgLy8gZXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gNDYpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICB7IHN0YXJ0RG90ID0gaTsgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgICAgICAgICAgICB7IHByZURvdFN0YXRlID0gMTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhcnREb3QgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxuICAgICAgICAgICAgICAgIHByZURvdFN0YXRlID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSB8fCBlbmQgPT09IC0xXG4gICAgICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGNoYXJhY3RlciBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRvdFxuICAgICAgICAgICAgfHwgcHJlRG90U3RhdGUgPT09IDBcbiAgICAgICAgICAgIC8vIFRoZSAocmlnaHQtbW9zdCkgdHJpbW1lZCBwYXRoIGNvbXBvbmVudCBpcyBleGFjdGx5ICcuLidcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1taXhlZC1vcGVyYXRvcnNcbiAgICAgICAgICAgIHx8IHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnREb3QsIGVuZCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBwYXRoIGludG8gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlICdyb290JywgYGRpcmAsIGBiYXNlYCwgYGV4dGAsIGFuZCBgbmFtZWAgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIHRvIHBhcnNlXG4gICAgICovXG4gICAgcGFyc2U6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgICAgIHZhciByZXQgPSB7IHJvb3Q6ICcnLCBkaXI6ICcnLCBiYXNlOiAnJywgZXh0OiAnJywgbmFtZTogJycgfTtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgeyByZXR1cm4gcmV0OyB9XG4gICAgICAgIHBhdGggPSB0aGlzLnRvUG9zaXgocGF0aCk7XG4gICAgICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgaXNBYnNvbHV0ZSA9IHRoaXMuaXNBYnNvbHV0ZShwYXRoKTtcbiAgICAgICAgdmFyIHN0YXJ0O1xuICAgICAgICByZXQucm9vdCA9IHRoaXMucm9vdG5hbWUocGF0aCk7XG4gICAgICAgIGlmIChpc0Fic29sdXRlIHx8IHRoaXMuaGFzUHJvdG9jb2wocGF0aCkpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnREb3QgPSAtMTtcbiAgICAgICAgdmFyIHN0YXJ0UGFydCA9IDA7XG4gICAgICAgIHZhciBlbmQgPSAtMTtcbiAgICAgICAgdmFyIG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgICAgIHZhciBpID0gcGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gICAgICAgIC8vIGFmdGVyIGFueSBwYXRoIHNlcGFyYXRvciB3ZSBmaW5kXG4gICAgICAgIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG4gICAgICAgIC8vIEdldCBub24tZGlyIGluZm9cbiAgICAgICAgZm9yICg7IGkgPj0gc3RhcnQ7IC0taSkge1xuICAgICAgICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjb2RlID09PSA0Nykge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgICAgICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IDQ2KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBvdXIgZmlyc3QgZG90LCBtYXJrIGl0IGFzIHRoZSBzdGFydCBvZiBvdXIgZXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgeyBzdGFydERvdCA9IGk7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSlcbiAgICAgICAgICAgICAgICAgICAgeyBwcmVEb3RTdGF0ZSA9IDE7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMVxuICAgICAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgICAgICAgIHx8IHByZURvdFN0YXRlID09PSAwXG4gICAgICAgICAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWl4ZWQtb3BlcmF0b3JzXG4gICAgICAgICAgICB8fCBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgICAgICAgICAgaWYgKGVuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRQYXJ0ID09PSAwICYmIGlzQWJzb2x1dGUpXG4gICAgICAgICAgICAgICAgICAgIHsgcmV0LmJhc2UgPSByZXQubmFtZSA9IHBhdGguc2xpY2UoMSwgZW5kKTsgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgeyByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIGVuZCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdGFydFBhcnQgPT09IDAgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgICAgICAgICAgIHJldC5uYW1lID0gcGF0aC5zbGljZSgxLCBzdGFydERvdCk7XG4gICAgICAgICAgICAgICAgcmV0LmJhc2UgPSBwYXRoLnNsaWNlKDEsIGVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXQubmFtZSA9IHBhdGguc2xpY2Uoc3RhcnRQYXJ0LCBzdGFydERvdCk7XG4gICAgICAgICAgICAgICAgcmV0LmJhc2UgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldC5leHQgPSBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHJldC5kaXIgPSB0aGlzLmRpcm5hbWUocGF0aCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcbiAgICBzZXA6ICcvJyxcbiAgICBkZWxpbWl0ZXI6ICc6J1xufTtcblxuLyoqXG4gKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBSRVRJTkFfUFJFRklYXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBkZWZhdWx0IC9AKFswLTlcXC5dKyl4L1xuICogQGV4YW1wbGUgYEAyeGBcbiAqL1xuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCA9IC9AKFswLTlcXC5dKyl4Lztcbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogSWYgc2V0IHRvIHRydWUsIGEgV2ViR0wgcmVuZGVyZXIgY2FuIGZhaWwgdG8gYmUgY3JlYXRlZCBpZiB0aGUgYnJvd3NlciB0aGlua3MgdGhlcmUgY291bGQgYmUgcGVyZm9ybWFuY2UgaXNzdWVzIHdoZW5cbiAqIHVzaW5nIFdlYkdMLlxuICpcbiAqIEluIFBpeGlKUyB2NiB0aGlzIGhhcyBjaGFuZ2VkIGZyb20gdHJ1ZSB0byBmYWxzZSBieSBkZWZhdWx0LCB0byBhbGxvdyBXZWJHTCB0byB3b3JrIGluIGFzIG1hbnkgc2NlbmFyaW9zIGFzIHBvc3NpYmxlLlxuICogSG93ZXZlciwgc29tZSB1c2VycyBtYXkgaGF2ZSBhIHBvb3IgZXhwZXJpZW5jZSwgZm9yIGV4YW1wbGUsIGlmIGEgdXNlciBoYXMgYSBncHUgb3IgZHJpdmVyIHZlcnNpb24gYmxhY2tsaXN0ZWQgYnkgdGhlXG4gKiBicm93c2VyLlxuICpcbiAqIElmIHlvdXIgYXBwbGljYXRpb24gcmVxdWlyZXMgaGlnaCBwZXJmb3JtYW5jZSByZW5kZXJpbmcsIHlvdSBtYXkgd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZS5cbiAqIFdlIHJlY29tbWVuZCBvbmUgb2YgdHdvIG9wdGlvbnMgaWYgeW91IGRlY2lkZSB0byBzZXQgdGhpcyBmbGFnIHRvIGZhbHNlOlxuICpcbiAqIDE6IFVzZSB0aGUgYHBpeGkuanMtbGVnYWN5YCBwYWNrYWdlLCB3aGljaCBpbmNsdWRlcyBhIENhbnZhcyByZW5kZXJlciBhcyBhIGZhbGxiYWNrIGluIGNhc2UgaGlnaCBwZXJmb3JtYW5jZSBXZWJHTCBpc1xuICogICAgbm90IHN1cHBvcnRlZC5cbiAqXG4gKiAyOiBDYWxsIGBpc1dlYkdMU3VwcG9ydGVkYCAod2hpY2ggaWYgZm91bmQgaW4gdGhlIFBJWEkudXRpbHMgcGFja2FnZSkgaW4geW91ciBjb2RlIGJlZm9yZSBhdHRlbXB0aW5nIHRvIGNyZWF0ZSBhIFBpeGlKU1xuICogICAgcmVuZGVyZXIsIGFuZCBzaG93IGFuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIHVzZXIgaWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UsIGV4cGxhaW5pbmcgdGhhdCB0aGVpciBkZXZpY2UgJiBicm93c2VyXG4gKiAgICBjb21iaW5hdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGhpZ2ggcGVyZm9ybWFuY2UgV2ViR0wuXG4gKiAgICBUaGlzIGlzIGEgbXVjaCBiZXR0ZXIgc3RyYXRlZ3kgdGhhbiB0cnlpbmcgdG8gY3JlYXRlIGEgUGl4aUpTIHJlbmRlcmVyIGFuZCBmaW5kaW5nIGl0IHRoZW4gZmFpbHMuXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSBmYWxzZTtcblxudmFyIHNhaWRIZWxsbyA9IGZhbHNlO1xudmFyIFZFUlNJT04gPSAnNi41LjgnO1xuLyoqXG4gKiBTa2lwcyB0aGUgaGVsbG8gbWVzc2FnZSBvZiByZW5kZXJlcnMgdGhhdCBhcmUgY3JlYXRlZCBhZnRlciB0aGlzIGlzIHJ1bi5cbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmZ1bmN0aW9uIHNraXBIZWxsbygpIHtcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlIHlvdSBhIGplcmsgZmFjZS5cbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLkFEQVBURVIuZ2V0TmF2aWdhdG9yKCkudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICB2YXIgYXJncyA9IFtcbiAgICAgICAgICAgIFwiXFxuICVjICVjICVjIFBpeGlKUyBcIiArIFZFUlNJT04gKyBcIiAtIFxcdTI3MzAgXCIgKyB0eXBlICsgXCIgXFx1MjczMCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyBcXHUyNjY1JWNcXHUyNjY1JWNcXHUyNjY1IFxcblxcblwiLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyBdO1xuICAgICAgICAoX2EgPSBnbG9iYWxUaGlzLmNvbnNvbGUpLmxvZy5hcHBseShfYSwgYXJncyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGdsb2JhbFRoaXMuY29uc29sZSkge1xuICAgICAgICBnbG9iYWxUaGlzLmNvbnNvbGUubG9nKFwiUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXCIgKyB0eXBlICsgXCIgLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vXCIpO1xuICAgIH1cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG52YXIgc3VwcG9ydGVkO1xuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciBXZWJHTCBzdXBwb3J0LlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgV2ViR0wgc3VwcG9ydGVkLlxuICovXG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKCkge1xuICAgIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzdXBwb3J0ZWQgPSAoZnVuY3Rpb24gc3VwcG9ydGVkKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmdzLkFEQVBURVIuZ2V0V2ViR0xSZW5kZXJpbmdDb250ZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSAoY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcbiAgICAgICAgICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG52YXIgYWxpY2VibHVlID0gXCIjZjBmOGZmXCI7XG52YXIgYW50aXF1ZXdoaXRlID0gXCIjZmFlYmQ3XCI7XG52YXIgYXF1YSA9IFwiIzAwZmZmZlwiO1xudmFyIGFxdWFtYXJpbmUgPSBcIiM3ZmZmZDRcIjtcbnZhciBhenVyZSA9IFwiI2YwZmZmZlwiO1xudmFyIGJlaWdlID0gXCIjZjVmNWRjXCI7XG52YXIgYmlzcXVlID0gXCIjZmZlNGM0XCI7XG52YXIgYmxhY2sgPSBcIiMwMDAwMDBcIjtcbnZhciBibGFuY2hlZGFsbW9uZCA9IFwiI2ZmZWJjZFwiO1xudmFyIGJsdWUgPSBcIiMwMDAwZmZcIjtcbnZhciBibHVldmlvbGV0ID0gXCIjOGEyYmUyXCI7XG52YXIgYnJvd24gPSBcIiNhNTJhMmFcIjtcbnZhciBidXJseXdvb2QgPSBcIiNkZWI4ODdcIjtcbnZhciBjYWRldGJsdWUgPSBcIiM1ZjllYTBcIjtcbnZhciBjaGFydHJldXNlID0gXCIjN2ZmZjAwXCI7XG52YXIgY2hvY29sYXRlID0gXCIjZDI2OTFlXCI7XG52YXIgY29yYWwgPSBcIiNmZjdmNTBcIjtcbnZhciBjb3JuZmxvd2VyYmx1ZSA9IFwiIzY0OTVlZFwiO1xudmFyIGNvcm5zaWxrID0gXCIjZmZmOGRjXCI7XG52YXIgY3JpbXNvbiA9IFwiI2RjMTQzY1wiO1xudmFyIGN5YW4gPSBcIiMwMGZmZmZcIjtcbnZhciBkYXJrYmx1ZSA9IFwiIzAwMDA4YlwiO1xudmFyIGRhcmtjeWFuID0gXCIjMDA4YjhiXCI7XG52YXIgZGFya2dvbGRlbnJvZCA9IFwiI2I4ODYwYlwiO1xudmFyIGRhcmtncmF5ID0gXCIjYTlhOWE5XCI7XG52YXIgZGFya2dyZWVuID0gXCIjMDA2NDAwXCI7XG52YXIgZGFya2dyZXkgPSBcIiNhOWE5YTlcIjtcbnZhciBkYXJra2hha2kgPSBcIiNiZGI3NmJcIjtcbnZhciBkYXJrbWFnZW50YSA9IFwiIzhiMDA4YlwiO1xudmFyIGRhcmtvbGl2ZWdyZWVuID0gXCIjNTU2YjJmXCI7XG52YXIgZGFya29yYW5nZSA9IFwiI2ZmOGMwMFwiO1xudmFyIGRhcmtvcmNoaWQgPSBcIiM5OTMyY2NcIjtcbnZhciBkYXJrcmVkID0gXCIjOGIwMDAwXCI7XG52YXIgZGFya3NhbG1vbiA9IFwiI2U5OTY3YVwiO1xudmFyIGRhcmtzZWFncmVlbiA9IFwiIzhmYmM4ZlwiO1xudmFyIGRhcmtzbGF0ZWJsdWUgPSBcIiM0ODNkOGJcIjtcbnZhciBkYXJrc2xhdGVncmF5ID0gXCIjMmY0ZjRmXCI7XG52YXIgZGFya3NsYXRlZ3JleSA9IFwiIzJmNGY0ZlwiO1xudmFyIGRhcmt0dXJxdW9pc2UgPSBcIiMwMGNlZDFcIjtcbnZhciBkYXJrdmlvbGV0ID0gXCIjOTQwMGQzXCI7XG52YXIgZGVlcHBpbmsgPSBcIiNmZjE0OTNcIjtcbnZhciBkZWVwc2t5Ymx1ZSA9IFwiIzAwYmZmZlwiO1xudmFyIGRpbWdyYXkgPSBcIiM2OTY5NjlcIjtcbnZhciBkaW1ncmV5ID0gXCIjNjk2OTY5XCI7XG52YXIgZG9kZ2VyYmx1ZSA9IFwiIzFlOTBmZlwiO1xudmFyIGZpcmVicmljayA9IFwiI2IyMjIyMlwiO1xudmFyIGZsb3JhbHdoaXRlID0gXCIjZmZmYWYwXCI7XG52YXIgZm9yZXN0Z3JlZW4gPSBcIiMyMjhiMjJcIjtcbnZhciBmdWNoc2lhID0gXCIjZmYwMGZmXCI7XG52YXIgZ2FpbnNib3JvID0gXCIjZGNkY2RjXCI7XG52YXIgZ2hvc3R3aGl0ZSA9IFwiI2Y4ZjhmZlwiO1xudmFyIGdvbGRlbnJvZCA9IFwiI2RhYTUyMFwiO1xudmFyIGdvbGQgPSBcIiNmZmQ3MDBcIjtcbnZhciBncmF5ID0gXCIjODA4MDgwXCI7XG52YXIgZ3JlZW4gPSBcIiMwMDgwMDBcIjtcbnZhciBncmVlbnllbGxvdyA9IFwiI2FkZmYyZlwiO1xudmFyIGdyZXkgPSBcIiM4MDgwODBcIjtcbnZhciBob25leWRldyA9IFwiI2YwZmZmMFwiO1xudmFyIGhvdHBpbmsgPSBcIiNmZjY5YjRcIjtcbnZhciBpbmRpYW5yZWQgPSBcIiNjZDVjNWNcIjtcbnZhciBpbmRpZ28gPSBcIiM0YjAwODJcIjtcbnZhciBpdm9yeSA9IFwiI2ZmZmZmMFwiO1xudmFyIGtoYWtpID0gXCIjZjBlNjhjXCI7XG52YXIgbGF2ZW5kZXJibHVzaCA9IFwiI2ZmZjBmNVwiO1xudmFyIGxhdmVuZGVyID0gXCIjZTZlNmZhXCI7XG52YXIgbGF3bmdyZWVuID0gXCIjN2NmYzAwXCI7XG52YXIgbGVtb25jaGlmZm9uID0gXCIjZmZmYWNkXCI7XG52YXIgbGlnaHRibHVlID0gXCIjYWRkOGU2XCI7XG52YXIgbGlnaHRjb3JhbCA9IFwiI2YwODA4MFwiO1xudmFyIGxpZ2h0Y3lhbiA9IFwiI2UwZmZmZlwiO1xudmFyIGxpZ2h0Z29sZGVucm9keWVsbG93ID0gXCIjZmFmYWQyXCI7XG52YXIgbGlnaHRncmF5ID0gXCIjZDNkM2QzXCI7XG52YXIgbGlnaHRncmVlbiA9IFwiIzkwZWU5MFwiO1xudmFyIGxpZ2h0Z3JleSA9IFwiI2QzZDNkM1wiO1xudmFyIGxpZ2h0cGluayA9IFwiI2ZmYjZjMVwiO1xudmFyIGxpZ2h0c2FsbW9uID0gXCIjZmZhMDdhXCI7XG52YXIgbGlnaHRzZWFncmVlbiA9IFwiIzIwYjJhYVwiO1xudmFyIGxpZ2h0c2t5Ymx1ZSA9IFwiIzg3Y2VmYVwiO1xudmFyIGxpZ2h0c2xhdGVncmF5ID0gXCIjNzc4ODk5XCI7XG52YXIgbGlnaHRzbGF0ZWdyZXkgPSBcIiM3Nzg4OTlcIjtcbnZhciBsaWdodHN0ZWVsYmx1ZSA9IFwiI2IwYzRkZVwiO1xudmFyIGxpZ2h0eWVsbG93ID0gXCIjZmZmZmUwXCI7XG52YXIgbGltZSA9IFwiIzAwZmYwMFwiO1xudmFyIGxpbWVncmVlbiA9IFwiIzMyY2QzMlwiO1xudmFyIGxpbmVuID0gXCIjZmFmMGU2XCI7XG52YXIgbWFnZW50YSA9IFwiI2ZmMDBmZlwiO1xudmFyIG1hcm9vbiA9IFwiIzgwMDAwMFwiO1xudmFyIG1lZGl1bWFxdWFtYXJpbmUgPSBcIiM2NmNkYWFcIjtcbnZhciBtZWRpdW1ibHVlID0gXCIjMDAwMGNkXCI7XG52YXIgbWVkaXVtb3JjaGlkID0gXCIjYmE1NWQzXCI7XG52YXIgbWVkaXVtcHVycGxlID0gXCIjOTM3MGRiXCI7XG52YXIgbWVkaXVtc2VhZ3JlZW4gPSBcIiMzY2IzNzFcIjtcbnZhciBtZWRpdW1zbGF0ZWJsdWUgPSBcIiM3YjY4ZWVcIjtcbnZhciBtZWRpdW1zcHJpbmdncmVlbiA9IFwiIzAwZmE5YVwiO1xudmFyIG1lZGl1bXR1cnF1b2lzZSA9IFwiIzQ4ZDFjY1wiO1xudmFyIG1lZGl1bXZpb2xldHJlZCA9IFwiI2M3MTU4NVwiO1xudmFyIG1pZG5pZ2h0Ymx1ZSA9IFwiIzE5MTk3MFwiO1xudmFyIG1pbnRjcmVhbSA9IFwiI2Y1ZmZmYVwiO1xudmFyIG1pc3R5cm9zZSA9IFwiI2ZmZTRlMVwiO1xudmFyIG1vY2Nhc2luID0gXCIjZmZlNGI1XCI7XG52YXIgbmF2YWpvd2hpdGUgPSBcIiNmZmRlYWRcIjtcbnZhciBuYXZ5ID0gXCIjMDAwMDgwXCI7XG52YXIgb2xkbGFjZSA9IFwiI2ZkZjVlNlwiO1xudmFyIG9saXZlID0gXCIjODA4MDAwXCI7XG52YXIgb2xpdmVkcmFiID0gXCIjNmI4ZTIzXCI7XG52YXIgb3JhbmdlID0gXCIjZmZhNTAwXCI7XG52YXIgb3JhbmdlcmVkID0gXCIjZmY0NTAwXCI7XG52YXIgb3JjaGlkID0gXCIjZGE3MGQ2XCI7XG52YXIgcGFsZWdvbGRlbnJvZCA9IFwiI2VlZThhYVwiO1xudmFyIHBhbGVncmVlbiA9IFwiIzk4ZmI5OFwiO1xudmFyIHBhbGV0dXJxdW9pc2UgPSBcIiNhZmVlZWVcIjtcbnZhciBwYWxldmlvbGV0cmVkID0gXCIjZGI3MDkzXCI7XG52YXIgcGFwYXlhd2hpcCA9IFwiI2ZmZWZkNVwiO1xudmFyIHBlYWNocHVmZiA9IFwiI2ZmZGFiOVwiO1xudmFyIHBlcnUgPSBcIiNjZDg1M2ZcIjtcbnZhciBwaW5rID0gXCIjZmZjMGNiXCI7XG52YXIgcGx1bSA9IFwiI2RkYTBkZFwiO1xudmFyIHBvd2RlcmJsdWUgPSBcIiNiMGUwZTZcIjtcbnZhciBwdXJwbGUgPSBcIiM4MDAwODBcIjtcbnZhciByZWJlY2NhcHVycGxlID0gXCIjNjYzMzk5XCI7XG52YXIgcmVkID0gXCIjZmYwMDAwXCI7XG52YXIgcm9zeWJyb3duID0gXCIjYmM4ZjhmXCI7XG52YXIgcm95YWxibHVlID0gXCIjNDE2OWUxXCI7XG52YXIgc2FkZGxlYnJvd24gPSBcIiM4YjQ1MTNcIjtcbnZhciBzYWxtb24gPSBcIiNmYTgwNzJcIjtcbnZhciBzYW5keWJyb3duID0gXCIjZjRhNDYwXCI7XG52YXIgc2VhZ3JlZW4gPSBcIiMyZThiNTdcIjtcbnZhciBzZWFzaGVsbCA9IFwiI2ZmZjVlZVwiO1xudmFyIHNpZW5uYSA9IFwiI2EwNTIyZFwiO1xudmFyIHNpbHZlciA9IFwiI2MwYzBjMFwiO1xudmFyIHNreWJsdWUgPSBcIiM4N2NlZWJcIjtcbnZhciBzbGF0ZWJsdWUgPSBcIiM2YTVhY2RcIjtcbnZhciBzbGF0ZWdyYXkgPSBcIiM3MDgwOTBcIjtcbnZhciBzbGF0ZWdyZXkgPSBcIiM3MDgwOTBcIjtcbnZhciBzbm93ID0gXCIjZmZmYWZhXCI7XG52YXIgc3ByaW5nZ3JlZW4gPSBcIiMwMGZmN2ZcIjtcbnZhciBzdGVlbGJsdWUgPSBcIiM0NjgyYjRcIjtcbnZhciB0YW4gPSBcIiNkMmI0OGNcIjtcbnZhciB0ZWFsID0gXCIjMDA4MDgwXCI7XG52YXIgdGhpc3RsZSA9IFwiI2Q4YmZkOFwiO1xudmFyIHRvbWF0byA9IFwiI2ZmNjM0N1wiO1xudmFyIHR1cnF1b2lzZSA9IFwiIzQwZTBkMFwiO1xudmFyIHZpb2xldCA9IFwiI2VlODJlZVwiO1xudmFyIHdoZWF0ID0gXCIjZjVkZWIzXCI7XG52YXIgd2hpdGUgPSBcIiNmZmZmZmZcIjtcbnZhciB3aGl0ZXNtb2tlID0gXCIjZjVmNWY1XCI7XG52YXIgeWVsbG93ID0gXCIjZmZmZjAwXCI7XG52YXIgeWVsbG93Z3JlZW4gPSBcIiM5YWNkMzJcIjtcbnZhciBjc3NDb2xvck5hbWVzID0ge1xuXHRhbGljZWJsdWU6IGFsaWNlYmx1ZSxcblx0YW50aXF1ZXdoaXRlOiBhbnRpcXVld2hpdGUsXG5cdGFxdWE6IGFxdWEsXG5cdGFxdWFtYXJpbmU6IGFxdWFtYXJpbmUsXG5cdGF6dXJlOiBhenVyZSxcblx0YmVpZ2U6IGJlaWdlLFxuXHRiaXNxdWU6IGJpc3F1ZSxcblx0YmxhY2s6IGJsYWNrLFxuXHRibGFuY2hlZGFsbW9uZDogYmxhbmNoZWRhbG1vbmQsXG5cdGJsdWU6IGJsdWUsXG5cdGJsdWV2aW9sZXQ6IGJsdWV2aW9sZXQsXG5cdGJyb3duOiBicm93bixcblx0YnVybHl3b29kOiBidXJseXdvb2QsXG5cdGNhZGV0Ymx1ZTogY2FkZXRibHVlLFxuXHRjaGFydHJldXNlOiBjaGFydHJldXNlLFxuXHRjaG9jb2xhdGU6IGNob2NvbGF0ZSxcblx0Y29yYWw6IGNvcmFsLFxuXHRjb3JuZmxvd2VyYmx1ZTogY29ybmZsb3dlcmJsdWUsXG5cdGNvcm5zaWxrOiBjb3Juc2lsayxcblx0Y3JpbXNvbjogY3JpbXNvbixcblx0Y3lhbjogY3lhbixcblx0ZGFya2JsdWU6IGRhcmtibHVlLFxuXHRkYXJrY3lhbjogZGFya2N5YW4sXG5cdGRhcmtnb2xkZW5yb2Q6IGRhcmtnb2xkZW5yb2QsXG5cdGRhcmtncmF5OiBkYXJrZ3JheSxcblx0ZGFya2dyZWVuOiBkYXJrZ3JlZW4sXG5cdGRhcmtncmV5OiBkYXJrZ3JleSxcblx0ZGFya2toYWtpOiBkYXJra2hha2ksXG5cdGRhcmttYWdlbnRhOiBkYXJrbWFnZW50YSxcblx0ZGFya29saXZlZ3JlZW46IGRhcmtvbGl2ZWdyZWVuLFxuXHRkYXJrb3JhbmdlOiBkYXJrb3JhbmdlLFxuXHRkYXJrb3JjaGlkOiBkYXJrb3JjaGlkLFxuXHRkYXJrcmVkOiBkYXJrcmVkLFxuXHRkYXJrc2FsbW9uOiBkYXJrc2FsbW9uLFxuXHRkYXJrc2VhZ3JlZW46IGRhcmtzZWFncmVlbixcblx0ZGFya3NsYXRlYmx1ZTogZGFya3NsYXRlYmx1ZSxcblx0ZGFya3NsYXRlZ3JheTogZGFya3NsYXRlZ3JheSxcblx0ZGFya3NsYXRlZ3JleTogZGFya3NsYXRlZ3JleSxcblx0ZGFya3R1cnF1b2lzZTogZGFya3R1cnF1b2lzZSxcblx0ZGFya3Zpb2xldDogZGFya3Zpb2xldCxcblx0ZGVlcHBpbms6IGRlZXBwaW5rLFxuXHRkZWVwc2t5Ymx1ZTogZGVlcHNreWJsdWUsXG5cdGRpbWdyYXk6IGRpbWdyYXksXG5cdGRpbWdyZXk6IGRpbWdyZXksXG5cdGRvZGdlcmJsdWU6IGRvZGdlcmJsdWUsXG5cdGZpcmVicmljazogZmlyZWJyaWNrLFxuXHRmbG9yYWx3aGl0ZTogZmxvcmFsd2hpdGUsXG5cdGZvcmVzdGdyZWVuOiBmb3Jlc3RncmVlbixcblx0ZnVjaHNpYTogZnVjaHNpYSxcblx0Z2FpbnNib3JvOiBnYWluc2Jvcm8sXG5cdGdob3N0d2hpdGU6IGdob3N0d2hpdGUsXG5cdGdvbGRlbnJvZDogZ29sZGVucm9kLFxuXHRnb2xkOiBnb2xkLFxuXHRncmF5OiBncmF5LFxuXHRncmVlbjogZ3JlZW4sXG5cdGdyZWVueWVsbG93OiBncmVlbnllbGxvdyxcblx0Z3JleTogZ3JleSxcblx0aG9uZXlkZXc6IGhvbmV5ZGV3LFxuXHRob3RwaW5rOiBob3RwaW5rLFxuXHRpbmRpYW5yZWQ6IGluZGlhbnJlZCxcblx0aW5kaWdvOiBpbmRpZ28sXG5cdGl2b3J5OiBpdm9yeSxcblx0a2hha2k6IGtoYWtpLFxuXHRsYXZlbmRlcmJsdXNoOiBsYXZlbmRlcmJsdXNoLFxuXHRsYXZlbmRlcjogbGF2ZW5kZXIsXG5cdGxhd25ncmVlbjogbGF3bmdyZWVuLFxuXHRsZW1vbmNoaWZmb246IGxlbW9uY2hpZmZvbixcblx0bGlnaHRibHVlOiBsaWdodGJsdWUsXG5cdGxpZ2h0Y29yYWw6IGxpZ2h0Y29yYWwsXG5cdGxpZ2h0Y3lhbjogbGlnaHRjeWFuLFxuXHRsaWdodGdvbGRlbnJvZHllbGxvdzogbGlnaHRnb2xkZW5yb2R5ZWxsb3csXG5cdGxpZ2h0Z3JheTogbGlnaHRncmF5LFxuXHRsaWdodGdyZWVuOiBsaWdodGdyZWVuLFxuXHRsaWdodGdyZXk6IGxpZ2h0Z3JleSxcblx0bGlnaHRwaW5rOiBsaWdodHBpbmssXG5cdGxpZ2h0c2FsbW9uOiBsaWdodHNhbG1vbixcblx0bGlnaHRzZWFncmVlbjogbGlnaHRzZWFncmVlbixcblx0bGlnaHRza3libHVlOiBsaWdodHNreWJsdWUsXG5cdGxpZ2h0c2xhdGVncmF5OiBsaWdodHNsYXRlZ3JheSxcblx0bGlnaHRzbGF0ZWdyZXk6IGxpZ2h0c2xhdGVncmV5LFxuXHRsaWdodHN0ZWVsYmx1ZTogbGlnaHRzdGVlbGJsdWUsXG5cdGxpZ2h0eWVsbG93OiBsaWdodHllbGxvdyxcblx0bGltZTogbGltZSxcblx0bGltZWdyZWVuOiBsaW1lZ3JlZW4sXG5cdGxpbmVuOiBsaW5lbixcblx0bWFnZW50YTogbWFnZW50YSxcblx0bWFyb29uOiBtYXJvb24sXG5cdG1lZGl1bWFxdWFtYXJpbmU6IG1lZGl1bWFxdWFtYXJpbmUsXG5cdG1lZGl1bWJsdWU6IG1lZGl1bWJsdWUsXG5cdG1lZGl1bW9yY2hpZDogbWVkaXVtb3JjaGlkLFxuXHRtZWRpdW1wdXJwbGU6IG1lZGl1bXB1cnBsZSxcblx0bWVkaXVtc2VhZ3JlZW46IG1lZGl1bXNlYWdyZWVuLFxuXHRtZWRpdW1zbGF0ZWJsdWU6IG1lZGl1bXNsYXRlYmx1ZSxcblx0bWVkaXVtc3ByaW5nZ3JlZW46IG1lZGl1bXNwcmluZ2dyZWVuLFxuXHRtZWRpdW10dXJxdW9pc2U6IG1lZGl1bXR1cnF1b2lzZSxcblx0bWVkaXVtdmlvbGV0cmVkOiBtZWRpdW12aW9sZXRyZWQsXG5cdG1pZG5pZ2h0Ymx1ZTogbWlkbmlnaHRibHVlLFxuXHRtaW50Y3JlYW06IG1pbnRjcmVhbSxcblx0bWlzdHlyb3NlOiBtaXN0eXJvc2UsXG5cdG1vY2Nhc2luOiBtb2NjYXNpbixcblx0bmF2YWpvd2hpdGU6IG5hdmFqb3doaXRlLFxuXHRuYXZ5OiBuYXZ5LFxuXHRvbGRsYWNlOiBvbGRsYWNlLFxuXHRvbGl2ZTogb2xpdmUsXG5cdG9saXZlZHJhYjogb2xpdmVkcmFiLFxuXHRvcmFuZ2U6IG9yYW5nZSxcblx0b3JhbmdlcmVkOiBvcmFuZ2VyZWQsXG5cdG9yY2hpZDogb3JjaGlkLFxuXHRwYWxlZ29sZGVucm9kOiBwYWxlZ29sZGVucm9kLFxuXHRwYWxlZ3JlZW46IHBhbGVncmVlbixcblx0cGFsZXR1cnF1b2lzZTogcGFsZXR1cnF1b2lzZSxcblx0cGFsZXZpb2xldHJlZDogcGFsZXZpb2xldHJlZCxcblx0cGFwYXlhd2hpcDogcGFwYXlhd2hpcCxcblx0cGVhY2hwdWZmOiBwZWFjaHB1ZmYsXG5cdHBlcnU6IHBlcnUsXG5cdHBpbms6IHBpbmssXG5cdHBsdW06IHBsdW0sXG5cdHBvd2RlcmJsdWU6IHBvd2RlcmJsdWUsXG5cdHB1cnBsZTogcHVycGxlLFxuXHRyZWJlY2NhcHVycGxlOiByZWJlY2NhcHVycGxlLFxuXHRyZWQ6IHJlZCxcblx0cm9zeWJyb3duOiByb3N5YnJvd24sXG5cdHJveWFsYmx1ZTogcm95YWxibHVlLFxuXHRzYWRkbGVicm93bjogc2FkZGxlYnJvd24sXG5cdHNhbG1vbjogc2FsbW9uLFxuXHRzYW5keWJyb3duOiBzYW5keWJyb3duLFxuXHRzZWFncmVlbjogc2VhZ3JlZW4sXG5cdHNlYXNoZWxsOiBzZWFzaGVsbCxcblx0c2llbm5hOiBzaWVubmEsXG5cdHNpbHZlcjogc2lsdmVyLFxuXHRza3libHVlOiBza3libHVlLFxuXHRzbGF0ZWJsdWU6IHNsYXRlYmx1ZSxcblx0c2xhdGVncmF5OiBzbGF0ZWdyYXksXG5cdHNsYXRlZ3JleTogc2xhdGVncmV5LFxuXHRzbm93OiBzbm93LFxuXHRzcHJpbmdncmVlbjogc3ByaW5nZ3JlZW4sXG5cdHN0ZWVsYmx1ZTogc3RlZWxibHVlLFxuXHR0YW46IHRhbixcblx0dGVhbDogdGVhbCxcblx0dGhpc3RsZTogdGhpc3RsZSxcblx0dG9tYXRvOiB0b21hdG8sXG5cdHR1cnF1b2lzZTogdHVycXVvaXNlLFxuXHR2aW9sZXQ6IHZpb2xldCxcblx0d2hlYXQ6IHdoZWF0LFxuXHR3aGl0ZTogd2hpdGUsXG5cdHdoaXRlc21va2U6IHdoaXRlc21va2UsXG5cdHllbGxvdzogeWVsbG93LFxuXHR5ZWxsb3dncmVlbjogeWVsbG93Z3JlZW5cbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYW4gW1IsIEcsIEJdIGFycmF5IG9mIG5vcm1hbGl6ZWQgZmxvYXRzIChudW1iZXJzIGZyb20gMC4wIHRvIDEuMCkuXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIC0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm5zIHtudW1iZXJbXX0gQW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBbUiwgRywgQl0gb2YgdGhlIGNvbG9yIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIGZsb2F0cy5cbiAqL1xuZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dCkge1xuICAgIGlmIChvdXQgPT09IHZvaWQgMCkgeyBvdXQgPSBbXTsgfVxuICAgIG91dFswXSA9ICgoaGV4ID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsxXSA9ICgoaGV4ID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzJdID0gKGhleCAmIDB4RkYpIC8gMjU1O1xuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGEgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbG9yIChlLmcuLCBgXCIjZmZmZmZmXCJgKS5cbiAqL1xuZnVuY3Rpb24gaGV4MnN0cmluZyhoZXgpIHtcbiAgICB2YXIgaGV4U3RyaW5nID0gaGV4LnRvU3RyaW5nKDE2KTtcbiAgICBoZXhTdHJpbmcgPSAnMDAwMDAwJy5zdWJzdHJpbmcoMCwgNiAtIGhleFN0cmluZy5sZW5ndGgpICsgaGV4U3RyaW5nO1xuICAgIHJldHVybiBcIiNcIiArIGhleFN0cmluZztcbn1cbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgdG8gYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIuXG4gKiBJdCBjYW4gaGFuZGxlOlxuICogIGhleCBzdHJpbmdzIHN0YXJ0aW5nIHdpdGggIzogXCIjZmZmZmZmXCJcbiAqICBoZXggc3RyaW5ncyBzdGFydGluZyB3aXRoIDB4OiBcIjB4ZmZmZmZmXCJcbiAqICBoZXggc3RyaW5ncyB3aXRob3V0IHByZWZpeDogXCJmZmZmZmZcIlxuICogIGNzcyBjb2xvcnM6IFwiYmxhY2tcIlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuc3RyaW5nMmhleChcIiNmZmZmZmZcIik7IC8vIHJldHVybnMgMHhmZmZmZmYsIHdoaWNoIGlzIDE2Nzc3MjE1IGFzIGFuIGludGVnZXJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc3RyaW5nMmhleFxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyAtIFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZzJoZXgoc3RyaW5nKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN0cmluZyA9IGNzc0NvbG9yTmFtZXNbc3RyaW5nLnRvTG93ZXJDYXNlKCldIHx8IHN0cmluZztcbiAgICAgICAgaWYgKHN0cmluZ1swXSA9PT0gJyMnKSB7XG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZywgMTYpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyB0byBhIGhleGFkZWNpbWFsIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnJnYjJoZXgoWzEsIDEsIDFdKTsgLy8gcmV0dXJucyAweGZmZmZmZiwgd2hpY2ggaXMgMTY3NzcyMTUgYXMgYW4gaW50ZWdlclxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiByZ2IyaGV4XG4gKiBAcGFyYW0ge251bWJlcltdfSByZ2IgLSBBcnJheSBvZiBudW1iZXJzIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIG5vcm1hbGl6ZWQgZmxvYXRzIGZyb20gMC4wIHRvIDEuMC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gcmdiMmhleChyZ2IpIHtcbiAgICByZXR1cm4gKCgocmdiWzBdICogMjU1KSA8PCAxNikgKyAoKHJnYlsxXSAqIDI1NSkgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCkpO1xufVxuXG4vKipcbiAqIENvcnJlY3RzIFBpeGlKUyBibGVuZCwgdGFrZXMgcHJlbXVsdGlwbGllZCBhbHBoYSBpbnRvIGFjY291bnRcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCkge1xuICAgIHZhciBwbSA9IFtdO1xuICAgIHZhciBucG0gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cbiAgICBwbVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICBwbVtCTEVORF9NT0RFUy5BRERfTlBNXSA9IEJMRU5EX01PREVTLkFERDtcbiAgICBwbVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IEJMRU5EX01PREVTLlNDUkVFTjtcbiAgICBucG1bQkxFTkRfTU9ERVMuTk9STUFMXSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBhcnJheS5wdXNoKG5wbSk7XG4gICAgYXJyYXkucHVzaChwbSk7XG4gICAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBtYXBzIHByZW11bHRpcGx5IGZsYWcgYW5kIGJsZW5kTW9kZSB0byBhZGp1c3RlZCBibGVuZE1vZGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAY29uc3RhbnQgcHJlbXVsdGlwbHlCbGVuZE1vZGVcbiAqIEB0eXBlIHtBcnJheTxudW1iZXJbXT59XG4gKi9cbnZhciBwcmVtdWx0aXBseUJsZW5kTW9kZSA9IG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCk7XG4vKipcbiAqIGNoYW5nZXMgYmxlbmRNb2RlIGFjY29yZGluZyB0byB0ZXh0dXJlIGZvcm1hdFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIC0gc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkIC0gd2hldGhlciBzb3VyY2UgaXMgcHJlbXVsdGlwbGllZFxuICogQHJldHVybnMge251bWJlcn0gdHJ1ZSBibGVuZCBtb2RlIGZvciB0aGlzIHRleHR1cmVcbiAqL1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpIHtcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmFcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgLSBpbnB1dCByZ2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gLSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIC0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVJnYmEocmdiLCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXSAqIGFscGhhO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdICogYWxwaGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBwcmVtdWx0aXBsaWVzIHRpbnRcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGludCAtIGludGVnZXIgUkdCXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBmbG9hdGluZyBwb2ludCBhbHBoYSAoMC4wLTEuMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbnQgbXVsdGlwbGllZCBieSBhbHBoYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludCwgYWxwaGEpIHtcbiAgICBpZiAoYWxwaGEgPT09IDEuMCkge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9ICgodGludCA+PiAxNikgJiAweEZGKTtcbiAgICB2YXIgRyA9ICgodGludCA+PiA4KSAmIDB4RkYpO1xuICAgIHZhciBCID0gKHRpbnQgJiAweEZGKTtcbiAgICBSID0gKChSICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgRyA9ICgoRyAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEIgPSAoKEIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmFcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSAtIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gLSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJpYyBNYXNrIFN0YWNrIGRhdGEgc3RydWN0dXJlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkc1xuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEBwYXJhbSB7VWludDE2QXJyYXl8VWludDMyQXJyYXl9IFtvdXRCdWZmZXJdIC0gQnVmZmVyIGZvciBvdXRwdXQsIGxlbmd0aCBoYXMgdG8gYmUgYDYgKiBzaXplYFxuICogQHJldHVybnMge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSAtIFJlc3VsdGluZyBpbmRleCBidWZmZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUsIG91dEJ1ZmZlcikge1xuICAgIGlmIChvdXRCdWZmZXIgPT09IHZvaWQgMCkgeyBvdXRCdWZmZXIgPSBudWxsOyB9XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuICAgIHZhciB0b3RhbEluZGljZXMgPSBzaXplICogNjtcbiAgICBvdXRCdWZmZXIgPSBvdXRCdWZmZXIgfHwgbmV3IFVpbnQxNkFycmF5KHRvdGFsSW5kaWNlcyk7XG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCBcIiArIG91dEJ1ZmZlci5sZW5ndGggKyBcIiBhbmQgZXhwZWN0ZWQgXCIgKyB0b3RhbEluZGljZXMpO1xuICAgIH1cbiAgICAvLyBmaWxsIHRoZSBpbmRpY2VzIHdpdGggdGhlIHF1YWRzIHRvIGRyYXdcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbEluZGljZXM7IGkgKz0gNiwgaiArPSA0KSB7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMF0gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAxXSA9IGogKyAxO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDJdID0gaiArIDI7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgM10gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA0XSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDVdID0gaiArIDM7XG4gICAgfVxuICAgIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHsgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSwgSW50MzJBcnJheTogSW50MzJBcnJheSwgVWludDhBcnJheTogVWludDhBcnJheSB9O1xuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpIHtcbiAgICB2YXIgb3V0U2l6ZSA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgdmFyIHZpZXdzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuICAgIHZhciBvdXQgPSBudWxsO1xuICAgIHZhciBsaXR0bGVPZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpXTtcbiAgICAgICAgLypcbiAgICAgICAgQHRvZG8gVGhpcyBpcyB1bnNhZmUgY2FzdGluZyBidXQgY29uc2lzdGVudCB3aXRoIGhvdyB0aGUgY29kZSB3b3JrZWQgcHJldmlvdXNseS4gU2hvdWxkIGl0IHN0YXkgdGhpcyB3YXlcbiAgICAgICAgICAgICAgb3Igc2hvdWxkIGFuZCBgZ2V0QnVmZmVyVHlwZVVuc2FmZWAgZnVuY3Rpb24gYmUgZXhwb3NlZCB0aGF0IHRocm93cyBhbiBFcnJvciBpZiB1bnN1cHBvcnRlZCB0eXBlIGlzIHBhc3NlZD9cbiAgICAgICAgICovXG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbi8vIFRha2VuIGZyb20gdGhlIGJpdC10d2lkZGxlIHBhY2thZ2Vcbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICogQGZ1bmN0aW9uIG5leHRQb3cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn0gLSBuZXh0IHJvdW5kZWQgcG93ZXIgb2YgdHdvXG4gKi9cbmZ1bmN0aW9uIG5leHRQb3cyKHYpIHtcbiAgICB2ICs9IHYgPT09IDAgPyAxIDogMDtcbiAgICAtLXY7XG4gICAgdiB8PSB2ID4+PiAxO1xuICAgIHYgfD0gdiA+Pj4gMjtcbiAgICB2IHw9IHYgPj4+IDQ7XG4gICAgdiB8PSB2ID4+PiA4O1xuICAgIHYgfD0gdiA+Pj4gMTY7XG4gICAgcmV0dXJuIHYgKyAxO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d28uXG4gKiBAZnVuY3Rpb24gaXNQb3cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB2YWx1ZSBpcyBwb3dlciBvZiB0d29cbiAqL1xuZnVuY3Rpb24gaXNQb3cyKHYpIHtcbiAgICByZXR1cm4gISh2ICYgKHYgLSAxKSkgJiYgKCEhdik7XG59XG4vKipcbiAqIENvbXB1dGVzIGNlaWwgb2YgbG9nIGJhc2UgMlxuICogQGZ1bmN0aW9uIGxvZzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiAtIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBsb2dhcml0aG0gYmFzZSAyXG4gKi9cbmZ1bmN0aW9uIGxvZzIodikge1xuICAgIHZhciByID0gKHYgPiAweEZGRkYgPyAxIDogMCkgPDwgNDtcbiAgICB2ID4+Pj0gcjtcbiAgICB2YXIgc2hpZnQgPSAodiA+IDB4RkYgPyAxIDogMCkgPDwgMztcbiAgICB2ID4+Pj0gc2hpZnQ7XG4gICAgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHhGID8gMSA6IDApIDw8IDI7XG4gICAgdiA+Pj49IHNoaWZ0O1xuICAgIHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4MyA/IDEgOiAwKSA8PCAxO1xuICAgIHYgPj4+PSBzaGlmdDtcbiAgICByIHw9IHNoaWZ0O1xuICAgIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIEFycmF5IHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggLSBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IC0gaG93IG1hbnkgdG8gcmVtb3ZlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUl0ZW1zKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgaWYgKHN0YXJ0SWR4ID49IGxlbmd0aCB8fCByZW1vdmVDb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KTtcbiAgICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG4gICAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XTtcbiAgICB9XG4gICAgYXJyLmxlbmd0aCA9IGxlbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHNpZ25cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gdGhlIG51bWJlciB0byBjaGVjayB0aGUgc2lnbiBvZlxuICogQHJldHVybnMge251bWJlcn0gMCBpZiBgbmAgaXMgMCwgLTEgaWYgYG5gIGlzIG5lZ2F0aXZlLCAxIGlmIGBuYCBpcyBwb3NpdGl2ZVxuICovXG5mdW5jdGlvbiBzaWduKG4pIHtcbiAgICBpZiAobiA9PT0gMClcbiAgICAgICAgeyByZXR1cm4gMDsgfVxuICAgIHJldHVybiBuIDwgMCA/IC0xIDogMTtcbn1cblxudmFyIG5leHRVaWQgPSAwO1xuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHVpZFxuICogQHJldHVybnMge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5mdW5jdGlvbiB1aWQoKSB7XG4gICAgcmV0dXJuICsrbmV4dFVpZDtcbn1cblxuLy8gQSBtYXAgb2Ygd2FybmluZyBtZXNzYWdlcyBhbHJlYWR5IGZpcmVkXG52YXIgd2FybmluZ3MgPSB7fTtcbi8qKlxuICogSGVscGVyIGZvciB3YXJuaW5nIGRldmVsb3BlcnMgYWJvdXQgZGVwcmVjYXRlZCBmZWF0dXJlcyAmIHNldHRpbmdzLlxuICogQSBzdGFjayB0cmFjayBmb3Igd2FybmluZ3MgaXMgZ2l2ZW47IHVzZWZ1bCBmb3IgdHJhY2tpbmctZG93biB3aGVyZVxuICogZGVwcmVjYXRlZCBtZXRob2RzL3Byb3BlcnRpZXMvY2xhc3NlcyBhcmUgYmVpbmcgdXNlZCB3aXRoaW4gdGhlIGNvZGUuXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlcHJlY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIFRoZSB2ZXJzaW9uIHdoZXJlIHRoZSBmZWF0dXJlIGJlY2FtZSBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2Ugc2hvdWxkIGluY2x1ZGUgd2hhdCBpcyBkZXByZWNhdGVkLCB3aGVyZSwgYW5kIHRoZSBuZXcgc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWdub3JlRGVwdGg9M10gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGlnbm9yZSBhdCB0aGUgdG9wIG9mIHRoZSBlcnJvciBzdGFja1xuICogICAgICAgIHRoaXMgaXMgbW9zdGx5IHRvIGlnbm9yZSBpbnRlcm5hbCBkZXByZWNhdGlvbiBjYWxscy5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRpb24odmVyc2lvbiwgbWVzc2FnZSwgaWdub3JlRGVwdGgpIHtcbiAgICBpZiAoaWdub3JlRGVwdGggPT09IHZvaWQgMCkgeyBpZ25vcmVEZXB0aCA9IDM7IH1cbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIFBpeGlKUyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoaWdub3JlRGVwdGgpLmpvaW4oJ1xcbicpO1xuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZCkge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnJWNQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCBtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgIHdhcm5pbmdzW21lc3NhZ2VdID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICogQHN0YXRpY1xuICogQG5hbWUgUHJvZ3JhbUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge29iamVjdH1cbiAqL1xudmFyIFByb2dyYW1DYWNoZSA9IHt9O1xuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICogQHN0YXRpY1xuICogQG5hbWUgVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge29iamVjdH1cbiAqL1xudmFyIFRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge29iamVjdH1cbiAqL1xudmFyIEJhc2VUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXk7XG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmVtb3ZlcyBhbGwgdGV4dHVyZXMgZnJvbSBjYWNoZSwgYnV0IGRvZXMgbm90IGRlc3Ryb3kgdGhlbVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50IG9mIHRoZSBnaXZlbiBzaXplIHRvIGJlIHVzZWQgYXMgYSB0YXJnZXQgZm9yIHJlbmRlcmluZyB0by5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xudmFyIENhbnZhc1JlbmRlclRhcmdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gd2lkdGggLSB0aGUgd2lkdGggZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSBoZWlnaHQgLSB0aGUgaGVpZ2h0IGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgY2FudmFzIHRoYXQgd2FzIGNyZWF0ZWQgYnkgdGhlIENhbnZhc1JlbmRlclRhcmdldCBjbGFzcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqIEBwYXJhbSBkZXNpcmVkV2lkdGggLSB0aGUgZGVzaXJlZCB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIGRlc2lyZWRIZWlnaHQgLSB0aGUgZGVzaXJlZCBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKGRlc2lyZWRXaWR0aCwgZGVzaXJlZEhlaWdodCkge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQoZGVzaXJlZFdpZHRoICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChkZXNpcmVkSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGlzIGNhbnZhcy4gKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5yb3VuZCh2YWwpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCh2YWwpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENhbnZhc1JlbmRlclRhcmdldDtcbn0oKSk7XG5cbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdHJpbUNhbnZhc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXMpIHtcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHtcbiAgICAgICAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlLFxuICAgIH0pO1xuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB2YXIgcGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgdmFyIGxlbiA9IHBpeGVscy5sZW5ndGg7XG4gICAgdmFyIGJvdW5kID0ge1xuICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgIHJpZ2h0OiBudWxsLFxuICAgICAgICBib3R0b206IG51bGwsXG4gICAgfTtcbiAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgdmFyIGk7XG4gICAgdmFyIHg7XG4gICAgdmFyIHk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGlmIChwaXhlbHNbaSArIDNdICE9PSAwKSB7XG4gICAgICAgICAgICB4ID0gKGkgLyA0KSAlIHdpZHRoO1xuICAgICAgICAgICAgeSA9IH5+KChpIC8gNCkgLyB3aWR0aCk7XG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQudG9wID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh4IDwgYm91bmQubGVmdCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChib3VuZC50b3AgIT09IG51bGwpIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgIH07XG59XG5cbi8qKlxuICogUmVnZXhwIGZvciBkYXRhIFVSSS5cbiAqIEJhc2VkIG9uOiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JhZ2luZ3dpbmQvZGF0YS11cmktcmVnZXh9XG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IERBVEFfVVJJXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4YW1wbGUgZGF0YTppbWFnZS9wbmc7YmFzZTY0XG4gKi9cbnZhciBEQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjtjaGFyc2V0PShbXFx3LV0rKSk/KD86OyhiYXNlNjQpKT8sKC4qKS9pO1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAaW50ZXJmYWNlIERlY29tcG9zZWREYXRhVXJpXG4gKi9cbi8qKlxuICogdHlwZSwgZWcuIGBpbWFnZWBcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBtZWRpYVR5cGVcbiAqL1xuLyoqXG4gKiBTdWIgdHlwZSwgZWcuIGBwbmdgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gc3ViVHlwZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBjaGFyc2V0XG4gKi9cbi8qKlxuICogRGF0YSBlbmNvZGluZywgZWcuIGBiYXNlNjRgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gZW5jb2RpbmdcbiAqL1xuLyoqXG4gKiBUaGUgYWN0dWFsIGRhdGFcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBkYXRhXG4gKi9cbi8qKlxuICogU3BsaXQgYSBkYXRhIFVSSSBpbnRvIGNvbXBvbmVudHMuIFJldHVybnMgdW5kZWZpbmVkIGlmXG4gKiBwYXJhbWV0ZXIgYGRhdGFVcmlgIGlzIG5vdCBhIHZhbGlkIGRhdGEgVVJJLlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybnMge1BJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcml8dW5kZWZpbmVkfSBUaGUgZGVjb21wb3NlZCBkYXRhIHVyaSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKSB7XG4gICAgdmFyIGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG4gICAgaWYgKGRhdGFVcmlNYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hhcnNldDogZGF0YVVyaU1hdGNoWzNdID8gZGF0YVVyaU1hdGNoWzNdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmNvZGluZzogZGF0YVVyaU1hdGNoWzRdID8gZGF0YVVyaU1hdGNoWzRdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhVXJpTWF0Y2hbNV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbnZhciB0ZW1wQW5jaG9yO1xuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwkMSwgbG9jKSB7XG4gICAgaWYgKGxvYyA9PT0gdm9pZCAwKSB7IGxvYyA9IGdsb2JhbFRoaXMubG9jYXRpb247IH1cbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwkMS5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgZ2xvYmFsVGhpcy5sb2NhdGlvbjtcbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG4gICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmwkMTtcbiAgICB2YXIgcGFyc2VkVXJsID0gdXJsLnBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG4gICAgdmFyIHNhbWVQb3J0ID0gKCFwYXJzZWRVcmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycpIHx8IChwYXJzZWRVcmwucG9ydCA9PT0gbG9jLnBvcnQpO1xuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmIChwYXJzZWRVcmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcGFyc2VkVXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZ2V0IHRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0IGJ5IGxvb2tpbmcgZm9yIHRoZSBwcmVmaXhcbiAqIHVzZWQgYnkgc3ByaXRlc2hlZXRzIGFuZCBpbWFnZSB1cmxzXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXRcbiAqL1xuZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcbiAgICBpZiAocmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cblxuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgQ2FudmFzUmVuZGVyVGFyZ2V0LCBEQVRBX1VSSSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBjb3JyZWN0QmxlbmRNb2RlLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGRlY29tcG9zZURhdGFVcmksIGRlcHJlY2F0aW9uLCBkZXN0cm95VGV4dHVyZUNhY2hlLCBkZXRlcm1pbmVDcm9zc09yaWdpbiwgZ2V0QnVmZmVyVHlwZSwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBoZXgycmdiLCBoZXgyc3RyaW5nLCBpbnRlcmxlYXZlVHlwZWRBcnJheXMsIGlzUG93MiwgaXNXZWJHTFN1cHBvcnRlZCwgbG9nMiwgbmV4dFBvdzIsIHBhdGgsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCByZW1vdmVJdGVtcywgcmdiMmhleCwgc2F5SGVsbG8sIHNpZ24sIHNraXBIZWxsbywgc3RyaW5nMmhleCwgdHJpbUNhbnZhcywgdWlkLCB1cmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWF0aCAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9tYXRoIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUd28gUGkuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUElfMiA9IE1hdGguUEkgKiAyO1xuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9IFJBRF9UT19ERUdcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPTFkgUG9seWdvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFQ1QgUmVjdGFuZ2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0lSQyBDaXJjbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFTElQIEVsbGlwc2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSUkVDIFJvdW5kZWQgUmVjdGFuZ2xlXG4gKi9cbnZhciBTSEFQRVM7XG4oZnVuY3Rpb24gKFNIQVBFUykge1xuICAgIFNIQVBFU1tTSEFQRVNbXCJQT0xZXCJdID0gMF0gPSBcIlBPTFlcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiUkVDVFwiXSA9IDFdID0gXCJSRUNUXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIkNJUkNcIl0gPSAyXSA9IFwiQ0lSQ1wiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJFTElQXCJdID0gM10gPSBcIkVMSVBcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiUlJFQ1wiXSA9IDRdID0gXCJSUkVDXCI7XG59KShTSEFQRVMgfHwgKFNIQVBFUyA9IHt9KSk7XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIGB4YCByZXByZXNlbnRzXG4gKiB0aGUgcG9zaXRpb24gb24gdGhlIGhvcml6b250YWwgYXhpcyBhbmQgYHlgIHJlcHJlc2VudHMgdGhlIHBvc2l0aW9uIG9uIHRoZSB2ZXJ0aWNhbCBheGlzXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyB7SVBvaW50fVxuICovXG52YXIgUG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBgUG9pbnRgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIC8qKiBQb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpcyAqL1xuICAgICAgICB0aGlzLnggPSAwO1xuICAgICAgICAvKiogUG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXMgKi9cbiAgICAgICAgdGhpcy55ID0gMDtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnRcbiAgICAgKiBAcmV0dXJucyBBIGNsb25lIG9mIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIGB4YCBhbmQgYHlgIGZyb20gdGhlIGdpdmVuIHBvaW50IGludG8gdGhpcyBwb2ludFxuICAgICAqIEBwYXJhbSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm5zIFRoZSBwb2ludCBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICB0aGlzLnNldChwLngsIHAueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcG9pbnQncyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50IChgcGApLlxuICAgICAqIEBwYXJhbSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgdG8uIENhbiBiZSBhbnkgb2YgdHlwZSB0aGF0IGlzIG9yIGV4dGVuZHMgYElQb2ludERhdGFgXG4gICAgICogQHJldHVybnMgVGhlIHBvaW50IChgcGApIHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjY2VwdHMgYW5vdGhlciBwb2ludCAoYHBgKSBhbmQgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIFJldHVybnMgYHRydWVgIGlmIGJvdGggYHhgIGFuZCBgeWAgYXJlIGVxdWFsXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAocC54ID09PSB0aGlzLngpICYmIChwLnkgPT09IHRoaXMueSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyBgeGAgYW5kIGB5YCBwb3NpdGlvbi5cbiAgICAgKiBJZiBgeWAgaXMgb21pdHRlZCwgYm90aCBgeGAgYW5kIGB5YCB3aWxsIGJlIHNldCB0byBgeGAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSBgeGAgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgYHlgIGF4aXNcbiAgICAgKiBAcmV0dXJucyBUaGUgcG9pbnQgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0geDsgfVxuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFBvaW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL21hdGg6UG9pbnQgeD1cIiArIHRoaXMueCArIFwiIHk9XCIgKyB0aGlzLnkgKyBcIl1cIjtcbiAgICB9O1xuICAgIHJldHVybiBQb2ludDtcbn0oKSk7XG5cbnZhciB0ZW1wUG9pbnRzID0gW25ldyBQb2ludCgpLCBuZXcgUG9pbnQoKSwgbmV3IFBvaW50KCksIG5ldyBQb2ludCgpXTtcbi8qKlxuICogU2l6ZSBvYmplY3QsIGNvbnRhaW5zIHdpZHRoIGFuZCBoZWlnaHRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJU2l6ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggY29tcG9uZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IGNvbXBvbmVudFxuICovXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIGhlaWdodCAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG4gICAgICAgIHRoaXMueSA9IE51bWJlcih5KTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE51bWJlcih3aWR0aCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SRUNUO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJsZWZ0XCIsIHtcbiAgICAgICAgLyoqIFJldHVybnMgdGhlIGxlZnQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJyaWdodFwiLCB7XG4gICAgICAgIC8qKiBSZXR1cm5zIHRoZSByaWdodCBlZGdlIG9mIHRoZSByZWN0YW5nbGUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJ0b3BcIiwge1xuICAgICAgICAvKiogUmV0dXJucyB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwiYm90dG9tXCIsIHtcbiAgICAgICAgLyoqIFJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZSwgXCJFTVBUWVwiLCB7XG4gICAgICAgIC8qKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJlY3RhbmdsZVxuICAgICAqIEByZXR1cm5zIGEgY29weSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAgICAgKiBAcGFyYW0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybnMgUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICAgICAqIEBwYXJhbSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgdG8uXG4gICAgICogQHJldHVybnMgUmV0dXJucyBnaXZlbiBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJlY3RhbmdsZS54ID0gdGhpcy54O1xuICAgICAgICByZWN0YW5nbGUueSA9IHRoaXMueTtcbiAgICAgICAgcmVjdGFuZ2xlLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgcmVjdGFuZ2xlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gcmVjdGFuZ2xlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGBvdGhlcmAgUmVjdGFuZ2xlIHRyYW5zZm9ybWVkIGJ5IGB0cmFuc2Zvcm1gIGludGVyc2VjdHMgd2l0aCBgdGhpc2AgUmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKiBSZXR1cm5zIHRydWUgb25seSBpZiB0aGUgYXJlYSBvZiB0aGUgaW50ZXJzZWN0aW9uIGlzID4wLCB0aGlzIG1lYW5zIHRoYXQgUmVjdGFuZ2xlc1xuICAgICAqIHNoYXJpbmcgYSBzaWRlIGFyZSBub3Qgb3ZlcmxhcHBpbmcuIEFub3RoZXIgc2lkZSBlZmZlY3QgaXMgdGhhdCBhbiBhcmVhbGVzcyByZWN0YW5nbGVcbiAgICAgKiAod2lkdGggb3IgaGVpZ2h0IGVxdWFsIHRvIHplcm8pIGNhbid0IGludGVyc2VjdCBhbnkgb3RoZXIgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBvdGhlciAtIFRoZSBSZWN0YW5nbGUgdG8gaW50ZXJzZWN0IHdpdGggYHRoaXNgLlxuICAgICAqIEBwYXJhbSB7TWF0cml4fSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4IG9mIGBvdGhlcmAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEEgdmFsdWUgb2YgYHRydWVgIGlmIHRoZSB0cmFuc2Zvcm1lZCBgb3RoZXJgIFJlY3RhbmdsZSBpbnRlcnNlY3RzIHdpdGggYHRoaXNgOyBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmludGVyc2VjdHMgPSBmdW5jdGlvbiAob3RoZXIsIHRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdmFyIHgwXzEgPSB0aGlzLnggPCBvdGhlci54ID8gb3RoZXIueCA6IHRoaXMueDtcbiAgICAgICAgICAgIHZhciB4MV8xID0gdGhpcy5yaWdodCA+IG90aGVyLnJpZ2h0ID8gb3RoZXIucmlnaHQgOiB0aGlzLnJpZ2h0O1xuICAgICAgICAgICAgaWYgKHgxXzEgPD0geDBfMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB5MF8xID0gdGhpcy55IDwgb3RoZXIueSA/IG90aGVyLnkgOiB0aGlzLnk7XG4gICAgICAgICAgICB2YXIgeTFfMSA9IHRoaXMuYm90dG9tID4gb3RoZXIuYm90dG9tID8gb3RoZXIuYm90dG9tIDogdGhpcy5ib3R0b207XG4gICAgICAgICAgICByZXR1cm4geTFfMSA+IHkwXzE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHgwID0gdGhpcy5sZWZ0O1xuICAgICAgICB2YXIgeDEgPSB0aGlzLnJpZ2h0O1xuICAgICAgICB2YXIgeTAgPSB0aGlzLnRvcDtcbiAgICAgICAgdmFyIHkxID0gdGhpcy5ib3R0b207XG4gICAgICAgIGlmICh4MSA8PSB4MCB8fCB5MSA8PSB5MCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsdCA9IHRlbXBQb2ludHNbMF0uc2V0KG90aGVyLmxlZnQsIG90aGVyLnRvcCk7XG4gICAgICAgIHZhciBsYiA9IHRlbXBQb2ludHNbMV0uc2V0KG90aGVyLmxlZnQsIG90aGVyLmJvdHRvbSk7XG4gICAgICAgIHZhciBydCA9IHRlbXBQb2ludHNbMl0uc2V0KG90aGVyLnJpZ2h0LCBvdGhlci50b3ApO1xuICAgICAgICB2YXIgcmIgPSB0ZW1wUG9pbnRzWzNdLnNldChvdGhlci5yaWdodCwgb3RoZXIuYm90dG9tKTtcbiAgICAgICAgaWYgKHJ0LnggPD0gbHQueCB8fCBsYi55IDw9IGx0LnkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcyA9IE1hdGguc2lnbigodHJhbnNmb3JtLmEgKiB0cmFuc2Zvcm0uZCkgLSAodHJhbnNmb3JtLmIgKiB0cmFuc2Zvcm0uYykpO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRyYW5zZm9ybS5hcHBseShsdCwgbHQpO1xuICAgICAgICB0cmFuc2Zvcm0uYXBwbHkobGIsIGxiKTtcbiAgICAgICAgdHJhbnNmb3JtLmFwcGx5KHJ0LCBydCk7XG4gICAgICAgIHRyYW5zZm9ybS5hcHBseShyYiwgcmIpO1xuICAgICAgICBpZiAoTWF0aC5tYXgobHQueCwgbGIueCwgcnQueCwgcmIueCkgPD0geDBcbiAgICAgICAgICAgIHx8IE1hdGgubWluKGx0LngsIGxiLngsIHJ0LngsIHJiLngpID49IHgxXG4gICAgICAgICAgICB8fCBNYXRoLm1heChsdC55LCBsYi55LCBydC55LCByYi55KSA8PSB5MFxuICAgICAgICAgICAgfHwgTWF0aC5taW4obHQueSwgbGIueSwgcnQueSwgcmIueSkgPj0geTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnggPSBzICogKGxiLnkgLSBsdC55KTtcbiAgICAgICAgdmFyIG55ID0gcyAqIChsdC54IC0gbGIueCk7XG4gICAgICAgIHZhciBuMDAgPSAobnggKiB4MCkgKyAobnkgKiB5MCk7XG4gICAgICAgIHZhciBuMTAgPSAobnggKiB4MSkgKyAobnkgKiB5MCk7XG4gICAgICAgIHZhciBuMDEgPSAobnggKiB4MCkgKyAobnkgKiB5MSk7XG4gICAgICAgIHZhciBuMTEgPSAobnggKiB4MSkgKyAobnkgKiB5MSk7XG4gICAgICAgIGlmIChNYXRoLm1heChuMDAsIG4xMCwgbjAxLCBuMTEpIDw9IChueCAqIGx0LngpICsgKG55ICogbHQueSlcbiAgICAgICAgICAgIHx8IE1hdGgubWluKG4wMCwgbjEwLCBuMDEsIG4xMSkgPj0gKG54ICogcmIueCkgKyAobnkgKiByYi55KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBteCA9IHMgKiAobHQueSAtIHJ0LnkpO1xuICAgICAgICB2YXIgbXkgPSBzICogKHJ0LnggLSBsdC54KTtcbiAgICAgICAgdmFyIG0wMCA9IChteCAqIHgwKSArIChteSAqIHkwKTtcbiAgICAgICAgdmFyIG0xMCA9IChteCAqIHgxKSArIChteSAqIHkwKTtcbiAgICAgICAgdmFyIG0wMSA9IChteCAqIHgwKSArIChteSAqIHkxKTtcbiAgICAgICAgdmFyIG0xMSA9IChteCAqIHgxKSArIChteSAqIHkxKTtcbiAgICAgICAgaWYgKE1hdGgubWF4KG0wMCwgbTEwLCBtMDEsIG0xMSkgPD0gKG14ICogbHQueCkgKyAobXkgKiBsdC55KVxuICAgICAgICAgICAgfHwgTWF0aC5taW4obTAwLCBtMTAsIG0wMSwgbTExKSA+PSAobXggKiByYi54KSArIChteSAqIHJiLnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWRzIHRoZSByZWN0YW5nbGUgbWFraW5nIGl0IGdyb3cgaW4gYWxsIGRpcmVjdGlvbnMuXG4gICAgICogSWYgcGFkZGluZ1kgaXMgb21pdHRlZCwgYm90aCBwYWRkaW5nWCBhbmQgcGFkZGluZ1kgd2lsbCBiZSBzZXQgdG8gcGFkZGluZ1guXG4gICAgICogQHBhcmFtIHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHBhZGRpbmdZIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEByZXR1cm5zIFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKiBAcGFyYW0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBmaXQuXG4gICAgICogQHJldHVybnMgUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWF4KHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1pbih0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWF4KHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1pbih0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh4MiAtIHgxLCAwKTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoeTIgLSB5MSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgcmVjdGFuZ2xlIHRoYXQgd2F5IGl0cyBjb3JuZXJzIGxpZSBvbiBncmlkXG4gICAgICogQHBhcmFtIHJlc29sdXRpb24gLSByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIGVwcyAtIHByZWNpc2lvblxuICAgICAqIEByZXR1cm5zIFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY2VpbCA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBlcHMpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICBpZiAoZXBzID09PSB2b2lkIDApIHsgZXBzID0gMC4wMDE7IH1cbiAgICAgICAgdmFyIHgyID0gTWF0aC5jZWlsKCh0aGlzLnggKyB0aGlzLndpZHRoIC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5jZWlsKCh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMueCA9IE1hdGguZmxvb3IoKHRoaXMueCArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMueSA9IE1hdGguZmxvb3IoKHRoaXMueSArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHRoaXMueDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyB0aGlzIHJlY3RhbmdsZSB0byBpbmNsdWRlIHRoZSBwYXNzZWQgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICogQHJldHVybnMgUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5lbmxhcmdlID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgICAgIHRoaXMueCA9IHgxO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB4MTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB5MTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvbWF0aDpSZWN0YW5nbGUgeD1cIiArIHRoaXMueCArIFwiIHk9XCIgKyB0aGlzLnkgKyBcIiB3aWR0aD1cIiArIHRoaXMud2lkdGggKyBcIiBoZWlnaHQ9XCIgKyB0aGlzLmhlaWdodCArIFwiXVwiO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY3RhbmdsZTtcbn0oKSk7XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDaXJjbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgICAqIEBwYXJhbSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDaXJjbGUoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAocmFkaXVzID09PSB2b2lkIDApIHsgcmFkaXVzID0gMDsgfVxuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkNJUkM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgICAqIEByZXR1cm5zIEEgY29weSBvZiB0aGUgQ2lyY2xlXG4gICAgICovXG4gICAgQ2lyY2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgY2lyY2xlXG4gICAgICogQHBhcmFtIHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICB2YXIgZHggPSAodGhpcy54IC0geCk7XG4gICAgICAgIHZhciBkeSA9ICh0aGlzLnkgLSB5KTtcbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuICAgICAgICByZXR1cm4gKGR4ICsgZHkgPD0gcjIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyBUaGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy5yYWRpdXMsIHRoaXMueSAtIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyAqIDIsIHRoaXMucmFkaXVzICogMik7XG4gICAgfTtcbiAgICBDaXJjbGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvbWF0aDpDaXJjbGUgeD1cIiArIHRoaXMueCArIFwiIHk9XCIgKyB0aGlzLnkgKyBcIiByYWRpdXM9XCIgKyB0aGlzLnJhZGl1cyArIFwiXVwiO1xuICAgIH07XG4gICAgcmV0dXJuIENpcmNsZTtcbn0oKSk7XG5cbi8qKlxuICogVGhlIEVsbGlwc2Ugb2JqZWN0IGlzIHVzZWQgdG8gaGVscCBkcmF3IGdyYXBoaWNzIGFuZCBjYW4gYWxzbyBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRWxsaXBzZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0gaGFsZldpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIGhhbGZIZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gRWxsaXBzZSh4LCB5LCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChoYWxmV2lkdGggPT09IHZvaWQgMCkgeyBoYWxmV2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoYWxmSGVpZ2h0ID09PSB2b2lkIDApIHsgaGFsZkhlaWdodCA9IDA7IH1cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IGhhbGZXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoYWxmSGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuRUxJUDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgRWxsaXBzZSBpbnN0YW5jZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkVsbGlwc2V9IEEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgICAqL1xuICAgIEVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIHgveSBjb29yZHMgYXJlIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICAgKi9cbiAgICBFbGxpcHNlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vcm1hbGl6ZSB0aGUgY29vcmRzIHRvIGFuIGVsbGlwc2Ugd2l0aCBjZW50ZXIgMCwwXG4gICAgICAgIHZhciBub3JteCA9ICgoeCAtIHRoaXMueCkgLyB0aGlzLndpZHRoKTtcbiAgICAgICAgdmFyIG5vcm15ID0gKCh5IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgbm9ybXggKj0gbm9ybXg7XG4gICAgICAgIG5vcm15ICo9IG5vcm15O1xuICAgICAgICByZXR1cm4gKG5vcm14ICsgbm9ybXkgPD0gMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgZWxsaXBzZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyBUaGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBFbGxpcHNlLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMud2lkdGgsIHRoaXMueSAtIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICBFbGxpcHNlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL21hdGg6RWxsaXBzZSB4PVwiICsgdGhpcy54ICsgXCIgeT1cIiArIHRoaXMueSArIFwiIHdpZHRoPVwiICsgdGhpcy53aWR0aCArIFwiIGhlaWdodD1cIiArIHRoaXMuaGVpZ2h0ICsgXCJdXCI7XG4gICAgfTtcbiAgICByZXR1cm4gRWxsaXBzZTtcbn0oKSk7XG5cbi8qKlxuICogQSBjbGFzcyB0byBkZWZpbmUgYSBzaGFwZSB2aWEgdXNlciBkZWZpbmVkIGNvb3JkaW5hdGVzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvbHlnb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGFbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBvaW50c1tfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsYXQgPSBBcnJheS5pc0FycmF5KHBvaW50c1swXSkgPyBwb2ludHNbMF0gOiBwb2ludHM7XG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmICh0eXBlb2YgZmxhdFswXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmbGF0Lmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwLnB1c2goZmxhdFtpXS54LCBmbGF0W2ldLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxhdCA9IHA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2ludHMgPSBmbGF0O1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUE9MWTtcbiAgICAgICAgdGhpcy5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb24uXG4gICAgICogQHJldHVybnMgLSBBIGNvcHkgb2YgdGhlIHBvbHlnb24uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cy5zbGljZSgpO1xuICAgICAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHBvbHlnb24uY2xvc2VTdHJva2UgPSB0aGlzLmNsb3NlU3Ryb2tlO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvbi5cbiAgICAgKiBAcGFyYW0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0LlxuICAgICAqIEByZXR1cm5zIC0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBwb2x5Z29uLlxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuICAgICAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgICAgICB2YXIgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICAgICAgICB2YXIgeWkgPSB0aGlzLnBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICB2YXIgeGogPSB0aGlzLnBvaW50c1tqICogMl07XG4gICAgICAgICAgICB2YXIgeWogPSB0aGlzLnBvaW50c1soaiAqIDIpICsgMV07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9PSAoeWogPiB5KSkgJiYgKHggPCAoKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSkgKyB4aSk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH07XG4gICAgUG9seWdvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOlBvbHlnb25cIlxuICAgICAgICAgICAgKyAoXCJjbG9zZVN0cm9rZT1cIiArIHRoaXMuY2xvc2VTdHJva2UpXG4gICAgICAgICAgICArIChcInBvaW50cz1cIiArIHRoaXMucG9pbnRzLnJlZHVjZShmdW5jdGlvbiAocG9pbnRzRGVzYywgY3VycmVudFBvaW50KSB7IHJldHVybiBwb2ludHNEZXNjICsgXCIsIFwiICsgY3VycmVudFBvaW50OyB9LCAnJykgKyBcIl1cIik7XG4gICAgfTtcbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHdpZHRoIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSByYWRpdXMgLSBDb250cm9scyB0aGUgcmFkaXVzIG9mIHRoZSByb3VuZGVkIGNvcm5lcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAyMDsgfVxuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJSRUM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIC0gQSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3QuXG4gICAgICogQHJldHVybnMgLSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlLlxuICAgICAqL1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5yYWRpdXMsIE1hdGgubWluKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSAvIDIpKTtcbiAgICAgICAgICAgICAgICBpZiAoKHkgPj0gdGhpcy55ICsgcmFkaXVzICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSByYWRpdXMpXG4gICAgICAgICAgICAgICAgICAgIHx8ICh4ID49IHRoaXMueCArIHJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSByYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZHggPSB4IC0gKHRoaXMueCArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0geSAtICh0aGlzLnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMyID0gcmFkaXVzICogcmFkaXVzO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMud2lkdGggLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOlJvdW5kZWRSZWN0YW5nbGUgeD1cIiArIHRoaXMueCArIFwiIHk9XCIgKyB0aGlzLnlcbiAgICAgICAgICAgICsgKFwid2lkdGg9XCIgKyB0aGlzLndpZHRoICsgXCIgaGVpZ2h0PVwiICsgdGhpcy5oZWlnaHQgKyBcIiByYWRpdXM9XCIgKyB0aGlzLnJhZGl1cyArIFwiXVwiKTtcbiAgICB9O1xuICAgIHJldHVybiBSb3VuZGVkUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgT2JzZXJ2YWJsZVBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIGB4YCByZXByZXNlbnRzXG4gKiB0aGUgcG9zaXRpb24gb24gdGhlIGhvcml6b250YWwgYXhpcyBhbmQgYHlgIHJlcHJlc2VudHMgdGhlIHBvc2l0aW9uIG9uIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEFuIGBPYnNlcnZhYmxlUG9pbnRgIGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYnNlcnZhYmxlUG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBgT2JzZXJ2YWJsZVBvaW50YFxuICAgICAqIEBwYXJhbSBjYiAtIGNhbGxiYWNrIGZ1bmN0aW9uIHRyaWdnZXJlZCB3aGVuIGB4YCBhbmQvb3IgYHlgIGFyZSBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHNjb3BlIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICB0aGlzLmNiID0gY2I7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnQuXG4gICAgICogVGhlIGNhbGxiYWNrIGFuZCBzY29wZSBwYXJhbXMgY2FuIGJlIG92ZXJyaWRkZW4gb3RoZXJ3aXNlIHRoZXkgd2lsbCBkZWZhdWx0XG4gICAgICogdG8gdGhlIGNsb25lIG9iamVjdCdzIHZhbHVlcy5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdHJpZ2dlcmVkIHdoZW4gYHhgIGFuZC9vciBgeWAgYXJlIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBUaGUgb3duZXIgb2YgdGhlIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMgYSBjb3B5IG9mIHRoaXMgb2JzZXJ2YWJsZSBwb2ludFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoY2IsIHNjb3BlKSB7XG4gICAgICAgIGlmIChjYiA9PT0gdm9pZCAwKSB7IGNiID0gdGhpcy5jYjsgfVxuICAgICAgICBpZiAoc2NvcGUgPT09IHZvaWQgMCkgeyBzY29wZSA9IHRoaXMuc2NvcGU7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlLCB0aGlzLl94LCB0aGlzLl95KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IGB4YCBhbmQgYHlgIHBvc2l0aW9uLlxuICAgICAqIElmIGB5YCBpcyBvbWl0dGVkLCBib3RoIGB4YCBhbmQgYHlgIHdpbGwgYmUgc2V0IHRvIGB4YC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICogQHJldHVybnMgVGhlIG9ic2VydmFibGUgcG9pbnQgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IHg7IH1cbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHggfHwgdGhpcy5feSAhPT0geSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50IChgcGApXG4gICAgICogQHBhcmFtIHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tLiBDYW4gYmUgYW55IG9mIHR5cGUgdGhhdCBpcyBvciBleHRlbmRzIGBJUG9pbnREYXRhYFxuICAgICAqIEByZXR1cm5zIFRoZSBvYnNlcnZhYmxlIHBvaW50IGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhpcyBwb2ludCdzIHggYW5kIHkgaW50byB0aGF0IG9mIHRoZSBnaXZlbiBwb2ludCAoYHBgKVxuICAgICAqIEBwYXJhbSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgdG8uIENhbiBiZSBhbnkgb2YgdHlwZSB0aGF0IGlzIG9yIGV4dGVuZHMgYElQb2ludERhdGFgXG4gICAgICogQHJldHVybnMgVGhlIHBvaW50IChgcGApIHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHAuc2V0KHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjY2VwdHMgYW5vdGhlciBwb2ludCAoYHBgKSBhbmQgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIFJldHVybnMgYHRydWVgIGlmIGJvdGggYHhgIGFuZCBgeWAgYXJlIGVxdWFsXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy5feCkgJiYgKHAueSA9PT0gdGhpcy5feSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvbWF0aDpPYnNlcnZhYmxlUG9pbnQgeD1cIiArIDAgKyBcIiB5PVwiICsgMCArIFwiIHNjb3BlPVwiICsgdGhpcy5zY29wZSArIFwiXVwiO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIC8qKiBQb3NpdGlvbiBvZiB0aGUgb2JzZXJ2YWJsZSBwb2ludCBvbiB0aGUgeCBheGlzLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAvKiogUG9zaXRpb24gb2YgdGhlIG9ic2VydmFibGUgcG9pbnQgb24gdGhlIHkgYXhpcy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZVBvaW50O1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUGl4aUpTIE1hdHJpeCBhcyBhIGNsYXNzIG1ha2VzIGl0IGEgbG90IGZhc3Rlci5cbiAqXG4gKiBIZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQ6XG4gKiBgYGBqc1xuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICogYGBgXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWF0cml4ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBhIC0geCBzY2FsZVxuICAgICAqIEBwYXJhbSBiIC0geSBza2V3XG4gICAgICogQHBhcmFtIGMgLSB4IHNrZXdcbiAgICAgKiBAcGFyYW0gZCAtIHkgc2NhbGVcbiAgICAgKiBAcGFyYW0gdHggLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHR5IC0geSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hdHJpeChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgaWYgKGEgPT09IHZvaWQgMCkgeyBhID0gMTsgfVxuICAgICAgICBpZiAoYiA9PT0gdm9pZCAwKSB7IGIgPSAwOyB9XG4gICAgICAgIGlmIChjID09PSB2b2lkIDApIHsgYyA9IDA7IH1cbiAgICAgICAgaWYgKGQgPT09IHZvaWQgMCkgeyBkID0gMTsgfVxuICAgICAgICBpZiAodHggPT09IHZvaWQgMCkgeyB0eCA9IDA7IH1cbiAgICAgICAgaWYgKHR5ID09PSB2b2lkIDApIHsgdHkgPSAwOyB9XG4gICAgICAgIHRoaXMuYXJyYXkgPSBudWxsO1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBUaGUgYXJyYXkgdGhhdCB0aGUgbWF0cml4IHdpbGwgYmUgcG9wdWxhdGVkIGZyb20uXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5mcm9tQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdGhpcy5hID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXMuYiA9IGFycmF5WzFdO1xuICAgICAgICB0aGlzLmMgPSBhcnJheVszXTtcbiAgICAgICAgdGhpcy5kID0gYXJyYXlbNF07XG4gICAgICAgIHRoaXMudHggPSBhcnJheVsyXTtcbiAgICAgICAgdGhpcy50eSA9IGFycmF5WzVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIGEgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIGIgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIGMgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIGQgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHR4IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB0eSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcmV0dXJucyBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGZyb20gdGhlIGN1cnJlbnQgTWF0cml4IG9iamVjdC5cbiAgICAgKiBAcGFyYW0gdHJhbnNwb3NlIC0gV2hldGhlciB3ZSBuZWVkIHRvIHRyYW5zcG9zZSB0aGUgbWF0cml4IG9yIG5vdFxuICAgICAqIEBwYXJhbSBbb3V0PW5ldyBGbG9hdDMyQXJyYXkoOSldIC0gSWYgcHJvdmlkZWQgdGhlIGFycmF5IHdpbGwgYmUgYXNzaWduZWQgdG8gb3V0XG4gICAgICogQHJldHVybnMgVGhlIG5ld2x5IGNyZWF0ZWQgYXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICh0cmFuc3Bvc2UsIG91dCkge1xuICAgICAgICBpZiAoIXRoaXMuYXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuICAgICAgICBpZiAodHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzZdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzddID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVsyXSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbNl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbN10gPSAwO1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqIEBwYXJhbSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gKG5ld1BvcyB8fCBuZXcgUG9pbnQoKSk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuYSAqIHgpICsgKHRoaXMuYyAqIHkpICsgdGhpcy50eDtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5iICogeCkgKyAodGhpcy5kICogeSkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGludmVyc2Ugb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcbiAgICAgKiBAcGFyYW0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybnMge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHlJbnZlcnNlID0gZnVuY3Rpb24gKHBvcywgbmV3UG9zKSB7XG4gICAgICAgIG5ld1BvcyA9IChuZXdQb3MgfHwgbmV3IFBvaW50KCkpO1xuICAgICAgICB2YXIgaWQgPSAxIC8gKCh0aGlzLmEgKiB0aGlzLmQpICsgKHRoaXMuYyAqIC10aGlzLmIpKTtcbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcbiAgICAgICAgbmV3UG9zLnggPSAodGhpcy5kICogaWQgKiB4KSArICgtdGhpcy5jICogaWQgKiB5KSArICgoKHRoaXMudHkgKiB0aGlzLmMpIC0gKHRoaXMudHggKiB0aGlzLmQpKSAqIGlkKTtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5hICogaWQgKiB5KSArICgtdGhpcy5iICogaWQgKiB4KSArICgoKC10aGlzLnR5ICogdGhpcy5hKSArICh0aGlzLnR4ICogdGhpcy5iKSkgKiBpZCk7XG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBtYXRyaXggb24gdGhlIHggYW5kIHkuXG4gICAgICogQHBhcmFtIHggLSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeCBieVxuICAgICAqIEBwYXJhbSB5IC0gSG93IG11Y2ggdG8gdHJhbnNsYXRlIHkgYnlcbiAgICAgKiBAcmV0dXJucyBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy50eCArPSB4O1xuICAgICAgICB0aGlzLnR5ICs9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICogQHBhcmFtIHggLSBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICAgICAqIEBwYXJhbSB5IC0gVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybnMgVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5hICo9IHg7XG4gICAgICAgIHRoaXMuZCAqPSB5O1xuICAgICAgICB0aGlzLmMgKj0geDtcbiAgICAgICAgdGhpcy5iICo9IHk7XG4gICAgICAgIHRoaXMudHggKj0geDtcbiAgICAgICAgdGhpcy50eSAqPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSByb3RhdGlvbiB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICAgICAqIEBwYXJhbSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEByZXR1cm5zIFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICB0aGlzLmEgPSAoYTEgKiBjb3MpIC0gKHRoaXMuYiAqIHNpbik7XG4gICAgICAgIHRoaXMuYiA9IChhMSAqIHNpbikgKyAodGhpcy5iICogY29zKTtcbiAgICAgICAgdGhpcy5jID0gKGMxICogY29zKSAtICh0aGlzLmQgKiBzaW4pO1xuICAgICAgICB0aGlzLmQgPSAoYzEgKiBzaW4pICsgKHRoaXMuZCAqIGNvcyk7XG4gICAgICAgIHRoaXMudHggPSAodHgxICogY29zKSAtICh0aGlzLnR5ICogc2luKTtcbiAgICAgICAgdGhpcy50eSA9ICh0eDEgKiBzaW4pICsgKHRoaXMudHkgKiBjb3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybnMgVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XG4gICAgICAgIHRoaXMuYiA9IChtYXRyaXguYSAqIGIxKSArIChtYXRyaXguYiAqIGQxKTtcbiAgICAgICAgdGhpcy5jID0gKG1hdHJpeC5jICogYTEpICsgKG1hdHJpeC5kICogYzEpO1xuICAgICAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XG4gICAgICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJucyBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHgsIHksIHBpdm90WCwgcGl2b3RZLCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSkge1xuICAgICAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMudHggPSB4IC0gKChwaXZvdFggKiB0aGlzLmEpICsgKHBpdm90WSAqIHRoaXMuYykpO1xuICAgICAgICB0aGlzLnR5ID0geSAtICgocGl2b3RYICogdGhpcy5iKSArIChwaXZvdFkgKiB0aGlzLmQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAgICAgKiBAcmV0dXJucyBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICAgICAgdGhpcy5hID0gKGExICogbWF0cml4LmEpICsgKHRoaXMuYiAqIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIHRoaXMuYiA9IChhMSAqIG1hdHJpeC5iKSArICh0aGlzLmIgKiBtYXRyaXguZCk7XG4gICAgICAgICAgICB0aGlzLmMgPSAoYzEgKiBtYXRyaXguYSkgKyAodGhpcy5kICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5kID0gKGMxICogbWF0cml4LmIpICsgKHRoaXMuZCAqIG1hdHJpeC5kKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIG1hdHJpeC5hKSArICh0aGlzLnR5ICogbWF0cml4LmMpICsgbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgdGhlIG1hdHJpeCAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGFuZCByb3RhdGlvbikgYW5kIHNldHMgdGhlIHByb3BlcnRpZXMgb24gdG8gYSB0cmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybnMgVGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBuZXdseSBhcHBsaWVkIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmRlY29tcG9zZSA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgLy8gc29ydCBvdXQgcm90YXRpb24gLyBza2V3Li5cbiAgICAgICAgdmFyIGEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiID0gdGhpcy5iO1xuICAgICAgICB2YXIgYyA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQgPSB0aGlzLmQ7XG4gICAgICAgIHZhciBwaXZvdCA9IHRyYW5zZm9ybS5waXZvdDtcbiAgICAgICAgdmFyIHNrZXdYID0gLU1hdGguYXRhbjIoLWMsIGQpO1xuICAgICAgICB2YXIgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhza2V3WCArIHNrZXdZKTtcbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5leHQgc2V0IHNjYWxlXG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS54ID0gTWF0aC5zcXJ0KChhICogYSkgKyAoYiAqIGIpKTtcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnkgPSBNYXRoLnNxcnQoKGMgKiBjKSArIChkICogZCkpO1xuICAgICAgICAvLyBuZXh0IHNldCBwb3NpdGlvblxuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHRoaXMudHggKyAoKHBpdm90LnggKiBhKSArIChwaXZvdC55ICogYykpO1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHkgKyAoKHBpdm90LnggKiBiKSArIChwaXZvdC55ICogZCkpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHZhciBuID0gKGExICogZDEpIC0gKGIxICogYzEpO1xuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9ICgoYzEgKiB0aGlzLnR5KSAtIChkMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICogQHJldHVybnMgVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIEByZXR1cm5zIEEgY29weSBvZiB0aGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBnaXZlbiBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gdGhpcyBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm5zIFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLk1hdHJpeH0gdGhpc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYjtcbiAgICAgICAgdGhpcy5jID0gbWF0cml4LmM7XG4gICAgICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOk1hdHJpeCBhPVwiICsgdGhpcy5hICsgXCIgYj1cIiArIHRoaXMuYiArIFwiIGM9XCIgKyB0aGlzLmMgKyBcIiBkPVwiICsgdGhpcy5kICsgXCIgdHg9XCIgKyB0aGlzLnR4ICsgXCIgdHk9XCIgKyB0aGlzLnR5ICsgXCJdXCI7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LCBcIklERU5USVRZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIG1hdHJpeFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgsIFwiVEVNUF9NQVRSSVhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBNYXRyaXg7XG59KCkpO1xuXG4vLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cFxuLypcbiAqIFRyYW5zZm9ybSBtYXRyaXggZm9yIG9wZXJhdGlvbiBuIGlzOlxuICogfCB1eCB8IHZ4IHxcbiAqIHwgdXkgfCB2eSB8XG4gKi9cbnZhciB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTtcbnZhciB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcbi8qKlxuICogW0NheWxleSBUYWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICogZm9yIHRoZSBjb21wb3NpdGlvbiBvZiBlYWNoIHJvdGF0aW9uIGluIHRoZSBkaWhlZGVyYWwgZ3JvdXAgRDguXG4gKiBAdHlwZSB7bnVtYmVyW11bXX1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciByb3RhdGlvbkNheWxleSA9IFtdO1xuLyoqXG4gKiBNYXRyaWNlcyBmb3IgZWFjaCBgR0Q4U3ltbWV0cnlgIHJvdGF0aW9uLlxuICogQHR5cGUge1BJWEkuTWF0cml4W119XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25NYXRyaWNlcyA9IFtdO1xuLypcbiAqIEFsaWFzIGZvciB7QGNvZGUgTWF0aC5zaWdufS5cbiAqL1xudmFyIHNpZ251bSA9IE1hdGguc2lnbjtcbi8qXG4gKiBJbml0aWFsaXplcyBgcm90YXRpb25DYXlsZXlgIGFuZCBgcm90YXRpb25NYXRyaWNlc2AuIEl0IGlzIGNhbGxlZFxuICogb25seSBvbmNlIGJlbG93LlxuICovXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgcm93ID0gW107XG4gICAgICAgIHJvdGF0aW9uQ2F5bGV5LnB1c2gocm93KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgICAvKiBNdWx0aXBsaWVzIHJvdGF0aW9uIG1hdHJpY2VzIGkgYW5kIGouICovXG4gICAgICAgICAgICB2YXIgX3V4ID0gc2lnbnVtKCh1eFtpXSAqIHV4W2pdKSArICh2eFtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3V5ID0gc2lnbnVtKCh1eVtpXSAqIHV4W2pdKSArICh2eVtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3Z4ID0gc2lnbnVtKCh1eFtpXSAqIHZ4W2pdKSArICh2eFtpXSAqIHZ5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3Z5ID0gc2lnbnVtKCh1eVtpXSAqIHZ4W2pdKSArICh2eVtpXSAqIHZ5W2pdKSk7XG4gICAgICAgICAgICAvKiBGaW5kcyByb3RhdGlvbiBtYXRyaXggbWF0Y2hpbmcgdGhlIHByb2R1Y3QgYW5kIHB1c2hlcyBpdC4gKi9cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXlcbiAgICAgICAgICAgICAgICAgICAgJiYgdnhba10gPT09IF92eCAmJiB2eVtrXSA9PT0gX3Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciBtYXQgPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdC5zZXQodXhbaV0sIHV5W2ldLCB2eFtpXSwgdnlbaV0sIDAsIDApO1xuICAgICAgICByb3RhdGlvbk1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5pbml0KCk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBHRDhTeW1tZXRyeVxuICogQHNlZSBQSVhJLmdyb3VwRDhcbiAqL1xuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBkaWhlZHJhbCBncm91cCBEOCwgd2hpY2ggaXMgc2ltaWxhciB0b1xuICogW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfTtcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscywgYW5kIGl0IGlzIHVzZWQgZm9yIHRleHR1cmVcbiAqIHJvdGF0aW9ucy5cbiAqXG4gKiBUaGUgZGlyZWN0aW9ucyB0aGUgVS0gYW5kIFYtIGF4ZXMgYWZ0ZXIgcm90YXRpb25cbiAqIG9mIGFuIGFuZ2xlIG9mIGBhOiBHRDhDb25zdGFudGAgYXJlIHRoZSB2ZWN0b3JzIGAodVgoYSksIHVZKGEpKWBcbiAqIGFuZCBgKHZYKGEpLCB2WShhKSlgLiBUaGVzZSBhcmVuJ3QgbmVjZXNzYXJpbHkgdW5pdCB2ZWN0b3JzLlxuICpcbiAqICoqT3JpZ2luOioqPGJyPlxuICogIFRoaXMgaXMgdGhlIHNtYWxsIHBhcnQgb2YgZ2FtZW9mYm9tYnMuY29tIHBvcnRhbCBzeXN0ZW0uIEl0IHdvcmtzLlxuICogQHNlZSBQSVhJLmdyb3VwRDguRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU0VcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNXXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OV1xuICogQHNlZSBQSVhJLmdyb3VwRDguTlxuICogQHNlZSBQSVhJLmdyb3VwRDguTkVcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBuYW1lc3BhY2UgUElYSS5ncm91cEQ4XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgZ3JvdXBEOCA9IHtcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDDCsCAgICAgICB8IEVhc3QgICAgICB8XG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBFOiAwLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgNDXCsOKGuyAgICAgfCBTb3V0aGVhc3QgfFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU0U6IDEsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA5MMKw4oa7ICAgICB8IFNvdXRoICAgICB8XG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTOiAyLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTM1wrDihrsgICAgfCBTb3V0aHdlc3QgfFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU1c6IDMsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxODDCsCAgICAgfCBXZXN0ICAgICAgfFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgVzogNCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC0xMzXCsC8yMjXCsOKGuyB8IE5vcnRod2VzdCAgICB8XG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOVzogNSxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC05MMKwLzI3MMKw4oa7ICB8IE5vcnRoICAgICAgICB8XG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOOiA2LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTQ1wrAvMzE1wrDihrsgIHwgTm9ydGhlYXN0ICAgIHxcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5FOiA3LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWS1heGlzLlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgdGhlIG1haW4gZGlhZ29uYWwuXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNQUlOX0RJQUdPTkFMOiAxMCxcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFgtYXhpcy5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHJldmVyc2UgZGlhZ29uYWwuXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBSRVZFUlNFX0RJQUdPTkFMOiAxNCxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybnMge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVS1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdVg6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHV4W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WDogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdnhbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybnMge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBZLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlk6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHZ5W2luZF07IH0sXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBzeW1tZXRyeSB3aG9zZSBvcHBvc2l0ZVxuICAgICAqICAgaXMgbmVlZGVkLiBPbmx5IHJvdGF0aW9ucyBoYXZlIG9wcG9zaXRlIHN5bW1ldHJpZXMgd2hpbGVcbiAgICAgKiAgIHJlZmxlY3Rpb25zIGRvbid0LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgb3Bwb3NpdGUgc3ltbWV0cnkgb2YgYHJvdGF0aW9uYFxuICAgICAqL1xuICAgIGludjogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpIC8vIHRydWUgb25seSBpZiBiZXR3ZWVuIDggJiAxNSAocmVmbGVjdGlvbnMpXG4gICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTsgLy8gb3Igcm90YXRpb24gJSAxNlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoLXJvdGF0aW9uKSAmIDc7IC8vIG9yICg4IC0gcm90YXRpb24pICUgOFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgdGhlIHR3byBEOCBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogVGFraW5nIGBeYCBhcyByZWZsZWN0aW9uOlxuICAgICAqXG4gICAgICogfCAgICAgICB8IEU9MCB8IFM9MiB8IFc9NCB8IE49NiB8IEVePTggfCBTXj0xMCB8IFdePTEyIHwgTl49MTQgfFxuICAgICAqIHwtLS0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tLXwtLS0tLS0tfC0tLS0tLS18LS0tLS0tLXxcbiAgICAgKiB8IEU9MCAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRV4gICB8IFNeICAgIHwgV14gICAgfCBOXiAgICB8XG4gICAgICogfCBTPTIgICB8IFMgICB8IFcgICB8IE4gICB8IEUgICB8IFNeICAgfCBXXiAgICB8IE5eICAgIHwgRV4gICAgfFxuICAgICAqIHwgVz00ICAgfCBXICAgfCBOICAgfCBFICAgfCBTICAgfCBXXiAgIHwgTl4gICAgfCBFXiAgICB8IFNeICAgIHxcbiAgICAgKiB8IE49NiAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTl4gICB8IEVeICAgIHwgU14gICAgfCBXXiAgICB8XG4gICAgICogfCBFXj04ICB8IEVeICB8IE5eICB8IFdeICB8IFNeICB8IEUgICAgfCBOICAgICB8IFcgICAgIHwgUyAgICAgfFxuICAgICAqIHwgU149MTAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTICAgIHwgRSAgICAgfCBOICAgICB8IFcgICAgIHxcbiAgICAgKiB8IFdePTEyIHwgV14gIHwgU14gIHwgRV4gIHwgTl4gIHwgVyAgICB8IFMgICAgIHwgRSAgICAgfCBOICAgICB8XG4gICAgICogfCBOXj0xNCB8IE5eICB8IFdeICB8IFNeICB8IEVeICB8IE4gICAgfCBXICAgICB8IFMgICAgIHwgRSAgICAgfFxuICAgICAqXG4gICAgICogW1RoaXMgaXMgYSBDYXlsZXkgdGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgcm93IGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIGNvbHVtbiBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdEOFN5bW1ldHJ5fSBDb21wb3NlZCBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uIChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgeyByZXR1cm4gKHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XSk7IH0sXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSBvZiBgYWRkYC5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5HRDhTeW1tZXRyeX0gUmVzdWx0XG4gICAgICovXG4gICAgc3ViOiBmdW5jdGlvbiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHsgcmV0dXJuIChyb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bZ3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldKTsgfSxcbiAgICAvKipcbiAgICAgKiBBZGRzIDE4MCBkZWdyZWVzIHRvIHJvdGF0aW9uLCB3aGljaCBpcyBhIGNvbW11dGF0aXZlXG4gICAgICogb3BlcmF0aW9uLlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiByb3RhdGlvbiBeIDQ7IH0sXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSByb3RhdGlvbiBhbmdsZSBpcyB2ZXJ0aWNhbCwgaS5lLiBzb3V0aFxuICAgICAqIG9yIG5vcnRoLiBJdCBkb2Vzbid0IHdvcmsgZm9yIHJlZmxlY3Rpb25zLlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIChyb3RhdGlvbikgeyByZXR1cm4gKHJvdGF0aW9uICYgMykgPT09IDI7IH0sXG4gICAgLyoqXG4gICAgICogQXBwcm94aW1hdGVzIHRoZSB2ZWN0b3IgYFYoZHgsZHkpYCBpbnRvIG9uZSBvZiB0aGVcbiAgICAgKiBlaWdodCBkaXJlY3Rpb25zIHByb3ZpZGVkIGJ5IGBncm91cEQ4YC5cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gWC1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFktY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HRDhTeW1tZXRyeX0gQXBwcm94aW1hdGlvbiBvZiB0aGUgdmVjdG9yIGludG9cbiAgICAgKiAgb25lIG9mIHRoZSBlaWdodCBzeW1tZXRyaWVzLlxuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiBmdW5jdGlvbiAoZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSkge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5XO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5ID4gMCkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JvdXBEOC5OVztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiBmYWN0b3IgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICovXG4gICAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IGZ1bmN0aW9uIChtYXRyaXgsIHJvdGF0aW9uLCB0eCwgdHkpIHtcbiAgICAgICAgaWYgKHR4ID09PSB2b2lkIDApIHsgdHggPSAwOyB9XG4gICAgICAgIGlmICh0eSA9PT0gdm9pZCAwKSB7IHR5ID0gMDsgfVxuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICB2YXIgbWF0ID0gcm90YXRpb25NYXRyaWNlc1tncm91cEQ4Lmludihyb3RhdGlvbildO1xuICAgICAgICBtYXQudHggPSB0eDtcbiAgICAgICAgbWF0LnR5ID0gdHk7XG4gICAgICAgIG1hdHJpeC5hcHBlbmQobWF0KTtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhhdCB0YWtlcyBjYXJlIGFib3V0IGl0cyB2ZXJzaW9ucy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMSwgMSk7XG4gICAgICAgIHRoaXMucGl2b3QgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuICAgICAgICB0aGlzLnNrZXcgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMudXBkYXRlU2tldywgdGhpcywgMCwgMCk7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5fY3ggPSAxO1xuICAgICAgICB0aGlzLl9zeCA9IDA7XG4gICAgICAgIHRoaXMuX2N5ID0gMDtcbiAgICAgICAgdGhpcy5fc3kgPSAxO1xuICAgICAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuICAgICAgICB0aGlzLl93b3JsZElEID0gMDtcbiAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICAgIH1cbiAgICAvKiogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLiAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIC8qKiBDYWxsZWQgd2hlbiB0aGUgc2tldyBvciB0aGUgcm90YXRpb24gY2hhbmdlcy4gKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTsgLy8gc2luLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIltAcGl4aS9tYXRoOlRyYW5zZm9ybSBcIlxuICAgICAgICAgICAgKyAoXCJwb3NpdGlvbj0oXCIgKyB0aGlzLnBvc2l0aW9uLnggKyBcIiwgXCIgKyB0aGlzLnBvc2l0aW9uLnkgKyBcIikgXCIpXG4gICAgICAgICAgICArIChcInJvdGF0aW9uPVwiICsgdGhpcy5yb3RhdGlvbiArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJzY2FsZT0oXCIgKyB0aGlzLnNjYWxlLnggKyBcIiwgXCIgKyB0aGlzLnNjYWxlLnkgKyBcIikgXCIpXG4gICAgICAgICAgICArIChcInNrZXc9KFwiICsgdGhpcy5za2V3LnggKyBcIiwgXCIgKyB0aGlzLnNrZXcueSArIFwiKSBcIilcbiAgICAgICAgICAgICsgXCJdXCI7XG4gICAgfTtcbiAgICAvKiogVXBkYXRlcyB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LiAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICgodGhpcy5waXZvdC54ICogbHQuYSkgKyAodGhpcy5waXZvdC55ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAoKHRoaXMucGl2b3QueCAqIGx0LmIpICsgKHRoaXMucGl2b3QueSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBhbmQgdGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICAgICAqIEBwYXJhbSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgcGFyZW50IHRyYW5zZm9ybVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBhcmVudFRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAoKHRoaXMucGl2b3QueCAqIGx0LmEpICsgKHRoaXMucGl2b3QueSAqIGx0LmMpKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKCh0aGlzLnBpdm90LnggKiBsdC5iKSArICh0aGlzLnBpdm90LnkgKiBsdC5kKSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICAgICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHd0LmEgPSAobHQuYSAqIHB0LmEpICsgKGx0LmIgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmIgPSAobHQuYSAqIHB0LmIpICsgKGx0LmIgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LmMgPSAobHQuYyAqIHB0LmEpICsgKGx0LmQgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmQgPSAobHQuYyAqIHB0LmIpICsgKGx0LmQgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LnR4ID0gKGx0LnR4ICogcHQuYSkgKyAobHQudHkgKiBwdC5jKSArIHB0LnR4O1xuICAgICAgICAgICAgd3QudHkgPSAobHQudHggKiBwdC5iKSArIChsdC50eSAqIHB0LmQpICsgcHQudHk7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgaWQgb2YgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm0ucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcbiAgICAgICAgLyoqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogQSBkZWZhdWx0IChpZGVudGl0eSkgdHJhbnNmb3JtLiAqL1xuICAgIFRyYW5zZm9ybS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICByZXR1cm4gVHJhbnNmb3JtO1xufSgpKTtcblxuZXhwb3J0IHsgQ2lyY2xlLCBERUdfVE9fUkFELCBFbGxpcHNlLCBNYXRyaXgsIE9ic2VydmFibGVQb2ludCwgUElfMiwgUG9pbnQsIFBvbHlnb24sIFJBRF9UT19ERUcsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgU0hBUEVTLCBUcmFuc2Zvcm0sIGdyb3VwRDggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGgubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9kaXNwbGF5IC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL2Rpc3BsYXkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgUkFEX1RPX0RFRywgREVHX1RPX1JBRCwgVHJhbnNmb3JtIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTUFTS19UWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogU2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGNvbnRhaW5lciBwcm9wZXJ0eSAnc29ydGFibGVDaGlsZHJlbicuXG4gKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICogd2hlbiB1cGRhdGVUcmFuc2Zvcm0oKSBpcyBjYWxsZWQsIG9yIG1hbnVhbGx5IGlmIHNvcnRDaGlsZHJlbigpIGlzIGNhbGxlZC5cbiAqXG4gKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAqIGFzIGEgYmFzaWMgc29sdXRpb24gdGhhdCBpcyBub3QgcGVyZm9ybWFudCBjb21wYXJlZCB0byBvdGhlciBzb2x1dGlvbnMsXG4gKiBzdWNoIGFzIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1kaXNwbGF5XG4gKlxuICogQWxzbyBiZSBhd2FyZSBvZiB0aGF0IHRoaXMgbWF5IG5vdCB3b3JrIG5pY2VseSB3aXRoIHRoZSBhZGRDaGlsZEF0KCkgZnVuY3Rpb24sXG4gKiBhcyB0aGUgekluZGV4IHNvcnRpbmcgbWF5IGNhdXNlIHRoZSBjaGlsZCB0byBhdXRvbWF0aWNhbGx5IHNvcnRlZCB0byBhbm90aGVyIHBvc2l0aW9uLlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTT1JUQUJMRV9DSElMRFJFTlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU4gPSBmYWxzZTtcblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXMuXG4gKlxuICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgYW4gQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveC5cbiAqIEl0IGlzIG5vdCBhbiBhY3R1YWwgc2hhcGUuIEl0IGlzIGEgbXV0YWJsZSB0aGluZzsgbm8gJ0VNUFRZJyBvciB0aG9zZSBraW5kIG9mIHByb2JsZW1zLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMucmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gICAgICogQHJldHVybnMgLSBUcnVlIGlmIGVtcHR5LlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcbiAgICAvKiogQ2xlYXJzIHRoZSBib3VuZHMgYW5kIHJlc2V0cy4gKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKiBAcGFyYW0gcmVjdCAtIFRlbXBvcmFyeSBvYmplY3Qgd2lsbCBiZSB1c2VkIGlmIEFBQkIgaXMgbm90IGVtcHR5XG4gICAgICogQHJldHVybnMgLSBBIHJlY3RhbmdsZSBvZiB0aGUgYm91bmRzXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5nZXRSZWN0YW5nbGUgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAodGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICByZWN0ID0gcmVjdCB8fCBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICAgICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgaW5saW5lZCB3aGVuIGl0cyBwb3NzaWJsZS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gYWRkLlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwb2ludCwgYWZ0ZXIgdHJhbnNmb3JtZWQuIFRoaXMgc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICogQHBhcmFtIG1hdHJpeFxuICAgICAqIEBwYXJhbSBwb2ludFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnRNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCBwb2ludCkge1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hLCBiID0gbWF0cml4LmIsIGMgPSBtYXRyaXguYywgZCA9IG1hdHJpeC5kLCB0eCA9IG1hdHJpeC50eCwgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciB4ID0gKGEgKiBwb2ludC54KSArIChjICogcG9pbnQueSkgKyB0eDtcbiAgICAgICAgdmFyIHkgPSAoYiAqIHBvaW50LngpICsgKGQgKiBwb2ludC55KSArIHR5O1xuICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHgpO1xuICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHgpO1xuICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHkpO1xuICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICAgICAqIEBwYXJhbSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRRdWFkID0gZnVuY3Rpb24gKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB2YXIgeCA9IHZlcnRpY2VzWzBdO1xuICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWzFdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzJdO1xuICAgICAgICB5ID0gdmVydGljZXNbM107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbNF07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCB0cmFuc2Zvcm1lZC5cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtIC0gdHJhbnNmb3JtIHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24gKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCBtdWx0aXBsaWVkIGJ5IG1hdHJpeFxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBtYXRyaXggdG8gYXBwbHlcbiAgICAgKiBAcGFyYW0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWVNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCB4MCwgeTAsIHgxLCB5MSkge1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHZhciB4ID0gKGEgKiB4MCkgKyAoYyAqIHkwKSArIHR4O1xuICAgICAgICB2YXIgeSA9IChiICogeDApICsgKGQgKiB5MCkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgxKSArIChjICogeTApICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgxKSArIChkICogeTApICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MCkgKyAoYyAqIHkxKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MCkgKyAoZCAqIHkxKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHNjcmVlbiB2ZXJ0aWNlcyBmcm9tIGFycmF5XG4gICAgICogQHBhcmFtIHZlcnRleERhdGEgLSBjYWxjdWxhdGVkIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0ZXhEYXRhID0gZnVuY3Rpb24gKHZlcnRleERhdGEsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHRyYW5zZm9ybSAtIG1lc2ggdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICAgICAqIEBwYXJhbSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXMgPSBmdW5jdGlvbiAodHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB0aGlzLmFkZFZlcnRpY2VzTWF0cml4KHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGFycmF5IG9mIG1lc2ggdmVydGljZXMuXG4gICAgICogQHBhcmFtIG1hdHJpeCAtIG1lc2ggbWF0cml4XG4gICAgICogQHBhcmFtIHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICAgICAqIEBwYXJhbSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqIEBwYXJhbSBwYWRYIC0geCBwYWRkaW5nXG4gICAgICogQHBhcmFtIHBhZFkgLSB5IHBhZGRpbmdcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgaWYgKHBhZFggPT09IHZvaWQgMCkgeyBwYWRYID0gMDsgfVxuICAgICAgICBpZiAocGFkWSA9PT0gdm9pZCAwKSB7IHBhZFkgPSBwYWRYOyB9XG4gICAgICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciByYXdYID0gdmVydGljZXNbaV07XG4gICAgICAgICAgICB2YXIgcmF3WSA9IHZlcnRpY2VzW2kgKyAxXTtcbiAgICAgICAgICAgIHZhciB4ID0gKGEgKiByYXdYKSArIChjICogcmF3WSkgKyB0eDtcbiAgICAgICAgICAgIHZhciB5ID0gKGQgKiByYXdZKSArIChiICogcmF3WCkgKyB0eTtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCB4IC0gcGFkWCk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgeCArIHBhZFgpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIHkgLSBwYWRZKTtcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCB5ICsgcGFkWSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIge0BsaW5rIEJvdW5kc30uXG4gICAgICogQHBhcmFtIGJvdW5kcyAtIFRoZSBCb3VuZHMgdG8gYmUgYWRkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIChib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBCb3VuZHMuXG4gICAgICogQHBhcmFtIGJvdW5kcyAtIFRoZSBCb3VuZHMgdG8gYmUgYWRkZWQuXG4gICAgICogQHBhcmFtIG1hc2sgLSBUT0RPXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gKGJvdW5kcywgbWFzaykge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IG1hc2subWluWCA/IGJvdW5kcy5taW5YIDogbWFzay5taW5YO1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IG1hc2subWF4WSA/IGJvdW5kcy5tYXhZIDogbWFzay5tYXhZO1xuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbXVsdGlwbGllZCBieSBtYXRyaXguIEJvdW5kcyBzaG91bGRuJ3QgYmUgZW1wdHkuXG4gICAgICogQHBhcmFtIGJvdW5kcyAtIG90aGVyIGJvdW5kc1xuICAgICAqIEBwYXJhbSBtYXRyaXggLSBtdWx0aXBsaWNhdG9yXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXRyaXggPSBmdW5jdGlvbiAoYm91bmRzLCBtYXRyaXgpIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeChtYXRyaXgsIGJvdW5kcy5taW5YLCBib3VuZHMubWluWSwgYm91bmRzLm1heFgsIGJvdW5kcy5tYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBSZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIGJvdW5kcyAtIFRPRE9cbiAgICAgKiBAcGFyYW0gYXJlYSAtIFRPRE9cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc0FyZWEgPSBmdW5jdGlvbiAoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogKGFyZWEueCArIGFyZWEud2lkdGgpO1xuICAgICAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IGFyZWEueSArIGFyZWEuaGVpZ2h0ID8gYm91bmRzLm1heFkgOiAoYXJlYS55ICsgYXJlYS5oZWlnaHQpO1xuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWRzIGJvdW5kcyBvYmplY3QsIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqIEBwYXJhbSBwYWRkaW5nWCAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSBwYWRkaW5nWSAtIFRoZSB2ZXJ0aWNhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIChwYWRkaW5nWCwgcGFkZGluZ1kpIHtcbiAgICAgICAgaWYgKHBhZGRpbmdYID09PSB2b2lkIDApIHsgcGFkZGluZ1ggPSAwOyB9XG4gICAgICAgIGlmIChwYWRkaW5nWSA9PT0gdm9pZCAwKSB7IHBhZGRpbmdZID0gcGFkZGluZ1g7IH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdGhpcy5taW5YIC09IHBhZGRpbmdYO1xuICAgICAgICAgICAgdGhpcy5tYXhYICs9IHBhZGRpbmdYO1xuICAgICAgICAgICAgdGhpcy5taW5ZIC09IHBhZGRpbmdZO1xuICAgICAgICAgICAgdGhpcy5tYXhZICs9IHBhZGRpbmdZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHBhZGRlZCBmcmFtZS4gKHgwLCB5MCkgc2hvdWxkIGJlIHN0cmljdGx5IGxlc3MgdGhhbiAoeDEsIHkxKVxuICAgICAqIEBwYXJhbSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHBhZFggLSBwYWRkaW5nIFhcbiAgICAgKiBAcGFyYW0gcGFkWSAtIHBhZGRpbmcgWVxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWVQYWQgPSBmdW5jdGlvbiAoeDAsIHkwLCB4MSwgeTEsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgeDAgLT0gcGFkWDtcbiAgICAgICAgeTAgLT0gcGFkWTtcbiAgICAgICAgeDEgKz0gcGFkWDtcbiAgICAgICAgeTEgKz0gcGFkWTtcbiAgICAgICAgdGhpcy5taW5YID0gdGhpcy5taW5YIDwgeDAgPyB0aGlzLm1pblggOiB4MDtcbiAgICAgICAgdGhpcy5tYXhYID0gdGhpcy5tYXhYID4geDEgPyB0aGlzLm1heFggOiB4MTtcbiAgICAgICAgdGhpcy5taW5ZID0gdGhpcy5taW5ZIDwgeTAgPyB0aGlzLm1pblkgOiB5MDtcbiAgICAgICAgdGhpcy5tYXhZID0gdGhpcy5tYXhZID4geTEgPyB0aGlzLm1heFkgOiB5MTtcbiAgICB9O1xuICAgIHJldHVybiBCb3VuZHM7XG59KCkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBjYW4gbm90IGJlIHVzZWQgb24gaXRzIG93bjsgcmF0aGVyIGl0IHNob3VsZCBiZSBleHRlbmRlZC5cbiAqXG4gKiAjIyBEaXNwbGF5IG9iamVjdHMgaW1wbGVtZW50ZWQgaW4gUGl4aUpTXG4gKlxuICogfCBEaXNwbGF5IE9iamVjdCAgICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IHtAbGluayBQSVhJLkNvbnRhaW5lcn0gICAgICAgICAgfCBBZGRzIHN1cHBvcnQgZm9yIGBjaGlsZHJlbmAgdG8gRGlzcGxheU9iamVjdCAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5HcmFwaGljc30gICAgICAgICAgIHwgU2hhcGUtZHJhd2luZyBkaXNwbGF5IG9iamVjdCBzaW1pbGFyIHRvIHRoZSBDYW52YXMgQVBJICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU3ByaXRlfSAgICAgICAgICAgICB8IERyYXdzIHRleHR1cmVzIChpLmUuIGltYWdlcykgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlRleHR9ICAgICAgICAgICAgICAgfCBEcmF3cyB0ZXh0IHVzaW5nIHRoZSBDYW52YXMgQVBJIGludGVybmFsbHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fSAgICAgICAgIHwgTW9yZSBzY2FsZWFibGUgc29sdXRpb24gZm9yIHRleHQgcmVuZGVyaW5nLCByZXVzaW5nIGdseXBoIHRleHR1cmVzICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuVGlsaW5nU3ByaXRlfSAgICAgICB8IERyYXdzIHRleHR1cmVzL2ltYWdlcyBpbiBhIHRpbGVkIGZhc2hpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfSAgICAgfCBEcmF3cyBhbiBhbmltYXRpb24gb2YgbXVsdGlwbGUgaW1hZ2VzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5NZXNofSAgICAgICAgICAgICAgIHwgUHJvdmlkZXMgYSBsb3dlci1sZXZlbCBBUEkgZm9yIGRyYXdpbmcgbWVzaGVzIHdpdGggY3VzdG9tIGRhdGEgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuTmluZVNsaWNlUGxhbmV9ICAgICB8IE1lc2gtcmVsYXRlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlNpbXBsZU1lc2h9ICAgICAgICAgfCB2NC1jb21wYXRpYmxlIG1lc2ggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5TaW1wbGVQbGFuZX0gICAgICAgIHwgTWVzaC1yZWxhdGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU2ltcGxlUm9wZX0gICAgICAgICB8IE1lc2gtcmVsYXRlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKlxuICogIyMgVHJhbnNmb3Jtc1xuICpcbiAqIFRoZSBbdHJhbnNmb3JtXXtAbGluayBEaXNwbGF5T2JqZWN0I3RyYW5zZm9ybX0gb2YgYSBkaXNwbGF5IG9iamVjdCBkZXNjcmliZXMgdGhlIHByb2plY3Rpb24gZnJvbSBpdHNcbiAqIGxvY2FsIGNvb3JkaW5hdGUgc3BhY2UgdG8gaXRzIHBhcmVudCdzIGxvY2FsIGNvb3JkaW5hdGUgc3BhY2UuIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgZGVyaXZlZFxuICogZnJvbSB0aGUgdHJhbnNmb3JtOlxuICpcbiAqIDx0YWJsZT5cbiAqICAgPHRoZWFkPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0aD5Qcm9wZXJ0eTwvdGg+XG4gKiAgICAgICA8dGg+RGVzY3JpcHRpb248L3RoPlxuICogICAgIDwvdHI+XG4gKiAgIDwvdGhlYWQ+XG4gKiAgIDx0Ym9keT5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3Bpdm90XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjcGl2b3R9PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgSW52YXJpYW50IHVuZGVyIHJvdGF0aW9uLCBzY2FsaW5nLCBhbmQgc2tld2luZy4gVGhlIHByb2plY3Rpb24gb2YgaW50byB0aGUgcGFyZW50J3Mgc3BhY2Ugb2YgdGhlIHBpdm90XG4gKiAgICAgICAgIGlzIGVxdWFsIHRvIHBvc2l0aW9uLCByZWdhcmRsZXNzIG9mIHRoZSBvdGhlciB0aHJlZSB0cmFuc2Zvcm1hdGlvbnMuIEluIG90aGVyIHdvcmRzLCBJdCBpcyB0aGUgY2VudGVyIG9mXG4gKiAgICAgICAgIHJvdGF0aW9uLCBzY2FsaW5nLCBhbmQgc2tld2luZy5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3Bvc2l0aW9uXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjcG9zaXRpb259PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgVHJhbnNsYXRpb24uIFRoaXMgaXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBbcGl2b3Rde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNwaXZvdH0gaW4gdGhlIHBhcmVudCdzIGxvY2FsXG4gKiAgICAgICAgIHNwYWNlLiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgcGl2b3QgaXMgdGhlIG9yaWdpbiAoMCwwKS4gSWYgdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB5b3VyIGRpc3BsYXkgb2JqZWN0XG4gKiAgICAgICAgIGlzICgwLDApIGluIGl0cyBsb2NhbCBzcGFjZSwgdGhlbiB0aGUgcG9zaXRpb24gd2lsbCBiZSBpdHMgdG9wLWxlZnQgY29ybmVyIGluIHRoZSBwYXJlbnQncyBsb2NhbCBzcGFjZS5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3NjYWxlXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjc2NhbGV9PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgU2NhbGluZy4gVGhpcyB3aWxsIHN0cmV0Y2ggKG9yIGNvbXByZXNzKSB0aGUgZGlzcGxheSBvYmplY3QncyBwcm9qZWN0aW9uLiBUaGUgc2NhbGUgZmFjdG9ycyBhcmUgYWxvbmcgdGhlXG4gKiAgICAgICAgIGxvY2FsIGNvb3JkaW5hdGUgYXhlcy4gSW4gb3RoZXIgd29yZHMsIHRoZSBkaXNwbGF5IG9iamVjdCBpcyBzY2FsZWQgYmVmb3JlIHJvdGF0ZWQgb3Igc2tld2VkLiBUaGUgY2VudGVyXG4gKiAgICAgICAgIG9mIHNjYWxpbmcgaXMgdGhlIFtwaXZvdF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I3Bpdm90fS5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3JvdGF0aW9uXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjcm90YXRpb259PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgIFJvdGF0aW9uLiBUaGlzIHdpbGwgcm90YXRlIHRoZSBkaXNwbGF5IG9iamVjdCdzIHByb2plY3Rpb24gYnkgdGhpcyBhbmdsZSAoaW4gcmFkaWFucykuXG4gKiAgICAgICA8L3RkPlxuICogICAgIDwvdHI+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRkPltza2V3XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjc2tld308L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICA8cD5Ta2V3aW5nLiBUaGlzIGNhbiBiZSB1c2VkIHRvIGRlZm9ybSBhIHJlY3Rhbmd1bGFyIGRpc3BsYXkgb2JqZWN0IGludG8gYSBwYXJhbGxlbG9ncmFtLjwvcD5cbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgIEluIFBpeGlKUywgc2tldyBoYXMgYSBzbGlnaHRseSBkaWZmZXJlbnQgYmVoYXZpb3VyIHRoYW4gdGhlIGNvbnZlbnRpb25hbCBtZWFuaW5nLiBJdCBjYW4gYmVcbiAqICAgICAgICAgdGhvdWdodCBvZiB0aGUgbmV0IHJvdGF0aW9uIGFwcGxpZWQgdG8gdGhlIGNvb3JkaW5hdGUgYXhlcyAoc2VwYXJhdGVseSkuIEZvciBleGFtcGxlLCBpZiBcInNrZXcueFwiIGlzXG4gKiAgICAgICAgIOKNuiBhbmQgXCJza2V3LnlcIiBpcyDOsiwgdGhlbiB0aGUgbGluZSB4ID0gMCB3aWxsIGJlIHJvdGF0ZWQgYnkg4o26ICh5ID0gLXgqY2904o26KSBhbmQgdGhlIGxpbmUgeSA9IDAgd2lsbCBiZVxuICogICAgICAgICByb3RhdGVkIGJ5IM6yICh5ID0geCp0YW7OsikuIEEgbGluZSB5ID0geCp0YW7PtCAoaS5lLiBhIGxpbmUgYXQgYW5nbGUgz7QgdG8gdGhlIHgtYXhpcyBpbiBsb2NhbC1zcGFjZSkgd2lsbFxuICogICAgICAgICBiZSByb3RhdGVkIGJ5IGFuIGFuZ2xlIGJldHdlZW4g4o26IGFuZCDOsi5cbiAqICAgICAgICAgPC9wPlxuICogICAgICAgICA8cD5cbiAqICAgICAgICAgSXQgY2FuIGJlIG9ic2VydmVkIHRoYXQgaWYgc2tldyBpcyBhcHBsaWVkIGVxdWFsbHkgdG8gYm90aCBheGVzLCB0aGVuIGl0IHdpbGwgYmUgZXF1aXZhbGVudCB0byBhcHBseWluZ1xuICogICAgICAgICBhIHJvdGF0aW9uLiBJbmRlZWQsIGlmIFwic2tldy54XCIgPSAtz7QgYW5kIFwic2tldy55XCIgPSDPtCwgaXQgd2lsbCBwcm9kdWNlIGFuIGVxdWl2YWxlbnQgb2YgXCJyb3RhdGlvblwiID0gz7QuXG4gKiAgICAgICAgIDwvcD5cbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgIEFub3RoZXIgcXVpdGUgaW50ZXJlc3Rpbmcgb2JzZXJ2YXRpb24gaXMgdGhhdCBcInNrZXcueFwiLCBcInNrZXcueVwiLCByb3RhdGlvbiBhcmUgY29tbXVudGF0aXZlIG9wZXJhdGlvbnMuIEluZGVlZCxcbiAqICAgICAgICAgYmVjYXVzZSByb3RhdGlvbiBpcyBlc3NlbnRpYWxseSBhIGNhcmVmdWwgY29tYmluYXRpb24gb2YgdGhlIHR3by5cbiAqICAgICAgICAgPC9wPlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD5hbmdsZTwvdGQ+XG4gKiAgICAgICA8dGQ+Um90YXRpb24uIFRoaXMgaXMgYW4gYWxpYXMgZm9yIFtyb3RhdGlvbl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I3JvdGF0aW9ufSwgYnV0IGluIGRlZ3JlZXMuPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD54PC90ZD5cbiAqICAgICAgIDx0ZD5UcmFuc2xhdGlvbi4gVGhpcyBpcyBhbiBhbGlhcyBmb3IgcG9zaXRpb24ueCE8L3RkPlxuICogICAgIDwvdHI+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRkPnk8L3RkPlxuICogICAgICAgPHRkPlRyYW5zbGF0aW9uLiBUaGlzIGlzIGFuIGFsaWFzIGZvciBwb3NpdGlvbi55ITwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+d2lkdGg8L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICBJbXBsZW1lbnRlZCBpbiBbQ29udGFpbmVyXXtAbGluayBQSVhJLkNvbnRhaW5lcn0uIFNjYWxpbmcuIFRoZSB3aWR0aCBwcm9wZXJ0eSBjYWxjdWxhdGVzIHNjYWxlLnggYnkgZGl2aWRpbmdcbiAqICAgICAgICAgdGhlIFwicmVxdWVzdGVkXCIgd2lkdGggYnkgdGhlIGxvY2FsIGJvdW5kaW5nIGJveCB3aWR0aC4gSXQgaXMgaW5kaXJlY3RseSBhbiBhYnN0cmFjdGlvbiBvdmVyIHNjYWxlLngsIGFuZCB0aGVyZVxuICogICAgICAgICBpcyBubyBjb25jZXB0IG9mIHVzZXItZGVmaW5lZCB3aWR0aC5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+aGVpZ2h0PC90ZD5cbiAqICAgICAgIDx0ZD5cbiAqICAgICAgICAgSW1wbGVtZW50ZWQgaW4gW0NvbnRhaW5lcl17QGxpbmsgUElYSS5Db250YWluZXJ9LiBTY2FsaW5nLiBUaGUgaGVpZ2h0IHByb3BlcnR5IGNhbGN1bGF0ZXMgc2NhbGUueSBieSBkaXZpZGluZ1xuICogICAgICAgICB0aGUgXCJyZXF1ZXN0ZWRcIiBoZWlnaHQgYnkgdGhlIGxvY2FsIGJvdW5kaW5nIGJveCBoZWlnaHQuIEl0IGlzIGluZGlyZWN0bHkgYW4gYWJzdHJhY3Rpb24gb3ZlciBzY2FsZS55LCBhbmQgdGhlcmVcbiAqICAgICAgICAgaXMgbm8gY29uY2VwdCBvZiB1c2VyLWRlZmluZWQgaGVpZ2h0LlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICA8L3Rib2R5PlxuICogPC90YWJsZT5cbiAqXG4gKiAjIyBCb3VuZHNcbiAqXG4gKiBUaGUgYm91bmRzIG9mIGEgZGlzcGxheSBvYmplY3QgaXMgZGVmaW5lZCBieSB0aGUgbWluaW11bSBheGlzLWFsaWduZWQgcmVjdGFuZ2xlIGluIHdvcmxkIHNwYWNlIHRoYXQgY2FuIGZpdFxuICogYXJvdW5kIGl0LiBUaGUgYWJzdHJhY3QgYGNhbGN1bGF0ZUJvdW5kc2AgbWV0aG9kIGlzIHJlc3BvbnNpYmxlIGZvciBwcm92aWRpbmcgaXQgKGFuZCBpdCBzaG91bGQgdXNlIHRoZVxuICogYHdvcmxkVHJhbnNmb3JtYCB0byBjYWxjdWxhdGUgaW4gd29ybGQgc3BhY2UpLlxuICpcbiAqIFRoZXJlIGFyZSBhIGZldyBhZGRpdGlvbmFsIHR5cGVzIG9mIGJvdW5kaW5nIGJveGVzOlxuICpcbiAqIHwgQm91bmRzICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICogfCBXb3JsZCBCb3VuZHMgICAgICAgICAgfCBUaGlzIGlzIHN5bm9ueW1vdXMgaXMgdGhlIHJlZ3VsYXIgYm91bmRzIGRlc2NyaWJlZCBhYm92ZS4gU2VlIGBnZXRCb3VuZHMoKWAuICAgICAgICAgICAgIHxcbiAqIHwgTG9jYWwgQm91bmRzICAgICAgICAgIHwgVGhpcyB0aGUgYXhpcy1hbGlnbmVkIGJvdW5kaW5nIGJveCBpbiB0aGUgcGFyZW50J3MgbG9jYWwgc3BhY2UuIFNlZSBgZ2V0TG9jYWxCb3VuZHMoKWAuICB8XG4gKiB8IFJlbmRlciBCb3VuZHMgICAgICAgICB8IFRoZSBib3VuZHMsIGJ1dCBpbmNsdWRpbmcgZXh0cmEgcmVuZGVyaW5nIGVmZmVjdHMgbGlrZSBmaWx0ZXIgcGFkZGluZy4gICAgICAgICAgICAgICAgICAgfFxuICogfCBQcm9qZWN0ZWQgQm91bmRzICAgICAgfCBUaGUgYm91bmRzIG9mIHRoZSBwcm9qZWN0ZWQgZGlzcGxheSBvYmplY3Qgb250byB0aGUgc2NyZWVuLiBVc3VhbGx5IGVxdWFscyB3b3JsZCBib3VuZHMuIHxcbiAqIHwgUmVsYXRpdmUgQm91bmRzICAgICAgIHwgVGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0IHdoZW4gcHJvamVjdGVkIG9udG8gYSBhbmNlc3RvcidzIChvciBwYXJlbnQncykgc3BhY2UuICAgICB8XG4gKiB8IE5hdHVyYWwgQm91bmRzICAgICAgICB8IFRoZSBib3VuZHMgb2YgYW4gb2JqZWN0IGluIGl0cyBvd24gbG9jYWwgc3BhY2UgKG5vdCBwYXJlbnQncyBzcGFjZSwgbGlrZSBpbiBsb2NhbCBib3VuZHMpfFxuICogfCBDb250ZW50IEJvdW5kcyAgICAgICAgfCBUaGUgbmF0dXJhbCBib3VuZHMgd2hlbiBleGNsdWRpbmcgYWxsIGNoaWxkcmVuIG9mIGEgYENvbnRhaW5lcmAuICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiAjIyMgY2FsY3VsYXRlQm91bmRzXG4gKlxuICogW0NvbnRhaW5lcl17QGxpbmsgQ29udGFpbmVyfSBhbHJlYWR5IGltcGxlbWVudHMgYGNhbGN1bGF0ZUJvdW5kc2AgaW4gYSBtYW5uZXIgdGhhdCBpbmNsdWRlcyBjaGlsZHJlbi5cbiAqXG4gKiBCdXQgZm9yIGEgbm9uLUNvbnRhaW5lciBkaXNwbGF5IG9iamVjdCwgdGhlIGBjYWxjdWxhdGVCb3VuZHNgIG1ldGhvZCBtdXN0IGJlIG92ZXJyaWRkZW4gaW4gb3JkZXIgZm9yIGBnZXRCb3VuZHNgIGFuZFxuICogYGdldExvY2FsQm91bmRzYCB0byB3b3JrLiBUaGlzIG1ldGhvZCBtdXN0IHdyaXRlIHRoZSBib3VuZHMgaW50byBgdGhpcy5fYm91bmRzYC5cbiAqXG4gKiBHZW5lcmFsbHksIHRoZSBmb2xsb3dpbmcgdGVjaG5pcXVlIHdvcmtzIGZvciBtb3N0IHNpbXBsZSBjYXNlczogdGFrZSB0aGUgbGlzdCBvZiBwb2ludHNcbiAqIGZvcm1pbmcgdGhlIFwiaHVsbFwiIG9mIHRoZSBvYmplY3QgKGkuZS4gb3V0bGluZSBvZiB0aGUgb2JqZWN0J3Mgc2hhcGUpLCBhbmQgdGhlbiBhZGQgdGhlbVxuICogdXNpbmcge0BsaW5rIFBJWEkuQm91bmRzI2FkZFBvaW50TWF0cml4fS5cbiAqXG4gKiBgYGBqc1xuICogY2FsY3VsYXRlQm91bmRzKCk6IHZvaWRcbiAqIHtcbiAqICAgICBjb25zdCBwb2ludHMgPSBbLi4uXTtcbiAqXG4gKiAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoOyBpIDwgajsgaSsrKVxuICogICAgIHtcbiAqICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFBvaW50TWF0cml4KHRoaXMud29ybGRUcmFuc2Zvcm0sIHBvaW50c1tpXSk7XG4gKiAgICAgfVxuICogfVxuICogYGBgXG4gKlxuICogWW91IGNhbiBvcHRpbWl6ZSB0aGlzIGZvciBhIGxhcmdlIG51bWJlciBvZiBwb2ludHMgYnkgdXNpbmcge0BsaW5rIFBJWEkuQm91bmRzI2FkZFZlcnRpY2VzTWF0cml4fSB0byBwYXNzIHRoZW1cbiAqIGluIG9uZSBhcnJheSB0b2dldGhlci5cbiAqXG4gKiAjIyBBbHBoYVxuICpcbiAqIFRoaXMgYWxwaGEgc2V0cyBhIGRpc3BsYXkgb2JqZWN0J3MgKipyZWxhdGl2ZSBvcGFjaXR5Kiogdy5yLnQgaXRzIHBhcmVudC4gRm9yIGV4YW1wbGUsIGlmIHRoZSBhbHBoYSBvZiBhIGRpc3BsYXlcbiAqIG9iamVjdCBpcyAwLjUgYW5kIGl0cyBwYXJlbnQncyBhbHBoYSBpcyAwLjUsIHRoZW4gaXQgd2lsbCBiZSByZW5kZXJlZCB3aXRoIDI1JSBvcGFjaXR5IChhc3N1bWluZyBhbHBoYSBpcyBub3RcbiAqIGFwcGxpZWQgb24gYW55IGFuY2VzdG9yIGZ1cnRoZXIgdXAgdGhlIGNoYWluKS5cbiAqXG4gKiBUaGUgYWxwaGEgd2l0aCB3aGljaCB0aGUgZGlzcGxheSBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBpcyBjYWxsZWQgdGhlIFt3b3JsZEFscGhhXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjd29ybGRBbHBoYX0uXG4gKlxuICogIyMgUmVuZGVyYWJsZSB2cyBWaXNpYmxlXG4gKlxuICogVGhlIGByZW5kZXJhYmxlYCBhbmQgYHZpc2libGVgIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gcHJldmVudCBhIGRpc3BsYXkgb2JqZWN0IGZyb20gYmVpbmcgcmVuZGVyZWQgdG8gdGhlXG4gKiBzY3JlZW4uIEhvd2V2ZXIsIHRoZXJlIGlzIGEgc3VidGxlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvLiBXaGVuIHVzaW5nIGByZW5kZXJhYmxlYCwgdGhlIHRyYW5zZm9ybXMgIG9mIHRoZSBkaXNwbGF5XG4gKiBvYmplY3QgKGFuZCBpdHMgY2hpbGRyZW4gc3VidHJlZSkgd2lsbCBjb250aW51ZSB0byBiZSBjYWxjdWxhdGVkLiBXaGVuIHVzaW5nIGB2aXNpYmxlYCwgdGhlIHRyYW5zZm9ybXMgd2lsbCBub3RcbiAqIGJlIGNhbGN1bGF0ZWQuXG4gKlxuICogSXQgaXMgcmVjb21tZW5kZWQgdGhhdCBhcHBsaWNhdGlvbnMgdXNlIHRoZSBgcmVuZGVyYWJsZWAgcHJvcGVydHkgZm9yIGN1bGxpbmcuIFNlZVxuICogW0BwaXhpLWVzc2VudGlhbHMvY3VsbF17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQHBpeGktZXNzZW50aWFscy9jdWxsfSBvclxuICogW3BpeGktY3VsbF17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcGl4aS1jdWxsfSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIE90aGVyd2lzZSwgdG8gcHJldmVudCBhbiBvYmplY3QgZnJvbSByZW5kZXJpbmcgaW4gdGhlIGdlbmVyYWwtcHVycG9zZSBzZW5zZSAtIGB2aXNpYmxlYCBpcyB0aGUgcHJvcGVydHkgdG8gdXNlLiBUaGlzXG4gKiBvbmUgaXMgYWxzbyBiZXR0ZXIgaW4gdGVybXMgb2YgcGVyZm9ybWFuY2UuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRGlzcGxheU9iamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGlzcGxheU9iamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY3JlYXRlIFRyYW5zZm9ybSBmcm9tIGZhY3RvcnlcbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIF90aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBfdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuY3VsbGFibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuY3VsbEFyZWEgPSBudWxsO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICBfdGhpcy53b3JsZEFscGhhID0gMTtcbiAgICAgICAgX3RoaXMuX2xhc3RTb3J0ZWRJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl96SW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgX3RoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kcyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9ib3VuZHNJRCA9IDA7XG4gICAgICAgIF90aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9tYXNrID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX21hc2tSZWZDb3VudCA9IDA7XG4gICAgICAgIF90aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTcHJpdGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBEaXNwbGF5T2JqZWN0LlxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QubWl4aW4gPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIC8vIGluIEVTOC9FUzIwMTcsIHRoaXMgd291bGQgYmUgcmVhbGx5IGVhc3k6XG4gICAgICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICAgICAgLy8gZ2V0IGFsbCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBrZXlzXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgcHJvcGVydHkgdXNpbmcgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgLSB0aGlzIHdvcmtzIGZvciBhY2Nlc3NvcnMgYW5kIG5vcm1hbCB2YWx1ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHByb3BlcnR5TmFtZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHByb3BlcnR5TmFtZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiZGVzdHJveWVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQGV2ZW50IGFkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIGEgQ29udGFpbmVyLlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQGV2ZW50IHJlbW92ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciByZW1vdmVkIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgZGVzdHJveWVkLiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgb25jZVxuICAgICAgICAgKiBkZXN0cm95IGlzIGZpbmlzaGVkLlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQGV2ZW50IGRlc3Ryb3llZFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqIFJlYWRvbmx5IGZsYWcgZm9yIGRlc3Ryb3llZCBkaXNwbGF5IG9iamVjdHMuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc3Ryb3llZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKCkgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy4gVE9ETyAtIE9wdGltaXphdGlvbiBwYXNzISAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgYW5kIHJldHVybnMgdGhlICh3b3JsZCkgYm91bmRzIG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBhIFtSZWN0YW5nbGVde0BsaW5rIFBJWEkuUmVjdGFuZ2xlfS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZSBvbiBjb250YWluZXJzIHdpdGggYSBsYXJnZSBzdWJ0cmVlIChsaWtlIHRoZSBzdGFnZSkuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYm91bmRzXG4gICAgICogb2YgYSBjb250YWluZXIgZGVwZW5kIG9uIGl0cyBjaGlsZHJlbidzIGJvdW5kcywgd2hpY2ggcmVjdXJzaXZlbHkgY2F1c2VzIGFsbCBib3VuZHMgaW4gdGhlIHN1YnRyZWUgdG9cbiAgICAgKiBiZSByZWNhbGN1bGF0ZWQuIFRoZSB1cHNpZGUsIGhvd2V2ZXIsIGlzIHRoYXQgY2FsbGluZyBgZ2V0Qm91bmRzYCBvbmNlIG9uIGEgY29udGFpbmVyIHdpbGwgaW5kZWVkIHVwZGF0ZVxuICAgICAqIHRoZSBib3VuZHMgb2YgYWxsIGNoaWxkcmVuICh0aGUgd2hvbGUgc3VidHJlZSwgaW4gZmFjdCkuIFRoaXMgc2lkZSBlZmZlY3Qgc2hvdWxkIGJlIGV4cGxvaXRlZCBieSB1c2luZ1xuICAgICAqIGBkaXNwbGF5T2JqZWN0Ll9ib3VuZHMuZ2V0UmVjdGFuZ2xlKClgIHdoZW4gdHJhdmVyc2luZyB0aHJvdWdoIGFsbCB0aGUgYm91bmRzIGluIGEgc2NlbmUgZ3JhcGguIE90aGVyd2lzZSxcbiAgICAgKiBjYWxsaW5nIGBnZXRCb3VuZHNgIG9uIGVhY2ggb2JqZWN0IGluIGEgc3VidHJlZSB3aWxsIGNhdXNlIHRoZSB0b3RhbCBjb3N0IHRvIGluY3JlYXNlIHF1YWRyYXRpY2FsbHkgYXNcbiAgICAgKiBpdHMgaGVpZ2h0IGluY3JlYXNlcy5cbiAgICAgKlxuICAgICAqIFRoZSB0cmFuc2Zvcm1zIG9mIGFsbCBvYmplY3RzIGluIGEgY29udGFpbmVyJ3MgKipzdWJ0cmVlKiogYW5kIG9mIGFsbCAqKmFuY2VzdG9ycyoqIGFyZSB1cGRhdGVkLlxuICAgICAqIFRoZSB3b3JsZCBib3VuZHMgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyBpbiBhIGNvbnRhaW5lcidzICoqc3VidHJlZSoqIHdpbGwgYWxzbyBiZSByZWNhbGN1bGF0ZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYF9ib3VuZHNgIG9iamVjdCBzdG9yZXMgdGhlIGxhc3QgY2FsY3VsYXRpb24gb2YgdGhlIGJvdW5kcy4gWW91IGNhbiB1c2UgdG8gZW50aXJlbHkgc2tpcCBib3VuZHNcbiAgICAgKiBjYWxjdWxhdGlvbiBpZiBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IGxhc3RDYWxjdWxhdGVkQm91bmRzID0gZGlzcGxheU9iamVjdC5fYm91bmRzLmdldFJlY3RhbmdsZShvcHRpb25hbFJlY3QpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogRG8ga25vdyB0aGF0IHVzYWdlIG9mIGBnZXRMb2NhbEJvdW5kc2AgY2FuIGNvcnJ1cHQgdGhlIGBfYm91bmRzYCBvZiBjaGlsZHJlbiAodGhlIHdob2xlIHN1YnRyZWUsIGFjdHVhbGx5KS4gVGhpc1xuICAgICAqIGlzIGEga25vd24gaXNzdWUgdGhhdCBoYXMgbm90IGJlZW4gc29sdmVkLiBTZWUgW2dldExvY2FsQm91bmRzXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZ2V0TG9jYWxCb3VuZHN9IGZvciBtb3JlXG4gICAgICogZGV0YWlscy5cbiAgICAgKlxuICAgICAqIGBnZXRCb3VuZHNgIHNob3VsZCBiZSBjYWxsZWQgd2l0aCBgc2tpcFVwZGF0ZWAgZXF1YWwgdG8gYHRydWVgIGluIGEgcmVuZGVyKCkgY2FsbC4gVGhpcyBpcyBiZWNhdXNlIHRoZSB0cmFuc2Zvcm1zXG4gICAgICogYXJlIGd1YXJhbnRlZWQgdG8gYmUgdXBkYXRlLXRvLWRhdGUuIEluIGZhY3QsIHJlY2FsY3VsYXRpbmcgaW5zaWRlIGEgcmVuZGVyKCkgY2FsbCBtYXkgY2F1c2UgY29ycnVwdGlvbiBpbiBjZXJ0YWluXG4gICAgICogY2FzZXMuXG4gICAgICogQHBhcmFtIHNraXBVcGRhdGUgLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAgICAgKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAgICAgKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAgICAgKiBAcGFyYW0gcmVjdCAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybnMgLSBUaGUgbWluaW11bSBheGlzLWFsaWduZWQgcmVjdGFuZ2xlIGluIHdvcmxkIHNwYWNlIHRoYXQgZml0cyBhcm91bmQgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKHNraXBVcGRhdGUsIHJlY3QpIHtcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHMudXBkYXRlSUQgIT09IHRoaXMuX2JvdW5kc0lEKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2JvdW5kc1JlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHJlY3QgLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm5zIC0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIHZhciBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHdvcmxkQm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICB2YXIgd29ybGRCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB3b3JsZEJvdW5kcztcbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEICs9IHRoaXMuX2JvdW5kc0lEIC0gd29ybGRCb3VuZHNJRDsgLy8gcmVmbGVjdCBzaWRlLWVmZmVjdHNcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpLlxuICAgICAqIEBwYXJhbSBza2lwVXBkYXRlIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMgLSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcFVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBVcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgZ2xvYmFsIHBvc2l0aW9uIGZyb20uXG4gICAgICogQHBhcmFtIHBvaW50IC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0gc2tpcFVwZGF0ZSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybnMgLSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9Mb2NhbCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgZnJvbSwgcG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZnJvbS50b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzaW1wbHkgYXBwbHkgdGhlIG1hdHJpeC4uXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgQ29udGFpbmVyIG9mIHRoaXMgRGlzcGxheU9iamVjdC5cbiAgICAgKiBAcGFyYW0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm5zIC0gVGhlIENvbnRhaW5lciB0aGF0IHRoaXMgRGlzcGxheU9iamVjdCB3YXMgYWRkZWQgdG8uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0UGFyZW50ID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLmFkZENoaWxkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lcicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHNldCB0aGUgcG9zaXRpb24sIHNjYWxlLCBza2V3IGFuZCBwaXZvdCBhdCBvbmNlLlxuICAgICAqIEBwYXJhbSB4IC0gVGhlIFggcG9zaXRpb25cbiAgICAgKiBAcGFyYW0geSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHNjYWxlWCAtIFRoZSBYIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHNjYWxlWSAtIFRoZSBZIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHNrZXdYIC0gVGhlIFggc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSBza2V3WSAtIFRoZSBZIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0gcGl2b3RYIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0gcGl2b3RZIC0gVGhlIFkgcGl2b3QgdmFsdWVcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHgsIHksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZLCBwaXZvdFgsIHBpdm90WSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHNjYWxlWCA9PT0gdm9pZCAwKSB7IHNjYWxlWCA9IDE7IH1cbiAgICAgICAgaWYgKHNjYWxlWSA9PT0gdm9pZCAwKSB7IHNjYWxlWSA9IDE7IH1cbiAgICAgICAgaWYgKHJvdGF0aW9uID09PSB2b2lkIDApIHsgcm90YXRpb24gPSAwOyB9XG4gICAgICAgIGlmIChza2V3WCA9PT0gdm9pZCAwKSB7IHNrZXdYID0gMDsgfVxuICAgICAgICBpZiAoc2tld1kgPT09IHZvaWQgMCkgeyBza2V3WSA9IDA7IH1cbiAgICAgICAgaWYgKHBpdm90WCA9PT0gdm9pZCAwKSB7IHBpdm90WCA9IDA7IH1cbiAgICAgICAgaWYgKHBpdm90WSA9PT0gdm9pZCAwKSB7IHBpdm90WSA9IDA7IH1cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gIXNjYWxlWCA/IDEgOiBzY2FsZVg7XG4gICAgICAgIHRoaXMuc2NhbGUueSA9ICFzY2FsZVkgPyAxIDogc2NhbGVZO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuc2tldy54ID0gc2tld1g7XG4gICAgICAgIHRoaXMuc2tldy55ID0gc2tld1k7XG4gICAgICAgIHRoaXMucGl2b3QueCA9IHBpdm90WDtcbiAgICAgICAgdGhpcy5waXZvdC55ID0gcGl2b3RZO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95KClgLlxuICAgICAqIEBwYXJhbSBfb3B0aW9uc1xuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdWxsQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW1pdCgnZGVzdHJveWVkJyk7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGluIFJlbmRlcmVyLCBjYWNoZUFzQml0bWFwIGFuZCBvdGhlciBwbGFjZXMgd2hlcmUgeW91IGNhbGwgYW4gYHVwZGF0ZVRyYW5zZm9ybWAgb24gcm9vdFxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogY29uc3QgY2FjaGVQYXJlbnQgPSBlbGVtLmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgKiBlbGVtLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAqIGVsZW0uZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpO1xuICAgICAqIGBgYFxuICAgICAqIEByZXR1cm5zIC0gY3VycmVudCBwYXJlbnRcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5lbmFibGVUZW1wUGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXlQYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgcmV0dXJuIG15UGFyZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFpciBtZXRob2QgZm9yIGBlbmFibGVUZW1wUGFyZW50YFxuICAgICAqIEBwYXJhbSBjYWNoZVBhcmVudCAtIEFjdHVhbCBwYXJlbnQgb2YgZWxlbWVudFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc2FibGVUZW1wUGFyZW50ID0gZnVuY3Rpb24gKGNhY2hlUGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB5IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ3b3JsZFRyYW5zZm9ybVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnMuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwibG9jYWxUcmFuc2Zvcm1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBsb2NhbCBmYWN0b3JzOiBwb3NpdGlvbiwgc2NhbGUsIG90aGVyIHN0dWZmLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwic2NhbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvcnMgb2YgdGhpcyBvYmplY3QgYWxvbmcgdGhlIGxvY2FsIGNvb3JkaW5hdGUgYXhlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2NhbGUgaXMgKDEsIDEpLlxuICAgICAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNjYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInBpdm90XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjZW50ZXIgb2Ygcm90YXRpb24sIHNjYWxpbmcsIGFuZCBza2V3aW5nIGZvciB0aGlzIGRpc3BsYXkgb2JqZWN0IGluIGl0cyBsb2NhbCBzcGFjZS4gVGhlIGBwb3NpdGlvbmBcbiAgICAgICAgICogaXMgdGhlIHByb2plY3Rpb24gb2YgYHBpdm90YCBpbiB0aGUgcGFyZW50J3MgbG9jYWwgc3BhY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBwaXZvdCBpcyB0aGUgb3JpZ2luICgwLCAwKS5cbiAgICAgICAgICogQHNpbmNlIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBpdm90LmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJza2V3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNrZXc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5za2V3LmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiYW5nbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuZ2xlIG9mIHRoZSBvYmplY3QgaW4gZGVncmVlcy5cbiAgICAgICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gKiBSQURfVE9fREVHO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZSAqIERFR19UT19SQUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiekluZGV4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIGEgY29udGFpbmVyIGhhcyB0aGUgc29ydGFibGVDaGlsZHJlbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZSwgY2hpbGRyZW4gd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHNvcnRlZCBieSB6SW5kZXggdmFsdWU7IGEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIG1vdmVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgYXJyYXksXG4gICAgICAgICAqIGFuZCB0aHVzIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5IG9iamVjdHMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lci5cbiAgICAgICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNzb3J0YWJsZUNoaWxkcmVuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96SW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl96SW5kZXggPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwid29ybGRWaXNpYmxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgICAgICB9IHdoaWxlIChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIm1hc2tcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICAgICAqIG9iamVjdCB0byB0aGUgc2hhcGUgb2YgdGhlIG1hc2sgYXBwbGllZCB0byBpdC4gSW4gUGl4aUpTIGEgcmVndWxhciBtYXNrIG11c3QgYmUgYVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gRnVydGhlcm1vcmUsIGEgbWFzayBvZiBhbiBvYmplY3QgbXVzdCBiZSBpbiB0aGUgc3VidHJlZSBvZiBpdHMgcGFyZW50LlxuICAgICAgICAgKiBPdGhlcndpc2UsIGBnZXRMb2NhbEJvdW5kc2AgbWF5IGNhbGN1bGF0ZSBpbmNvcnJlY3QgYm91bmRzLCB3aGljaCBtYWtlcyB0aGUgY29udGFpbmVyJ3Mgd2lkdGggYW5kIGhlaWdodCB3cm9uZy5cbiAgICAgICAgICogVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmVuZEZpbGwoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAgICAgKiBzcHJpdGUubWFzayA9IGdyYXBoaWNzO1xuICAgICAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hc2tPYmplY3QgPSAodGhpcy5fbWFzay5pc01hc2tEYXRhXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5fbWFzay5tYXNrT2JqZWN0IDogdGhpcy5fbWFzayk7XG4gICAgICAgICAgICAgICAgaWYgKG1hc2tPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFza09iamVjdC5fbWFza1JlZkNvdW50LS07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXNrT2JqZWN0Ll9tYXNrUmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9ICh0aGlzLl9tYXNrLmlzTWFza0RhdGFcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLl9tYXNrLm1hc2tPYmplY3QgOiB0aGlzLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBpZiAobWFza09iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFza09iamVjdC5fbWFza1JlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuaXNNYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXNrT2JqZWN0Ll9tYXNrUmVmQ291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oRXZlbnRFbWl0dGVyKSk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZW1wb3JhcnlEaXNwbGF5T2JqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zb3J0RGlydHkgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0O1xufShEaXNwbGF5T2JqZWN0KSk7XG4vKipcbiAqIERpc3BsYXlPYmplY3QgZGVmYXVsdCB1cGRhdGVUcmFuc2Zvcm0sIGRvZXMgbm90IHVwZGF0ZSBjaGlsZHJlbiBvZiBjb250YWluZXIuXG4gKiBXaWxsIGNyYXNoIGlmIHRoZXJlJ3Mgbm8gcGFyZW50IGVsZW1lbnQuXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1ldGhvZCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmZ1bmN0aW9uIHNvcnRDaGlsZHJlbihhLCBiKSB7XG4gICAgaWYgKGEuekluZGV4ID09PSBiLnpJbmRleCkge1xuICAgICAgICByZXR1cm4gYS5fbGFzdFNvcnRlZEluZGV4IC0gYi5fbGFzdFNvcnRlZEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cbi8qKlxuICogQ29udGFpbmVyIGlzIGEgZ2VuZXJhbC1wdXJwb3NlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaG9sZHMgY2hpbGRyZW4uIEl0IGFsc28gYWRkcyBidWlsdC1pbiBzdXBwb3J0IGZvciBhZHZhbmNlZFxuICogcmVuZGVyaW5nIGZlYXR1cmVzIGxpa2UgbWFza2luZyBhbmQgZmlsdGVyaW5nLlxuICpcbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMsIGluY2x1ZGluZyBHcmFwaGljc1xuICogYW5kIFNwcml0ZS5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgQmx1ckZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbiAqIGltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuICogaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG4gKiBpbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuICpcbiAqIGxldCBjb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XG4gKiBsZXQgc3ByaXRlID0gU3ByaXRlLmZyb20oXCJodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby82OTM2MTIvSWFVcnR0ai5wbmdcIik7XG4gKlxuICogc3ByaXRlLndpZHRoID0gNTEyO1xuICogc3ByaXRlLmhlaWdodCA9IDUxMjtcbiAqXG4gKiAvLyBBZGRzIGEgc3ByaXRlIGFzIGEgY2hpbGQgdG8gdGhpcyBjb250YWluZXIuIEFzIGEgcmVzdWx0LCB0aGUgc3ByaXRlIHdpbGwgYmUgcmVuZGVyZWQgd2hlbmV2ZXIgdGhlIGNvbnRhaW5lclxuICogLy8gaXMgcmVuZGVyZWQuXG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiAvLyBCbHVycyB3aGF0ZXZlciBpcyByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyXG4gKiBjb250YWluZXIuZmlsdGVycyA9IFtuZXcgQmx1ckZpbHRlcigpXTtcbiAqXG4gKiAvLyBPbmx5IHRoZSBjb250ZW50cyB3aXRoaW4gYSBjaXJjbGUgYXQgdGhlIGNlbnRlciBzaG91bGQgYmUgcmVuZGVyZWQgb250byB0aGUgc2NyZWVuLlxuICogY29udGFpbmVyLm1hc2sgPSBuZXcgR3JhcGhpY3MoKVxuICogIC5iZWdpbkZpbGwoMHhmZmZmZmYpXG4gKiAgLmRyYXdDaXJjbGUoc3ByaXRlLndpZHRoIC8gMiwgc3ByaXRlLmhlaWdodCAvIDIsIE1hdGgubWluKHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCkgLyAyKVxuICogIC5lbmRGaWxsKCk7XG4gKiBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbnRhaW5lciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIF90aGlzLnNvcnRhYmxlQ2hpbGRyZW4gPSBzZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTjtcbiAgICAgICAgX3RoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5Db250YWluZXIjY2hpbGRBZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgYWRkZWQgdG8gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IGFkZGVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIGFkZGVkIGNoaWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNjaGlsZFJlbW92ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHJlbW92ZWQgZnJvbSB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgcmVtb3ZlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBmb3JtZXIgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgcmVtb3ZlZCBjaGlsZFxuICAgICAgICAgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkLlxuICAgICAqIEBwYXJhbSBfbGVuZ3RoXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKF9sZW5ndGgpIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIE11bHRpcGxlIGl0ZW1zIGNhbiBiZSBhZGRlZCBsaWtlIHNvOiBgbXlDb250YWluZXIuYWRkQ2hpbGQodGhpbmdPbmUsIHRoaW5nVHdvLCB0aGluZ1RocmVlKWBcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IC0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcnJheSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQgPSBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNoaWxkICsgXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKiBAcGFyYW0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiAoY2hpbGQsIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgxXSA9IGNoaWxkMjtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleDEgPCBpbmRleDIgPyBpbmRleDEgOiBpbmRleDIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICogQHBhcmFtIGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKiBAcGFyYW0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hpbGRBdDogSW5kZXggKFwiICsgaW5kZXggKyBcIikgZG9lcyBub3QgZXhpc3QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZHJlbiAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIHJlbW92ZSBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm5zIFRoZSBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkQXQoaW5kZXgpO1xuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0gYmVnaW5JbmRleCAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIGVuZEluZGV4IC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMgLSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gKGJlZ2luSW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICAgIGlmIChiZWdpbkluZGV4ID09PSB2b2lkIDApIHsgYmVnaW5JbmRleCA9IDA7IH1cbiAgICAgICAgaWYgKGVuZEluZGV4ID09PSB2b2lkIDApIHsgZW5kSW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgfVxuICAgICAgICB2YXIgYmVnaW4gPSBiZWdpbkluZGV4O1xuICAgICAgICB2YXIgZW5kID0gZW5kSW5kZXg7XG4gICAgICAgIHZhciByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICB2YXIgcmVtb3ZlZDtcbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCByZW1vdmVkW2ldLCB0aGlzLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuICAgIC8qKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1haW50YWluZWQgZm9yIDIgY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSB6SW5kZXguICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zb3J0Q2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3J0UmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNoaWxkLl9sYXN0U29ydGVkSW5kZXggPSBpO1xuICAgICAgICAgICAgaWYgKCFzb3J0UmVxdWlyZWQgJiYgY2hpbGQuekluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc29ydFJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc29ydFJlcXVpcmVkICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zb3J0KHNvcnRDaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb24gYWxsIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyIGZvciByZW5kZXJpbmcuICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIHdpbGwgYXV0b21hdGljYWxseSBmaXQgdGhlIGNoaWxkcmVuJ3MgYm91bmRzIGludG8gdGhlIGNhbGN1bGF0aW9uLiBFYWNoIGNoaWxkJ3MgYm91bmRzXG4gICAgICogaXMgbGltaXRlZCB0byBpdHMgbWFzaydzIGJvdW5kcyBvciBmaWx0ZXJBcmVhLCBpZiBhbnkgaXMgYXBwbGllZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKGNoaWxkLl9tYXNrLmlzTWFza0RhdGFcbiAgICAgICAgICAgICAgICAgICAgPyBjaGlsZC5fbWFzay5tYXNrT2JqZWN0IDogY2hpbGQuX21hc2spO1xuICAgICAgICAgICAgICAgIGlmIChtYXNrT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNNYXNrKGNoaWxkLl9ib3VuZHMsIG1hc2tPYmplY3QuX2JvdW5kcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGNoaWxkLl9ib3VuZHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBDYWxsaW5nIGBnZXRMb2NhbEJvdW5kc2AgbWF5IGludmFsaWRhdGUgdGhlIGBfYm91bmRzYCBvZiB0aGUgd2hvbGUgc3VidHJlZSBiZWxvdy4gSWYgdXNpbmcgaXQgaW5zaWRlIGEgcmVuZGVyKClcbiAgICAgKiBjYWxsLCBpdCBpcyBhZHZpc2VkIHRvIGNhbGwgYGdldEJvdW5kcygpYCBpbW1lZGlhdGVseSBhZnRlciB0byByZWNhbGN1bGF0ZSB0aGUgd29ybGQgYm91bmRzIG9mIHRoZSBzdWJ0cmVlLlxuICAgICAqIEBwYXJhbSByZWN0IC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gc2tpcENoaWxkcmVuVXBkYXRlIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHJlLWNhbGN1bGF0aW9uIG9mIGNoaWxkcmVuIHRyYW5zZm9ybXMsXG4gICAgICogIGl0IHdhcyBkZWZhdWx0IGJlaGF2aW91ciBvZiBwaXhpIDQuMC01LjIgYW5kIGNhdXNlZCBtYW55IHByb2JsZW1zIHRvIHVzZXJzLlxuICAgICAqIEByZXR1cm5zIC0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0LCBza2lwQ2hpbGRyZW5VcGRhdGUpIHtcbiAgICAgICAgaWYgKHNraXBDaGlsZHJlblVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBDaGlsZHJlblVwZGF0ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciByZXN1bHQgPSBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgICAgIGlmICghc2tpcENoaWxkcmVuVXBkYXRlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgY29udGVudCBib3VuZHMgb2YgdGhpcyBvYmplY3QuIFRoaXMgc2hvdWxkIGJlIG92ZXJyaWRlbiB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoaXMgc3BlY2lmaWMgb2JqZWN0IChub3QgaW5jbHVkaW5nIGNoaWxkcmVuKS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGSUxMIElOLy9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhpcyBvYmplY3QgYW5kIGl0cyBjaGlsZHJlbiB3aXRoIGN1bGxpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXaXRoQ3VsbGluZyA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc291cmNlRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lO1xuICAgICAgICAvLyBJZiB0aGUgc291cmNlIGZyYW1lIGlzIGVtcHR5LCBzdG9wIHJlbmRlcmluZy5cbiAgICAgICAgaWYgKCEoc291cmNlRnJhbWUud2lkdGggPiAwICYmIHNvdXJjZUZyYW1lLmhlaWdodCA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVuZGVyIHRoZSBjb250ZW50IG9mIHRoZSBjb250YWluZXIgb25seSBpZiBpdHMgYm91bmRzIGludGVyc2VjdCB3aXRoIHRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICAgIC8vIEFsbCBmaWx0ZXJzIGFyZSBvbiB0aGUgc3RhY2sgYXQgdGhpcyBwb2ludCwgYW5kIHRoZSBmaWx0ZXIgc291cmNlIGZyYW1lIGlzIGJvdW5kOlxuICAgICAgICAvLyB0aGVyZWZvcmUsIGV2ZW4gaWYgdGhlIGJvdW5kcyB0byBub24gaW50ZXJzZWN0IHRoZSBmaWx0ZXIgZnJhbWUsIHRoZSBmaWx0ZXJcbiAgICAgICAgLy8gaXMgc3RpbGwgYXBwbGllZCBhbmQgYW55IGZpbHRlciBwYWRkaW5nIHRoYXQgaXMgaW4gdGhlIGZyYW1lIGlzIHJlbmRlcmVkIGNvcnJlY3RseS5cbiAgICAgICAgdmFyIGJvdW5kcztcbiAgICAgICAgdmFyIHRyYW5zZm9ybTtcbiAgICAgICAgLy8gSWYgY3VsbEFyZWEgaXMgc2V0LCB3ZSB1c2UgdGhpcyByZWN0YW5nbGUgaW5zdGVhZCBvZiB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QuIFRoZSBjdWxsQXJlYVxuICAgICAgICAvLyByZWN0YW5nbGUgbXVzdCBjb21wbGV0ZWx5IGNvbnRhaW4gdGhlIGNvbnRhaW5lciBhbmQgaXRzIGNoaWxkcmVuIGluY2x1ZGluZyBmaWx0ZXIgcGFkZGluZy5cbiAgICAgICAgaWYgKHRoaXMuY3VsbEFyZWEpIHtcbiAgICAgICAgICAgIGJvdW5kcyA9IHRoaXMuY3VsbEFyZWE7XG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBjb250YWluZXIgZG9lc24ndCBvdmVycmlkZSBfcmVuZGVyLCB3ZSBjYW4gc2tpcCB0aGUgYm91bmRzIGNhbGN1bGF0aW9uIGFuZCBpbnRlcnNlY3Rpb24gdGVzdC5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fcmVuZGVyICE9PSBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXIpIHtcbiAgICAgICAgICAgIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmRlciB0aGUgY29udGFpbmVyIGlmIHRoZSBzb3VyY2UgZnJhbWUgaW50ZXJzZWN0cyB0aGUgYm91bmRzLlxuICAgICAgICBpZiAoYm91bmRzICYmIHNvdXJjZUZyYW1lLmludGVyc2VjdHMoYm91bmRzLCB0cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBib3VuZHMgYXJlIGRlZmluZWQgYnkgY3VsbEFyZWEgYW5kIGRvIG5vdCBpbnRlcnNlY3Qgd2l0aCB0aGUgc291cmNlIGZyYW1lLCBzdG9wIHJlbmRlcmluZy5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdWxsQXJlYSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVubGVzcyBjdWxsQXJlYSBpcyBzZXQsIHdlIGNhbm5vdCBza2lwIHRoZSBjaGlsZHJlbiBpZiB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIgZG8gbm90IGludGVyc2VjdFxuICAgICAgICAvLyB0aGUgc291cmNlIGZyYW1lLCBiZWNhdXNlIHRoZSBjaGlsZHJlbiBtaWdodCBoYXZlIGZpbHRlcnMgd2l0aCBub256ZXJvIHBhZGRpbmcsIHdoaWNoIG1heSBpbnRlcnNlY3RcbiAgICAgICAgLy8gd2l0aCB0aGUgc291cmNlIGZyYW1lIHdoaWxlIHRoZSBib3VuZHMgZG8gbm90OiBmaWx0ZXIgcGFkZGluZyBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGJvdW5kcy5cbiAgICAgICAgLy8gSWYgY3VsbEFyZWEgaXMgbm90IHNldCwgcmVuZGVyIHRoZSBjaGlsZHJlbiB3aXRoIGN1bGxpbmcgdGVtcG9yYXJpbHkgZW5hYmxlZCBzbyB0aGF0IHRoZXkgYXJlIG5vdCByZW5kZXJlZFxuICAgICAgICAvLyBpZiB0aGV5IGFyZSBvdXQgb2YgZnJhbWU7IG90aGVyd2lzZSwgcmVuZGVyIHRoZSBjaGlsZHJlbiBub3JtYWxseS5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIHZhciBjaGlsZEN1bGxhYmxlID0gY2hpbGQuY3VsbGFibGU7XG4gICAgICAgICAgICBjaGlsZC5jdWxsYWJsZSA9IGNoaWxkQ3VsbGFibGUgfHwgIXRoaXMuY3VsbEFyZWE7XG4gICAgICAgICAgICBjaGlsZC5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgY2hpbGQuY3VsbGFibGUgPSBjaGlsZEN1bGxhYmxlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogVGhlIFtfcmVuZGVyXXtAbGluayBQSVhJLkNvbnRhaW5lciNfcmVuZGVyfSBtZXRob2QgaXMgYmUgb3ZlcnJpZGVuIGZvciByZW5kZXJpbmcgdGhlIGNvbnRlbnRzIG9mIHRoZVxuICAgICAqIGNvbnRhaW5lciBpdHNlbGYuIFRoaXMgYHJlbmRlcmAgbWV0aG9kIHdpbGwgaW52b2tlIGl0LCBhbmQgYWxzbyBpbnZva2UgdGhlIGByZW5kZXJgIG1ldGhvZHMgb2YgYWxsXG4gICAgICogY2hpbGRyZW4gYWZ0ZXJ3YXJkLlxuICAgICAqXG4gICAgICogSWYgYHJlbmRlcmFibGVgIG9yIGB2aXNpYmxlYCBpcyBmYWxzZSBvciBpZiBgd29ybGRBbHBoYWAgaXMgbm90IHBvc2l0aXZlIG9yIGlmIGBjdWxsYWJsZWAgaXMgdHJ1ZSBhbmRcbiAgICAgKiB0aGUgYm91bmRzIG9mIHRoaXMgb2JqZWN0IGFyZSBvdXQgb2YgZnJhbWUsIHRoaXMgaW1wbGVtZW50YXRpb24gd2lsbCBlbnRpcmVseSBza2lwIHJlbmRlcmluZy5cbiAgICAgKiBTZWUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdH0gZm9yIGNob29zaW5nIGJldHdlZW4gYHJlbmRlcmFibGVgIG9yIGB2aXNpYmxlYC4gR2VuZXJhbGx5LFxuICAgICAqIHNldHRpbmcgYWxwaGEgdG8gemVybyBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHB1cmVseSBza2lwcGluZyByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBXaGVuIHlvdXIgc2NlbmUgYmVjb21lcyBsYXJnZSAoZXNwZWNpYWxseSB3aGVuIGl0IGlzIGxhcmdlciB0aGFuIGNhbiBiZSB2aWV3ZWQgaW4gYSBzaW5nbGUgc2NyZWVuKSwgaXQgaXNcbiAgICAgKiBhZHZpc2VkIHRvIGVtcGxveSAqKmN1bGxpbmcqKiB0byBhdXRvbWF0aWNhbGx5IHNraXAgcmVuZGVyaW5nIG9iamVjdHMgb3V0c2lkZSBvZiB0aGUgY3VycmVudCBzY3JlZW4uXG4gICAgICogU2VlIFtjdWxsYWJsZV17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2N1bGxhYmxlfSBhbmQgW2N1bGxBcmVhXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjY3VsbEFyZWF9LlxuICAgICAqIE90aGVyIGN1bGxpbmcgbWV0aG9kcyBtaWdodCBiZSBiZXR0ZXIgc3VpdGVkIGZvciBhIGxhcmdlIG51bWJlciBzdGF0aWMgb2JqZWN0czsgc2VlXG4gICAgICogW0BwaXhpLWVzc2VudGlhbHMvY3VsbF17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQHBpeGktZXNzZW50aWFscy9jdWxsfSBhbmRcbiAgICAgKiBbcGl4aS1jdWxsXXtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9waXhpLWN1bGx9LlxuICAgICAqXG4gICAgICogVGhlIFtyZW5kZXJBZHZhbmNlZF17QGxpbmsgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWR9IG1ldGhvZCBpcyBpbnRlcm5hbGx5IHVzZWQgd2hlbiB3aGVuIG1hc2tpbmcgb3JcbiAgICAgKiBmaWx0ZXJpbmcgaXMgYXBwbGllZCBvbiBhIGNvbnRhaW5lci4gVGhpcyBkb2VzLCBob3dldmVyLCBicmVhayBiYXRjaGluZyBhbmQgY2FuIGFmZmVjdCBwZXJmb3JtYW5jZSB3aGVuXG4gICAgICogbWFza2luZyBhbmQgZmlsdGVyaW5nIGlzIGFwcGxpZWQgZXh0ZW5zaXZlbHkgdGhyb3VnaG91dCB0aGUgc2NlbmUgZ3JhcGguXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8ICh0aGlzLmZpbHRlcnMgJiYgdGhpcy5maWx0ZXJzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VsbGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcldpdGhDdWxsaW5nKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIgYW5kIGFkdmFuY2VkIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBmbHVzaCA9IChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHx8IChtYXNrICYmICghbWFzay5pc01hc2tEYXRhXG4gICAgICAgICAgICAgICAgfHwgKG1hc2suZW5hYmxlZCAmJiAobWFzay5hdXRvRGV0ZWN0IHx8IG1hc2sudHlwZSAhPT0gTUFTS19UWVBFUy5OT05FKSkpKTtcbiAgICAgICAgaWYgKGZsdXNoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGhpcywgdGhpcy5fZW5hYmxlZEZpbHRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnB1c2godGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3VsbGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcldpdGhDdWxsaW5nKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmbHVzaCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wb3AodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICogQHBhcmFtIF9yZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChfcmVuZGVyZXIpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbnRlcm5hbCByZWZlcmVuY2VzIGFuZCBsaXN0ZW5lcnMgYXMgd2VsbCBhcyByZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGRpc3BsYXkgbGlzdC5cbiAgICAgKiBEbyBub3QgdXNlIGEgQ29udGFpbmVyIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlc3Ryb3lDaGlsZHJlbiA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWluZXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRhaW5lci5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb250YWluZXI7XG59KERpc3BsYXlPYmplY3QpKTtcbi8qKlxuICogQ29udGFpbmVyIGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIHVwZGF0ZSBjaGlsZHJlbiBvZiBjb250YWluZXIuXG4gKiBXaWxsIGNyYXNoIGlmIHRoZXJlJ3Mgbm8gcGFyZW50IGVsZW1lbnQuXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAbWV0aG9kIGNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybVxuICovXG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5leHBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciwgRGlzcGxheU9iamVjdCwgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcGxheS5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2V4dGVuc2lvbnMgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvZXh0ZW5zaW9ucyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzJDFbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB7IHRbcF0gPSBzW3BdOyB9IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiB2YWxpZCBleHRlbnNpb24gdHlwZXMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHByb3BlcnR5IHtzdHJpbmd9IEFwcGxpY2F0aW9uIC0gQXBwbGljYXRpb24gcGx1Z2luc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFJlbmRlcmVyUGx1Z2luIC0gUGx1Z2lucyBmb3IgUmVuZGVyZXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBDYW52YXNSZW5kZXJlclBsdWdpbiAtIFBsdWdpbnMgZm9yIENhbnZhc1JlbmRlcmVyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTG9hZGVyIC0gUGx1Z2lucyB0byB1c2Ugd2l0aCBMb2FkZXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMb2FkUGFyc2VyIC0gUGFyc2VycyBmb3IgQXNzZXRzIGxvYWRlci5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBSZXNvbHZlUGFyc2VyIC0gUGFyc2VycyBmb3IgQXNzZXRzIHJlc29sdmVycy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBDYWNoZVBhcnNlciAtIFBhcnNlcnMgZm9yIEFzc2V0cyBjYWNoZS5cbiAqL1xudmFyIEV4dGVuc2lvblR5cGU7XG4oZnVuY3Rpb24gKEV4dGVuc2lvblR5cGUpIHtcbiAgICBFeHRlbnNpb25UeXBlW1wiQXBwbGljYXRpb25cIl0gPSBcImFwcGxpY2F0aW9uXCI7XG4gICAgRXh0ZW5zaW9uVHlwZVtcIlJlbmRlcmVyUGx1Z2luXCJdID0gXCJyZW5kZXJlci13ZWJnbC1wbHVnaW5cIjtcbiAgICBFeHRlbnNpb25UeXBlW1wiQ2FudmFzUmVuZGVyZXJQbHVnaW5cIl0gPSBcInJlbmRlcmVyLWNhbnZhcy1wbHVnaW5cIjtcbiAgICBFeHRlbnNpb25UeXBlW1wiTG9hZGVyXCJdID0gXCJsb2FkZXJcIjtcbiAgICBFeHRlbnNpb25UeXBlW1wiTG9hZFBhcnNlclwiXSA9IFwibG9hZC1wYXJzZXJcIjtcbiAgICBFeHRlbnNpb25UeXBlW1wiUmVzb2x2ZVBhcnNlclwiXSA9IFwicmVzb2x2ZS1wYXJzZXJcIjtcbiAgICBFeHRlbnNpb25UeXBlW1wiQ2FjaGVQYXJzZXJcIl0gPSBcImNhY2hlLXBhcnNlclwiO1xuICAgIEV4dGVuc2lvblR5cGVbXCJEZXRlY3Rpb25QYXJzZXJcIl0gPSBcImRldGVjdGlvbi1wYXJzZXJcIjtcbn0pKEV4dGVuc2lvblR5cGUgfHwgKEV4dGVuc2lvblR5cGUgPSB7fSkpO1xuLyoqXG4gKiBDb252ZXJ0IGlucHV0IGludG8gZXh0ZW5zaW9uIGZvcm1hdCBkYXRhLlxuICogQGlnbm9yZVxuICovXG52YXIgbm9ybWFsaXplRXh0ZW5zaW9uID0gZnVuY3Rpb24gKGV4dCkge1xuICAgIC8vIENsYXNzL09iamVjdCBzdWJtaXNzaW9uLCB1c2UgZXh0ZW5zaW9uIG9iamVjdFxuICAgIGlmICh0eXBlb2YgZXh0ID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgZXh0ID09PSAnb2JqZWN0JyAmJiBleHQuZXh0ZW5zaW9uKSkge1xuICAgICAgICBpZiAoIWV4dC5leHRlbnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXh0ZW5zaW9uIGNsYXNzIG11c3QgaGF2ZSBhbiBleHRlbnNpb24gb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gKHR5cGVvZiBleHQuZXh0ZW5zaW9uICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgID8geyB0eXBlOiBleHQuZXh0ZW5zaW9uIH1cbiAgICAgICAgICAgIDogZXh0LmV4dGVuc2lvbjtcbiAgICAgICAgZXh0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIG1ldGFkYXRhKSwgeyByZWY6IGV4dCB9KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBleHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGV4dCA9IF9fYXNzaWduKHt9LCBleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGV4dGVuc2lvbiB0eXBlJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZXh0LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGV4dC50eXBlID0gW2V4dC50eXBlXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dDtcbn07XG4vKipcbiAqIEdsb2JhbCByZWdpc3RyYXRpb24gb2YgYWxsIFBpeGlKUyBleHRlbnNpb25zLiBPbmUtc3RvcC1zaG9wIGZvciBleHRlbnNpYmlsaXR5LlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lc3BhY2UgZXh0ZW5zaW9uc1xuICovXG52YXIgZXh0ZW5zaW9ucyA9IHtcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9hZGRIYW5kbGVyczogbnVsbCxcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9yZW1vdmVIYW5kbGVyczogbnVsbCxcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9xdWV1ZToge30sXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGV4dGVuc2lvbnMgZnJvbSBQaXhpSlMuXG4gICAgICogQHBhcmFtIGV4dGVuc2lvbnMgLSBFeHRlbnNpb25zIHRvIGJlIHJlbW92ZWQuXG4gICAgICogQHJldHVybnMge1BJWEkuZXh0ZW5zaW9uc30gRm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGV4dGVuc2lvbnMubWFwKG5vcm1hbGl6ZUV4dGVuc2lvbikuZm9yRWFjaChmdW5jdGlvbiAoZXh0KSB7XG4gICAgICAgICAgICBleHQudHlwZS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7IHZhciBfYSwgX2I7IHJldHVybiAoX2IgPSAoX2EgPSBfdGhpcy5fcmVtb3ZlSGFuZGxlcnMpW3R5cGVdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgZXh0KTsgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIG5ldyBleHRlbnNpb25zIHdpdGggUGl4aUpTLlxuICAgICAqIEBwYXJhbSBleHRlbnNpb25zIC0gVGhlIHNwcmVhZCBvZiBleHRlbnNpb25zIHRvIGFkZCB0byBQaXhpSlMuXG4gICAgICogQHJldHVybnMge1BJWEkuZXh0ZW5zaW9uc30gRm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhbnkgZXh0ZW5zaW9ucyBlaXRoZXIgcGFzc2VkIGFzIGNsYXNzIHcvIGRhdGEgb3IgYXMgZGF0YVxuICAgICAgICBleHRlbnNpb25zLm1hcChub3JtYWxpemVFeHRlbnNpb24pLmZvckVhY2goZnVuY3Rpb24gKGV4dCkge1xuICAgICAgICAgICAgZXh0LnR5cGUuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVycyA9IF90aGlzLl9hZGRIYW5kbGVycztcbiAgICAgICAgICAgICAgICB2YXIgcXVldWUgPSBfdGhpcy5fcXVldWU7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyc1t0eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVt0eXBlXSA9IHF1ZXVlW3R5cGVdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVt0eXBlXS5wdXNoKGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyc1t0eXBlXShleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdG8gaGFuZGxlIGV4dGVuc2lvbnMgYnkgbmFtZS5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSBleHRlbnNpb24gdHlwZS5cbiAgICAgKiBAcGFyYW0gb25BZGQgIC0gRnVuY3Rpb24gZm9yIGhhbmRsaW5nIHdoZW4gZXh0ZW5zaW9ucyBhcmUgYWRkZWQvcmVnaXN0ZXJlZCBwYXNzZXMge0BsaW5rIFBJWEkuRXh0ZW5zaW9uRm9ybWF0fS5cbiAgICAgKiBAcGFyYW0gb25SZW1vdmUgIC0gRnVuY3Rpb24gZm9yIGhhbmRsaW5nIHdoZW4gZXh0ZW5zaW9ucyBhcmUgcmVtb3ZlZC91bnJlZ2lzdGVyZWQgcGFzc2VzIHtAbGluayBQSVhJLkV4dGVuc2lvbkZvcm1hdH0uXG4gICAgICogQHJldHVybnMge1BJWEkuZXh0ZW5zaW9uc30gRm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGhhbmRsZTogZnVuY3Rpb24gKHR5cGUsIG9uQWRkLCBvblJlbW92ZSkge1xuICAgICAgICB2YXIgYWRkSGFuZGxlcnMgPSB0aGlzLl9hZGRIYW5kbGVycyA9IHRoaXMuX2FkZEhhbmRsZXJzIHx8IHt9O1xuICAgICAgICB2YXIgcmVtb3ZlSGFuZGxlcnMgPSB0aGlzLl9yZW1vdmVIYW5kbGVycyA9IHRoaXMuX3JlbW92ZUhhbmRsZXJzIHx8IHt9O1xuICAgICAgICBpZiAoYWRkSGFuZGxlcnNbdHlwZV0gfHwgcmVtb3ZlSGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4dGVuc2lvbiB0eXBlIFwiICsgdHlwZSArIFwiIGFscmVhZHkgaGFzIGEgaGFuZGxlclwiKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRIYW5kbGVyc1t0eXBlXSA9IG9uQWRkO1xuICAgICAgICByZW1vdmVIYW5kbGVyc1t0eXBlXSA9IG9uUmVtb3ZlO1xuICAgICAgICAvLyBQcm9jZXNzIHRoZSBxdWV1ZVxuICAgICAgICB2YXIgcXVldWUgPSB0aGlzLl9xdWV1ZTtcbiAgICAgICAgLy8gUHJvY2VzcyBhbnkgcGx1Z2lucyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgaGFuZGxlclxuICAgICAgICBpZiAocXVldWVbdHlwZV0pIHtcbiAgICAgICAgICAgIHF1ZXVlW3R5cGVdLmZvckVhY2goZnVuY3Rpb24gKGV4dCkgeyByZXR1cm4gb25BZGQoZXh0KTsgfSk7XG4gICAgICAgICAgICBkZWxldGUgcXVldWVbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSB0eXBlLCBidXQgdXNpbmcgYSBtYXAgYnkgYG5hbWVgIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB0eXBlIC0gVHlwZSBvZiBleHRlbnNpb24gdG8gaGFuZGxlLlxuICAgICAqIEBwYXJhbSBtYXAgLSBUaGUgb2JqZWN0IG1hcCBvZiBuYW1lZCBleHRlbnNpb25zLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLmV4dGVuc2lvbnN9IEZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBoYW5kbGVCeU1hcDogZnVuY3Rpb24gKHR5cGUsIG1hcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGUodHlwZSwgZnVuY3Rpb24gKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgbWFwW2V4dGVuc2lvbi5uYW1lXSA9IGV4dGVuc2lvbi5yZWY7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChleHRlbnNpb24pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBtYXBbZXh0ZW5zaW9uLm5hbWVdO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIHR5cGUsIGJ1dCB1c2luZyBhIGxpc3Qgb2YgZXh0ZW5zaW9ucy5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFR5cGUgb2YgZXh0ZW5zaW9uIHRvIGhhbmRsZS5cbiAgICAgKiBAcGFyYW0gbGlzdCAtIFRoZSBsaXN0IG9mIGV4dGVuc2lvbnMuXG4gICAgICogQHJldHVybnMge1BJWEkuZXh0ZW5zaW9uc30gRm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGhhbmRsZUJ5TGlzdDogZnVuY3Rpb24gKHR5cGUsIGxpc3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlKHR5cGUsIGZ1bmN0aW9uIChleHRlbnNpb24pIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBsaXN0LnB1c2goZXh0ZW5zaW9uLnJlZik7XG4gICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgbWUgbGF0ZXIsIG9ubHkgYWRkZWQgZm9yIEBwaXhpL2xvYWRlcnNcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBFeHRlbnNpb25UeXBlLkxvYWRlcikge1xuICAgICAgICAgICAgICAgIChfYiA9IChfYSA9IGV4dGVuc2lvbi5yZWYpLmFkZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoZXh0ZW5zaW9uLnJlZik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0ZW5zaW9ucy5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RpY2tlciAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS90aWNrZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcblxuLyoqXG4gKiBUYXJnZXQgZnJhbWVzIHBlciBtaWxsaXNlY29uZC5cbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVF9GUE1TXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDAuMDZcbiAqL1xuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgPSAwLjA2O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBVUERBVEVfUFJJT1JJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtJTlRFUkFDVElPTj01MF0gSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtISUdIPTI1XSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9XG4gKiBAcHJvcGVydHkge251bWJlcn0gW05PUk1BTD0wXSBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0xPVz0tMjVdIExvdyBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gcmVuZGVyaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVVElMSVRZPS01MF0gTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB1dGlsaXR5LlxuICovXG52YXIgVVBEQVRFX1BSSU9SSVRZO1xuKGZ1bmN0aW9uIChVUERBVEVfUFJJT1JJVFkpIHtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiSU5URVJBQ1RJT05cIl0gPSA1MF0gPSBcIklOVEVSQUNUSU9OXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIkhJR0hcIl0gPSAyNV0gPSBcIkhJR0hcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJMT1dcIl0gPSAtMjVdID0gXCJMT1dcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiVVRJTElUWVwiXSA9IC01MF0gPSBcIlVUSUxJVFlcIjtcbn0pKFVQREFURV9QUklPUklUWSB8fCAoVVBEQVRFX1BSSU9SSVRZID0ge30pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlckxpc3RlbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHByaW9yaXR5IC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSBvbmNlIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgb25jZSkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gMDsgfVxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxuICAgICAgICAvKiogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi4gKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLiAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqIGB0cnVlYCBpZiB0aGlzIGxpc3RlbmVyIGhhcyBiZWVuIGRlc3Ryb3llZCBhbHJlYWR5LiAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGxpc3RlbmVyIG1hdGNoIHRoZSBhcmd1bWVudHNcbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5mbiA9PT0gZm4gJiYgdGhpcy5jb250ZXh0ID09PSBjb250ZXh0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW1pdCBieSBjYWxsaW5nIHRoZSBjdXJyZW50IGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAgICAgKiBAcmV0dXJucyBOZXh0IHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICBpZiAodGhpcy5mbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuICAgICAgICBpZiAodGhpcy5vbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29mdC1kZXN0cm95aW5nIHNob3VsZCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBwcmV2aW91cyAtIElucHV0IG5vZGUsIHByZXZpb3VzIGxpc3RlbmVyXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAocHJldmlvdXMpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMubmV4dCkge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dC5wcmV2aW91cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICAgICAgcHJldmlvdXMubmV4dCA9IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBoYXJkIC0gYHRydWVgIHRvIHJlbW92ZSB0aGUgYG5leHRgIHJlZmVyZW5jZSwgdGhpc1xuICAgICAqICAgICAgICBpcyBjb25zaWRlcmVkIGEgaGFyZCBkZXN0cm95LiBTb2Z0IGRlc3Ryb3kgbWFpbnRhaW5zIHRoZSBuZXh0IHJlZmVyZW5jZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgbGlzdGVuZXIgdG8gcmVkaXJlY3Qgd2hpbGUgZW1pdHRpbmcgb3IgcmVtb3ZpbmcuXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoaGFyZCkge1xuICAgICAgICBpZiAoaGFyZCA9PT0gdm9pZCAwKSB7IGhhcmQgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmZuID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gdGhlIG5leHQgaXRlbVxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG4gICAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcbiAgICByZXR1cm4gVGlja2VyTGlzdGVuZXI7XG59KCkpO1xuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgY29tcG9zZWQgYXJvdW5kIGxpc3RlbmVycyBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSwgZS5nLiBXaGVuIHRoZSB0aWNrZXIgaXMgc3RhcnRlZCBhbmQgdGhlIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHdoZW4gYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU2NhbGVzIHRpY2tlci5kZWx0YVRpbWUgdG8gd2hhdCB3b3VsZCBiZVxuICAgICAgICAgKiAvLyB0aGUgZXF1aXZhbGVudCBvZiBhcHByb3hpbWF0ZWx5IDEyMCBGUFNcbiAgICAgICAgICogdGlja2VyLnNwZWVkID0gMjtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZC5cbiAgICAgICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAgICAgKiBhbmQgYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAvKiogSW50ZXJuYWwgY3VycmVudCBmcmFtZSByZXF1ZXN0IElEICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1pbkZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1pbkZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWluaW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICAvKiogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuKi9cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKiBUaGUgbGFzdCB0aW1lIGtleWZyYW1lIHdhcyBleGVjdXRlZC4gTWFpbnRhaW5zIGEgcmVsYXRpdmVseSBmaXhlZCBpbnRlcnZhbCB3aXRoIHRoZSBwcmV2aW91cyB2YWx1ZS4gKi9cbiAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gLTE7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBuZXcgVGlja2VyTGlzdGVuZXIobnVsbCwgbnVsbCwgSW5maW5pdHkpO1xuICAgICAgICB0aGlzLmRlbHRhTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkICYmIF90aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgX3RoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLl90aWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsXG4gICAgICogZW1pdHRlciBoYXMgbGlzdGVuZXJzLCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IGNhbmNlbHMgYSBwZW5kaW5nIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX2NhbmNlbElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAgICAgKiBpdCBpcyByZW1vdmVkIG9yIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC5cbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIHVwZGF0ZXNcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCwgcHJpb3JpdHkpIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWxseSBhZGRzIHRoZSBldmVudCBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNvcnRlZCBieSBwcmlvcml0eS5cbiAgICAgKiBQcmlvcml0eSBhbGxvd3MgY2VydGFpbiBoYW5kbGVyICh1c2VyLCBBbmltYXRlZFNwcml0ZSwgSW50ZXJhY3Rpb24pIHRvIGJlIHJ1blxuICAgICAqIGJlZm9yZSB0aGUgcmVuZGVyaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAgICAgKiBAcmV0dXJucyBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90IHlldCBjb25uZWN0ZWRcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFueSBoYW5kbGVycyBtYXRjaGluZyB0aGUgZnVuY3Rpb24gYW5kIGNvbnRleHQgcGFyYW1ldGVycy5cbiAgICAgKiBJZiBubyBoYW5kbGVycyBhcmUgbGVmdCBhZnRlciByZW1vdmluZywgdGhlbiBpdCBjYW5jZWxzIHRoZSBhbmltYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwiY291bnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgb24gdGhpcyB0aWNrZXIsIGNhbGN1bGF0ZWQgYnkgd2Fsa2luZyB0aHJvdWdoIGxpbmtlZCBsaXN0XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faGVhZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZDtcbiAgICAgICAgICAgIHdoaWxlICgoY3VycmVudCA9IGN1cnJlbnQubmV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIFN0YXJ0cyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyBsaXN0ZW5lcnMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LiAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBTdG9wcyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyByZXF1ZXN0ZWQgYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nIHRoaXMgbWV0aG9kIHJlbW92ZXMgYWxsIHJlZmVyZW5jZXMgdG8gaW50ZXJuYWwgZXZlbnRzLiAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGVhZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2VsYXBzZWRNU30sXG4gICAgICogdGhlIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICAgICAqIGFuZCB0aGVuIGZpbmFsbHkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjdXJyZW50VGltZT1wZXJmb3JtYW5jZS5ub3coKV0gLSB0aGUgY3VycmVudCB0aW1lIG9mIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIGlmIChjdXJyZW50VGltZSA9PT0gdm9pZCAwKSB7IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7IH1cbiAgICAgICAgdmFyIGVsYXBzZWRNUztcbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICAgICAgLy8gY2FwIHRoZSBtaWxsaXNlY29uZHMgZWxhcHNlZCB1c2VkIGZvciBkZWx0YVRpbWVcbiAgICAgICAgICAgIGlmIChlbGFwc2VkTVMgPiB0aGlzLl9tYXhFbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGFwc2VkTVMgKj0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vIElmIG5vdCBlbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBleGl0IHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICAgIC8vIEdldCByZWFkeSBmb3IgbmV4dCBmcmFtZSBieSBzZXR0aW5nIF9sYXN0RnJhbWUsIGJ1dCBiYXNlZCBvbiBfbWluRWxhcHNlZE1TXG4gICAgICAgICAgICAvLyBhZGp1c3RtZW50IHRvIGVuc3VyZSBhIHJlbGF0aXZlbHkgc3RhYmxlIGludGVydmFsLlxuICAgICAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fbGFzdEZyYW1lIHwgMDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCB0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSBjdXJyZW50VGltZSAtIChkZWx0YSAlIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbHRhTVMgPSBlbGFwc2VkTVM7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyAqIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAgICAgLy8gQ2FjaGUgYSBsb2NhbCByZWZlcmVuY2UsIGluLWNhc2UgdGlja2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gZHVyaW5nIHRoZSBlbWl0LCB3ZSBjYW4gc3RpbGwgY2hlY2sgZm9yIGhlYWQubmV4dFxuICAgICAgICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgPSB0aGlzLmVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwiRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFtZXMgcGVyIHNlY29uZCBhdCB3aGljaCB0aGlzIHRpY2tlciBpcyBydW5uaW5nLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhpcyBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHZhbHVlIG9mXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gICAgICAgICAqIHRvIHNjYWxpbmcge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5lbGFwc2VkTVM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJtaW5GUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIGFsbG93ZWQgdG9cbiAgICAgICAgICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0uXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgdXNlZCB0byBjYXAge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICAgICAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICAgICAgICAgKiBXaGVuIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpcyBjbGFtcGVkIHRvIGEgdmFsdWUgYmV0d2VlblxuICAgICAgICAgKiBgMGAgYW5kIGBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TICogMTAwMGAuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZwcykge1xuICAgICAgICAgICAgLy8gTWluaW11bSBtdXN0IGJlIGJlbG93IHRoZSBtYXhGUFNcbiAgICAgICAgICAgIHZhciBtaW5GUFMgPSBNYXRoLm1pbih0aGlzLm1heEZQUywgZnBzKTtcbiAgICAgICAgICAgIC8vIE11c3QgYmUgYXQgbGVhc3QgMCwgYnV0IGJlbG93IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNU1xuICAgICAgICAgICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBtaW5GUFMpIC8gMTAwMCwgc2V0dGluZ3MuVEFSR0VUX0ZQTVMpO1xuICAgICAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJtYXhGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWluaW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHJlcXVpcmVkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHdpbGwgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogSWYgaXQgaXMgc2V0IHRvIGAwYCwgdGhlbiB0aGVyZSBpcyBubyBsaW1pdDsgUGl4aUpTIHdpbGwgcmVuZGVyIGFzIG1hbnkgZnJhbWVzIGFzIGl0IGNhbi5cbiAgICAgICAgICogT3RoZXJ3aXNlIGl0IHdpbGwgYmUgYXQgbGVhc3QgYG1pbkZQU2BcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgxMDAwIC8gdGhpcy5fbWluRWxhcHNlZE1TKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIGlmIChmcHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTWF4IG11c3QgYmUgYXQgbGVhc3QgdGhlIG1pbkZQU1xuICAgICAgICAgICAgICAgIHZhciBtYXhGUFMgPSBNYXRoLm1heCh0aGlzLm1pbkZQUywgZnBzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAxIC8gKG1heEZQUyAvIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX0gYW5kIGJ5XG4gICAgICAgICAqIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9IHRvIHVwZGF0ZSBhbmltYXRpb24gZnJhbWVzIC8gdmlkZW8gdGV4dHVyZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IG1heSBhbHNvIGJlIHVzZWQgYnkge0BsaW5rIFBJWEkuQXBwbGljYXRpb259IGlmIGNyZWF0ZWQgd2l0aCB0aGUgYHNoYXJlZFRpY2tlcmAgb3B0aW9uIHByb3BlcnR5IHNldCB0byB0cnVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICogUGxlYXNlIGZvbGxvdyB0aGUgZXhhbXBsZXMgZm9yIHVzYWdlLCBpbmNsdWRpbmcgaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogbGV0IHRpY2tlciA9IFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICogLy8gU2V0IHRoaXMgdG8gcHJldmVudCBzdGFydGluZyB0aGlzIHRpY2tlciB3aGVuIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICAgICAqIC8vIEJ5IGRlZmF1bHQgdGhpcyBpcyB0cnVlIG9ubHkgZm9yIHRoZSBQSVhJLlRpY2tlci5zaGFyZWQgaW5zdGFuY2UuXG4gICAgICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICogLy8gRllJLCBjYWxsIHRoaXMgdG8gZW5zdXJlIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC4gSXQgc2hvdWxkIGJlIHN0b3BwZWRcbiAgICAgICAgICogLy8gaWYgeW91IGhhdmUgbm90IGF0dGVtcHRlZCB0byByZW5kZXIgYW55dGhpbmcgeWV0LlxuICAgICAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAgICAgKiAvLyBDYWxsIHRoaXMgd2hlbiB5b3UgYXJlIHJlYWR5IGZvciBhIHJ1bm5pbmcgc2hhcmVkIHRpY2tlci5cbiAgICAgICAgICogdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFlvdSBtYXkgdXNlIHRoZSBzaGFyZWQgdGlja2VyIHRvIHJlbmRlci4uLlxuICAgICAgICAgKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICAgICAgICAgKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci52aWV3KTtcbiAgICAgICAgICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIE9yIHlvdSBjYW4ganVzdCB1cGRhdGUgaXQgbWFudWFsbHkuXG4gICAgICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgICAgICogZnVuY3Rpb24gYW5pbWF0ZSh0aW1lKSB7XG4gICAgICAgICAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICAgICAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgICAgICogICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICogfVxuICAgICAgICAgKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3NoYXJlZCkge1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZWQgPSBUaWNrZXIuX3NoYXJlZCA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zaGFyZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLCBcInN5c3RlbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3lzdGVtIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlcn0gYW5kIGJ5XG4gICAgICAgICAqIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSBmb3IgY29yZSB0aW1pbmcgZnVuY3Rpb25hbGl0eSB0aGF0IHNob3VsZG4ndCB1c3VhbGx5IG5lZWQgdG8gYmUgcGF1c2VkLFxuICAgICAgICAgKiB1bmxpa2UgdGhlIGBzaGFyZWRgIHRpY2tlciB3aGljaCBkcml2ZXMgdmlzdWFsIGFuaW1hdGlvbnMgYW5kIHJlbmRlcmluZyB3aGljaCBtYXkgd2FudCB0byBiZSBwYXVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIVRpY2tlci5fc3lzdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IFRpY2tlci5fc3lzdGVtID0gbmV3IFRpY2tlcigpO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUaWNrZXIuX3N5c3RlbTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUaWNrZXI7XG59KCkpO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbiBUaWNrZXIuXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtUaWNrZXJQbHVnaW59IGZyb20gJ0BwaXhpL3RpY2tlcic7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogaW1wb3J0IHtleHRlbnNpb25zfSBmcm9tICdAcGl4aS9leHRlbnNpb25zJztcbiAqIGV4dGVuc2lvbnMuYWRkKFRpY2tlclBsdWdpbik7XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXJQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGlja2VyUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFRpY2tlclBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIENyZWF0ZSB0aWNrZXIgc2V0dGVyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndGlja2VyJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlja2VyLmFkZCh0aGlzLnJlbmRlciwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdGFydGluZyB0aGUgcmVuZGVyLlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byB0aGUgdGlja2VyLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIF90aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAbmFtZSB0aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IFRpY2tlci5zaGFyZWQgOiBuZXcgVGlja2VyKCk7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZW5kZXJpbmdcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvbi5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgdmFyIG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcbiAgICAgICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgVGlja2VyUGx1Z2luLmV4dGVuc2lvbiA9IEV4dGVuc2lvblR5cGUuQXBwbGljYXRpb247XG4gICAgcmV0dXJuIFRpY2tlclBsdWdpbjtcbn0oKSk7XG5cbmV4cG9ydCB7IFRpY2tlciwgVGlja2VyUGx1Z2luLCBVUERBVEVfUFJJT1JJVFkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpY2tlci5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3J1bm5lciAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9ydW5uZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIEEgUnVubmVyIGlzIGEgaGlnaGx5IHBlcmZvcm1hbnQgYW5kIHNpbXBsZSBhbHRlcm5hdGl2ZSB0byBzaWduYWxzLiBCZXN0IHVzZWQgaW4gc2l0dWF0aW9uc1xuICogd2hlcmUgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIHRvIG1hbnkgb2JqZWN0cyBhdCBoaWdoIGZyZXF1ZW5jeSAoc2F5IGV2ZXJ5IGZyYW1lISlcbiAqXG4gKlxuICogbGlrZSBhIHNpZ25hbC4uXG4gKiBgYGBcbiAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gKlxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUnVubmVyKCdsb2FkZWQnKVxuICogfVxuICpcbiAqIGNvbnN0IGxpc3RlbmVyID0ge1xuICogICAgIGxvYWRlZDogZnVuY3Rpb24oKXtcbiAqICAgICAgICAgLy8gdGhpblxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuYWRkKGxpc3RlbmVyKTtcbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuZW1pdCgpO1xuICogYGBgXG4gKlxuICogT3IgZm9yIGhhbmRsaW5nIGNhbGxpbmcgdGhlIHNhbWUgZnVuY3Rpb24gb24gbWFueSBpdGVtc1xuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpXG4gKiB9XG4gKlxuICogY29uc3QgZ2FtZU9iamVjdCA9IHtcbiAqICAgICB1cGRhdGU6IGZ1bmN0aW9uKHRpbWUpe1xuICogICAgICAgICAvLyB1cGRhdGUgbXkgZ2FtZXkgc3RhdGVcbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5hZGQoZ2FtZU9iamVjdCk7XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5lbWl0KHRpbWUpO1xuICogYGBgXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUnVubmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIGZ1bmN0aW9uIG5hbWUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhpcyBSdW5uZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUnVubmVyKG5hbWUpIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgfVxuICAgIC8qIGVzbGludC1kaXNhYmxlIGpzZG9jL3JlcXVpcmUtcGFyYW0sIGpzZG9jL2NoZWNrLXBhcmFtLW5hbWVzICovXG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2gvQnJvYWRjYXN0IFJ1bm5lciB0byBhbGwgbGlzdGVuZXJzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gey4uLmFueX0gcGFyYW1zIC0gKG9wdGlvbmFsKSBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gZWFjaCBsaXN0ZW5lclxuICAgICAqL1xuICAgIC8qICBlc2xpbnQtZW5hYmxlIGpzZG9jL3JlcXVpcmUtcGFyYW0sIGpzZG9jL2NoZWNrLXBhcmFtLW5hbWVzICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF4IGFyZ3VtZW50cyByZWFjaGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgbmFtZSA9IF9hLm5hbWUsIGl0ZW1zID0gX2EuaXRlbXM7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQrKztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtc1tpXVtuYW1lXShhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtcyA9PT0gdGhpcy5pdGVtcykge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUnVubmVyLnByb3RvdHlwZS5lbnN1cmVOb25BbGlhc2VkSXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbGlhc0NvdW50ID4gMCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSBSdW5uZXJcbiAgICAgKlxuICAgICAqIFJ1bm5lcnMgZG8gbm90IG5lZWQgdG8gaGF2ZSBzY29wZSBvciBmdW5jdGlvbnMgcGFzc2VkIHRvIHRoZW0uXG4gICAgICogQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdG8gcGFzcyB0aGUgbGlzdGVuaW5nIG9iamVjdCBhbmQgZW5zdXJlIHRoYXQgaXQgaGFzIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZVxuICAgICAqIGFzIHRoZSBuYW1lIHByb3ZpZGVkIHRvIHRoZSBSdW5uZXIgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEVnIEEgbGlzdGVuZXIgcGFzc2VkIHRvIHRoaXMgUnVubmVyIHdpbGwgcmVxdWlyZSBhICdjb21wbGV0ZScgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICAgICAqXG4gICAgICogY29uc3QgY29tcGxldGUgPSBuZXcgUnVubmVyKCdjb21wbGV0ZScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlIHNjb3BlIHVzZWQgd2lsbCBiZSB0aGUgb2JqZWN0IGl0c2VsZi5cbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIGxpc3RlbmluZy5cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtW3RoaXMuX25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgbGlzdGVuZXIgZnJvbSB0aGUgZGlzcGF0Y2ggcXVldWUuXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuZXIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZW1vdmUuXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFscmVhZHkgaW4gdGhlIFJ1bm5lclxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbmVyIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gY2hlY2suXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkgIT09IC0xO1xuICAgIH07XG4gICAgLyoqIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZyb20gdGhlIFJ1bm5lciAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICB0aGlzLml0ZW1zLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqIFJlbW92ZSBhbGwgcmVmZXJlbmNlcywgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUnVubmVyLnByb3RvdHlwZSwgXCJlbXB0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlcmUgYXJlIG5vIHRoaXMgUnVubmVyIGNvbnRhaW5zIG5vIGxpc3RlbmVyc1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwibmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcnVubmVyLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUnVubmVyO1xufSgpKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJ1bm5lci5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgZGlzcGF0Y2hcbiAgICAgKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAgICAgKi9cbiAgICBkaXNwYXRjaDogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBlbWl0YFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIHJ1bjogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG59KTtcblxuZXhwb3J0IHsgUnVubmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5uZXIubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb3JlIC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL2NvcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEVOViwgQUxQSEFfTU9ERVMsIFNDQUxFX01PREVTLCBGT1JNQVRTLCBUWVBFUywgVEFSR0VUUywgTUlQTUFQX01PREVTLCBNU0FBX1FVQUxJVFksIEJVRkZFUl9UWVBFLCBDTEVBUl9NT0RFUywgRFJBV19NT0RFUywgQlVGRkVSX0JJVFMsIE1BU0tfVFlQRVMsIFBSRUNJU0lPTiwgQkxFTkRfTU9ERVMsIEdDX01PREVTLCBTQU1QTEVSX1RZUEVTLCBXUkFQX01PREVTLCBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzTW9iaWxlLCBpc1BvdzIsIEJhc2VUZXh0dXJlQ2FjaGUsIFRleHR1cmVDYWNoZSwgdWlkLCBFdmVudEVtaXR0ZXIsIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGRlcHJlY2F0aW9uLCBuZXh0UG93MiwgZ2V0QnVmZmVyVHlwZSwgUHJvZ3JhbUNhY2hlLCByZW1vdmVJdGVtcywgaGV4MnN0cmluZywgaGV4MnJnYiwgc2F5SGVsbG8sIGlzV2ViR0xTdXBwb3J0ZWQsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBsb2cyLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBleHRlbnNpb25zIGFzIGV4dGVuc2lvbnMkMSwgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJ0BwaXhpL2V4dGVuc2lvbnMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IGdyb3VwRDgsIFJlY3RhbmdsZSwgUG9pbnQsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHN1cHBvcnQgZm9yIHVzaW5nIFdlYkdMLiBJZiBhIGRldmljZSBkb2VzIG5vdFxuICogc3VwcG9ydCBXZWJHTCB2ZXJzaW9uLCBmb3IgaW5zdGFuY2UgV2ViR0wgMiwgaXQgd2lsbCBzdGlsbFxuICogYXR0ZW1wdCB0byBmYWxsYmFjayBzdXBwb3J0IHRvIFdlYkdMIDEuIElmIHlvdSB3YW50IHRvXG4gKiBleHBsaWNpdGx5IHJlbW92ZSBmZWF0dXJlIHN1cHBvcnQgdG8gdGFyZ2V0IGEgbW9yZSBzdGFibGVcbiAqIGJhc2VsaW5lLCBwcmVmZXIgYSBsb3dlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBEdWUgdG8ge0BsaW5rIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkzNDgyM3xidWcgaW4gY2hyb21pdW19XG4gKiB3ZSBkaXNhYmxlIHdlYmdsMiBieSBkZWZhdWx0IGZvciBhbGwgbm9uLWFwcGxlIG1vYmlsZSBkZXZpY2VzLlxuICogQHN0YXRpY1xuICogQG5hbWUgUFJFRkVSX0VOVlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCBQSVhJLkVOVi5XRUJHTDJcbiAqL1xuc2V0dGluZ3MuUFJFRkVSX0VOViA9IGlzTW9iaWxlLmFueSA/IEVOVi5XRUJHTCA6IEVOVi5XRUJHTDI7XG4vKipcbiAqIElmIHNldCB0byBgdHJ1ZWAsICpvbmx5KiBUZXh0dXJlcyBhbmQgQmFzZVRleHR1cmUgb2JqZWN0cyBzdG9yZWRcbiAqIGluIHRoZSBjYWNoZXMgKHtAbGluayBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZSBUZXh0dXJlQ2FjaGV9IGFuZFxuICoge0BsaW5rIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZSBCYXNlVGV4dHVyZUNhY2hlfSkgY2FuIGJlXG4gKiB1c2VkIHdoZW4gY2FsbGluZyB7QGxpbmsgUElYSS5UZXh0dXJlLmZyb20gVGV4dHVyZS5mcm9tfSBvclxuICoge0BsaW5rIFBJWEkuQmFzZVRleHR1cmUuZnJvbSBCYXNlVGV4dHVyZS5mcm9tfS5cbiAqIE90aGVyd2lzZSwgdGhlc2UgYGZyb21gIGNhbGxzIHRocm93IGFuIGV4Y2VwdGlvbi4gVXNpbmcgdGhpcyBwcm9wZXJ0eVxuICogY2FuIGJlIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBlbmZvcmNlIHByZWxvYWRpbmcgYWxsIGFzc2V0cyB3aXRoXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfS5cbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNUUklDVF9URVhUVVJFX0NBQ0hFXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRSA9IGZhbHNlO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHJlc291cmNlIHR5cGVzLCBjbGFzcyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5SZXNvdXJjZX0uXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgQ3VzdG9tUmVzb3VyY2UgZXh0ZW5kcyBQSVhJLlJlc291cmNlIHtcbiAqICAgLy8gTVVTVCBoYXZlIHNvdXJjZSwgb3B0aW9ucyBjb25zdHJ1Y3RvciBzaWduYXR1cmVcbiAqICAgLy8gZm9yIGF1dG8tZGV0ZWN0ZWQgcmVzb3VyY2VzIHRvIGJlIGNyZWF0ZWQuXG4gKiAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucykge1xuICogICAgIHN1cGVyKCk7XG4gKiAgIH1cbiAqICAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gKiAgICAgLy8gdXBsb2FkIHdpdGggR0xcbiAqICAgICByZXR1cm4gdHJ1ZTtcbiAqICAgfVxuICogICAvLyB1c2VkIHRvIGF1dG8tZGV0ZWN0IHJlc291cmNlXG4gKiAgIHN0YXRpYyB0ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSB7XG4gKiAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ3h5eid8fCBzb3VyY2UgaW5zdGFuY2VvZiBTb21lQ2xhc3M7XG4gKiAgIH1cbiAqIH1cbiAqIC8vIEluc3RhbGwgdGhlIG5ldyByZXNvdXJjZSB0eXBlXG4gKiBQSVhJLklOU1RBTExFRC5wdXNoKEN1c3RvbVJlc291cmNlKTtcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7QXJyYXk8UElYSS5JUmVzb3VyY2VQbHVnaW4+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbnZhciBJTlNUQUxMRUQgPSBbXTtcbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5DYW52YXNSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLkJ1ZmZlclJlc291cmNlfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlLiBPdmVycmlkZGVuIGJ5IHdpZHRoLCBoZWlnaHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSBJbWFnZSBvcHRpb24gdG8gY3JlYXRlIEJpdG1hcCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBJbWFnZSBhbmQgVmlkZW8gb3B0aW9uIHRvIHNldCBjcm9zc09yaWdpblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFZpZGVvIG9wdGlvbiB0byBzdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gVmlkZW8gb3B0aW9uIHRvIHVwZGF0ZSBob3cgbWFueSB0aW1lcyBhIHNlY29uZCB0aGVcbiAqICAgICAgICB0ZXh0dXJlIHNob3VsZCBiZSB1cGRhdGVkIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXJcbiAqIEByZXR1cm5zIHtQSVhJLlJlc291cmNlfSBUaGUgY3JlYXRlZCByZXNvdXJjZS5cbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZXh0ZW5zaW9uID0gJyc7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIHNlYXJjaCBmb3IgZmlsZSBleHRlbnNpb246IHBlcmlvZCwgMy00IGNoYXJzLCB0aGVuID8sICMgb3IgRU9MXG4gICAgICAgIHZhciByZXN1bHQgPSAoL1xcLihcXHd7Myw0fSkoPzokfFxcP3wjKS9pKS5leGVjKHNvdXJjZSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSBJTlNUQUxMRUQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIFJlc291cmNlUGx1Z2luID0gSU5TVEFMTEVEW2ldO1xuICAgICAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIHNvdXJjZSB0eXBlIHRvIGF1dG8tZGV0ZWN0IFJlc291cmNlJyk7XG59XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50cyQxW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgeyB0W3BdID0gc1twXTsgfSB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHsgdFtwXSA9IHNbcF07IH0gfVxyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIHsgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB7IHRbcFtpXV0gPSBzW3BbaV1dOyB9XHJcbiAgICAgICAgfSB9XHJcbiAgICByZXR1cm4gdDtcclxufVxuXG4vKipcbiAqIEJhc2UgcmVzb3VyY2UgY2xhc3MgZm9yIHRleHR1cmVzIHRoYXQgbWFuYWdlcyB2YWxpZGF0aW9uIGFuZCB1cGxvYWRpbmcsIGRlcGVuZGluZyBvbiBpdHMgdHlwZS5cbiAqXG4gKiBVcGxvYWRpbmcgb2YgYSBiYXNlIHRleHR1cmUgdG8gdGhlIEdQVSBpcyByZXF1aXJlZC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc291cmNlKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gbmV3IFJ1bm5lcignc2V0UmVhbFNpemUnKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG5ldyBSdW5uZXIoJ3VwZGF0ZScpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgUnVubmVyKCdvbkVycm9yJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKiBAcGFyYW0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgICAgICAvLyBoYXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLmVtaXQodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuYmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqIEBwYXJhbSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGEgcmVzaXplIGV2ZW50XG4gICAgICogQHBhcmFtIHdpZHRoIC0gWCBkaW1lbnNpb25cbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gWSBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUuZW1pdCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ2YWxpZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXMgYmVlbiB2YWxpZGF0ZWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIEhhcyBiZWVuIHVwZGF0ZWQgdHJpZ2dlciBldmVudC4gKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLmVtaXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBzdGFydCBwcmVsb2FkaW5nIGEgcmVzb3VyY2VcbiAgICAgKiBvciBkbyBhbnkgb3RoZXIgcHJlcGFyZSBzdGVwLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJucyBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZS5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHN0eWxlLCBvcHRpb25hbCB0byBvdmVycmlkZVxuICAgICAqIEBwYXJhbSBfcmVuZGVyZXIgLSB5ZWFoLCByZW5kZXJlciFcbiAgICAgKiBAcGFyYW0gX2Jhc2VUZXh0dXJlIC0gdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0gX2dsVGV4dHVyZSAtIHRleHR1cmUgaW5zdGFuY2UgZm9yIHRoaXMgd2ViZ2wgY29udGV4dFxuICAgICAqIEByZXR1cm5zIC0gYHRydWVgIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbiAoX3JlbmRlcmVyLCBfYmFzZVRleHR1cmUsIF9nbFRleHR1cmUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LiAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBvdmVycmlkZVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gICAgICogYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFzIHJlZmVyZW5jZSBjb3VudHMgYXJlIG1haW50YWluZWRcbiAgICAgKiBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFic3RyYWN0LCB1c2VkIHRvIGF1dG8tZGV0ZWN0IHJlc291cmNlIHR5cGUuXG4gICAgICogQHBhcmFtIHsqfSBfc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gX2V4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKF9zb3VyY2UsIF9leHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc291cmNlO1xufSgpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNoYXJlZEFycmF5QnVmZmVyXG4gKi9cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCdWZmZXJSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnVmZmVyUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFNvdXJjZSBidWZmZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVmZmVyUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlclJlc291cmNlIHdpZHRoIG9yIGhlaWdodCBpbnZhbGlkJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kYXRhID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0gZ2xUZXh0dXJlIC0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMgLSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcbiAgICAgICAgdmFyIHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgd2lkdGgsIGhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKiogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuICovXG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIDxjYW52YXM+XG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDMyQXJyYXk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbnZhciBkZWZhdWx0QnVmZmVyT3B0aW9ucyA9IHtcbiAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgZm9ybWF0OiBGT1JNQVRTLlJHQkEsXG4gICAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OUE0sXG59O1xuLyoqXG4gKiBBIFRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2UuXG4gKiBBbGwgdGV4dHVyZXMgaGF2ZSBhIGJhc2UgdGV4dHVyZSwgd2hpY2ggY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZS5cbiAqIFRoZXJlZm9yZSB5b3UgY2FuIGhhdmUgbWFueSB0ZXh0dXJlcyBhbGwgdXNpbmcgYSBzaW5nbGUgQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZVBhcmFtIFIgLSBUaGUgQmFzZVRleHR1cmUncyBSZXNvdXJjZSB0eXBlLlxuICogQHR5cGVQYXJhbSBSTyAtIFRoZSBvcHRpb25zIGZvciBjb25zdHJ1Y3RpbmcgcmVzb3VyY2UuXG4gKi9cbnZhciBCYXNlVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVRleHR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlc291cmNlfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtyZXNvdXJjZT1udWxsXSAtXG4gICAgICogICAgICAgIFRoZSBjdXJyZW50IHJlc291cmNlIHRvIHVzZSwgZm9yIHRoaW5ncyB0aGF0IGFyZW4ndCBSZXNvdXJjZSBvYmplY3RzLCB3aWxsIGJlIGNvbnZlcnRlZFxuICAgICAqICAgICAgICBpbnRvIGEgUmVzb3VyY2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1BJWEkuTUlQTUFQX01PREVTfSBbb3B0aW9ucy5taXBtYXA9UElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNdIC0gSWYgbWlwbWFwcGluZyBpcyBlbmFibGVkIGZvciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5XUkFQX01PREVTfSBbb3B0aW9ucy53cmFwTW9kZT1QSVhJLnNldHRpbmdzLldSQVBfTU9ERV0gLSBXcmFwIG1vZGUgZm9yIHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIERlZmF1bHQgc2NhbGUgbW9kZSwgbGluZWFyLCBuZWFyZXN0XG4gICAgICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICAgICAqIEBwYXJhbSB7UElYSS5UWVBFU30gW29wdGlvbnMudHlwZT1QSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVdIC0gR0wgZGF0YSB0eXBlXG4gICAgICogQHBhcmFtIHtQSVhJLlRBUkdFVFN9IFtvcHRpb25zLnRhcmdldD1QSVhJLlRBUkdFVFMuVEVYVFVSRV8yRF0gLSBHTCB0ZXh0dXJlIHRhcmdldFxuICAgICAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MF0gLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLlJFU09MVVRJT05dIC0gUmVzb2x1dGlvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnJlc291cmNlT3B0aW9uc10gLSBPcHRpb25hbCByZXNvdXJjZSBvcHRpb25zLFxuICAgICAqICAgICAgICBzZWUge0BsaW5rIFBJWEkuYXV0b0RldGVjdFJlc291cmNlIGF1dG9EZXRlY3RSZXNvdXJjZX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlVGV4dHVyZShyZXNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAocmVzb3VyY2UgPT09IHZvaWQgMCkgeyByZXNvdXJjZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gbnVsbDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGFscGhhTW9kZSA9IG9wdGlvbnMuYWxwaGFNb2RlLCBtaXBtYXAgPSBvcHRpb25zLm1pcG1hcCwgYW5pc290cm9waWNMZXZlbCA9IG9wdGlvbnMuYW5pc290cm9waWNMZXZlbCwgc2NhbGVNb2RlID0gb3B0aW9ucy5zY2FsZU1vZGUsIHdpZHRoID0gb3B0aW9ucy53aWR0aCwgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQsIHdyYXBNb2RlID0gb3B0aW9ucy53cmFwTW9kZSwgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQsIHR5cGUgPSBvcHRpb25zLnR5cGUsIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0LCByZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uLCByZXNvdXJjZU9wdGlvbnMgPSBvcHRpb25zLnJlc291cmNlT3B0aW9ucztcbiAgICAgICAgLy8gQ29udmVydCB0aGUgcmVzb3VyY2UgdG8gYSBSZXNvdXJjZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlICYmICEocmVzb3VyY2UgaW5zdGFuY2VvZiBSZXNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJlc291cmNlID0gYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlLCByZXNvdXJjZU9wdGlvbnMpO1xuICAgICAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIF90aGlzLndpZHRoID0gTWF0aC5yb3VuZCgod2lkdGggfHwgMCkgKiBfdGhpcy5yZXNvbHV0aW9uKSAvIF90aGlzLnJlc29sdXRpb247XG4gICAgICAgIF90aGlzLmhlaWdodCA9IE1hdGgucm91bmQoKGhlaWdodCB8fCAwKSAqIF90aGlzLnJlc29sdXRpb24pIC8gX3RoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgX3RoaXMuX21pcG1hcCA9IG1pcG1hcCAhPT0gdW5kZWZpbmVkID8gbWlwbWFwIDogc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTO1xuICAgICAgICBfdGhpcy5hbmlzb3Ryb3BpY0xldmVsID0gYW5pc290cm9waWNMZXZlbCAhPT0gdW5kZWZpbmVkID8gYW5pc290cm9waWNMZXZlbCA6IHNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMO1xuICAgICAgICBfdGhpcy5fd3JhcE1vZGUgPSB3cmFwTW9kZSB8fCBzZXR0aW5ncy5XUkFQX01PREU7XG4gICAgICAgIF90aGlzLl9zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IHNldHRpbmdzLlNDQUxFX01PREU7XG4gICAgICAgIF90aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBGT1JNQVRTLlJHQkE7XG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlIHx8IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgIF90aGlzLnRhcmdldCA9IHRhcmdldCB8fCBUQVJHRVRTLlRFWFRVUkVfMkQ7XG4gICAgICAgIF90aGlzLmFscGhhTW9kZSA9IGFscGhhTW9kZSAhPT0gdW5kZWZpbmVkID8gYWxwaGFNb2RlIDogQUxQSEFfTU9ERVMuVU5QQUNLO1xuICAgICAgICBfdGhpcy51aWQgPSB1aWQoKTtcbiAgICAgICAgX3RoaXMudG91Y2hlZCA9IDA7XG4gICAgICAgIF90aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICBfdGhpcy5fZ2xUZXh0dXJlcyA9IHt9O1xuICAgICAgICBfdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgX3RoaXMuZGlydHlTdHlsZUlkID0gMDtcbiAgICAgICAgX3RoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIF90aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgICAgICBfdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICBfdGhpcy5fYmF0Y2hFbmFibGVkID0gMDtcbiAgICAgICAgX3RoaXMuX2JhdGNoTG9jYXRpb24gPSAwO1xuICAgICAgICBfdGhpcy5wYXJlbnRUZXh0dXJlQXJyYXkgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBMb2FkIGVycm9yIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvLyBTZXQgdGhlIHJlc291cmNlXG4gICAgICAgIF90aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVRleHR1cmUucHJvdG90eXBlLCBcInJlYWxXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaXhlbCB3aWR0aCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVRleHR1cmUucHJvdG90eXBlLCBcInJlYWxIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUGl4ZWwgaGVpZ2h0IG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVRleHR1cmUucHJvdG90eXBlLCBcIm1pcG1hcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaXBtYXAgbW9kZSBvZiB0aGUgdGV4dHVyZSwgYWZmZWN0cyBkb3duc2NhbGVkIGltYWdlc1xuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWlwbWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pcG1hcCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taXBtYXAgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgXCJzY2FsZU1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIG1vZGUgdG8gYXBwbHkgd2hlbiBzY2FsaW5nIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlNDQUxFX01PREVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zY2FsZU1vZGUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2NhbGVNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlVGV4dHVyZS5wcm90b3R5cGUsIFwid3JhcE1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRoZSB0ZXh0dXJlIHdyYXBzXG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93cmFwTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93cmFwTW9kZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93cmFwTW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHN0eWxlIG9wdGlvbnMgb2YgQmFzZVRleHR1cmVcbiAgICAgKiBAcGFyYW0gc2NhbGVNb2RlIC0gUGl4aSBzY2FsZW1vZGVcbiAgICAgKiBAcGFyYW0gbWlwbWFwIC0gZW5hYmxlIG1pcG1hcHNcbiAgICAgKiBAcmV0dXJucyAtIHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAoc2NhbGVNb2RlLCBtaXBtYXApIHtcbiAgICAgICAgdmFyIGRpcnR5O1xuICAgICAgICBpZiAoc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgJiYgc2NhbGVNb2RlICE9PSB0aGlzLnNjYWxlTW9kZSkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGU7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pcG1hcCAhPT0gdW5kZWZpbmVkICYmIG1pcG1hcCAhPT0gdGhpcy5taXBtYXApIHtcbiAgICAgICAgICAgIHRoaXMubWlwbWFwID0gbWlwbWFwO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdy9oL3Jlc29sdXRpb24uIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFdpZHRoIC0gRGVzaXJlZCB2aXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0gZGVzaXJlZEhlaWdodCAtIERlc2lyZWQgdmlzdWFsIGhlaWdodFxuICAgICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIC0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKGRlc2lyZWRXaWR0aCwgZGVzaXJlZEhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICByZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHJldHVybiB0aGlzLnNldFJlYWxTaXplKGRlc2lyZWRXaWR0aCAqIHJlc29sdXRpb24sIGRlc2lyZWRIZWlnaHQgKiByZXNvbHV0aW9uLCByZXNvbHV0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgcmVhbCBzaXplIG9mIGJhc2VUZXh0dXJlLCBwcmVzZXJ2ZXMgY3VycmVudCByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSByZWFsV2lkdGggLSBGdWxsIHJlbmRlcmVkIHdpZHRoXG4gICAgICogQHBhcmFtIHJlYWxIZWlnaHQgLSBGdWxsIHJlbmRlcmVkIGhlaWdodFxuICAgICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIC0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZWFsU2l6ZSA9IGZ1bmN0aW9uIChyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLnJvdW5kKHJlYWxXaWR0aCkgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChyZWFsSGVpZ2h0KSAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2hlY2sgZm9yIGlzUG93ZXJPZlR3byB0ZXh0dXJlIGJhc2VkIG9uIHNpemVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fcmVmcmVzaFBPVCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBpc1BvdzIodGhpcy5yZWFsV2lkdGgpICYmIGlzUG93Mih0aGlzLnJlYWxIZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHJlc29sdXRpb24gLSByZXNcbiAgICAgKiBAcmV0dXJucyAtIHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBvbGRSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBpZiAob2xkUmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBNYXRoLnJvdW5kKHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXNvdXJjZSBpZiBpdCB3YXNuJ3Qgc2V0LiBUaHJvd3MgZXJyb3IgaWYgcmVzb3VyY2UgYWxyZWFkeSBwcmVzZW50XG4gICAgICogQHBhcmFtIHJlc291cmNlIC0gdGhhdCBpcyBtYW5hZ2luZyB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICogQHJldHVybnMgLSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlc291cmNlID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlID09PSByZXNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgY2FuIGJlIHNldCBvbmx5IG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvdXJjZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqIEludmFsaWRhdGVzIHRoZSBvYmplY3QuIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby4gKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCAmJiB0aGlzLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgZXJyb3JzIHdpdGggcmVzb3VyY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGV2ZW50IC0gRXJyb3IgZXZlbnQgZW1pdHRlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcywgZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmUuXG4gICAgICogVGhlIG1ldGhvZCBzdG9wcyBpZiByZXNvdXJjZSBkb2Vzbid0IHdhbnQgdGhpcyB0ZXh0dXJlIHRvIGJlIGRlc3Ryb3llZC5cbiAgICAgKiBSZW1vdmVzIHRleHR1cmUgZnJvbSBhbGwgY2FjaGVzLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZW1vdmUgYW5kIGRlc3Ryb3kgdGhlIHJlc291cmNlXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlLnVuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIC8vIG9ubHkgZGVzdHJveSByZXNvdXJjZWQgY3JlYXRlZCBpbnRlcm5hbGx5XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZS5pbnRlcm5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVJZCkge1xuICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmluYWxseSBsZXQgdGhlIFdlYkdMIHJlbmRlcmVyIGtub3cuLlxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNwb3NlJywgdGhpcyk7XG4gICAgfTtcbiAgICAvKiogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0LiAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5jYXN0VG9CYXNlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBpbWFnZSB1cmwsIGltYWdlIGVsZW1lbnQsIGNhbnZhcyBlbGVtZW50LiBJZiB0aGVcbiAgICAgKiBzb3VyY2UgaXMgYW4gaW1hZ2UgdXJsIG9yIGFuIGltYWdlIGVsZW1lbnQgYW5kIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogY2FjaGUsIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fFNWR0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gVGhlXG4gICAgICogICAgICAgIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBpeGlJZFByZWZpeD1waXhpaWRdIC0gSWYgYSBzb3VyY2UgaGFzIG5vIGlkLCB0aGlzIGlzIHRoZSBwcmVmaXggb2YgdGhlIGdlbmVyYXRlZCBpZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0KSB7XG4gICAgICAgIGlmIChzdHJpY3QgPT09IHZvaWQgMCkgeyBzdHJpY3QgPSBzZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRTsgfVxuICAgICAgICB2YXIgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXggPSAob3B0aW9ucyAmJiBvcHRpb25zLnBpeGlJZFByZWZpeCkgfHwgJ3BpeGlpZCc7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBwcmVmaXggKyBcIl9cIiArIHVpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IEJhc2VUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG4gICAgICAgIC8vIFN0cmljdC1tb2RlIHJlamVjdHMgaW52YWxpZCBjYWNoZUlkc1xuICAgICAgICBpZiAoaXNGcmFtZSAmJiBzdHJpY3QgJiYgIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY2FjaGVJZCBcXFwiXCIgKyBjYWNoZUlkICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIEJhc2VUZXh0dXJlQ2FjaGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXNlVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciAtIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogICAgICAgIERlZmF1bHQgcHJvcGVydGllcyBhcmUgZGlmZmVyZW50IGZyb20gdGhlIGNvbnN0cnVjdG9yJ3MgZGVmYXVsdHMuXG4gICAgICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICAgICAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuTlBNXSAtIEltYWdlIGFscGhhLCBub3QgcHJlbXVsdGlwbGllZCBieSBkZWZhdWx0XG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUXSAtIFNjYWxlIG1vZGUsIHBpeGVsYXRpbmcgYnkgZGVmYXVsdFxuICAgICAqIEByZXR1cm5zIC0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgbmV3IEZsb2F0MzJBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgICAgIHZhciB0eXBlID0gYnVmZmVyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ID8gVFlQRVMuRkxPQVQgOiBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0QnVmZmVyT3B0aW9ucywgb3B0aW9ucyB8fCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsIHR5cGU6IHR5cGUgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIEJhc2VUZXh0dXJlIHRvIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIEJhc2VUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIEJhc2VUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCYXNlVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQmFzZVRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgW1wiICsgaWQgKyBcIl0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVbaWRdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIEJhc2VUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gaWQgb2YgYSBCYXNlVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIEJhc2VUZXh0dXJlIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlVGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhc2VUZXh0dXJlICYmIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKiogR2xvYmFsIG51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVycy4gKi9cbiAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSAwO1xuICAgIHJldHVybiBCYXNlVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdGhhdCBjYW4gbWFuYWdlIHNldmVyYWwgcmVzb3VyY2UgKGl0ZW1zKSBpbnNpZGUuXG4gKiBBbGwgcmVzb3VyY2VzIG5lZWQgdG8gaGF2ZSB0aGUgc2FtZSBwaXhlbCBzaXplLlxuICogUGFyZW50IGNsYXNzIGZvciBDdWJlUmVzb3VyY2UgYW5kIEFycmF5UmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBYnN0cmFjdE11bHRpUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0TXVsdGlSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbGVuZ3RoXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHRvIGZvciBSZXNvdXJjZSBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11bHRpUmVzb3VyY2UobGVuZ3RoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICBfdGhpcy5pdGVtRGlydHlJZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnRUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBfdGhpcy5pdGVtcy5wdXNoKHBhcnRUZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIC0yIC0gZmlyc3QgcnVuIG9mIHRleHR1cmUgYXJyYXkgdXBsb2FkXG4gICAgICAgICAgICAvLyAtMSAtIHRleHR1cmUgaXRlbSB3YXMgYWxsb2NhdGVkXG4gICAgICAgICAgICAvLyA+PTAgLSB0ZXh0dXJlIGl0ZW0gdXBsb2FkZWQgLCBpbiBzeW5jIHdpdGggaXRlbXNbaV0uZGlydHlJZFxuICAgICAgICAgICAgX3RoaXMuaXRlbURpcnR5SWRzLnB1c2goLTIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCBmcm9tIEFycmF5UmVzb3VyY2UgYW5kIEN1YmVSZXNvdXJjZSBjb25zdHJ1Y3RvcnMuXG4gICAgICogQHBhcmFtIHJlc291cmNlcyAtIENhbiBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy4gLFxuICAgICAqICBsZW5ndGggc2hvdWxkIGJlIHNhbWUgYXMgY29uc3RydWN0b3IgbGVuZ3RoXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBEZXRlY3Qgb3B0aW9ucyBmb3IgcmVzb3VyY2VzXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5pbml0RnJvbUFycmF5ID0gZnVuY3Rpb24gKHJlc291cmNlcywgb3B0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VzW2ldKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCYXNlVGV4dHVyZUF0KHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSgpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlc1tpXSBpbnN0YW5jZW9mIFJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KHJlc291cmNlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlc1tpXSwgb3B0aW9ucyksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlLiAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgcmVzb3VyY2UgYnkgSURcbiAgICAgKiBAcGFyYW0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBaZXJvLWJhc2VkIGluZGV4IG9mIHJlc291cmNlIHRvIHNldFxuICAgICAqIEByZXR1cm5zIC0gSW5zdGFuY2UgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5hZGRSZXNvdXJjZUF0ID0gZnVuY3Rpb24gKHJlc291cmNlLCBpbmRleCkge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbmhlcml0IHRoZSBmaXJzdCByZXNvdXJjZSBkaW1lbnNpb25zXG4gICAgICAgIGlmIChyZXNvdXJjZS52YWxpZCAmJiAhdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUocmVzb3VyY2Uud2lkdGgsIHJlc291cmNlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gYmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgYmFzZSB0ZXh0dXJlIHBlciBUZXh0dXJlQXJyYXkgaXMgYWxsb3dlZCcpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnBhcmVudFRleHR1cmVBcnJheSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vbigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSBiYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ucGFyZW50VGV4dHVyZUFycmF5ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub2ZmKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZCBhbGwgdGhlIHJlc291cmNlcyBzaW11bHRhbmVvdXNseVxuICAgICAqIEByZXR1cm5zIC0gV2hlbiBsb2FkIGlzIHJlc29sdmVkXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc291cmNlcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnJlc291cmNlOyB9KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW07IH0pO1xuICAgICAgICAvLyBUT0RPOiBhbHNvIGltcGxlbWVudCBsb2FkIHBhcnQtYnktcGFydCBzdHJhdGVneVxuICAgICAgICB2YXIgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLmxvYWQoKTsgfSk7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLml0ZW1zWzBdLCByZWFsV2lkdGggPSBfYS5yZWFsV2lkdGgsIHJlYWxIZWlnaHQgPSBfYS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgX3RoaXMucmVzaXplKHJlYWxXaWR0aCwgcmVhbEhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TXVsdGlSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBBIHJlc291cmNlIHRoYXQgY29udGFpbnMgYSBudW1iZXIgb2Ygc291cmNlcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcnJheVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBcnJheVJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBOdW1iZXIgb2YgaXRlbXMgaW4gYXJyYXkgb3IgdGhlIGNvbGxlY3Rpb25cbiAgICAgKiAgICAgICAgb2YgaW1hZ2UgVVJMcyB0byB1c2UuIENhbiBhbHNvIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyB0byBhcHBseSB0byB7QGxpbmsgUElYSS5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFycmF5UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdmFyIHVybHM7XG4gICAgICAgIHZhciBsZW5ndGg7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHVybHMgPSBzb3VyY2U7XG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGVuZ3RoLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSkgfHwgdGhpcztcbiAgICAgICAgaWYgKHVybHMpIHtcbiAgICAgICAgICAgIF90aGlzLmluaXRGcm9tQXJyYXkodXJscywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBiYXNlVGV4dHVyZSBieSBJRCxcbiAgICAgKiBBcnJheVJlc291cmNlIGp1c3QgdGFrZXMgcmVzb3VyY2UgZnJvbSBpdCwgbm90aGluZyBtb3JlXG4gICAgICogQHBhcmFtIGJhc2VUZXh0dXJlXG4gICAgICogQHBhcmFtIGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJucyAtIEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmFkZEJhc2VUZXh0dXJlQXQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUsIGluZGV4KSB7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5UmVzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBSZW5kZXJUZXh0dXJlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqIEBwYXJhbSBiYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfMkRfQVJSQVk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlcyB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIC0gd2hldGhlciB0ZXh0dXJlIHdhcyB1cGxvYWRlZFxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGxlbmd0aCA9IF9hLmxlbmd0aCwgaXRlbURpcnR5SWRzID0gX2EuaXRlbURpcnR5SWRzLCBpdGVtcyA9IF9hLml0ZW1zO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UzRChnbC5URVhUVVJFXzJEX0FSUkFZLCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQsIGxlbmd0aCwgMCwgdGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGl0ZW1EaXJ0eUlkc1tpXSA8IGl0ZW0uZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGl0ZW1EaXJ0eUlkc1tpXSA9IGl0ZW0uZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKGdsLlRFWFRVUkVfMkRfQVJSQVksIDAsIDAsIC8vIHhvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgMCwgLy8geW9mZnNldFxuICAgICAgICAgICAgICAgICAgICBpLCAvLyB6b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uud2lkdGgsIGl0ZW0ucmVzb3VyY2UuaGVpZ2h0LCAxLCB0ZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIGl0ZW0ucmVzb3VyY2Uuc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gQXJyYXlSZXNvdXJjZTtcbn0oQWJzdHJhY3RNdWx0aVJlc291cmNlKSk7XG5cbi8qKlxuICogQmFzZSBmb3IgYWxsIHRoZSBpbWFnZS9jYW52YXMgcmVzb3VyY2VzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VJbWFnZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlSW1hZ2VSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlSW1hZ2VSZXNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNvdXJjZUFueSA9IHNvdXJjZTtcbiAgICAgICAgdmFyIHdpZHRoID0gc291cmNlQW55Lm5hdHVyYWxXaWR0aCB8fCBzb3VyY2VBbnkudmlkZW9XaWR0aCB8fCBzb3VyY2VBbnkud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBzb3VyY2VBbnkubmF0dXJhbEhlaWdodCB8fCBzb3VyY2VBbnkudmlkZW9IZWlnaHQgfHwgc291cmNlQW55LmhlaWdodDtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIF90aGlzLm5vU3ViSW1hZ2UgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY3Jvc3Mgb3JpZ2luIGJhc2VkIGRldGVjdGluZyB0aGUgdXJsIGFuZCB0aGUgY3Jvc3NvcmlnaW5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgY3Jvc3NPcmlnaW5cbiAgICAgKiBAcGFyYW0gdXJsIC0gVVJMIHRvIGNoZWNrXG4gICAgICogQHBhcmFtIGNyb3Nzb3JpZ2luIC0gQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luID0gZnVuY3Rpb24gKGVsZW1lbnQsIHVybCwgY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgdXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNyb3Nzb3JpZ2luICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIGdsVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IFtzb3VyY2VdIC0gKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIC0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgc291cmNlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSB8fCBzb3VyY2UubmF0dXJhbFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UucmVhZHlTdGF0ZSA8PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgICAgICBpZiAoIXRoaXMubm9TdWJJbWFnZVxuICAgICAgICAgICAgJiYgYmFzZVRleHR1cmUudGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUud2lkdGggPT09IHdpZHRoXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgc291cmNlIHdpZHRoL2hlaWdodCB3YXMgY2hhbmdlZCwgcmVzaXplIGNhbiBjYXVzZSBleHRyYSBiYXNlVGV4dHVyZSB1cGRhdGUuXG4gICAgICogVHJpZ2dlcnMgb25lIHVwZGF0ZSBpbiBhbnkgY2FzZS5cbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZS5uYXR1cmFsV2lkdGggfHwgc291cmNlLnZpZGVvV2lkdGggfHwgc291cmNlLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqIERlc3Ryb3kgdGhpcyB7QGxpbmsgQmFzZUltYWdlUmVzb3VyY2V9ICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIE9mZnNjcmVlbkNhbnZhc1xuICovXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxDYW52YXNFbGVtZW50LlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYW52YXNSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gQ2FudmFzIGVsZW1lbnQgdG8gdXNlXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2VsZXNzLWNvbnN0cnVjdG9yXG4gICAgZnVuY3Rpb24gQ2FudmFzUmVzb3VyY2Uoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIEhUTUxDYW52YXNFbGVtZW50IG9yIE9mZnNjcmVlbkNhbnZhc1xuICAgICAqL1xuICAgIENhbnZhc1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBPZmZzY3JlZW5DYW52YXMgPSBnbG9iYWxUaGlzLk9mZnNjcmVlbkNhbnZhcztcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgeWV0IHN1cHBvcnQgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICAgIGlmIChPZmZzY3JlZW5DYW52YXMgJiYgc291cmNlIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcy5IVE1MQ2FudmFzRWxlbWVudCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSBmb3IgYSBDdWJlVGV4dHVyZSB3aGljaCBjb250YWlucyBzaXggcmVzb3VyY2VzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEN1YmVSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ3ViZVJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFBJWEkuUmVzb3VyY2U+fSBbc291cmNlXSAtIENvbGxlY3Rpb24gb2YgVVJMcyBvciByZXNvdXJjZXNcbiAgICAgKiAgICAgICAgdG8gdXNlIGFzIHRoZSBzaWRlcyBvZiB0aGUgY3ViZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEltYWdlUmVzb3VyY2Ugb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gV2hldGhlciB0byBhdXRvLWxvYWQgcmVzb3VyY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmtCYXNlVGV4dHVyZT10cnVlXSAtIEluIGNhc2UgQmFzZVRleHR1cmVzIGFyZSBzdXBwbGllZCxcbiAgICAgKiAgIHdoZXRoZXIgdG8gY29weSB0aGVtIG9yIHVzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEN1YmVSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCBhdXRvTG9hZCA9IF9hLmF1dG9Mb2FkLCBsaW5rQmFzZVRleHR1cmUgPSBfYS5saW5rQmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmxlbmd0aCAhPT0gQ3ViZVJlc291cmNlLlNJREVTKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGxlbmd0aC4gR290IFwiICsgc291cmNlLmxlbmd0aCArIFwiLCBleHBlY3RlZCA2XCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgNiwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pIHx8IHRoaXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLml0ZW1zW2ldLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5saW5rQmFzZVRleHR1cmUgPSBsaW5rQmFzZVRleHR1cmUgIT09IGZhbHNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBfdGhpcy5pbml0RnJvbUFycmF5KHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmcuXG4gICAgICogQHBhcmFtIGJhc2VUZXh0dXJlIC0gcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUDtcbiAgICB9O1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuYWRkQmFzZVRleHR1cmVBdCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSwgaW5kZXgsIGxpbmtCYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubGlua0Jhc2VUZXh0dXJlXG4gICAgICAgICAgICB8fCBiYXNlVGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXlcbiAgICAgICAgICAgIHx8IE9iamVjdC5rZXlzKGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBjb3B5IG1vZGVcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3ViZVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgY29weWluZyBvZiByZW5kZXJUZXh0dXJlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxpbmsgbW9kZSwgdGhlIGRpZmZpY3VsdCBvbmUhXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGluZGV4O1xuICAgICAgICAgICAgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5ID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnZhbGlkICYmICF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShiYXNlVGV4dHVyZS5yZWFsV2lkdGgsIGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSByZW5kZXJlclxuICAgICAqIEBwYXJhbSBfYmFzZVRleHR1cmVcbiAgICAgKiBAcGFyYW0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBfYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZGlydHkgPSB0aGlzLml0ZW1EaXJ0eUlkcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNpZGUgPSB0aGlzLml0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGRpcnR5W2ldIDwgc2lkZS5kaXJ0eUlkIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgX2Jhc2VUZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZS52YWxpZCAmJiBzaWRlLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZGUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCBzaWRlLCBnbFRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IHNpZGUuZGlydHlJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlydHlbaV0gPCAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlaXRoZXIgaXRlbSBpcyBub3QgdmFsaWQgeWV0LCBlaXRoZXIgaXRzIGEgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvY2F0ZSB0aGUgbWVtb3J5XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdsLnRleEltYWdlMkQoc2lkZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgX2Jhc2VUZXh0dXJlLnJlYWxXaWR0aCwgX2Jhc2VUZXh0dXJlLnJlYWxIZWlnaHQsIDAsIF9iYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBhcnJheSBvZiA2IGVsZW1lbnRzXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHNvdXJjZSkgJiYgc291cmNlLmxlbmd0aCA9PT0gQ3ViZVJlc291cmNlLlNJREVTO1xuICAgIH07XG4gICAgLyoqIE51bWJlciBvZiB0ZXh0dXJlIHNpZGVzIHRvIHN0b3JlIGZvciBDdWJlUmVzb3VyY2VzLiAqL1xuICAgIEN1YmVSZXNvdXJjZS5TSURFUyA9IDY7XG4gICAgcmV0dXJuIEN1YmVSZXNvdXJjZTtcbn0oQWJzdHJhY3RNdWx0aVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTEltYWdlRWxlbWVudC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbWFnZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbWFnZVJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBpbWFnZSBzb3VyY2Ugb3IgVVJMXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gc3RhcnQgbG9hZGluZyBwcm9jZXNzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcmVhdGVCaXRtYXA9UElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXSAtIHdoZXRoZXIgaXRzIHJlcXVpcmVkIHRvIGNyZWF0ZVxuICAgICAqICAgICAgICBhIGJpdG1hcCBiZWZvcmUgdXBsb2FkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLkFMUEhBX01PREVTfSBbb3B0aW9ucy5hbHBoYU1vZGU9UElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tdIC0gUHJlbXVsdGlwbHkgaW1hZ2UgYWxwaGEgaW4gYml0bWFwXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbihpbWFnZUVsZW1lbnQsIHNvdXJjZSwgb3B0aW9ucy5jcm9zc29yaWdpbik7XG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgICAgICAvLyBGaXJlRm94IDY4LCBhbmQgcG9zc2libHkgb3RoZXIgdmVyc2lvbnMsIHNlZW1zIGxpa2Ugc2V0dGluZyB0aGUgSFRNTEltYWdlRWxlbWVudCN3aWR0aCBhbmQgI2hlaWdodFxuICAgICAgICAvLyB0byBub24temVybyB2YWx1ZXMgYmVmb3JlIGl0cyBsb2FkaW5nIGNvbXBsZXRlcyBpZiBpbWFnZXMgYXJlIGluIGEgY2FjaGUuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgbmVlZCB0byBzZXQgdGhlIGBfd2lkdGhgIGFuZCB0aGUgYF9oZWlnaHRgIHRvIHplcm8gdG8gYXZvaWQgdXBsb2FkaW5nIGluY29tcGxldGUgaW1hZ2VzLlxuICAgICAgICAvLyBQbGVhc2UgcmVmZXIgdG8gdGhlIGlzc3VlICM1OTY4IChodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5NjgpLlxuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSAmJiAhIV90aGlzLl93aWR0aCAmJiAhIV90aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICBfdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIF90aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmNyZWF0ZUJpdG1hcCA9IChvcHRpb25zLmNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY3JlYXRlQml0bWFwIDogc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUCkgJiYgISFnbG9iYWxUaGlzLmNyZWF0ZUltYWdlQml0bWFwO1xuICAgICAgICBfdGhpcy5hbHBoYU1vZGUgPSB0eXBlb2Ygb3B0aW9ucy5hbHBoYU1vZGUgPT09ICdudW1iZXInID8gb3B0aW9ucy5hbHBoYU1vZGUgOiBudWxsO1xuICAgICAgICBfdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICBfdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByb21pc2Ugd2hlbiBpbWFnZSB3aWxsIGJlIGxvYWRlZCBhbmQgcHJvY2Vzc2VkLlxuICAgICAqIEBwYXJhbSBjcmVhdGVCaXRtYXAgLSB3aGV0aGVyIHByb2Nlc3MgaW1hZ2UgaW50byBiaXRtYXBcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKGNyZWF0ZUJpdG1hcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IGNyZWF0ZUJpdG1hcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IF90aGlzLnNvdXJjZTtcbiAgICAgICAgICAgIF90aGlzLnVybCA9IHNvdXJjZS5zcmM7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jcmVhdGVCaXRtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5wcm9jZXNzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuY29tcGxldGUgJiYgc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZHMgUHJvbWlzZSBmcmVlemluZyB3aGVuIHJlc291cmNlIGJyb2tlblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqIEByZXR1cm5zIC0gQ2FjaGVkIHByb21pc2UgdG8gZmlsbCB0aGF0IGJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCAhPT0gbnVsbCB8fCAhZ2xvYmFsVGhpcy5jcmVhdGVJbWFnZUJpdG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3JlYXRlSW1hZ2VCaXRtYXAgPSBnbG9iYWxUaGlzLmNyZWF0ZUltYWdlQml0bWFwO1xuICAgICAgICB2YXIgY29ycyA9ICFzb3VyY2UuY3Jvc3NPcmlnaW4gfHwgc291cmNlLmNyb3NzT3JpZ2luID09PSAnYW5vbnltb3VzJztcbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IGZldGNoKHNvdXJjZS5zcmMsIHtcbiAgICAgICAgICAgIG1vZGU6IGNvcnMgPyAnY29ycycgOiAnbm8tY29ycydcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmJsb2IoKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChibG9iKSB7IHJldHVybiBjcmVhdGVJbWFnZUJpdG1hcChibG9iLCAwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsIHtcbiAgICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IF90aGlzLmFscGhhTW9kZSA9PT0gbnVsbCB8fCBfdGhpcy5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDS1xuICAgICAgICAgICAgICAgID8gJ3ByZW11bHRpcGx5JyA6ICdub25lJyxcbiAgICAgICAgfSk7IH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYml0bWFwKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIF90aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIGltYWdlIHJlc291cmNlIHRvIEdQVS5cbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBSZW5kZXJlciB0byB1cGxvYWQgdG9cbiAgICAgKiBAcGFyYW0gYmFzZVRleHR1cmUgLSBCYXNlVGV4dHVyZSBmb3IgdGhpcyByZXNvdXJjZVxuICAgICAqIEBwYXJhbSBnbFRleHR1cmUgLSBHTFRleHR1cmUgdG8gdXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYWxwaGFNb2RlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gYml0bWFwIHN0b3JlcyB1bnBhY2sgcHJlbXVsdGlwbHkgZmxhZywgd2UgZG9udCBoYXZlIHRvIG5vdGlmeSB0ZXhJbWFnZTJEIGFib3V0IGl0XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPSB0aGlzLmFscGhhTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY3JlYXRlQml0bWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS51cGxvYWQuY2FsbCh0aGlzLCByZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmJpdG1hcCkge1xuICAgICAgICAgICAgLy8geWVhaCwgaWdub3JlIHRoZSBvdXRwdXRcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJpdG1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCB0aGlzLmJpdG1hcCk7XG4gICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZUJpdG1hcCkge1xuICAgICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZXJlIGFyZSBvdGhlciByZW5kZXJlcnMgdGhhdCBwb3NzaWJseSBuZWVkIHRoaXMgYml0bWFwXG4gICAgICAgICAgICB2YXIgZmxhZyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgZ2xUZXh0dXJlcyA9IGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGdsVGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJUZXggPSBnbFRleHR1cmVzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyVGV4ICE9PSBnbFRleHR1cmUgJiYgb3RoZXJUZXguZGlydHlJZCAhPT0gYmFzZVRleHR1cmUuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0bWFwLmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGlzIHJlc291cmNlLiAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuYml0bWFwKSB7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIHN0cmluZyBvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgfHwgc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiBJbWFnZVJlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIFNWRyBlbGVtZW50cyBhbmQgZ3JhcGhpY3MuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU1ZHUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNWR1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzb3VyY2VCYXNlNjQgLSBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZT0xXSAtIFNjYWxlIHRvIGFwcGx5IHRvIFNWRy4gT3ZlcnJpZGRlbiBieS4uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBSYXN0ZXJpemUgU1ZHIHRoaXMgd2lkZS4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiBoZWlnaHQgbm90IHNwZWNpZmllZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIFJhc3Rlcml6ZSBTVkcgdGhpcyBoaWdoLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIHdpZHRoIG5vdCBzcGVjaWZpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgcmlnaHQgYXdheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTVkdSZXNvdXJjZShzb3VyY2VCYXNlNjQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG4gICAgICAgIF90aGlzLnN2ZyA9IHNvdXJjZUJhc2U2NDtcbiAgICAgICAgX3RoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDE7XG4gICAgICAgIF90aGlzLl9vdmVycmlkZVdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgX3RoaXMuX292ZXJyaWRlSGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2Nyb3Nzb3JpZ2luID0gb3B0aW9ucy5jcm9zc29yaWdpbjtcbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgdW50aWwgYWZ0ZXIgbG9hZCBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLnNvdXJjZS53aWR0aCwgX3RoaXMuc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ29udmVydCBTVkcgaW5saW5lIHN0cmluZyB0byBkYXRhLXVyaVxuICAgICAgICAgICAgaWYgKFNWR1Jlc291cmNlLlNWR19YTUwudGVzdChfdGhpcy5zdmcudHJpbSgpKSkge1xuICAgICAgICAgICAgICAgIGlmICghYnRvYSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnN2ZyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzLnN2ZykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9sb2FkU3ZnKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKiBMb2FkcyBhbiBTVkcgaW1hZ2UgZnJvbSBgaW1hZ2VVcmxgIG9yIGBkYXRhIFVSTGAuICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU3ZnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdGVtcEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHRlbXBJbWFnZSwgdGhpcy5zdmcsIHRoaXMuX2Nyb3Nzb3JpZ2luKTtcbiAgICAgICAgdGVtcEltYWdlLnNyYyA9IHRoaXMuc3ZnO1xuICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRlbXBJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN2Z1dpZHRoID0gdGVtcEltYWdlLndpZHRoO1xuICAgICAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHRlbXBJbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIXN2Z1dpZHRoIHx8ICFzdmdIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBTVkcgaW1hZ2UgbXVzdCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgZGVmaW5lZCAoaW4gcGl4ZWxzKSwgY2FudmFzIEFQSSBuZWVkcyB0aGVtLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHJlbmRlciBzaXplXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBzdmdXaWR0aCAqIF90aGlzLnNjYWxlO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHN2Z0hlaWdodCAqIF90aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKF90aGlzLl9vdmVycmlkZVdpZHRoIHx8IF90aGlzLl9vdmVycmlkZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gX3RoaXMuX292ZXJyaWRlV2lkdGggfHwgX3RoaXMuX292ZXJyaWRlSGVpZ2h0IC8gc3ZnSGVpZ2h0ICogc3ZnV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gX3RoaXMuX292ZXJyaWRlSGVpZ2h0IHx8IF90aGlzLl9vdmVycmlkZVdpZHRoIC8gc3ZnV2lkdGggKiBzdmdIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY2FudmFzIGVsZW1lbnRcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBfdGhpcy5zb3VyY2U7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBjYW52YXMuX3BpeGlJZCA9IFwiY2FudmFzX1wiICsgdWlkKCk7XG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgY2FudmFzXG4gICAgICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAgICAgICAuZHJhd0ltYWdlKHRlbXBJbWFnZSwgMCwgMCwgc3ZnV2lkdGgsIHN2Z0hlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHNpemUgZnJvbSBhbiBzdmcgc3RyaW5nIHVzaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxuICAgICAqIEBwYXJhbSBzdmdTdHJpbmcgLSBhIHNlcmlhbGl6ZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyAtIGltYWdlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLmdldFNpemUgPSBmdW5jdGlvbiAoc3ZnU3RyaW5nKSB7XG4gICAgICAgIHZhciBzaXplTWF0Y2ggPSBTVkdSZXNvdXJjZS5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgICAgIHZhciBzaXplID0ge307XG4gICAgICAgIGlmIChzaXplTWF0Y2gpIHtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGlzIHRleHR1cmUuICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3Jvc3NvcmlnaW4gPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBJZiB0aGUgc291cmNlIGlzIGEgU1ZHIHNvdXJjZSBvciBkYXRhIGZpbGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSwgZXh0ZW5zaW9uKSB7XG4gICAgICAgIC8vIHVybCBmaWxlIGV4dGVuc2lvbiBpcyBTVkdcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ3N2ZydcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgZGF0YS11cmlcbiAgICAgICAgICAgIHx8ICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBzb3VyY2Uuc3RhcnRzV2l0aCgnZGF0YTppbWFnZS9zdmcreG1sJykpXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGlubGluZVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIFNWR1Jlc291cmNlLlNWR19YTUwudGVzdChzb3VyY2UpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgU1ZHIFhNTCBkb2N1bWVudC5cbiAgICAgKiBAZXhhbXBsZSAmbHQ7P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtOFwiID8mZ3Q7Jmx0OyEtLSBpbWFnZS9zdmcgLS0mZ3Q7Jmx0O3N2Z1xuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLlNWR19YTUwgPSAvXig8XFw/eG1sW14/XStcXD8+KT9cXHMqKDwhLS1bXigtLT4pXSotLT4pP1xccypcXDxzdmcvbTtcbiAgICAvKipcbiAgICAgKiBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIFNWRyBzaXplLlxuICAgICAqIEBleGFtcGxlICZsdDtzdmcgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiZndDsmbHQ7L3N2ZyZndDtcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG4gICAgcmV0dXJuIFNWR1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIHtAY29kZSBIVE1MVmlkZW9FbGVtZW50fS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBWaWRlb1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWaWRlb1Jlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudHxvYmplY3R8c3RyaW5nfEFycmF5PHN0cmluZ3xvYmplY3Q+fSBzb3VyY2UgLSBWaWRlbyBlbGVtZW50IHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyB0aGUgdmlkZW8gaW1tZWRpYXRlbHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QbGF5PXRydWVdIC0gU3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51cGRhdGVGUFM9MF0gLSBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uXG4gICAgICogTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZGVvUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSkge1xuICAgICAgICAgICAgdmFyIHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5OTZcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCAnYXV0bycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmaXJzdFNyYyA9IHNvdXJjZVswXS5zcmMgfHwgc291cmNlWzBdO1xuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odmlkZW9FbGVtZW50LCBmaXJzdFNyYywgb3B0aW9ucy5jcm9zc29yaWdpbik7XG4gICAgICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBzb3VyY2VbaV0sIHNyYyA9IF9hLnNyYywgbWltZSA9IF9hLm1pbWU7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVNyYyA9IHNyYy5zcGxpdCgnPycpLnNoaWZ0KCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0ID0gYmFzZVNyYy5zbGljZShiYXNlU3JjLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgICAgICAgICBtaW1lID0gbWltZSB8fCBWaWRlb1Jlc291cmNlLk1JTUVfVFlQRVNbZXh0XSB8fCBcInZpZGVvL1wiICsgZXh0O1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQuc3JjID0gc3JjO1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQudHlwZSA9IG1pbWU7XG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIHNvdXJjZVxuICAgICAgICAgICAgc291cmNlID0gdmlkZW9FbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ub1N1YkltYWdlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICBfdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fdXBkYXRlRlBTID0gb3B0aW9ucy51cGRhdGVGUFMgfHwgMDtcbiAgICAgICAgX3RoaXMuX21zVG9OZXh0VXBkYXRlID0gMDtcbiAgICAgICAgX3RoaXMuYXV0b1BsYXkgPSBvcHRpb25zLmF1dG9QbGF5ICE9PSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIC8vIEJpbmQgZm9yIGxpc3RlbmVyc1xuICAgICAgICBfdGhpcy5fb25DYW5QbGF5ID0gX3RoaXMuX29uQ2FuUGxheS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX29uRXJyb3IgPSBfdGhpcy5fb25FcnJvci5iaW5kKF90aGlzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHVwZGF0aW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSBfZGVsdGFUaW1lIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoX2RlbHRhVGltZSkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciBpZiB2aWRlbyBoYXMgaGFkIGl0cyBwbGF5YmFja1JhdGUgY2hhbmdlZFxuICAgICAgICAgICAgdmFyIGVsYXBzZWRNUyA9IFRpY2tlci5zaGFyZWQuZWxhcHNlZE1TICogdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlO1xuICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApIHtcbiAgICAgICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gdGhpcy5fdXBkYXRlRlBTID8gTWF0aC5mbG9vcigxMDAwIC8gdGhpcy5fdXBkYXRlRlBTKSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IHByZWxvYWRpbmcgdGhlIHZpZGVvIHJlc291cmNlLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKChzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRU5PVUdIX0RBVEEgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0ZVVFVSRV9EQVRBKVxuICAgICAgICAgICAgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCB0aGlzLl9vblBsYXlTdGFydC5iaW5kKHRoaXMpKTtcbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgdGhpcy5fb25QbGF5U3RvcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1NvdXJjZVJlYWR5KCkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHZpZGVvIGVycm9yIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICogQHJldHVybnMgLSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX2lzU291cmNlUGxheWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gKCFzb3VyY2UucGF1c2VkICYmICFzb3VyY2UuZW5kZWQgJiYgdGhpcy5faXNTb3VyY2VSZWFkeSgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICogQHJldHVybnMgLSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UucmVhZHlTdGF0ZSA+IDI7XG4gICAgfTtcbiAgICAvKiogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheS4gKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25QbGF5U3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEp1c3QgaW4gY2FzZSB0aGUgdmlkZW8gaGFzIG5vdCByZWNlaXZlZCBpdHMgY2FuIHBsYXkgZXZlbiB5ZXQuLlxuICAgICAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wLiAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgbG9hZGVkIGFuZCByZWFkeSB0byBwbGF5LiAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vbkNhblBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICB2YXIgdmFsaWQgPSB0aGlzLnZhbGlkO1xuICAgICAgICB0aGlzLnJlc2l6ZShzb3VyY2UudmlkZW9XaWR0aCwgc291cmNlLnZpZGVvSGVpZ2h0KTtcbiAgICAgICAgLy8gcHJldmVudCBtdWx0aXBsZSBsb2FkZWQgZGlzcGF0Y2hlcy4uXG4gICAgICAgIGlmICghdmFsaWQgJiYgdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fb25QbGF5U3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9QbGF5KSB7XG4gICAgICAgICAgICBzb3VyY2UucGxheSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogRGVzdHJveXMgdGhpcyB0ZXh0dXJlLiAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIHNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJhdXRvVXBkYXRlXCIsIHtcbiAgICAgICAgLyoqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciAmJiB0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJ1cGRhdGVGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gICAgICAgICAqIEEgbG93ZXIgZnBzIGNhbiBoZWxwIHBlcmZvcm1hbmNlLCBhcyB1cGRhdGluZyB0aGUgdGV4dHVyZSBhdCA2MGZwcyBvbiBhIDMwcHMgdmlkZW8gbWF5IG5vdCBiZSBlZmZpY2llbnQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVGUFM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3VwZGF0ZUZQUykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZQUyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHZpZGVvIHNvdXJjZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UsIGV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm4gKGdsb2JhbFRoaXMuSFRNTFZpZGVvRWxlbWVudCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgfHwgVmlkZW9SZXNvdXJjZS5UWVBFUy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgY29tbW9uIHZpZGVvIGZpbGUgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgVmlkZW9SZXNvdXJjZS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLlRZUEVTID0gWydtcDQnLCAnbTR2JywgJ3dlYm0nLCAnb2dnJywgJ29ndicsICdoMjY0JywgJ2F2aScsICdtb3YnXTtcbiAgICAvKipcbiAgICAgKiBNYXAgb2YgdmlkZW8gTUlNRSB0eXBlcyB0aGF0IGNhbid0IGJlIGRpcmVjdGx5IGRlcml2ZWQgZnJvbSBmaWxlIGV4dGVuc2lvbnMuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5NSU1FX1RZUEVTID0ge1xuICAgICAgICBvZ3Y6ICd2aWRlby9vZ2cnLFxuICAgICAgICBtb3Y6ICd2aWRlby9xdWlja3RpbWUnLFxuICAgICAgICBtNHY6ICd2aWRlby9tcDQnLFxuICAgIH07XG4gICAgcmV0dXJuIFZpZGVvUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSW1hZ2VCaXRtYXAuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW1hZ2VCaXRtYXBSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW1hZ2VCaXRtYXBSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gSW1hZ2UgZWxlbWVudCB0byB1c2VcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZWxlc3MtY29uc3RydWN0b3JcbiAgICBmdW5jdGlvbiBJbWFnZUJpdG1hcFJlc291cmNlKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBJbWFnZUJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICEhZ2xvYmFsVGhpcy5jcmVhdGVJbWFnZUJpdG1hcCAmJiB0eXBlb2YgSW1hZ2VCaXRtYXAgIT09ICd1bmRlZmluZWQnICYmIHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwO1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlQml0bWFwUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbklOU1RBTExFRC5wdXNoKEltYWdlUmVzb3VyY2UsIEltYWdlQml0bWFwUmVzb3VyY2UsIENhbnZhc1Jlc291cmNlLCBWaWRlb1Jlc291cmNlLCBTVkdSZXNvdXJjZSwgQnVmZmVyUmVzb3VyY2UsIEN1YmVSZXNvdXJjZSwgQXJyYXlSZXNvdXJjZSk7XG5cbnZhciBfcmVzb3VyY2VzID0ge1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBSZXNvdXJjZTogUmVzb3VyY2UsXG4gICAgQmFzZUltYWdlUmVzb3VyY2U6IEJhc2VJbWFnZVJlc291cmNlLFxuICAgIElOU1RBTExFRDogSU5TVEFMTEVELFxuICAgIGF1dG9EZXRlY3RSZXNvdXJjZTogYXV0b0RldGVjdFJlc291cmNlLFxuICAgIEFic3RyYWN0TXVsdGlSZXNvdXJjZTogQWJzdHJhY3RNdWx0aVJlc291cmNlLFxuICAgIEFycmF5UmVzb3VyY2U6IEFycmF5UmVzb3VyY2UsXG4gICAgQnVmZmVyUmVzb3VyY2U6IEJ1ZmZlclJlc291cmNlLFxuICAgIENhbnZhc1Jlc291cmNlOiBDYW52YXNSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2U6IEN1YmVSZXNvdXJjZSxcbiAgICBJbWFnZVJlc291cmNlOiBJbWFnZVJlc291cmNlLFxuICAgIFNWR1Jlc291cmNlOiBTVkdSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlOiBWaWRlb1Jlc291cmNlLFxuICAgIEltYWdlQml0bWFwUmVzb3VyY2U6IEltYWdlQml0bWFwUmVzb3VyY2Vcbn07XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgRGVwdGhUZXh0dXJlLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERlcHRoUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlcHRoUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVwdGhSZXNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIGdsVGV4dHVyZSAtIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIC0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgRGVwdGhSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcbiAgICAgICAgdmFyIHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gd2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgd2lkdGgsIGhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gRGVwdGhSZXNvdXJjZTtcbn0oQnVmZmVyUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBBIGZyYW1lYnVmZmVyIGNhbiBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50cyBvZmYgb2YgdGhlIHNjcmVlbi4ge0BsaW5rIFBJWEkuQmFzZVJlbmRlclRleHR1cmV9IHVzZXNcbiAqIG9uZSBpbnRlcm5hbGx5IHRvIHJlbmRlciBpbnRvIGl0c2VsZi4gWW91IGNhbiBhdHRhY2ggYSBkZXB0aCBvciBzdGVuY2lsIGJ1ZmZlciB0byBhIGZyYW1lYnVmZmVyLlxuICpcbiAqIE9uIFdlYkdMIDIgbWFjaGluZXMsIHNoYWRlcnMgY2FuIG91dHB1dCB0byBtdWx0aXBsZSB0ZXh0dXJlcyBzaW11bHRhbmVvdXNseSB3aXRoIEdMU0wgMzAwIEVTLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZyYW1lYnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB3aWR0aCAtIFdpZHRoIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGcmFtZWJ1ZmZlcih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoIHx8IDEwMCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgfHwgMTAwKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVwdGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCA9IDA7XG4gICAgICAgIHRoaXMuZGlydHlTaXplID0gMDtcbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgdGhpcy5nbEZyYW1lYnVmZmVycyA9IHt9O1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlRnJhbWVidWZmZXInKTtcbiAgICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhbWVidWZmZXIucHJvdG90eXBlLCBcImNvbG9yVGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZXNbMF07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGV4dHVyZSB0byB0aGUgY29sb3JUZXh0dXJlIGFycmF5LlxuICAgICAqIEBwYXJhbSBpbmRleCAtIEluZGV4IG9mIHRoZSBhcnJheSB0byBhZGQgdGhlIHRleHR1cmUgdG9cbiAgICAgKiBAcGFyYW0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBhcnJheVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGRDb2xvclRleHR1cmUgPSBmdW5jdGlvbiAoaW5kZXgsIHRleHR1cmUpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XG4gICAgICAgIC8vIFRPRE8gYWRkIHNvbWUgdmFsaWRhdGlvbiB0byB0aGUgdGV4dHVyZSAtIHNhbWUgd2lkdGggLyBoZWlnaHQgZXRjP1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXNbaW5kZXhdID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobnVsbCwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgZGVwdGggdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBhZGQuXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmFkZERlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShuZXcgRGVwdGhSZXNvdXJjZShudWxsLCB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLFxuICAgICAgICAgICAgZm9ybWF0OiBGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVCxcbiAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKiogRW5hYmxlIGRlcHRoIG9uIHRoZSBmcmFtZSBidWZmZXIuICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZURlcHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlcHRoID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKiogRW5hYmxlIHN0ZW5jaWwgb24gdGhlIGZyYW1lIGJ1ZmZlci4gKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB3aWR0aCAtIFdpZHRoIG9mIHRoZSBmcmFtZSBidWZmZXIgdG8gcmVzaXplIHRvXG4gICAgICogQHBhcmFtIGhlaWdodCAtIEhlaWdodCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlTaXplKys7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhlIHRleHR1cmUgbWF5IGhhdmUgYSBkaWZmZXJlbnQgcmVzb2x1dGlvbi4uXG4gICAgICAgICAgICB0ZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIERpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeS4gKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqIERlc3Ryb3lzIGFuZCByZW1vdmVzIHRoZSBkZXB0aCB0ZXh0dXJlIGFkZGVkIHRvIHRoaXMgZnJhbWVidWZmZXIuICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLmRlc3Ryb3lEZXB0aFRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgKyt0aGlzLmRpcnR5SWQ7XG4gICAgICAgICAgICArK3RoaXMuZGlydHlGb3JtYXQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBGcmFtZWJ1ZmZlcjtcbn0oKSk7XG5cbi8qKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBCYXNlUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gVGhlIHBvc2l0aW9uXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIGdpdmVuIERpc3BsYXkgT2JqZWN0cyBpcyBpZ25vcmVkLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCB7cmVuZGVyVGV4dHVyZX0pO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHtyZW5kZXJUZXh0dXJlfSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUmVuZGVyVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVJlbmRlclRleHR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9XG4gICAgICogICBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPVBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpb1xuICAgICAqICAgb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5NU0FBX1FVQUxJVFl9IFtvcHRpb25zLm11bHRpc2FtcGxlPVBJWEkuTVNBQV9RVUFMSVRZLk5PTkVdIC0gVGhlIG51bWJlciBvZiBzYW1wbGVzIG9mIHRoZSBmcmFtZSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgb2Ygc2lnbmF0dXJlXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc29sdXRpb246IHJlc29sdXRpb24gfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgMTAwO1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IDEwMDtcbiAgICAgICAgb3B0aW9ucy5tdWx0aXNhbXBsZSA9IG9wdGlvbnMubXVsdGlzYW1wbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXVsdGlzYW1wbGUgOiBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBudWxsLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgX3RoaXMubWlwbWFwID0gTUlQTUFQX01PREVTLk9GRjtcbiAgICAgICAgX3RoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5jbGVhckNvbG9yID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICBfdGhpcy5mcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcihfdGhpcy5yZWFsV2lkdGgsIF90aGlzLnJlYWxIZWlnaHQpXG4gICAgICAgICAgICAuYWRkQ29sb3JUZXh0dXJlKDAsIF90aGlzKTtcbiAgICAgICAgX3RoaXMuZnJhbWVidWZmZXIubXVsdGlzYW1wbGUgPSBvcHRpb25zLm11bHRpc2FtcGxlO1xuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIF90aGlzLmZpbHRlclN0YWNrID0gW3t9XTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFdpZHRoIC0gVGhlIGRlc2lyZWQgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkSGVpZ2h0IC0gVGhlIGRlc2lyZWQgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKGRlc2lyZWRXaWR0aCwgZGVzaXJlZEhlaWdodCkge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZShkZXNpcmVkV2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGRlc2lyZWRIZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICB0aGlzLnNldFJlYWxTaXplKHRoaXMuZnJhbWVidWZmZXIud2lkdGgsIHRoaXMuZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGFuZCBmcmFtZWJ1ZmZlciBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGlzIHRleHR1cmUuICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmRlc3Ryb3lEZXB0aFRleHR1cmUoKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVJlbmRlclRleHR1cmU7XG59KEJhc2VUZXh0dXJlKSk7XG5cbi8qKlxuICogU3RvcmVzIGEgdGV4dHVyZSdzIGZyYW1lIGluIFVWIGNvb3JkaW5hdGVzLCBpblxuICogd2hpY2ggZXZlcnl0aGluZyBsaWVzIGluIHRoZSByZWN0YW5nbGUgYFsoMCwwKSwgKDEsMCksXG4gKiAoMSwxKSwgKDAsMSldYC5cbiAqXG4gKiB8IENvcm5lciAgICAgICB8IENvb3JkaW5hdGVzIHxcbiAqIHwtLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfFxuICogfCBUb3AtTGVmdCAgICAgfCBgKHgwLHkwKWAgICB8XG4gKiB8IFRvcC1SaWdodCAgICB8IGAoeDEseTEpYCAgIHxcbiAqIHwgQm90dG9tLVJpZ2h0IHwgYCh4Mix5MilgICAgfFxuICogfCBCb3R0b20tTGVmdCAgfCBgKHgzLHkzKWAgICB8XG4gKiBAcHJvdGVjdGVkXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZVV2cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlVXZzKCkge1xuICAgICAgICB0aGlzLngwID0gMDtcbiAgICAgICAgdGhpcy55MCA9IDA7XG4gICAgICAgIHRoaXMueDEgPSAxO1xuICAgICAgICB0aGlzLnkxID0gMDtcbiAgICAgICAgdGhpcy54MiA9IDE7XG4gICAgICAgIHRoaXMueTIgPSAxO1xuICAgICAgICB0aGlzLngzID0gMDtcbiAgICAgICAgdGhpcy55MyA9IDE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIGZyYW1lIC0gVGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKi9cbiAgICBUZXh0dXJlVXZzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKSB7XG4gICAgICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHRoID0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgICAgICB2YXIgY1ggPSAoZnJhbWUueCAvIHR3KSArIHcyO1xuICAgICAgICAgICAgdmFyIGNZID0gKGZyYW1lLnkgLyB0aCkgKyBoMjtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgZ3JvdXBEOC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTAgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDIgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkzID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzJdID0gdGhpcy54MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzVdID0gdGhpcy55MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55MztcbiAgICB9O1xuICAgIFRleHR1cmVVdnMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJbQHBpeGkvY29yZTpUZXh0dXJlVXZzIFwiXG4gICAgICAgICAgICArIChcIngwPVwiICsgdGhpcy54MCArIFwiIHkwPVwiICsgdGhpcy55MCArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJ4MT1cIiArIHRoaXMueDEgKyBcIiB5MT1cIiArIHRoaXMueTEgKyBcIiB4Mj1cIiArIHRoaXMueDIgKyBcIiBcIilcbiAgICAgICAgICAgICsgKFwieTI9XCIgKyB0aGlzLnkyICsgXCIgeDM9XCIgKyB0aGlzLngzICsgXCIgeTM9XCIgKyB0aGlzLnkzKVxuICAgICAgICAgICAgKyBcIl1cIjtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlVXZzO1xufSgpKTtcblxudmFyIERFRkFVTFRfVVZTID0gbmV3IFRleHR1cmVVdnMoKTtcbi8qKlxuICogVXNlZCB0byByZW1vdmUgbGlzdGVuZXJzIGZyb20gV0hJVEUgYW5kIEVNUFRZIFRleHR1cmVzXG4gKiBAaWdub3JlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleCkge1xuICAgIHRleC5kZXN0cm95ID0gZnVuY3Rpb24gX2VtcHR5RGVzdHJveSgpIHsgfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsgfTtcbiAgICB0ZXgub25jZSA9IGZ1bmN0aW9uIF9lbXB0eU9uY2UoKSB7IH07XG4gICAgdGV4LmVtaXQgPSBmdW5jdGlvbiBfZW1wdHlFbWl0KCkgeyB9O1xufVxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS5cbiAqXG4gKiBJdCBjYW5ub3QgYmUgYWRkZWQgdG8gdGhlIGRpc3BsYXkgbGlzdCBkaXJlY3RseTsgaW5zdGVhZCB1c2UgaXQgYXMgdGhlIHRleHR1cmUgZm9yIGEgU3ByaXRlLlxuICogSWYgbm8gZnJhbWUgaXMgcHJvdmlkZWQgZm9yIGEgdGV4dHVyZSwgdGhlbiB0aGUgd2hvbGUgaW1hZ2UgaXMgdXNlZC5cbiAqXG4gKiBZb3UgY2FuIGRpcmVjdGx5IGNyZWF0ZSBhIHRleHR1cmUgZnJvbSBhbiBpbWFnZSBhbmQgdGhlbiByZXVzZSBpdCBtdWx0aXBsZSB0aW1lcyBsaWtlIHRoaXMgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBsZXQgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUyID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogYGBgXG4gKlxuICogSWYgeW91IGRpZG50IHBhc3MgdGhlIHRleHR1cmUgZnJhbWUgdG8gY29uc3RydWN0b3IsIGl0IGVuYWJsZXMgYG5vRnJhbWVgIG1vZGU6XG4gKiBpdCBzdWJzY3JpYmVzIG9uIGJhc2VUZXh0dXJlIGV2ZW50cywgaXQgYXV0b21hdGljYWxseSByZXNpemVzIGF0IHRoZSBzYW1lIHRpbWUgYXMgYmFzZVRleHR1cmUuXG4gKlxuICogVGV4dHVyZXMgbWFkZSBmcm9tIFNWR3MsIGxvYWRlZCBvciBub3QsIGNhbm5vdCBiZSB1c2VkIGJlZm9yZSB0aGUgZmlsZSBmaW5pc2hlcyBwcm9jZXNzaW5nLlxuICogWW91IGNhbiBjaGVjayBmb3IgdGhpcyBieSBjaGVja2luZyB0aGUgc3ByaXRlJ3MgX3RleHR1cmVJRCBwcm9wZXJ0eS5cbiAqIGBgYGpzXG4gKiB2YXIgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2Uuc3ZnJyk7XG4gKiB2YXIgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIC8vc3ByaXRlMS5fdGV4dHVyZUlEIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIGlmIHRoZSB0ZXh0dXJlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nIHRoZSBTVkcgZmlsZVxuICogYGBgXG4gKiBZb3UgY2FuIHVzZSBhIHRpY2tlciBvciByQUYgdG8gZW5zdXJlIHlvdXIgc3ByaXRlcyBsb2FkIHRoZSBmaW5pc2hlZCB0ZXh0dXJlcyBhZnRlciBwcm9jZXNzaW5nLiBTZWUgaXNzdWUgIzMwNjguXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVQYXJhbSBSIC0gVGhlIEJhc2VUZXh0dXJlJ3MgUmVzb3VyY2UgdHlwZS5cbiAqL1xudmFyIFRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHR1cmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBzb3VyY2UgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0gZnJhbWUgLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKiBAcGFyYW0gb3JpZyAtIFRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0gdHJpbSAtIFRyaW1tZWQgcmVjdGFuZ2xlIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0gcm90YXRlIC0gaW5kaWNhdGVzIGhvdyB0aGUgdGV4dHVyZSB3YXMgcm90YXRlZCBieSB0ZXh0dXJlIHBhY2tlci4gU2VlIHtAbGluayBQSVhJLmdyb3VwRDh9XG4gICAgICogQHBhcmFtIGFuY2hvciAtIERlZmF1bHQgYW5jaG9yIHBvaW50IHVzZWQgZm9yIHNwcml0ZSBwbGFjZW1lbnQgLyByb3RhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIF90aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgX3RoaXMuX2ZyYW1lID0gZnJhbWU7XG4gICAgICAgIF90aGlzLnRyaW0gPSB0cmltO1xuICAgICAgICBfdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fdXZzID0gREVGQVVMVF9VVlM7XG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgICAgICAgX3RoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7IC8vIG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIF90aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuICAgICAgICBpZiAocm90YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9sZCB0ZXh0dXJlcGFja2VyIGxlZ2FjeSwgc29tZSBnYW1lcy9saWJyYXJpZXMgYXJlIHBhc3NpbmcgXCJ0cnVlXCIgZm9yIHJvdGF0ZWQgdGV4dHVyZXNcbiAgICAgICAgICAgIF90aGlzLl9yb3RhdGUgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90aGlzLl9yb3RhdGUgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5kZWZhdWx0QW5jaG9yID0gYW5jaG9yID8gbmV3IFBvaW50KGFuY2hvci54LCBhbmNob3IueSkgOiBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbmNlKCdsb2FkZWQnLCBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgX3RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGZyYW1lIHdlIHNob3VsZCBtb25pdG9yIGZvciBhbnkgYmFzZSB0ZXh0dXJlIGNoYW5nZXMuLlxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCBfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoaXMgdGV4dHVyZSBvbiB0aGUgZ3B1LlxuICAgICAqXG4gICAgICogQ2FsbHMgdGhlIFRleHR1cmVSZXNvdXJjZSB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgYWRqdXN0ZWQgYGZyYW1lYCBtYW51YWxseSwgcGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAgICAgLy8gaWYgdXNlciBnYXZlIHVzIGZyYW1lIHRoYXQgaGFzIGJpZ2dlciBzaXplIHRoYW4gcmVzaXplZCB0ZXh0dXJlIGl0IGNhbiBiZSBhIHByb2JsZW1cbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQHBhcmFtIFtkZXN0cm95QmFzZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkZXN0cm95QmFzZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSAmJiByZXNvdXJjZS51cmwgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUocmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZignbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqIEByZXR1cm5zIC0gVGhlIG5ldyB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9uZWRGcmFtZSA9IHRoaXMuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciBjbG9uZWRPcmlnID0gdGhpcy5fZnJhbWUgPT09IHRoaXMub3JpZyA/IGNsb25lZEZyYW1lIDogdGhpcy5vcmlnLmNsb25lKCk7XG4gICAgICAgIHZhciBjbG9uZWRUZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgIXRoaXMubm9GcmFtZSAmJiBjbG9uZWRGcmFtZSwgY2xvbmVkT3JpZywgdGhpcy50cmltICYmIHRoaXMudHJpbS5jbG9uZSgpLCB0aGlzLnJvdGF0ZSwgdGhpcy5kZWZhdWx0QW5jaG9yKTtcbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgY2xvbmVkVGV4dHVyZS5fZnJhbWUgPSBjbG9uZWRGcmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmVkVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBDYWxsIGl0IGFmdGVyIGNoYW5naW5nIHRoZSBmcmFtZVxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZVV2cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3V2cyA9PT0gREVGQVVMVF9VVlMpIHtcbiAgICAgICAgICAgIHRoaXMuX3V2cyA9IG5ldyBUZXh0dXJlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8UElYSS5CYXNlVGV4dHVyZX0gc291cmNlIC1cbiAgICAgKiAgICAgICAgU291cmNlIG9yIGFycmF5IG9mIHNvdXJjZXMgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5waXhpSWRQcmVmaXg9cGl4aWlkXSAtIElmIGEgc291cmNlIGhhcyBubyBpZCwgdGhpcyBpcyB0aGUgcHJlZml4IG9mIHRoZSBnZW5lcmF0ZWQgaWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHJpY3RdIC0gRW5mb3JjZSBzdHJpY3QtbW9kZSwgc2VlIHtAbGluayBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFfS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucywgc3RyaWN0KSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIGlmIChzdHJpY3QgPT09IHZvaWQgMCkgeyBzdHJpY3QgPSBzZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRTsgfVxuICAgICAgICB2YXIgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnO1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIGlmIChpc0ZyYW1lKSB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5jYWNoZUlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZWZpeCA9IChvcHRpb25zICYmIG9wdGlvbnMucGl4aUlkUHJlZml4KSB8fCAncGl4aWlkJztcbiAgICAgICAgICAgICAgICBzb3VyY2UuY2FjaGVJZCA9IHByZWZpeCArIFwiLVwiICsgdWlkKCk7XG4gICAgICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShzb3VyY2UsIHNvdXJjZS5jYWNoZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuY2FjaGVJZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5waXhpSWRQcmVmaXgpIHx8ICdwaXhpaWQnO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5fcGl4aUlkID0gcHJlZml4ICsgXCJfXCIgKyB1aWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmVDYWNoZVtjYWNoZUlkXTtcbiAgICAgICAgLy8gU3RyaWN0LW1vZGUgcmVqZWN0cyBpbnZhbGlkIGNhY2hlSWRzXG4gICAgICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNhY2hlSWQgXFxcIlwiICsgY2FjaGVJZCArIFwiXFxcIiBkb2VzIG5vdCBleGlzdCBpbiBUZXh0dXJlQ2FjaGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4dHVyZSAmJiAhKHNvdXJjZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwoc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGV4dHVyZSAmJiAoc291cmNlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUoc291cmNlKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSBiYXNlIHRleHR1cmUhXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZnVsIGZvciBsb2FkaW5nIHRleHR1cmVzIHZpYSBVUkxzLiBVc2UgaW5zdGVhZCBvZiBgVGV4dHVyZS5mcm9tYCBiZWNhdXNlXG4gICAgICogaXQgZG9lcyBhIGJldHRlciBqb2Igb2YgaGFuZGxpbmcgZmFpbGVkIFVSTHMgbW9yZSBlZmZlY3RpdmVseS4gVGhpcyBhbHNvIGlnbm9yZXNcbiAgICAgKiBgUElYSS5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRWAuIFdvcmtzIGZvciBWaWRlb3MsIFNWR3MsIEltYWdlcy5cbiAgICAgKiBAcGFyYW0gdXJsIC0gVGhlIHJlbW90ZSBVUkwgb3IgYXJyYXkgb2YgVVJMcyB0byBsb2FkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgb3B0aW9ucyB0byBpbmNsdWRlXG4gICAgICogQHJldHVybnMgLSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIFRleHR1cmUuXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tVVJMID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGF1dG9Mb2FkOiBmYWxzZSB9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlLmZyb20odXJsLCBPYmplY3QuYXNzaWduKHsgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSwgb3B0aW9ucyksIGZhbHNlKTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgLy8gVGhlIHRleHR1cmUgd2FzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgIGlmICh0ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1hbnVhbGx5IGxvYWQgdGhlIHRleHR1cmUsIHRoaXMgc2hvdWxkIGFsbG93IHVzZXJzIHRvIGhhbmRsZSBsb2FkIGVycm9yc1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheX0gYnVmZmVyIC0gVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJucyAtIFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRleHR1cmUgZnJvbSBhIHNvdXJjZSBhbmQgYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8c3RyaW5nfSBzb3VyY2UgLSBUaGUgaW5wdXQgc291cmNlLlxuICAgICAqIEBwYXJhbSBpbWFnZVVybCAtIEZpbGUgbmFtZSBvZiB0ZXh0dXJlLCBmb3IgY2FjaGUgYW5kIHJlc29sdmluZyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gSHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIC0gT3V0cHV0IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21Mb2FkZXIgPSBmdW5jdGlvbiAoc291cmNlLCBpbWFnZVVybCwgbmFtZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogc2V0dGluZ3MuU0NBTEVfTU9ERSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IGdldFJlc29sdXRpb25PZlVybChpbWFnZVVybCksXG4gICAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gYmFzZVRleHR1cmUucmVzb3VyY2U7XG4gICAgICAgIGlmIChyZXNvdXJjZSBpbnN0YW5jZW9mIEltYWdlUmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoYmFzZVRleHR1cmUpO1xuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciAnZnJvbUxvYWRlcicgZnVuY3Rpb25cbiAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIG5hbWUpO1xuICAgICAgICAvLyBhbHNvIGFkZCByZWZlcmVuY2VzIGJ5IHVybCBpZiB0aGV5IGFyZSBkaWZmZXJlbnQuXG4gICAgICAgIGlmIChuYW1lICE9PSBpbWFnZVVybCkge1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdlbmVyYWxseSBpbWFnZXMgYXJlIHZhbGlkIHJpZ2h0IGF3YXlcbiAgICAgICAgaWYgKHRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU1ZHIGFzc2V0cyBuZWVkIHRvIGJlIHBhcnNlZCBhc3luYywgbGV0J3Mgd2FpdFxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh0ZXh0dXJlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIFRleHR1cmUgdG8gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICogQHBhcmFtIHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gKHRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgW1wiICsgaWQgKyBcIl0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFRleHR1cmVDYWNoZVtpZF0gPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuXG4gICAgICogQHBhcmFtIHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm5zIC0gVGhlIFRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZFxuICAgICAqL1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcm9tQ2FjaGUgPSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG4gICAgICAgICAgICBpZiAodGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0ZXh0dXJlIG1hdGNoZXMgdGhlIG9uZSBiZWluZyBwYXNzZWQgaW4gYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJyZXNvbHV0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgcmVzb2x1dGlvbiBvZiBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJmcmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHggPSBmcmFtZS54LCB5ID0gZnJhbWUueSwgd2lkdGggPSBmcmFtZS53aWR0aCwgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIHhOb3RGaXQgPSB4ICsgd2lkdGggPiB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdmFyIHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoeE5vdEZpdCB8fCB5Tm90Rml0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0aW9uc2hpcCA9IHhOb3RGaXQgJiYgeU5vdEZpdCA/ICdhbmQnIDogJ29yJztcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JYID0gXCJYOiBcIiArIHggKyBcIiArIFwiICsgd2lkdGggKyBcIiA9IFwiICsgKHggKyB3aWR0aCkgKyBcIiA+IFwiICsgdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JZID0gXCJZOiBcIiArIHkgKyBcIiArIFwiICsgaGVpZ2h0ICsgXCIgPSBcIiArICh5ICsgaGVpZ2h0KSArIFwiID4gXCIgKyB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAnXG4gICAgICAgICAgICAgICAgICAgICsgKGVycm9yWCArIFwiIFwiICsgcmVsYXRpb25zaGlwICsgXCIgXCIgKyBlcnJvclkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS52YWxpZDtcbiAgICAgICAgICAgIGlmICghdGhpcy50cmltICYmICF0aGlzLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcInJvdGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgICAgICogc2V0IHRvIDIgdG8gY29tcGVuc2F0ZSBmb3IgdGV4dHVyZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogc2V0IHRvIDYgdG8gY29tcGVuc2F0ZSBmb3Igc3BpbmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH0gZm9yIGV4cGxhbmF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHJvdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKiogVGhlIGhlaWdodCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0LiAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLmNhc3RUb0Jhc2VUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLCBcIkVNUFRZXCIsIHtcbiAgICAgICAgLyoqIEFuIGVtcHR5IHRleHR1cmUsIHVzZWQgb2Z0ZW4gdG8gbm90IGhhdmUgdG8gY3JlYXRlIG11bHRpcGxlIGVtcHR5IHRleHR1cmVzLiBDYW4gbm90IGJlIGRlc3Ryb3llZC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIVRleHR1cmUuX0VNUFRZKSB7XG4gICAgICAgICAgICAgICAgVGV4dHVyZS5fRU1QVFkgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoKSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5fRU1QVFkpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuX0VNUFRZLmJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLl9FTVBUWTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLCBcIldISVRFXCIsIHtcbiAgICAgICAgLyoqIEEgd2hpdGUgdGV4dHVyZSBvZiAxNngxNiBzaXplLCB1c2VkIGZvciBncmFwaGljcyBhbmQgb3RoZXIgdGhpbmdzIENhbiBub3QgYmUgZGVzdHJveWVkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVGV4dHVyZS5fV0hJVEUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoMTYsIDE2KTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuICAgICAgICAgICAgICAgIFRleHR1cmUuX1dISVRFID0gbmV3IFRleHR1cmUoQmFzZVRleHR1cmUuZnJvbShjYW52YXMpKTtcbiAgICAgICAgICAgICAgICByZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLl9XSElURSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5fV0hJVEUuYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuX1dISVRFO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIEEgUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBfX0hpbnQtMl9fOiBUaGUgYWN0dWFsIG1lbW9yeSBhbGxvY2F0aW9uIHdpbGwgaGFwcGVuIG9uIGZpcnN0IHJlbmRlci5cbiAqIFlvdSBzaG91bGRuJ3QgY3JlYXRlIHJlbmRlclRleHR1cmVzIGVhY2ggZnJhbWUganVzdCB0byBkZWxldGUgdGhlbSBhZnRlciwgdHJ5IHRvIHJldXNlIHRoZW0uXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCB7cmVuZGVyVGV4dHVyZX0pO1xuICogYGBgXG4gKiBOb3RlIHRoYXQgeW91IHNob3VsZCBub3QgY3JlYXRlIGEgbmV3IHJlbmRlcmVyLCBidXQgcmV1c2UgdGhlIHNhbWUgb25lIGFzIHRoZSByZXN0IG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiAxMDAsIGhlaWdodDogMTAwIH0pO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHtyZW5kZXJUZXh0dXJlfSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZW5kZXJUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICogQHBhcmFtIGZyYW1lIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgICAgIF90aGlzLmZpbHRlclBvb2xLZXkgPSBudWxsO1xuICAgICAgICBfdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUsIFwiZnJhbWVidWZmZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvcnRjdXQgdG8gYHRoaXMuYmFzZVRleHR1cmUuZnJhbWVidWZmZXJgLCBzYXZlcyBiYXNlVGV4dHVyZSBjYXN0LlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVRleHR1cmUuZnJhbWVidWZmZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUsIFwibXVsdGlzYW1wbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvcnRjdXQgdG8gYHRoaXMuZnJhbWVidWZmZXIubXVsdGlzYW1wbGVgLlxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLk1TQUFfUVVBTElUWS5OT05FXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyYW1lYnVmZmVyLm11bHRpc2FtcGxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgUmVuZGVyVGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gZGVzaXJlZFdpZHRoIC0gVGhlIGRlc2lyZWQgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkSGVpZ2h0IC0gVGhlIGRlc2lyZWQgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0gcmVzaXplQmFzZVRleHR1cmUgLSBTaG91bGQgdGhlIGJhc2VUZXh0dXJlLndpZHRoIGFuZCBoZWlnaHQgdmFsdWVzIGJlIHJlc2l6ZWQgYXMgd2VsbD9cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoZGVzaXJlZFdpZHRoLCBkZXNpcmVkSGVpZ2h0LCByZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUgPT09IHZvaWQgMCkgeyByZXNpemVCYXNlVGV4dHVyZSA9IHRydWU7IH1cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoZGVzaXJlZFdpZHRoICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChkZXNpcmVkSGVpZ2h0ICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICAvLyBUT0RPIC0gY291bGQgYmUgbm90IHJlcXVpcmVkLi5cbiAgICAgICAgdGhpcy52YWxpZCA9ICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCk7XG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gdGhpcy5vcmlnLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IHRoaXMub3JpZy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGlmIChyZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmUsIGJ1dCBkb2VzIG5vdCBjaGFuZ2UgZnJhbWVidWZmZXIgc2l6ZS5cbiAgICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgZmFsc2UpO1xuICAgIH07XG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIHJlc3QgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHJlc3RbX2kgLSAxXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAZGVwcmVjYXRlZCBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNi4wLjAnLCAnQXJndW1lbnRzICh3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pIGhhdmUgYmVlbiBkZXByZWNhdGVkLicpO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlaWdodDogcmVzdFswXSxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IHJlc3RbMV0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzdFsyXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucykpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmU7XG59KFRleHR1cmUpKTtcblxuLyoqXG4gKiBUZXh0dXJlIHBvb2wsIHVzZWQgYnkgRmlsdGVyU3lzdGVtIGFuZCBwbHVnaW5zLlxuICpcbiAqIFN0b3JlcyBjb2xsZWN0aW9uIG9mIHRlbXBvcmFyeSBwb3cyIG9yIHNjcmVlbi1zaXplZCByZW5kZXJUZXh0dXJlc1xuICpcbiAqIElmIHlvdSB1c2UgY3VzdG9tIFJlbmRlclRleHR1cmVQb29sIGZvciB5b3VyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIG1ldGhvZHNcbiAqIGBnZXRGaWx0ZXJUZXh0dXJlYCBhbmQgYHJldHVybkZpbHRlclRleHR1cmVgIHNhbWUgYXMgaW5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlUG9vbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdGV4dHVyZU9wdGlvbnMgLSBvcHRpb25zIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gQmFzZVJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFt0ZXh0dXJlT3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVQb29sKHRleHR1cmVPcHRpb25zKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICAgICAgdGhpcy50ZXh0dXJlT3B0aW9ucyA9IHRleHR1cmVPcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRleHR1cmUgd2l0aCBwYXJhbXMgdGhhdCB3ZXJlIHNwZWNpZmllZCBpbiBwb29sIGNvbnN0cnVjdG9yLlxuICAgICAqIEBwYXJhbSByZWFsV2lkdGggLSBXaWR0aCBvZiB0ZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0gcmVhbEhlaWdodCAtIEhlaWdodCBvZiB0ZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0gbXVsdGlzYW1wbGUgLSBOdW1iZXIgb2Ygc2FtcGxlcyBvZiB0aGUgZnJhbWVidWZmZXIuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLmNyZWF0ZVRleHR1cmUgPSBmdW5jdGlvbiAocmVhbFdpZHRoLCByZWFsSGVpZ2h0LCBtdWx0aXNhbXBsZSkge1xuICAgICAgICBpZiAobXVsdGlzYW1wbGUgPT09IHZvaWQgMCkgeyBtdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FOyB9XG4gICAgICAgIHZhciBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZShPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHdpZHRoOiByZWFsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHJlYWxIZWlnaHQsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgbXVsdGlzYW1wbGU6IG11bHRpc2FtcGxlLFxuICAgICAgICB9LCB0aGlzLnRleHR1cmVPcHRpb25zKSk7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqIEBwYXJhbSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gbXVsdGlzYW1wbGUgLSBOdW1iZXIgb2Ygc2FtcGxlcyBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybnMgVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0T3B0aW1hbFRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICBpZiAobXVsdGlzYW1wbGUgPT09IHZvaWQgMCkgeyBtdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FOyB9XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIG1pbldpZHRoID0gTWF0aC5jZWlsKChtaW5XaWR0aCAqIHJlc29sdXRpb24pIC0gMWUtNik7XG4gICAgICAgIG1pbkhlaWdodCA9IE1hdGguY2VpbCgobWluSGVpZ2h0ICogcmVzb2x1dGlvbikgLSAxZS02KTtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gfHwgbWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KSB7XG4gICAgICAgICAgICBtaW5XaWR0aCA9IG5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAoKChtaW5XaWR0aCAmIDB4RkZGRikgPDwgMTYpIHwgKG1pbkhlaWdodCAmIDB4RkZGRikpID4+PiAwO1xuICAgICAgICAgICAgaWYgKG11bHRpc2FtcGxlID4gMSkge1xuICAgICAgICAgICAgICAgIGtleSArPSBtdWx0aXNhbXBsZSAqIDB4MTAwMDAwMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gbXVsdGlzYW1wbGUgPiAxID8gLW11bHRpc2FtcGxlIDogLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVQb29sW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbFtrZXldLnBvcCgpO1xuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgbXVsdGlzYW1wbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlclRleHR1cmUuZmlsdGVyUG9vbEtleSA9IGtleTtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgdGV4dHVyZSBvZiB0aGUgc2FtZSBzaXplIGFzIGlucHV0IHJlbmRlclRleHR1cmVcbiAgICAgKlxuICAgICAqIGBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCAwLjUpYCBvciBgZ2V0RmlsdGVyVGV4dHVyZSgwLjUsIGlucHV0KWBcbiAgICAgKiBAcGFyYW0gaW5wdXQgLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqICBJdCBvdmVycmlkZXMsIGl0IGRvZXMgbm90IG11bHRpcGx5XG4gICAgICogQHBhcmFtIG11bHRpc2FtcGxlIC0gbnVtYmVyIG9mIHNhbXBsZXMgb2YgdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChpbnB1dCwgcmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUpIHtcbiAgICAgICAgdmFyIGZpbHRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUgfHwgTVNBQV9RVUFMSVRZLk5PTkUpO1xuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVyblRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB2YXIga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgcmV0dXJuVGV4dHVyZSwgdG8gYmUgY29tcGxpYW50IHdpdGggRmlsdGVyU3lzdGVtIGludGVyZmFjZS5cbiAgICAgKiBAcGFyYW0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gZGVzdHJveVRleHR1cmVzIC0gRGVzdHJveSBhbGwgc3RvcmVkIHRleHR1cmVzLlxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgICAgZGVzdHJveVRleHR1cmVzID0gZGVzdHJveVRleHR1cmVzICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVQb29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiBzY3JlZW4gc2l6ZSB3YXMgY2hhbmdlZCwgZHJvcHMgYWxsIHNjcmVlbi1zaXplZCB0ZXh0dXJlcyxcbiAgICAgKiBzZXRzIG5ldyBzY3JlZW4gc2l6ZSwgc2V0cyBgZW5hYmxlRnVsbFNjcmVlbmAgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogU2l6ZSBpcyBtZWFzdXJlZCBpbiBwaXhlbHMsIGByZW5kZXJlci52aWV3YCBjYW4gYmUgcGFzc2VkIGhlcmUsIG5vdCBgcmVuZGVyZXIuc2NyZWVuYFxuICAgICAqIEBwYXJhbSBzaXplIC0gSW5pdGlhbCBzaXplIG9mIHNjcmVlbi5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuc2V0U2NyZWVuU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplLndpZHRoID09PSB0aGlzLl9waXhlbHNXaWR0aFxuICAgICAgICAgICAgJiYgc2l6ZS5oZWlnaHQgPT09IHRoaXMuX3BpeGVsc0hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVQb29sKSB7XG4gICAgICAgICAgICBpZiAoIShOdW1iZXIoaSkgPCAwKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVQb29sW2ldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtleSB0aGF0IGlzIHVzZWQgdG8gc3RvcmUgZnVsbHNjcmVlbiByZW5kZXJUZXh0dXJlcyBpbiBhIHBvb2xcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZID0gLTE7XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVQb29sO1xufSgpKTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBIb2xkcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgc2luZ2xlIGF0dHJpYnV0ZSBzdHJ1Y3R1cmUgcmVxdWlyZWQgdG8gcmVuZGVyIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udGFpbiB0aGUgYWN0dWFsIGRhdGEsIGJ1dCBpbnN0ZWFkIGhhcyBhIGJ1ZmZlciBpZCB0aGF0IG1hcHMgdG8gYSB7QGxpbmsgUElYSS5CdWZmZXJ9XG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXR0cmlidXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBidWZmZXIgLSB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0gc2l6ZSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0gbm9ybWFsaXplZCAtIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5UWVBFU30gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gLSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtAbGluayBQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIFtzdHJpZGU9MF0gLSBIb3cgZmFyIGFwYXJ0LCBpbiBieXRlcywgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKiBAcGFyYW0gW3N0YXJ0PTBdIC0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICogQHBhcmFtIFtpbnN0YW5jZT1mYWxzZV0gLSBXaGV0aGVyIHRoZSBnZW9tZXRyeSBpcyBpbnN0YW5jZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHNpemUgPT09IHZvaWQgMCkgeyBzaXplID0gMDsgfVxuICAgICAgICBpZiAobm9ybWFsaXplZCA9PT0gdm9pZCAwKSB7IG5vcm1hbGl6ZWQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBUWVBFUy5GTE9BVDsgfVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgICAvKiogRGVzdHJveXMgdGhlIEF0dHJpYnV0ZS4gKi9cbiAgICBBdHRyaWJ1dGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYW4gQXR0cmlidXRlIGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqIEBwYXJhbSBidWZmZXIgLSB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAgICAgKiBAcGFyYW0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICogQHBhcmFtIFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCwgaW4gYnl0ZXMsIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICogQHJldHVybnMgLSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqL1xuICAgIEF0dHJpYnV0ZS5mcm9tID0gZnVuY3Rpb24gKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdHRyaWJ1dGU7XG59KCkpO1xuXG52YXIgVUlEJDQgPSAwO1xuLyoqXG4gKiBBIHdyYXBwZXIgZm9yIGRhdGEgc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhbmQgdXBsb2FkZWQgYnkgV2ViR0xcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLklBcnJheUJ1ZmZlcn0gZGF0YSAtIHRoZSBkYXRhIHRvIHN0b3JlIGluIHRoZSBidWZmZXIuXG4gICAgICogQHBhcmFtIF9zdGF0aWMgLSBgdHJ1ZWAgZm9yIHN0YXRpYyBidWZmZXJcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBgdHJ1ZWAgZm9yIGluZGV4IGJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1ZmZlcihkYXRhLCBfc3RhdGljLCBpbmRleCkge1xuICAgICAgICBpZiAoX3N0YXRpYyA9PT0gdm9pZCAwKSB7IF9zdGF0aWMgPSB0cnVlOyB9XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5kYXRhID0gKGRhdGEgfHwgbmV3IEZsb2F0MzJBcnJheSgxKSk7XG4gICAgICAgIHRoaXMuX2dsQnVmZmVycyA9IHt9O1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5zdGF0aWMgPSBfc3RhdGljO1xuICAgICAgICB0aGlzLmlkID0gVUlEJDQrKztcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicpO1xuICAgIH1cbiAgICAvLyBUT0RPIGNvdWxkIGV4cGxvcmUgZmxhZ2dpbmcgb25seSBhIHBhcnRpYWwgdXBsb2FkP1xuICAgIC8qKlxuICAgICAqIEZsYWdzIHRoaXMgYnVmZmVyIGFzIHJlcXVpcmluZyBhbiB1cGxvYWQgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSUFycmF5QnVmZmVyfG51bWJlcltdfSBbZGF0YV0gLSB0aGUgZGF0YSB0byB1cGRhdGUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBCdWZmZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqIERpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeS4gKi9cbiAgICBCdWZmZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGUgYnVmZmVyLiAqL1xuICAgIEJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSwgXCJpbmRleFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gQlVGRkVSX1RZUEUuRUxFTUVOVF9BUlJBWV9CVUZGRVI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFncyB3aGV0aGVyIHRoaXMgaXMgYW4gaW5kZXggYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJbmRleCBidWZmZXJzIGFyZSBvZiB0eXBlIGBFTEVNRU5UX0FSUkFZX0JVRkZFUmAuIE5vdGUgdGhhdCBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gZmFsc2Ugd2lsbCBtYWtlXG4gICAgICAgICAqIHRoZSBidWZmZXIgb2YgdHlwZSBgQVJSQVlfQlVGRkVSYC5cbiAgICAgICAgICpcbiAgICAgICAgICogRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHZhbHVlID8gQlVGRkVSX1RZUEUuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBCVUZGRVJfVFlQRS5BUlJBWV9CVUZGRVI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYnVmZmVyIGJhc2VkIG9uIGFuIGFycmF5IG9yIFR5cGVkQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlldyB8IG51bWJlcltdfSBkYXRhIC0gdGhlIFR5cGVkQXJyYXkgdGhhdCB0aGUgYnVmZmVyIHdpbGwgc3RvcmUuIElmIHRoaXMgaXMgYSByZWd1bGFyIEFycmF5IGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIEByZXR1cm5zIC0gQSBuZXcgQnVmZmVyIGJhc2VkIG9uIHRoZSBkYXRhIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIEJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXIoZGF0YSk7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyO1xufSgpKTtcblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCQxID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG59O1xuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpIHtcbiAgICB2YXIgb3V0U2l6ZSA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgdmFyIHZpZXdzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuICAgIHZhciBvdXQgPSBudWxsO1xuICAgIHZhciBsaXR0bGVPZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpXTtcbiAgICAgICAgdmFyIHR5cGUgPSBnZXRCdWZmZXJUeXBlKGFycmF5KTtcbiAgICAgICAgaWYgKCF2aWV3c1t0eXBlXSkge1xuICAgICAgICAgICAgdmlld3NbdHlwZV0gPSBuZXcgbWFwJDFbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaiAlIHNpemU7XG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuXG52YXIgYnl0ZVNpemVNYXAkMSA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xudmFyIFVJRCQzID0gMDtcbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbiAgICBVaW50MTZBcnJheTogVWludDE2QXJyYXksXG59O1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBUaGUgR2VvbWV0cnkgcmVwcmVzZW50cyBhIG1vZGVsLiBJdCBjb25zaXN0cyBvZiB0d28gY29tcG9uZW50czpcbiAqIC0gR2VvbWV0cnlTdHlsZSAtIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG1vZGVsIHN1Y2ggYXMgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gKiAtIEdlb21ldHJ5RGF0YSAtIHRoZSBkYXRhIG9mIHRoZSBtb2RlbCAtIHRoaXMgY29uc2lzdHMgb2YgYnVmZmVycy5cbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkICh0aGF0cyBob3cgSSBwcmVmZXIhKVxuICpcbiAqIGBgYGpzXG4gKiBsZXQgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICpcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb25zJywgWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0sIDIpO1xuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dnMnLCBbMCwwLDEsMCwxLDEsMCwxXSwyKVxuICogZ2VvbWV0cnkuYWRkSW5kZXgoWzAsMSwyLDEsMywyXSlcbiAqIGBgYFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBidWZmZXJzIC0gQW4gYXJyYXkgb2YgYnVmZmVycy4gb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXMgLSBPZiB0aGUgZ2VvbWV0cnksIG9wdGlvbmFsIHN0cnVjdHVyZSBvZiB0aGUgYXR0cmlidXRlcyBsYXlvdXRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHZW9tZXRyeShidWZmZXJzLCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmIChidWZmZXJzID09PSB2b2lkIDApIHsgYnVmZmVycyA9IFtdOyB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzID09PSB2b2lkIDApIHsgYXR0cmlidXRlcyA9IHt9OyB9XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IGJ1ZmZlcnM7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0ge307XG4gICAgICAgIHRoaXMuaWQgPSBVSUQkMysrO1xuICAgICAgICB0aGlzLmluc3RhbmNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluc3RhbmNlQ291bnQgPSAxO1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlR2VvbWV0cnknKTtcbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQWRkcyBhbiBhdHRyaWJ1dGUgdG8gdGhlIGdlb21ldHJ5XG4gICAgICogTm90ZTogYHN0cmlkZWAgYW5kIGBzdGFydGAgc2hvdWxkIGJlIGB1bmRlZmluZWRgIGlmIHlvdSBkb250IGtub3cgdGhlbSwgbm90IDAhXG4gICAgICogQHBhcmFtIGlkIC0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSAobWF0Y2hpbmcgdXAgdG8gYSBzaGFkZXIpXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcnxudW1iZXJbXX0gYnVmZmVyIC0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgICogQHBhcmFtIHNpemUgLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAgICAgKiBAcGFyYW0gbm9ybWFsaXplZCAtIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqIEBwYXJhbSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge1BJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAgKiBAcGFyYW0gW3N0cmlkZT0wXSAtIEhvdyBmYXIgYXBhcnQsIGluIGJ5dGVzLCB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSBbc3RhcnQ9MF0gLSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgLSBJbnN0YW5jaW5nIGZsYWdcbiAgICAgKiBAcmV0dXJucyAtIFJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24gKGlkLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChzaXplID09PSB2b2lkIDApIHsgc2l6ZSA9IDA7IH1cbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHZvaWQgMCkgeyBub3JtYWxpemVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGluc3RhbmNlID09PSB2b2lkIDApIHsgaW5zdGFuY2UgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwYXNzIGEgYnVmZmVyIHdoZW4gY3JlYXRpbmcgYW4gYXR0cmlidXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIGJ1ZmZlciFcbiAgICAgICAgaWYgKCEoYnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHMgPSBpZC5zcGxpdCgnfCcpO1xuICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoaWRzW2ldLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKTtcbiAgICAgICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2lkXSA9IG5ldyBBdHRyaWJ1dGUoYnVmZmVySW5kZXgsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKTtcbiAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBpZiB0aGVyZSBpcyBpbnN0YW5jZWQgZGF0YSB0aGVuIHRoaXMgd2lsbCBiZSBkcmF3biB3aXRoIGluc3RhbmNpbmchXG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gdGhpcy5pbnN0YW5jZWQgfHwgaW5zdGFuY2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmVxdWVzdGVkIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gaWQgLSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHJlcXVpcmVkXG4gICAgICogQHJldHVybnMgLSBUaGUgYXR0cmlidXRlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbaWRdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmVxdWVzdGVkIGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0gaWQgLSBUaGUgbmFtZSBvZiB0aGUgYnVmZmVyIHJlcXVpcmVkLlxuICAgICAqIEByZXR1cm5zIC0gVGhlIGJ1ZmZlciByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuZ2V0QXR0cmlidXRlKGlkKS5idWZmZXJdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBZGRzIGFuIGluZGV4IGJ1ZmZlciB0byB0aGUgZ2VvbWV0cnlcbiAgICAgKiBUaGUgaW5kZXggYnVmZmVyIGNvbnRhaW5zIGludGVnZXJzLCB0aHJlZSBmb3IgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZ2VvbWV0cnksIHdoaWNoIHJlZmVyZW5jZSB0aGUgdmFyaW91cyBhdHRyaWJ1dGUgYnVmZmVycyAocG9zaXRpb24sIGNvbG91ciwgVVYgY29vcmRpbmF0ZXMsIG90aGVyIFVWIGNvb3JkaW5hdGVzLCBub3JtYWwsIOKApikuIFRoZXJlIGlzIG9ubHkgT05FIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfG51bWJlcltdfSBbYnVmZmVyXSAtIFRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgaW5kZXggYnVmZmVyLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgICogQHJldHVybnMgLSBSZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmFkZEluZGV4ID0gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICBpZiAoIShidWZmZXIgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXIudHlwZSA9IEJVRkZFUl9UWVBFLkVMRU1FTlRfQVJSQVlfQlVGRkVSO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gYnVmZmVyO1xuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBidWZmZXJcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBpbmRleCBidWZmZXIuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gbW9kaWZpZXMgdGhlIHN0cnVjdHVyZSBzbyB0aGF0IGFsbCBjdXJyZW50IGF0dHJpYnV0ZXMgYmVjb21lIGludGVybGVhdmVkIGludG8gYSBzaW5nbGUgYnVmZmVyXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGlmIHlvdXIgbW9kZWwgcmVtYWlucyBzdGF0aWMgYXMgaXQgb2ZmZXJzIGEgbGl0dGxlIHBlcmZvcm1hbmNlIGJvb3N0XG4gICAgICogQHJldHVybnMgLSBSZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmludGVybGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGEgc2ltcGxlIGNoZWNrIHRvIHNlZSBpZiBidWZmZXJzIGFyZSBhbHJlYWR5IGludGVybGVhdmVkLi5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDEgfHwgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDIgJiYgdGhpcy5pbmRleEJ1ZmZlcikpXG4gICAgICAgICAgICB7IHJldHVybiB0aGlzOyB9XG4gICAgICAgIC8vIGFzc3VtZSBhbHJlYWR5IHRoYXQgbm8gYnVmZmVycyBhcmUgaW50ZXJsZWF2ZWRcbiAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICAgICAgdmFyIGludGVybGVhdmVkQnVmZmVyID0gbmV3IEJ1ZmZlcigpO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICBhcnJheXMucHVzaChidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICBzaXplcy5wdXNoKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuICAgICAgICAgICAgYXR0cmlidXRlLmJ1ZmZlciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIuZGF0YSA9IGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzID0gW2ludGVybGVhdmVkQnVmZmVyXTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqIEdldCB0aGUgc2l6ZSBvZiB0aGUgZ2VvbWV0cmllcywgaW4gdmVydGljZXMuICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKiogRGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5LiAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKiogRGVzdHJveXMgdGhlIGdlb21ldHJ5LiAqL1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEByZXR1cm5zIC0gQSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIodGhpcy5idWZmZXJzW2ldLmRhdGEuc2xpY2UoMCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlc1tpXSA9IG5ldyBBdHRyaWJ1dGUoYXR0cmliLmJ1ZmZlciwgYXR0cmliLnNpemUsIGF0dHJpYi5ub3JtYWxpemVkLCBhdHRyaWIudHlwZSwgYXR0cmliLnN0cmlkZSwgYXR0cmliLnN0YXJ0LCBhdHRyaWIuaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIudHlwZSA9IEJVRkZFUl9UWVBFLkVMRU1FTlRfQVJSQVlfQlVGRkVSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1lcmdlcyBhbiBhcnJheSBvZiBnZW9tZXRyaWVzIGludG8gYSBuZXcgc2luZ2xlIG9uZS5cbiAgICAgKlxuICAgICAqIEdlb21ldHJ5IGF0dHJpYnV0ZSBzdHlsZXMgbXVzdCBtYXRjaCBmb3IgdGhpcyBvcGVyYXRpb24gdG8gd29yay5cbiAgICAgKiBAcGFyYW0gZ2VvbWV0cmllcyAtIGFycmF5IG9mIGdlb21ldHJpZXMgdG8gbWVyZ2VcbiAgICAgKiBAcmV0dXJucyAtIFNoaW55IG5ldyBnZW9tZXRyeSFcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5tZXJnZSA9IGZ1bmN0aW9uIChnZW9tZXRyaWVzKSB7XG4gICAgICAgIC8vIHRvZG8gYWRkIGEgZ2VvbWV0cnkgY2hlY2shXG4gICAgICAgIC8vIGFsc28gYSBzaXplIGNoZWNrLi4gY2FudCBiZSB0b28gYmlnIV1cbiAgICAgICAgdmFyIGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICAgICAgdmFyIHNpemVzID0gW107XG4gICAgICAgIHZhciBvZmZzZXRzID0gW107XG4gICAgICAgIHZhciBnZW9tZXRyeTtcbiAgICAgICAgLy8gcGFzcyBvbmUuLiBnZXQgc2l6ZXMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHNpemVzW2pdID0gc2l6ZXNbal0gfHwgMDtcbiAgICAgICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGJ1aWxkIHRoZSBjb3JyZWN0IHNpemUgYXJyYXlzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHR5cGVzIVxuICAgICAgICAgICAgYXJyYXlzW2ldID0gbmV3IG1hcFtnZXRCdWZmZXJUeXBlKGdlb21ldHJ5LmJ1ZmZlcnNbaV0uZGF0YSldKHNpemVzW2ldKTtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmJ1ZmZlcnNbaV0gPSBuZXcgQnVmZmVyKGFycmF5c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFzcyB0byBzZXQgZGF0YS4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlzW2pdLnNldChnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEsIG9mZnNldHNbal0pO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnZW9tZXRyeU91dC5hdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5T3V0LmJ1ZmZlcnNbZ2VvbWV0cnkuYnVmZmVycy5pbmRleE9mKGdlb21ldHJ5LmluZGV4QnVmZmVyKV07XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci50eXBlID0gQlVGRkVSX1RZUEUuRUxFTUVOVF9BUlJBWV9CVUZGRVI7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBzdHJpZGUgPSAwO1xuICAgICAgICAgICAgdmFyIG9mZnNldDIgPSAwO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlckluZGV4VG9Db3VudCA9IDA7XG4gICAgICAgICAgICAvLyBnZXQgYSBidWZmZXJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5idWZmZXJzW2ldICE9PSBnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJJbmRleFRvQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBzdHJpZGUgb2Ygb25lIGJ1ZmZlci4uXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoKGF0dHJpYnV0ZS5idWZmZXIgfCAwKSA9PT0gYnVmZmVySW5kZXhUb0NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmlkZSArPSAoKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGltZSB0byBvZmYgc2V0IGFsbCBpbmRleGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlckRhdGEgPSBnZW9tZXRyaWVzW2ldLmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuZGF0YVtqICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZ2VvbWV0cmllc1tpXS5idWZmZXJzW2J1ZmZlckluZGV4VG9Db3VudF0uZGF0YS5sZW5ndGggLyAoc3RyaWRlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5T3V0O1xuICAgIH07XG4gICAgcmV0dXJuIEdlb21ldHJ5O1xufSgpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFF1YWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFF1YWQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVhZCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSkpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDMsIDJdKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUXVhZDtcbn0oR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZCB3aXRoIHV2cyBsaWtlIGluIHY0XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUXVhZFV2ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhRdWFkVXYsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVhZFV2KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTEsIC0xLFxuICAgICAgICAgICAgMSwgLTEsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgLTEsIDEgXSk7XG4gICAgICAgIF90aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSBdKTtcbiAgICAgICAgX3RoaXMudmVydGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihfdGhpcy52ZXJ0aWNlcyk7XG4gICAgICAgIF90aGlzLnV2QnVmZmVyID0gbmV3IEJ1ZmZlcihfdGhpcy51dnMpO1xuICAgICAgICBfdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIF90aGlzLnZlcnRleEJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCBfdGhpcy51dkJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRJbmRleChbMCwgMSwgMiwgMCwgMiwgM10pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcHMgdHdvIFJlY3RhbmdsZSB0byB0aGUgcXVhZC5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0VGV4dHVyZUZyYW1lIC0gVGhlIGZpcnN0IHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIHNlY29uZCByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJucyAtIFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKHRhcmdldFRleHR1cmVGcmFtZSwgZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICB2YXIgeCA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHkgPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnkgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuICAgICAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzFdID0geTtcbiAgICAgICAgdGhpcy51dnNbMl0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1szXSA9IHk7XG4gICAgICAgIHRoaXMudXZzWzRdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbNV0gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG4gICAgICAgIHRoaXMudXZzWzZdID0geDtcbiAgICAgICAgdGhpcy51dnNbN10gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG4gICAgICAgIHggPSBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG4gICAgICAgIHRoaXMudmVydGljZXNbMF0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzZdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGVnYWN5IHVwbG9hZCBtZXRob2QsIGp1c3QgbWFya3MgYnVmZmVycyBkaXJ0eS5cbiAgICAgKiBAcmV0dXJucyAtIFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFF1YWRVdjtcbn0oR2VvbWV0cnkpKTtcblxudmFyIFVJRCQyID0gMDtcbi8qKlxuICogVW5pZm9ybSBncm91cCBob2xkcyB1bmlmb3JtIG1hcCBhbmQgc29tZSBJRCdzIGZvciB3b3JrXG4gKlxuICogYFVuaWZvcm1Hcm91cGAgaGFzIHR3byBtb2RlczpcbiAqXG4gKiAxOiBOb3JtYWwgbW9kZVxuICogTm9ybWFsIG1vZGUgd2lsbCB1cGxvYWQgdGhlIHVuaWZvcm1zIHdpdGggaW5kaXZpZHVhbCBmdW5jdGlvbiBjYWxscyBhcyByZXF1aXJlZFxuICpcbiAqIDI6IFVuaWZvcm0gYnVmZmVyIG1vZGVcbiAqIFRoaXMgbW9kZSB3aWxsIHRyZWF0IHRoZSB1bmlmb3JtcyBhcyBhIHVuaWZvcm0gYnVmZmVyLiBZb3UgY2FuIHBhc3MgaW4gZWl0aGVyIGEgYnVmZmVyIHRoYXQgeW91IG1hbnVhbGx5IGhhbmRsZSwgb3JcbiAqIG9yIGEgZ2VuZXJpYyBvYmplY3QgdGhhdCBQaXhpSlMgd2lsbCBhdXRvbWF0aWNhbGx5IG1hcCB0byBhIGJ1ZmZlciBmb3IgeW91LlxuICogRm9yIG1heGltdW0gYmVuZWZpdHMsIG1ha2UgVWJvIFVuaWZvcm1Hcm91cHMgc3RhdGljLCBhbmQgb25seSB1cGRhdGUgdGhlbSBlYWNoIGZyYW1lLlxuICpcbiAqIFJ1bGVzIG9mIFVCT3M6XG4gKiAtIFVCT3Mgb25seSB3b3JrIHdpdGggV2ViR0wyLCBzbyBtYWtlIHN1cmUgeW91IGhhdmUgYSBmYWxsYmFjayFcbiAqIC0gT25seSBmbG9hdHMgYXJlIHN1cHBvcnRlZCAoaW5jbHVkaW5nIHZlY1syLDMsNF0sIG1hdFsyLDMsNF0pXG4gKiAtIFNhbXBsZXJzIGNhbm5vdCBiZSB1c2VkIGluIHVibydzIChhIEdQVSBsaW1pdGF0aW9uKVxuICogLSBZb3UgbXVzdCBlbnN1cmUgdGhhdCB0aGUgb2JqZWN0IHlvdSBwYXNzIGluIGV4YWN0bHkgbWF0Y2hlcyBpbiB0aGUgc2hhZGVyIHVibyBzdHJ1Y3R1cmUuXG4gKiBPdGhlcndpc2UsIHdlaXJkbmVzcyB3aWxsIGVuc3VlIVxuICogLSBUaGUgbmFtZSBvZiB0aGUgdWJvIG9iamVjdCBhZGRlZCB0byB0aGUgZ3JvdXAgbXVzdCBtYXRjaCBleGFjdGx5IHRoZSBuYW1lIG9mIHRoZSB1Ym8gaW4gdGhlIHNoYWRlci5cbiAqXG4gKiBgYGBcbiAqIC8vIHVibyBpbiBzaGFkZXI6XG4gKiB1bmlmb3JtIG15Q29vbERhdGEgeyAvLyBkZWNsYXJpbmcgYSB1Ym8uLlxuICogbWF0NCB1Q29vbE1hdHJpeDtcbiAqIGZsb2F0IHVGbG9hdHlNY0Zsb2F0RmFjZVxuICpcbiAqXG4gKiAvLyBhIG5ldyB1bmlmb3JtIGJ1ZmZlciBvYmplY3QuLlxuICogY29uc3QgbXlDb29sRGF0YSA9IG5ldyBVbmlmb3JtQnVmZmVyR3JvdXAoe1xuICogICB1Q29vbE1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICogICB1RmxvYXR5TWNGbG9hdEZhY2U6IDIzLFxuICogfX1cbiAqXG4gKiAvLyBidWlsZCBhIHNoYWRlci4uLlxuICogY29uc3Qgc2hhZGVyID0gU2hhZGVyLmZyb20oc3JjVmVydCwgc3JjRnJhZywge1xuICogICBteUNvb2xEYXRhIC8vIG5hbWUgbWF0Y2hlcyB0aGUgdWJvIG5hbWUgaW4gdGhlIHNoYWRlci4gd2lsbCBiZSBwcm9jZXNzZWQgYWNjb3JkaW5nbHkuXG4gKiB9KVxuICpcbiAqICBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBVbmlmb3JtR3JvdXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3QgfCBCdWZmZXJ9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuIE9yIGEgcGl4aSBidWZmZXIuXG4gICAgICogQHBhcmFtIGlzU3RhdGljIC0gVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uLlxuICAgICAqIEBwYXJhbSBpc1VibyAtIElmIHRydWUsIHdpbGwgdHJlYXQgdGhpcyB1bmlmb3JtIGdyb3VwIGFzIGEgdW5pZm9ybSBidWZmZXIgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgaXNTdGF0aWMsIGlzVWJvKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSB0cnVlO1xuICAgICAgICAvLyBsZXRzIGdlbmVyYXRlIHRoaXMgd2hlbiB0aGUgc2hhZGVyID9cbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSB7fTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgdGhpcy5pZCA9IFVJRCQyKys7XG4gICAgICAgIHRoaXMuc3RhdGljID0gISFpc1N0YXRpYztcbiAgICAgICAgdGhpcy51Ym8gPSAhIWlzVWJvO1xuICAgICAgICBpZiAodW5pZm9ybXMgaW5zdGFuY2VvZiBCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gdW5pZm9ybXM7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci50eXBlID0gQlVGRkVSX1RZUEUuVU5JRk9STV9CVUZGRVI7XG4gICAgICAgICAgICB0aGlzLmF1dG9NYW5hZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudWJvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcbiAgICAgICAgICAgIGlmICh0aGlzLnVibykge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IEJ1ZmZlcihuZXcgRmxvYXQzMkFycmF5KDEpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlci50eXBlID0gQlVGRkVSX1RZUEUuVU5JRk9STV9CVUZGRVI7XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvTWFuYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBVbmlmb3JtR3JvdXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIGlmICghdGhpcy5hdXRvTWFuYWdlICYmIHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW5pZm9ybUdyb3VwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAobmFtZSwgdW5pZm9ybXMsIF9zdGF0aWMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVibykge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtc1tuYW1lXSA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1VuaWZvcm1Hcm91cF0gdW5pZm9ybSBncm91cHMgaW4gdWJvIG1vZGUgY2Fubm90IGJlIG1vZGlmaWVkLCBvciBoYXZlIHVuaWZvcm0gZ3JvdXBzIG5lc3RlZCBpbiB0aGVtJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVuaWZvcm1Hcm91cC5mcm9tID0gZnVuY3Rpb24gKHVuaWZvcm1zLCBfc3RhdGljLCBfdWJvKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljLCBfdWJvKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBzdGF0aWMgVUJPIFVuaWZvcm1Hcm91cC5cbiAgICAgKiBAcGFyYW0gdW5pZm9ybXMgLSB0aGUgdWJvIGl0ZW1cbiAgICAgKiBAcGFyYW0gX3N0YXRpYyAtIHNob3VsZCB0aGlzIGJlIHVwZGF0ZWQgZWFjaCB0aW1lIGl0IGlzIHVzZWQ/IGRlZmF1bHRzIHRvIHRydWUgaGVyZSFcbiAgICAgKi9cbiAgICBVbmlmb3JtR3JvdXAudWJvRnJvbSA9IGZ1bmN0aW9uICh1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICByZXR1cm4gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyAhPT0gbnVsbCAmJiBfc3RhdGljICE9PSB2b2lkIDAgPyBfc3RhdGljIDogdHJ1ZSwgdHJ1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gVW5pZm9ybUdyb3VwO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZmlsdGVyIHN0YXRlcy5cbiAqIEBpZ25vcmVcbiAqL1xudmFyIEZpbHRlclN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbHRlclN0YXRlKCkge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgLy8gbmV4dCB0aHJlZSBmaWVsZHMgYXJlIGNyZWF0ZWQgb25seSBmb3Igcm9vdFxuICAgICAgICAvLyByZS1hc3NpZ25lZCBmb3IgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5iaW5kaW5nU291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgfVxuICAgIC8qKiBDbGVhcnMgdGhlIHN0YXRlICovXG4gICAgRmlsdGVyU3RhdGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3RhdGU7XG59KCkpO1xuXG52YXIgdGVtcFBvaW50cyA9IFtuZXcgUG9pbnQoKSwgbmV3IFBvaW50KCksIG5ldyBQb2ludCgpLCBuZXcgUG9pbnQoKV07XG52YXIgdGVtcE1hdHJpeCQyID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZmlsdGVycy5cbiAqXG4gKiAjIyBQaXBlbGluZVxuICpcbiAqIFRoZSBGaWx0ZXJTeXN0ZW0gZXhlY3V0ZXMgdGhlIGZpbHRlcmluZyBwaXBlbGluZSBieSByZW5kZXJpbmcgdGhlIGRpc3BsYXktb2JqZWN0IGludG8gYSB0ZXh0dXJlLCBhcHBseWluZyBpdHNcbiAqIFtmaWx0ZXJzXXtAbGluayBQSVhJLkZpbHRlcn0gaW4gc2VyaWVzLCBhbmQgdGhlIGxhc3QgZmlsdGVyIG91dHB1dHMgaW50byB0aGUgZmluYWwgcmVuZGVyLXRhcmdldC5cbiAqXG4gKiBUaGUgZmlsdGVyLWZyYW1lIGlzIHRoZSByZWN0YW5nbGUgaW4gd29ybGQgc3BhY2UgYmVpbmcgZmlsdGVyZWQsIGFuZCB0aG9zZSBjb250ZW50cyBhcmUgbWFwcGVkIGludG9cbiAqIGAoMCwgMCwgZmlsdGVyRnJhbWUud2lkdGgsIGZpbHRlckZyYW1lLmhlaWdodClgIGludG8gdGhlIGZpbHRlciByZW5kZXItdGV4dHVyZS4gVGhlIGZpbHRlci1mcmFtZSBpcyBhbHNvIGNhbGxlZFxuICogdGhlIHNvdXJjZS1mcmFtZSwgYXMgaXQgaXMgdXNlZCB0byBiaW5kIHRoZSBmaWx0ZXIgcmVuZGVyLXRleHR1cmVzLiBUaGUgbGFzdCBmaWx0ZXIgb3V0cHV0cyB0byB0aGUgYGZpbHRlckZyYW1lYFxuICogaW4gdGhlIGZpbmFsIHJlbmRlci10YXJnZXQuXG4gKlxuICogIyMgVXNhZ2VcbiAqXG4gKiB7QGxpbmsgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWR9IGlzIGFuIGV4YW1wbGUgb2YgaG93IHRvIHVzZSB0aGUgZmlsdGVyIHN5c3RlbS4gSXQgaXMgYSAzIHN0ZXAgcHJvY2VzczpcbiAqXG4gKiAqKnB1c2gqKjogVXNlIHtAbGluayBQSVhJLkZpbHRlclN5c3RlbSNwdXNofSB0byBwdXNoIHRoZSBzZXQgb2YgZmlsdGVycyB0byBiZSBhcHBsaWVkIG9uIGEgZmlsdGVyLXRhcmdldC5cbiAqICoqcmVuZGVyKio6IFJlbmRlciB0aGUgY29udGVudHMgdG8gYmUgZmlsdGVyZWQgdXNpbmcgdGhlIHJlbmRlcmVyLiBUaGUgZmlsdGVyLXN5c3RlbSB3aWxsIG9ubHkgY2FwdHVyZSB0aGUgY29udGVudHNcbiAqICAgICAgaW5zaWRlIHRoZSBib3VuZHMgb2YgdGhlIGZpbHRlci10YXJnZXQuIE5PVEU6IFVzaW5nIHtAbGluayBQSVhJLlJlbmRlcmVyI3JlbmRlcn0gaXNcbiAqICAgICAgaWxsZWdhbCBkdXJpbmcgYW4gZXhpc3RpbmcgcmVuZGVyIGN5Y2xlLCBhbmQgaXQgbWF5IHJlc2V0IHRoZSBmaWx0ZXIgc3lzdGVtLlxuICogKipwb3AqKjogVXNlIHtAbGluayBQSVhJLkZpbHRlclN5c3RlbSNwb3B9IHRvIHBvcCAmIGV4ZWN1dGUgdGhlIGZpbHRlcnMgeW91IGluaXRpYWxseSBwdXNoZWQuIEl0IHdpbGwgYXBwbHkgdGhlbVxuICogICAgICBzZXJpYWxseSBhbmQgb3V0cHV0IHRvIHRoZSBib3VuZHMgb2YgdGhlIGZpbHRlci10YXJnZXQuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRmlsdGVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2sgPSBbe31dO1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZShyZW5kZXJlci52aWV3KTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wgPSBbXTtcbiAgICAgICAgdGhpcy5xdWFkID0gbmV3IFF1YWQoKTtcbiAgICAgICAgdGhpcy5xdWFkVXYgPSBuZXcgUXVhZFV2KCk7XG4gICAgICAgIHRoaXMudGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgb3V0cHV0RnJhbWU6IG5ldyBSZWN0YW5nbGUoKSxcbiAgICAgICAgICAgIGlucHV0U2l6ZTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0UGl4ZWw6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dENsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIC8vIGxlZ2FjeSB2YXJpYWJsZXNcbiAgICAgICAgICAgIGZpbHRlckFyZWE6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBmaWx0ZXJDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZm9yY2VDbGVhciA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVzZU1heFBhZGRpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgc2V0IG9mIGZpbHRlcnMgdG8gYmUgYXBwbGllZCBsYXRlciB0byB0aGUgc3lzdGVtLiBUaGlzIHdpbGwgcmVkaXJlY3QgZnVydGhlciByZW5kZXJpbmcgaW50byBhblxuICAgICAqIGlucHV0IHJlbmRlci10ZXh0dXJlIGZvciB0aGUgcmVzdCBvZiB0aGUgZmlsdGVyaW5nIHBpcGVsaW5lLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHRhcmdldCwgZmlsdGVycykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVBvb2wucG9wKCkgfHwgbmV3IEZpbHRlclN0YXRlKCk7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlU3lzdGVtID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG11bHRpc2FtcGxlID0gZmlsdGVyc1swXS5tdWx0aXNhbXBsZTtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIHZhciBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgICAgICAvLyBXZSBkb24ndCBrbm93IHdoZXRoZXIgaXQncyBhIGxlZ2FjeSBmaWx0ZXIgdW50aWwgaXQgd2FzIGJvdW5kIGZvciB0aGUgZmlyc3QgdGltZSxcbiAgICAgICAgLy8gdGhlcmVmb3JlIHdlIGhhdmUgdG8gYXNzdW1lIHRoYXQgaXQgaXMgaWYgbGVnYWN5IGlzIHVuZGVmaW5lZC5cbiAgICAgICAgdmFyIGxlZ2FjeSA9IChfYSA9IGZpbHRlcnNbMF0ubGVnYWN5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuICAgICAgICAgICAgLy8gbGV0J3MgdXNlIHRoZSBsb3dlc3QgcmVzb2x1dGlvblxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIC8vIGxldCdzIHVzZSB0aGUgbG93ZXN0IG51bWJlciBvZiBzYW1wbGVzXG4gICAgICAgICAgICBtdWx0aXNhbXBsZSA9IE1hdGgubWluKG11bHRpc2FtcGxlLCBmaWx0ZXIubXVsdGlzYW1wbGUpO1xuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgcGFkZGluZyByZXF1aXJlZCBmb3IgZmlsdGVyc1xuICAgICAgICAgICAgcGFkZGluZyA9IHRoaXMudXNlTWF4UGFkZGluZ1xuICAgICAgICAgICAgICAgIC8vIG9sZCBiZWhhdmlvcjogdXNlIGxhcmdlc3QgYW1vdW50IG9mIHBhZGRpbmchXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heChwYWRkaW5nLCBmaWx0ZXIucGFkZGluZylcbiAgICAgICAgICAgICAgICAvLyBuZXcgYmVoYXZpb3I6IHN1bSB0aGUgcGFkZGluZ1xuICAgICAgICAgICAgICAgIDogcGFkZGluZyArIGZpbHRlci5wYWRkaW5nO1xuICAgICAgICAgICAgLy8gb25seSBhdXRvIGZpdCBpZiBhbGwgZmlsdGVycyBhcmUgYXV0b2ZpdFxuICAgICAgICAgICAgYXV0b0ZpdCA9IGF1dG9GaXQgJiYgZmlsdGVyLmF1dG9GaXQ7XG4gICAgICAgICAgICBsZWdhY3kgPSBsZWdhY3kgfHwgKChfYiA9IGZpbHRlci5sZWdhY3kpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJTdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrWzBdLnJlbmRlclRleHR1cmUgPSByZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZmlsdGVyU3RhY2sucHVzaChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBzdGF0ZS5tdWx0aXNhbXBsZSA9IG11bHRpc2FtcGxlO1xuICAgICAgICBzdGF0ZS5sZWdhY3kgPSBsZWdhY3k7XG4gICAgICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcbiAgICAgICAgdmFyIHNvdXJjZUZyYW1lUHJvamVjdGVkID0gdGhpcy50ZW1wUmVjdC5jb3B5RnJvbShyZW5kZXJUZXh0dXJlU3lzdGVtLnNvdXJjZUZyYW1lKTtcbiAgICAgICAgLy8gUHJvamVjdCBzb3VyY2UgZnJhbWUgaW50byB3b3JsZCBzcGFjZSAoaWYgcHJvamVjdGlvbiBpcyBhcHBsaWVkKVxuICAgICAgICBpZiAocmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtQUFCQih0ZW1wTWF0cml4JDIuY29weUZyb20ocmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0pLmludmVydCgpLCBzb3VyY2VGcmFtZVByb2plY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dG9GaXQpIHtcbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmZpdChzb3VyY2VGcmFtZVByb2plY3RlZCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUuc291cmNlRnJhbWUud2lkdGggPD0gMCB8fCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoID0gMDtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzdGF0ZS5zb3VyY2VGcmFtZS5pbnRlcnNlY3RzKHNvdXJjZUZyYW1lUHJvamVjdGVkKSkge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUud2lkdGggPSAwO1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSb3VuZCBzb3VyY2VGcmFtZSBpbiBzY3JlZW4gc3BhY2UgYmFzZWQgb24gcmVuZGVyLXRleHR1cmUuXG4gICAgICAgIHRoaXMucm91bmRGcmFtZShzdGF0ZS5zb3VyY2VGcmFtZSwgcmVuZGVyVGV4dHVyZVN5c3RlbS5jdXJyZW50ID8gcmVuZGVyVGV4dHVyZVN5c3RlbS5jdXJyZW50LnJlc29sdXRpb24gOiByZW5kZXJlci5yZXNvbHV0aW9uLCByZW5kZXJUZXh0dXJlU3lzdGVtLnNvdXJjZUZyYW1lLCByZW5kZXJUZXh0dXJlU3lzdGVtLmRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtKTtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoc3RhdGUuc291cmNlRnJhbWUud2lkdGgsIHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUpO1xuICAgICAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnJlbmRlclRleHR1cmUud2lkdGg7XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUucmVuZGVyVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy50ZW1wUmVjdDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS54ID0gMDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS55ID0gMDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICBzdGF0ZS5iaW5kaW5nU291cmNlRnJhbWUuY29weUZyb20ocmVuZGVyVGV4dHVyZVN5c3RlbS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIHN0YXRlLmJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLmNvcHlGcm9tKHJlbmRlclRleHR1cmVTeXN0ZW0uZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHN0YXRlLnRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgICAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHJlbmRlclRleHR1cmVTeXN0ZW0uYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKDAsIDAsIDAsIDApO1xuICAgIH07XG4gICAgLyoqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmaWx0ZXJTdGFjayA9IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrO1xuICAgICAgICB2YXIgc3RhdGUgPSBmaWx0ZXJTdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBnbG9iYWxVbmlmb3JtcyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgICAgIGdsb2JhbFVuaWZvcm1zLm91dHB1dEZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG4gICAgICAgIGdsb2JhbFVuaWZvcm1zLnJlc29sdXRpb24gPSBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaW5wdXRTaXplID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRTaXplO1xuICAgICAgICB2YXIgaW5wdXRQaXhlbCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0UGl4ZWw7XG4gICAgICAgIHZhciBpbnB1dENsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcbiAgICAgICAgaW5wdXRTaXplWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgaW5wdXRTaXplWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIGlucHV0U2l6ZVsyXSA9IDEuMCAvIGlucHV0U2l6ZVswXTtcbiAgICAgICAgaW5wdXRTaXplWzNdID0gMS4wIC8gaW5wdXRTaXplWzFdO1xuICAgICAgICBpbnB1dFBpeGVsWzBdID0gTWF0aC5yb3VuZChpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICAgICAgaW5wdXRQaXhlbFsxXSA9IE1hdGgucm91bmQoaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICAgIGlucHV0UGl4ZWxbMl0gPSAxLjAgLyBpbnB1dFBpeGVsWzBdO1xuICAgICAgICBpbnB1dFBpeGVsWzNdID0gMS4wIC8gaW5wdXRQaXhlbFsxXTtcbiAgICAgICAgaW5wdXRDbGFtcFswXSA9IDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgICAgIGlucHV0Q2xhbXBbMV0gPSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgICAgICBpbnB1dENsYW1wWzJdID0gKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoICogaW5wdXRTaXplWzJdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzJdKTtcbiAgICAgICAgaW5wdXRDbGFtcFszXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgKiBpbnB1dFNpemVbM10pIC0gKDAuNSAqIGlucHV0UGl4ZWxbM10pO1xuICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgcmVjdCBpZiBpdHMgbGVnYWN5Li5cbiAgICAgICAgaWYgKHN0YXRlLmxlZ2FjeSkge1xuICAgICAgICAgICAgdmFyIGZpbHRlckFyZWEgPSBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJBcmVhO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzJdID0gc3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBzdGF0ZS5zb3VyY2VGcmFtZS55O1xuICAgICAgICAgICAgZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQ2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgICAgIHZhciBsYXN0U3RhdGUgPSBmaWx0ZXJTdGFja1tmaWx0ZXJTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7XG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShmbGlwLndpZHRoLCBmbGlwLmhlaWdodCwgc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICAgICAgICBmbG9wLmZpbHRlckZyYW1lID0gZmxpcC5maWx0ZXJGcmFtZTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAxICYmIHN0YXRlLm11bHRpc2FtcGxlID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShmbGlwLndpZHRoLCBmbGlwLmhlaWdodCwgc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGZsb3AuZmlsdGVyRnJhbWUgPSBmbGlwLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIENMRUFSX01PREVTLkNMRUFSLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSBmbG9wO1xuICAgICAgICAgICAgICAgIGZsb3AgPSB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChpID4gMSAmJiBzdGF0ZS5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoc3RhdGUucmVuZGVyVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxpcCk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxvcCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGFzdFN0YXRlLnJlbmRlclRleHR1cmUgaXMgYmxpdHRlZCB3aGVuIGxhc3RTdGF0ZSBpcyBwb3BwZWRcbiAgICAgICAgc3RhdGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wucHVzaChzdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHJlbmRlclRleHR1cmUgd2l0aCBjb3JyZXNwb25kaW5nIGBmaWx0ZXJGcmFtZWAsIGNsZWFycyBpdCBpZiBtb2RlIGNvcnJlc3BvbmRzLlxuICAgICAqIEBwYXJhbSBmaWx0ZXJUZXh0dXJlIC0gcmVuZGVyVGV4dHVyZSB0byBiaW5kLCBzaG91bGQgYmVsb25nIHRvIGZpbHRlciBwb29sIG9yIGZpbHRlciBzdGFja1xuICAgICAqIEBwYXJhbSBjbGVhck1vZGUgLSBjbGVhck1vZGUsIGJ5IGRlZmF1bHQgaXRzIENMRUFSL1lFUy4gU2VlIHtAbGluayBQSVhJLkNMRUFSX01PREVTfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYmluZEFuZENsZWFyID0gZnVuY3Rpb24gKGZpbHRlclRleHR1cmUsIGNsZWFyTW9kZSkge1xuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSB2b2lkIDApIHsgY2xlYXJNb2RlID0gQ0xFQVJfTU9ERVMuQ0xFQVI7IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlciwgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IF9hLnJlbmRlclRleHR1cmUsIHN0YXRlU3lzdGVtID0gX2Euc3RhdGU7XG4gICAgICAgIGlmIChmaWx0ZXJUZXh0dXJlID09PSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFja1t0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjay5sZW5ndGggLSAxXS5yZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAvLyBSZXN0b3JlIHByb2plY3Rpb24gdHJhbnNmb3JtIGlmIHJlbmRlcmluZyBpbnRvIHRoZSBvdXRwdXQgcmVuZGVyLXRhcmdldC5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0aGlzLmFjdGl2ZVN0YXRlLnRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgcHJvamVjdGlvbiB3aXRoaW4gZmlsdGVyaW5nIHBpcGVsaW5lLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlclRleHR1cmUgJiYgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSkge1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnRlbXBSZWN0O1xuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS54ID0gMDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUueSA9IDA7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlU3lzdGVtLmJpbmQoZmlsdGVyVGV4dHVyZSwgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsdGVyVGV4dHVyZSAhPT0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2subGVuZ3RoIC0gMV0ucmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZVN5c3RlbS5iaW5kKGZpbHRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVzdG9yZSBiaW5kaW5nIGZvciBvdXRwdXQgcmVuZGVyLXRhcmdldC5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZpbHRlclRleHR1cmUsIHRoaXMuYWN0aXZlU3RhdGUuYmluZGluZ1NvdXJjZUZyYW1lLCB0aGlzLmFjdGl2ZVN0YXRlLmJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciB0aGUgdGV4dHVyZSBpbiBCTElUIG1vZGUgaWYgYmxlbmRpbmcgaXMgZGlzYWJsZWQgb3IgdGhlIGZvcmNlQ2xlYXIgZmxhZyBpcyBzZXQuIFRoZSBibGVuZGluZ1xuICAgICAgICAvLyBpcyBzdG9yZWQgaW4gdGhlIDB0aCBiaXQgb2YgdGhlIHN0YXRlLlxuICAgICAgICB2YXIgYXV0b0NsZWFyID0gKHN0YXRlU3lzdGVtLnN0YXRlSWQgJiAxKSB8fCB0aGlzLmZvcmNlQ2xlYXI7XG4gICAgICAgIGlmIChjbGVhck1vZGUgPT09IENMRUFSX01PREVTLkNMRUFSXG4gICAgICAgICAgICB8fCAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5CTElUICYmIGF1dG9DbGVhcikpIHtcbiAgICAgICAgICAgIC8vIFVzZSBmcmFtZWJ1ZmZlci5jbGVhciBiZWNhdXNlIHdlIHdhbnQgdG8gY2xlYXIgdGhlIHdob2xlIGZpbHRlciB0ZXh0dXJlLCBub3QganVzdCB0aGUgZmlsdGVyaW5nXG4gICAgICAgICAgICAvLyBhcmVhIG92ZXIgd2hpY2ggdGhlIHNoYWRlcnMgYXJlIHJ1bi4gVGhpcyBpcyBiZWNhdXNlIGZpbHRlcnMgbWF5IHNhbXBsaW5nIG91dHNpZGUgb2YgaXQgKGUuZy4gYmx1cilcbiAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgY2xhbXBpbmcgdGhlaXIgYXJpdGhtZXRpYy5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyIHVzaW5nIHRoZSBkZWZhdWx0IHJlbmRlcmluZyBwcm9jZXNzLlxuICAgICAqXG4gICAgICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIG9ubHkgYnkge0BsaW5rIEZpbHRlciNhcHBseX0uXG4gICAgICogQHBhcmFtIGZpbHRlciAtIFRoZSBmaWx0ZXIgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgLy8gU2V0IHN0YXRlIGJlZm9yZSBiaW5kaW5nLCBzbyBiaW5kQW5kQ2xlYXIgZ2V0cyB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KGZpbHRlci5zdGF0ZSk7XG4gICAgICAgIHRoaXMuYmluZEFuZENsZWFyKG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgLy8gc2V0IHRoZSB1bmlmb3Jtcy4uXG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy51U2FtcGxlciA9IGlucHV0O1xuICAgICAgICBmaWx0ZXIudW5pZm9ybXMuZmlsdGVyR2xvYmFscyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIC8vIFRPRE8gbWFrZSBpdCBzbyB0aGF0IHRoZSBvcmRlciBvZiB0aGlzIGRvZXMgbm90IG1hdHRlci4uXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBhdCB0aGUgbW9tZW50IGNvcyBvZiBnbG9iYWwgdW5pZm9ybXMuXG4gICAgICAgIC8vIHRoZXkgbmVlZCB0byBnZXQgcmVzeW5jZWRcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoZmlsdGVyKTtcbiAgICAgICAgLy8gY2hlY2sgdG8gc2VlIGlmIHRoZSBmaWx0ZXIgaXMgYSBsZWdhY3kgb25lLi5cbiAgICAgICAgZmlsdGVyLmxlZ2FjeSA9ICEhZmlsdGVyLnByb2dyYW0uYXR0cmlidXRlRGF0YS5hVGV4dHVyZUNvb3JkO1xuICAgICAgICBpZiAoZmlsdGVyLmxlZ2FjeSkge1xuICAgICAgICAgICAgdGhpcy5xdWFkVXYubWFwKGlucHV0Ll9mcmFtZSwgaW5wdXQuZmlsdGVyRnJhbWUpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWRVdik7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRV9TVFJJUCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgICAqXG4gICAgICogVXNlIGBvdXRwdXRNYXRyaXggKiB2VGV4dHVyZUNvb3JkYCBpbiB0aGUgc2hhZGVyLlxuICAgICAqIEBwYXJhbSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJucyBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCA9IGZ1bmN0aW9uIChvdXRwdXRNYXRyaXgsIHNwcml0ZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmFjdGl2ZVN0YXRlLCBzb3VyY2VGcmFtZSA9IF9hLnNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lID0gX2EuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIG9yaWcgPSBzcHJpdGUuX3RleHR1cmUub3JpZztcbiAgICAgICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgMCwgMCwgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQsIHNvdXJjZUZyYW1lLngsIHNvdXJjZUZyYW1lLnkpO1xuICAgICAgICB2YXIgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weVRvKE1hdHJpeC5URU1QX01BVFJJWCk7XG4gICAgICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgICAgICBtYXBwZWRNYXRyaXgucHJlcGVuZCh3b3JsZFRyYW5zZm9ybSk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZSgxLjAgLyBvcmlnLndpZHRoLCAxLjAgLyBvcmlnLmhlaWdodCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgIH07XG4gICAgLyoqIERlc3Ryb3lzIHRoaXMgRmlsdGVyIFN5c3RlbS4gKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICAvLyBUaG9zZSB0ZXh0dXJlcyBoYXMgdG8gYmUgZGVzdHJveWVkIGJ5IFJlbmRlclRleHR1cmVTeXN0ZW0gb3IgRnJhbWVidWZmZXJTeXN0ZW1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcihmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqIEBwYXJhbSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gbXVsdGlzYW1wbGUgLSBOdW1iZXIgb2Ygc2FtcGxlcyBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybnMgLSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbiwgbXVsdGlzYW1wbGUpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gMTsgfVxuICAgICAgICBpZiAobXVsdGlzYW1wbGUgPT09IHZvaWQgMCkgeyBtdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FOyB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24sIG11bHRpc2FtcGxlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgcmVuZGVyIHRleHR1cmUgdG8gdXNlIGluc2lkZSBjdXJyZW50IGZpbHRlclxuICAgICAqIFRvIGJlIGNvbXBsaWFudCB3aXRoIG9sZGVyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIHBhcmFtcyBpbiBhbnkgb3JkZXJcbiAgICAgKiBAcGFyYW0gaW5wdXQgLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqIEBwYXJhbSBtdWx0aXNhbXBsZSAtIG51bWJlciBvZiBzYW1wbGVzIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKGlucHV0LCByZXNvbHV0aW9uLCBtdWx0aXNhbXBsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIHN3YXAgPSBpbnB1dDtcbiAgICAgICAgICAgIGlucHV0ID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzd2FwO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZmlsdGVyVGV4dHVyZSA9IHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBpbnB1dC5yZXNvbHV0aW9uLCBtdWx0aXNhbXBsZSB8fCBNU0FBX1FVQUxJVFkuTk9ORSk7XG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcbiAgICAgICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUYXJnZXQgdG8gZnJlZVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuICAgIC8qKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5lbXB0eVBvb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIodHJ1ZSk7XG4gICAgfTtcbiAgICAvKiogQ2FsbHMgYHRleHR1cmVQb29sLnJlc2l6ZSgpYCwgYWZmZWN0cyBmdWxsU2NyZWVuIHJlbmRlclRleHR1cmVzLiAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUodGhpcy5yZW5kZXJlci52aWV3KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBmaXJzdCBwYXJhbVxuICAgICAqIEBwYXJhbSByZWN0IC0gc2Vjb25kIHBhcmFtXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS50cmFuc2Zvcm1BQUJCID0gZnVuY3Rpb24gKG1hdHJpeCwgcmVjdCkge1xuICAgICAgICB2YXIgbHQgPSB0ZW1wUG9pbnRzWzBdO1xuICAgICAgICB2YXIgbGIgPSB0ZW1wUG9pbnRzWzFdO1xuICAgICAgICB2YXIgcnQgPSB0ZW1wUG9pbnRzWzJdO1xuICAgICAgICB2YXIgcmIgPSB0ZW1wUG9pbnRzWzNdO1xuICAgICAgICBsdC5zZXQocmVjdC5sZWZ0LCByZWN0LnRvcCk7XG4gICAgICAgIGxiLnNldChyZWN0LmxlZnQsIHJlY3QuYm90dG9tKTtcbiAgICAgICAgcnQuc2V0KHJlY3QucmlnaHQsIHJlY3QudG9wKTtcbiAgICAgICAgcmIuc2V0KHJlY3QucmlnaHQsIHJlY3QuYm90dG9tKTtcbiAgICAgICAgbWF0cml4LmFwcGx5KGx0LCBsdCk7XG4gICAgICAgIG1hdHJpeC5hcHBseShsYiwgbGIpO1xuICAgICAgICBtYXRyaXguYXBwbHkocnQsIHJ0KTtcbiAgICAgICAgbWF0cml4LmFwcGx5KHJiLCByYik7XG4gICAgICAgIHZhciB4MCA9IE1hdGgubWluKGx0LngsIGxiLngsIHJ0LngsIHJiLngpO1xuICAgICAgICB2YXIgeTAgPSBNYXRoLm1pbihsdC55LCBsYi55LCBydC55LCByYi55KTtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5tYXgobHQueCwgbGIueCwgcnQueCwgcmIueCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWF4KGx0LnksIGxiLnksIHJ0LnksIHJiLnkpO1xuICAgICAgICByZWN0LnggPSB4MDtcbiAgICAgICAgcmVjdC55ID0geTA7XG4gICAgICAgIHJlY3Qud2lkdGggPSB4MSAtIHgwO1xuICAgICAgICByZWN0LmhlaWdodCA9IHkxIC0geTA7XG4gICAgfTtcbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJvdW5kRnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUsIHJlc29sdXRpb24sIGJpbmRpbmdTb3VyY2VGcmFtZSwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUsIHRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoZnJhbWUud2lkdGggPD0gMCB8fCBmcmFtZS5oZWlnaHQgPD0gMCB8fCBiaW5kaW5nU291cmNlRnJhbWUud2lkdGggPD0gMCB8fCBiaW5kaW5nU291cmNlRnJhbWUuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHRyYW5zZm9ybS5hLCBiID0gdHJhbnNmb3JtLmIsIGMgPSB0cmFuc2Zvcm0uYywgZCA9IHRyYW5zZm9ybS5kO1xuICAgICAgICAgICAgLy8gU2tpcCBpZiBza2V3L3JvdGF0aW9uIHByZXNlbnQgaW4gbWF0cml4LCBleGNlcHQgZm9yIG11bHRpcGxlIG9mIDkwwrAgcm90YXRpb24uIElmIHJvdGF0aW9uXG4gICAgICAgICAgICAvLyBpcyBhIG11bHRpcGxlIG9mIDkwwrAsIHRoZW4gZWl0aGVyIHBhaXIgb2YgKGIsYykgb3IgKGEsZCkgd2lsbCBiZSAoMCwwKS5cbiAgICAgICAgICAgIGlmICgoTWF0aC5hYnMoYikgPiAxZS00IHx8IE1hdGguYWJzKGMpID4gMWUtNClcbiAgICAgICAgICAgICAgICAmJiAoTWF0aC5hYnMoYSkgPiAxZS00IHx8IE1hdGguYWJzKGQpID4gMWUtNCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNmb3JtID0gdHJhbnNmb3JtID8gdGVtcE1hdHJpeCQyLmNvcHlGcm9tKHRyYW5zZm9ybSkgOiB0ZW1wTWF0cml4JDIuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gR2V0IGZvcndhcmQgdHJhbnNmb3JtIGZyb20gd29ybGQgc3BhY2UgdG8gc2NyZWVuIHNwYWNlXG4gICAgICAgIHRyYW5zZm9ybVxuICAgICAgICAgICAgLnRyYW5zbGF0ZSgtYmluZGluZ1NvdXJjZUZyYW1lLngsIC1iaW5kaW5nU291cmNlRnJhbWUueSlcbiAgICAgICAgICAgIC5zY2FsZShiaW5kaW5nRGVzdGluYXRpb25GcmFtZS53aWR0aCAvIGJpbmRpbmdTb3VyY2VGcmFtZS53aWR0aCwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gYmluZGluZ1NvdXJjZUZyYW1lLmhlaWdodClcbiAgICAgICAgICAgIC50cmFuc2xhdGUoYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUueCwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUueSk7XG4gICAgICAgIC8vIENvbnZlcnQgZnJhbWUgdG8gc2NyZWVuIHNwYWNlXG4gICAgICAgIHRoaXMudHJhbnNmb3JtQUFCQih0cmFuc2Zvcm0sIGZyYW1lKTtcbiAgICAgICAgLy8gUm91bmQgZnJhbWUgaW4gc2NyZWVuIHNwYWNlXG4gICAgICAgIGZyYW1lLmNlaWwocmVzb2x1dGlvbik7XG4gICAgICAgIC8vIFByb2plY3QgYmFjayBpbnRvIHdvcmxkIHNwYWNlLlxuICAgICAgICB0aGlzLnRyYW5zZm9ybUFBQkIodHJhbnNmb3JtLmludmVydCgpLCBmcmFtZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3lzdGVtO1xufSgpKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhXG4gKiBzeXN0ZW0gcmVuZGVyZXIgcGx1Z2luLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqIFN0dWIgbWV0aG9kIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZW1wdHkgdGhlIGN1cnJlbnQgYmF0Y2ggYnkgcmVuZGVyaW5nIG9iamVjdHMgbm93LiAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZmx1c2ghXG4gICAgfTtcbiAgICAvKiogR2VuZXJpYyBkZXN0cnVjdGlvbiBtZXRob2QgdGhhdCBmcmVlcyBhbGwgcmVzb3VyY2VzLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYnkgc3ViY2xhc3Nlcy4gKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdHViIG1ldGhvZCB0aGF0IGluaXRpYWxpemVzIGFueSBzdGF0ZSByZXF1aXJlZCBiZWZvcmVcbiAgICAgKiByZW5kZXJpbmcgc3RhcnRzLiBJdCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYHByZXJlbmRlcmBcbiAgICAgKiBzaWduYWwsIHdoaWNoIG9jY3VycyBldmVyeSBmcmFtZSwgaW4gdGhhdCBpdCBpcyBjYWxsZWRcbiAgICAgKiB3aGVuZXZlciBhbiBvYmplY3QgcmVxdWVzdHMgX3RoaXNfIHJlbmRlcmVyIHNwZWNpZmljYWxseS5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHNldCB0aGUgc2hhZGVyLi5cbiAgICB9O1xuICAgIC8qKiBTdG9wcyB0aGUgcmVuZGVyZXIuIEl0IHNob3VsZCBmcmVlIHVwIGFueSBzdGF0ZSBhbmQgYmVjb21lIGRvcm1hbnQuICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtlZXBzIHRoZSBvYmplY3QgdG8gcmVuZGVyLiBJdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAgICAgKiByZW5kZXJlZCBpbW1lZGlhdGVseS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gX29iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoX29iamVjdCkge1xuICAgICAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdFJlbmRlcmVyO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYmF0Y2hpbmcuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXRjaFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuZW1wdHlSZW5kZXJlciA9IG5ldyBPYmplY3RSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gdGhpcy5lbXB0eVJlbmRlcmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZW5kZXJlciA9PT0gb2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKiogUmVzZXQgdGhlIHN5c3RlbSB0byBhbiBlbXB0eSByZW5kZXJlciAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZHkgZnVuY3Rpb24gZm9yIGJhdGNoIHJlbmRlcmVyczogY29waWVzIGJvdW5kIHRleHR1cmVzIGluIGZpcnN0IG1heFRleHR1cmVzIGxvY2F0aW9ucyB0byBhcnJheVxuICAgICAqIHNldHMgYWN0dWFsIF9iYXRjaExvY2F0aW9uIGZvciB0aGVtXG4gICAgICogQHBhcmFtIGFyciAtIGFyciBjb3B5IGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIGNvcGllZCBlbGVtZW50c1xuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5jb3B5Qm91bmRUZXh0dXJlcyA9IGZ1bmN0aW9uIChhcnIsIG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBib3VuZFRleHR1cmVzW2ldIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoYXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXNzaWducyBiYXRjaCBsb2NhdGlvbnMgdG8gdGV4dHVyZXMgaW4gYXJyYXkgYmFzZWQgb24gYm91bmRUZXh0dXJlcyBzdGF0ZS5cbiAgICAgKiBBbGwgdGV4dHVyZXMgaW4gdGV4QXJyYXkgc2hvdWxkIGhhdmUgYF9iYXRjaEVuYWJsZWQgPSBfYmF0Y2hJZGAsXG4gICAgICogYW5kIHRoZWlyIGNvdW50IHNob3VsZCBiZSBsZXNzIHRoYW4gYG1heFRleHR1cmVzYC5cbiAgICAgKiBAcGFyYW0gdGV4QXJyYXkgLSB0ZXh0dXJlcyB0byBib3VuZFxuICAgICAqIEBwYXJhbSBib3VuZFRleHR1cmVzIC0gY3VycmVudCBzdGF0ZSBvZiBib3VuZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSBiYXRjaElkIC0gbWFya2VyIGZvciBfYmF0Y2hFbmFibGVkIHBhcmFtIG9mIHRleHR1cmVzIGluIHRleEFycmF5XG4gICAgICogQHBhcmFtIG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIHRleHR1cmUgbG9jYXRpb25zIHRvIG1hbmlwdWxhdGVcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuYm91bmRBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgYmF0Y2hJZCwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGV4QXJyYXkuZWxlbWVudHMsIGlkcyA9IHRleEFycmF5LmlkcywgY291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBsb2MgPSB0ZXguX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICBpZiAobG9jID49IDAgJiYgbG9jIDwgbWF4VGV4dHVyZXNcbiAgICAgICAgICAgICAgICAmJiBib3VuZFRleHR1cmVzW2xvY10gPT09IHRleCkge1xuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGxvYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZCAmJiBib3VuZC5fYmF0Y2hFbmFibGVkID09PSBiYXRjaElkXG4gICAgICAgICAgICAgICAgICAgICYmIGJvdW5kLl9iYXRjaExvY2F0aW9uID09PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgdGV4Ll9iYXRjaExvY2F0aW9uID0gajtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoU3lzdGVtO1xufSgpKTtcblxudmFyIENPTlRFWFRfVUlEX0NPVU5URVIgPSAwO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIGNvbnRleHQuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29udGV4dFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci4gKi9cbiAgICBmdW5jdGlvbiBDb250ZXh0U3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5zdXBwb3J0cyA9IHtcbiAgICAgICAgICAgIHVpbnQzMkluZGljZXM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICAvLyBCaW5kIGZ1bmN0aW9uc1xuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gdGhpcy5oYW5kbGVDb250ZXh0TG9zdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250ZXh0U3lzdGVtLnByb3RvdHlwZSwgXCJpc0xvc3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBjb250ZXh0IGlzIGxvc3RcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnQuXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gTmV3IFdlYkdMIGNvbnRleHQuXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNvbnRleHQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5pbml0RnJvbUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdChnbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29udGV4dCBvcHRpb25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLnJlbmRlcmVyLnZpZXcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmluaXRGcm9tQ29udGV4dChnbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgQ29udGV4dFxuICAgICAqIEBwYXJhbSBjYW52YXMgLSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZVxuICAgICAqICAgIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcmV0dXJucyB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoY2FudmFzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbDtcbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMikge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuZ2V0RXh0ZW5zaW9ucygpO1xuICAgICAgICByZXR1cm4gdGhpcy5nbDtcbiAgICB9O1xuICAgIC8qKiBBdXRvLXBvcHVsYXRlIHRoZSB7QGxpbmsgUElYSS5Db250ZXh0U3lzdGVtLmV4dGVuc2lvbnMgZXh0ZW5zaW9uc30uICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdGltZSB0byBzZXQgdXAgZGVmYXVsdCBleHRlbnNpb25zIHRoYXQgUGl4aSB1c2VzLlxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgY29tbW9uID0ge1xuICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICBzM3RjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyksXG4gICAgICAgICAgICBzM3RjX3NSR0I6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYicpLFxuICAgICAgICAgICAgZXRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMnKSxcbiAgICAgICAgICAgIGV0YzE6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEnKSxcbiAgICAgICAgICAgIHB2cnRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpXG4gICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyksXG4gICAgICAgICAgICBhdGM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0YycpLFxuICAgICAgICAgICAgYXN0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YycpXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIGNvbW1vbiwge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZXB0aF90ZXh0dXJlJyksXG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JyksXG4gICAgICAgICAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgdWludDMyRWxlbWVudEluZGV4OiBnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywgY29tbW9uLCB7XG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGNvbG9yQnVmZmVyRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgLyoqIEhhbmRsZXMgYSByZXN0b3JlZCB3ZWJnbCBjb250ZXh0LiAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdCh0aGlzLmdsKTtcbiAgICB9O1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEhhbmRsZSB0aGUgcG9zdC1yZW5kZXIgcnVubmVyIGV2ZW50LiAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLnBvc3RyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHQuXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUudmFsaWRhdGVDb250ZXh0ID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgdmFyIGlzV2ViR2wyID0gJ1dlYkdMMlJlbmRlcmluZ0NvbnRleHQnIGluIGdsb2JhbFRoaXMgJiYgZ2wgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLldlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG4gICAgICAgIGlmIChpc1dlYkdsMikge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAyO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMgaXMgZ29pbmcgdG8gYmUgZmFpcmx5IHNpbXBsZSBmb3Igbm93Li4gYnV0IGF0IGxlYXN0IHdlIGhhdmUgcm9vbSB0byBncm93IVxuICAgICAgICBpZiAoYXR0cmlidXRlcyAmJiAhYXR0cmlidXRlcy5zdGVuY2lsKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYXN1aW50MzIgPSBpc1dlYkdsMiB8fCAhIWdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpO1xuICAgICAgICB0aGlzLnN1cHBvcnRzLnVpbnQzMkluZGljZXMgPSBoYXN1aW50MzI7XG4gICAgICAgIGlmICghaGFzdWludDMyKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3Qgc3VwcG9ydCAzMiBpbmRleCBidWZmZXIsIGNvbXBsZXggZ3JhcGhpY3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRleHRTeXN0ZW07XG59KCkpO1xuXG4vKipcbiAqIEludGVybmFsIGZyYW1lYnVmZmVyIGZvciBXZWJHTCBjb250ZXh0LlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMRnJhbWVidWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0xGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcikge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gZnJhbWVidWZmZXI7XG4gICAgICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHlTaXplID0gLTE7XG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgdGhpcy5tc2FhQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibGl0RnJhbWVidWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm1pcExldmVsID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIEdMRnJhbWVidWZmZXI7XG59KCkpO1xuXG52YXIgdGVtcFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoKTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZyYW1lYnVmZmVycy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGcmFtZWJ1ZmZlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZyYW1lYnVmZmVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG4gICAgICAgIHRoaXMudW5rbm93bkZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKDEwLCAxMCk7XG4gICAgICAgIHRoaXMubXNhYVNhbXBsZXMgPSBudWxsO1xuICAgIH1cbiAgICAvKiogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy51bmtub3duRnJhbWVidWZmZXI7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuaGFzTVJUID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxKSB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgdmFyIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kcmF3QnVmZmVycztcbiAgICAgICAgICAgIHZhciBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kZXB0aFRleHR1cmU7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEgPSBudWxsO1xuICAgICAgICAgICAgICAgIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSkge1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gZnVuY3Rpb24gKGFjdGl2ZVRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xLmRyYXdCdWZmZXJzV0VCR0woYWN0aXZlVGV4dHVyZXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc01SVCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlYkdMMlxuICAgICAgICAgICAgLy8gY2FjaGUgcG9zc2libGUgTVNBQSBzYW1wbGVzXG4gICAgICAgICAgICB0aGlzLm1zYWFTYW1wbGVzID0gZ2wuZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIoZ2wuUkVOREVSQlVGRkVSLCBnbC5SR0JBOCwgZ2wuU0FNUExFUyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmQgYSBmcmFtZWJ1ZmZlci5cbiAgICAgKiBAcGFyYW0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0gZnJhbWUgLSBmcmFtZSwgZGVmYXVsdCBpcyBmcmFtZWJ1ZmZlciBzaXplXG4gICAgICogQHBhcmFtIG1pcExldmVsIC0gb3B0aW9uYWwgbWlwIGxldmVsIHRvIHNldCBvbiB0aGUgZnJhbWVidWZmZXIgLSBkZWZhdWx0cyB0byAwXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIGZyYW1lLCBtaXBMZXZlbCkge1xuICAgICAgICBpZiAobWlwTGV2ZWwgPT09IHZvaWQgMCkgeyBtaXBMZXZlbCA9IDA7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGNhY2hpbmcgbGF5ZXIhXG4gICAgICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIHRleHR1cmVzIGFyZSB1bmJvdW5kLi5cbiAgICAgICAgICAgIGlmIChmYm8ubWlwTGV2ZWwgIT09IG1pcExldmVsKSB7XG4gICAgICAgICAgICAgICAgZnJhbWVidWZmZXIuZGlydHlJZCsrO1xuICAgICAgICAgICAgICAgIGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgICAgICAgICAgZmJvLm1pcExldmVsID0gbWlwTGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub3cgY2hlY2sgZm9yIHVwZGF0ZXMuLi5cbiAgICAgICAgICAgIGlmIChmYm8uZGlydHlJZCAhPT0gZnJhbWVidWZmZXIuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGZiby5kaXJ0eUlkID0gZnJhbWVidWZmZXIuZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoZmJvLmRpcnR5Rm9ybWF0ICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlGb3JtYXQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlciwgbWlwTGV2ZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmYm8uZGlydHlTaXplICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleCA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZCh0ZXgucGFyZW50VGV4dHVyZUFycmF5IHx8IHRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pcFdpZHRoID0gKGZyYW1lLndpZHRoID4+IG1pcExldmVsKTtcbiAgICAgICAgICAgICAgICB2YXIgbWlwSGVpZ2h0ID0gKGZyYW1lLmhlaWdodCA+PiBtaXBMZXZlbCk7XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gbWlwV2lkdGggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLnggKiBzY2FsZSwgZnJhbWUueSAqIHNjYWxlLCBtaXBXaWR0aCwgbWlwSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBtaXBXaWR0aCA9IChmcmFtZWJ1ZmZlci53aWR0aCA+PiBtaXBMZXZlbCk7XG4gICAgICAgICAgICAgICAgdmFyIG1pcEhlaWdodCA9IChmcmFtZWJ1ZmZlci5oZWlnaHQgPj4gbWlwTGV2ZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgbWlwV2lkdGgsIG1pcEhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgdGhpcy5yZW5kZXJlci53aWR0aCwgdGhpcy5yZW5kZXJlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCdzIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB4IC0gWCBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB5IC0gWSBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB3aWR0aCAtIFdpZHRoIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIGhlaWdodCAtIEhlaWdodCBvZiB2aWV3cG9ydFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5zZXRWaWV3cG9ydCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciB2ID0gdGhpcy52aWV3cG9ydDtcbiAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG4gICAgICAgIGlmICh2LndpZHRoICE9PSB3aWR0aCB8fCB2LmhlaWdodCAhPT0gaGVpZ2h0IHx8IHYueCAhPT0geCB8fCB2LnkgIT09IHkpIHtcbiAgICAgICAgICAgIHYueCA9IHg7XG4gICAgICAgICAgICB2LnkgPSB5O1xuICAgICAgICAgICAgdi53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdi5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBjdXJyZW50IHdpZHRoIGFuZCBoZWlnaHQuIFJldHVybnMgb2JqZWN0IHdpdGggYHdpZHRoYCBhbmQgYGhlaWdodGAgdmFsdWVzLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGVtcFxuICAgICAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLmN1cnJlbnQud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50LmhlaWdodCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMucmVuZGVyZXIud2lkdGgsIGhlaWdodDogdGhpcy5yZW5kZXJlci5oZWlnaHQgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjb2xvciBvZiB0aGUgY29udGV4dFxuICAgICAqIEBwYXJhbSByIC0gUmVkIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIGcgLSBHcmVlbiB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSBiIC0gQmx1ZSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSBhIC0gQWxwaGEgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKHIsIGcsIGIsIGEsIG1hc2spIHtcbiAgICAgICAgaWYgKG1hc2sgPT09IHZvaWQgMCkgeyBtYXNrID0gQlVGRkVSX0JJVFMuQ09MT1IgfCBCVUZGRVJfQklUUy5ERVBUSDsgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBUT0RPIGNsZWFyIGNvbG9yIGNhbiBiZSBzZXQgb25seSBvbmUgcmlnaHQ/XG4gICAgICAgIGdsLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgICAgIGdsLmNsZWFyKG1hc2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSBmcmFtZWJ1ZmZlclxuICAgICAqIEByZXR1cm5zIC0gY3JlYXRlZCBHTEZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmluaXRGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZmJvID0gbmV3IEdMRnJhbWVidWZmZXIoZ2wuY3JlYXRlRnJhbWVidWZmZXIoKSk7XG4gICAgICAgIGZiby5tdWx0aXNhbXBsZSA9IHRoaXMuZGV0ZWN0U2FtcGxlcyhmcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSk7XG4gICAgICAgIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdID0gZmJvO1xuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmJvO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqIEBwYXJhbSBmcmFtZWJ1ZmZlclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUucmVzaXplRnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoZmJvLm1zYWFCdWZmZXIpIHtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXVsdGlzYW1wbGUsIGdsLlJHQkE4LCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpIHtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICBpZiAoZmJvLm1zYWFCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXVsdGlzYW1wbGUsIGdsLkRFUFRIMjRfU1RFTkNJTDgsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICAgICAgdmFyIGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIGlmICghZ2wuZHJhd0J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGNvdW50ID0gTWF0aC5taW4oY291bnQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBjb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgdmFyIHBhcmVudFRleHR1cmUgPSB0ZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQocGFyZW50VGV4dHVyZSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSAmJiB0aGlzLndyaXRlRGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIG1pcExldmVsXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS51cGRhdGVGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgbWlwTGV2ZWwpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAvLyBiaW5kIHRoZSBjb2xvciB0ZXh0dXJlXG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICAgICAgdmFyIGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIGlmICghZ2wuZHJhd0J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGNvdW50ID0gTWF0aC5taW4oY291bnQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmYm8ubXVsdGlzYW1wbGUgPiAxICYmIHRoaXMuY2FuTXVsdGlzYW1wbGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcikpIHtcbiAgICAgICAgICAgIGZiby5tc2FhQnVmZmVyID0gZmJvLm1zYWFCdWZmZXIgfHwgZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm11bHRpc2FtcGxlLCBnbC5SR0JBOCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLm1zYWFCdWZmZXIpO1xuICAgICAgICAgICAgZmJvLm1zYWFCdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGZiby5ibGl0RnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBmYm8uYmxpdEZyYW1lYnVmZmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBmYm8uYmxpdEZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aXZlVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgICAgICB2YXIgcGFyZW50VGV4dHVyZSA9IHRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5IHx8IHRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChwYXJlbnRUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIGlmIChpID09PSAwICYmIGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLCB0ZXh0dXJlLnRhcmdldCwgcGFyZW50VGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLCBtaXBMZXZlbCk7XG4gICAgICAgICAgICBhY3RpdmVUZXh0dXJlcy5wdXNoKGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgd3JpdGVEZXB0aFRleHR1cmUgPSB0aGlzLndyaXRlRGVwdGhUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKHdyaXRlRGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChkZXB0aFRleHR1cmUsIDApO1xuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5URVhUVVJFXzJELCBkZXB0aFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSwgbWlwTGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgoZnJhbWVidWZmZXIuc3RlbmNpbCB8fCBmcmFtZWJ1ZmZlci5kZXB0aCkgJiYgIShmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUgJiYgdGhpcy53cml0ZURlcHRoVGV4dHVyZSkpIHtcbiAgICAgICAgICAgIGZiby5zdGVuY2lsID0gZmJvLnN0ZW5jaWwgfHwgZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgaWYgKGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKGdsLlJFTkRFUkJVRkZFUiwgZmJvLm11bHRpc2FtcGxlLCBnbC5ERVBUSDI0X1NURU5DSUw4LCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZmJvLnN0ZW5jaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGZyYW1lIGJ1ZmZlciBjYW4gYmUgbXVsdGlzYW1wbGVkLlxuICAgICAqIEBwYXJhbSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jYW5NdWx0aXNhbXBsZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAxXG4gICAgICAgICAgICAmJiBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aCA8PSAxICYmICFmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIG51bWJlciBvZiBzYW1wbGVzIHRoYXQgaXMgbm90IG1vcmUgdGhhbiBhIHBhcmFtIGJ1dCBhcyBjbG9zZSB0byBpdCBhcyBwb3NzaWJsZVxuICAgICAqIEBwYXJhbSBzYW1wbGVzIC0gbnVtYmVyIG9mIHNhbXBsZXNcbiAgICAgKiBAcmV0dXJucyAtIHJlY29tbWVuZGVkIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRldGVjdFNhbXBsZXMgPSBmdW5jdGlvbiAoc2FtcGxlcykge1xuICAgICAgICB2YXIgbXNhYVNhbXBsZXMgPSB0aGlzLm1zYWFTYW1wbGVzO1xuICAgICAgICB2YXIgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIGlmIChzYW1wbGVzIDw9IDEgfHwgbXNhYVNhbXBsZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2FhU2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1zYWFTYW1wbGVzW2ldIDw9IHNhbXBsZXMpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtc2FhU2FtcGxlc1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzID09PSAxKSB7XG4gICAgICAgICAgICByZXMgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT25seSB3b3JrcyB3aXRoIFdlYkdMMlxuICAgICAqXG4gICAgICogYmxpdHMgZnJhbWVidWZmZXIgdG8gYW5vdGhlciBvZiB0aGUgc2FtZSBvciBiaWdnZXIgc2l6ZVxuICAgICAqIGFmdGVyIHRoYXQgdGFyZ2V0IGZyYW1lYnVmZmVyIGlzIGJvdW5kXG4gICAgICpcbiAgICAgKiBGYWlscyB3aXRoIFdlYkdMIHdhcm5pbmcgaWYgYmxpdHMgbXVsdGlzYW1wbGUgZnJhbWVidWZmZXIgdG8gZGlmZmVyZW50IHNpemVcbiAgICAgKiBAcGFyYW0gZnJhbWVidWZmZXIgLSBieSBkZWZhdWx0IGl0IGJsaXRzIFwiaW50byBpdHNlbGZcIiwgZnJvbSByZW5kZXJCdWZmZXIgdG8gdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gc291cmNlUGl4ZWxzIC0gc291cmNlIHJlY3RhbmdsZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0gZGVzdFBpeGVscyAtIGRlc3QgcmVjdGFuZ2xlIGluIHBpeGVscywgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyBzb3VyY2VQaXhlbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmxpdCA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlciwgc291cmNlUGl4ZWxzLCBkZXN0UGl4ZWxzKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGN1cnJlbnQgPSBfYS5jdXJyZW50LCByZW5kZXJlciA9IF9hLnJlbmRlcmVyLCBnbCA9IF9hLmdsLCBDT05URVhUX1VJRCA9IF9hLkNPTlRFWFRfVUlEO1xuICAgICAgICBpZiAocmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmJvID0gY3VycmVudC5nbEZyYW1lYnVmZmVyc1tDT05URVhUX1VJRF07XG4gICAgICAgIGlmICghZmJvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgaWYgKCFmYm8ubXNhYUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb2xvclRleHR1cmUgPSBjdXJyZW50LmNvbG9yVGV4dHVyZXNbMF07XG4gICAgICAgICAgICBpZiAoIWNvbG9yVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZmJvLmJsaXRGcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoY3VycmVudC53aWR0aCwgY3VycmVudC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIuYWRkQ29sb3JUZXh0dXJlKDAsIGNvbG9yVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlciA9IGZiby5ibGl0RnJhbWVidWZmZXI7XG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1swXSAhPT0gY29sb3JUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1swXSA9IGNvbG9yVGV4dHVyZTtcbiAgICAgICAgICAgICAgICBmcmFtZWJ1ZmZlci5kaXJ0eUlkKys7XG4gICAgICAgICAgICAgICAgZnJhbWVidWZmZXIuZGlydHlGb3JtYXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlci53aWR0aCAhPT0gY3VycmVudC53aWR0aCB8fCBmcmFtZWJ1ZmZlci5oZWlnaHQgIT09IGN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZnJhbWVidWZmZXIud2lkdGggPSBjdXJyZW50LndpZHRoO1xuICAgICAgICAgICAgICAgIGZyYW1lYnVmZmVyLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGZyYW1lYnVmZmVyLmRpcnR5SWQrKztcbiAgICAgICAgICAgICAgICBmcmFtZWJ1ZmZlci5kaXJ0eVNpemUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNvdXJjZVBpeGVscykge1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzID0gdGVtcFJlY3RhbmdsZTtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscy53aWR0aCA9IGN1cnJlbnQud2lkdGg7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMuaGVpZ2h0ID0gY3VycmVudC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZXN0UGl4ZWxzKSB7XG4gICAgICAgICAgICBkZXN0UGl4ZWxzID0gc291cmNlUGl4ZWxzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzYW1lU2l6ZSA9IHNvdXJjZVBpeGVscy53aWR0aCA9PT0gZGVzdFBpeGVscy53aWR0aCAmJiBzb3VyY2VQaXhlbHMuaGVpZ2h0ID09PSBkZXN0UGl4ZWxzLmhlaWdodDtcbiAgICAgICAgdGhpcy5iaW5kKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLlJFQURfRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgIGdsLmJsaXRGcmFtZWJ1ZmZlcihzb3VyY2VQaXhlbHMubGVmdCwgc291cmNlUGl4ZWxzLnRvcCwgc291cmNlUGl4ZWxzLnJpZ2h0LCBzb3VyY2VQaXhlbHMuYm90dG9tLCBkZXN0UGl4ZWxzLmxlZnQsIGRlc3RQaXhlbHMudG9wLCBkZXN0UGl4ZWxzLnJpZ2h0LCBkZXN0UGl4ZWxzLmJvdHRvbSwgZ2wuQ09MT1JfQlVGRkVSX0JJVCwgc2FtZVNpemUgPyBnbC5ORUFSRVNUIDogZ2wuTElORUFSKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGZyYW1lYnVmZmVyLlxuICAgICAqIEBwYXJhbSBmcmFtZWJ1ZmZlciAtIGZyYW1lYnVmZmVyIHRoYXQgaGFzIHRvIGJlIGRpc3Bvc2VkIG9mXG4gICAgICogQHBhcmFtIGNvbnRleHRMb3N0IC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlRnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKCFmYm8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5pbmRleE9mKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKGZiby5tc2FhQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGZiby5tc2FhQnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmYm8uc3RlbmNpbCkge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZiby5ibGl0RnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIGZiby5ibGl0RnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBhbGwgZnJhbWVidWZmZXJzLCBidXQgbm90IHRleHR1cmVzIGJvdW5kIHRvIHRoZW0uXG4gICAgICogQHBhcmFtIFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VBbGwgPSBmdW5jdGlvbiAoY29udGV4dExvc3QpIHtcbiAgICAgICAgdmFyIGxpc3QgPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnM7XG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUZyYW1lYnVmZmVyKGxpc3RbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yY2luZyBjcmVhdGlvbiBvZiBzdGVuY2lsIGJ1ZmZlciBmb3IgY3VycmVudCBmcmFtZWJ1ZmZlciwgaWYgaXQgd2Fzbid0IGRvbmUgYmVmb3JlLlxuICAgICAqIFVzZWQgYnkgTWFza1N5c3RlbSwgd2hlbiBpdHMgdGltZSB0byB1c2Ugc3RlbmNpbCBtYXNrIGZvciBHcmFwaGljcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogSXRzIGFuIGFsdGVybmF0aXZlIGZvciBwdWJsaWMgbGF6eSBgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbGAsIGluIGNhc2Ugd2UgbmVlZCBzdGVuY2lsIHdpdGhvdXQgcmViaW5kLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmZvcmNlU3RlbmNpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWZibyB8fCBmYm8uc3RlbmNpbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lYnVmZmVyLnN0ZW5jaWwgPSB0cnVlO1xuICAgICAgICB2YXIgdyA9IGZyYW1lYnVmZmVyLndpZHRoO1xuICAgICAgICB2YXIgaCA9IGZyYW1lYnVmZmVyLmhlaWdodDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIHN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgICAgICBpZiAoZmJvLm1zYWFCdWZmZXIpIHtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsIGZiby5tdWx0aXNhbXBsZSwgZ2wuREVQVEgyNF9TVEVOQ0lMOCwgdywgaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgdywgaCk7XG4gICAgICAgIH1cbiAgICAgICAgZmJvLnN0ZW5jaWwgPSBzdGVuY2lsO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgIH07XG4gICAgLyoqIFJlc2V0cyBmcmFtZWJ1ZmZlciBzdG9yZWQgc3RhdGUsIGJpbmRzIHNjcmVlbiBmcmFtZWJ1ZmZlci4gU2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcmVuZGVyVGV4dHVyZSByZXNldCgpLiAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy51bmtub3duRnJhbWVidWZmZXI7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgfTtcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRnJhbWVidWZmZXJTeXN0ZW07XG59KCkpO1xuXG52YXIgYnl0ZVNpemVNYXAgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGdlb21ldHJ5LlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdlb21ldHJ5U3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLiAqL1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5U3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICB0aGlzLmhhc1ZhbyA9IHRydWU7XG4gICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzID0ge307XG4gICAgfVxuICAgIC8qKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy4gKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKGNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgdmFyIG5hdGl2ZVZhb0V4dGVuc2lvbl8xID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbl8xID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb25fMSkge1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uXzEuY3JlYXRlVmVydGV4QXJyYXlPRVMoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbl8xLmJpbmRWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAodmFvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb25fMS5kZWxldGVWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1ZhbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZUV4dF8xID0gZ2wuZ2V0RXh0ZW5zaW9uKCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VFeHRfMSkge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUoYSwgYik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkLCBlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyIHx8ICEhY29udGV4dC5leHRlbnNpb25zLnVpbnQzMkVsZW1lbnRJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqIEBwYXJhbSBnZW9tZXRyeSAtIEluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHNoYWRlciAtIEluc3RhbmNlIG9mIHNoYWRlciB0byB1c2UgdmFvIGZvci5cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgc2hhZGVyKSB7XG4gICAgICAgIHNoYWRlciA9IHNoYWRlciB8fCB0aGlzLnJlbmRlcmVyLnNoYWRlci5zaGFkZXI7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIC8vIG5vdCBzdXJlIHRoZSBiZXN0IHdheSB0byBhZGRyZXNzIHRoaXMuLlxuICAgICAgICAvLyBjdXJyZW50bHkgZGlmZmVyZW50IHNoYWRlcnMgcmVxdWlyZSBkaWZmZXJlbnQgVkFPcyBmb3IgdGhlIHNhbWUgZ2VvbWV0cnlcbiAgICAgICAgLy8gU3RpbGwgbXVsbGluZyBvdmVyIHRoZSBiZXN0IHdheSB0byBzb2x2ZSB0aGlzIG9uZS4uXG4gICAgICAgIC8vIHdpbGwgbGlrZWx5IG5lZWQgdG8gbW9kaWZ5IHRoZSBzaGFkZXIgYXR0cmlidXRlIGxvY2F0aW9ucyBhdCBydW4gdGltZSFcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGluY1JlZkNvdW50ID0gZmFsc2U7XG4gICAgICAgIGlmICghdmFvcykge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0gPSBnZW9tZXRyeTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF0gPSB2YW9zID0ge307XG4gICAgICAgICAgICBpbmNSZWZDb3VudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbyA9IHZhb3Nbc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIsIGluY1JlZkNvdW50KTtcbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNWYW8pIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIC0gb3B0aW1pc2UgbGF0ZXIhXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9vcCB0aHJvdWdoIGlmIG5vdGhpbmcgY2hhbmdlZCFcbiAgICAgICAgLy8gbWF5YmUgbG9vayB0byBhZGQgYW4gJ2F1dG91cGRhdGUnIHRvIGdlb21ldHJ5P1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICB9O1xuICAgIC8qKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeS4gKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfTtcbiAgICAvKiogVXBkYXRlIGJ1ZmZlcnMgb2YgdGhlIGN1cnJlbnRseSBib3VuZCBnZW9tZXRyeS4gKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgICAgIHZhciBidWZmZXJTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLmJ1ZmZlcjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1tpXTtcbiAgICAgICAgICAgIGJ1ZmZlclN5c3RlbS51cGRhdGUoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGF0aWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSBwcm9ncmFtIC0gUHJvZ3JhbSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY2hlY2tDb21wYXRpYmlsaXR5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIC8vIGdlb21ldHJ5IG11c3QgaGF2ZSBhdCBsZWFzdCBhbGwgdGhlIGF0dHJpYnV0ZXMgdGhhdCB0aGUgc2hhZGVyIHJlcXVpcmVzLlxuICAgICAgICB2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIGZvciAodmFyIGogaW4gc2hhZGVyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFnZW9tZXRyeUF0dHJpYnV0ZXNbal0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXFxcIlwiICsgaiArIFwiXFxcIiBhdHRyaWJ1dGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZ2VvbWV0cnkgYW5kIHByb2dyYW0gYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICogQHBhcmFtIGdlb21ldHJ5IC0gVG8gZ2V0IHNpZ25hdHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSBwcm9ncmFtIC0gVG8gdGVzdCBnZW9tZXRyeSBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIC0gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgZ2VvbWV0cnkgYW5kIHByb2dyYW1cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtKSB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG4gICAgICAgIHZhciBzdHJpbmdzID0gWydnJywgZ2VvbWV0cnkuaWRdO1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnMpIHtcbiAgICAgICAgICAgIGlmIChzaGFkZXJBdHRyaWJ1dGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGksIHNoYWRlckF0dHJpYnV0ZXNbaV0ubG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LiBXZSB1c2UgYSBzaGFkZXIgdG8gaW5mZXIgd2hhdCBhbmQgaG93IHRvIHNldCB1cCB0aGVcbiAgICAgKiBhdHRyaWJ1dGUgbG9jYXRpb25zLlxuICAgICAqIEBwYXJhbSBnZW9tZXRyeSAtIEluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIHRvIGdlbmVyYXRlIFZhbyBmb3IuXG4gICAgICogQHBhcmFtIHNoYWRlciAtIEluc3RhbmNlIG9mIHRoZSBzaGFkZXIuXG4gICAgICogQHBhcmFtIGluY1JlZkNvdW50IC0gSW5jcmVtZW50IHJlZkNvdW50IG9mIGFsbCBnZW9tZXRyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5pbml0R2VvbWV0cnlWYW8gPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHNoYWRlciwgaW5jUmVmQ291bnQpIHtcbiAgICAgICAgaWYgKGluY1JlZkNvdW50ID09PSB2b2lkIDApIHsgaW5jUmVmQ291bnQgPSB0cnVlOyB9XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBidWZmZXJTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLmJ1ZmZlcjtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgaWYgKCFwcm9ncmFtLmdsUHJvZ3JhbXNbQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRlci5nZW5lcmF0ZVByb2dyYW0oc2hhZGVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHZhciBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHZhciB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciB2YW8gPSB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV07XG4gICAgICAgIGlmICh2YW8pIHtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBnaXZlIHVzIGVhc3kgYWNjZXNzIHRvIHRoZSB2YW9cbiAgICAgICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgdGVtcFN0cmlkZSA9IHt9O1xuICAgICAgICB2YXIgdGVtcFN0YXJ0ID0ge307XG4gICAgICAgIGZvciAodmFyIGogaW4gYnVmZmVycykge1xuICAgICAgICAgICAgdGVtcFN0cmlkZVtqXSA9IDA7XG4gICAgICAgICAgICB0ZW1wU3RhcnRbal0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tqXS5zaXplID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghYXR0cmlidXRlc1tqXS5zaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJ1wiICsgaiArIFwiJyBzaXplIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChsaWtlbHkgdGhlIGJvdW5kIHNoYWRlciBkb2VzIG5vdCBoYXZlIHRoZSBhdHRyaWJ1dGUpXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbal0uYnVmZmVyXSArPSBhdHRyaWJ1dGVzW2pdLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGVzW2pdLnR5cGVdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYXR0cmliU2l6ZSA9IGF0dHJpYnV0ZS5zaXplO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdHJpZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdID09PSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSA9IHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0YXJ0ID0gdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgICAgIHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXSArPSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAvLyBmaXJzdCB1cGRhdGUgLSBhbmQgY3JlYXRlIHRoZSBidWZmZXJzIVxuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBhIGdsIGJ1ZmZlciBpZiBpdCBhY3R1YWxseSBnZXRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG4gICAgICAgICAgICBidWZmZXJTeXN0ZW0uYmluZChidWZmZXIpO1xuICAgICAgICAgICAgaWYgKGluY1JlZkNvdW50KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAtIG1heWJlIG1ha2UgdGhpcyBhIGRhdGEgb2JqZWN0P1xuICAgICAgICAvLyBsZXRzIHdhaXQgdG8gc2VlIGlmIHdlIG5lZWQgdG8gZmlyc3QhXG4gICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgY2FjaGUhXG4gICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICAgIHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXSA9IHZhbztcbiAgICAgICAgcmV0dXJuIHZhbztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSBnZW9tZXRyeSAtIEdlb21ldHJ5IHdpdGggYnVmZmVycy4gT25seSBWQU8gd2lsbCBiZSBkaXNwb3NlZFxuICAgICAqIEBwYXJhbSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUdlb21ldHJ5ID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBjb250ZXh0TG9zdCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF07XG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgdmFyIGJ1ZmZlclN5c3RlbSA9IChfYSA9IHRoaXMucmVuZGVyZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5idWZmZXI7XG4gICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgICAgICBpZiAoIXZhb3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBidWZmZXJTeXN0ZW0gbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZC4uXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgdGhlIGNhc2UsIHRoZXJlIGlzIG5vIG5lZWQgdG8gZGVzdHJveSB0aGUgZ2VvbWV0cnkgYnVmZmVycy4uLlxuICAgICAgICAvLyB0aGV5IGFscmVhZHkgaGF2ZSBiZWVuIVxuICAgICAgICBpZiAoYnVmZmVyU3lzdGVtKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYnVmID0gYnVmZmVyc1tpXS5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgICAgIC8vIG15IGJlIG51bGwgYXMgY29udGV4dCBtYXkgaGF2ZSBjaGFuZ2VkIHJpZ2h0IGJlZm9yZSB0aGUgZGlzcG9zZSBpcyBjYWxsZWRcbiAgICAgICAgICAgICAgICBpZiAoYnVmKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zi5yZWZDb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmLnJlZkNvdW50ID09PSAwICYmICFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyU3lzdGVtLmRpc3Bvc2UoYnVmZmVyc1tpXSwgY29udGV4dExvc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHZhb0lkIGluIHZhb3MpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgb25seSBzaWduYXR1cmVzLCBldmVyeXRoaW5nIGVsc2UgYXJlIGNvcGllc1xuICAgICAgICAgICAgICAgIGlmICh2YW9JZFswXSA9PT0gJ2cnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YW8gPSB2YW9zW3Zhb0lkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2UgYWxsIFdlYkdMIHJlc291cmNlcyBvZiBhbGwgbWFuYWdlZCBnZW9tZXRyaWVzLlxuICAgICAqIEBwYXJhbSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYGdsLmRlbGV0ZWAgY2FsbHNcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIChjb250ZXh0TG9zdCkge1xuICAgICAgICB2YXIgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkR2VvbWV0cmllcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VHZW9tZXRyeSh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgdmVydGV4IGFycmF5IG9iamVjdC5cbiAgICAgKiBAcGFyYW0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gcHJvZ3JhbSAtIFNoYWRlciBwcm9ncmFtIGluc3RhbmNlLlxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5hY3RpdmF0ZVZhbyA9IGZ1bmN0aW9uIChnZW9tZXRyeSwgcHJvZ3JhbSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgYnVmZmVyU3lzdGVtID0gdGhpcy5yZW5kZXJlci5idWZmZXI7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHVwZGF0ZSB0aGUgaW5kZXggYnVmZmVyIGlmIHdlIGhhdmUgb25lLi5cbiAgICAgICAgICAgIGJ1ZmZlclN5c3RlbS5iaW5kKGdlb21ldHJ5LmluZGV4QnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIC8vIGFkZCBhIG5ldyBvbmUhXG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmIChwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0pIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJ1ZmZlciAhPT0gZ2xCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyU3lzdGVtLmJpbmQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEJ1ZmZlciA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0ubG9jYXRpb247XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBpbnRyb2R1Y2Ugc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBmb3Igb2xkZXIgZGV2aWNlcyB0aGF0IGhhdmUgbm8gVkFPc1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvY2F0aW9uLCBhdHRyaWJ1dGUuc2l6ZSwgYXR0cmlidXRlLnR5cGUgfHwgZ2wuRkxPQVQsIGF0dHJpYnV0ZS5ub3JtYWxpemVkLCBhdHRyaWJ1dGUuc3RyaWRlLCBhdHRyaWJ1dGUuc3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgaW5zdGFuY2UgY291bnQgYmFzZWQgb2YgdGhpcy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihsb2NhdGlvbiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGVycm9yLCBHUFUgSW5zdGFuY2luZyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBjdXJyZW50bHkgYm91bmQgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBwcmltaXRpdmUgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSBzaXplIC0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBiZSByZW5kZXJlZC4gSWYgbm90IHNwZWNpZmllZCwgYWxsIHZlcnRpY2VzIGFmdGVyIHRoZVxuICAgICAqICBzdGFydGluZyB2ZXJ0ZXggd2lsbCBiZSBkcmF3bi5cbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBUaGUgc3RhcnRpbmcgdmVydGV4IGluIHRoZSBnZW9tZXRyeSB0byBzdGFydCBkcmF3aW5nIGZyb20uIElmIG5vdCBzcGVjaWZpZWQsXG4gICAgICogIGRyYXdpbmcgd2lsbCBzdGFydCBmcm9tIHRoZSBmaXJzdCB2ZXJ0ZXguXG4gICAgICogQHBhcmFtIGluc3RhbmNlQ291bnQgLSBUaGUgbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc2V0IG9mIGVsZW1lbnRzIHRvIGV4ZWN1dGUuIElmIG5vdCBzcGVjaWZpZWQsXG4gICAgICogIGFsbCBpbnN0YW5jZXMgd2lsbCBiZSBkcmF3bi5cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICh0eXBlLCBzaXplLCBzdGFydCwgaW5zdGFuY2VDb3VudCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcbiAgICAgICAgLy8gVE9ETy4uIHRoaXMgc2hvdWxkIG5vdCBjaGFuZ2Ugc28gbWF5YmUgY2FjaGUgdGhlIGZ1bmN0aW9uP1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHZhciBieXRlU2l6ZSA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgICAgICB2YXIgZ2xUeXBlID0gYnl0ZVNpemUgPT09IDIgPyBnbC5VTlNJR05FRF9TSE9SVCA6IGdsLlVOU0lHTkVEX0lOVDtcbiAgICAgICAgICAgIGlmIChieXRlU2l6ZSA9PT0gMiB8fCAoYnl0ZVNpemUgPT09IDQgJiYgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5Lmluc3RhbmNlZCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3Vuc3VwcG9ydGVkIGluZGV4IGJ1ZmZlciB0eXBlOiB1aW50MzInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gbmVlZCBhIGJldHRlciB3YXkgdG8gY2FsY3VsYXRlIHNpemUuLlxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCksIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKiogVW5iaW5kL3Jlc2V0IGV2ZXJ5dGhpbmcuICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9O1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeVN5c3RlbTtcbn0oKSk7XG5cbi8qKlxuICogQ29tcG9uZW50IGZvciBtYXNrZWQgZWxlbWVudHMuXG4gKlxuICogSG9sZHMgbWFzayBtb2RlIGFuZCB0ZW1wb3JhcnkgZGF0YSBhYm91dCBjdXJyZW50IG1hc2suXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWFza0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIE1hc2tEYXRhXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFttYXNrT2JqZWN0PW51bGxdIC0gb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBtYXNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFza0RhdGEobWFza09iamVjdCkge1xuICAgICAgICBpZiAobWFza09iamVjdCA9PT0gdm9pZCAwKSB7IG1hc2tPYmplY3QgPSBudWxsOyB9XG4gICAgICAgIHRoaXMudHlwZSA9IE1BU0tfVFlQRVMuTk9ORTtcbiAgICAgICAgdGhpcy5hdXRvRGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbWFza09iamVjdCB8fCBudWxsO1xuICAgICAgICB0aGlzLnBvb2xlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTWFza0RhdGEgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm11bHRpc2FtcGxlID0gc2V0dGluZ3MuRklMVEVSX01VTFRJU0FNUExFO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbG9yTWFzayA9IDB4ZjtcbiAgICAgICAgdGhpcy5fZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0TG9jYWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb2xvck1hc2sgPSAweGY7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXNrRGF0YS5wcm90b3R5cGUsIFwiZmlsdGVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcHJpdGUgbWFzayBmaWx0ZXIuXG4gICAgICAgICAqIElmIHNldCB0byBgbnVsbGAsIHRoZSBkZWZhdWx0IHNwcml0ZSBtYXNrIGZpbHRlciBpcyB1c2VkLlxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJzID8gdGhpcy5fZmlsdGVyc1swXSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXJzWzBdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXJzID0gW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBSZXNldHMgdGhlIG1hc2sgZGF0YSBhZnRlciBwb3BNYXNrKCkuICovXG4gICAgTWFza0RhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wb29sZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWFza09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG4gICAgICAgICAgICB0aGlzLmF1dG9EZXRlY3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0TG9jYWwgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIGNvdW50ZXJzIGZyb20gbWFza0RhdGEgYWJvdmUsIGNhbGxlZCBmcm9tIHB1c2hNYXNrKCkuXG4gICAgICogQHBhcmFtIG1hc2tBYm92ZVxuICAgICAqL1xuICAgIE1hc2tEYXRhLnByb3RvdHlwZS5jb3B5Q291bnRlcnNPclJlc2V0ID0gZnVuY3Rpb24gKG1hc2tBYm92ZSkge1xuICAgICAgICBpZiAobWFza0Fib3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IG1hc2tBYm92ZS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IG1hc2tBYm92ZS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG1hc2tBYm92ZS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNYXNrRGF0YTtcbn0oKSk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlIC0gdGhlIHR5cGUsIGNhbiBiZSBlaXRoZXIgVkVSVEVYX1NIQURFUiBvciBGUkFHTUVOVF9TSEFERVJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm5zIHtXZWJHTFNoYWRlcn0gdGhlIHNoYWRlclxuICovXG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCB0eXBlLCBzcmMpIHtcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgIHJldHVybiBzaGFkZXI7XG59XG5cbi8qKlxuICogd2lsbCBsb2cgYSBzaGFkZXIgZXJyb3IgaGlnaGxpZ2h0aW5nIHRoZSBsaW5lcyB3aXRoIHRoZSBlcnJvclxuICogYWxzbyB3aWxsIGFkZCBudW1iZXJzIGFsb25nIHRoZSBzaWRlLlxuICogQHBhcmFtIGdsIC0gdGhlIFdlYkdMQ29udGV4dFxuICogQHBhcmFtIHNoYWRlciAtIHRoZSBzaGFkZXIgdG8gbG9nIGVycm9ycyBmb3JcbiAqL1xuZnVuY3Rpb24gbG9nUHJldHR5U2hhZGVyRXJyb3IoZ2wsIHNoYWRlcikge1xuICAgIHZhciBzaGFkZXJTcmMgPSBnbC5nZXRTaGFkZXJTb3VyY2Uoc2hhZGVyKVxuICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGxpbmUsIGluZGV4KSB7IHJldHVybiBpbmRleCArIFwiOiBcIiArIGxpbmU7IH0pO1xuICAgIHZhciBzaGFkZXJMb2cgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XG4gICAgdmFyIHNwbGl0U2hhZGVyID0gc2hhZGVyTG9nLnNwbGl0KCdcXG4nKTtcbiAgICB2YXIgZGVkdXBlID0ge307XG4gICAgdmFyIGxpbmVOdW1iZXJzID0gc3BsaXRTaGFkZXIubWFwKGZ1bmN0aW9uIChsaW5lKSB7IHJldHVybiBwYXJzZUZsb2F0KGxpbmUucmVwbGFjZSgvXkVSUk9SXFw6IDBcXDooW1xcZF0rKVxcOi4qJC8sICckMScpKTsgfSlcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgICBpZiAobiAmJiAhZGVkdXBlW25dKSB7XG4gICAgICAgICAgICBkZWR1cGVbbl0gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIHZhciBsb2dBcmdzID0gWycnXTtcbiAgICBsaW5lTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgc2hhZGVyU3JjW251bWJlciAtIDFdID0gXCIlY1wiICsgc2hhZGVyU3JjW251bWJlciAtIDFdICsgXCIlY1wiO1xuICAgICAgICBsb2dBcmdzLnB1c2goJ2JhY2tncm91bmQ6ICNGRjAwMDA7IGNvbG9yOiNGRkZGRkY7IGZvbnQtc2l6ZTogMTBweCcsICdmb250LXNpemU6IDEwcHgnKTtcbiAgICB9KTtcbiAgICB2YXIgZnJhZ21lbnRTb3VyY2VUb0xvZyA9IHNoYWRlclNyY1xuICAgICAgICAuam9pbignXFxuJyk7XG4gICAgbG9nQXJnc1swXSA9IGZyYWdtZW50U291cmNlVG9Mb2c7XG4gICAgY29uc29sZS5lcnJvcihzaGFkZXJMb2cpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnY2xpY2sgdG8gdmlldyBmdWxsIHNoYWRlciBjb2RlJyk7XG4gICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIGxvZ0FyZ3MpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuLyoqXG4gKlxuICogbG9ncyBvdXQgYW55IHByb2dyYW0gZXJyb3JzXG4gKiBAcGFyYW0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gcHJvZ3JhbSAtIHRoZSBXZWJHTCBwcm9ncmFtIHRvIGRpc3BsYXkgZXJyb3JzIGZvclxuICogQHBhcmFtIHZlcnRleFNoYWRlciAgLSB0aGUgZnJhZ21lbnQgV2ViR0wgc2hhZGVyIHByb2dyYW1cbiAqIEBwYXJhbSBmcmFnbWVudFNoYWRlciAtIHRoZSB2ZXJ0ZXggV2ViR0wgc2hhZGVyIHByb2dyYW1cbiAqL1xuZnVuY3Rpb24gbG9nUHJvZ3JhbUVycm9yKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHZlcnRleFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBsb2dQcmV0dHlTaGFkZXJFcnJvcihnbCwgdmVydGV4U2hhZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnbWVudFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBsb2dQcmV0dHlTaGFkZXJFcnJvcihnbCwgZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BpeGlKUyBFcnJvcjogQ291bGQgbm90IGluaXRpYWxpemUgc2hhZGVyLicpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJywgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZSkge1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogQG1ldGhvZCBkZWZhdWx0VmFsdWVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSh0eXBlLCBzaXplKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBjYXNlICd2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcbiAgICAgICAgY2FzZSAndmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ3ZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICBjYXNlICd1aW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ2l2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2l2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ3V2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICd1dmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAndXZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlICdidmVjMic6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDIgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDFdKTtcbiAgICAgICAgY2FzZSAnbWF0Myc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxudmFyIHVua25vd25Db250ZXh0ID0ge307XG52YXIgY29udGV4dCA9IHVua25vd25Db250ZXh0O1xuLyoqXG4gKiByZXR1cm5zIGEgbGl0dGxlIFdlYkdMIGNvbnRleHQgdG8gdXNlIGZvciBwcm9ncmFtIGluc3BlY3Rpb24uXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gYSBnbCBjb250ZXh0IHRvIHRlc3Qgd2l0aFxuICovXG5mdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdW5rbm93bkNvbnRleHQgfHwgKGNvbnRleHQgJiYgY29udGV4dC5pc0NvbnRleHRMb3N0KCkpKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgICAgICB2YXIgZ2wgPSB2b2lkIDA7XG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICBnbCA9IChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7fSlcbiAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge30pKTtcbiAgICAgICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIHNoYWRlciB0ZXN0aW5nLi5cbiAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQgPSBnbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbnZhciBtYXhGcmFnbWVudFByZWNpc2lvbjtcbmZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkge1xuICAgIGlmICghbWF4RnJhZ21lbnRQcmVjaXNpb24pIHtcbiAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB2YXIgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIGlmIChnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhZGVyRnJhZ21lbnQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuRlJBR01FTlRfU0hBREVSLCBnbC5ISUdIX0ZMT0FUKTtcbiAgICAgICAgICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4RnJhZ21lbnRQcmVjaXNpb247XG59XG5cbi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIsIGVuc3VyaW5nIHRoZSBkZXZpY2Ugc3VwcG9ydHMgdGhlIHJlcXVlc3QgcHJlY2lzaW9uLlxuICogSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IGp1c3QgZW5zdXJlcyB0aGF0IHRoZSBkZXZpY2UgaXMgYWJsZSB0byBoYW5kbGUgaXQuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSBzaGFkZXIgc291cmNlXG4gKiBAcGFyYW0ge1BJWEkuUFJFQ0lTSU9OfSByZXF1ZXN0ZWRQcmVjaXNpb24gLSBUaGUgcmVxdWVzdCBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci5cbiAqIEBwYXJhbSB7UElYSS5QUkVDSVNJT059IG1heFN1cHBvcnRlZFByZWNpc2lvbiAtIFRoZSBtYXhpbXVtIHByZWNpc2lvbiB0aGUgc2hhZGVyIHN1cHBvcnRzLlxuICogQHJldHVybnMge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG5mdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbikge1xuICAgIGlmIChzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICAvLyBubyBwcmVjaXNpb24gc3VwcGxpZWQsIHNvIFBpeGlKUyB3aWxsIGFkZCB0aGUgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICB2YXIgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuICAgICAgICAvLyBJZiBoaWdocCBpcyByZXF1ZXN0ZWQgYnV0IG5vdCBzdXBwb3J0ZWQsIGRvd25ncmFkZSBwcmVjaXNpb24gdG8gYSBsZXZlbCBhbGwgZGV2aWNlcyBzdXBwb3J0LlxuICAgICAgICBpZiAocmVxdWVzdGVkUHJlY2lzaW9uID09PSBQUkVDSVNJT04uSElHSCAmJiBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIKSB7XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcInByZWNpc2lvbiBcIiArIHByZWNpc2lvbiArIFwiIGZsb2F0O1xcblwiICsgc3JjO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSAncHJlY2lzaW9uIGhpZ2hwJykge1xuICAgICAgICAvLyBwcmVjaXNpb24gd2FzIHN1cHBsaWVkLCBidXQgYXQgYSBsZXZlbCB0aGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0LCBzbyBkb3duZ3JhZGluZyB0byBtZWRpdW1wLlxuICAgICAgICByZXR1cm4gc3JjLnJlcGxhY2UoJ3ByZWNpc2lvbiBoaWdocCcsICdwcmVjaXNpb24gbWVkaXVtcCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3JjO1xufVxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgIGZsb2F0OiAxLFxuICAgIHZlYzI6IDIsXG4gICAgdmVjMzogMyxcbiAgICB2ZWM0OiA0LFxuICAgIGludDogMSxcbiAgICBpdmVjMjogMixcbiAgICBpdmVjMzogMyxcbiAgICBpdmVjNDogNCxcbiAgICB1aW50OiAxLFxuICAgIHV2ZWMyOiAyLFxuICAgIHV2ZWMzOiAzLFxuICAgIHV2ZWM0OiA0LFxuICAgIGJvb2w6IDEsXG4gICAgYnZlYzI6IDIsXG4gICAgYnZlYzM6IDMsXG4gICAgYnZlYzQ6IDQsXG4gICAgbWF0MjogNCxcbiAgICBtYXQzOiA5LFxuICAgIG1hdDQ6IDE2LFxuICAgIHNhbXBsZXIyRDogMSxcbn07XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIG1hcFNpemVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIG1hcFNpemUodHlwZSkge1xuICAgIHJldHVybiBHTFNMX1RPX1NJWkVbdHlwZV07XG59XG5cbnZhciBHTF9UQUJMRSA9IG51bGw7XG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgICBGTE9BVDogJ2Zsb2F0JyxcbiAgICBGTE9BVF9WRUMyOiAndmVjMicsXG4gICAgRkxPQVRfVkVDMzogJ3ZlYzMnLFxuICAgIEZMT0FUX1ZFQzQ6ICd2ZWM0JyxcbiAgICBJTlQ6ICdpbnQnLFxuICAgIElOVF9WRUMyOiAnaXZlYzInLFxuICAgIElOVF9WRUMzOiAnaXZlYzMnLFxuICAgIElOVF9WRUM0OiAnaXZlYzQnLFxuICAgIFVOU0lHTkVEX0lOVDogJ3VpbnQnLFxuICAgIFVOU0lHTkVEX0lOVF9WRUMyOiAndXZlYzInLFxuICAgIFVOU0lHTkVEX0lOVF9WRUMzOiAndXZlYzMnLFxuICAgIFVOU0lHTkVEX0lOVF9WRUM0OiAndXZlYzQnLFxuICAgIEJPT0w6ICdib29sJyxcbiAgICBCT09MX1ZFQzI6ICdidmVjMicsXG4gICAgQk9PTF9WRUMzOiAnYnZlYzMnLFxuICAgIEJPT0xfVkVDNDogJ2J2ZWM0JyxcbiAgICBGTE9BVF9NQVQyOiAnbWF0MicsXG4gICAgRkxPQVRfTUFUMzogJ21hdDMnLFxuICAgIEZMT0FUX01BVDQ6ICdtYXQ0JyxcbiAgICBTQU1QTEVSXzJEOiAnc2FtcGxlcjJEJyxcbiAgICBJTlRfU0FNUExFUl8yRDogJ3NhbXBsZXIyRCcsXG4gICAgVU5TSUdORURfSU5UX1NBTVBMRVJfMkQ6ICdzYW1wbGVyMkQnLFxuICAgIFNBTVBMRVJfQ1VCRTogJ3NhbXBsZXJDdWJlJyxcbiAgICBJTlRfU0FNUExFUl9DVUJFOiAnc2FtcGxlckN1YmUnLFxuICAgIFVOU0lHTkVEX0lOVF9TQU1QTEVSX0NVQkU6ICdzYW1wbGVyQ3ViZScsXG4gICAgU0FNUExFUl8yRF9BUlJBWTogJ3NhbXBsZXIyREFycmF5JyxcbiAgICBJTlRfU0FNUExFUl8yRF9BUlJBWTogJ3NhbXBsZXIyREFycmF5JyxcbiAgICBVTlNJR05FRF9JTlRfU0FNUExFUl8yRF9BUlJBWTogJ3NhbXBsZXIyREFycmF5Jyxcbn07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gbWFwVHlwZShnbCwgdHlwZSkge1xuICAgIGlmICghR0xfVEFCTEUpIHtcbiAgICAgICAgdmFyIHR5cGVOYW1lcyA9IE9iamVjdC5rZXlzKEdMX1RPX0dMU0xfVFlQRVMpO1xuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVOYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRuID0gdHlwZU5hbWVzW2ldO1xuICAgICAgICAgICAgR0xfVEFCTEVbZ2xbdG5dXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBHTF9UQUJMRVt0eXBlXTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuLy8gUGFyc2VycywgZWFjaCBvbmUgb2YgdGhlc2Ugd2lsbCB0YWtlIGEgbG9vayBhdCB0aGUgdHlwZSBvZiBzaGFkZXIgcHJvcGVydHkgYW5kIHVuaWZvcm0uXG4vLyBpZiB0aGV5IHBhc3MgdGhlIHRlc3QgZnVuY3Rpb24gdGhlbiB0aGUgY29kZSBmdW5jdGlvbiBpcyBjYWxsZWQgdGhhdCByZXR1cm5zIGEgdGhlIHNoYWRlciB1cGxvYWQgY29kZSBmb3IgdGhhdCB1bmlmb3JtLlxuLy8gU2hhZGVyIHVwbG9hZCBjb2RlIGlzIGF1dG9tYWdpY2FsbHkgZ2VuZXJhdGVkIHdpdGggdGhlc2UgcGFyc2Vycy5cbi8vIElmIG5vIHBhcnNlciBpcyB2YWxpZCB0aGVuIHRoZSBkZWZhdWx0IHVwbG9hZCBmdW5jdGlvbnMgYXJlIHVzZWQuXG4vLyBleHBvc2luZyBQYXJzZXJzIG1lYW5zIHRoYXQgY3VzdG9tIHVwbG9hZCBsb2dpYyBjYW4gYmUgYWRkZWQgdG8gcGl4aSdzIHNoYWRlcnMuXG4vLyBBIGdvb2QgZXhhbXBsZSB3b3VsZCBiZSBhIHBpeGkgcmVjdGFuZ2xlIGNhbiBiZSBkaXJlY3RseSBzZXQgb24gYSB1bmlmb3JtLlxuLy8gSWYgdGhlIHNoYWRlciBzZWVzIGl0IGl0IGtub3dzIGhvdyB0byB1cGxvYWQgdGhlIHJlY3RhbmdsZSBzdHJ1Y3R1cmUgYXMgYSB2ZWM0XG4vLyBmb3JtYXQgaXMgYXMgZm9sbG93czpcbi8vXG4vLyB7XG4vLyAgICAgdGVzdDogKGRhdGEsIHVuaWZvcm0pID0+IHt9IDwtLS0gdGVzdCBpcyB0aGlzIGNvZGUgc2hvdWxkIGJlIHVzZWQgZm9yIHRoaXMgdW5pZm9ybVxuLy8gICAgIGNvZGU6IChuYW1lLCB1bmlmb3JtKSA9PiB7fSA8LS0tIHJldHVybnMgdGhlIHN0cmluZyBvZiB0aGUgcGllY2Ugb2YgY29kZSB0aGF0IHVwbG9hZHMgdGhlIHVuaWZvcm1cbi8vICAgICBjb2RlVWJvOiAobmFtZSwgdW5pZm9ybSkgPT4ge30gPC0tLSByZXR1cm5zIHRoZSBzdHJpbmcgb2YgdGhlIHBpZWNlIG9mIGNvZGUgdGhhdCB1cGxvYWRzIHRoZVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaWZvcm0gdG8gYSB1bmlmb3JtIGJ1ZmZlclxuLy8gfVxudmFyIHVuaWZvcm1QYXJzZXJzID0gW1xuICAgIC8vIGEgZmxvYXQgY2FjaGUgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAnZmxvYXQnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5O1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgaWYodXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0gIT09IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlKVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXVxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdKVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGhhbmRsaW5nIHNhbXBsZXJzXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW4sbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgIHJldHVybiAoZGF0YS50eXBlID09PSAnc2FtcGxlcjJEJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyQ3ViZScgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlcjJEQXJyYXknKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSAmJiAodW5pZm9ybSA9PSBudWxsIHx8IHVuaWZvcm0uY2FzdFRvQmFzZVRleHR1cmUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBcInQgPSBzeW5jRGF0YS50ZXh0dXJlQ291bnQrKztcXG5cXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0sIHQpO1xcblxcbiAgICAgICAgICAgIGlmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlICE9PSB0KVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgPSB0O1xcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHQpO1xcbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXFxuICAgICAgICAgICAgfVwiOyB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIHBpeGkgbWF0cml4IG9iamVjdCB0byBtYXQzXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ21hdDMnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5ICYmIHVuaWZvcm0uYSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgLy8gVE9ETyBhbmQgc29tZSBzbWFydCBjYWNoaW5nIGRpcnR5IGlkcyBoZXJlIVxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgZmFsc2UsIHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnRvQXJyYXkodHJ1ZSkpO1xcbiAgICAgICAgICAgIFwiO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlVWJvOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIHZhciBcIiArIG5hbWUgKyBcIl9tYXRyaXggPSB1di5cIiArIG5hbWUgKyBcIi50b0FycmF5KHRydWUpO1xcblxcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldF0gPSBcIiArIG5hbWUgKyBcIl9tYXRyaXhbMF07XFxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gXCIgKyBuYW1lICsgXCJfbWF0cml4WzFdO1xcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCsyXSA9IFwiICsgbmFtZSArIFwiX21hdHJpeFsyXTtcXG4gICAgICAgIFxcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDRdID0gXCIgKyBuYW1lICsgXCJfbWF0cml4WzNdO1xcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDVdID0gXCIgKyBuYW1lICsgXCJfbWF0cml4WzRdO1xcbiAgICAgICAgICAgICAgICBkYXRhW29mZnNldCArIDZdID0gXCIgKyBuYW1lICsgXCJfbWF0cml4WzVdO1xcbiAgICAgICAgXFxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgOF0gPSBcIiArIG5hbWUgKyBcIl9tYXRyaXhbNl07XFxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgOV0gPSBcIiArIG5hbWUgKyBcIl9tYXRyaXhbN107XFxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMTBdID0gXCIgKyBuYW1lICsgXCJfbWF0cml4WzhdO1xcbiAgICAgICAgICAgIFwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIGEgcGl4aSBwb2ludCBhcyBhIHZlYzIgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5ICYmIHVuaWZvcm0ueCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB2LngsIHYueSk7XFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZVVibzogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICB2ID0gdXYuXCIgKyBuYW1lICsgXCI7XFxuXFxuICAgICAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYueDtcXG4gICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2Lnk7XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIGNhY2hpbmcgbGF5ZXIgZm9yIGEgdmVjMlxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0pO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyB1cGxvYWQgYSBwaXhpIHJlY3RhbmdsZSBhcyBhIHZlYzQgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiAhZGF0YS5pc0FycmF5ICYmIHVuaWZvcm0ud2lkdGggIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHYud2lkdGg7XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB2LngsIHYueSwgdi53aWR0aCwgdi5oZWlnaHQpXFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZVVibzogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICAgICAgdiA9IHV2LlwiICsgbmFtZSArIFwiO1xcblxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBkYXRhW29mZnNldCsyXSA9IHYud2lkdGg7XFxuICAgICAgICAgICAgICAgICAgICBkYXRhW29mZnNldCszXSA9IHYuaGVpZ2h0O1xcbiAgICAgICAgICAgICAgICBcIjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gYSBjYWNoaW5nIGxheWVyIGZvciB2ZWM0IHVwbG9hZGluZ1xuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICd2ZWM0JyAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XFxuXFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICB9IF07XG5cbi8vIGN1ID0gQ2FjaGVkIHZhbHVlJ3MgdW5pZm9ybSBkYXRhIGZpZWxkXG4vLyBjdiA9IENhY2hlZCB2YWx1ZVxuLy8gdiA9IHZhbHVlIHRvIHVwbG9hZFxuLy8gdWQgPSB1bmlmb3JtRGF0YVxuLy8gdXYgPSB1bmlmb3JtVmFsdWVcbi8vIGwgPSBsb2NhdGlvblxudmFyIEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEID0ge1xuICAgIGZsb2F0OiBcIlxcbiAgICBpZiAoY3YgIT09IHYpXFxuICAgIHtcXG4gICAgICAgIGN1LnZhbHVlID0gdjtcXG4gICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdik7XFxuICAgIH1cIixcbiAgICB2ZWMyOiBcIlxcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0yZihsb2NhdGlvbiwgdlswXSwgdlsxXSlcXG4gICAgfVwiLFxuICAgIHZlYzM6IFwiXFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKVxcbiAgICB9XCIsXG4gICAgdmVjNDogXCJcXG4gICAgaWYgKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBjdlsyXSA9IHZbMl07XFxuICAgICAgICBjdlszXSA9IHZbM107XFxuXFxuICAgICAgICBnbC51bmlmb3JtNGYobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xcbiAgICB9XCIsXG4gICAgaW50OiBcIlxcbiAgICBpZiAoY3YgIT09IHYpXFxuICAgIHtcXG4gICAgICAgIGN1LnZhbHVlID0gdjtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdik7XFxuICAgIH1cIixcbiAgICBpdmVjMjogXCJcXG4gICAgaWYgKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuXFxuICAgICAgICBnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pO1xcbiAgICB9XCIsXG4gICAgaXZlYzM6IFwiXFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKTtcXG4gICAgfVwiLFxuICAgIGl2ZWM0OiBcIlxcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgIGN2WzJdID0gdlsyXTtcXG4gICAgICAgIGN2WzNdID0gdlszXTtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XFxuICAgIH1cIixcbiAgICB1aW50OiBcIlxcbiAgICBpZiAoY3YgIT09IHYpXFxuICAgIHtcXG4gICAgICAgIGN1LnZhbHVlID0gdjtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0xdWkobG9jYXRpb24sIHYpO1xcbiAgICB9XCIsXG4gICAgdXZlYzI6IFwiXFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTJ1aShsb2NhdGlvbiwgdlswXSwgdlsxXSk7XFxuICAgIH1cIixcbiAgICB1dmVjMzogXCJcXG4gICAgaWYgKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBjdlsyXSA9IHZbMl07XFxuXFxuICAgICAgICBnbC51bmlmb3JtM3VpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKTtcXG4gICAgfVwiLFxuICAgIHV2ZWM0OiBcIlxcbiAgICBpZiAoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgIGN2WzJdID0gdlsyXTtcXG4gICAgICAgIGN2WzNdID0gdlszXTtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm00dWkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xcbiAgICB9XCIsXG4gICAgYm9vbDogXCJcXG4gICAgaWYgKGN2ICE9PSB2KVxcbiAgICB7XFxuICAgICAgICBjdS52YWx1ZSA9IHY7XFxuICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpO1xcbiAgICB9XCIsXG4gICAgYnZlYzI6IFwiXFxuICAgIGlmIChjdlswXSAhPSB2WzBdIHx8IGN2WzFdICE9IHZbMV0pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSk7XFxuICAgIH1cIixcbiAgICBidmVjMzogXCJcXG4gICAgaWYgKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBjdlsyXSA9IHZbMl07XFxuXFxuICAgICAgICBnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pO1xcbiAgICB9XCIsXG4gICAgYnZlYzQ6IFwiXFxuICAgIGlmIChjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xcbiAgICAgICAgY3ZbM10gPSB2WzNdO1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcXG4gICAgfVwiLFxuICAgIG1hdDI6ICdnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDM6ICdnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDQ6ICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIHNhbXBsZXIyRDogXCJcXG4gICAgaWYgKGN2ICE9PSB2KVxcbiAgICB7XFxuICAgICAgICBjdS52YWx1ZSA9IHY7XFxuXFxuICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpO1xcbiAgICB9XCIsXG4gICAgc2FtcGxlckN1YmU6IFwiXFxuICAgIGlmIChjdiAhPT0gdilcXG4gICAge1xcbiAgICAgICAgY3UudmFsdWUgPSB2O1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KTtcXG4gICAgfVwiLFxuICAgIHNhbXBsZXIyREFycmF5OiBcIlxcbiAgICBpZiAoY3YgIT09IHYpXFxuICAgIHtcXG4gICAgICAgIGN1LnZhbHVlID0gdjtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdik7XFxuICAgIH1cIixcbn07XG52YXIgR0xTTF9UT19BUlJBWV9TRVRURVJTID0ge1xuICAgIGZsb2F0OiBcImdsLnVuaWZvcm0xZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjMjogXCJnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzM6IFwiZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWM0OiAnZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdiknLFxuICAgIG1hdDQ6ICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDM6ICdnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDI6ICdnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIGludDogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMzogJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjNDogJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcbiAgICB1aW50OiAnZ2wudW5pZm9ybTF1aXYobG9jYXRpb24sIHYpJyxcbiAgICB1dmVjMjogJ2dsLnVuaWZvcm0ydWl2KGxvY2F0aW9uLCB2KScsXG4gICAgdXZlYzM6ICdnbC51bmlmb3JtM3Vpdihsb2NhdGlvbiwgdiknLFxuICAgIHV2ZWM0OiAnZ2wudW5pZm9ybTR1aXYobG9jYXRpb24sIHYpJyxcbiAgICBib29sOiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMyOiAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMzOiAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWM0OiAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyRDogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbn07XG5mdW5jdGlvbiBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdW5pZm9ybURhdGEpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGZ1bmNGcmFnbWVudHMgPSBbXCJcXG4gICAgICAgIHZhciB2ID0gbnVsbDtcXG4gICAgICAgIHZhciBjdiA9IG51bGw7XFxuICAgICAgICB2YXIgY3UgPSBudWxsO1xcbiAgICAgICAgdmFyIHQgPSAwO1xcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XFxuICAgIFwiXTtcbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBkYXRhID0gdW5pZm9ybURhdGFbaV07XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgaWYgKChfYSA9IGdyb3VwLnVuaWZvcm1zW2ldKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ3JvdXApIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0udWJvKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUJ1ZmZlckdyb3VwKHV2LlwiICsgaSArIFwiLCAnXCIgKyBpICsgXCInKTtcXG4gICAgICAgICAgICAgICAgICAgIFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHV2LlwiICsgaSArIFwiLCBzeW5jRGF0YSk7XFxuICAgICAgICAgICAgICAgICAgICBcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcbiAgICAgICAgdmFyIHBhcnNlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAodW5pZm9ybVBhcnNlcnNbal0udGVzdChkYXRhLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaCh1bmlmb3JtUGFyc2Vyc1tqXS5jb2RlKGksIHVuaWZvcm0pKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VkKSB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVUeXBlID0gZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXkgPyBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA6IEdMU0xfVE9fQVJSQVlfU0VUVEVSUztcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgXCJ1ZFtcXFwiXCIgKyBpICsgXCJcXFwiXS5sb2NhdGlvblwiKTtcbiAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgIGN1ID0gdWRbXFxcIlwiICsgaSArIFwiXFxcIl07XFxuICAgICAgICAgICAgY3YgPSBjdS52YWx1ZTtcXG4gICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgaSArIFwiXFxcIl07XFxuICAgICAgICAgICAgXCIgKyB0ZW1wbGF0ZSArIFwiO1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKlxuICAgICAqIHRoZSBpbnRyb2R1Y3Rpb24gb2Ygc3luY0RhdGEgaXMgdG8gc29sdmUgYW4gaXNzdWUgd2hlcmUgdGV4dHVyZXMgaW4gdW5pZm9ybSBncm91cHMgYXJlIG5vdCBzZXQgY29ycmVjdGx5XG4gICAgICogdGhlIHRleHR1cmUgY291bnQgd2FzIGFsd2F5cyBzdGFydGluZyBmcm9tIDAgaW4gZWFjaCBncm91cC4gVGhpcyBuZWVkcyB0byBpbmNyZW1lbnQgZWFjaCB0aW1lIGEgdGV4dHVyZSBpcyB1c2VkXG4gICAgICogbm8gbWF0dGVyIHdoaWNoIGdyb3VwIGlzIGJlaW5nIHVzZWRcbiAgICAgKlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ3VkJywgJ3V2JywgJ3JlbmRlcmVyJywgJ3N5bmNEYXRhJywgZnVuY0ZyYWdtZW50cy5qb2luKCdcXG4nKSk7XG59XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKXsnLFxuICAgICdmbG9hdCB0ZXN0ID0gMC4xOycsXG4gICAgJyVmb3Jsb29wJScsXG4gICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4SWZzOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA8IG1heElmcyAtIDEpIHtcbiAgICAgICAgICAgIHNyYyArPSBcImlmKHRlc3QgPT0gXCIgKyBpICsgXCIuMCl7fVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzcmM7XG59XG5mdW5jdGlvbiBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKG1heElmcywgZ2wpIHtcbiAgICBpZiAobWF4SWZzID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZSBvZiBgMGAgcGFzc2VkIHRvIGBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyYCcpO1xuICAgIH1cbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgd2hpbGUgKHRydWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgIHtcbiAgICAgICAgdmFyIGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSk7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgbWF4SWZzID0gKG1heElmcyAvIDIpIHwgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHZhbGlkIVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuLy8gQ2FjaGUgdGhlIHJlc3VsdCB0byBwcmV2ZW50IHJ1bm5pbmcgdGhpcyBvdmVyIGFuZCBvdmVyXG52YXIgdW5zYWZlRXZhbDtcbi8qKlxuICogTm90IGFsbCBwbGF0Zm9ybXMgYWxsb3cgdG8gZ2VuZXJhdGUgZnVuY3Rpb24gY29kZSAoZS5nLiwgYG5ldyBGdW5jdGlvbmApLlxuICogdGhpcyBwcm92aWRlcyB0aGUgcGxhdGZvcm0tbGV2ZWwgZGV0ZWN0aW9uLlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgYG5ldyBGdW5jdGlvbmAgaXMgc3VwcG9ydGVkLlxuICovXG5mdW5jdGlvbiB1bnNhZmVFdmFsU3VwcG9ydGVkKCkge1xuICAgIGlmICh0eXBlb2YgdW5zYWZlRXZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiB1bnNhZmVFdmFsO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB2YXIgZnVuYyA9IG5ldyBGdW5jdGlvbigncGFyYW0xJywgJ3BhcmFtMicsICdwYXJhbTMnLCAncmV0dXJuIHBhcmFtMVtwYXJhbTJdID09PSBwYXJhbTM7Jyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbmV3LWZ1bmMgKi9cbiAgICAgICAgdW5zYWZlRXZhbCA9IGZ1bmMoeyBhOiAnYicgfSwgJ2EnLCAnYicpID09PSB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB1bnNhZmVFdmFsID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB1bnNhZmVFdmFsO1xufVxuXG52YXIgZGVmYXVsdEZyYWdtZW50JDIgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgKj0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XCI7XG5cbnZhciBkZWZhdWx0VmVydGV4JDMgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59XFxuXCI7XG5cbnZhciBVSUQkMSA9IDA7XG52YXIgbmFtZUNhY2hlID0ge307XG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBzaGFkZXIgcHJvZ3JhbS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQcm9ncmFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhTcmMgLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSBmcmFnbWVudFNyYyAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgZm9yIHNoYWRlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSAncGl4aS1zaGFkZXInOyB9XG4gICAgICAgIHRoaXMuaWQgPSBVSUQkMSsrO1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRGcmFnbWVudFNyYztcbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB0aGlzLnZlcnRleFNyYy50cmltKCk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdtZW50U3JjLnRyaW0oKTtcbiAgICAgICAgaWYgKHRoaXMudmVydGV4U3JjLnN1YnN0cmluZygwLCA4KSAhPT0gJyN2ZXJzaW9uJykge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXFxzKy9nLCAnLScpO1xuICAgICAgICAgICAgaWYgKG5hbWVDYWNoZVtuYW1lXSkge1xuICAgICAgICAgICAgICAgIG5hbWVDYWNoZVtuYW1lXSsrO1xuICAgICAgICAgICAgICAgIG5hbWUgKz0gXCItXCIgKyBuYW1lQ2FjaGVbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIgKyBuYW1lICsgXCJcXG5cIiArIHRoaXMudmVydGV4U3JjO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIiArIG5hbWUgKyBcIlxcblwiICsgdGhpcy5mcmFnbWVudFNyYztcbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMudmVydGV4U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fVkVSVEVYLCBQUkVDSVNJT04uSElHSCk7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMuZnJhZ21lbnRTcmMsIHNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCwgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudGx5IHRoaXMgZG9lcyBub3QgZXh0cmFjdCBzdHJ1Y3RzIG9ubHkgZGVmYXVsdCB0eXBlc1xuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICAgICAgdGhpcy5nbFByb2dyYW1zID0ge307XG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb2dyYW0sIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZS5cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmVydGV4JDM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvZ3JhbSwgXCJkZWZhdWx0RnJhZ21lbnRTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZS5cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQkMjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBwcm9ncmFtIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY2FjaGVkIHByb2dyYW0uXG4gICAgICogQHBhcmFtIHZlcnRleFNyYyAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIGZyYWdtZW50U3JjIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBmb3Igc2hhZGVyXG4gICAgICogQHJldHVybnMgQSBzaGlueSBuZXcgUGl4aUpTIHNoYWRlciBwcm9ncmFtIVxuICAgICAqL1xuICAgIFByb2dyYW0uZnJvbSA9IGZ1bmN0aW9uICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKSB7XG4gICAgICAgIHZhciBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtQ2FjaGVba2V5XTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBQcm9ncmFtQ2FjaGVba2V5XSA9IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvZ3JhbTtcbiAgICB9O1xuICAgIHJldHVybiBQcm9ncmFtO1xufSgpKTtcblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyBmb3Igc2hhZGVycy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaGFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHByb2dyYW0gLSBUaGUgcHJvZ3JhbSB0aGUgc2hhZGVyIHdpbGwgdXNlLlxuICAgICAqIEBwYXJhbSB1bmlmb3JtcyAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBiaW5kIHVuaWZvcm0gYnVmZmVyIG9iamVjdHMuXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybUJpbmRDb3VudCA9IDA7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgICAgIC8vIHVuaWZvcm1zIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSB1bmlmb3JtIGdyb3VwXG4gICAgICAgIGlmICh1bmlmb3Jtcykge1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSB1bmlmb3JtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAoe30pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VTaGFkZXInKTtcbiAgICB9XG4gICAgLy8gVE9ETyBtb3ZlIHRvIHNoYWRlciBzeXN0ZW0uLlxuICAgIFNoYWRlci5wcm90b3R5cGUuY2hlY2tVbmlmb3JtRXhpc3RzID0gZnVuY3Rpb24gKG5hbWUsIGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tuYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiBncm91cC51bmlmb3Jtcykge1xuICAgICAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtLmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tVbmlmb3JtRXhpc3RzKG5hbWUsIHVuaWZvcm0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTaGFkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHVzYWdlIGNvdW50IG9uIHByb2dyYW1zP1xuICAgICAgICAvLyByZW1vdmUgaWYgbm90IHVzZWQhXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5kZXN0cm95KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2hhZGVyLnByb3RvdHlwZSwgXCJ1bmlmb3Jtc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaGFkZXIgdW5pZm9ybSB2YWx1ZXMsIHNob3J0Y3V0IGZvciBgdW5pZm9ybUdyb3VwLnVuaWZvcm1zYC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3JtcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0gdmVydGV4U3JjIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0gZnJhZ21lbnRTcmMgLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHVuaWZvcm1zIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqIEByZXR1cm5zIEEgc2hpbnkgbmV3IFBpeGlKUyBzaGFkZXIhXG4gICAgICovXG4gICAgU2hhZGVyLmZyb20gPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIHJldHVybiBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICB9O1xuICAgIHJldHVybiBTaGFkZXI7XG59KCkpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG52YXIgQkxFTkQkMSA9IDA7XG52YXIgT0ZGU0VUJDEgPSAxO1xudmFyIENVTExJTkckMSA9IDI7XG52YXIgREVQVEhfVEVTVCQxID0gMztcbnZhciBXSU5ESU5HJDEgPSA0O1xudmFyIERFUFRIX01BU0skMSA9IDU7XG4vKipcbiAqIFRoaXMgaXMgYSBXZWJHTCBzdGF0ZSwgYW5kIGlzIGlzIHBhc3NlZCB0byB7QGxpbmsgUElYSS5TdGF0ZVN5c3RlbX0uXG4gKlxuICogRWFjaCBtZXNoIHJlbmRlcmVkIG1heSByZXF1aXJlIFdlYkdMIHRvIGJlIGluIGEgZGlmZmVyZW50IHN0YXRlLlxuICogRm9yIGV4YW1wbGUgeW91IG1heSB3YW50IGRpZmZlcmVudCBibGVuZCBtb2RlIG9yIHRvIGVuYWJsZSBwb2x5Z29uIG9mZnNldHNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gMDtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHRoTWFzayA9IHRydWU7XG4gICAgICAgIC8vICB0aGlzLmRlcHRoVGVzdCA9IHRydWU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiYmxlbmRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGJsZW5kaW5nIG9mIHRoZSBjb21wdXRlZCBmcmFnbWVudCBjb2xvciB2YWx1ZXMuXG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EJDEpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCQxKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IEJMRU5EJDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJvZmZzZXRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBPRkZTRVQkMSkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCQxKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IE9GRlNFVCQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiY3VsbGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkckMSkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkckMSkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBDVUxMSU5HJDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJkZXB0aFRlc3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUJDEpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUJDEpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgREVQVEhfVEVTVCQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiZGVwdGhNYXNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgd3JpdGluZyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9NQVNLJDEpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9NQVNLJDEpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgREVQVEhfTUFTSyQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiY2xvY2t3aXNlRnJvbnRGYWNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBmcm9udCBvciBiYWNrLWZhY2luZyBwb2x5Z29ucyBjYW4gYmUgY3VsbGVkLlxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORyQxKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORyQxKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IFdJTkRJTkckMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHdoZW4gdGhpcyBzdGF0ZSBpcyBzZXQuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibGVuZCA9ICh2YWx1ZSAhPT0gQkxFTkRfTU9ERVMuTk9ORSk7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwicG9seWdvbk9mZnNldFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0YXRlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiW0BwaXhpL2NvcmU6U3RhdGUgXCJcbiAgICAgICAgICAgICsgKFwiYmxlbmRNb2RlPVwiICsgdGhpcy5ibGVuZE1vZGUgKyBcIiBcIilcbiAgICAgICAgICAgICsgKFwiY2xvY2t3aXNlRnJvbnRGYWNlPVwiICsgdGhpcy5jbG9ja3dpc2VGcm9udEZhY2UgKyBcIiBcIilcbiAgICAgICAgICAgICsgKFwiY3VsbGluZz1cIiArIHRoaXMuY3VsbGluZyArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJkZXB0aE1hc2s9XCIgKyB0aGlzLmRlcHRoTWFzayArIFwiIFwiKVxuICAgICAgICAgICAgKyAoXCJwb2x5Z29uT2Zmc2V0PVwiICsgdGhpcy5wb2x5Z29uT2Zmc2V0KVxuICAgICAgICAgICAgKyBcIl1cIjtcbiAgICB9O1xuICAgIFN0YXRlLmZvcjJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlO1xufSgpKTtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQxID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XFxuXCI7XG5cbnZhciBkZWZhdWx0VmVydGV4JDIgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBBIGZpbHRlciBpcyBhIHNwZWNpYWwgc2hhZGVyIHRoYXQgYXBwbGllcyBwb3N0LXByb2Nlc3NpbmcgZWZmZWN0cyB0byBhbiBpbnB1dCB0ZXh0dXJlIGFuZCB3cml0ZXMgaW50byBhbiBvdXRwdXRcbiAqIHJlbmRlci10YXJnZXQuXG4gKlxuICoge0BsaW5rIGh0dHA6Ly9waXhpanMuaW8vZXhhbXBsZXMvIy9maWx0ZXJzL2JsdXItZmlsdGVyLmpzIEV4YW1wbGV9IG9mIHRoZVxuICoge0BsaW5rIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyIEJsdXJGaWx0ZXJ9LlxuICpcbiAqICMjIyBVc2FnZVxuICogRmlsdGVycyBjYW4gYmUgYXBwbGllZCB0byBhbnkgRGlzcGxheU9iamVjdCBvciBDb250YWluZXIuXG4gKiBQaXhpSlMnIGBGaWx0ZXJTeXN0ZW1gIHJlbmRlcnMgdGhlIGNvbnRhaW5lciBpbnRvIHRlbXBvcmFyeSBGcmFtZWJ1ZmZlcixcbiAqIHRoZW4gZmlsdGVyIHJlbmRlcnMgaXQgdG8gdGhlIHNjcmVlbi5cbiAqIE11bHRpcGxlIGZpbHRlcnMgY2FuIGJlIGFkZGVkIHRvIHRoZSBgZmlsdGVyc2AgYXJyYXkgcHJvcGVydHkgYW5kIHN0YWNrZWQgb24gZWFjaCBvdGhlci5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGZpbHRlciA9IG5ldyBQSVhJLkZpbHRlcihteVNoYWRlclZlcnQsIG15U2hhZGVyRnJhZywgeyBteVVuaWZvcm06IDAuNSB9KTtcbiAqIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmZpbHRlcnMgPSBbZmlsdGVyXTtcbiAqIGBgYFxuICpcbiAqICMjIyBQcmV2aW91cyBWZXJzaW9uIERpZmZlcmVuY2VzXG4gKlxuICogSW4gUGl4aUpTICoqdjMqKiwgYSBmaWx0ZXIgd2FzIGFsd2F5cyBhcHBsaWVkIHRvIF93aG9sZSBzY3JlZW5fLlxuICpcbiAqIEluIFBpeGlKUyAqKnY0KiosIGEgZmlsdGVyIGNhbiBiZSBhcHBsaWVkIF9vbmx5IHBhcnQgb2YgdGhlIHNjcmVlbl8uXG4gKiBEZXZlbG9wZXJzIGhhZCB0byBjcmVhdGUgYSBzZXQgb2YgdW5pZm9ybXMgdG8gZGVhbCB3aXRoIGNvb3JkaW5hdGVzLlxuICpcbiAqIEluIFBpeGlKUyAqKnY1KiogY29tYmluZXMgX2JvdGggYXBwcm9hY2hlc18uXG4gKiBEZXZlbG9wZXJzIGNhbiB1c2Ugbm9ybWFsIGNvb3JkaW5hdGVzIG9mIHYzIGFuZCB0aGVuIGFsbG93IGZpbHRlciB0byB1c2UgcGFydGlhbCBGcmFtZWJ1ZmZlcnMsXG4gKiBicmluZ2luZyB0aG9zZSBleHRyYSB1bmlmb3JtcyBpbnRvIGFjY291bnQuXG4gKlxuICogQWxzbyBiZSBhd2FyZSB0aGF0IHdlIGhhdmUgY2hhbmdlZCBkZWZhdWx0IHZlcnRleCBzaGFkZXIsIHBsZWFzZSBjb25zdWx0XG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3dpa2kvdjUtQ3JlYXRpbmctZmlsdGVycyBXaWtpfS5cbiAqXG4gKiAjIyMgRnJhbWVzXG4gKlxuICogVGhlIGZvbGxvd2luZyB0YWJsZSBzdW1tYXJpemVzIHRoZSBjb29yZGluYXRlIHNwYWNlcyB1c2VkIGluIHRoZSBmaWx0ZXJpbmcgcGlwZWxpbmU6XG4gKlxuICogPHRhYmxlPlxuICogPHRoZWFkPlxuICogICA8dHI+XG4gKiAgICAgPHRoPkNvb3JkaW5hdGUgU3BhY2U8L3RoPlxuICogICAgIDx0aD5EZXNjcmlwdGlvbjwvdGg+XG4gKiAgIDwvdHI+XG4gKiA8L3RoZWFkPlxuICogPHRib2R5PlxuICogICA8dHI+XG4gKiAgICAgPHRkPlRleHR1cmUgQ29vcmRpbmF0ZXM8L3RkPlxuICogICAgIDx0ZD5cbiAqICAgICAgICAgVGhlIHRleHR1cmUgKG9yIFVWKSBjb29yZGluYXRlcyBpbiB0aGUgaW5wdXQgYmFzZS10ZXh0dXJlJ3Mgc3BhY2UuIFRoZXNlIGFyZSBub3JtYWxpemVkIGludG8gdGhlICgwLDEpIHJhbmdlIGFsb25nXG4gKiAgICAgICAgIGJvdGggYXhlcy5cbiAqICAgICA8L3RkPlxuICogICA8L3RyPlxuICogICA8dHI+XG4gKiAgICAgPHRkPldvcmxkIFNwYWNlPC90ZD5cbiAqICAgICA8dGQ+XG4gKiAgICAgICAgIEEgcG9pbnQgaW4gdGhlIHNhbWUgc3BhY2UgYXMgdGhlIHdvcmxkIGJvdW5kcyBvZiBhbnkgZGlzcGxheS1vYmplY3QgKGkuZS4gaW4gdGhlIHNjZW5lIGdyYXBoJ3Mgc3BhY2UpLlxuICogICAgIDwvdGQ+XG4gKiAgIDwvdHI+XG4gKiAgIDx0cj5cbiAqICAgICA8dGQ+UGh5c2ljYWwgUGl4ZWxzPC90ZD5cbiAqICAgICA8dGQ+XG4gKiAgICAgICAgIFRoaXMgaXMgYmFzZS10ZXh0dXJlJ3Mgc3BhY2Ugd2l0aCB0aGUgb3JpZ2luIG9uIHRoZSB0b3AtbGVmdC4gWW91IGNhbiBjYWxjdWxhdGUgdGhlc2UgYnkgbXVsdGlwbHlpbmcgdGhlIHRleHR1cmVcbiAqICAgICAgICAgY29vcmRpbmF0ZXMgYnkgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHRleHR1cmUuXG4gKiAgICAgPC90ZD5cbiAqICAgPC90cj5cbiAqIDwvdGJvZHk+XG4gKiA8L3RhYmxlPlxuICpcbiAqICMjIyBCdWlsdC1pbiBVbmlmb3Jtc1xuICpcbiAqIFBpeGlKUyB2aWV3cG9ydCB1c2VzIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcywgYCgwLCAwLCByZW5kZXJlci5zY3JlZW4ud2lkdGgsIHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQpYCxcbiAqIGFuZCBgcHJvamVjdGlvbk1hdHJpeGAgdW5pZm9ybSBtYXBzIGl0IHRvIHRoZSBnbCB2aWV3cG9ydC5cbiAqXG4gKiAqKnVTYW1wbGVyKipcbiAqXG4gKiBUaGUgbW9zdCBpbXBvcnRhbnQgdW5pZm9ybSBpcyB0aGUgaW5wdXQgdGV4dHVyZSB0aGF0IGNvbnRhaW5lciB3YXMgcmVuZGVyZWQgaW50by5cbiAqIF9JbXBvcnRhbnQgbm90ZTogYXMgd2l0aCBhbGwgRnJhbWVidWZmZXJzIGluIFBpeGlKUywgYm90aCBpbnB1dCBhbmQgb3V0cHV0IGFyZVxuICogcHJlbXVsdGlwbGllZCBieSBhbHBoYS5fXG4gKlxuICogQnkgZGVmYXVsdCwgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlcyBhcmUgcGFzc2VkIHRvIGZyYWdtZW50IHNoYWRlciB3aXRoIGB2VGV4dHVyZUNvb3JkYC5cbiAqIFVzZSBpdCB0byBzYW1wbGUgdGhlIGlucHV0LlxuICpcbiAqIGBgYFxuICogY29uc3QgZnJhZ21lbnQgPSBgXG4gKiB2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcbiAqIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xuICogdm9pZCBtYWluKHZvaWQpXG4gKiB7XG4gKiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xuICogfVxuICogYDtcbiAqXG4gKiBjb25zdCBteUZpbHRlciA9IG5ldyBQSVhJLkZpbHRlcihudWxsLCBmcmFnbWVudCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGZpbHRlciBpcyBqdXN0IG9uZSB1bmlmb3JtIGxlc3MgdGhhbiB7QGxpbmsgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyIEFscGhhRmlsdGVyfS5cbiAqXG4gKiAqKm91dHB1dEZyYW1lKipcbiAqXG4gKiBUaGUgYG91dHB1dEZyYW1lYCBob2xkcyB0aGUgcmVjdGFuZ2xlIHdoZXJlIGZpbHRlciBpcyBhcHBsaWVkIGluIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcy5cbiAqIEl0J3MgdGhlIHNhbWUgYXMgYHJlbmRlcmVyLnNjcmVlbmAgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKiBPbmx5IGEgcGFydCBvZiAgYG91dHB1dEZyYW1lLnp3YCBzaXplIG9mIHRlbXBvcmFyeSBGcmFtZWJ1ZmZlciBpcyB1c2VkLFxuICogYCgwLCAwLCBvdXRwdXRGcmFtZS53aWR0aCwgb3V0cHV0RnJhbWUuaGVpZ2h0KWAsXG4gKlxuICogRmlsdGVycyB1c2VzIHRoaXMgcXVhZCB0byBub3JtYWxpemVkICgwLTEpIHNwYWNlLCBpdHMgcGFzc2VkIGludG8gYGFWZXJ0ZXhQb3NpdGlvbmAgYXR0cmlidXRlLlxuICogVG8gY2FsY3VsYXRlIHZlcnRleCBwb3NpdGlvbiBpbiBzY3JlZW4gc3BhY2UgdXNpbmcgbm9ybWFsaXplZCAoMC0xKSBzcGFjZTpcbiAqXG4gKiBgYGBcbiAqIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxuICoge1xuICogICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xuICogICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICoqaW5wdXRTaXplKipcbiAqXG4gKiBUZW1wb3JhcnkgZnJhbWVidWZmZXIgaXMgZGlmZmVyZW50LCBpdCBjYW4gYmUgZWl0aGVyIHRoZSBzaXplIG9mIHNjcmVlbiwgZWl0aGVyIHBvd2VyLW9mLXR3by5cbiAqIFRoZSBgaW5wdXRTaXplLnh5YCBhcmUgc2l6ZSBvZiB0ZW1wb3JhcnkgZnJhbWVidWZmZXIgdGhhdCBob2xkcyBpbnB1dC5cbiAqIFRoZSBgaW5wdXRTaXplLnp3YCBpcyBpbnZlcnRlZCwgaXQncyBhIHNob3J0Y3V0IHRvIGV2YWRlIGRpdmlzaW9uIGluc2lkZSB0aGUgc2hhZGVyLlxuICpcbiAqIFNldCBgaW5wdXRTaXplLnh5ID0gb3V0cHV0RnJhbWUuendgIGZvciBhIGZ1bGxzY3JlZW4gZmlsdGVyLlxuICpcbiAqIFRvIGNhbGN1bGF0ZSBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGUsIHlvdSBoYXZlIHRvIG1hcCBpdCB0byBmaWx0ZXIgbm9ybWFsaXplZCBzcGFjZS5cbiAqIE11bHRpcGx5IGJ5IGBvdXRwdXRGcmFtZS56d2AgdG8gZ2V0IGlucHV0IGNvb3JkaW5hdGUuXG4gKiBEaXZpZGUgYnkgYGlucHV0U2l6ZS54eWAgdG8gZ2V0IGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZS5cbiAqXG4gKiBgYGBcbiAqIHZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcbiAqIHtcbiAqICAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTsgLy8gc2FtZSBhcyAvaW5wdXRTaXplLnh5XG4gKiB9XG4gKiBgYGBcbiAqICoqcmVzb2x1dGlvbioqXG4gKlxuICogVGhlIGByZXNvbHV0aW9uYCBpcyB0aGUgcmF0aW8gb2Ygc2NyZWVuIChDU1MpIHBpeGVscyB0byByZWFsIHBpeGVscy5cbiAqXG4gKiAqKmlucHV0UGl4ZWwqKlxuICpcbiAqIGBpbnB1dFBpeGVsLnh5YCBpcyB0aGUgc2l6ZSBvZiBmcmFtZWJ1ZmZlciBpbiByZWFsIHBpeGVscywgc2FtZSBhcyBgaW5wdXRTaXplLnh5ICogcmVzb2x1dGlvbmBcbiAqIGBpbnB1dFBpeGVsLnp3YCBpcyBpbnZlcnRlZCBgaW5wdXRQaXhlbC54eWAuXG4gKlxuICogSXQncyBoYW5keSBmb3IgZmlsdGVycyB0aGF0IHVzZSBuZWlnaGJvdXIgcGl4ZWxzLCBsaWtlIHtAbGluayBQSVhJLmZpbHRlcnMuRlhBQUZpbHRlciBGWEFBRmlsdGVyfS5cbiAqXG4gKiAqKmlucHV0Q2xhbXAqKlxuICpcbiAqIElmIHlvdSB0cnkgdG8gZ2V0IGluZm8gZnJvbSBvdXRzaWRlIG9mIHVzZWQgcGFydCBvZiBGcmFtZWJ1ZmZlciAtIHlvdSdsbCBnZXQgdW5kZWZpbmVkIGJlaGF2aW91ci5cbiAqIEZvciBkaXNwbGFjZW1lbnRzLCBjb29yZGluYXRlcyBoYXMgdG8gYmUgY2xhbXBlZC5cbiAqXG4gKiBUaGUgYGlucHV0Q2xhbXAueHlgIGlzIGxlZnQtdG9wIHBpeGVsIGNlbnRlciwgeW91IG1heSBpZ25vcmUgaXQsIGJlY2F1c2Ugd2UgdXNlIGxlZnQtdG9wIHBhcnQgb2YgRnJhbWVidWZmZXJcbiAqIGBpbnB1dENsYW1wLnp3YCBpcyBib3R0b20tcmlnaHQgcGl4ZWwgY2VudGVyLlxuICpcbiAqIGBgYFxuICogdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAobW9kaWZpZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdmVydGV4U3JjIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0gZnJhZ21lbnRTcmMgLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHVuaWZvcm1zIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbHRlcih2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMgfHwgRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmMsIGZyYWdtZW50U3JjIHx8IEZpbHRlci5kZWZhdWx0RnJhZ21lbnRTcmMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb2dyYW0sIHVuaWZvcm1zKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuICAgICAgICBfdGhpcy5tdWx0aXNhbXBsZSA9IHNldHRpbmdzLkZJTFRFUl9NVUxUSVNBTVBMRTtcbiAgICAgICAgX3RoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmF1dG9GaXQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtfY3VycmVudFN0YXRlXSAtIEl0J3MgY3VycmVudCBzdGF0ZSBvZiBmaWx0ZXIuXG4gICAgICogICAgICAgIFRoZXJlIGFyZSBzb21lIHVzZWZ1bCBwcm9wZXJ0aWVzIGluIHRoZSBjdXJyZW50U3RhdGUgOlxuICAgICAqICAgICAgICB0YXJnZXQsIGZpbHRlcnMsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJUYXJnZXQsIHJlc29sdXRpb25cbiAgICAgKi9cbiAgICBGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSwgX2N1cnJlbnRTdGF0ZSkge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIC8vIG9yIGp1c3QgZG8gYSByZWd1bGFyIHJlbmRlci4uXG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlsdGVyLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZSBvZiB0aGUgZmlsdGVyLlxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlci5wcm90b3R5cGUsIFwicmVzb2x1dGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlciwgXCJkZWZhdWx0VmVydGV4U3JjXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbHRlciwgXCJkZWZhdWx0RnJhZ21lbnRTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudCQxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEZpbHRlcjtcbn0oU2hhZGVyKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk1hc2tDb29yZCA9ICggb3RoZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSBmbG9hdCBucG1BbHBoYTtcXG51bmlmb3JtIHZlYzQgbWFza0NsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAoYWxwaGFNdWwgKiBtYXNreS5yICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBUYWtlcyBgdHJpbWAgYW5kIGByb3RhdGVgIGludG8gYWNjb3VudC4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqIEBzZWUgUElYSS5UZXh0dXJlXG4gKiBAc2VlIFBJWEkuTWVzaFxuICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHRleHR1cmUgLSBvYnNlcnZlZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIGNsYW1wTWFyZ2luIC0gQ2hhbmdlcyBmcmFtZSBjbGFtcGluZywgMC41IGJ5IGRlZmF1bHQuIFVzZSAtMC41IGZvciBleHRyYSBib3JkZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZU1hdHJpeCh0ZXh0dXJlLCBjbGFtcE1hcmdpbikge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgdGhpcy5tYXBDb29yZCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuY2xhbXBNYXJnaW4gPSAodHlwZW9mIGNsYW1wTWFyZ2luID09PSAndW5kZWZpbmVkJykgPyAwLjUgOiBjbGFtcE1hcmdpbjtcbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKiBUZXh0dXJlIHByb3BlcnR5LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdXZzIC0gbWVzaCB1dnNcbiAgICAgKiBAcGFyYW0gW291dD11dnNdIC0gb3V0cHV0XG4gICAgICogQHJldHVybnMgLSBvdXRwdXRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uICh1dnMsIG91dCkge1xuICAgICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG91dCA9IHV2cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0ID0gdGhpcy5tYXBDb29yZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgb3V0W2ldID0gKHggKiBtYXQuYSkgKyAoeSAqIG1hdC5jKSArIG1hdC50eDtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIG1hdHJpY2VzIGlmIHRleHR1cmUgd2FzIGNoYW5nZWQuXG4gICAgICogQHBhcmFtIFtmb3JjZVVwZGF0ZT1mYWxzZV0gLSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyAtIFdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXguX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4Ll91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICAgICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXgub3JpZztcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LCAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG4gICAgICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIGZyYW1lWzJdID0gKHRleC5fZnJhbWUueCArIHRleC5fZnJhbWUud2lkdGggLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzFdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsSGVpZ2h0O1xuICAgICAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAgICAgJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0XG4gICAgICAgICAgICAmJiB0ZXgucm90YXRlID09PSAwO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTWF0cml4O1xufSgpKTtcblxuLyoqXG4gKiBUaGlzIGhhbmRsZXMgYSBTcHJpdGUgYWN0aW5nIGFzIGEgbWFzaywgYXMgb3Bwb3NlZCB0byBhIEdyYXBoaWMuXG4gKlxuICogV2ViR0wgb25seS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVNYXNrRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTcHJpdGVNYXNrRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcih2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3ByaXRlID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiB2ZXJ0ZXhTcmMgIT09ICdzdHJpbmcnICYmIGZyYWdtZW50U3JjID09PSB1bmRlZmluZWQgJiYgdW5pZm9ybXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3ByaXRlID0gdmVydGV4U3JjO1xuICAgICAgICAgICAgdmVydGV4U3JjID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZnJhZ21lbnRTcmMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB1bmlmb3JtcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleFNyYyB8fCB2ZXJ0ZXgsIGZyYWdtZW50U3JjIHx8IGZyYWdtZW50LCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUsIFwibWFza1Nwcml0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFza1Nwcml0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX21hc2tTcHJpdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrU3ByaXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFza1Nwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKiBAcGFyYW0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKi9cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLl9tYXNrU3ByaXRlO1xuICAgICAgICB2YXIgdGV4ID0gbWFza1Nwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgaWYgKCF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleC51dk1hdHJpeCkge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnV2TWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgodGV4LCAwLjApO1xuICAgICAgICB9XG4gICAgICAgIHRleC51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5ucG1BbHBoYSA9IHRleC5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPyAwLjAgOiAxLjA7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFzayA9IHRleDtcbiAgICAgICAgLy8gZ2V0IF9ub3JtYWxpemVkIHNwcml0ZSB0ZXh0dXJlIGNvb3Jkc18gYW5kIGNvbnZlcnQgdGhlbSB0byBfbm9ybWFsaXplZCBhdGxhcyB0ZXh0dXJlIGNvb3Jkc18gd2l0aCBgcHJlcGVuZGBcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSlcbiAgICAgICAgICAgIC5wcmVwZW5kKHRleC51dk1hdHJpeC5tYXBDb29yZCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnV2TWF0cml4LnVDbGFtcEZyYW1lO1xuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3ByaXRlTWFza0ZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIG1hc2tzLlxuICpcbiAqIFRoZXJlIGFyZSB0aHJlZSBidWlsdC1pbiB0eXBlcyBvZiBtYXNraW5nOlxuICogKipTY2lzc29yIE1hc2tpbmcqKjogU2Npc3NvciBtYXNraW5nIGRpc2NhcmRzIHBpeGVscyB0aGF0IGFyZSBvdXRzaWRlIG9mIGEgcmVjdGFuZ2xlIGNhbGxlZCB0aGUgc2Npc3NvciBib3guIEl0IGlzXG4gKiAgdGhlIG1vc3QgcGVyZm9ybWFudCBhcyB0aGUgc2Npc3NvciB0ZXN0IGlzIGluZXhwZW5zaXZlLiBIb3dldmVyLCBpdCBjYW4gb25seSBiZSB1c2VkIHdoZW4gdGhlIG1hc2sgaXMgcmVjdGFuZ3VsYXIuXG4gKiAqKlN0ZW5jaWwgTWFza2luZyoqOiBTdGVuY2lsIG1hc2tpbmcgZGlzY2FyZHMgcGl4ZWxzIHRoYXQgZG9uJ3Qgb3ZlcmxhcCB3aXRoIHRoZSBwaXhlbHMgcmVuZGVyZWQgaW50byB0aGUgc3RlbmNpbFxuICogIGJ1ZmZlci4gSXQgaXMgdGhlIG5leHQgZmFzdGVzdCBvcHRpb24gYXMgaXQgZG9lcyBub3QgcmVxdWlyZSByZW5kZXJpbmcgaW50byBhIHNlcGFyYXRlIGZyYW1lYnVmZmVyLiBIb3dldmVyLCBpdCBkb2VzXG4gKiAgY2F1c2UgdGhlIG1hc2sgdG8gYmUgcmVuZGVyZWQgKip0d2ljZSoqIGZvciBlYWNoIG1hc2tpbmcgb3BlcmF0aW9uOyBoZW5jZSwgbWluaW1pemUgdGhlIHJlbmRlcmluZyBjb3N0IG9mIHlvdXIgbWFza3MuXG4gKiAqKlNwcml0ZSBNYXNrIEZpbHRlcmluZyoqOiBTcHJpdGUgbWFzayBmaWx0ZXJpbmcgZGlzY2FyZHMgcGl4ZWxzIGJhc2VkIG9uIHRoZSByZWQgY2hhbm5lbCBvZiB0aGUgc3ByaXRlLW1hc2snc1xuICogIHRleHR1cmUuIChHZW5lcmFsbHksIHRoZSBtYXNraW5nIHRleHR1cmUgaXMgZ3JheXNjYWxlKS4gVXNpbmcgYWR2YW5jZWQgdGVjaG5pcXVlcywgeW91IG1pZ2h0IGJlIGFibGUgdG8gZW1iZWQgdGhpc1xuICogIHR5cGUgb2YgbWFza2luZyBpbiBhIGN1c3RvbSBzaGFkZXIgLSBhbmQgaGVuY2UsIGJ5cGFzc2luZyB0aGUgbWFza2luZyBzeXN0ZW0gZnVsbHkgZm9yIHBlcmZvcm1hbmNlIHdpbnMuXG4gKlxuICogVGhlIGJlc3QgdHlwZSBvZiBtYXNraW5nIGlzIGF1dG8tZGV0ZWN0ZWQgd2hlbiB5b3UgYHB1c2hgIG9uZS4gVG8gdXNlIHNjaXNzb3IgbWFza2luZywgeW91IG11c3QgcGFzcyBpbiBhIGBHcmFwaGljc2BcbiAqIG9iamVjdCB3aXRoIGp1c3QgYSByZWN0YW5nbGUgZHJhd24uXG4gKlxuICogIyMgTWFzayBTdGFja3NcbiAqXG4gKiBJbiB0aGUgc2NlbmUgZ3JhcGgsIG1hc2tzIGNhbiBiZSBhcHBsaWVkIHJlY3Vyc2l2ZWx5LCBpLmUuIGEgbWFzayBjYW4gYmUgYXBwbGllZCBkdXJpbmcgYSBtYXNraW5nIG9wZXJhdGlvbi4gVGhlIG1hc2tcbiAqIHN0YWNrIHN0b3JlcyB0aGUgY3VycmVudGx5IGFwcGxpZWQgbWFza3MgaW4gb3JkZXIuIEVhY2gge0BsaW5rIFBJWEkuQmFzZVJlbmRlclRleHR1cmV9IGhvbGRzIGl0cyBvd24gbWFzayBzdGFjaywgaS5lLlxuICogd2hlbiB5b3Ugc3dpdGNoIHJlbmRlci10ZXh0dXJlcywgdGhlIG9sZCBtYXNrcyBvbmx5IGFwcGxpZWQgd2hlbiB5b3Ugc3dpdGNoIGJhY2sgdG8gcmVuZGVyaW5nIHRvIHRoZSBvbGQgcmVuZGVyLXRhcmdldC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFza1N5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuZW5hYmxlU2Npc3NvciA9IHRydWU7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuICAgICAgICB0aGlzLm1hc2tEYXRhUG9vbCA9IFtdO1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICogQHBhcmFtIG1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gKG1hc2tTdGFjaykge1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnNldE1hc2tTdGFjayhtYXNrU3RhY2spO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBtYXNrIGFuZCBhcHBlbmRzIGl0IHRvIHRoZSBjdXJyZW50IG1hc2sgc3RhY2suXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGUgYmF0Y2ggcmVuZGVyZXIgc2hvdWxkIGJlIGZsdXNoZWQgYmVmb3JlaGFuZCB0byBwcmV2ZW50IHBlbmRpbmcgcmVuZGVycyBmcm9tIGJlaW5nIG1hc2tlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YXxQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfFBJWEkuRGlzcGxheU9iamVjdH0gbWFza0RhdGFPclRhcmdldCAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIG1hc2tEYXRhT3JUYXJnZXQpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gbWFza0RhdGFPclRhcmdldDtcbiAgICAgICAgaWYgKCFtYXNrRGF0YS5pc01hc2tEYXRhKSB7XG4gICAgICAgICAgICB2YXIgZCA9IHRoaXMubWFza0RhdGFQb29sLnBvcCgpIHx8IG5ldyBNYXNrRGF0YSgpO1xuICAgICAgICAgICAgZC5wb29sZWQgPSB0cnVlO1xuICAgICAgICAgICAgZC5tYXNrT2JqZWN0ID0gbWFza0RhdGFPclRhcmdldDtcbiAgICAgICAgICAgIG1hc2tEYXRhID0gZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFza0Fib3ZlID0gdGhpcy5tYXNrU3RhY2subGVuZ3RoICE9PSAwID8gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KG1hc2tBYm92ZSk7XG4gICAgICAgIG1hc2tEYXRhLl9jb2xvck1hc2sgPSBtYXNrQWJvdmUgPyBtYXNrQWJvdmUuX2NvbG9yTWFzayA6IDB4ZjtcbiAgICAgICAgaWYgKG1hc2tEYXRhLmF1dG9EZXRlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0KG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBpZiAobWFza0RhdGEudHlwZSAhPT0gTUFTS19UWVBFUy5TUFJJVEUpIHtcbiAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrRGF0YS5lbmFibGVkKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG1hc2tEYXRhLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1BSSVRFOlxuICAgICAgICAgICAgICAgICAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLkNPTE9SOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hDb2xvck1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWFza0RhdGEudHlwZSA9PT0gTUFTS19UWVBFUy5TUFJJVEUpIHtcbiAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IG1hc2sgZnJvbSB0aGUgbWFzayBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGUgYmF0Y2ggcmVuZGVyZXIgc2hvdWxkIGJlIGZsdXNoZWQgYmVmb3JlaGFuZCB0byByZW5kZXIgdGhlIG1hc2tlZCBjb250ZW50cyBiZWZvcmUgdGhlIG1hc2sgaXMgcmVtb3ZlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSU1hc2tUYXJnZXR9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFtYXNrRGF0YSB8fCBtYXNrRGF0YS5fdGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBhbiBhc3NlcnQgd2hlbiB3ZSBoYXZlIGl0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hc2tEYXRhLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TQ0lTU09SOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wb3AobWFza0RhdGEubWFza09iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wU3ByaXRlTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5DT0xPUjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BDb2xvck1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5yZXNldCgpO1xuICAgICAgICBpZiAobWFza0RhdGEucG9vbGVkKSB7XG4gICAgICAgICAgICB0aGlzLm1hc2tEYXRhUG9vbC5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXNrU3RhY2subGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgbWFza0N1cnJlbnQgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChtYXNrQ3VycmVudC50eXBlID09PSBNQVNLX1RZUEVTLlNQUklURSAmJiBtYXNrQ3VycmVudC5fZmlsdGVycykge1xuICAgICAgICAgICAgICAgIG1hc2tDdXJyZW50Ll9maWx0ZXJzWzBdLm1hc2tTcHJpdGUgPSBtYXNrQ3VycmVudC5tYXNrT2JqZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHR5cGUgb2YgTWFza0RhdGEgYmFzZWQgb24gaXRzIG1hc2tPYmplY3QuXG4gICAgICogQHBhcmFtIG1hc2tEYXRhXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgaWYgKCFtYXNrT2JqZWN0KSB7XG4gICAgICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5DT0xPUjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXNrT2JqZWN0LmlzU3ByaXRlKSB7XG4gICAgICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TUFJJVEU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yICYmIHRoaXMucmVuZGVyZXIuc2Npc3Nvci50ZXN0U2Npc3NvcihtYXNrRGF0YSkpIHtcbiAgICAgICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNDSVNTT1I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TVEVOQ0lMO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKiBAcGFyYW0gbWFza0RhdGEgLSBTcHJpdGUgdG8gYmUgdXNlZCBhcyB0aGUgbWFzay5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIHZhciB0YXJnZXQgPSBtYXNrRGF0YS5fdGFyZ2V0O1xuICAgICAgICB2YXIgYWxwaGFNYXNrRmlsdGVyID0gbWFza0RhdGEuX2ZpbHRlcnM7XG4gICAgICAgIGlmICghYWxwaGFNYXNrRmlsdGVyKSB7XG4gICAgICAgICAgICBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07XG4gICAgICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgU3ByaXRlTWFza0ZpbHRlcigpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZVN5c3RlbSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbXVsdGlzYW1wbGU7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlU3lzdGVtLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gcmVuZGVyVGV4dHVyZVN5c3RlbS5jdXJyZW50O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IG1hc2tEYXRhLnJlc29sdXRpb24gfHwgcmVuZGVyVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgbXVsdGlzYW1wbGUgPSAoX2EgPSBtYXNrRGF0YS5tdWx0aXNhbXBsZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcmVuZGVyVGV4dHVyZS5tdWx0aXNhbXBsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBtYXNrRGF0YS5yZXNvbHV0aW9uIHx8IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBtdWx0aXNhbXBsZSA9IChfYiA9IG1hc2tEYXRhLm11bHRpc2FtcGxlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiByZW5kZXJlci5tdWx0aXNhbXBsZTtcbiAgICAgICAgfVxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tdWx0aXNhbXBsZSA9IG11bHRpc2FtcGxlO1xuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ubWFza1Nwcml0ZSA9IG1hc2tPYmplY3Q7XG4gICAgICAgIHZhciBzdGFzaEZpbHRlckFyZWEgPSB0YXJnZXQuZmlsdGVyQXJlYTtcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IHN0YXNoRmlsdGVyQXJlYTtcbiAgICAgICAgaWYgKCFtYXNrRGF0YS5fZmlsdGVycykge1xuICAgICAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqIEBwYXJhbSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrLlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcFNwcml0ZU1hc2sgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIGlmIChtYXNrRGF0YS5fZmlsdGVycykge1xuICAgICAgICAgICAgbWFza0RhdGEuX2ZpbHRlcnNbMF0ubWFza1Nwcml0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4LS07XG4gICAgICAgICAgICB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF1bMF0ubWFza1Nwcml0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyB0aGUgY29sb3IgbWFzay5cbiAgICAgKiBAcGFyYW0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaENvbG9yTWFzayA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgY3VyckNvbG9yTWFzayA9IG1hc2tEYXRhLl9jb2xvck1hc2s7XG4gICAgICAgIHZhciBuZXh0Q29sb3JNYXNrID0gbWFza0RhdGEuX2NvbG9yTWFzayA9IGN1cnJDb2xvck1hc2sgJiBtYXNrRGF0YS5jb2xvck1hc2s7XG4gICAgICAgIGlmIChuZXh0Q29sb3JNYXNrICE9PSBjdXJyQ29sb3JNYXNrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLmNvbG9yTWFzaygobmV4dENvbG9yTWFzayAmIDB4MSkgIT09IDAsIChuZXh0Q29sb3JNYXNrICYgMHgyKSAhPT0gMCwgKG5leHRDb2xvck1hc2sgJiAweDQpICE9PSAwLCAobmV4dENvbG9yTWFzayAmIDB4OCkgIT09IDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIHRoZSBjb2xvciBtYXNrLlxuICAgICAqIEBwYXJhbSBtYXNrRGF0YSAtIFRoZSBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BDb2xvck1hc2sgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIGN1cnJDb2xvck1hc2sgPSBtYXNrRGF0YS5fY29sb3JNYXNrO1xuICAgICAgICB2YXIgbmV4dENvbG9yTWFzayA9IHRoaXMubWFza1N0YWNrLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0uX2NvbG9yTWFzayA6IDB4ZjtcbiAgICAgICAgaWYgKG5leHRDb2xvck1hc2sgIT09IGN1cnJDb2xvck1hc2spIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuY29sb3JNYXNrKChuZXh0Q29sb3JNYXNrICYgMHgxKSAhPT0gMCwgKG5leHRDb2xvck1hc2sgJiAweDIpICE9PSAwLCAobmV4dENvbG9yTWFzayAmIDB4NCkgIT09IDAsIChuZXh0Q29sb3JNYXNrICYgMHg4KSAhPT0gMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIE1hc2tTeXN0ZW07XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzcGVjaWZpYyB0eXBlcyBvZiBtYXNraW5nIG9wZXJhdGlvbnMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWJzdHJhY3RNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5nbENvbnN0ID0gMDtcbiAgICB9XG4gICAgLyoqIEdldHMgY291bnQgb2YgbWFza3Mgb2YgY2VydGFpbiB0eXBlLiAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hc2tTdGFjay5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIFN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIChtYXNrU3RhY2spIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGN1clN0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdmFyIG5ld1N0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICBpZiAobmV3U3RhY2tMZW4gIT09IGN1clN0YWNrTGVuKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tMZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUodGhpcy5nbENvbnN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBtYXNrIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBPVkVSV1JJVEU7XG4gICAgfTtcbiAgICAvKiogRGVzdHJveXMgdGhlIG1hc2sgc3RhY2suICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TWFza1N5c3RlbTtcbn0oKSk7XG5cbnZhciB0ZW1wTWF0cml4JDEgPSBuZXcgTWF0cml4KCk7XG52YXIgcmVjdFBvb2wgPSBbXTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHNjaXNzb3IgbWFza2luZy5cbiAqXG4gKiBTY2lzc29yIG1hc2tpbmcgZGlzY2FyZHMgcGl4ZWxzIG91dHNpZGUgb2YgYSByZWN0YW5nbGUgY2FsbGVkIHRoZSBzY2lzc29yIGJveC4gVGhlIHNjaXNzb3IgYm94IGlzIGluIHRoZSBmcmFtZWJ1ZmZlclxuICogdmlld3BvcnQncyBzcGFjZTsgaG93ZXZlciwgdGhlIG1hc2sncyByZWN0YW5nbGUgaXMgcHJvamVjdGVkIGZyb20gd29ybGQtc3BhY2UgdG8gdmlld3BvcnQgc3BhY2UgYXV0b21hdGljYWxseVxuICogYnkgdGhpcyBzeXN0ZW0uXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2Npc3NvclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2Npc3NvclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTY2lzc29yU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nbENvbnN0ID0gc2V0dGluZ3MuQURBUFRFUi5nZXRXZWJHTFJlbmRlcmluZ0NvbnRleHQoKS5TQ0lTU09SX1RFU1Q7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUuZ2V0U3RhY2tMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXNrRGF0YSA9IHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobWFza0RhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXNrRGF0YS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBldmFsdWF0ZXMgX2JvdW5kc1RyYW5zZm9ybWVkLCBfc2Npc3NvclJlY3QgZm9yIE1hc2tEYXRhXG4gICAgICogQHBhcmFtIG1hc2tEYXRhXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUuY2FsY1NjaXNzb3JSZWN0ID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKG1hc2tEYXRhLl9zY2lzc29yUmVjdExvY2FsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZEYXRhID0gbWFza0RhdGEuX3NjaXNzb3JSZWN0O1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlU3lzdGVtID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIHJlY3QgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlLCAoX2EgPSByZWN0UG9vbC5wb3AoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IFJlY3RhbmdsZSgpKTtcbiAgICAgICAgdGhpcy5yb3VuZEZyYW1lVG9QaXhlbHMocmVjdCwgcmVuZGVyVGV4dHVyZVN5c3RlbS5jdXJyZW50ID8gcmVuZGVyVGV4dHVyZVN5c3RlbS5jdXJyZW50LnJlc29sdXRpb24gOiByZW5kZXJlci5yZXNvbHV0aW9uLCByZW5kZXJUZXh0dXJlU3lzdGVtLnNvdXJjZUZyYW1lLCByZW5kZXJUZXh0dXJlU3lzdGVtLmRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtKTtcbiAgICAgICAgaWYgKHByZXZEYXRhKSB7XG4gICAgICAgICAgICByZWN0LmZpdChwcmV2RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFza0RhdGEuX3NjaXNzb3JSZWN0TG9jYWwgPSByZWN0O1xuICAgIH07XG4gICAgU2Npc3NvclN5c3RlbS5pc01hdHJpeFJvdGF0ZWQgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIGlmICghbWF0cml4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYSwgYiA9IG1hdHJpeC5iLCBjID0gbWF0cml4LmMsIGQgPSBtYXRyaXguZDtcbiAgICAgICAgLy8gU2tpcCBpZiBza2V3L3JvdGF0aW9uIHByZXNlbnQgaW4gbWF0cml4LCBleGNlcHQgZm9yIG11bHRpcGxlIG9mIDkwwrAgcm90YXRpb24uIElmIHJvdGF0aW9uXG4gICAgICAgIC8vIGlzIGEgbXVsdGlwbGUgb2YgOTDCsCwgdGhlbiBlaXRoZXIgcGFpciBvZiAoYixjKSBvciAoYSxkKSB3aWxsIGJlICgwLDApLlxuICAgICAgICByZXR1cm4gKChNYXRoLmFicyhiKSA+IDFlLTQgfHwgTWF0aC5hYnMoYykgPiAxZS00KVxuICAgICAgICAgICAgJiYgKE1hdGguYWJzKGEpID4gMWUtNCB8fCBNYXRoLmFicyhkKSA+IDFlLTQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QsIHdoZXRoZXIgdGhlIG9iamVjdCBjYW4gYmUgc2Npc3NvciBtYXNrIHdpdGggY3VycmVudCByZW5kZXJlciBwcm9qZWN0aW9uLlxuICAgICAqIENhbGxzIFwiY2FsY1NjaXNzb3JSZWN0KClcIiBpZiBpdHMgdHJ1ZS5cbiAgICAgKiBAcGFyYW0gbWFza0RhdGEgLSBtYXNrIGRhdGFcbiAgICAgKiBAcmV0dXJucyB3aGV0aGVyIFdoZXRoZXIgdGhlIG9iamVjdCBjYW4gYmUgc2Npc3NvciBtYXNrXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUudGVzdFNjaXNzb3IgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBpZiAoIW1hc2tPYmplY3QuaXNGYXN0UmVjdCB8fCAhbWFza09iamVjdC5pc0Zhc3RSZWN0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU2Npc3NvclN5c3RlbS5pc01hdHJpeFJvdGF0ZWQobWFza09iamVjdC53b3JsZFRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU2Npc3NvclN5c3RlbS5pc01hdHJpeFJvdGF0ZWQodGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGNTY2lzc29yUmVjdChtYXNrRGF0YSk7XG4gICAgICAgIHZhciByZWN0ID0gbWFza0RhdGEuX3NjaXNzb3JSZWN0TG9jYWw7XG4gICAgICAgIHJldHVybiByZWN0LndpZHRoID4gMCAmJiByZWN0LmhlaWdodCA+IDA7XG4gICAgfTtcbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5yb3VuZEZyYW1lVG9QaXhlbHMgPSBmdW5jdGlvbiAoZnJhbWUsIHJlc29sdXRpb24sIGJpbmRpbmdTb3VyY2VGcmFtZSwgYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUsIHRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoU2Npc3NvclN5c3RlbS5pc01hdHJpeFJvdGF0ZWQodHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybSA/IHRlbXBNYXRyaXgkMS5jb3B5RnJvbSh0cmFuc2Zvcm0pIDogdGVtcE1hdHJpeCQxLmlkZW50aXR5KCk7XG4gICAgICAgIC8vIEdldCBmb3J3YXJkIHRyYW5zZm9ybSBmcm9tIHdvcmxkIHNwYWNlIHRvIHNjcmVlbiBzcGFjZVxuICAgICAgICB0cmFuc2Zvcm1cbiAgICAgICAgICAgIC50cmFuc2xhdGUoLWJpbmRpbmdTb3VyY2VGcmFtZS54LCAtYmluZGluZ1NvdXJjZUZyYW1lLnkpXG4gICAgICAgICAgICAuc2NhbGUoYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUud2lkdGggLyBiaW5kaW5nU291cmNlRnJhbWUud2lkdGgsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIGJpbmRpbmdTb3VyY2VGcmFtZS5oZWlnaHQpXG4gICAgICAgICAgICAudHJhbnNsYXRlKGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLngsIGJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lLnkpO1xuICAgICAgICAvLyBDb252ZXJ0IGZyYW1lIHRvIHNjcmVlbiBzcGFjZVxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci50cmFuc2Zvcm1BQUJCKHRyYW5zZm9ybSwgZnJhbWUpO1xuICAgICAgICBmcmFtZS5maXQoYmluZGluZ0Rlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICBmcmFtZS54ID0gTWF0aC5yb3VuZChmcmFtZS54ICogcmVzb2x1dGlvbik7XG4gICAgICAgIGZyYW1lLnkgPSBNYXRoLnJvdW5kKGZyYW1lLnkgKiByZXNvbHV0aW9uKTtcbiAgICAgICAgZnJhbWUud2lkdGggPSBNYXRoLnJvdW5kKGZyYW1lLndpZHRoICogcmVzb2x1dGlvbik7XG4gICAgICAgIGZyYW1lLmhlaWdodCA9IE1hdGgucm91bmQoZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suXG4gICAgICogQGF1dGhvciBhbHZpblxuICAgICAqIEBwYXJhbSBtYXNrRGF0YSAtIFRoZSBtYXNrIGRhdGEuXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICBpZiAoIW1hc2tEYXRhLl9zY2lzc29yUmVjdExvY2FsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGNTY2lzc29yUmVjdChtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKCFtYXNrRGF0YS5fc2Npc3NvclJlY3QpIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcisrO1xuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvclJlY3QgPSBtYXNrRGF0YS5fc2Npc3NvclJlY3RMb2NhbDtcbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIGEgbWFzayBpcyBwb3BwZWQgb2ZmIHRoZSBtYXNrIHN0YWNrLiBJdCB3aWxsIHJlYmluZCB0aGUgc2Npc3NvciBib3ggdG8gYmUgbGF0ZXN0IHdpdGggdGhlXG4gICAgICogbGFzdCBtYXNrIGluIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGFsc28gYmUgY2FsbGVkIHdoZW4geW91IGRpcmVjdGx5IG1vZGlmeSB0aGUgc2Npc3NvciBib3ggYW5kIHdhbnQgdG8gcmVzdG9yZSBQaXhpSlMgc3RhdGUuXG4gICAgICogQHBhcmFtIG1hc2tEYXRhIC0gVGhlIG1hc2sgZGF0YS5cbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICAgICAgICByZWN0UG9vbC5wdXNoKG1hc2tEYXRhLl9zY2lzc29yUmVjdExvY2FsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRTdGFja0xlbmd0aCgpID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc2Npc3NvciBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0uX3NjaXNzb3JSZWN0O1xuICAgICAgICB2YXIgeTtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50KSB7XG4gICAgICAgICAgICB5ID0gcmVjdC55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZmxpcFkuIEluIGZ1dHVyZSB3ZSdsbCBoYXZlIGl0IG92ZXIgcmVuZGVyVGV4dHVyZXMgYXMgYW4gb3B0aW9uXG4gICAgICAgICAgICB5ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSByZWN0LmhlaWdodCAtIHJlY3QueTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLnNjaXNzb3IocmVjdC54LCB5LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2Npc3NvclN5c3RlbTtcbn0oQWJzdHJhY3RNYXNrU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHN0ZW5jaWxzICh1c2VkIGZvciBtYXNrcykuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RlbmNpbFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RlbmNpbFN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSBzZXR0aW5ncy5BREFQVEVSLmdldFdlYkdMUmVuZGVyaW5nQ29udGV4dCgpLlNURU5DSUxfVEVTVDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay5cbiAgICAgKiBAcGFyYW0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChtYXNrRGF0YSkge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBwcmV2TWFza0NvdW50ID0gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZm9yY2UgdXNlIHN0ZW5jaWwgdGV4dHVyZSBpbiBjdXJyZW50IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmZvcmNlU3RlbmNpbCgpO1xuICAgICAgICAgICAgZ2wuY2xlYXJTdGVuY2lsKDApO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcisrO1xuICAgICAgICB2YXIgY29sb3JNYXNrID0gbWFza0RhdGEuX2NvbG9yTWFzaztcbiAgICAgICAgaWYgKGNvbG9yTWFzayAhPT0gMCkge1xuICAgICAgICAgICAgbWFza0RhdGEuX2NvbG9yTWFzayA9IDA7XG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIG5ldyBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG9sZCBvbmVzLlxuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgcHJldk1hc2tDb3VudCwgMHhGRkZGRkZGRik7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5JTkNSKTtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGlmIChjb2xvck1hc2sgIT09IDApIHtcbiAgICAgICAgICAgIG1hc2tEYXRhLl9jb2xvck1hc2sgPSBjb2xvck1hc2s7XG4gICAgICAgICAgICBnbC5jb2xvck1hc2soKGNvbG9yTWFzayAmIDEpICE9PSAwLCAoY29sb3JNYXNrICYgMikgIT09IDAsIChjb2xvck1hc2sgJiA0KSAhPT0gMCwgKGNvbG9yTWFzayAmIDgpICE9PSAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIHN0ZW5jaWwgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gbWFza09iamVjdCAtIG9iamVjdCBvZiBwb3BwZWQgbWFzayBkYXRhXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKG1hc2tPYmplY3QpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2subGVuZ3RoICE9PSAwID8gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICAgICAgdmFyIGNvbG9yTWFzayA9IG1hc2tEYXRhID8gbWFza0RhdGEuX2NvbG9yTWFzayA6IDB4ZjtcbiAgICAgICAgICAgIGlmIChjb2xvck1hc2sgIT09IDApIHtcbiAgICAgICAgICAgICAgICBtYXNrRGF0YS5fY29sb3JNYXNrID0gMDtcbiAgICAgICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGVjcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgcG9wcGVkIG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIgb25lc1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY29sb3JNYXNrICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbWFza0RhdGEuX2NvbG9yTWFzayA9IGNvbG9yTWFzaztcbiAgICAgICAgICAgICAgICBnbC5jb2xvck1hc2soKGNvbG9yTWFzayAmIDB4MSkgIT09IDAsIChjb2xvck1hc2sgJiAweDIpICE9PSAwLCAoY29sb3JNYXNrICYgMHg0KSAhPT0gMCwgKGNvbG9yTWFzayAmIDB4OCkgIT09IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc3RlbmNpbCBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLmdldFN0YWNrTGVuZ3RoKCksIDB4RkZGRkZGRkYpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RlbmNpbFN5c3RlbTtcbn0oQWJzdHJhY3RNYXNrU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBUaGUgYHByb2plY3Rpb25NYXRyaXhgIGlzIGEgZ2xvYmFsIHVuaWZvcm0gcHJvdmlkZWQgdG8gYWxsIHNoYWRlcnMuIEl0IGlzIHVzZWQgdG8gdHJhbnNmb3JtIHBvaW50cyBpbiB3b3JsZCBzcGFjZSB0b1xuICogbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZXMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJvamVjdGlvblN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci4gKi9cbiAgICBmdW5jdGlvbiBQcm9qZWN0aW9uU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVmYXVsdEZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24tbWF0cml4IGJhc2VkIG9uIHRoZSBzb3VyY2VGcmFtZSDihpIgZGVzdGluYXRpb25GcmFtZSBtYXBwaW5nIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogTk9URTogSXQgaXMgZXhwZWN0ZWQgeW91IGNhbGwgYHJlbmRlcmVyLmZyYW1lYnVmZmVyLnNldFZpZXdwb3J0KGRlc3RpbmF0aW9uRnJhbWUpYCBhZnRlciB0aGlzLiBUaGlzIGlzIGJlY2F1c2VcbiAgICAgKiB0aGUgZnJhbWVidWZmZXIgdmlld3BvcnQgY29udmVydHMgc2hhZGVyIHZlcnRleCBvdXRwdXQgaW4gbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZXMgdG8gd2luZG93IGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogTk9URS0yOiB7QGxpbmsgUmVuZGVyVGV4dHVyZVN5c3RlbSNiaW5kfSB1cGRhdGVzIHRoZSBwcm9qZWN0aW9uLW1hdHJpeCB3aGVuIHlvdSBiaW5kIGEgcmVuZGVyLXRleHR1cmUuIEl0IGlzIGV4cGVjdGVkXG4gICAgICogdGhhdCB5b3UgZGlydHkgdGhlIGN1cnJlbnQgYmluZGluZ3Mgd2hlbiBjYWxsaW5nIHRoaXMgbWFudWFsbHkuXG4gICAgICogQHBhcmFtIGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgcmVjdGFuZ2xlIGluIHRoZSByZW5kZXItdGFyZ2V0IHRvIHJlbmRlciB0aGUgY29udGVudHMgaW50by4gSWYgcmVuZGVyaW5nIHRvIHRoZSBjYW52YXMsXG4gICAgICogIHRoZSBvcmlnaW4gaXMgb24gdGhlIHRvcC1sZWZ0OyBpZiByZW5kZXJpbmcgdG8gYSByZW5kZXItdGV4dHVyZSwgdGhlIG9yaWdpbiBpcyBvbiB0aGUgYm90dG9tLWxlZnQuXG4gICAgICogQHBhcmFtIHNvdXJjZUZyYW1lIC0gVGhlIHJlY3RhbmdsZSBpbiB3b3JsZCBzcGFjZSB0aGF0IGNvbnRhaW5zIHRoZSBjb250ZW50cyBiZWluZyByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXItdGFyZ2V0LCB3aGljaCBpcyB0aGUgcmF0aW8gb2ZcbiAgICAgKiAgd29ybGQtc3BhY2UgKG9yIENTUykgcGl4ZWxzIHRvIHBoeXNpY2FsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0gcm9vdCAtIFdoZXRoZXIgdGhlIHJlbmRlci10YXJnZXQgaXMgdGhlIHNjcmVlbi4gVGhpcyBpcyByZXF1aXJlZCBiZWNhdXNlIHJlbmRlcmluZyB0byB0ZXh0dXJlc1xuICAgICAqICBpcyB5LWZsaXBwZWQgKGkuZS4gdXBzaWRlIGRvd24gcmVsYXRpdmUgdG8gdGhlIHNjcmVlbikuXG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVmYXVsdEZyYW1lO1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAvLyBDYWxjdWxhdGUgb2JqZWN0LXNwYWNlIHRvIGNsaXAtc3BhY2UgcHJvamVjdGlvblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBgcHJvamVjdGlvbk1hdHJpeGAgdG8gbWFwIHBvaW50cyBpbnNpZGUgYHNvdXJjZUZyYW1lYCB0byBpbnNpZGUgYGRlc3RpbmF0aW9uRnJhbWVgLlxuICAgICAqIEBwYXJhbSBfZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZSBpbiB0aGUgcmVuZGVyLXRhcmdldC5cbiAgICAgKiBAcGFyYW0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lIGluIHdvcmxkIHNwYWNlLlxuICAgICAqIEBwYXJhbSBfcmVzb2x1dGlvbiAtIFRoZSByZW5kZXItdGFyZ2V0J3MgcmVzb2x1dGlvbiwgaS5lLiByYXRpbyBvZiBDU1MgdG8gcGh5c2ljYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSByb290IC0gV2hldGhlciByZW5kZXJpbmcgaW50byB0aGUgc2NyZWVuLiBPdGhlcndpc2UsIGlmIHJlbmRlcmluZyB0byBhIGZyYW1lYnVmZmVyLCB0aGUgcHJvamVjdGlvblxuICAgICAqICBpcyB5LWZsaXBwZWQuXG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIChfZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIF9yZXNvbHV0aW9uLCByb290KSB7XG4gICAgICAgIHZhciBwbSA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgdmFyIHNpZ24gPSAhcm9vdCA/IDEgOiAtMTtcbiAgICAgICAgcG0uaWRlbnRpdHkoKTtcbiAgICAgICAgcG0uYSA9ICgxIC8gc291cmNlRnJhbWUud2lkdGggKiAyKTtcbiAgICAgICAgcG0uZCA9IHNpZ24gKiAoMSAvIHNvdXJjZUZyYW1lLmhlaWdodCAqIDIpO1xuICAgICAgICBwbS50eCA9IC0xIC0gKHNvdXJjZUZyYW1lLnggKiBwbS5hKTtcbiAgICAgICAgcG0udHkgPSAtc2lnbiAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBnaXZlbiBtYXRyaXguXG4gICAgICogQHBhcmFtIF9tYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKF9tYXRyaXgpIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFByb2plY3Rpb25TeXN0ZW07XG59KCkpO1xuXG4vLyBUZW1wb3JhcnkgcmVjdGFuZ2xlIGZvciBhc3NpZ25lZCBzb3VyY2VGcmFtZSBvciBkZXN0aW5hdGlvbkZyYW1lXG52YXIgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4vLyBUZW1wb3JhcnkgcmVjdGFuZ2xlIGZvciByZW5kZXJUZXh0dXJlIGRlc3RpbmF0aW9uRnJhbWVcbnZhciB0ZW1wUmVjdDIgPSBuZXcgUmVjdGFuZ2xlKCk7XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSByZW5kZXIgdGV4dHVyZXMuXG4gKlxuICogU2hvdWxkIGJlIGFkZGVkIGFmdGVyIEZyYW1lYnVmZmVyU3lzdGVtXG4gKlxuICogIyMjIEZyYW1lc1xuICpcbiAqIFRoZSBgUmVuZGVyVGV4dHVyZVN5c3RlbWAgaG9sZHMgYSBzb3VyY2VGcmFtZSDihpIgZGVzdGluYXRpb25GcmFtZSBwcm9qZWN0aW9uLiBUaGUgZm9sbG93aW5nIHRhYmxlIGV4cGxhaW5zIHRoZSBkaWZmZXJlbnRcbiAqIGNvb3JkaW5hdGUgc3BhY2VzIHVzZWQ6XG4gKlxuICogfCBGcmFtZSAgICAgICAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IENvb3JkaW5hdGUgU3lzdGVtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICogfCBzb3VyY2VGcmFtZSAgICAgICAgICAgIHwgVGhlIHJlY3RhbmdsZSBpbnNpZGUgb2Ygd2hpY2ggZGlzcGxheS1vYmplY3RzIGFyZSBiZWluZyByZW5kZXJlZCB8ICoqV29ybGQgU3BhY2UqKjogVGhlIG9yaWdpbiBvbiB0aGUgdG9wLWxlZnQgICAgICAgICAgICAgfFxuICogfCBkZXN0aW5hdGlvbkZyYW1lICAgICAgIHwgVGhlIHJlY3RhbmdsZSBpbiB0aGUgcmVuZGVyLXRhcmdldCAoY2FudmFzIG9yIHRleHR1cmUpIGludG8gd2hpY2ggY29udGVudHMgc2hvdWxkIGJlIHJlbmRlcmVkIHwgSWYgcmVuZGVyaW5nIHRvIHRoZSBjYW52YXMsIHRoaXMgaXMgaW4gc2NyZWVuIHNwYWNlIGFuZCB0aGUgb3JpZ2luIGlzIG9uIHRoZSB0b3AtbGVmdC4gSWYgcmVuZGVyaW5nIHRvIGEgcmVuZGVyLXRleHR1cmUsIHRoaXMgaXMgaW4gaXRzIGJhc2UtdGV4dHVyZSdzIHNwYWNlIHdpdGggdGhlIG9yaWdpbiBvbiB0aGUgYm90dG9tLWxlZnQuICB8XG4gKiB8IHZpZXdwb3J0RnJhbWUgICAgICAgICAgfCBUaGUgZnJhbWVidWZmZXIgdmlld3BvcnQgY29ycmVzcG9uZGluZyB0byB0aGUgZGVzdGluYXRpb24tZnJhbWUgIHwgKipXaW5kb3cgQ29vcmRpbmF0ZXMqKjogVGhlIG9yaWdpbiBpcyBhbHdheXMgb24gdGhlIGJvdHRvbS1sZWZ0LiB8XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLmNsZWFyQ29sb3IgPSByZW5kZXJlci5fYmFja2dyb3VuZENvbG9yUmdiYTtcbiAgICAgICAgdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydEZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSByZW5kZXJUZXh0dXJlIC0gUmVuZGVyVGV4dHVyZSB0byBiaW5kLCBieSBkZWZhdWx0IGl0cyBgbnVsbGAgLSB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSBzb3VyY2VGcmFtZSAtIFBhcnQgb2Ygd29ybGQgdGhhdCBpcyBtYXBwZWQgdG8gdGhlIHJlbmRlclRleHR1cmUuXG4gICAgICogQHBhcmFtIGRlc3RpbmF0aW9uRnJhbWUgLSBQYXJ0IG9mIHJlbmRlclRleHR1cmUsIGJ5IGRlZmF1bHQgaXQgaGFzIHRoZSBzYW1lIHNpemUgYXMgc291cmNlRnJhbWUuXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChyZW5kZXJUZXh0dXJlLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSA9PT0gdm9pZCAwKSB7IHJlbmRlclRleHR1cmUgPSBudWxsOyB9XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSkge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LndpZHRoID0gcmVuZGVyVGV4dHVyZS5mcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJUZXh0dXJlLmZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLnggPSByZW5kZXJUZXh0dXJlLmZyYW1lLng7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLnkgPSByZW5kZXJUZXh0dXJlLmZyYW1lLnk7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLndpZHRoID0gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3QyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVidWZmZXIgPSBiYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSkge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LndpZHRoID0gcmVuZGVyZXIuc2NyZWVuLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzb3VyY2VGcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpZXdwb3J0RnJhbWUgPSB0aGlzLnZpZXdwb3J0RnJhbWU7XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueCA9IGRlc3RpbmF0aW9uRnJhbWUueCAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueSA9IGRlc3RpbmF0aW9uRnJhbWUueSAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmlld3BvcnRGcmFtZS5oZWlnaHQgPSBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdmlld3BvcnRGcmFtZS55ID0gcmVuZGVyZXIudmlldy5oZWlnaHQgLSAodmlld3BvcnRGcmFtZS55ICsgdmlld3BvcnRGcmFtZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdwb3J0RnJhbWUuY2VpbCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQoZnJhbWVidWZmZXIsIHZpZXdwb3J0RnJhbWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCAhZnJhbWVidWZmZXIpO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayhiYXNlVGV4dHVyZS5tYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayh0aGlzLmRlZmF1bHRNYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20oc291cmNlRnJhbWUpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuY29weUZyb20oZGVzdGluYXRpb25GcmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIHJlbmRlciB0ZXh0dXJlIGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXIuXG4gICAgICogQHBhcmFtIGNsZWFyQ29sb3IgLSBUaGUgY29sb3IgYXMgcmdiYSwgZGVmYXVsdCB0byB1c2UgdGhlIHJlbmRlcmVyIGJhY2tncm91bmRDb2xvclxuICAgICAqIEBwYXJhbSBbbWFzaz1CVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIXSAtIEJpdHdpc2UgT1Igb2YgbWFza3NcbiAgICAgKiAgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLCBieSBkZWZhdWx0IENPTE9SIGFuZCBERVBUSCBidWZmZXJzLlxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKGNsZWFyQ29sb3IsIG1hc2spIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciBiYXNlRnJhbWUgPSB0aGlzLmN1cnJlbnQgPyB0aGlzLmN1cnJlbnQuYmFzZVRleHR1cmUgOiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgdmFyIGNsZWFyTWFzayA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggIT09IGJhc2VGcmFtZS53aWR0aCB8fCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAhPT0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICAgICAgaWYgKGNsZWFyTWFzaykge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy52aWV3cG9ydEZyYW1lLCB4ID0gX2EueCwgeSA9IF9hLnksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgICAgICAgeSA9IE1hdGgucm91bmQoeSk7XG4gICAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuICAgICAgICAgICAgLy8gVE9ETzogU2Npc3NvclN5c3RlbSBzaG91bGQgY2FjaGUgd2hldGhlciB0aGUgc2Npc3NvciB0ZXN0IGlzIGVuYWJsZWQgb3Igbm90LlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5lbmFibGUodGhpcy5yZW5kZXJlci5nbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoY2xlYXJDb2xvclswXSwgY2xlYXJDb2xvclsxXSwgY2xlYXJDb2xvclsyXSwgY2xlYXJDb2xvclszXSwgbWFzayk7XG4gICAgICAgIGlmIChjbGVhck1hc2spIHtcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIHNjaXNzb3IgYm94XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuICAgIC8qKiBSZXNldHMgcmVuZGVyLXRleHR1cmUgc3RhdGUuICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVTeXN0ZW07XG59KCkpO1xuXG5mdW5jdGlvbiB1Ym9VcGRhdGUoX3VkLCBfdXYsIF9yZW5kZXJlciwgX3N5bmNEYXRhLCBidWZmZXIpIHtcbiAgICBfcmVuZGVyZXIuYnVmZmVyLnVwZGF0ZShidWZmZXIpO1xufVxuLy8gY3YgPSBDYWNoZWRWYWx1ZVxuLy8gdiA9IHZhbHVlXG4vLyB1ZCA9IHVuaWZvcm1EYXRhXG4vLyB1diA9IHVuaWZvcm1WYWx1ZVxuLy8gbCA9IGxvY2F0aW9uXG52YXIgVUJPX1RPX1NJTkdMRV9TRVRURVJTID0ge1xuICAgIGZsb2F0OiBcIlxcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdjtcXG4gICAgXCIsXG4gICAgdmVjMjogXCJcXG4gICAgICAgIGRhdGFbb2Zmc2V0XSA9IHZbMF07XFxuICAgICAgICBkYXRhW29mZnNldCsxXSA9IHZbMV07XFxuICAgIFwiLFxuICAgIHZlYzM6IFwiXFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xcbiAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2WzFdO1xcbiAgICAgICAgZGF0YVtvZmZzZXQrMl0gPSB2WzJdO1xcblxcbiAgICBcIixcbiAgICB2ZWM0OiBcIlxcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcXG4gICAgICAgIGRhdGFbb2Zmc2V0KzFdID0gdlsxXTtcXG4gICAgICAgIGRhdGFbb2Zmc2V0KzJdID0gdlsyXTtcXG4gICAgICAgIGRhdGFbb2Zmc2V0KzNdID0gdlszXTtcXG4gICAgXCIsXG4gICAgbWF0MjogXCJcXG4gICAgICAgIGRhdGFbb2Zmc2V0XSA9IHZbMF07XFxuICAgICAgICBkYXRhW29mZnNldCsxXSA9IHZbMV07XFxuXFxuICAgICAgICBkYXRhW29mZnNldCs0XSA9IHZbMl07XFxuICAgICAgICBkYXRhW29mZnNldCs1XSA9IHZbM107XFxuICAgIFwiLFxuICAgIG1hdDM6IFwiXFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xcbiAgICAgICAgZGF0YVtvZmZzZXQrMV0gPSB2WzFdO1xcbiAgICAgICAgZGF0YVtvZmZzZXQrMl0gPSB2WzJdO1xcblxcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA0XSA9IHZbM107XFxuICAgICAgICBkYXRhW29mZnNldCArIDVdID0gdls0XTtcXG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNl0gPSB2WzVdO1xcblxcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA4XSA9IHZbNl07XFxuICAgICAgICBkYXRhW29mZnNldCArIDldID0gdls3XTtcXG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgMTBdID0gdls4XTtcXG4gICAgXCIsXG4gICAgbWF0NDogXCJcXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgaV0gPSB2W2ldO1xcbiAgICAgICAgfVxcbiAgICBcIlxufTtcbnZhciBHTFNMX1RPX1NURDQwX1NJWkUgPSB7XG4gICAgZmxvYXQ6IDQsXG4gICAgdmVjMjogOCxcbiAgICB2ZWMzOiAxMixcbiAgICB2ZWM0OiAxNixcbiAgICBpbnQ6IDQsXG4gICAgaXZlYzI6IDgsXG4gICAgaXZlYzM6IDEyLFxuICAgIGl2ZWM0OiAxNixcbiAgICB1aW50OiA0LFxuICAgIHV2ZWMyOiA4LFxuICAgIHV2ZWMzOiAxMixcbiAgICB1dmVjNDogMTYsXG4gICAgYm9vbDogNCxcbiAgICBidmVjMjogOCxcbiAgICBidmVjMzogMTIsXG4gICAgYnZlYzQ6IDE2LFxuICAgIG1hdDI6IDE2ICogMixcbiAgICBtYXQzOiAxNiAqIDMsXG4gICAgbWF0NDogMTYgKiA0LFxufTtcbi8qKlxuICogbG9naWMgb3JpZ2luYWxseSBmcm9tIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9za2V0Y2hwdW5rL0Z1bldpdGhXZWJHTDIvYmxvYi9tYXN0ZXIvbGVzc29uXzAyMi9TaGFkZXJzLmpzXG4gKiByZXdyb3RlIGl0LCBidXQgdGhpcyB3YXMgYSBncmVhdCBzdGFydGluZyBwb2ludCB0byBnZXQgYSBzb2xpZCB1bmRlcnN0YW5kaW5nIG9mIHdoYXRzIGdvaW5nIG9uIDopXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0gdW5pZm9ybURhdGFcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVUJPRWxlbWVudHModW5pZm9ybURhdGEpIHtcbiAgICB2YXIgdWJvRWxlbWVudHMgPSB1bmlmb3JtRGF0YS5tYXAoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgZGF0YUxlbjogMCxcbiAgICAgICAgICAgIGRpcnR5OiAwXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciBzaXplID0gMDtcbiAgICB2YXIgY2h1bmtTaXplID0gMDtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVib0VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB1Ym9FbGVtZW50ID0gdWJvRWxlbWVudHNbaV07XG4gICAgICAgIHNpemUgPSBHTFNMX1RPX1NURDQwX1NJWkVbdWJvRWxlbWVudC5kYXRhLnR5cGVdO1xuICAgICAgICBpZiAodWJvRWxlbWVudC5kYXRhLnNpemUgPiAxKSB7XG4gICAgICAgICAgICBzaXplID0gTWF0aC5tYXgoc2l6ZSwgMTYpICogdWJvRWxlbWVudC5kYXRhLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdWJvRWxlbWVudC5kYXRhTGVuID0gc2l6ZTtcbiAgICAgICAgLy8gYWRkIHNvbWUgc2l6ZSBvZmZzZXQuLlxuICAgICAgICAvLyBtdXN0IGFsaWduIHRvIHRoZSBuZWFyZXN0IDE2IGJ5dGVzIG9yIGludGVybmFsbHkgbmVhcmVzdCByb3VuZCBzaXplXG4gICAgICAgIGlmIChjaHVua1NpemUgJSBzaXplICE9PSAwICYmIGNodW5rU2l6ZSA8IDE2KSB7XG4gICAgICAgICAgICAvLyBkaWZmIHJlcXVpcmVkIHRvIGxpbmUgdXAuLlxuICAgICAgICAgICAgdmFyIGxpbmVVcFZhbHVlID0gKGNodW5rU2l6ZSAlIHNpemUpICUgMTY7XG4gICAgICAgICAgICBjaHVua1NpemUgKz0gbGluZVVwVmFsdWU7XG4gICAgICAgICAgICBvZmZzZXQgKz0gbGluZVVwVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChjaHVua1NpemUgKyBzaXplKSA+IDE2KSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBNYXRoLmNlaWwob2Zmc2V0IC8gMTYpICogMTY7XG4gICAgICAgICAgICB1Ym9FbGVtZW50Lm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICAgIG9mZnNldCArPSBzaXplO1xuICAgICAgICAgICAgY2h1bmtTaXplID0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVib0VsZW1lbnQub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgY2h1bmtTaXplICs9IHNpemU7XG4gICAgICAgICAgICBvZmZzZXQgKz0gc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvZmZzZXQgPSBNYXRoLmNlaWwob2Zmc2V0IC8gMTYpICogMTY7XG4gICAgcmV0dXJuIHsgdWJvRWxlbWVudHM6IHVib0VsZW1lbnRzLCBzaXplOiBvZmZzZXQgfTtcbn1cbmZ1bmN0aW9uIGdldFVCT0RhdGEodW5pZm9ybXMsIHVuaWZvcm1EYXRhKSB7XG4gICAgdmFyIHVzZWRVbmlmb3JtRGF0YXMgPSBbXTtcbiAgICAvLyBidWlsZC4uXG4gICAgZm9yICh2YXIgaSBpbiB1bmlmb3Jtcykge1xuICAgICAgICBpZiAodW5pZm9ybURhdGFbaV0pIHtcbiAgICAgICAgICAgIHVzZWRVbmlmb3JtRGF0YXMucHVzaCh1bmlmb3JtRGF0YVtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc29ydCB0aGVtIG91dCBieSBpbmRleCFcbiAgICB1c2VkVW5pZm9ybURhdGFzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4OyB9KTtcbiAgICByZXR1cm4gdXNlZFVuaWZvcm1EYXRhcztcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKSB7XG4gICAgaWYgKCFncm91cC5hdXRvTWFuYWdlKSB7XG4gICAgICAgIC8vIGlmIHRoZSBncm91cCBpcyBub3R0IGF1dG9tYXRpY2FsbHkgbWFuYWdlZCwgd2UgZG9uJ3QgbmVlZCB0byBnZW5lcmF0ZSBhIHNwZWNpYWwgZnVuY3Rpb24gZm9yIGl0Li4uXG4gICAgICAgIHJldHVybiB7IHNpemU6IDAsIHN5bmNGdW5jOiB1Ym9VcGRhdGUgfTtcbiAgICB9XG4gICAgdmFyIHVzZWRVbmlmb3JtRGF0YXMgPSBnZXRVQk9EYXRhKGdyb3VwLnVuaWZvcm1zLCB1bmlmb3JtRGF0YSk7XG4gICAgdmFyIF9hID0gY3JlYXRlVUJPRWxlbWVudHModXNlZFVuaWZvcm1EYXRhcyksIHVib0VsZW1lbnRzID0gX2EudWJvRWxlbWVudHMsIHNpemUgPSBfYS5zaXplO1xuICAgIHZhciBmdW5jRnJhZ21lbnRzID0gW1wiXFxuICAgIHZhciB2ID0gbnVsbDtcXG4gICAgdmFyIHYyID0gbnVsbDtcXG4gICAgdmFyIGN2ID0gbnVsbDtcXG4gICAgdmFyIHQgPSAwO1xcbiAgICB2YXIgZ2wgPSByZW5kZXJlci5nbFxcbiAgICB2YXIgaW5kZXggPSAwO1xcbiAgICB2YXIgZGF0YSA9IGJ1ZmZlci5kYXRhO1xcbiAgICBcIl07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1Ym9FbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdWJvRWxlbWVudCA9IHVib0VsZW1lbnRzW2ldO1xuICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW3Vib0VsZW1lbnQuZGF0YS5uYW1lXTtcbiAgICAgICAgdmFyIG5hbWUgPSB1Ym9FbGVtZW50LmRhdGEubmFtZTtcbiAgICAgICAgdmFyIHBhcnNlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgdW5pZm9ybVBhcnNlciA9IHVuaWZvcm1QYXJzZXJzW2pdO1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1QYXJzZXIuY29kZVVibyAmJiB1bmlmb3JtUGFyc2VyLnRlc3QodWJvRWxlbWVudC5kYXRhLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIm9mZnNldCA9IFwiICsgdWJvRWxlbWVudC5vZmZzZXQgLyA0ICsgXCI7XCIsIHVuaWZvcm1QYXJzZXJzW2pdLmNvZGVVYm8odWJvRWxlbWVudC5kYXRhLm5hbWUsIHVuaWZvcm0pKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VkKSB7XG4gICAgICAgICAgICBpZiAodWJvRWxlbWVudC5kYXRhLnNpemUgPiAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNpemVfMSA9IG1hcFNpemUodWJvRWxlbWVudC5kYXRhLnR5cGUpO1xuICAgICAgICAgICAgICAgIHZhciByb3dTaXplID0gTWF0aC5tYXgoR0xTTF9UT19TVEQ0MF9TSVpFW3Vib0VsZW1lbnQuZGF0YS50eXBlXSAvIDE2LCAxKTtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudFNpemUgPSBzaXplXzEgLyByb3dTaXplO1xuICAgICAgICAgICAgICAgIHZhciByZW1haW5kZXIgPSAoNCAtIChlbGVtZW50U2l6ZSAlIDQpKSAlIDQ7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBuYW1lICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIG5hbWUgKyBcIjtcXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gXCIgKyB1Ym9FbGVtZW50Lm9mZnNldCAvIDQgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgdCA9IDA7XFxuXFxuICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgXCIgKyB1Ym9FbGVtZW50LmRhdGEuc2l6ZSAqIHJvd1NpemUgKyBcIjsgaSsrKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgXCIgKyBlbGVtZW50U2l6ZSArIFwiOyBqKyspXFxuICAgICAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtvZmZzZXQrK10gPSB2W3QrK107XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gXCIgKyByZW1haW5kZXIgKyBcIjtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBVQk9fVE9fU0lOR0xFX1NFVFRFUlNbdWJvRWxlbWVudC5kYXRhLnR5cGVdO1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkLlwiICsgbmFtZSArIFwiLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXYuXCIgKyBuYW1lICsgXCI7XFxuICAgICAgICAgICAgICAgIG9mZnNldCA9IFwiICsgdWJvRWxlbWVudC5vZmZzZXQgLyA0ICsgXCI7XFxuICAgICAgICAgICAgICAgIFwiICsgdGVtcGxhdGUgKyBcIjtcXG4gICAgICAgICAgICAgICAgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICByZW5kZXJlci5idWZmZXIudXBkYXRlKGJ1ZmZlcik7XFxuICAgIFwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgICAgc3luY0Z1bmM6IG5ldyBGdW5jdGlvbigndWQnLCAndXYnLCAncmVuZGVyZXInLCAnc3luY0RhdGEnLCAnYnVmZmVyJywgZnVuY0ZyYWdtZW50cy5qb2luKCdcXG4nKSlcbiAgICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBJR0xVbmlmb3JtRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJR0xVbmlmb3JtRGF0YSgpIHtcbiAgICB9XG4gICAgcmV0dXJuIElHTFVuaWZvcm1EYXRhO1xufSgpKTtcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIFdlYkdMIFByb2dyYW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTFByb2dyYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBuZXcgUGl4aSBwcm9ncmFtLlxuICAgICAqIEBwYXJhbSBwcm9ncmFtIC0gd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB1bmlmb3JtRGF0YSAtIHVuaWZvcm1zXG4gICAgICovXG4gICAgZnVuY3Rpb24gR0xQcm9ncmFtKHByb2dyYW0sIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtRGF0YTtcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0ge307XG4gICAgICAgIHRoaXMudW5pZm9ybURpcnR5R3JvdXBzID0ge307XG4gICAgICAgIHRoaXMudW5pZm9ybUJ1ZmZlckJpbmRpbmdzID0ge307XG4gICAgfVxuICAgIC8qKiBEZXN0cm95cyB0aGlzIHByb2dyYW0uICovXG4gICAgR0xQcm9ncmFtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmlmb3JtRGlydHlHcm91cHMgPSBudWxsO1xuICAgICAgICB0aGlzLnVuaWZvcm1CdWZmZXJCaW5kaW5ncyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR0xQcm9ncmFtO1xufSgpKTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSBXZWJHTCBwcm9ncmFtXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgYXR0cmlidXRlIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICovXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIGdsKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICB2YXIgdG90YWxBdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICB2YXIgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgaWYgKGF0dHJpYkRhdGEubmFtZS5pbmRleE9mKCdnbF8nKSA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBuYW1lOiBhdHRyaWJEYXRhLm5hbWUsXG4gICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgbG9jYXRpb246IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYkRhdGEubmFtZSksXG4gICAgICAgIH07XG4gICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IGRhdGE7XG4gICAgfVxuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xufVxuXG4vKipcbiAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHByb2dyYW0gLSB0aGUgd2ViZ2wgcHJvZ3JhbVxuICogQHBhcmFtIGdsIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSB1bmlmb3JtIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICovXG5mdW5jdGlvbiBnZXRVbmlmb3JtRGF0YShwcm9ncmFtLCBnbCkge1xuICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuICAgIHZhciB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxVbmlmb3JtczsgaSsrKSB7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgICAgIHZhciBuYW1lID0gdW5pZm9ybURhdGEubmFtZS5yZXBsYWNlKC9cXFsuKj9cXF0kLywgJycpO1xuICAgICAgICB2YXIgaXNBcnJheSA9ICEhKHVuaWZvcm1EYXRhLm5hbWUubWF0Y2goL1xcWy4qP1xcXSQvKSk7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSk7XG4gICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHNpemU6IHVuaWZvcm1EYXRhLnNpemUsXG4gICAgICAgICAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZSh0eXBlLCB1bmlmb3JtRGF0YS5zaXplKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuaWZvcm1zO1xufVxuXG4vKipcbiAqIGdlbmVyYXRlcyBhIFdlYkdMIFByb2dyYW0gb2JqZWN0IGZyb20gYSBoaWdoIGxldmVsIFBpeGkgUHJvZ3JhbS5cbiAqIEBwYXJhbSBnbCAtIGEgcmVuZGVyaW5nIGNvbnRleHQgb24gd2hpY2ggdG8gZ2VuZXJhdGUgdGhlIHByb2dyYW1cbiAqIEBwYXJhbSBwcm9ncmFtIC0gdGhlIGhpZ2ggbGV2ZWwgUGl4aSBQcm9ncmFtLlxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVByb2dyYW0oZ2wsIHByb2dyYW0pIHtcbiAgICB2YXIgZ2xWZXJ0U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgcHJvZ3JhbS52ZXJ0ZXhTcmMpO1xuICAgIHZhciBnbEZyYWdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHByb2dyYW0uZnJhZ21lbnRTcmMpO1xuICAgIHZhciB3ZWJHTFByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHdlYkdMUHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIod2ViR0xQcm9ncmFtLCBnbEZyYWdTaGFkZXIpO1xuICAgIGdsLmxpbmtQcm9ncmFtKHdlYkdMUHJvZ3JhbSk7XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHdlYkdMUHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIGxvZ1Byb2dyYW1FcnJvcihnbCwgd2ViR0xQcm9ncmFtLCBnbFZlcnRTaGFkZXIsIGdsRnJhZ1NoYWRlcik7XG4gICAgfVxuICAgIHByb2dyYW0uYXR0cmlidXRlRGF0YSA9IGdldEF0dHJpYnV0ZURhdGEod2ViR0xQcm9ncmFtLCBnbCk7XG4gICAgcHJvZ3JhbS51bmlmb3JtRGF0YSA9IGdldFVuaWZvcm1EYXRhKHdlYkdMUHJvZ3JhbSwgZ2wpO1xuICAgIC8vIEdMU0wgMS4wMDogYmluZCBhdHRyaWJ1dGVzIHNvcnRlZCBieSBuYW1lIGluIGFzY2VuZGluZyBvcmRlclxuICAgIC8vIEdMU0wgMy4wMDogZG9uJ3QgY2hhbmdlIHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zIHRoYXQgd2hlcmUgY2hvc2VuIGJ5IHRoZSBjb21waWxlclxuICAgIC8vICAgICAgICAgICAgb3IgYXNzaWduZWQgYnkgdGhlIGxheW91dCBzcGVjaWZpZXIgaW4gdGhlIHNoYWRlciBzb3VyY2UgY29kZVxuICAgIGlmICghKC9eWyBcXHRdKiNbIFxcdF0qdmVyc2lvblsgXFx0XSszMDBbIFxcdF0rZXNbIFxcdF0qJC9tKS50ZXN0KHByb2dyYW0udmVydGV4U3JjKSkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb2dyYW0uYXR0cmlidXRlRGF0YSk7XG4gICAgICAgIGtleXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEgPiBiKSA/IDEgOiAtMTsgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uZnVzaW5nLWFycm93XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2tleXNbaV1dLmxvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbih3ZWJHTFByb2dyYW0sIGksIGtleXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHdlYkdMUHJvZ3JhbSk7XG4gICAgfVxuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuICAgIHZhciB1bmlmb3JtRGF0YSA9IHt9O1xuICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSkge1xuICAgICAgICB2YXIgZGF0YSA9IHByb2dyYW0udW5pZm9ybURhdGFbaV07XG4gICAgICAgIHVuaWZvcm1EYXRhW2ldID0ge1xuICAgICAgICAgICAgbG9jYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih3ZWJHTFByb2dyYW0sIGkpLFxuICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBnbFByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKHdlYkdMUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuICAgIHJldHVybiBnbFByb2dyYW07XG59XG5cbnZhciBVSUQgPSAwO1xuLy8gZGVmYXVsdCBzeW5jIGRhdGEgc28gd2UgZG9uJ3QgY3JlYXRlIGEgbmV3IG9uZSBlYWNoIHRpbWUhXG52YXIgZGVmYXVsdFN5bmNEYXRhID0geyB0ZXh0dXJlQ291bnQ6IDAsIHVib0NvdW50OiAwIH07XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNoYWRlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci4gKi9cbiAgICBmdW5jdGlvbiBTaGFkZXJTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvLyBWYWxpZGF0aW9uIGNoZWNrIHRoYXQgdGhpcyBlbnZpcm9ubWVudCBzdXBwb3J0IGBuZXcgRnVuY3Rpb25gXG4gICAgICAgIHRoaXMuc3lzdGVtQ2hlY2soKTtcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl91Ym9DYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBmdW5jdGlvbiBieSBgQHBpeGkvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICAgKiB0aHJvd2luZyBhbiBlcnJvciBpZiBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgdW5zYWZlLWV2YWxzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeXN0ZW1DaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF1bnNhZmVFdmFsU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgJ1xuICAgICAgICAgICAgICAgICsgJ3BsZWFzZSB1c2UgQHBpeGkvdW5zYWZlLWV2YWwgbW9kdWxlIHRvIGVuYWJsZSBzdXBwb3J0LicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0gZG9udFN5bmMgLSBmYWxzZSBpZiB0aGUgc2hhZGVyIHNob3VsZCBhdXRvbWF0aWNhbGx5IHN5bmMgaXRzIHVuaWZvcm1zLlxuICAgICAqIEByZXR1cm5zIHRoZSBnbFByb2dyYW0gdGhhdCBiZWxvbmdzIHRvIHRoZSBzaGFkZXIuXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKHNoYWRlciwgZG9udFN5bmMpIHtcbiAgICAgICAgc2hhZGVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMuZ2xvYmFscyA9IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gfHwgdGhpcy5nZW5lcmF0ZVByb2dyYW0oc2hhZGVyKTtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG4gICAgICAgIC8vIFRPRE8gLSBzb21lIGN1cnJlbnQgUGl4aSBwbHVnaW5zIGJ5cGFzcyB0aGlzLi4gc28gaXQgbm90IHNhZmUgdG8gdXNlIHlldC4uXG4gICAgICAgIGlmICh0aGlzLnByb2dyYW0gIT09IHByb2dyYW0pIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0oZ2xQcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZG9udFN5bmMpIHtcbiAgICAgICAgICAgIGRlZmF1bHRTeW5jRGF0YS50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgZGVmYXVsdFN5bmNEYXRhLnVib0NvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1Hcm91cChzaGFkZXIudW5pZm9ybUdyb3VwLCBkZWZhdWx0U3luY0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHVuaWZvcm1zIC0gdGhlIHVuaWZvcm1zIHZhbHVlcyB0aGF0IGJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zZXRVbmlmb3JtcyA9IGZ1bmN0aW9uICh1bmlmb3Jtcykge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHNoYWRlci5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICBzaGFkZXIuc3luY1VuaWZvcm1zKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgdW5pZm9ybXMsIHRoaXMucmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuICAgIC8qKlxuICAgICAqIFN5bmNzIHVuaWZvcm1zIG9uIHRoZSBncm91cFxuICAgICAqIEBwYXJhbSBncm91cCAtIHRoZSB1bmlmb3JtIGdyb3VwIHRvIHN5bmNcbiAgICAgKiBAcGFyYW0gc3luY0RhdGEgLSB0aGlzIGlzIGRhdGEgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIHN5bmMgZnVuY3Rpb24gYW5kIGFueSBuZXN0ZWQgc3luYyBmdW5jdGlvbnNcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtR3JvdXAgPSBmdW5jdGlvbiAoZ3JvdXAsIHN5bmNEYXRhKSB7XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSB0aGlzLmdldEdsUHJvZ3JhbSgpO1xuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSBnbFByb2dyYW0udW5pZm9ybURpcnR5R3JvdXBzW2dyb3VwLmlkXSkge1xuICAgICAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1EaXJ0eUdyb3Vwc1tncm91cC5pZF0gPSBncm91cC5kaXJ0eUlkO1xuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMoZ3JvdXAsIGdsUHJvZ3JhbSwgc3luY0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkZWFibGUgYnkgdGhlIEBwaXhpL3Vuc2FmZS1ldmFsIHBhY2thZ2UgdG8gdXNlIHN0YXRpYyBzeW5jVW5pZm9ybXMgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0gZ3JvdXBcbiAgICAgKiBAcGFyYW0gZ2xQcm9ncmFtXG4gICAgICogQHBhcmFtIHN5bmNEYXRhXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiAoZ3JvdXAsIGdsUHJvZ3JhbSwgc3luY0RhdGEpIHtcbiAgICAgICAgdmFyIHN5bmNGdW5jID0gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuY3JlYXRlU3luY0dyb3Vwcyhncm91cCk7XG4gICAgICAgIHN5bmNGdW5jKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgZ3JvdXAudW5pZm9ybXMsIHRoaXMucmVuZGVyZXIsIHN5bmNEYXRhKTtcbiAgICB9O1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY3JlYXRlU3luY0dyb3VwcyA9IGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSwgJ3UnKTtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdID0gdGhpcy5jYWNoZVtpZF07XG4gICAgICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTeW5jcyB1bmlmb3JtIGJ1ZmZlcnNcbiAgICAgKiBAcGFyYW0gZ3JvdXAgLSB0aGUgdW5pZm9ybSBidWZmZXIgZ3JvdXAgdG8gc3luY1xuICAgICAqIEBwYXJhbSBuYW1lIC0gdGhlIG5hbWUgb2YgdGhlIHVuaWZvcm0gYnVmZmVyXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybUJ1ZmZlckdyb3VwID0gZnVuY3Rpb24gKGdyb3VwLCBuYW1lKSB7XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSB0aGlzLmdldEdsUHJvZ3JhbSgpO1xuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSAwIHx8ICFnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pIHtcbiAgICAgICAgICAgIGdyb3VwLmRpcnR5SWQgPSAwO1xuICAgICAgICAgICAgdmFyIHN5bmNGdW5jID0gZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5jcmVhdGVTeW5jQnVmZmVyR3JvdXAoZ3JvdXAsIGdsUHJvZ3JhbSwgbmFtZSk7XG4gICAgICAgICAgICAvLyBUT0RPIHdyYXAgdXBkYXRlIGluIGEgY2FjaGU/P1xuICAgICAgICAgICAgZ3JvdXAuYnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlciwgZGVmYXVsdFN5bmNEYXRhLCBncm91cC5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYnVmZmVyLmJpbmRCdWZmZXJCYXNlKGdyb3VwLmJ1ZmZlciwgZ2xQcm9ncmFtLnVuaWZvcm1CdWZmZXJCaW5kaW5nc1tuYW1lXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIGNyZWF0ZSBhIGZ1bmN0aW9uIHRoYXQgdXBsb2FkcyBhIHVuaWZvcm0gYnVmZmVyIHVzaW5nIHRoZSBTVEQxNDAgc3RhbmRhcmQuXG4gICAgICogVGhlIHVwbG9hZCBmdW5jdGlvbiB3aWxsIHRoZW4gYmUgY2FjaGVkIGZvciBmdXR1cmUgY2FsbHNcbiAgICAgKiBJZiBhIGdyb3VwIGlzIG1hbnVhbGx5IG1hbmFnZWQsIHRoZW4gYSBzaW1wbGUgdXBsb2FkIGZ1bmN0aW9uIGlzIGdlbmVyYXRlZFxuICAgICAqIEBwYXJhbSBncm91cCAtIHRoZSB1bmlmb3JtIGJ1ZmZlciBncm91cCB0byBzeW5jXG4gICAgICogQHBhcmFtIGdsUHJvZ3JhbSAtIHRoZSBnbCBwcm9ncmFtIHRvIGF0dGFjaCB0aGUgdW5pZm9ybSBiaW5kaW5ncyB0b1xuICAgICAqIEBwYXJhbSBuYW1lIC0gdGhlIG5hbWUgb2YgdGhlIHVuaWZvcm0gYnVmZmVyIChtdXN0IGV4aXN0IG9uIHRoZSBzaGFkZXIpXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVTeW5jQnVmZmVyR3JvdXAgPSBmdW5jdGlvbiAoZ3JvdXAsIGdsUHJvZ3JhbSwgbmFtZSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJ1ZmZlci5iaW5kKGdyb3VwLmJ1ZmZlcik7XG4gICAgICAgIC8vIGJpbmQgdGhlbS4uLlxuICAgICAgICB2YXIgdW5pZm9ybUJsb2NrSW5kZXggPSB0aGlzLmdsLmdldFVuaWZvcm1CbG9ja0luZGV4KGdsUHJvZ3JhbS5wcm9ncmFtLCBuYW1lKTtcbiAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1CdWZmZXJCaW5kaW5nc1tuYW1lXSA9IHRoaXMuc2hhZGVyLnVuaWZvcm1CaW5kQ291bnQ7XG4gICAgICAgIGdsLnVuaWZvcm1CbG9ja0JpbmRpbmcoZ2xQcm9ncmFtLnByb2dyYW0sIHVuaWZvcm1CbG9ja0luZGV4LCB0aGlzLnNoYWRlci51bmlmb3JtQmluZENvdW50KTtcbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybUJpbmRDb3VudCsrO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSwgJ3VibycpO1xuICAgICAgICB2YXIgdWJvRGF0YSA9IHRoaXMuX3Vib0NhY2hlW2lkXTtcbiAgICAgICAgaWYgKCF1Ym9EYXRhKSB7XG4gICAgICAgICAgICB1Ym9EYXRhID0gdGhpcy5fdWJvQ2FjaGVbaWRdID0gZ2VuZXJhdGVVbmlmb3JtQnVmZmVyU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwLmF1dG9NYW5hZ2UpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gbmV3IEZsb2F0MzJBcnJheSh1Ym9EYXRhLnNpemUgLyA0KTtcbiAgICAgICAgICAgIGdyb3VwLmJ1ZmZlci51cGRhdGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdID0gdWJvRGF0YS5zeW5jRnVuYztcbiAgICAgICAgcmV0dXJuIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGEgdW5pZm9ybSBncm91cCBhbmQgZGF0YSBhbmQgZ2VuZXJhdGVzIGEgdW5pcXVlIHNpZ25hdHVyZSBmb3IgdGhlbS5cbiAgICAgKiBAcGFyYW0gZ3JvdXAgLSBUaGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIGdyb3VwLnVuaWZvcm1zXG4gICAgICogQHBhcmFtIHVuaWZvcm1EYXRhIC0gVW5pZm9ybSBpbmZvcm1hdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIHNoYWRlclxuICAgICAqIEBwYXJhbSBwcmVGaXhcbiAgICAgKiBAcmV0dXJucyBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSB1bmlmb3JtIGdyb3VwXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiAoZ3JvdXAsIHVuaWZvcm1EYXRhLCBwcmVGaXgpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gZ3JvdXAudW5pZm9ybXM7XG4gICAgICAgIHZhciBzdHJpbmdzID0gW3ByZUZpeCArIFwiLVwiXTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB1bmlmb3Jtcykge1xuICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1EYXRhW2ldKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKHVuaWZvcm1EYXRhW2ldLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgR0xTaGFkZSByb2YgdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqIEByZXR1cm5zIFRoZSBnbFByb2dyYW0gZm9yIHRoZSBjdXJyZW50bHkgYm91bmQgU2hhZGVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldEdsUHJvZ3JhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZ2xQcm9ncmFtIHZlcnNpb24gb2YgdGhlIFNoYWRlciBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0gc2hhZGVyIC0gVGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJucyBBIHNoaW55IG5ldyBnbFByb2dyYW0hXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZW5lcmF0ZVByb2dyYW0gPSBmdW5jdGlvbiAoc2hhZGVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBnZW5lcmF0ZVByb2dyYW0oZ2wsIHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbFByb2dyYW07XG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcbiAgICAvKiogUmVzZXRzIFNoYWRlclN5c3RlbSBzdGF0ZSwgZG9lcyBub3QgYWZmZWN0IFdlYkdMIHN0YXRlLiAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIHNoYWRlci5cbiAgICAgKiBJZiBkaXNwb3Npbmcgb25lIGVxdWFscyB3aXRoIGN1cnJlbnQgc2hhZGVyLCBzZXQgY3VycmVudCBhcyBudWxsLlxuICAgICAqIEBwYXJhbSBzaGFkZXIgLSBTaGFkZXIgb2JqZWN0XG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlU2hhZGVyID0gZnVuY3Rpb24gKHNoYWRlcikge1xuICAgICAgICBpZiAodGhpcy5zaGFkZXIgPT09IHNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogRGVzdHJveXMgdGhpcyBTeXN0ZW0gYW5kIHJlbW92ZXMgYWxsIGl0cyB0ZXh0dXJlcy4gKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBkZXN0cm95IG1ldGhvZCBmb3IgU2hhZGVyU3lzdGVtXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTaGFkZXJTeXN0ZW07XG59KCkpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGlcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcltdW119IFthcnJheT1bXV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJucyB7bnVtYmVyW11bXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5KSB7XG4gICAgaWYgKGFycmF5ID09PSB2b2lkIDApIHsgYXJyYXkgPSBbXTsgfVxuICAgIC8vIFRPRE8gLSBwcmVtdWx0aXBseSBhbHBoYSB3b3VsZCBiZSBkaWZmZXJlbnQuXG4gICAgLy8gYWRkIGEgYm9vbGVhbiBmb3IgdGhhdCFcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTVVMVElQTFldID0gW2dsLkRTVF9DT0xPUiwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MSUdIVEVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkNPTE9SXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9ORV0gPSBbMCwgMF07XG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlhPUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuICAgIHJldHVybiBhcnJheTtcbn1cblxudmFyIEJMRU5EID0gMDtcbnZhciBPRkZTRVQgPSAxO1xudmFyIENVTExJTkcgPSAyO1xudmFyIERFUFRIX1RFU1QgPSAzO1xudmFyIFdJTkRJTkcgPSA0O1xudmFyIERFUFRIX01BU0sgPSA1O1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgV2ViR0wgc3RhdGUgbWFjaGluZXMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RhdGVTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVTeXN0ZW0oKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlSWQgPSAwO1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PTkU7XG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgLy8gbWFwIGZ1bmN0aW9ucyBmb3Igd2hlbiB3ZSBzZXQgc3RhdGUuLlxuICAgICAgICB0aGlzLm1hcCA9IFtdO1xuICAgICAgICB0aGlzLm1hcFtCTEVORF0gPSB0aGlzLnNldEJsZW5kO1xuICAgICAgICB0aGlzLm1hcFtPRkZTRVRdID0gdGhpcy5zZXRPZmZzZXQ7XG4gICAgICAgIHRoaXMubWFwW0NVTExJTkddID0gdGhpcy5zZXRDdWxsRmFjZTtcbiAgICAgICAgdGhpcy5tYXBbREVQVEhfVEVTVF0gPSB0aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgdGhpcy5tYXBbV0lORElOR10gPSB0aGlzLnNldEZyb250RmFjZTtcbiAgICAgICAgdGhpcy5tYXBbREVQVEhfTUFTS10gPSB0aGlzLnNldERlcHRoTWFzaztcbiAgICAgICAgdGhpcy5jaGVja3MgPSBbXTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgIH1cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIChnbCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9IG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCk7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMuZGVmYXVsdFN0YXRlKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgLy8gVE9ETyBtYXliZSB0byBhbiBvYmplY3QgY2hlY2s/ICggdGhpcy5zdGF0ZSA9PT0gc3RhdGUgKT9cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgLy8gb3JkZXIgZnJvbSBsZWFzdCB0byBtb3N0IGNvbW1vblxuICAgICAgICAgICAgd2hpbGUgKGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiAmIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgY2hhbmdlIVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiA+PiAxO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYmFzZWQgb24gdGhlIGFib3ZlIHNldHRpbmdzIHdlIGNoZWNrIGZvciBzcGVjaWZpYyBtb2Rlcy4uXG4gICAgICAgIC8vIGZvciBleGFtcGxlIGlmIGJsZW5kIGlzIGFjdGl2ZSB3ZSBjaGVjayBhbmQgc2V0IHRoZSBibGVuZCBtb2Rlc1xuICAgICAgICAvLyBvciBvZiBwb2x5Z29uIG9mZnNldCBpcyBhY3RpdmUgd2UgY2hlY2sgdGhlIHBvbHkgZGVwdGguXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUsIHdoZW4gcHJldmlvdXMgc3RhdGUgaXMgdW5rbm93bi5cbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldFxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5mb3JjZVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMubWFwW2ldLmNhbGwodGhpcywgISEoc3RhdGUuZGF0YSAmICgxIDw8IGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoZWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaGVja3NbaV0odGhpcywgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgYmxlbmRpbmcuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVHVybiBvbiBvciBvZmYgV2ViR2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkJMRU5EKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIHBvbHlnb24gb2Zmc2V0IHRlc3RpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldE9mZnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoZWNrKFN0YXRlU3lzdGVtLmNoZWNrUG9seWdvbk9mZnNldCwgdmFsdWUpO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgZGVwdGggdGVzdC5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBkZXB0aCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXREZXB0aFRlc3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkRFUFRIX1RFU1QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIG1hc2suXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggbWFzay5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RGVwdGhNYXNrID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ2wuZGVwdGhNYXNrKHZhbHVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBjdWxsIGZhY2UuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGN1bGwgZmFjZS5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0Q3VsbEZhY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB0cnVlIGlzIGNsb2Nrd2lzZSBhbmQgZmFsc2UgaXMgY291bnRlci1jbG9ja3dpc2VcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RnJvbnRGYWNlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kIG1vZGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmJsZW5kTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIHZhciBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShtb2RlWzBdLCBtb2RlWzFdLCBtb2RlWzJdLCBtb2RlWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDYpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKG1vZGVbNF0sIG1vZGVbNV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2JsZW5kRXEpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShnbC5GVU5DX0FERCwgZ2wuRlVOQ19BREQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSB0aGUgcG9seWdvbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgcG9seWdvbiBvZmZzZXQgc2NhbGVcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0UG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uICh2YWx1ZSwgc2NhbGUpIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfTtcbiAgICAvLyB1c2VkXG4gICAgLyoqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgVkFPcy4gKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZm9yY2VTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IC0xO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZSgwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hpY2ggdXBkYXRlcyBzaG91bGQgYmUgY2hlY2tlZCBiYXNlZCBvbiB3aGljaCBzZXR0aW5ncyBoYXZlIGJlZW4gYWN0aXZhdGVkLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsIGlmIGJsZW5kIGlzIGVuYWJsZWQgdGhlbiB3ZSBzaG91bGQgY2hlY2sgdGhlIGJsZW5kIG1vZGVzIGVhY2ggdGltZSB0aGUgc3RhdGUgaXMgY2hhbmdlZFxuICAgICAqIG9yIGlmIHBvbHlnb24gZmlsbCBpcyBhY3RpdmF0ZWQgdGhlbiB3ZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBwb2x5Z29uIG9mZnNldCBjaGFuZ2VzLlxuICAgICAqIFRoZSBpZGVhIGlzIHRoYXQgd2Ugb25seSBjaGVjayB3aGF0IHdlIGhhdmUgdG9vLlxuICAgICAqIEBwYXJhbSBmdW5jIC0gdGhlIGNoZWNraW5nIGZ1bmN0aW9uIHRvIGFkZCBvciByZW1vdmVcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBzaG91bGQgdGhlIGNoZWNrIGZ1bmN0aW9uIGJlIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUNoZWNrID0gZnVuY3Rpb24gKGZ1bmMsIHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hlY2tzLmluZGV4T2YoZnVuYyk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKiBAcGFyYW0gc3lzdGVtIC0gdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSBzdGF0ZSAtIHRoZSBzdGF0ZSB0aGF0IHRoZSBibGVuZE1vZGUgd2lsbCBwdWxsZWQgZnJvbVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLmNoZWNrQmxlbmRNb2RlID0gZnVuY3Rpb24gKHN5c3RlbSwgc3RhdGUpIHtcbiAgICAgICAgc3lzdGVtLnNldEJsZW5kTW9kZShzdGF0ZS5ibGVuZE1vZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICogQHBhcmFtIHN5c3RlbSAtIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0gc3RhdGUgLSB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQgPSBmdW5jdGlvbiAoc3lzdGVtLCBzdGF0ZSkge1xuICAgICAgICBzeXN0ZW0uc2V0UG9seWdvbk9mZnNldCgxLCBzdGF0ZS5wb2x5Z29uT2Zmc2V0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVTeXN0ZW07XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlIGdhcmJhZ2UgY29sbGVjdGlvbiBvbiB0aGUgR1BVLFxuICogZW5zdXJpbmcgdGhhdCBpdCBkb2VzIG5vdCBnZXQgY2xvZ2dlZCB1cCB3aXRoIHRleHR1cmVzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyB1c2VkLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVHQ1N5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci4gKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR0NTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXhJZGxlID0gc2V0dGluZ3MuR0NfTUFYX0lETEU7XG4gICAgICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IHNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVDtcbiAgICAgICAgdGhpcy5tb2RlID0gc2V0dGluZ3MuR0NfTU9ERTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnBvc3RyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gR0NfTU9ERVMuTUFOVUFMKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ291bnQgPiB0aGlzLmNoZWNrQ291bnRNYXgpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIHZhciBtYW5hZ2VkVGV4dHVyZXMgPSB0bS5tYW5hZ2VkVGV4dHVyZXM7XG4gICAgICAgIHZhciB3YXNSZW1vdmVkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIC8vIG9ubHkgc3VwcG9ydHMgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlcyBhdCB0aGUgbW9tZW50IVxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlLmZyYW1lYnVmZmVyICYmIHRoaXMuY291bnQgLSB0ZXh0dXJlLnRvdWNoZWQgPiB0aGlzLm1heElkbGUpIHtcbiAgICAgICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHdhc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3YXNSZW1vdmVkKSB7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VkVGV4dHVyZXNbaV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdCB0byByZW1vdmUgdGhlIHRleHR1cmVzIGZyb20uXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS51bmxvYWQgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gZGlzcGxheU9iamVjdC5fdGV4dHVyZTtcbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKHRleHR1cmUgJiYgIXRleHR1cmUuZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZChkaXNwbGF5T2JqZWN0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlR0NTeXN0ZW07XG59KCkpO1xuXG4vKipcbiAqIFJldHVybnMgYSBsb29rdXAgdGFibGUgdGhhdCBtYXBzIGVhY2ggdHlwZS1mb3JtYXQgcGFpciB0byBhIGNvbXBhdGlibGUgaW50ZXJuYWwgZm9ybWF0LlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBUeXBlQW5kRm9ybWF0VG9JbnRlcm5hbEZvcm1hdFxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEByZXR1cm5zIExvb2t1cCB0YWJsZS5cbiAqL1xuZnVuY3Rpb24gbWFwVHlwZUFuZEZvcm1hdFRvSW50ZXJuYWxGb3JtYXQoZ2wpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcSwgX3IsIF9zLCBfdCwgX3UsIF92LCBfdywgX3g7XG4gICAgdmFyIHRhYmxlO1xuICAgIGlmICgnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gZ2xvYmFsVGhpcyAmJiBnbCBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuV2ViR0wyUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICB0YWJsZSA9IChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbVFlQRVMuVU5TSUdORURfQllURV0gPSAoX2IgPSB7fSxcbiAgICAgICAgICAgICAgICBfYltGT1JNQVRTLlJHQkFdID0gZ2wuUkdCQTgsXG4gICAgICAgICAgICAgICAgX2JbRk9STUFUUy5SR0JdID0gZ2wuUkdCOCxcbiAgICAgICAgICAgICAgICBfYltGT1JNQVRTLlJHXSA9IGdsLlJHOCxcbiAgICAgICAgICAgICAgICBfYltGT1JNQVRTLlJFRF0gPSBnbC5SOCxcbiAgICAgICAgICAgICAgICBfYltGT1JNQVRTLlJHQkFfSU5URUdFUl0gPSBnbC5SR0JBOFVJLFxuICAgICAgICAgICAgICAgIF9iW0ZPUk1BVFMuUkdCX0lOVEVHRVJdID0gZ2wuUkdCOFVJLFxuICAgICAgICAgICAgICAgIF9iW0ZPUk1BVFMuUkdfSU5URUdFUl0gPSBnbC5SRzhVSSxcbiAgICAgICAgICAgICAgICBfYltGT1JNQVRTLlJFRF9JTlRFR0VSXSA9IGdsLlI4VUksXG4gICAgICAgICAgICAgICAgX2JbRk9STUFUUy5BTFBIQV0gPSBnbC5BTFBIQSxcbiAgICAgICAgICAgICAgICBfYltGT1JNQVRTLkxVTUlOQU5DRV0gPSBnbC5MVU1JTkFOQ0UsXG4gICAgICAgICAgICAgICAgX2JbRk9STUFUUy5MVU1JTkFOQ0VfQUxQSEFdID0gZ2wuTFVNSU5BTkNFX0FMUEhBLFxuICAgICAgICAgICAgICAgIF9iKSxcbiAgICAgICAgICAgIF9hW1RZUEVTLkJZVEVdID0gKF9jID0ge30sXG4gICAgICAgICAgICAgICAgX2NbRk9STUFUUy5SR0JBXSA9IGdsLlJHQkE4X1NOT1JNLFxuICAgICAgICAgICAgICAgIF9jW0ZPUk1BVFMuUkdCXSA9IGdsLlJHQjhfU05PUk0sXG4gICAgICAgICAgICAgICAgX2NbRk9STUFUUy5SR10gPSBnbC5SRzhfU05PUk0sXG4gICAgICAgICAgICAgICAgX2NbRk9STUFUUy5SRURdID0gZ2wuUjhfU05PUk0sXG4gICAgICAgICAgICAgICAgX2NbRk9STUFUUy5SR0JBX0lOVEVHRVJdID0gZ2wuUkdCQThJLFxuICAgICAgICAgICAgICAgIF9jW0ZPUk1BVFMuUkdCX0lOVEVHRVJdID0gZ2wuUkdCOEksXG4gICAgICAgICAgICAgICAgX2NbRk9STUFUUy5SR19JTlRFR0VSXSA9IGdsLlJHOEksXG4gICAgICAgICAgICAgICAgX2NbRk9STUFUUy5SRURfSU5URUdFUl0gPSBnbC5SOEksXG4gICAgICAgICAgICAgICAgX2MpLFxuICAgICAgICAgICAgX2FbVFlQRVMuVU5TSUdORURfU0hPUlRdID0gKF9kID0ge30sXG4gICAgICAgICAgICAgICAgX2RbRk9STUFUUy5SR0JBX0lOVEVHRVJdID0gZ2wuUkdCQTE2VUksXG4gICAgICAgICAgICAgICAgX2RbRk9STUFUUy5SR0JfSU5URUdFUl0gPSBnbC5SR0IxNlVJLFxuICAgICAgICAgICAgICAgIF9kW0ZPUk1BVFMuUkdfSU5URUdFUl0gPSBnbC5SRzE2VUksXG4gICAgICAgICAgICAgICAgX2RbRk9STUFUUy5SRURfSU5URUdFUl0gPSBnbC5SMTZVSSxcbiAgICAgICAgICAgICAgICBfZFtGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVF0gPSBnbC5ERVBUSF9DT01QT05FTlQxNixcbiAgICAgICAgICAgICAgICBfZCksXG4gICAgICAgICAgICBfYVtUWVBFUy5TSE9SVF0gPSAoX2UgPSB7fSxcbiAgICAgICAgICAgICAgICBfZVtGT1JNQVRTLlJHQkFfSU5URUdFUl0gPSBnbC5SR0JBMTZJLFxuICAgICAgICAgICAgICAgIF9lW0ZPUk1BVFMuUkdCX0lOVEVHRVJdID0gZ2wuUkdCMTZJLFxuICAgICAgICAgICAgICAgIF9lW0ZPUk1BVFMuUkdfSU5URUdFUl0gPSBnbC5SRzE2SSxcbiAgICAgICAgICAgICAgICBfZVtGT1JNQVRTLlJFRF9JTlRFR0VSXSA9IGdsLlIxNkksXG4gICAgICAgICAgICAgICAgX2UpLFxuICAgICAgICAgICAgX2FbVFlQRVMuVU5TSUdORURfSU5UXSA9IChfZiA9IHt9LFxuICAgICAgICAgICAgICAgIF9mW0ZPUk1BVFMuUkdCQV9JTlRFR0VSXSA9IGdsLlJHQkEzMlVJLFxuICAgICAgICAgICAgICAgIF9mW0ZPUk1BVFMuUkdCX0lOVEVHRVJdID0gZ2wuUkdCMzJVSSxcbiAgICAgICAgICAgICAgICBfZltGT1JNQVRTLlJHX0lOVEVHRVJdID0gZ2wuUkczMlVJLFxuICAgICAgICAgICAgICAgIF9mW0ZPUk1BVFMuUkVEX0lOVEVHRVJdID0gZ2wuUjMyVUksXG4gICAgICAgICAgICAgICAgX2ZbRk9STUFUUy5ERVBUSF9DT01QT05FTlRdID0gZ2wuREVQVEhfQ09NUE9ORU5UMjQsXG4gICAgICAgICAgICAgICAgX2YpLFxuICAgICAgICAgICAgX2FbVFlQRVMuSU5UXSA9IChfZyA9IHt9LFxuICAgICAgICAgICAgICAgIF9nW0ZPUk1BVFMuUkdCQV9JTlRFR0VSXSA9IGdsLlJHQkEzMkksXG4gICAgICAgICAgICAgICAgX2dbRk9STUFUUy5SR0JfSU5URUdFUl0gPSBnbC5SR0IzMkksXG4gICAgICAgICAgICAgICAgX2dbRk9STUFUUy5SR19JTlRFR0VSXSA9IGdsLlJHMzJJLFxuICAgICAgICAgICAgICAgIF9nW0ZPUk1BVFMuUkVEX0lOVEVHRVJdID0gZ2wuUjMySSxcbiAgICAgICAgICAgICAgICBfZyksXG4gICAgICAgICAgICBfYVtUWVBFUy5GTE9BVF0gPSAoX2ggPSB7fSxcbiAgICAgICAgICAgICAgICBfaFtGT1JNQVRTLlJHQkFdID0gZ2wuUkdCQTMyRixcbiAgICAgICAgICAgICAgICBfaFtGT1JNQVRTLlJHQl0gPSBnbC5SR0IzMkYsXG4gICAgICAgICAgICAgICAgX2hbRk9STUFUUy5SR10gPSBnbC5SRzMyRixcbiAgICAgICAgICAgICAgICBfaFtGT1JNQVRTLlJFRF0gPSBnbC5SMzJGLFxuICAgICAgICAgICAgICAgIF9oW0ZPUk1BVFMuREVQVEhfQ09NUE9ORU5UXSA9IGdsLkRFUFRIX0NPTVBPTkVOVDMyRixcbiAgICAgICAgICAgICAgICBfaCksXG4gICAgICAgICAgICBfYVtUWVBFUy5IQUxGX0ZMT0FUXSA9IChfaiA9IHt9LFxuICAgICAgICAgICAgICAgIF9qW0ZPUk1BVFMuUkdCQV0gPSBnbC5SR0JBMTZGLFxuICAgICAgICAgICAgICAgIF9qW0ZPUk1BVFMuUkdCXSA9IGdsLlJHQjE2RixcbiAgICAgICAgICAgICAgICBfaltGT1JNQVRTLlJHXSA9IGdsLlJHMTZGLFxuICAgICAgICAgICAgICAgIF9qW0ZPUk1BVFMuUkVEXSA9IGdsLlIxNkYsXG4gICAgICAgICAgICAgICAgX2opLFxuICAgICAgICAgICAgX2FbVFlQRVMuVU5TSUdORURfU0hPUlRfNV82XzVdID0gKF9rID0ge30sXG4gICAgICAgICAgICAgICAgX2tbRk9STUFUUy5SR0JdID0gZ2wuUkdCNTY1LFxuICAgICAgICAgICAgICAgIF9rKSxcbiAgICAgICAgICAgIF9hW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzRfNF80XzRdID0gKF9sID0ge30sXG4gICAgICAgICAgICAgICAgX2xbRk9STUFUUy5SR0JBXSA9IGdsLlJHQkE0LFxuICAgICAgICAgICAgICAgIF9sKSxcbiAgICAgICAgICAgIF9hW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNV81XzFdID0gKF9tID0ge30sXG4gICAgICAgICAgICAgICAgX21bRk9STUFUUy5SR0JBXSA9IGdsLlJHQjVfQTEsXG4gICAgICAgICAgICAgICAgX20pLFxuICAgICAgICAgICAgX2FbVFlQRVMuVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWXSA9IChfbyA9IHt9LFxuICAgICAgICAgICAgICAgIF9vW0ZPUk1BVFMuUkdCQV0gPSBnbC5SR0IxMF9BMixcbiAgICAgICAgICAgICAgICBfb1tGT1JNQVRTLlJHQkFfSU5URUdFUl0gPSBnbC5SR0IxMF9BMlVJLFxuICAgICAgICAgICAgICAgIF9vKSxcbiAgICAgICAgICAgIF9hW1RZUEVTLlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVZdID0gKF9wID0ge30sXG4gICAgICAgICAgICAgICAgX3BbRk9STUFUUy5SR0JdID0gZ2wuUjExRl9HMTFGX0IxMEYsXG4gICAgICAgICAgICAgICAgX3ApLFxuICAgICAgICAgICAgX2FbVFlQRVMuVU5TSUdORURfSU5UXzVfOV85XzlfUkVWXSA9IChfcSA9IHt9LFxuICAgICAgICAgICAgICAgIF9xW0ZPUk1BVFMuUkdCXSA9IGdsLlJHQjlfRTUsXG4gICAgICAgICAgICAgICAgX3EpLFxuICAgICAgICAgICAgX2FbVFlQRVMuVU5TSUdORURfSU5UXzI0XzhdID0gKF9yID0ge30sXG4gICAgICAgICAgICAgICAgX3JbRk9STUFUUy5ERVBUSF9TVEVOQ0lMXSA9IGdsLkRFUFRIMjRfU1RFTkNJTDgsXG4gICAgICAgICAgICAgICAgX3IpLFxuICAgICAgICAgICAgX2FbVFlQRVMuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWXSA9IChfcyA9IHt9LFxuICAgICAgICAgICAgICAgIF9zW0ZPUk1BVFMuREVQVEhfU1RFTkNJTF0gPSBnbC5ERVBUSDMyRl9TVEVOQ0lMOCxcbiAgICAgICAgICAgICAgICBfcyksXG4gICAgICAgICAgICBfYSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YWJsZSA9IChfdCA9IHt9LFxuICAgICAgICAgICAgX3RbVFlQRVMuVU5TSUdORURfQllURV0gPSAoX3UgPSB7fSxcbiAgICAgICAgICAgICAgICBfdVtGT1JNQVRTLlJHQkFdID0gZ2wuUkdCQSxcbiAgICAgICAgICAgICAgICBfdVtGT1JNQVRTLlJHQl0gPSBnbC5SR0IsXG4gICAgICAgICAgICAgICAgX3VbRk9STUFUUy5BTFBIQV0gPSBnbC5BTFBIQSxcbiAgICAgICAgICAgICAgICBfdVtGT1JNQVRTLkxVTUlOQU5DRV0gPSBnbC5MVU1JTkFOQ0UsXG4gICAgICAgICAgICAgICAgX3VbRk9STUFUUy5MVU1JTkFOQ0VfQUxQSEFdID0gZ2wuTFVNSU5BTkNFX0FMUEhBLFxuICAgICAgICAgICAgICAgIF91KSxcbiAgICAgICAgICAgIF90W1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNl81XSA9IChfdiA9IHt9LFxuICAgICAgICAgICAgICAgIF92W0ZPUk1BVFMuUkdCXSA9IGdsLlJHQixcbiAgICAgICAgICAgICAgICBfdiksXG4gICAgICAgICAgICBfdFtUWVBFUy5VTlNJR05FRF9TSE9SVF80XzRfNF80XSA9IChfdyA9IHt9LFxuICAgICAgICAgICAgICAgIF93W0ZPUk1BVFMuUkdCQV0gPSBnbC5SR0JBLFxuICAgICAgICAgICAgICAgIF93KSxcbiAgICAgICAgICAgIF90W1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNV81XzFdID0gKF94ID0ge30sXG4gICAgICAgICAgICAgICAgX3hbRk9STUFUUy5SR0JBXSA9IGdsLlJHQkEsXG4gICAgICAgICAgICAgICAgX3gpLFxuICAgICAgICAgICAgX3QpO1xuICAgIH1cbiAgICByZXR1cm4gdGFibGU7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgdGV4dHVyZSBmb3IgV2ViR0wgY29udGV4dC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHTFRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IC0xO1xuICAgICAgICB0aGlzLmhlaWdodCA9IC0xO1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAtMTtcbiAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQgPSAtMTtcbiAgICAgICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53cmFwTW9kZSA9IDMzMDcxO1xuICAgICAgICB0aGlzLnR5cGUgPSBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgICAgICB0aGlzLmludGVybmFsRm9ybWF0ID0gRk9STUFUUy5SR0JBO1xuICAgICAgICB0aGlzLnNhbXBsZXJUeXBlID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIEdMVGV4dHVyZTtcbn0oKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmVzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLy8gVE9ETyBzZXQgdG8gbWF4IHRleHR1cmVzLi4uXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuICAgICAgICB0aGlzLm1hbmFnZWRUZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVua25vd25UZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgICAgIHRoaXMuaGFzSW50ZWdlclRleHR1cmVzID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy4gKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbjtcbiAgICAgICAgdGhpcy5pbnRlcm5hbEZvcm1hdHMgPSBtYXBUeXBlQW5kRm9ybWF0VG9JbnRlcm5hbEZvcm1hdChnbCk7XG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGggPSBtYXhUZXh0dXJlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzLi4gdG8gYSBuaWNlIG1ha2UgZW1wdHkgdGV4dHVyZXMgY2xhc3MuLlxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSB7fTtcbiAgICAgICAgdmFyIGVtcHR5VGV4dHVyZTJEID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBlbXB0eVRleHR1cmUyRC50ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheSg0KSk7XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXSA9IGVtcHR5VGV4dHVyZTJEO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0gPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXS50ZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaSwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIGEgdGV4dHVyZSB0byBhIHNwZWNpZmljIGxvY2F0aW9uXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byB1bmJpbmQgc29tZXRoaW5nLCBwbGVhc2UgdXNlIGB1bmJpbmQodGV4dHVyZSlgIGluc3RlYWQgb2YgYGJpbmQobnVsbCwgdGV4dHVyZUxvY2F0aW9uKWBcbiAgICAgKiBAcGFyYW0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24gPT09IHZvaWQgMCkgeyBsb2NhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUgPT09IG51bGwgfHwgdGV4dHVyZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGV4dHVyZS5jYXN0VG9CYXNlVGV4dHVyZSgpO1xuICAgICAgICAvLyBjYW5ub3QgYmluZCBwYXJ0aWFsIHRleHR1cmVcbiAgICAgICAgLy8gVE9ETzogcmVwb3J0IGEgd2FybmluZ1xuICAgICAgICBpZiAodGV4dHVyZSAmJiB0ZXh0dXJlLnZhbGlkICYmICF0ZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSkge1xuICAgICAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG4gICAgICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gIT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgIT09IHRleHR1cmUuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCAhPT0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogUmVzZXRzIHRleHR1cmUgbG9jYXRpb24gYW5kIGJvdW5kIHRleHR1cmVzIEFjdHVhbCBgYmluZChudWxsLCBpKWAgY2FsbHMgd2lsbCBiZSBwZXJmb3JtZWQgYXQgbmV4dCBgdW5iaW5kKClgIGNhbGwgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSB0cnVlO1xuICAgICAgICB0aGlzLmhhc0ludGVnZXJUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGhpcy51bmtub3duVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5iaW5kIGEgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGJvdW5kVGV4dHVyZXMgPSBfYS5ib3VuZFRleHR1cmVzO1xuICAgICAgICBpZiAodGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBzb21lb25lIGNoYW5nZWQgd2ViR0wgc3RhdGUsXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGJlIHN1cmUgdGhhdCBvdXIgdGV4dHVyZSBkb2VzIG5vdCBhcHBlYXIgaW4gbXVsdGktdGV4dHVyZSByZW5kZXJlciBzYW1wbGVyc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRoaXMudW5rbm93blRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZSh0ZXh0dXJlLnRhcmdldCwgdGhpcy5lbXB0eVRleHR1cmVzW3RleHR1cmUudGFyZ2V0XS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IGN1cnJlbnQgYm91bmRUZXh0dXJlcyBhbGwgaGF2ZSBGTE9BVCBzYW1wbGVyIHR5cGUsXG4gICAgICogc2VlIHtAbGluayBQSVhJLlNBTVBMRVJfVFlQRVN9IGZvciBleHBsYW5hdGlvbi5cbiAgICAgKiBAcGFyYW0gbWF4VGV4dHVyZXMgLSBudW1iZXIgb2YgbG9jYXRpb25zIHRvIGNoZWNrXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuZW5zdXJlU2FtcGxlclR5cGUgPSBmdW5jdGlvbiAobWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgYm91bmRUZXh0dXJlcyA9IF9hLmJvdW5kVGV4dHVyZXMsIGhhc0ludGVnZXJUZXh0dXJlcyA9IF9hLmhhc0ludGVnZXJUZXh0dXJlcywgQ09OVEVYVF9VSUQgPSBfYS5DT05URVhUX1VJRDtcbiAgICAgICAgaWYgKCFoYXNJbnRlZ2VyVGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gbWF4VGV4dHVyZXMgLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgdmFyIHRleCA9IGJvdW5kVGV4dHVyZXNbaV07XG4gICAgICAgICAgICBpZiAodGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleC5fZ2xUZXh0dXJlc1tDT05URVhUX1VJRF07XG4gICAgICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS5zYW1wbGVyVHlwZSAhPT0gU0FNUExFUl9UWVBFUy5GTE9BVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKHRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgdGV4dHVyZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcbiAgICAgICAgLy8gZ3VhcmFudGVlIGFuIHVwZGF0ZS4uXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gLTE7XG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIHRleHR1cmUub24oJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlVHlwZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gKF9iID0gKF9hID0gdGhpcy5pbnRlcm5hbEZvcm1hdHNbdGV4dHVyZS50eXBlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3RleHR1cmUuZm9ybWF0XSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGV4dHVyZS5mb3JtYXQ7XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMiAmJiB0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpIHtcbiAgICAgICAgICAgIC8vIFRZUEVTLkhBTEZfRkxPQVQgaXMgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGNvbnZlcnQgaXQgdG8gV2ViR0wgSEFMRl9GTE9BVFxuICAgICAgICAgICAgZ2xUZXh0dXJlLnR5cGUgPSB0aGlzLmdsLkhBTEZfRkxPQVQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUudHlwZSA9IHRleHR1cmUudHlwZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgdGV4dHVyZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHRoaXMuaW5pdFRleHR1cmVUeXBlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKSB7XG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIHVwbG9hZGVkLCBkb250IGRvIGFueXRoaW5nIVxuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS5zYW1wbGVyVHlwZSAhPT0gU0FNUExFUl9UWVBFUy5GTE9BVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW50ZWdlclRleHR1cmVzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQsIHJlbmRlclRleHR1cmUtbGlrZSBsb2dpY1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5oZWlnaHQgIT09IGhlaWdodFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRCh0ZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0ZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIFtza2lwUmVtb3ZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2tpcCByZW1vdmluZyB0aGUgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlTWFuYWdlci5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZCh0ZXh0dXJlKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRleHR1cmUgc3R5bGUgc3VjaCBhcyBtaXBtYXAgZmxhZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlU3R5bGUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRleHR1cmUubWlwbWFwID09PSBNSVBNQVBfTU9ERVMuUE9XMiB8fCB0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gdGV4dHVyZS5taXBtYXAgPj0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpIDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5U3R5bGVJZCA9IHRleHR1cmUuZGlydHlTdHlsZUlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHN0eWxlIGZvciB0ZXh0dXJlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIGdsVGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gKHRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcCAmJiB0ZXh0dXJlLm1pcG1hcCAhPT0gTUlQTUFQX01PREVTLk9OX01BTlVBTCkge1xuICAgICAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAodGV4dHVyZS50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfVCwgZ2xUZXh0dXJlLndyYXBNb2RlKTtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXApIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSIDogZ2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB2YXIgYW5pc290cm9waWNFeHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5hbmlzb3Ryb3BpY0ZpbHRlcmluZztcbiAgICAgICAgICAgIGlmIChhbmlzb3Ryb3BpY0V4dCAmJiB0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwgPiAwICYmIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWwgPSBNYXRoLm1pbih0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwsIGdsLmdldFBhcmFtZXRlcihhbmlzb3Ryb3BpY0V4dC5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKTtcbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKHRleHR1cmUudGFyZ2V0LCBhbmlzb3Ryb3BpY0V4dC5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCwgbGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgfTtcbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlU3lzdGVtO1xufSgpKTtcblxudmFyIF9zeXN0ZW1zID0ge1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBGaWx0ZXJTeXN0ZW06IEZpbHRlclN5c3RlbSxcbiAgICBCYXRjaFN5c3RlbTogQmF0Y2hTeXN0ZW0sXG4gICAgQ29udGV4dFN5c3RlbTogQ29udGV4dFN5c3RlbSxcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbTogRnJhbWVidWZmZXJTeXN0ZW0sXG4gICAgR2VvbWV0cnlTeXN0ZW06IEdlb21ldHJ5U3lzdGVtLFxuICAgIE1hc2tTeXN0ZW06IE1hc2tTeXN0ZW0sXG4gICAgU2Npc3NvclN5c3RlbTogU2Npc3NvclN5c3RlbSxcbiAgICBTdGVuY2lsU3lzdGVtOiBTdGVuY2lsU3lzdGVtLFxuICAgIFByb2plY3Rpb25TeXN0ZW06IFByb2plY3Rpb25TeXN0ZW0sXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcbiAgICBTaGFkZXJTeXN0ZW06IFNoYWRlclN5c3RlbSxcbiAgICBTdGF0ZVN5c3RlbTogU3RhdGVTeXN0ZW0sXG4gICAgVGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG4gICAgVGV4dHVyZVN5c3RlbTogVGV4dHVyZVN5c3RlbVxufTtcblxudmFyIHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4vKipcbiAqIFRoZSBBYnN0cmFjdFJlbmRlcmVyIGlzIHRoZSBiYXNlIGZvciBhIFBpeGlKUyBSZW5kZXJlci4gSXQgaXMgZXh0ZW5kZWQgYnkgdGhlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICogYW5kIHtAbGluayBQSVhJLlJlbmRlcmVyfSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIGEgUGl4aUpTIHNjZW5lLlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWJzdHJhY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSByZW5kZXJlciB0eXBlLlxuICAgICAqIEBwYXJhbSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VDb250ZXh0QWxwaGE9dHJ1ZV0gLSBQYXNzLXRocm91Z2ggdmFsdWUgZm9yIGNhbnZhcycgY29udGV4dCBgYWxwaGFgIHByb3BlcnR5LlxuICAgICAqICAgSWYgeW91IHdhbnQgdG8gc2V0IHRyYW5zcGFyZW5jeSwgcGxlYXNlIHVzZSBgYmFja2dyb3VuZEFscGhhYC4gVGhpcyBvcHRpb24gaXMgZm9yIGNhc2VzIHdoZXJlIHRoZVxuICAgICAqICAgY2FudmFzIG5lZWRzIHRvIGJlIG9wYXF1ZSwgcG9zc2libHkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgb24gc29tZSBvbGRlciBkZXZpY2VzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gICAgICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDEuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gU2V0cyBhbnRpYWxpYXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLlJFU09MVVRJT05dIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgICAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE9MV0gLSBWYWx1ZSBmcm9tIDAgKGZ1bGx5IHRyYW5zcGFyZW50KSB0byAxIChmdWxseSBvcGFxdWUpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0UmVuZGVyZXIodHlwZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLy8gQWRkIHRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncy5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3VwcGxpZWQgY29uc3RydWN0b3Igb3B0aW9ucy5cbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuUkVOREVSRVJfVFlQRS5VTktOT1dOXG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1lYXN1cmVtZW50cyBvZiB0aGUgc2NyZWVuLiAoMCwgMCwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0cyBzYWZlIHRvIHVzZSBhcyBmaWx0ZXJBcmVhIG9yIGhpdEFyZWEgZm9yIHRoZSB3aG9sZSBzdGFnZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY3JlZW4gPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG8uXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlldyA9IG9wdGlvbnMudmlldyB8fCBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFzcy10aHJ1IHNldHRpbmcgZm9yIHRoZSBjYW52YXMnIGNvbnRleHQgYGFscGhhYCBwcm9wZXJ0eS4gVGhpcyBpcyB0eXBpY2FsbHlcbiAgICAgICAgICogbm90IHNvbWV0aGluZyB5b3UgbmVlZCB0byBmaWRkbGUgd2l0aC4gSWYgeW91IHdhbnQgdHJhbnNwYXJlbmN5LCB1c2UgYGJhY2tncm91bmRBbHBoYWAuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VDb250ZXh0QWxwaGEgPSBvcHRpb25zLnVzZUNvbnRleHRBbHBoYTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgQ1NTIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9EZW5zaXR5ID0gISFvcHRpb25zLmF1dG9EZW5zaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoZSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgZmxhZyBhZmZlY3RzIHdoZXRoZXIgb3Igbm90IHRoZSBjb250ZW50cyBvZlxuICAgICAgICAgKiB0aGUgc3RlbmNpbCBidWZmZXIgaXMgcmV0YWluZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNldHMgaWYgdGhlIENhbnZhc1JlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICAgICAqIElmIHRoZSBzY2VuZSBpcyBOT1QgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGEgY2FudmFzIHNpemVkIGZpbGxSZWN0IG9wZXJhdGlvbiBldmVyeVxuICAgICAgICAgKiBmcmFtZSB0byBzZXQgdGhlIGNhbnZhcyBiYWNrZ3JvdW5kIGNvbG9yLiBJZiB0aGUgc2NlbmUgaXMgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGNsZWFyUmVjdFxuICAgICAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGV2ZXJ5IGZyYW1lLiBEaXNhYmxlIHRoaXMgYnkgc2V0dGluZyB0aGlzIHRvIGZhbHNlLiBGb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICogeW91ciBnYW1lIGhhcyBhIGNhbnZhcyBmaWxsaW5nIGJhY2tncm91bmQgaW1hZ2UgeW91IG9mdGVuIGRvbid0IG5lZWQgdGhpcyBzZXQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQiwgQV0gYXJyYXkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAxXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgc3RyaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAnIzAwMDAwMCc7XG4gICAgICAgIF90aGlzLmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8IF90aGlzLl9iYWNrZ3JvdW5kQ29sb3I7IC8vIHJ1biBiZyBjb2xvciBzZXR0ZXJcbiAgICAgICAgX3RoaXMuYmFja2dyb3VuZEFscGhhID0gb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE7XG4gICAgICAgIC8vIEBkZXByZWNhdGVkXG4gICAgICAgIGlmIChvcHRpb25zLnRyYW5zcGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc2LjAuMCcsICdPcHRpb24gdHJhbnNwYXJlbnQgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBiYWNrZ3JvdW5kQWxwaGEgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIF90aGlzLnVzZUNvbnRleHRBbHBoYSA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQWxwaGEgPSBvcHRpb25zLnRyYW5zcGFyZW50ID8gMCA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHJvb3Qgb2JqZWN0IHRoYXQgdGhlIHJlbmRlcmVyIHRyaWVkIHRvIHJlbmRlci5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcGx1Z2lucy5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbnMgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW5zLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gKHN0YXRpY01hcCkge1xuICAgICAgICBmb3IgKHZhciBvIGluIHN0YXRpY01hcCkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IChzdGF0aWNNYXBbb10pKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWwuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IDgwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvbiBhbmQgcm91bmRlZCB0byB0aGUgbmVhcmVzdCBpbnRlZ2Vycy5cbiAgICAgKiBUaGUgbmV3IGNhbnZhcyBkaW1lbnNpb25zIGRpdmlkZWQgYnkgdGhlIHJlc29sdXRpb24gYmVjb21lIHRoZSBuZXcgc2NyZWVuIGRpbWVuc2lvbnMuXG4gICAgICogQHBhcmFtIGRlc2lyZWRTY3JlZW5XaWR0aCAtIFRoZSBkZXNpcmVkIHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIGRlc2lyZWRTY3JlZW5IZWlnaHQgLSBUaGUgZGVzaXJlZCBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IE1hdGgucm91bmQoZGVzaXJlZFNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy52aWV3LmhlaWdodCA9IE1hdGgucm91bmQoZGVzaXJlZFNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgIHZhciBzY3JlZW5XaWR0aCA9IHRoaXMudmlldy53aWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHNjcmVlbkhlaWdodCA9IHRoaXMudmlldy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuc2NyZWVuLndpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgICAgIHRoaXMuc2NyZWVuLmhlaWdodCA9IHNjcmVlbkhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuYXV0b0RlbnNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgdmlldyBoYXMgYmVlbiByZXNpemVkLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNyZXNpemVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgncmVzaXplJywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIG9wdGlvbnMsIHJlc29sdXRpb24sIHJlZ2lvbikge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBAZGVwcmVjYXRlZCBwYXJhbWV0ZXJzIHNwcmVhZCwgdXNlIG9wdGlvbnMgaW5zdGVhZFxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNi4xLjAnLCAnZ2VuZXJhdGVUZXh0dXJlIG9wdGlvbnMgKHNjYWxlTW9kZSwgcmVzb2x1dGlvbiwgcmVnaW9uKSBhcmUgbm93IG9iamVjdCBvcHRpb25zLicpO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgc2NhbGVNb2RlOiBvcHRpb25zLCByZXNvbHV0aW9uOiByZXNvbHV0aW9uLCByZWdpb246IHJlZ2lvbiB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYW51YWxSZWdpb24gPSBvcHRpb25zLnJlZ2lvbiwgdGV4dHVyZU9wdGlvbnMgPSBfX3Jlc3Qob3B0aW9ucywgW1wicmVnaW9uXCJdKTtcbiAgICAgICAgcmVnaW9uID0gbWFudWFsUmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIG1pbmltdW0gdGV4dHVyZSBzaXplIGlzIDF4MSwgMHgwIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgaWYgKHJlZ2lvbi53aWR0aCA9PT0gMClcbiAgICAgICAgICAgIHsgcmVnaW9uLndpZHRoID0gMTsgfVxuICAgICAgICBpZiAocmVnaW9uLmhlaWdodCA9PT0gMClcbiAgICAgICAgICAgIHsgcmVnaW9uLmhlaWdodCA9IDE7IH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShfX2Fzc2lnbih7IHdpZHRoOiByZWdpb24ud2lkdGgsIGhlaWdodDogcmVnaW9uLmhlaWdodCB9LCB0ZXh0dXJlT3B0aW9ucykpO1xuICAgICAgICB0ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgICAgICB0ZW1wTWF0cml4LnR5ID0gLXJlZ2lvbi55O1xuICAgICAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlOiByZW5kZXJUZXh0dXJlLFxuICAgICAgICAgICAgY2xlYXI6IGZhbHNlLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0ZW1wTWF0cml4LFxuICAgICAgICAgICAgc2tpcFVwZGF0ZVRyYW5zZm9ybTogISFkaXNwbGF5T2JqZWN0LnBhcmVudFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0FueSA9IHRoaXM7XG4gICAgICAgIC8vIG51bGwtaW5nIGFsbCBvYmplY3RzLCB0aGF0J3MgYSB0cmFkaXRpb24hXG4gICAgICAgIHRoaXNBbnkucGx1Z2lucyA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcbiAgICAgICAgdGhpc0FueS52aWV3ID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5zY3JlZW4gPSBudWxsO1xuICAgICAgICB0aGlzQW55Ll90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkub3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImJhY2tncm91bmRDb2xvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IGhleDJzdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIFwiYmFja2dyb3VuZEFscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFscGhhLiBTZXR0aW5nIHRoaXMgdG8gMCB3aWxsIG1ha2UgdGhlIGNhbnZhcyB0cmFuc3BhcmVudC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYVszXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmFbM10gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBYnN0cmFjdFJlbmRlcmVyO1xufShFdmVudEVtaXR0ZXIpKTtcblxudmFyIEdMQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdMQnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlciB8fCBudWxsO1xuICAgICAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IC0xO1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIEdMQnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYnVmZmVycy5cbiAqXG4gKiBXZWJHTCB1c2VzIEJ1ZmZlcnMgYXMgYSB3YXkgdG8gc3RvcmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICogVGhpcyBzeXN0ZW0gbWFrZXMgd29ya2luZyB3aXRoIHRoZW0gYSBsb3QgZWFzaWVyLlxuICpcbiAqIEJ1ZmZlcnMgYXJlIHVzZWQgaW4gdGhyZWUgbWFpbiBwbGFjZXMgaW4gV2ViR0xcbiAqIC0gZ2VvbWV0cnkgaW5mb3JtYXRpb25cbiAqIC0gVW5pZm9ybSBpbmZvcm1hdGlvbiAodmlhIHVuaWZvcm0gYnVmZmVyIG9iamVjdHMgLSBhIFdlYkdMIDIgb25seSBmZWF0dXJlKVxuICogLSBUcmFuc2Zvcm0gZmVlZGJhY2sgaW5mb3JtYXRpb24uIChXZWJHTCAyIG9ubHkgZmVhdHVyZSlcbiAqXG4gKiBUaGlzIHN5c3RlbSB3aWxsIGhhbmRsZSB0aGUgYmluZGluZyBvZiBidWZmZXJzIHRvIHRoZSBHUFUgYXMgd2VsbCBhcyB1cGxvYWRpbmdcbiAqIHRoZW0uIFdpdGggdGhpcyBzeXN0ZW0sIHlvdSBuZXZlciBuZWVkIHRvIHdvcmsgZGlyZWN0bHkgd2l0aCBHUFUgYnVmZmVycywgYnV0IGluc3RlYWQgd29yayB3aXRoXG4gKiB0aGUgUElYSS5CdWZmZXIgY2xhc3MuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCdWZmZXJTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVmZmVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgICAgICB0aGlzLmJvdW5kQnVmZmVyQmFzZXMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIEJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKiogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuICovXG4gICAgQnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG4gICAgICAgIHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICAvLyBUT0RPIGZpbGwgb3V0Li4uXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBiaW5kcyBzcGVjaWZpZWQgYnVmZmVyLiBPbiBmaXJzdCBydW4sIGl0IHdpbGwgY3JlYXRlIHRoZSB3ZWJHTCBidWZmZXJzIGZvciB0aGUgY29udGV4dCB0b29cbiAgICAgKiBAcGFyYW0gYnVmZmVyIC0gdGhlIGJ1ZmZlciB0byBiaW5kIHRvIHRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgQ09OVEVYVF9VSUQgPSBfYS5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdIHx8IHRoaXMuY3JlYXRlR0xCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihidWZmZXIudHlwZSwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmRzIGFuIHVuaWZvcm0gYnVmZmVyIHRvIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgKlxuICAgICAqIEEgY2FjaGUgaXMgdXNlZCBzbyBhIGJ1ZmZlciB3aWxsIG5vdCBiZSBib3VuZCBhZ2FpbiBpZiBhbHJlYWR5IGJvdW5kLlxuICAgICAqIEBwYXJhbSBidWZmZXIgLSB0aGUgYnVmZmVyIHRvIGJpbmRcbiAgICAgKiBAcGFyYW0gaW5kZXggLSB0aGUgYmFzZSBpbmRleCB0byBiaW5kIGl0IHRvLlxuICAgICAqL1xuICAgIEJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmluZEJ1ZmZlckJhc2UgPSBmdW5jdGlvbiAoYnVmZmVyLCBpbmRleCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBDT05URVhUX1VJRCA9IF9hLkNPTlRFWFRfVUlEO1xuICAgICAgICBpZiAodGhpcy5ib3VuZEJ1ZmZlckJhc2VzW2luZGV4XSAhPT0gYnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0gfHwgdGhpcy5jcmVhdGVHTEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZEJ1ZmZlckJhc2VzW2luZGV4XSA9IGJ1ZmZlcjtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXJCYXNlKGdsLlVOSUZPUk1fQlVGRkVSLCBpbmRleCwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgYSBidWZmZXIgd2hpbHN0IGFsc28gYmluZGluZyBpdHMgcmFuZ2UuXG4gICAgICogVGhpcyB3aWxsIG1ha2UgdGhlIGJ1ZmZlciBzdGFydCBmcm9tIHRoZSBvZmZzZXQgc3VwcGxpZWQgcmF0aGVyIHRoYW4gMCB3aGVuIGl0IGlzIHJlYWQuXG4gICAgICogQHBhcmFtIGJ1ZmZlciAtIHRoZSBidWZmZXIgdG8gYmluZFxuICAgICAqIEBwYXJhbSBpbmRleCAtIHRoZSBiYXNlIGluZGV4IHRvIGJpbmQgYXQsIGRlZmF1bHRzIHRvIDBcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gdGhlIG9mZnNldCB0byBiaW5kIGF0ICh0aGlzIGlzIGJsb2NrcyBvZiAyNTYpLiAwID0gMCwgMSA9IDI1NiwgMiA9IDUxMiBldGNcbiAgICAgKi9cbiAgICBCdWZmZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmRCdWZmZXJSYW5nZSA9IGZ1bmN0aW9uIChidWZmZXIsIGluZGV4LCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgQ09OVEVYVF9VSUQgPSBfYS5DT05URVhUX1VJRDtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSB8fCB0aGlzLmNyZWF0ZUdMQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIGdsLmJpbmRCdWZmZXJSYW5nZShnbC5VTklGT1JNX0JVRkZFUiwgaW5kZXggfHwgMCwgZ2xCdWZmZXIuYnVmZmVyLCBvZmZzZXQgKiAyNTYsIDI1Nik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIGVuc3VyZSB0aGUgZGF0YSBpbiB0aGUgYnVmZmVyIGlzIHVwbG9hZGVkIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gYnVmZmVyIC0gdGhlIGJ1ZmZlciB0byB1cGRhdGVcbiAgICAgKi9cbiAgICBCdWZmZXJTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgQ09OVEVYVF9VSUQgPSBfYS5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCA9PT0gZ2xCdWZmZXIudXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbEJ1ZmZlci51cGRhdGVJRCA9IGJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoYnVmZmVyLnR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIG9mZnNldCBpcyBhbHdheXMgemVybyBmb3Igbm93IVxuICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShidWZmZXIudHlwZSwgMCwgYnVmZmVyLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuICAgICAgICAgICAgZ2xCdWZmZXIuYnl0ZUxlbmd0aCA9IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGJ1ZmZlci50eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSBidWZmZXIgLSBidWZmZXIgd2l0aCBkYXRhXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBCdWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoYnVmZmVyLCBjb250ZXh0TG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF07XG4gICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgICAgIGlmICghZ2xCdWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIoZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBkaXNwb3NlIGFsbCBXZWJHTCByZXNvdXJjZXMgb2YgYWxsIG1hbmFnZWQgYnVmZmVyc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGBnbC5kZWxldGVgIGNhbGxzXG4gICAgICovXG4gICAgQnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQWxsID0gZnVuY3Rpb24gKGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRCdWZmZXJzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSh0aGlzLm1hbmFnZWRCdWZmZXJzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBhbmQgYXR0YWNoZXMgYSBHTEJ1ZmZlciBvYmplY3QgdGllZCB0byB0aGUgY3VycmVudCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSBidWZmZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVHTEJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgQ09OVEVYVF9VSUQgPSBfYS5DT05URVhUX1VJRCwgZ2wgPSBfYS5nbDtcbiAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdID0gbmV3IEdMQnVmZmVyKGdsLmNyZWF0ZUJ1ZmZlcigpKTtcbiAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgIHJldHVybiBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF07XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyU3lzdGVtO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIFdlYkdMIGVuYWJsZWQgY2FudmFzLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgc2hvdWxkIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBXZWJHTC5cbiAqXG4gKiBUaGlzIHJlbmRlcmVyIHdvcmtzIGJ5IGF1dG9tYXRpY2FsbHkgbWFuYWdpbmcgV2ViR0xCYXRjaGVzbSwgc28gbm8gbmVlZCBmb3IgU3ByaXRlIEJhdGNoZXMgb3IgU3ByaXRlIENsb3Vkcy5cbiAqIERvbid0IGZvcmdldCB0byBhZGQgdGhlIHZpZXcgdG8geW91ciBET00gb3IgeW91IHdpbGwgbm90IHNlZSBhbnl0aGluZyFcbiAqXG4gKiBSZW5kZXJlciBpcyBjb21wb3NlZCBvZiBzeXN0ZW1zIHRoYXQgbWFuYWdlIHNwZWNpZmljIHRhc2tzLiBUaGUgZm9sbG93aW5nIHN5c3RlbXMgYXJlIGFkZGVkIGJ5IGRlZmF1bHRcbiAqIHdoZW5ldmVyIHlvdSBjcmVhdGUgYSByZW5kZXJlcjpcbiAqXG4gKiB8IFN5c3RlbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IERlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICogfCB7QGxpbmsgUElYSS5CYXRjaFN5c3RlbX0gICAgICAgICAgICAgfCBUaGlzIG1hbmFnZXMgb2JqZWN0IHJlbmRlcmVycyB0aGF0IGRlZmVyIHJlbmRlcmluZyB1bnRpbCBhIGZsdXNoLiAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkNvbnRleHRTeXN0ZW19ICAgICAgICAgICB8IFRoaXMgbWFuYWdlcyB0aGUgV2ViR0wgY29udGV4dCBhbmQgZXh0ZW5zaW9ucy4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuRXZlbnRTeXN0ZW19ICAgICAgICAgICAgIHwgVGhpcyBtYW5hZ2VzIFVJIGV2ZW50cy4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5GaWx0ZXJTeXN0ZW19ICAgICAgICAgICAgfCBUaGlzIG1hbmFnZXMgdGhlIGZpbHRlcmluZyBwaXBlbGluZSBmb3IgcG9zdC1wcm9jZXNzaW5nIGVmZmVjdHMuICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkZyYW1lYnVmZmVyU3lzdGVtfSAgICAgICB8IFRoaXMgbWFuYWdlcyBmcmFtZWJ1ZmZlcnMsIHdoaWNoIGFyZSB1c2VkIGZvciBvZmZzY3JlZW4gcmVuZGVyaW5nLiAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuR2VvbWV0cnlTeXN0ZW19ICAgICAgICAgIHwgVGhpcyBtYW5hZ2VzIGdlb21ldHJpZXMgJiBidWZmZXJzLCB3aGljaCBhcmUgdXNlZCB0byBkcmF3IG9iamVjdCBtZXNoZXMuICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5NYXNrU3lzdGVtfSAgICAgICAgICAgICAgfCBUaGlzIG1hbmFnZXMgbWFza2luZyBvcGVyYXRpb25zLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlByb2plY3Rpb25TeXN0ZW19ICAgICAgICB8IFRoaXMgbWFuYWdlcyB0aGUgYHByb2plY3Rpb25NYXRyaXhgLCB1c2VkIGJ5IHNoYWRlcnMgdG8gZ2V0IE5EQyBjb29yZGluYXRlcy4gIHxcbiAqIHwge0BsaW5rIFBJWEkuUmVuZGVyVGV4dHVyZVN5c3RlbX0gICAgIHwgVGhpcyBtYW5hZ2VzIHJlbmRlci10ZXh0dXJlcywgd2hpY2ggYXJlIGFuIGFic3RyYWN0aW9uIG92ZXIgZnJhbWVidWZmZXJzLiAgICAgfFxuICogfCB7QGxpbmsgUElYSS5TY2lzc29yU3lzdGVtfSAgICAgICAgICAgfCBUaGlzIGhhbmRsZXMgc2Npc3NvciBtYXNraW5nLCBhbmQgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHtAbGluayBNYXNrU3lzdGVtfSAgICB8XG4gKiB8IHtAbGluayBQSVhJLlNoYWRlclN5c3RlbX0gICAgICAgICAgICB8IFRoaXMgbWFuYWdlcyBzaGFkZXJzLCBwcm9ncmFtcyB0aGF0IHJ1biBvbiB0aGUgR1BVIHRvIGNhbGN1bGF0ZSAnZW0gcGl4ZWxzLiAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU3RhdGVTeXN0ZW19ICAgICAgICAgICAgIHwgVGhpcyBtYW5hZ2VzIHRoZSBXZWJHTCBzdGF0ZSB2YXJpYWJsZXMgbGlrZSBibGVuZCBtb2RlLCBkZXB0aCB0ZXN0aW5nLCBldGMuICAgfFxuICogfCB7QGxpbmsgUElYSS5TdGVuY2lsU3lzdGVtfSAgICAgICAgICAgfCBUaGlzIGhhbmRsZXMgc3RlbmNpbCBtYXNraW5nLCBhbmQgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHtAbGluayBNYXNrU3lzdGVtfSAgICB8XG4gKiB8IHtAbGluayBQSVhJLlRleHR1cmVTeXN0ZW19ICAgICAgICAgICB8IFRoaXMgbWFuYWdlcyB0ZXh0dXJlcyBhbmQgdGhlaXIgcmVzb3VyY2VzIG9uIHRoZSBHUFUuICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuVGV4dHVyZUdDU3lzdGVtfSAgICAgICAgIHwgVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRleHR1cmVzIGZyb20gdGhlIEdQVSBpZiB0aGV5IGFyZSBub3QgdXNlZC4gICAgfFxuICpcbiAqIFRoZSBicmVhZHRoIG9mIHRoZSBBUEkgc3VyZmFjZSBwcm92aWRlZCBieSB0aGUgcmVuZGVyZXIgaXMgY29udGFpbmVkIHdpdGhpbiB0aGVzZSBzeXN0ZW1zLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSBUaGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlQ29udGV4dEFscGhhPXRydWVdIC0gUGFzcy10aHJvdWdoIHZhbHVlIGZvciBjYW52YXMnIGNvbnRleHQgYGFscGhhYCBwcm9wZXJ0eS5cbiAgICAgKiAgIElmIHlvdSB3YW50IHRvIHNldCB0cmFuc3BhcmVuY3ksIHBsZWFzZSB1c2UgYGJhY2tncm91bmRBbHBoYWAuIFRoaXMgb3B0aW9uIGlzIGZvciBjYXNlcyB3aGVyZSB0aGVcbiAgICAgKiAgIGNhbnZhcyBuZWVkcyB0byBiZSBvcGFxdWUsIHBvc3NpYmx5IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIG9uIHNvbWUgb2xkZXIgZGV2aWNlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzLiBJZiBub3QgYXZhaWxhYmxlIG5hdGl2ZWx5IHRoZW4gRlhBQVxuICAgICAqICBhbnRpYWxpYXNpbmcgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLlJFU09MVVRJT05dIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXJcbiAgICAgKiAgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuIElmIHlvdSB3aXNoIHRvIHNldCB0aGlzIHRvIGZhbHNlLCB5b3UgKm11c3QqIHNldFxuICAgICAqICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgdG8gYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE9MV0gLSBWYWx1ZSBmcm9tIDAgKGZ1bGx5IHRyYW5zcGFyZW50KSB0byAxIChmdWxseSBvcGFxdWUpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byBXZWJHTCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmNvbnRleHRdIC0gSWYgV2ViR0wgY29udGV4dCBhbHJlYWR5IGV4aXN0cywgYWxsIHBhcmFtZXRlcnMgbXVzdCBiZSB0YWtlbiBmcm9tIGl0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgUkVOREVSRVJfVFlQRS5XRUJHTCwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLy8gdGhlIG9wdGlvbnMgd2lsbCBoYXZlIGJlZW4gbW9kaWZpZWQgaGVyZSBpbiB0aGUgc3VwZXIgY29uc3RydWN0b3Igd2l0aCBwaXhpJ3MgZGVmYXVsdCBzZXR0aW5ncy4uXG4gICAgICAgIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgICBfdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gMDtcbiAgICAgICAgX3RoaXMucnVubmVycyA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IG5ldyBSdW5uZXIoJ2Rlc3Ryb3knKSxcbiAgICAgICAgICAgIGNvbnRleHRDaGFuZ2U6IG5ldyBSdW5uZXIoJ2NvbnRleHRDaGFuZ2UnKSxcbiAgICAgICAgICAgIHJlc2V0OiBuZXcgUnVubmVyKCdyZXNldCcpLFxuICAgICAgICAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKSxcbiAgICAgICAgICAgIHBvc3RyZW5kZXI6IG5ldyBSdW5uZXIoJ3Bvc3RyZW5kZXInKSxcbiAgICAgICAgICAgIHByZXJlbmRlcjogbmV3IFJ1bm5lcigncHJlcmVuZGVyJyksXG4gICAgICAgICAgICByZXNpemU6IG5ldyBSdW5uZXIoJ3Jlc2l6ZScpLFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKF90aGlzKTtcbiAgICAgICAgX3RoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIF90aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAuYWRkU3lzdGVtKENvbnRleHRTeXN0ZW0sICdjb250ZXh0JylcbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RhdGVTeXN0ZW0sICdzdGF0ZScpXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVTeXN0ZW0sICd0ZXh0dXJlJylcbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQnVmZmVyU3lzdGVtLCAnYnVmZmVyJylcbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oR2VvbWV0cnlTeXN0ZW0sICdnZW9tZXRyeScpXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLmFkZFN5c3RlbShTY2lzc29yU3lzdGVtLCAnc2Npc3NvcicpXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0ZW5jaWxTeXN0ZW0sICdzdGVuY2lsJylcbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlR0NTeXN0ZW0sICd0ZXh0dXJlR0MnKVxuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLmFkZFN5c3RlbShSZW5kZXJUZXh0dXJlU3lzdGVtLCAncmVuZGVyVGV4dHVyZScpXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEJhdGNoU3lzdGVtLCAnYmF0Y2gnKTtcbiAgICAgICAgX3RoaXMuaW5pdFBsdWdpbnMoUmVuZGVyZXIuX19wbHVnaW5zKTtcbiAgICAgICAgX3RoaXMubXVsdGlzYW1wbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuaW5pdEZyb21Db250ZXh0KG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5jb250ZXh0LmluaXRGcm9tT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgYWxwaGE6ICEhX3RoaXMudXNlQ29udGV4dEFscGhhLFxuICAgICAgICAgICAgICAgIGFudGlhbGlhczogb3B0aW9ucy5hbnRpYWxpYXMsXG4gICAgICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBfdGhpcy51c2VDb250ZXh0QWxwaGEgJiYgX3RoaXMudXNlQ29udGV4dEFscGhhICE9PSAnbm90TXVsdGlwbGllZCcsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogX3RoaXMub3B0aW9ucy5wb3dlclByZWZlcmVuY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG4gICAgICAgIHNheUhlbGxvKF90aGlzLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyID8gJ1dlYkdMIDInIDogJ1dlYkdMIDEnKTtcbiAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLm9wdGlvbnMud2lkdGgsIF90aGlzLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcmVuZGVyZXIgaWYgV2ViR0wgaXMgYXZhaWxhYmxlLiBPdmVycmlkZWFibGVcbiAgICAgKiBieSB0aGUgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBwYWNrYWdlIHRvIGFsbG93IGZhbGxiYWNrLlxuICAgICAqIHRocm93cyBlcnJvciBpZiBXZWJHTCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJlci5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoaXNXZWJHTFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlbmRlcmVyKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgdW5zdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLCB1c2UgXCJwaXhpLmpzLWxlZ2FjeVwiIGZvciBmYWxsYmFjayBjYW52YXMyZCBzdXBwb3J0LicpO1xuICAgIH07XG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBzYW1wbGVzO1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLkZSQU1FQlVGRkVSX0JJTkRJTkcpO1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIHNhbXBsZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuU0FNUExFUyk7XG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IGdsLmdldFBhcmFtZXRlcihnbC5EUkFXX0ZSQU1FQlVGRkVSX0JJTkRJTkcpO1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkRSQVdfRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICAgICAgc2FtcGxlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5TQU1QTEVTKTtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5EUkFXX0ZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNhbXBsZXMgPj0gTVNBQV9RVUFMSVRZLkhJR0gpIHtcbiAgICAgICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuSElHSDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzYW1wbGVzID49IE1TQUFfUVVBTElUWS5NRURJVU0pIHtcbiAgICAgICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTUVESVVNO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNhbXBsZXMgPj0gTVNBQV9RVUFMSVRZLkxPVykge1xuICAgICAgICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5MT1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIG5ldyBzeXN0ZW0gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSBDbGFzc1JlZiAtIENsYXNzIHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSBuYW1lIC0gUHJvcGVydHkgbmFtZSBmb3Igc3lzdGVtLCBpZiBub3Qgc3BlY2lmaWVkXG4gICAgICogICAgICAgIHdpbGwgdXNlIGEgc3RhdGljIGBuYW1lYCBwcm9wZXJ0eSBvbiB0aGUgY2xhc3MgaXRzZWxmLiBUaGlzXG4gICAgICogICAgICAgIG5hbWUgd2lsbCBiZSBhc3NpZ25lZCBhcyBzIHByb3BlcnR5IG9uIHRoZSBSZW5kZXJlciBzbyBtYWtlXG4gICAgICogICAgICAgIHN1cmUgaXQgZG9lc24ndCBjb2xsaWRlIHdpdGggcHJvcGVydGllcyBvbiBSZW5kZXJlci5cbiAgICAgKiBAcmV0dXJucyBSZXR1cm4gaW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuYWRkU3lzdGVtID0gZnVuY3Rpb24gKENsYXNzUmVmLCBuYW1lKSB7XG4gICAgICAgIHZhciBzeXN0ZW0gPSBuZXcgQ2xhc3NSZWYodGhpcyk7XG4gICAgICAgIGlmICh0aGlzW25hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaG9vcHMhIFRoZSBuYW1lIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgaXMgYWxyZWFkeSBpbiB1c2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tuYW1lXSA9IHN5c3RlbTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnJ1bm5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tpXS5hZGQoc3lzdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYmVmb3JlIHJlbmRlcmluZyBzdGFydHMuXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3ByZXJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNjb250ZXh0XG4gICAgICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBjbGVhcjtcbiAgICAgICAgdmFyIHRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHNraXBVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNi4wLjAnLCAnUmVuZGVyZXIjcmVuZGVyIGFyZ3VtZW50cyBjaGFuZ2VkLCB1c2Ugb3B0aW9ucyBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIGNsZWFyID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgICAgICBza2lwVXBkYXRlVHJhbnNmb3JtID0gYXJndW1lbnRzWzRdO1xuICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gb3B0aW9ucy5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGNsZWFyID0gb3B0aW9ucy5jbGVhcjtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBza2lwVXBkYXRlVHJhbnNmb3JtID0gb3B0aW9ucy5za2lwVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNhbiBiZSBoYW5keSB0byBrbm93IVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gIXJlbmRlclRleHR1cmU7XG4gICAgICAgIHRoaXMucnVubmVycy5wcmVyZW5kZXIuZW1pdCgpO1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuICAgICAgICAvLyBhcHBseSBhIHRyYW5zZm9ybSBhdCBhIEdQVSBsZXZlbFxuICAgICAgICB0aGlzLnByb2plY3Rpb24udHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAvLyBubyBwb2ludCByZW5kZXJpbmcgaWYgb3VyIGNvbnRleHQgaGFzIGJlZW4gYmxvd24gdXAhXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuaXNMb3N0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgdmFyIGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5lbmFibGVUZW1wUGFyZW50KCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5kaXNhYmxlVGVtcFBhcmVudChjYWNoZVBhcmVudCk7XG4gICAgICAgICAgICAvLyBkaXNwbGF5T2JqZWN0LmhpdEFyZWEgPSAvL1RPRE8gYWRkIGEgdGVtcCBoaXQgYXJlYVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXIodGhpcyk7XG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucnVubmVycy5wb3N0cmVuZGVyLmVtaXQoKTtcbiAgICAgICAgLy8gcmVzZXQgdHJhbnNmb3JtIGFmdGVyIHJlbmRlclxuICAgICAgICB0aGlzLnByb2plY3Rpb24udHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBvcHRpb25zLCByZXNvbHV0aW9uLCByZWdpb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSBfc3VwZXIucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZS5jYWxsKHRoaXMsIGRpc3BsYXlPYmplY3QsIG9wdGlvbnMsIHJlc29sdXRpb24sIHJlZ2lvbik7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuYmxpdCgpO1xuICAgICAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU2NyZWVuV2lkdGggLSBUaGUgZGVzaXJlZCB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSBkZXNpcmVkU2NyZWVuSGVpZ2h0IC0gVGhlIGRlc2lyZWQgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChkZXNpcmVkU2NyZWVuV2lkdGgsIGRlc2lyZWRTY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLCBkZXNpcmVkU2NyZWVuV2lkdGgsIGRlc2lyZWRTY3JlZW5IZWlnaHQpO1xuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLmVtaXQodGhpcy5zY3JlZW4uaGVpZ2h0LCB0aGlzLnNjcmVlbi53aWR0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIFdlYkdMIHN0YXRlIHNvIHlvdSBjYW4gcmVuZGVyIHRoaW5ncyBob3dldmVyIHlvdSBmYW5jeSFcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNldC5lbWl0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqIENsZWFyIHRoZSBmcmFtZSBidWZmZXIuICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZCgpO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqIEBwYXJhbSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldykge1xuICAgICAgICB0aGlzLnJ1bm5lcnMuZGVzdHJveS5lbWl0KCk7XG4gICAgICAgIGZvciAodmFyIHIgaW4gdGhpcy5ydW5uZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbcl0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuICAgICAgICAvLyBUT0RPIG51bGxpZnkgYWxsIHRoZSBtYW5hZ2Vycy4uXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmVyLnByb3RvdHlwZSwgXCJleHRyYWN0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsZWFzZSB1c2UgYHBsdWdpbnMuZXh0cmFjdGAgaW5zdGVhZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5FeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDYuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNi4wLjAnLCAnUmVuZGVyZXIjZXh0cmFjdCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFJlbmRlcmVyI3BsdWdpbnMuZXh0cmFjdCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2lucy5leHRyYWN0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXNlIHRoZSB7QGxpbmsgUElYSS5leHRlbnNpb25zLmFkZH0gQVBJIHRvIHJlZ2lzdGVyIHBsdWdpbnMuXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNi41LjBcbiAgICAgKiBAcGFyYW0gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luTmFtZSwgY3Rvcikge1xuICAgICAgICBkZXByZWNhdGlvbignNi41LjAnLCAnUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oKSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGV4dGVuc2lvbnMuYWRkKCkgaW5zdGVhZC4nKTtcbiAgICAgICAgZXh0ZW5zaW9ucyQxLmFkZCh7XG4gICAgICAgICAgICBuYW1lOiBwbHVnaW5OYW1lLFxuICAgICAgICAgICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpbixcbiAgICAgICAgICAgIHJlZjogY3RvcixcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gICAgICogYnkgY3JlYXRpbmcgYSBjdXN0b20gYnVpbGQuIENvbnN1bHQgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBjcmVhdGluZyBjdXN0b21cbiAgICAgKiBidWlsZHMgYW5kIGV4Y2x1ZGluZyBwbHVnaW5zLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLkV4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLkludGVyYWN0aW9uTWFuYWdlcn0gaW50ZXJhY3Rpb24gSGFuZGxlcyBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5QYXJ0aWNsZVJlbmRlcmVyfSBwYXJ0aWNsZSBSZW5kZXJlciBmb3IgUGFydGljbGVDb250YWluZXIgb2JqZWN0cy5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuUHJlcGFyZX0gcHJlcGFyZSBQcmUtcmVuZGVyIGRpc3BsYXkgb2JqZWN0cy5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuQmF0Y2hSZW5kZXJlcn0gYmF0Y2ggQmF0Y2hpbmcgb2YgU3ByaXRlLCBHcmFwaGljcyBhbmQgTWVzaCBvYmplY3RzLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcn0gdGlsaW5nU3ByaXRlIFJlbmRlcmVyIGZvciBUaWxpbmdTcHJpdGUgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5fX3BsdWdpbnMgPSB7fTtcbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KEFic3RyYWN0UmVuZGVyZXIpKTtcbi8vIEhhbmRsZSByZWdpc3RyYXRpb24gb2YgZXh0ZW5zaW9uc1xuZXh0ZW5zaW9ucyQxLmhhbmRsZUJ5TWFwKEV4dGVuc2lvblR5cGUuUmVuZGVyZXJQbHVnaW4sIFJlbmRlcmVyLl9fcGx1Z2lucyk7XG5cbi8qKlxuICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGljaCByZW5kZXJlciB5b3Ugc2hvdWxkIGJlIHVzaW5nLlxuICogV2ViR0wgaXMgdGhlIHByZWZlcnJlZCByZW5kZXJlciBhcyBpdCBpcyBhIGxvdCBmYXN0ZXIuIElmIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAqIHRoZSBicm93c2VyIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBhIGNhbnZhcyByZW5kZXJlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZUNvbnRleHRBbHBoYT10cnVlXSAtIFBhc3MtdGhyb3VnaCB2YWx1ZSBmb3IgY2FudmFzJyBjb250ZXh0IGBhbHBoYWAgcHJvcGVydHkuXG4gKiAgIElmIHlvdSB3YW50IHRvIHNldCB0cmFuc3BhcmVuY3ksIHBsZWFzZSB1c2UgYGJhY2tncm91bmRBbHBoYWAuIFRoaXMgb3B0aW9uIGlzIGZvciBjYXNlcyB3aGVyZSB0aGVcbiAqICAgY2FudmFzIG5lZWRzIHRvIGJlIG9wYXF1ZSwgcG9zc2libHkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgb24gc29tZSBvbGRlciBkZXZpY2VzLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE9MV0gLSBWYWx1ZSBmcm9tIDAgKGZ1bGx5IHRyYW5zcGFyZW50KSB0byAxIChmdWxseSBvcGFxdWUpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPVBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gKiAgIGl0IGlzIGlnbm9yZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAqIEByZXR1cm5zIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgJGRlZmF1bHRWZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyICRkZWZhdWx0RmlsdGVyVmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbi8qKlxuICogRGVmYXVsdCB2ZXJ0ZXggc2hhZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG1lbWJlciB7c3RyaW5nfSBkZWZhdWx0VmVydGV4XG4gKi9cbi8qKlxuICogRGVmYXVsdCBmaWx0ZXIgdmVydGV4IHNoYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBtZW1iZXIge3N0cmluZ30gZGVmYXVsdEZpbHRlclZlcnRleFxuICovXG4vLyBOT1RFOiBUaGlzIGJsYWNrIG1hZ2ljIGlzIHNvIHRoYXQgQG1pY3Jvc29mdC9hcGktZXh0cmFjdG9yIGRvZXMgbm90IGNvbXBsYWluISBUaGlzIGV4cGxpY2l0bHkgc3BlY2lmaWVzIHRoZSB0eXBlc1xuLy8gb2YgZGVmYXVsdFZlcnRleCwgZGVmYXVsdEZpbHRlclZlcnRleC5cbnZhciBkZWZhdWx0VmVydGV4JDEgPSAkZGVmYXVsdFZlcnRleDtcbnZhciBkZWZhdWx0RmlsdGVyVmVydGV4ID0gJGRlZmF1bHRGaWx0ZXJWZXJ0ZXg7XG5cbi8qKlxuICogVXNlIHRoZSBJU3lzdGVtIGludGVyZmFjZSBpbnN0ZWFkLlxuICogQGRlcHJlY2F0ZWQgc2luY2UgNi4xLjBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gUmVmZXJlbmNlIHRvIFJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc2LjEuMCcsICdTeXN0ZW0gY2xhc3MgaXMgZGVwcmVjYXRlZCwgaW1wbGVtZW1lbnQgSVN5c3RlbSBpbnRlcmZhY2UgaW5zdGVhZC4nKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cbiAgICAvKiogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuICovXG4gICAgU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBTeXN0ZW07XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgYnkgdGhlIGJhdGNoZXIgdG8gZHJhdyBiYXRjaGVzLlxuICogRWFjaCBvbmUgb2YgdGhlc2UgY29udGFpbnMgYWxsIGluZm9ybWF0aW9uIHJlcXVpcmVkIHRvIGRyYXcgYSBib3VuZCBnZW9tZXRyeS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaERyYXdDYWxsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoRHJhd0NhbGwoKSB7XG4gICAgICAgIHRoaXMudGV4QXJyYXkgPSBudWxsO1xuICAgICAgICB0aGlzLmJsZW5kID0gMDtcbiAgICAgICAgdGhpcy50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hEcmF3Q2FsbDtcbn0oKSk7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBidWlsZCB0ZXh0dXJlIGJhdGNoZXMuXG4gKiBIb2xkcyBsaXN0IG9mIHRleHR1cmVzIGFuZCB0aGVpciByZXNwZWN0aXZlIGxvY2F0aW9ucy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFRleHR1cmVBcnJheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFRleHR1cmVBcnJheSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmlkcyA9IFtdO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB9XG4gICAgQmF0Y2hUZXh0dXJlQXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hUZXh0dXJlQXJyYXk7XG59KCkpO1xuXG4vKipcbiAqIEZsZXhpYmxlIHdyYXBwZXIgYXJvdW5kIGBBcnJheUJ1ZmZlcmAgdGhhdCBhbHNvIHByb3ZpZGVzIHR5cGVkIGFycmF5IHZpZXdzIG9uIGRlbWFuZC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBWaWV3YWJsZUJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3YWJsZUJ1ZmZlcihzaXplT3JCdWZmZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzaXplT3JCdWZmZXIgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZU9yQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplT3JCdWZmZXIgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBzaXplT3JCdWZmZXIuYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gc2l6ZU9yQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcImludDhWaWV3XCIsIHtcbiAgICAgICAgLyoqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQ4QXJyYXlgLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faW50OFZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnQ4VmlldyA9IG5ldyBJbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnQ4VmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUsIFwidWludDhWaWV3XCIsIHtcbiAgICAgICAgLyoqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50OEFycmF5YC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VpbnQ4Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdWludDhWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQxNlZpZXdcIiwge1xuICAgICAgICAvKiogIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQxNkFycmF5YC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDE2Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG5ldyBJbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50MTZWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJ1aW50MTZWaWV3XCIsIHtcbiAgICAgICAgLyoqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MTZBcnJheWAuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl91aW50MTZWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdWludDE2VmlldyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VpbnQxNlZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcImludDMyVmlld1wiLCB7XG4gICAgICAgIC8qKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50MzJBcnJheWAuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnQzMlZpZXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZpZXcgb2YgdGhlIGdpdmVuIHR5cGUuXG4gICAgICogQHBhcmFtIHR5cGUgLSBPbmUgb2YgYGludDhgLCBgdWludDhgLCBgaW50MTZgLFxuICAgICAqICAgIGB1aW50MTZgLCBgaW50MzJgLCBgdWludDMyYCwgYW5kIGBmbG9hdDMyYC5cbiAgICAgKiBAcmV0dXJucyAtIHR5cGVkIGFycmF5IG9mIGdpdmVuIHR5cGVcbiAgICAgKi9cbiAgICBWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUudmlldyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3R5cGUgKyBcIlZpZXdcIl07XG4gICAgfTtcbiAgICAvKiogRGVzdHJveXMgYWxsIGJ1ZmZlciByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGFmdGVyIGNhbGxpbmcgdGhpcy4gKi9cbiAgICBWaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50OFZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbG9hdDMyVmlldyA9IG51bGw7XG4gICAgfTtcbiAgICBWaWV3YWJsZUJ1ZmZlci5zaXplT2YgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHR5cGUgKyBcIiBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpZXdhYmxlQnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IGJhdGNoIHJlbmRlcmVyLiBJdCBidWZmZXJzIG9iamVjdHNcbiAqIHdpdGggdGV4dHVyZS1iYXNlZCBnZW9tZXRyaWVzIGFuZCByZW5kZXJzIHRoZW0gaW5cbiAqIGJhdGNoZXMuIEl0IHVwbG9hZHMgbXVsdGlwbGUgdGV4dHVyZXMgdG8gdGhlIEdQVSB0b1xuICogcmVkdWNlIHRvIHRoZSBudW1iZXIgb2YgZHJhdyBjYWxscy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBYnN0cmFjdEJhdGNoUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0QmF0Y2hSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgaG9vayBvbnRvIHRoZSByZW5kZXJlcidzIGBjb250ZXh0Q2hhbmdlYFxuICAgICAqIGFuZCBgcHJlcmVuZGVyYCBzaWduYWxzLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RCYXRjaFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBudWxsO1xuICAgICAgICBfdGhpcy5nZW9tZXRyeUNsYXNzID0gbnVsbDtcbiAgICAgICAgX3RoaXMudmVydGV4U2l6ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgX3RoaXMuc2l6ZSA9IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNDtcbiAgICAgICAgX3RoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX2luZGV4Q291bnQgPSAwO1xuICAgICAgICBfdGhpcy5fYnVmZmVyZWRFbGVtZW50cyA9IFtdO1xuICAgICAgICBfdGhpcy5fYnVmZmVyZWRUZXh0dXJlcyA9IFtdO1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgIF90aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuICAgICAgICBfdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA9IDI7XG4gICAgICAgIF90aGlzLl9mbHVzaElkID0gMDtcbiAgICAgICAgX3RoaXMuX2FCdWZmZXJzID0ge307XG4gICAgICAgIF90aGlzLl9pQnVmZmVycyA9IHt9O1xuICAgICAgICBfdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICBfdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgX3RoaXMub25QcmVyZW5kZXIsIF90aGlzKTtcbiAgICAgICAgcmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RlbXBCb3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGUgcGFja2VkLWdlb21ldHJ5IG9iamVjdCBwb29sLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpIHtcbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0ZXAgMTogZmlyc3QgY2hlY2sgbWF4IHRleHR1cmVzIHRoZSBHUFUgY2FuIGhhbmRsZS5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gTWF0aC5taW4oZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSwgc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAvLyBzdGVwIDI6IGNoZWNrIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpZiBzdGF0ZW1lbnRzIHRoZSBzaGFkZXIgY2FuIGhhdmUgdG9vLi5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcih0aGlzLk1BWF9URVhUVVJFUywgZ2wpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NoYWRlciA9IHRoaXMuc2hhZGVyR2VuZXJhdG9yLmdlbmVyYXRlU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgLy8gd2UgdXNlIHRoZSBzZWNvbmQgc2hhZGVyIGFzIHRoZSBmaXJzdCBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgYnJvd3NlclxuICAgICAgICAvLyBtYXkgb21pdCBhVGV4dHVyZUlkIGFzIGl0IGlzIG5vdCB1c2VkIGJ5IHRoZSBzaGFkZXIgc28gaXMgb3B0aW1pemVkIG91dC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0gPSBuZXcgKHRoaXMuZ2VvbWV0cnlDbGFzcykoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRGbHVzaEJ1ZmZlcnMoKTtcbiAgICB9O1xuICAgIC8qKiBNYWtlcyBzdXJlIHRoYXQgc3RhdGljIGFuZCBkeW5hbWljIGZsdXNoIHBvb2xlZCBvYmplY3RzIGhhdmUgY29ycmVjdCBkaW1lbnNpb25zLiAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuaW5pdEZsdXNoQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9kcmF3Q2FsbFBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbCwgX3RleHR1cmVBcnJheVBvb2wgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIC8vIG1heCBkcmF3IGNhbGxzXG4gICAgICAgIHZhciBNQVhfU1BSSVRFUyA9IHRoaXMuc2l6ZSAvIDQ7XG4gICAgICAgIC8vIG1heCB0ZXh0dXJlIGFycmF5c1xuICAgICAgICB2YXIgTUFYX1RBID0gTWF0aC5mbG9vcihNQVhfU1BSSVRFUyAvIHRoaXMuTUFYX1RFWFRVUkVTKSArIDE7XG4gICAgICAgIHdoaWxlIChfZHJhd0NhbGxQb29sLmxlbmd0aCA8IE1BWF9TUFJJVEVTKSB7XG4gICAgICAgICAgICBfZHJhd0NhbGxQb29sLnB1c2gobmV3IEJhdGNoRHJhd0NhbGwoKSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKF90ZXh0dXJlQXJyYXlQb29sLmxlbmd0aCA8IE1BWF9UQSkge1xuICAgICAgICAgICAgX3RleHR1cmVBcnJheVBvb2wucHVzaChuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk1BWF9URVhUVVJFUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBIYW5kbGVzIHRoZSBgcHJlcmVuZGVyYCBzaWduYWwuIEl0IGVuc3VyZXMgdGhhdCBmbHVzaGVzIHN0YXJ0IGZyb20gdGhlIGZpcnN0IGdlb21ldHJ5IG9iamVjdCBhZ2Fpbi4gKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLm9uUHJlcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9mbHVzaElkID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJ1ZmZlcnMgdGhlIFwiYmF0Y2hhYmxlXCIgb2JqZWN0LiBJdCBuZWVkIG5vdCBiZSByZW5kZXJlZCBpbW1lZGlhdGVseS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIHJlbmRlciB3aGVuXG4gICAgICogICAgdXNpbmcgdGhpcyByZW5kZXJlclxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ICsgKGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyKSA+IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ICs9IGVsZW1lbnQuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXNbdGhpcy5fYnVmZmVyU2l6ZV0gPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB0ZXh0dXJlcyA9IF9hLl9idWZmZXJlZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMgPSBfYS5NQVhfVEVYVFVSRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQXJyYXlzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl90ZXh0dXJlQXJyYXlQb29sO1xuICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLnJlbmRlcmVyLmJhdGNoO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgdmFyIGNvdW50VGV4QXJyYXlzID0gMDtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1swXTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gMDtcbiAgICAgICAgYmF0Y2guY29weUJvdW5kVGV4dHVyZXMoYm91bmRUZXh0dXJlcywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJTaXplOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSB0ZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0ZXguX2JhdGNoRW5hYmxlZCA9PT0gVElDSykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID49IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICB0ZXhBcnJheSA9IHRleHR1cmVBcnJheXNbKytjb3VudFRleEFycmF5c107XG4gICAgICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4Ll9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgdGV4LnRvdWNoZWQgPSB0b3VjaDtcbiAgICAgICAgICAgIHRleEFycmF5LmVsZW1lbnRzW3RleEFycmF5LmNvdW50KytdID0gdGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXhBcnJheS5jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICArK2NvdW50VGV4QXJyYXlzO1xuICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFuLXVwXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgZHJhd2NhbGxzIGZvciByZW5kZXJpbmdcbiAgICAgKiBAcGFyYW0gdGV4QXJyYXlcbiAgICAgKiBAcGFyYW0gc3RhcnRcbiAgICAgKiBAcGFyYW0gZmluaXNoXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgc3RhcnQsIGZpbmlzaCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlbGVtZW50cyA9IF9hLl9idWZmZXJlZEVsZW1lbnRzLCBfYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgX2luZGV4QnVmZmVyID0gX2EuX2luZGV4QnVmZmVyLCB2ZXJ0ZXhTaXplID0gX2EudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgZGNJbmRleCA9IHRoaXMuX2RjSW5kZXg7XG4gICAgICAgIHZhciBhSW5kZXggPSB0aGlzLl9hSW5kZXg7XG4gICAgICAgIHZhciBpSW5kZXggPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIHZhciBkcmF3Q2FsbCA9IGRyYXdDYWxsc1tkY0luZGV4XTtcbiAgICAgICAgZHJhd0NhbGwuc3RhcnQgPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICB2YXIgdGV4ID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHNwcml0ZUJsZW5kTW9kZSA9IHByZW11bHRpcGx5QmxlbmRNb2RlW3RleC5hbHBoYU1vZGUgPyAxIDogMF1bc3ByaXRlLmJsZW5kTW9kZV07XG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCBpICYmIGRyYXdDYWxsLmJsZW5kICE9PSBzcHJpdGVCbGVuZE1vZGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zaXplID0gaUluZGV4IC0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsID0gZHJhd0NhbGxzWysrZGNJbmRleF07XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IGlJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFja0ludGVybGVhdmVkR2VvbWV0cnkoc3ByaXRlLCBfYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KTtcbiAgICAgICAgICAgIGFJbmRleCArPSBzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyICogdmVydGV4U2l6ZTtcbiAgICAgICAgICAgIGlJbmRleCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICBkcmF3Q2FsbC5ibGVuZCA9IHNwcml0ZUJsZW5kTW9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPCBmaW5pc2gpIHtcbiAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICsrZGNJbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kY0luZGV4ID0gZGNJbmRleDtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gYUluZGV4O1xuICAgICAgICB0aGlzLl9pSW5kZXggPSBpSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIHRleHR1cmVzIGZvciBjdXJyZW50IHJlbmRlcmluZ1xuICAgICAqIEBwYXJhbSB0ZXhBcnJheVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuYmluZEFuZENsZWFyVGV4QXJyYXkgPSBmdW5jdGlvbiAodGV4QXJyYXkpIHtcbiAgICAgICAgdmFyIHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4QXJyYXkuY291bnQ7IGorKykge1xuICAgICAgICAgICAgdGV4dHVyZVN5c3RlbS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCB0ZXhBcnJheS5pZHNbal0pO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbal0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRleEFycmF5LmNvdW50ID0gMDtcbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHBhY2tlZEdlb21ldHJpZXMgPSBfYS5fcGFja2VkR2VvbWV0cmllcywgYXR0cmlidXRlQnVmZmVyID0gX2EuX2F0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIgPSBfYS5faW5kZXhCdWZmZXI7XG4gICAgICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikgeyAvKiBVc3VhbGx5IG9uIGlPUyBkZXZpY2VzLCB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAgICAgICBsaWtlIHVwbG9hZHMgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lLiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUrKztcbiAgICAgICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoSWQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZHJhd0JhdGNoZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkY0NvdW50ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlciwgZ2wgPSBfYS5nbCwgc3RhdGVTeXN0ZW0gPSBfYS5zdGF0ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuICAgICAgICB2YXIgY3VyVGV4QXJyYXkgPSBudWxsO1xuICAgICAgICAvLyBVcGxvYWQgdGV4dHVyZXMgYW5kIGRvIHRoZSBkcmF3IGNhbGxzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkcmF3Q2FsbHNbaV0sIHRleEFycmF5ID0gX2IudGV4QXJyYXksIHR5cGUgPSBfYi50eXBlLCBzaXplID0gX2Iuc2l6ZSwgc3RhcnQgPSBfYi5zdGFydCwgYmxlbmQgPSBfYi5ibGVuZDtcbiAgICAgICAgICAgIGlmIChjdXJUZXhBcnJheSAhPT0gdGV4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICBjdXJUZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZEFuZENsZWFyVGV4QXJyYXkodGV4QXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBibGVuZDtcbiAgICAgICAgICAgIHN0YXRlU3lzdGVtLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgc3RhcnQgKiAyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIFJlbmRlcnMgdGhlIGNvbnRlbnQgX25vd18gYW5kIGVtcHRpZXMgdGhlIGN1cnJlbnQgYmF0Y2guICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gdGhpcy5nZXRBdHRyaWJ1dGVCdWZmZXIodGhpcy5fdmVydGV4Q291bnQpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IHRoaXMuZ2V0SW5kZXhCdWZmZXIodGhpcy5faW5kZXhDb3VudCk7XG4gICAgICAgIHRoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2lJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2RjSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLmRyYXdCYXRjaGVzKCk7XG4gICAgICAgIC8vIHJlc2V0IGVsZW1lbnRzIGJ1ZmZlciBmb3IgdGhlIG5leHQgZmx1c2hcbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5faW5kZXhDb3VudCA9IDA7XG4gICAgfTtcbiAgICAvKiogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC4gKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmVuc3VyZVNhbXBsZXJUeXBlKHRoaXMuTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLl9zaGFkZXIpO1xuICAgICAgICBpZiAoc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikge1xuICAgICAgICAgICAgLy8gYmluZCBidWZmZXIgIzAsIHdlIGRvbid0IG5lZWQgb3RoZXJzXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5fcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBTdG9wcyBhbmQgZmx1c2hlcyB0aGUgY3VycmVudCBiYXRjaC4gKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGlzIGBBYnN0cmFjdEJhdGNoUmVuZGVyZXJgLiBJdCBjYW5ub3QgYmUgdXNlZCBhZ2Fpbi4gKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fYUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9pQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9zaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBhdHRyaWJ1dGUgYnVmZmVyIGZyb20gYHRoaXMuX2FCdWZmZXJzYCB0aGF0IGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0cy5cbiAgICAgKiBAcGFyYW0gc2l6ZSAtIG1pbmltdW0gY2FwYWNpdHkgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJucyAtIGJ1ZmZlciB0aGFuIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0c1xuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZ2V0QXR0cmlidXRlQnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gOCB2ZXJ0aWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gOCkpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplID0gcm91bmRlZFAyICogODtcbiAgICAgICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0ZXhTaXplICogNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gaW5kZXggYnVmZmVyIGZyb20gYHRoaXMuX2lCdWZmZXJzYCB0aGF0IGNhblxuICAgICAqIGhhdmUgYXQgbGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqIEBwYXJhbSBzaXplIC0gbWluaW11bSByZXF1aXJlZCBjYXBhY2l0eVxuICAgICAqIEByZXR1cm5zIC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWAgaW5kaWNlcy5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmdldEluZGV4QnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuICAgICAgICBpZiAodGhpcy5faUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XTtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdID0gYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHJvdW5kZWRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgdGhlIGZvdXIgYmF0Y2hpbmcgcGFyYW1ldGVycyBvZiBgZWxlbWVudGAsIGludGVybGVhdmVzXG4gICAgICogYW5kIHB1c2hlcyB0aGVtIGludG8gdGhlIGJhdGNoaW5nIGF0dHJpYnV0ZS9pbmRleCBidWZmZXJzIGdpdmVuLlxuICAgICAqXG4gICAgICogSXQgdXNlcyB0aGVzZSBwcm9wZXJ0aWVzOiBgdmVydGV4RGF0YWAgYHV2c2AsIGB0ZXh0dXJlSWRgIGFuZFxuICAgICAqIGBpbmRpY2llc2AuIEl0IGFsc28gdXNlcyB0aGUgXCJ0aW50XCIgb2YgdGhlIGJhc2UtdGV4dHVyZSwgaWZcbiAgICAgKiBwcmVzZW50LlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBlbGVtZW50IC0gZWxlbWVudCBiZWluZyByZW5kZXJlZFxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSBpbmRleEJ1ZmZlciAtIGluZGV4IGJ1ZmZlclxuICAgICAqIEBwYXJhbSBhSW5kZXggLSBudW1iZXIgb2YgZmxvYXRzIGFscmVhZHkgaW4gdGhlIGF0dHJpYnV0ZSBidWZmZXJcbiAgICAgKiBAcGFyYW0gaUluZGV4IC0gbnVtYmVyIG9mIGluZGljZXMgYWxyZWFkeSBpbiBgaW5kZXhCdWZmZXJgXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeSA9IGZ1bmN0aW9uIChlbGVtZW50LCBhdHRyaWJ1dGVCdWZmZXIsIGluZGV4QnVmZmVyLCBhSW5kZXgsIGlJbmRleCkge1xuICAgICAgICB2YXIgdWludDMyVmlldyA9IGF0dHJpYnV0ZUJ1ZmZlci51aW50MzJWaWV3LCBmbG9hdDMyVmlldyA9IGF0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldztcbiAgICAgICAgdmFyIHBhY2tlZFZlcnRpY2VzID0gYUluZGV4IC8gdGhpcy52ZXJ0ZXhTaXplO1xuICAgICAgICB2YXIgdXZzID0gZWxlbWVudC51dnM7XG4gICAgICAgIHZhciBpbmRpY2llcyA9IGVsZW1lbnQuaW5kaWNlcztcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSBlbGVtZW50LnZlcnRleERhdGE7XG4gICAgICAgIHZhciB0ZXh0dXJlSWQgPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLl9iYXRjaExvY2F0aW9uO1xuICAgICAgICB2YXIgYWxwaGEgPSBNYXRoLm1pbihlbGVtZW50LndvcmxkQWxwaGEsIDEuMCk7XG4gICAgICAgIHZhciBhcmdiID0gKGFscGhhIDwgMS4wXG4gICAgICAgICAgICAmJiBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSlcbiAgICAgICAgICAgID8gcHJlbXVsdGlwbHlUaW50KGVsZW1lbnQuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgOiBlbGVtZW50Ll90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcbiAgICAgICAgLy8gbGV0cyBub3Qgd29ycnkgYWJvdXQgdGludCEgZm9yIG5vdy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdXZzW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdXZzW2kgKyAxXTtcbiAgICAgICAgICAgIHVpbnQzMlZpZXdbYUluZGV4KytdID0gYXJnYjtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHRleHR1cmVJZDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZGljaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlcltpSW5kZXgrK10gPSBwYWNrZWRWZXJ0aWNlcyArIGluZGljaWVzW2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb29sIG9mIGBCYXRjaERyYXdDYWxsYCBvYmplY3RzIHRoYXQgYGZsdXNoYCB1c2VkXG4gICAgICogdG8gY3JlYXRlIFwiYmF0Y2hlc1wiIG9mIHRoZSBvYmplY3RzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2Fpbi5cbiAgICAgKiBTaGFyZWQgYmV0d2VlbiBhbGwgYmF0Y2ggcmVuZGVyZXJzIGJlY2F1c2UgaXQgY2FuIGJlIG9ubHkgb25lIFwiZmx1c2hcIiB3b3JraW5nIGF0IHRoZSBtb21lbnQuXG4gICAgICogQG1lbWJlciB7UElYSS5CYXRjaERyYXdDYWxsW119XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2wgPSBbXTtcbiAgICAvKipcbiAgICAgKiBQb29sIG9mIGBCYXRjaERyYXdDYWxsYCBvYmplY3RzIHRoYXQgYGZsdXNoYCB1c2VkXG4gICAgICogdG8gY3JlYXRlIFwiYmF0Y2hlc1wiIG9mIHRoZSBvYmplY3RzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2Fpbi5cbiAgICAgKiBTaGFyZWQgYmV0d2VlbiBhbGwgYmF0Y2ggcmVuZGVyZXJzIGJlY2F1c2UgaXQgY2FuIGJlIG9ubHkgb25lIFwiZmx1c2hcIiB3b3JraW5nIGF0IHRoZSBtb21lbnQuXG4gICAgICogQG1lbWJlciB7UElYSS5CYXRjaFRleHR1cmVBcnJheVtdfVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fdGV4dHVyZUFycmF5UG9vbCA9IFtdO1xuICAgIHJldHVybiBBYnN0cmFjdEJhdGNoUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbi8qKlxuICogSGVscGVyIHRoYXQgZ2VuZXJhdGVzIGJhdGNoaW5nIG11bHRpLXRleHR1cmUgc2hhZGVyLiBVc2UgaXQgd2l0aCB5b3VyIG5ldyBCYXRjaFJlbmRlcmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHZlcnRleFNyYyAtIFZlcnRleCBzaGFkZXJcbiAgICAgKiBAcGFyYW0gZnJhZ1RlbXBsYXRlIC0gRnJhZ21lbnQgc2hhZGVyIHRlbXBsYXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hTaGFkZXJHZW5lcmF0b3IodmVydGV4U3JjLCBmcmFnVGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmM7XG4gICAgICAgIHRoaXMuZnJhZ1RlbXBsYXRlID0gZnJhZ1RlbXBsYXRlO1xuICAgICAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlID0ge307XG4gICAgICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWNvdW50JScpIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlY291bnQlXCIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYWdUZW1wbGF0ZS5pbmRleE9mKCclZm9ybG9vcCUnKSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWZvcmxvb3AlXCIuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQmF0Y2hTaGFkZXJHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlU2hhZGVyID0gZnVuY3Rpb24gKG1heFRleHR1cmVzKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdKSB7XG4gICAgICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkobWF4VGV4dHVyZXMpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdID0gVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKTtcbiAgICAgICAgICAgIHZhciBmcmFnbWVudFNyYyA9IHRoaXMuZnJhZ1RlbXBsYXRlO1xuICAgICAgICAgICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lY291bnQlL2dpLCBcIlwiICsgbWF4VGV4dHVyZXMpO1xuICAgICAgICAgICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIHRoaXMuZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpKTtcbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSA9IG5ldyBQcm9ncmFtKHRoaXMudmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgICAgdHJhbnNsYXRpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IFNoYWRlcih0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10sIHVuaWZvcm1zKTtcbiAgICB9O1xuICAgIEJhdGNoU2hhZGVyR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZVNhbXBsZVNyYyA9IGZ1bmN0aW9uIChtYXhUZXh0dXJlcykge1xuICAgICAgICB2YXIgc3JjID0gJyc7XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPCBtYXhUZXh0dXJlcyAtIDEpIHtcbiAgICAgICAgICAgICAgICBzcmMgKz0gXCJpZih2VGV4dHVyZUlkIDwgXCIgKyBpICsgXCIuNSlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNyYyArPSAnXFxueyc7XG4gICAgICAgICAgICBzcmMgKz0gXCJcXG5cXHRjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlcnNbXCIgKyBpICsgXCJdLCB2VGV4dHVyZUNvb3JkKTtcIjtcbiAgICAgICAgICAgIHNyYyArPSAnXFxufSc7XG4gICAgICAgIH1cbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIHJldHVybiBzcmM7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hTaGFkZXJHZW5lcmF0b3I7XG59KCkpO1xuXG4vKipcbiAqIEdlb21ldHJ5IHVzZWQgdG8gYmF0Y2ggc3RhbmRhcmQgUElYSSBjb250ZW50IChlLmcuIE1lc2gsIFNwcml0ZSwgR3JhcGhpY3Mgb2JqZWN0cykuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmF0Y2hHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljPWZhbHNlXSAtIE9wdGltaXphdGlvbiBmbGFnLCB3aGVyZSBgZmFsc2VgXG4gICAgICogICAgICAgIGlzIHVwZGF0ZWQgZXZlcnkgZnJhbWUsIGB0cnVlYCBkb2Vzbid0IGNoYW5nZSBmcmFtZS10by1mcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXRjaEdlb21ldHJ5KF9zdGF0aWMpIHtcbiAgICAgICAgaWYgKF9zdGF0aWMgPT09IHZvaWQgMCkgeyBfc3RhdGljID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuICAgICAgICBfdGhpcy5faW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIHRydWUpO1xuICAgICAgICBfdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIF90aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCBfdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQ29sb3InLCBfdGhpcy5fYnVmZmVyLCA0LCB0cnVlLCBUWVBFUy5VTlNJR05FRF9CWVRFKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVJZCcsIF90aGlzLl9idWZmZXIsIDEsIHRydWUsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KF90aGlzLl9pbmRleEJ1ZmZlcik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJhdGNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBkZWZhdWx0VmVydGV4ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIHZlYzQgdGludDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yICogdGludDtcXG59XFxuXCI7XG5cbnZhciBkZWZhdWx0RnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgICVmb3Jsb29wJVxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXG59XFxuXCI7XG5cbi8qKiBAbWVtYmVyb2YgUElYSSAqL1xudmFyIEJhdGNoUGx1Z2luRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFBsdWdpbkZhY3RvcnkoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXRjaFJlbmRlcmVyIHBsdWdpbiBmb3IgUmVuZGVyZXIuIHRoaXMgY29udmVuaWVuY2UgY2FuIHByb3ZpZGUgYW4gZWFzeSB3YXlcbiAgICAgKiB0byBleHRlbmQgQmF0Y2hSZW5kZXJlciB3aXRoIGFsbCB0aGUgbmVjZXNzYXJ5IHBpZWNlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGZyYWdtZW50ID0gYFxuICAgICAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICAgICAqIHZhcnlpbmcgdmVjNCB2Q29sb3I7XG4gICAgICogdmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xuICAgICAqIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcbiAgICAgKlxuICAgICAqIHZvaWQgbWFpbih2b2lkKXtcbiAgICAgKiAgICAgdmVjNCBjb2xvcjtcbiAgICAgKiAgICAgJWZvcmxvb3AlXG4gICAgICogICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvciAqIHZlYzQoY29sb3IuYSAtIGNvbG9yLnJnYiwgY29sb3IuYSk7XG4gICAgICogfVxuICAgICAqIGA7XG4gICAgICogY29uc3QgSW52ZXJ0QmF0Y2hSZW5kZXJlciA9IFBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmNyZWF0ZSh7IGZyYWdtZW50IH0pO1xuICAgICAqIFBJWEkuZXh0ZW5zaW9ucy5hZGQoe1xuICAgICAqICBuYW1lOiAnaW52ZXJ0JyxcbiAgICAgKiAgcmVmOiBJbnZlcnRCYXRjaFJlbmRlcmVyLFxuICAgICAqICB0eXBlOiBQSVhJLkV4dGVuc2lvblR5cGUuUmVuZGVyZXJQbHVnaW4sXG4gICAgICogfSk7XG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKCk7XG4gICAgICogc3ByaXRlLnBsdWdpbk5hbWUgPSAnaW52ZXJ0JztcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZlcnRleD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0VmVydGV4U3JjXSAtIFZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50PVBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlXSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52ZXJ0ZXhTaXplPTZdIC0gVmVydGV4IHNpemVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZ2VvbWV0cnlDbGFzcz1QSVhJLkJhdGNoR2VvbWV0cnldXG4gICAgICogQHJldHVybnMgeyp9IE5ldyBiYXRjaCByZW5kZXJlciBwbHVnaW5cbiAgICAgKi9cbiAgICBCYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB2ZXJ0ZXg6IGRlZmF1bHRWZXJ0ZXgsXG4gICAgICAgICAgICBmcmFnbWVudDogZGVmYXVsdEZyYWdtZW50LFxuICAgICAgICAgICAgZ2VvbWV0cnlDbGFzczogQmF0Y2hHZW9tZXRyeSxcbiAgICAgICAgICAgIHZlcnRleFNpemU6IDYsXG4gICAgICAgIH0sIG9wdGlvbnMpLCB2ZXJ0ZXggPSBfYS52ZXJ0ZXgsIGZyYWdtZW50ID0gX2EuZnJhZ21lbnQsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplLCBnZW9tZXRyeUNsYXNzID0gX2EuZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhCYXRjaFBsdWdpbiwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbmV3IEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgICAgIF90aGlzLnZlcnRleFNpemUgPSB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCYXRjaFBsdWdpbjtcbiAgICAgICAgfShBYnN0cmFjdEJhdGNoUmVuZGVyZXIpKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXRjaFBsdWdpbkZhY3RvcnksIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmF0Y2hQbHVnaW5GYWN0b3J5LCBcImRlZmF1bHRGcmFnbWVudFRlbXBsYXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQmF0Y2hQbHVnaW5GYWN0b3J5O1xufSgpKTtcbi8vIFNldHVwIHRoZSBkZWZhdWx0IEJhdGNoUmVuZGVyZXIgcGx1Z2luLCB0aGlzIGlzIHdoYXRcbi8vIHdlJ2xsIGFjdHVhbGx5IGV4cG9ydCBhdCB0aGUgcm9vdCBsZXZlbFxudmFyIEJhdGNoUmVuZGVyZXIgPSBCYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKCk7XG5PYmplY3QuYXNzaWduKEJhdGNoUmVuZGVyZXIsIHtcbiAgICBleHRlbnNpb246IHtcbiAgICAgICAgbmFtZTogJ2JhdGNoJyxcbiAgICAgICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpbixcbiAgICB9LFxufSk7XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lc3BhY2UgcmVzb3VyY2VzXG4gKiBAc2VlIFBJWElcbiAqIEBkZXByZWNhdGVkIHNpbmNlIDYuMC4wXG4gKi9cbnZhciByZXNvdXJjZXMgPSB7fTtcbnZhciBfbG9vcF8xID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb3VyY2VzLCBuYW1lLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzYuMC4wJywgXCJQSVhJLnN5c3RlbXMuXCIgKyBuYW1lICsgXCIgaGFzIG1vdmVkIHRvIFBJWEkuXCIgKyBuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBfcmVzb3VyY2VzW25hbWVdO1xuICAgICAgICB9LFxuICAgIH0pO1xufTtcbmZvciAodmFyIG5hbWUgaW4gX3Jlc291cmNlcykge1xuICAgIF9sb29wXzEobmFtZSk7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZXNwYWNlIHN5c3RlbXNcbiAqIEBzZWUgUElYSVxuICogQGRlcHJlY2F0ZWQgc2luY2UgNi4wLjBcbiAqL1xudmFyIHN5c3RlbXMgPSB7fTtcbnZhciBfbG9vcF8yID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3lzdGVtcywgbmFtZSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc2LjAuMCcsIFwiUElYSS5yZXNvdXJjZXMuXCIgKyBuYW1lICsgXCIgaGFzIG1vdmVkIHRvIFBJWEkuXCIgKyBuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBfc3lzdGVtc1tuYW1lXTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5mb3IgKHZhciBuYW1lIGluIF9zeXN0ZW1zKSB7XG4gICAgX2xvb3BfMihuYW1lKTtcbn1cblxuLyoqXG4gKiBAbmFtZXNwYWNlIFBJWElcbiAqL1xuLyoqXG4gKiBTdHJpbmcgb2YgdGhlIGN1cnJlbnQgUElYSSB2ZXJzaW9uLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFZFUlNJT04gPSAnNi41LjgnO1xuXG5leHBvcnQgeyBBYnN0cmFjdEJhdGNoUmVuZGVyZXIsIEFic3RyYWN0TXVsdGlSZXNvdXJjZSwgQWJzdHJhY3RSZW5kZXJlciwgQXJyYXlSZXNvdXJjZSwgQXR0cmlidXRlLCBCYXNlSW1hZ2VSZXNvdXJjZSwgQmFzZVJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaEdlb21ldHJ5LCBCYXRjaFBsdWdpbkZhY3RvcnksIEJhdGNoUmVuZGVyZXIsIEJhdGNoU2hhZGVyR2VuZXJhdG9yLCBCYXRjaFN5c3RlbSwgQmF0Y2hUZXh0dXJlQXJyYXksIEJ1ZmZlciwgQnVmZmVyUmVzb3VyY2UsIENhbnZhc1Jlc291cmNlLCBDb250ZXh0U3lzdGVtLCBDdWJlUmVzb3VyY2UsIEZpbHRlciwgRmlsdGVyU3RhdGUsIEZpbHRlclN5c3RlbSwgRnJhbWVidWZmZXIsIEZyYW1lYnVmZmVyU3lzdGVtLCBHTEZyYW1lYnVmZmVyLCBHTFByb2dyYW0sIEdMVGV4dHVyZSwgR2VvbWV0cnksIEdlb21ldHJ5U3lzdGVtLCBJR0xVbmlmb3JtRGF0YSwgSU5TVEFMTEVELCBJbWFnZUJpdG1hcFJlc291cmNlLCBJbWFnZVJlc291cmNlLCBNYXNrRGF0YSwgTWFza1N5c3RlbSwgT2JqZWN0UmVuZGVyZXIsIFByb2dyYW0sIFByb2plY3Rpb25TeXN0ZW0sIFF1YWQsIFF1YWRVdiwgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBvb2wsIFJlbmRlclRleHR1cmVTeXN0ZW0sIFJlbmRlcmVyLCBSZXNvdXJjZSwgU1ZHUmVzb3VyY2UsIFNjaXNzb3JTeXN0ZW0sIFNoYWRlciwgU2hhZGVyU3lzdGVtLCBTcHJpdGVNYXNrRmlsdGVyLCBTdGF0ZSwgU3RhdGVTeXN0ZW0sIFN0ZW5jaWxTeXN0ZW0sIFN5c3RlbSwgVGV4dHVyZSwgVGV4dHVyZUdDU3lzdGVtLCBUZXh0dXJlTWF0cml4LCBUZXh0dXJlU3lzdGVtLCBUZXh0dXJlVXZzLCBVbmlmb3JtR3JvdXAsIFZFUlNJT04sIFZpZGVvUmVzb3VyY2UsIFZpZXdhYmxlQnVmZmVyLCBhdXRvRGV0ZWN0UmVuZGVyZXIsIGF1dG9EZXRlY3RSZXNvdXJjZSwgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciwgY3JlYXRlVUJPRWxlbWVudHMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGRlZmF1bHRWZXJ0ZXgkMSBhcyBkZWZhdWx0VmVydGV4LCBnZW5lcmF0ZVByb2dyYW0sIGdlbmVyYXRlVW5pZm9ybUJ1ZmZlclN5bmMsIGdldFRlc3RDb250ZXh0LCBnZXRVQk9EYXRhLCByZXNvdXJjZXMsIHN5c3RlbXMsIHVuaWZvcm1QYXJzZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvYWNjZXNzaWJpbGl0eSAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgaXNNb2JpbGUsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0uXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgYWNjZXNzaWJsZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZTogZmFsc2UsXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICAgKiBAbWVtYmVyIHs/c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIHRhYkluZGV4OiAwLFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSB0eXBlIG9mIGRpdiB0aGUgYWNjZXNzaWJsZSBsYXllciBpcy4gU2NyZWVuIHJlYWRlcnMgdHJlYXQgdGhlIGVsZW1lbnQgZGlmZmVyZW50bHlcbiAgICAgKiBkZXBlbmRpbmcgb24gdGhpcyB0eXBlLiBEZWZhdWx0cyB0byBidXR0b24uXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgJ2J1dHRvbidcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlVHlwZTogJ2J1dHRvbicsXG4gICAgLyoqXG4gICAgICogU3BlY2lmeSB0aGUgcG9pbnRlci1ldmVudHMgdGhlIGFjY2Vzc2libGUgZGl2IHdpbGwgdXNlXG4gICAgICogRGVmYXVsdHMgdG8gYXV0by5cbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYXV0bydcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlUG9pbnRlckV2ZW50czogJ2F1dG8nLFxuICAgIC8qKlxuICAgICAqIFNldHRpbmcgdG8gZmFsc2Ugd2lsbCBwcmV2ZW50IGFueSBjaGlsZHJlbiBpbnNpZGUgdGhpcyBjb250YWluZXIgdG9cbiAgICAgKiBiZSBhY2Nlc3NpYmxlLiBEZWZhdWx0cyB0byB0cnVlLlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuICAgIHJlbmRlcklkOiAtMSxcbn07XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG52YXIgS0VZX0NPREVfVEFCID0gOTtcbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuIHJlYWRlcnMuXG4gKiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgUGl4aUpTIGNvbnRlbnQuXG4gKlxuICogQSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUganVzdCBsaWtlIGl0IGNhbiBiZSBtYWRlIGludGVyYWN0aXZlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eWBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFjY2Vzc2liaWxpdHlNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWNjZXNzaWJpbGl0eU1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgLyoqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy4gKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgICAvKiogSW50ZXJuYWwgdmFyaWFibGUsIHNlZSBpc0FjdGl2ZSBnZXR0ZXIuICovXG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIC8qKiBJbnRlcm5hbCB2YXJpYWJsZSwgc2VlIGlzTW9iaWxlQWNjZXNzaWJpbGl0eSBnZXR0ZXIuICovXG4gICAgICAgIHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IGZhbHNlO1xuICAgICAgICAvKiogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLiAqL1xuICAgICAgICB0aGlzLnBvb2wgPSBbXTtcbiAgICAgICAgLyoqIFRoaXMgaXMgYSB0aWNrIHVzZWQgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIG5vIGxvbmdlciBiZWluZyByZW5kZXJlZC4gKi9cbiAgICAgICAgdGhpcy5yZW5kZXJJZCA9IDA7XG4gICAgICAgIC8qKiBUaGUgYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBhY2Nlc3NpYmxlIGl0ZW1zLiAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIC8qKiBDb3VudCB0byB0aHJvdHRsZSBkaXYgdXBkYXRlcyBvbiBhbmRyb2lkIGRldmljZXMuICovXG4gICAgICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gMDtcbiAgICAgICAgLyoqICBUaGUgZnJlcXVlbmN5IHRvIHVwZGF0ZSB0aGUgZGl2IGVsZW1lbnRzLiAqL1xuICAgICAgICB0aGlzLmFuZHJvaWRVcGRhdGVGcmVxdWVuY3kgPSA1MDA7IC8vIDJmcHNcbiAgICAgICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBESVZfVE9VQ0hfUE9TX1ggKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gRElWX1RPVUNIX1BPU19ZICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmRpdiA9IGRpdjtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICAvLyBsZXQgbGlzdGVuIGZvciB0YWIuLiBvbmNlIHByZXNzZWQgd2UgY2FuIGZpcmUgdXAgYW5kIHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXJcbiAgICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUsIFwiaXNBY3RpdmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmFsdWUgb2YgYHRydWVgIGlmIGFjY2Vzc2liaWxpdHkgaXMgY3VycmVudGx5IGFjdGl2ZSBhbmQgYWNjZXNzaWJpbGl0eSBsYXllcnMgYXJlIHNob3dpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLCBcImlzTW9iaWxlQWNjZXNzaWJpbGl0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWYWx1ZSBvZiBgdHJ1ZWAgaWYgYWNjZXNzaWJpbGl0eSBpcyBlbmFibGVkIGZvciB0b3VjaCBkZXZpY2VzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUudG9wID0gRElWX0hPT0tfUE9TX1ggKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICAgICAgaG9va0Rpdi50aXRsZSA9ICdzZWxlY3QgdG8gZW5hYmxlIGFjY2Vzc2liaWxpdHkgZm9yIHRoaXMgY29udGVudCc7XG4gICAgICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICBfdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gaG9va0RpdjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95VG91Y2hIb29rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hvb2tEaXYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2hvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBwcmVzc2VzIHRoZSB0YWIga2V5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAoX2EgPSB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICBnbG9iYWxUaGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG4gICAgICAgIChfYSA9IHRoaXMuZGl2LnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2hlY2suXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnZpc2libGUgfHwgIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZSAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXJJZCA9IHRoaXMucmVuZGVySWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZm9yZSBlYWNoIHJlbmRlciB0aGlzIGZ1bmN0aW9uIHdpbGwgZW5zdXJlIHRoYXQgYWxsIGRpdnMgYXJlIG1hcHBlZCBjb3JyZWN0bHkgdG8gdGhlaXIgRGlzcGxheU9iamVjdHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKiBPbiBBbmRyb2lkIGRlZmF1bHQgd2ViIGJyb3dzZXIsIHRhYiBvcmRlciBzZWVtcyB0byBiZSBjYWxjdWxhdGVkIGJ5IHBvc2l0aW9uIHJhdGhlciB0aGFuIHRhYkluZGV4LFxuICAgICAgICAqICBtb3ZpbmcgYnV0dG9ucyBjYW4gY2F1c2UgZm9jdXMgdG8gZmxpY2tlciBiZXR3ZWVuIHR3byBidXR0b25zIG1ha2luZyBpdCBoYXJkL2ltcG9zc2libGUgdG8gbmF2aWdhdGUsXG4gICAgICAgICogIHNvIEkgYW0ganVzdCBydW5uaW5nIHVwZGF0ZSBldmVyeSBoYWxmIGEgc2Vjb25kLCBzZWVtcyB0byBmaXggaXQuXG4gICAgICAgICovXG4gICAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlICYmIG5vdyA8IHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQgPSBub3cgKyB0aGlzLmFuZHJvaWRVcGRhdGVGcmVxdWVuY3k7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBjaGlsZHJlbi4uLlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcy5yZW5kZXJlci52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBsZWZ0ID0gX2EubGVmdCwgdG9wID0gX2EudG9wLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHZhciBfYiA9IHRoaXMucmVuZGVyZXIsIHZpZXdXaWR0aCA9IF9iLndpZHRoLCB2aWV3SGVpZ2h0ID0gX2IuaGVpZ2h0LCByZXNvbHV0aW9uID0gX2IucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHN4ID0gKHdpZHRoIC8gdmlld1dpZHRoKSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBzeSA9IChoZWlnaHQgLyB2aWV3SGVpZ2h0KSAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBkaXYgPSB0aGlzLmRpdjtcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSB2aWV3V2lkdGggKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSB2aWV3SGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGksIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvb2wucHVzaChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYgPSBudWxsO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBkaXYgdG8gZGlzcGxheS4uXG4gICAgICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICAgICAgdmFyIGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICAgICAgICAgIHZhciB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5oaXRBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gKHd0LnR4ICsgKGhpdEFyZWEueCAqIHd0LmEpKSAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKHd0LnR5ICsgKGhpdEFyZWEueSAqIHd0LmQpKSAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBoaXRBcmVhLndpZHRoICogd3QuYSAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXRBcmVhID0gY2hpbGQuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwSGl0QXJlYShoaXRBcmVhKTtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBoaXRBcmVhLnggKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGhpdEFyZWEueSAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBoaXRBcmVhLndpZHRoICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoaXRBcmVhLmhlaWdodCAqIHN5ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYnV0dG9uIHRpdGxlcyBhbmQgaGludHMgaWYgdGhleSBleGlzdCBhbmQgdGhleSd2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYudGl0bGUgIT09IGNoaWxkLmFjY2Vzc2libGVUaXRsZSAmJiBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi50aXRsZSA9IGNoaWxkLmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpICE9PSBjaGlsZC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgY2hpbGQuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjaGlsZC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhlIHRpdGxlIG9yIGluZGV4IG1heSBoYXZlIGNoYW5nZWQsIGlmIHNvIGxldHMgdXBkYXRlIGl0IVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IGRpdi50aXRsZSB8fCBjaGlsZC50YWJJbmRleCAhPT0gZGl2LnRhYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi50aXRsZSA9IGNoaWxkLmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRhYkluZGV4ID0gY2hpbGQudGFiSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKVxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnVwZGF0ZURlYnVnSFRNTChkaXYpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgcmVuZGVyIGlkLi5cbiAgICAgICAgdGhpcy5yZW5kZXJJZCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0aGF0IHdpbGwgdmlzdWFsbHkgYWRkIHRoZSBpbmZvcm1hdGlvbiB0byB0aGVcbiAgICAgKiBhY2Nlc3NhYmlsaXR5IGRpdlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRpdiAtXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZURlYnVnSFRNTCA9IGZ1bmN0aW9uIChkaXYpIHtcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IFwidHlwZTogXCIgKyBkaXYudHlwZSArIFwiPC9icj4gdGl0bGUgOiBcIiArIGRpdi50aXRsZSArIFwiPC9icj4gdGFiSW5kZXg6IFwiICsgZGl2LnRhYkluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRqdXN0IHRoZSBoaXQgYXJlYSBiYXNlZCBvbiB0aGUgYm91bmRzIG9mIGEgZGlzcGxheSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBoaXRBcmVhIC0gQm91bmRzIG9mIHRoZSBjaGlsZFxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gKGhpdEFyZWEpIHtcbiAgICAgICAgaWYgKGhpdEFyZWEueCA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGl0QXJlYS55IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLCB2aWV3V2lkdGggPSBfYS53aWR0aCwgdmlld0hlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB2aWV3V2lkdGgpIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggPSB2aWV3V2lkdGggLSBoaXRBcmVhLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdmlld0hlaWdodCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB2aWV3SGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgRGlzcGxheU9iamVjdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgLy8gICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuICAgICAgICBpZiAoIWRpdikge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG4gICAgICAgICAgICAvLyBBUklBIGF0dHJpYnV0ZXMgZW5zdXJlIHRoYXQgYnV0dG9uIHRpdGxlIGFuZCBoaW50IHVwZGF0ZXMgYXJlIGFubm91bmNlZCBwcm9wZXJseVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZXF1aXJlZCBieSBJRSwgb3RoZXIgYnJvd3NlcnMgZG9uJ3QgbXVjaCBjYXJlXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICd0ZXh0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGRpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlUG9pbnRlckV2ZW50cztcbiAgICAgICAgLy8gc2V0IHRoZSB0eXBlLCB0aGlzIGRlZmF1bHRzIHRvIGJ1dHRvbiFcbiAgICAgICAgZGl2LnR5cGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUeXBlO1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBcImRpc3BsYXlPYmplY3QgXCIgKyBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50LlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG4gICAgICAgIHZhciBkaXNwbGF5T2JqZWN0ID0gZS50YXJnZXQuZGlzcGxheU9iamVjdDtcbiAgICAgICAgdmFyIGV2ZW50RGF0YSA9IGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGE7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdjbGljaycsIGV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgZXZlbnREYXRhKTtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGV2ZW50RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3ZlcilcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJykpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG4gICAgICAgIHZhciBkaXNwbGF5T2JqZWN0ID0gZS50YXJnZXQuZGlzcGxheU9iamVjdDtcbiAgICAgICAgdmFyIGV2ZW50RGF0YSA9IGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGE7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBldmVudERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXNPdXQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJykpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG4gICAgICAgIHZhciBkaXNwbGF5T2JqZWN0ID0gZS50YXJnZXQuZGlzcGxheU9iamVjdDtcbiAgICAgICAgdmFyIGV2ZW50RGF0YSA9IGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGE7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGV2ZW50RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgLSBUaGUga2V5ZG93biBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKiogRGVzdHJveXMgdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlciAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICAgICAgdGhpcy5kaXYgPSBudWxsO1xuICAgICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcbiAgICAgICAgdGhpcy5wb29sID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5leHRlbnNpb24gPSB7XG4gICAgICAgIG5hbWU6ICdhY2Nlc3NpYmlsaXR5JyxcbiAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpbixcbiAgICAgICAgICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUmVuZGVyZXJQbHVnaW4gXSxcbiAgICB9O1xuICAgIHJldHVybiBBY2Nlc3NpYmlsaXR5TWFuYWdlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyLCBhY2Nlc3NpYmxlVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmlsaXR5Lm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvaW50ZXJhY3Rpb24gLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvaW50ZXJhY3Rpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCwgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIEhvbGRzIGFsbCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGFuIEludGVyYWN0aW9uIGV2ZW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25EYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uRGF0YSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXNzdXJlIGFwcGxpZWQgYnkgdGhlIHBvaW50aW5nIGRldmljZSBkdXJpbmcgdGhlIGV2ZW50LiBBIFRvdWNoJ3MgZm9yY2UgcHJvcGVydHlcbiAgICAgICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcHJlc3N1cmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogRnJvbSBUb3VjaEV2ZW50cyAobm90IFBvaW50ZXJFdmVudHMgdHJpZ2dlcmVkIGJ5IHRvdWNoZXMpLCB0aGUgcm90YXRpb25BbmdsZSBvZiB0aGUgVG91Y2guXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoL3JvdGF0aW9uQW5nbGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR3aXN0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5idXR0b24gPSAwO1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLnRpbHRYID0gMDtcbiAgICAgICAgdGhpcy50aWx0WSA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRlclR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy50d2lzdCA9IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUsIFwicG9pbnRlcklkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcG9pbnRlci4gSXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBgaWRlbnRpZmllcmAuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgcmV0dXJuIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgZm9yIHRoaXMgSW50ZXJhY3Rpb25EYXRhXG4gICAgICogQHBhcmFtIGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgICAqICBjb29yZHMgb2ZmXG4gICAgICogQHBhcmFtIHBvaW50IC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gICAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgICAqIEBwYXJhbSBnbG9iYWxQb3MgLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAgICAgKiBAcmV0dXJucyAtIEEgcG9pbnQgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIEludGVyYWN0aW9uRGF0YSBwb3NpdGlvbiByZWxhdGl2ZVxuICAgICAqICB0byB0aGUgRGlzcGxheU9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBwb2ludCwgZ2xvYmFsUG9zKSB7XG4gICAgICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgICAqIEBwYXJhbSB7VG91Y2h8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuY29weUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBzaG91bGQgb25seSBjaGFuZ2Ugb24gdG91Y2hzdGFydC9wb2ludGVyZG93biwgc28gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGVcbiAgICAgICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAgICAgLy8gYWNjdXJhdGVcbiAgICAgICAgaWYgKCdpc1ByaW1hcnknIGluIGV2ZW50ICYmIGV2ZW50LmlzUHJpbWFyeSkge1xuICAgICAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gJ2J1dHRvbicgaW4gZXZlbnQgJiYgZXZlbnQuYnV0dG9uO1xuICAgICAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgICAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgICAgICB2YXIgYnV0dG9ucyA9ICdidXR0b25zJyBpbiBldmVudCAmJiBldmVudC5idXR0b25zO1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGJ1dHRvbnMpID8gYnV0dG9ucyA6ICd3aGljaCcgaW4gZXZlbnQgJiYgZXZlbnQud2hpY2g7XG4gICAgICAgIHRoaXMud2lkdGggPSAnd2lkdGgnIGluIGV2ZW50ICYmIGV2ZW50LndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9ICdoZWlnaHQnIGluIGV2ZW50ICYmIGV2ZW50LmhlaWdodDtcbiAgICAgICAgdGhpcy50aWx0WCA9ICd0aWx0WCcgaW4gZXZlbnQgJiYgZXZlbnQudGlsdFg7XG4gICAgICAgIHRoaXMudGlsdFkgPSAndGlsdFknIGluIGV2ZW50ICYmIGV2ZW50LnRpbHRZO1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gJ3BvaW50ZXJUeXBlJyBpbiBldmVudCAmJiBldmVudC5wb2ludGVyVHlwZTtcbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9ICdwcmVzc3VyZScgaW4gZXZlbnQgJiYgZXZlbnQucHJlc3N1cmU7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9ICdyb3RhdGlvbkFuZ2xlJyBpbiBldmVudCAmJiBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgICAgICB0aGlzLnR3aXN0ID0gKCd0d2lzdCcgaW4gZXZlbnQgJiYgZXZlbnQudHdpc3QpIHx8IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gKCd0YW5nZW50aWFsUHJlc3N1cmUnIGluIGV2ZW50ICYmIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSkgfHwgMDtcbiAgICB9O1xuICAgIC8qKiBSZXNldHMgdGhlIGRhdGEgZm9yIHBvb2xpbmcuICovXG4gICAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaXNQcmltYXJ5IGlzIHRoZSBvbmx5IHByb3BlcnR5IHRoYXQgd2UgcmVhbGx5IG5lZWQgdG8gcmVzZXQgLSBldmVyeXRoaW5nIGVsc2UgaXNcbiAgICAgICAgLy8gZ3VhcmFudGVlZCB0byBiZSBvdmVyd3JpdHRlblxuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uRGF0YTtcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEV2ZW50IGNsYXNzIHRoYXQgbWltaWNzIG5hdGl2ZSBET00gZXZlbnRzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25FdmVudCgpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG4gICAgLyoqIFByZXZlbnRzIGV2ZW50IGZyb20gcmVhY2hpbmcgYW55IG9iamVjdHMgb3RoZXIgdGhhbiB0aGUgY3VycmVudCBvYmplY3QuICovXG4gICAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IHRoaXMuY3VycmVudFRhcmdldDtcbiAgICB9O1xuICAgIC8qKiBSZXNldHMgdGhlIGV2ZW50LiAqL1xuICAgIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVyYWN0aW9uRXZlbnQ7XG59KCkpO1xuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShwb2ludGVySWQpIHtcbiAgICAgICAgdGhpcy5fcG9pbnRlcklkID0gcG9pbnRlcklkO1xuICAgICAgICB0aGlzLl9mbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLl9kb1NldCA9IGZ1bmN0aW9uIChmbGFnLCB5bikge1xuICAgICAgICBpZiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgfCBmbGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyAmICh+ZmxhZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwicG9pbnRlcklkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlcklkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJmbGFnc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmxhZ3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gZmxhZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcIm5vbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncyA9PT0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwib3ZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBvdmVyIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuT1ZFUikgIT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5PVkVSLCB5bik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcInJpZ2h0RG93blwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLlJJR0hUX0RPV04sIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwibGVmdERvd25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTEVGVF9ET1dOLCB5bik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBOT05FOiAwLFxuICAgICAgICBPVkVSOiAxIDw8IDAsXG4gICAgICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgICAgICBSSUdIVF9ET1dOOiAxIDw8IDIsXG4gICAgfSk7XG4gICAgcmV0dXJuIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhO1xufSgpKTtcblxuLyoqXG4gKiBTdHJhdGVneSBob3cgdG8gc2VhcmNoIHRocm91Z2ggc3RhZ2UgdHJlZSBmb3IgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyZWVTZWFyY2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJlZVNlYXJjaCgpIHtcbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBmb3IgZmluZEhpdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIGZ1bmMgLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gaGl0VGVzdCAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcGFyYW0gaW50ZXJhY3RpdmUgLSBXaGV0aGVyIHRoZSBkaXNwbGF5T2JqZWN0IGlzIGludGVyYWN0aXZlXG4gICAgICogQHJldHVybnMgLSBSZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFRyZWVTZWFyY2gucHJvdG90eXBlLnJlY3Vyc2l2ZUZpbmRIaXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb2ludCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5nbG9iYWw7XG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXplZCEgXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pemF0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXphdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuICAgICAgICB2YXIgaGl0ID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnRlcmFjdGl2ZVBhcmVudCA9IGludGVyYWN0aXZlO1xuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgdmFyIGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIG1hc2ssIG5vIG5lZWQgdG8gaGl0VGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgbWFzay5cbiAgICAgICAgLy8gV2Ugc3RpbGwgd2FudCB0byBoaXRUZXN0Q2hpbGRyZW4sIGhvd2V2ZXIsIHRvIGVuc3VyZSBhIG1vdXNlb3V0IGNhbiBzdGlsbCBiZSBnZW5lcmF0ZWQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTEzNVxuICAgICAgICBlbHNlIGlmIChkaXNwbGF5T2JqZWN0Ll9tYXNrKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKGRpc3BsYXlPYmplY3QuX21hc2suaXNNYXNrRGF0YVxuICAgICAgICAgICAgICAgICAgICA/IGRpc3BsYXlPYmplY3QuX21hc2subWFza09iamVjdCA6IGRpc3BsYXlPYmplY3QuX21hc2spO1xuICAgICAgICAgICAgICAgIGlmIChtYXNrT2JqZWN0ICYmICEoKF9hID0gbWFza09iamVjdC5jb250YWluc1BvaW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChtYXNrT2JqZWN0LCBwb2ludCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gKiogRlJFRSBUSVAgKiohIElmIGFuIG9iamVjdCBpcyBub3QgaW50ZXJhY3RpdmUgb3IgaGFzIG5vIGJ1dHRvbnMgaW4gaXRcbiAgICAgICAgLy8gKHN1Y2ggYXMgYSBnYW1lIHNjZW5lISkgc2V0IGludGVyYWN0aXZlQ2hpbGRyZW4gdG8gZmFsc2UgZm9yIHRoYXQgZGlzcGxheU9iamVjdC5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGFsbG93IFBpeGlKUyB0byBjb21wbGV0ZWx5IGlnbm9yZSBhbmQgYnlwYXNzIGNoZWNraW5nIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGhpdFRlc3RDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gZ2V0IHJlY3Vyc2l2ZS4uIGlmIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gaWYgc29tZXRoaW5nIGlzIGhpdC4uXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkSGl0ID0gdGhpcy5yZWN1cnNpdmVGaW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGNoaWxkLCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZVBhcmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55IG1vcmUgb2JqZWN0cyBpbiB0aGlzIGNvbnRhaW5lciBhcyB3ZSB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBub3cga25vdyB0aGUgcGFyZW50IGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgaW50ZXJhY3RpdmUgLCB0aGF0IG1lYW5zIHRoYXQgdGhlIG9iamVjdCBoaXQgd2FzIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlIGFuZCBub3QganVzdCB0aGUgY2hpbGQgb2YgYW4gaW50ZXJhY3RpdmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueXRoaW5nIGVsc2UuIFdlIHN0aWxsIG5lZWQgdG8gcnVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggYWxsIG9iamVjdHMsIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW55IGhpdCB0ZXN0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgdGVzdGVkIGFnYWluc3QgaGl0QXJlYSBpZiBpdCBpcyBkZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEgJiYgZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSBmdW5jIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIGhpdFRlc3QgLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gICAgICogQHJldHVybnMgLSBSZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFRyZWVTZWFyY2gucHJvdG90eXBlLmZpbmRIaXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCkge1xuICAgICAgICB0aGlzLnJlY3Vyc2l2ZUZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgZmFsc2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFRyZWVTZWFyY2g7XG59KCkpO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgY2xhc3NlcyB0aGF0IHJlcHJlc2VudCBhIGhpdCBhcmVhLlxuICpcbiAqIEl0IGlzIGltcGxlbWVudGVkIGJ5IHRoZSBmb2xsb3dpbmcgY2xhc3NlczpcbiAqIC0ge0BsaW5rIFBJWEkuQ2lyY2xlfVxuICogLSB7QGxpbmsgUElYSS5FbGxpcHNlfVxuICogLSB7QGxpbmsgUElYSS5Qb2x5Z29ufVxuICogLSB7QGxpbmsgUElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICogQGludGVyZmFjZSBJSGl0QXJlYVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGFyZWFcbiAqIEBtZXRob2RcbiAqIEBuYW1lIGNvbnRhaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5JSGl0QXJlYSNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBhcmVhXG4gKi9cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICogQHByaXZhdGVcbiAqIEBuYW1lIGludGVyYWN0aXZlVGFyZ2V0XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuaW50ZXJhY3RpdmVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xudmFyIGludGVyYWN0aXZlVGFyZ2V0ID0ge1xuICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuICAgIGhpdEFyZWE6IG51bGwsXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBTZXR0aW5nIHRoaXMgY2hhbmdlcyB0aGUgJ2N1cnNvcicgcHJvcGVydHkgdG8gYCdwb2ludGVyJ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuYnV0dG9uTW9kZSA9IHRydWU7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGdldCBidXR0b25Nb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgICB9LFxuICAgIHNldCBidXR0b25Nb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJykge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgICAqIGlzIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY3Vyc29yOiBudWxsLFxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHNldCBvZiBhbGwgYWN0aXZlIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyXG4gICAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgdHJhY2tlZFBvaW50ZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7IHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9OyB9XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2VkUG9pbnRlcnM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBNYXAgb2YgYWxsIHRyYWNrZWQgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXIuIFVzZSB0cmFja2VkUG9pbnRlcnMgdG8gYWNjZXNzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKi9cbiAgICBfdHJhY2tlZFBvaW50ZXJzOiB1bmRlZmluZWQsXG59O1xuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZVxuRGlzcGxheU9iamVjdC5taXhpbihpbnRlcmFjdGl2ZVRhcmdldCk7XG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG4vLyBoZWxwZXJzIGZvciBoaXRUZXN0KCkgLSBvbmx5IHVzZWQgaW5zaWRlIGhpdFRlc3QoKVxudmFyIGhpdFRlc3RFdmVudCA9IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgZGF0YToge1xuICAgICAgICBnbG9iYWw6IG51bGwsXG4gICAgfSxcbn07XG4vKipcbiAqIFRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyIGRlYWxzIHdpdGggbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqXG4gKiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmUgaWYgaXRzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUuXG4gKlxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uYFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJhY3Rpb25NYW5hZ2VyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQ9dHJ1ZV0gLSBTaG91bGQgdGhlIG1hbmFnZXIgYXV0b21hdGljYWxseSBwcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeT0xMF0gLSBNYXhpbXVtIGZyZXF1ZW5jeSAobXMpIGF0IHBvaW50ZXIgb3Zlci9vdXQgc3RhdGVzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXNlU3lzdGVtVGlja2VyPXRydWVdIC0gV2hldGhlciB0byBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBfdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICBfdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgOiB0cnVlO1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSA9IG9wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgfHwgMTA7XG4gICAgICAgIF90aGlzLm1vdXNlID0gbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICBfdGhpcy5tb3VzZS5pZGVudGlmaWVyID0gTU9VU0VfUE9JTlRFUl9JRDtcbiAgICAgICAgLy8gc2V0dGluZyB0aGUgbW91c2UgdG8gc3RhcnQgb2ZmIGZhciBvZmYgc2NyZWVuIHdpbGwgbWVhbiB0aGF0IG1vdXNlIG92ZXIgZG9lc1xuICAgICAgICAvLyAgbm90IGdldCBjYWxsZWQgYmVmb3JlIHdlIGV2ZW4gbW92ZSB0aGUgbW91c2UuXG4gICAgICAgIF90aGlzLm1vdXNlLmdsb2JhbC5zZXQoLTk5OTk5OSk7XG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbCA9IFtdO1xuICAgICAgICBfdGhpcy5ldmVudERhdGEgPSBuZXcgSW50ZXJhY3Rpb25FdmVudCgpO1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICBfdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aWNrZXJBZGRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9ICEoJ1BvaW50ZXJFdmVudCcgaW4gZ2xvYmFsVGhpcyk7XG4gICAgICAgIF90aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiBnbG9iYWxUaGlzO1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIWdsb2JhbFRoaXMuUG9pbnRlckV2ZW50O1xuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcbiAgICAgICAgX3RoaXMub25Qb2ludGVyVXAgPSBfdGhpcy5vblBvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IF90aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLm9uUG9pbnRlckNhbmNlbCA9IF90aGlzLm9uUG9pbnRlckNhbmNlbC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMub25Qb2ludGVyRG93biA9IF90aGlzLm9uUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IF90aGlzLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMub25Qb2ludGVyTW92ZSA9IF90aGlzLm9uUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMub25Qb2ludGVyT3V0ID0gX3RoaXMub25Qb2ludGVyT3V0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBfdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLm9uUG9pbnRlck92ZXIgPSBfdGhpcy5vblBvaW50ZXJPdmVyLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcicsXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIF90aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgX3RoaXMuc2VhcmNoID0gbmV3IFRyZWVTZWFyY2goKTtcbiAgICAgICAgX3RoaXMuX3RlbXBEaXNwbGF5T2JqZWN0ID0gbmV3IFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgX3RoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zID0geyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiBmYWxzZSB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIE5vdCBhbHdheXMgZmlyZWQgd2hlbiBzb21lIGJ1dHRvbnMgYXJlIGhlbGQgZG93biB3aGlsZSBvdGhlcnMgYXJlIHJlbGVhc2VkLiBJbiB0aG9zZSBjYXNlcyxcbiAgICAgICAgICogdXNlIFttb3VzZWRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0gYW5kXG4gICAgICAgICAqIFttb3VzZXVwXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZXVwfSBpbnN0ZWFkLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbWVzIGZyb20gdGhlIEBwaXhpL2ludGVyYWN0aW9uIHBhY2thZ2UuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbWVzIGZyb20gdGhlIEBwaXhpL2ludGVyYWN0aW9uIHBhY2thZ2UuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29tZXMgZnJvbSB0aGUgQHBpeGkvaW50ZXJhY3Rpb24gcGFja2FnZS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbWVzIGZyb20gdGhlIEBwaXhpL2ludGVyYWN0aW9uIHBhY2thZ2UuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29tZXMgZnJvbSB0aGUgQHBpeGkvaW50ZXJhY3Rpb24gcGFja2FnZS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbWVzIGZyb20gdGhlIEBwaXhpL2ludGVyYWN0aW9uIHBhY2thZ2UuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbWVzIGZyb20gdGhlIEBwaXhpL2ludGVyYWN0aW9uIHBhY2thZ2UuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29tZXMgZnJvbSB0aGUgQHBpeGkvaW50ZXJhY3Rpb24gcGFja2FnZS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbWVzIGZyb20gdGhlIEBwaXhpL2ludGVyYWN0aW9uIHBhY2thZ2UuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29tZXMgZnJvbSB0aGUgQHBpeGkvaW50ZXJhY3Rpb24gcGFja2FnZS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbWVzIGZyb20gdGhlIEBwaXhpL2ludGVyYWN0aW9uIHBhY2thZ2UuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29tZXMgZnJvbSB0aGUgQHBpeGkvaW50ZXJhY3Rpb24gcGFja2FnZS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbWVzIGZyb20gdGhlIEBwaXhpL2ludGVyYWN0aW9uIHBhY2thZ2UuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29tZXMgZnJvbSB0aGUgQHBpeGkvaW50ZXJhY3Rpb24gcGFja2FnZS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29tZXMgZnJvbSB0aGUgQHBpeGkvaW50ZXJhY3Rpb24gcGFja2FnZS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29tZXMgZnJvbSB0aGUgQHBpeGkvaW50ZXJhY3Rpb24gcGFja2FnZS5cbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBjb21lcyBmcm9tIHRoZSBAcGl4aS9pbnRlcmFjdGlvbiBwYWNrYWdlLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VzZVN5c3RlbVRpY2tlciA9IG9wdGlvbnMudXNlU3lzdGVtVGlja2VyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnVzZVN5c3RlbVRpY2tlciA6IHRydWU7XG4gICAgICAgIF90aGlzLnNldFRhcmdldEVsZW1lbnQoX3RoaXMucmVuZGVyZXIudmlldywgX3RoaXMucmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUsIFwidXNlU3lzdGVtVGlja2VyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCB0aGUgSW50ZXJhY3Rpb25NYW5hZ2VyIGF1dG9tYXRpY2FsbHkgYWRkIHtAbGluayB0aWNrZXJVcGRhdGV9IHRvIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VTeXN0ZW1UaWNrZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHVzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgdGhpcy5fdXNlU3lzdGVtVGlja2VyID0gdXNlU3lzdGVtVGlja2VyO1xuICAgICAgICAgICAgaWYgKHVzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLCBcImxhc3RPYmplY3RSZW5kZXJlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMYXN0IHJlbmRlcmVkIG9iamVjdCBvciB0ZW1wIG9iamVjdC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCB8fCB0aGlzLl90ZW1wRGlzcGxheU9iamVjdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICogQHBhcmFtIGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHJvb3QgLSBUaGUgcm9vdCBkaXNwbGF5IG9iamVjdCB0byBzdGFydCBmcm9tLiBJZiBvbWl0dGVkLCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHJvb3Qgb2YgdGhlIGFzc29jaWF0ZWQgcmVuZGVyZXIuXG4gICAgICogQHJldHVybnMgLSBUaGUgaGl0IGRpc3BsYXkgb2JqZWN0LCBpZiBhbnkuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24gKGdsb2JhbFBvaW50LCByb290KSB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSB0YXJnZXQgZm9yIG91ciBoaXQgdGVzdFxuICAgICAgICBoaXRUZXN0RXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gYXNzaWduIHRoZSBnbG9iYWwgcG9pbnRcbiAgICAgICAgaGl0VGVzdEV2ZW50LmRhdGEuZ2xvYmFsID0gZ2xvYmFsUG9pbnQ7XG4gICAgICAgIC8vIGVuc3VyZSBzYWZldHkgb2YgdGhlIHJvb3RcbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICByb290ID0gdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQsIHJvb3QsIG51bGwsIHRydWUpO1xuICAgICAgICAvLyByZXR1cm4gb3VyIGZvdW5kIG9iamVjdCAtIGl0J2xsIGJlIG51bGwgaWYgd2UgZGlkbid0IGhpdCBhbnl0aGluZ1xuICAgICAgICByZXR1cm4gaGl0VGVzdEV2ZW50LnRhcmdldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZWdhdGVcbiAgICAgKiBhbm90aGVyIERPTSBlbGVtZW50IHRvIHJlY2VpdmUgdGhvc2UgZXZlbnRzLlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIG5ldyBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgICAgICB0aGlzLmFkZFRpY2tlckxpc3RlbmVyKCk7XG4gICAgfTtcbiAgICAvKiogQWRkcyB0aGUgdGlja2VyIGxpc3RlbmVyLiAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tlckFkZGVkIHx8ICF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCB8fCAhdGhpcy5fdXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgVGlja2VyLnN5c3RlbS5hZGQodGhpcy50aWNrZXJVcGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG4gICAgICAgIHRoaXMudGlja2VyQWRkZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqIFJlbW92ZXMgdGhlIHRpY2tlciBsaXN0ZW5lci4gKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZVRpY2tlckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMudGlja2VyQWRkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2tlclVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudGlja2VyQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKiBSZWdpc3RlcnMgYWxsIHRoZSBET00gZXZlbnRzLiAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZTtcbiAgICAgICAgaWYgKGdsb2JhbFRoaXMubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSAnbm9uZSc7XG4gICAgICAgICAgICBzdHlsZS5tc1RvdWNoQWN0aW9uID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpemVkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXplZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgICAgICBnbG9iYWxUaGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHdheXMgbG9vayBkaXJlY3RseSBmb3IgdG91Y2ggZXZlbnRzIHNvIHRoYXQgd2UgY2FuIHByb3ZpZGUgb3JpZ2luYWwgZGF0YVxuICAgICAgICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHdlIHNob3VsZCBjaGFuZ2UgdGhpcyB0byBiZWluZyBqdXN0IGEgZmFsbGJhY2sgYW5kIHJlbHkgc29sZWx5IG9uXG4gICAgICAgIC8vIFBvaW50ZXJFdmVudHMgd2hlbmV2ZXIgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKiogUmVtb3ZlcyBhbGwgdGhlIERPTSBldmVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZC4gKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50c0FkZGVkIHx8ICF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlO1xuICAgICAgICBpZiAoZ2xvYmFsVGhpcy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgc3R5bGUubXNDb250ZW50Wm9vbWluZyA9ICcnO1xuICAgICAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgICAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdGhpcy5fZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0aGlzLl9ldmVudExpc3RlbmVyT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRoaXMuX2V2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMgaWYgYXQgbGVhc3Qge0BsaW5rIGludGVyYWN0aW9uRnJlcXVlbmN5fVxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogSW52b2tlZCBieSBhIHRocm90dGxlZCB0aWNrZXIgdXBkYXRlIGZyb20ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICogQHBhcmFtIGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgdGhlIGxhc3QgY2FsbFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudGlja2VyVXBkYXRlID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuICAgICAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICAvKiogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy4gKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5fZGlkTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGlkTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgICAqIEBwYXJhbSBtb2RlIC0gY3Vyc29yIG1vZGUsIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICB2YXIgYXBwbHlTdHlsZXMgPSB0cnVlO1xuICAgICAgICAvLyBvZmZzY3JlZW4gY2FudmFzIGRvZXMgbm90IHN1cHBvcnQgc2V0dGluZyBzdHlsZXMsIGJ1dCBjdXJzb3IgbW9kZXMgY2FuIGJlIGZ1bmN0aW9ucyxcbiAgICAgICAgLy8gaW4gb3JkZXIgdG8gaGFuZGxlIHBpeGkgcmVuZGVyZWQgY3Vyc29ycywgc28gd2UgY2FuJ3QgYmFpbFxuICAgICAgICBpZiAoZ2xvYmFsVGhpcy5PZmZzY3JlZW5DYW52YXMgJiYgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICAgICAgICAgIGFwcGx5U3R5bGVzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcbiAgICAgICAgLy8gb25seSBkbyB0aGluZ3MgaWYgdGhlcmUgaXMgYSBjdXJzb3Igc3R5bGUgZm9yIGl0XG4gICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGx5U3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9ucyBhcmUganVzdCBjYWxsZWQsIGFuZCBwYXNzZWQgdGhlIGN1cnNvciBtb2RlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhbiBvYmplY3QsIGFzc3VtZSB0aGF0IGl0IGlzIGEgZGljdGlvbmFyeSBvZiBDU1Mgc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhcHBseSBpdCB0byB0aGUgaW50ZXJhY3Rpb25ET01FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBseVN0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFwcGx5U3R5bGVzICYmIHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSkge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aC5cbiAgICAgKiBAcGFyYW0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKSB7XG4gICAgICAgIC8vIEV2ZW4gaWYgdGhlIGV2ZW50IHdhcyBzdG9wcGVkLCBhdCBsZWFzdCBkaXNwYXRjaCBhbnkgcmVtYWluaW5nIGV2ZW50c1xuICAgICAgICAvLyBmb3IgdGhlIHNhbWUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BQcm9wYWdhdGlvbkhpbnQgfHwgZGlzcGxheU9iamVjdCA9PT0gZXZlbnREYXRhLnN0b3BzUHJvcGFnYXRpbmdBdCkge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1dHMgYSBldmVudCBvbiBhIHF1ZXVlIHRvIGJlIGRpc3BhdGNoZWQgbGF0ZXIuIFRoaXMgaXMgdXNlZCB0byBndWFyYW50ZWUgY29ycmVjdFxuICAgICAqIG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVsYXlEaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpIHtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzLnB1c2goeyBkaXNwbGF5T2JqZWN0OiBkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZzogZXZlbnRTdHJpbmcsIGV2ZW50RGF0YTogZXZlbnREYXRhIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB4IGFuZCB5IGNvb3JkcyBmcm9tIGEgRE9NIG9iamVjdCBhbmQgbWFwcyB0aGVtIGNvcnJlY3RseSB0byB0aGUgUGl4aUpTIHZpZXcuIFRoZVxuICAgICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0geCAtIHRoZSB4IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKiBAcGFyYW0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcFBvc2l0aW9uVG9Qb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgeCwgeSkge1xuICAgICAgICB2YXIgcmVjdDtcbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmVjdCA9IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IDEuMCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgcG9pbnQueCA9ICgoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICgoeSAtIHJlY3QudG9wKSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQgLyByZWN0LmhlaWdodCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0gZnVuYyAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBoaXRUZXN0IC0gaW5kaWNhdGVzIHdoZXRoZXIgd2Ugd2FudCB0byBjYWxjdWxhdGUgaGl0c1xuICAgICAqICBvciBqdXN0IGl0ZXJhdGUgdGhyb3VnaCBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpIHtcbiAgICAgICAgdmFyIGhpdCA9IHRoaXMuc2VhcmNoLmZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCk7XG4gICAgICAgIHZhciBkZWxheWVkRXZlbnRzID0gdGhpcy5kZWxheWVkRXZlbnRzO1xuICAgICAgICBpZiAoIWRlbGF5ZWRFdmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gaGl0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LCBiZWNhdXNlIHdlIHN0YXJ0IGRlZXBlciBpbiB0aGUgdHJlZSBhZ2Fpbi5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIHZhciBkZWxheWVkTGVuID0gZGVsYXllZEV2ZW50cy5sZW5ndGg7XG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGF5ZWRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIF9hID0gZGVsYXllZEV2ZW50c1tpXSwgZGlzcGxheU9iamVjdF8xID0gX2EuZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcgPSBfYS5ldmVudFN0cmluZywgZXZlbnREYXRhID0gX2EuZXZlbnREYXRhO1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSByZWFjaCB0aGUgb2JqZWN0IHdlIHdhbnRlZCB0byBzdG9wIHByb3BhZ2F0aW5nIGF0LFxuICAgICAgICAgICAgLy8gc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LlxuICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQgPT09IGRpc3BsYXlPYmplY3RfMSkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0XzEsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcHJlc3NlZCBkb3duIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICogQHBhcmFtIG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8qXG4gICAgICAgICAqIE5vIG5lZWQgdG8gcHJldmVudCBkZWZhdWx0IG9uIG5hdHVyYWwgcG9pbnRlciBldmVudHMsIGFzIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICAgICAgICogTm9ybWFsaXplZCBldmVudHMsIGhvd2V2ZXIsIG1heSBoYXZlIHRoZSBkb3VibGUgbW91c2Vkb3duL3RvdWNoc3RhcnQgaXNzdWUgb24gdGhlIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIsXG4gICAgICAgICAqIHNvIHN0aWxsIG5lZWQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgdmFyIGNhbmNlbGFibGUgPSBvcmlnaW5hbEV2ZW50LmNhbmNlbGFibGUgfHwgISgnY2FuY2VsYWJsZScgaW4gb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICBpZiAoY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtaXQgYSBtb3VzZSBldmVudCBmb3IgXCJwZW5cIiBwb2ludGVycywgdGhlIHdheSBhIGJyb3dzZXIgd291bGQgZW1pdCBhIGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckRvd24gPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5yaWdodERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLmxlZnREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICogQHBhcmFtIG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGUgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCwgY2FuY2VsbGVkLCBmdW5jKSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICB2YXIgdGFyZ2V0ID0gb3JpZ2luYWxFdmVudC50YXJnZXQ7XG4gICAgICAgIC8vIGlmIGluIHNoYWRvdyBET00gdXNlIGNvbXBvc2VkUGF0aCB0byBhY2Nlc3MgdGFyZ2V0XG4gICAgICAgIGlmIChvcmlnaW5hbEV2ZW50LmNvbXBvc2VkUGF0aCAmJiBvcmlnaW5hbEV2ZW50LmNvbXBvc2VkUGF0aCgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRhcmdldCA9IG9yaWdpbmFsRXZlbnQuY29tcG9zZWRQYXRoKClbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50QXBwZW5kID0gdGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogXCJwb2ludGVydXBcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/IFwicmlnaHR1cFwiICsgZXZlbnRBcHBlbmQgOiBcIm1vdXNldXBcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiBcInRvdWNoZW5kXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIHRydWUsIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgY2FuY2VsIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyVXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyVXAgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgLy8gbmVlZCB0byB0cmFjayBtb3VzZSBkb3duIHN0YXR1cyBpbiB0aGUgbW91c2UgYmxvY2sgc28gdGhhdCB3ZSBjYW4gZW1pdFxuICAgICAgICAvLyBldmVudCBpbiBhIGxhdGVyIGJsb2NrXG4gICAgICAgIHZhciBpc01vdXNlVGFwID0gZmFsc2U7XG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUztcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG4gICAgICAgICAgICB2YXIgaXNEb3duID0gdHJhY2tpbmdEYXRhICE9PSB1bmRlZmluZWQgJiYgKHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3QpO1xuICAgICAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnIDogJ21vdXNldXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuIGNvbmZpcm0gdGhhdCB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIHRoaXMgb2JqZWN0LCBmbGFnIGZvciBsYXRlciBlbWl0IG9mIHBvaW50ZXJ0YXBcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZVRhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0IHBvaW50ZXJ0YXAgaWYgbm90IGEgbW91c2UsIG9yIGlmIHRoZSBtb3VzZSBibG9jayBkZWNpZGVkIGl0IHdhcyBhIHRhcFxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VzZSB8fCBpc01vdXNlVGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3VjaGVzIGFyZSBubyBsb25nZXIgb3ZlciAoaWYgdGhleSBldmVyIHdlcmUpIHdoZW4gd2UgZ2V0IHRoZSB0b3VjaGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBwcmV0ZW5kaW5nIHRoYXQgdGhleSBhcmVcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcmVtb3ZlIHRoZSB0cmFja2luZyBkYXRhIGlmIHRoZXJlIGlzIG5vIG92ZXIvZG93biBzdGF0ZSBzdGlsbCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSAmJiB0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICogQHBhcmFtIG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBtb3ZpbmdcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck1vdmUgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLl9kaWRNb3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmVtaXQoJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5lbWl0KCdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgbW92ZSBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmUgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYmVpbmcgbW92ZWQgb3V0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdXQgPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdXQsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdlIGNhbiBnZXQgdG91Y2hsZWF2ZSBldmVudHMgYWZ0ZXIgdG91Y2hlbmQsIHNvIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBpbnRyb2R1Y2UgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBvdmVyL291dCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZS5cbiAgICAgKiBAcGFyYW0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAvLyBpZiB3ZSBqdXN0IG1vdXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHRyYWNrIHRoYXQgc3RhdGVcbiAgICAgICAgaWYgKGhpdCAmJiAhdHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmIChoaXQgJiYgdGhpcy5tb3VzZU92ZXJSZW5kZXJlcikge1xuICAgICAgICAgICAgaWYgKCF0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjaGFuZ2VkIChieSBzb21ldGhpbmcgZGVlcGVyIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlzcGxheSB0cmVlKVxuICAgICAgICAgICAgaWYgKGlzTW91c2UgJiYgdGhpcy5jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IGRpc3BsYXlPYmplY3QuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3V0JywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3VzZSBkb3duIGluZm9ybWF0aW9uIGZvciB0aGUgcG9pbnRlciwgdGhlbiBpdCBpcyBzYWZlIHRvIGRlbGV0ZVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YS5ub25lKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciB2aWV3LlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3ZlciA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGwuXG4gICAgICogQHBhcmFtIGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhLlxuICAgICAqIEByZXR1cm5zIC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllci5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuY29weUV2ZW50KGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhIHRvIHRoZSBwb29sLCBmb3IgYSBnaXZlbiBwb2ludGVySWRcbiAgICAgKiBAcGFyYW0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIChwb2ludGVySWQpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucHVzaChpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uRXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSBwb2ludGVyRXZlbnQgLSBUaGUgRE9NIGV2ZW50IHRoYXQgd2lsbCBiZSBwYWlyZWQgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm5zIC0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIHBvaW50ZXJFdmVudCwgaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBkYXRhIGZyb20gYSB0b3VjaCBvciBtb3VzZSBldmVudFxuICAgICAqIEByZXR1cm5zIC0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50aWx0WCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnR3aXN0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZOyB9XG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgdG91Y2ggYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKCFnbG9iYWxUaGlzLk1vdXNlRXZlbnRcbiAgICAgICAgICAgIHx8IChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5Qb2ludGVyRXZlbnQpKSkpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQud2lkdGggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LndpZHRoID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQuaGVpZ2h0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5oZWlnaHQgPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGlsdFggPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5wcmVzc3VyZSA9IDAuNTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudHdpc3QgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnR3aXN0ID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwOyB9XG4gICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgIHRlbXBFdmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRlbXBFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH07XG4gICAgLyoqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyLiAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gICAgfTtcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5leHRlbnNpb24gPSB7XG4gICAgICAgIG5hbWU6ICdpbnRlcmFjdGlvbicsXG4gICAgICAgIHR5cGU6IFtcbiAgICAgICAgICAgIEV4dGVuc2lvblR5cGUuUmVuZGVyZXJQbHVnaW4sXG4gICAgICAgICAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1JlbmRlcmVyUGx1Z2luIF0sXG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShFdmVudEVtaXR0ZXIpKTtcblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25EYXRhLCBJbnRlcmFjdGlvbkV2ZW50LCBJbnRlcmFjdGlvbk1hbmFnZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBpbnRlcmFjdGl2ZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3Rpb24ubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9leHRyYWN0IC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL2V4dHJhY3QgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDYW52YXNSZW5kZXJUYXJnZXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUsIFJlbmRlclRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbnZhciBCWVRFU19QRVJfUElYRUwgPSA0O1xuLyoqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIGV4cG9ydGluZyBjb250ZW50IGZyb20gYSByZW5kZXJlci5cbiAqIEZvciBpbnN0YW5jZSwgdGhlc2UgcGx1Z2lucyBjYW4gYmUgdXNlZCBmb3Igc2F2aW5nIGFuIEltYWdlLCBDYW52YXMgZWxlbWVudCBvciBmb3IgZXhwb3J0aW5nIHRoZSByYXcgaW1hZ2UgZGF0YSAocGl4ZWxzKS5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhlc2UgcGx1Z2lucyBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwICh3aWxsIGF1dG8tYWRkIGV4dHJhY3QgcGx1Z2luIHRvIHJlbmRlcmVyKVxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgcmVkIGNpcmNsZVxuICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweEZGMDAwMClcbiAqICAgICAuZHJhd0NpcmNsZSgwLCAwLCA1MCk7XG4gKlxuICogLy8gUmVuZGVyIHRoZSBncmFwaGljcyBhcyBhbiBIVE1MSW1hZ2VFbGVtZW50XG4gKiBjb25zdCBpbWFnZSA9IGFwcC5yZW5kZXJlci5wbHVnaW5zLmV4dHJhY3QuaW1hZ2UoZ3JhcGhpY3MpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRXh0cmFjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIGZvcm1hdCAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0gcXVhbGl0eSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm5zIC0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiAodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIGZvcm1hdCAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0gcXVhbGl0eSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm5zIC0gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICogQHBhcmFtIHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0gZnJhbWUgLSBUaGUgZnJhbWUgdGhlIGV4dHJhY3Rpb24gaXMgcmVzdHJpY3RlZCB0by5cbiAgICAgKiBAcmV0dXJucyAtIEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cbiAgICBFeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiAodGFyZ2V0LCBmcmFtZSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IGZyYW1lICE9PSBudWxsICYmIGZyYW1lICE9PSB2b2lkIDAgPyBmcmFtZSA6IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoIWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICAgICAgZnJhbWUud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbGlwWSA9IHRydWU7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChmcmFtZS53aWR0aCAqIHJlc29sdXRpb24pO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKE1hdGgucm91bmQoZnJhbWUueCAqIHJlc29sdXRpb24pLCBNYXRoLnJvdW5kKGZyYW1lLnkgKiByZXNvbHV0aW9uKSwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIHZhciBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgY2FudmFzRGF0YS5kYXRhKTtcbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuICAgICAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRfMSA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQoY2FudmFzQnVmZmVyLndpZHRoLCBjYW52YXNCdWZmZXIuaGVpZ2h0LCAxKTtcbiAgICAgICAgICAgIHRhcmdldF8xLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgLy8gd2UgY2FuJ3QgcmVuZGVyIHRvIGl0c2VsZiBiZWNhdXNlIHdlIHNob3VsZCBiZSBlbXB0eSBiZWZvcmUgcmVuZGVyLlxuICAgICAgICAgICAgdGFyZ2V0XzEuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyID0gdGFyZ2V0XzE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEBwYXJhbSBmcmFtZSAtIFRoZSBmcmFtZSB0aGUgZXh0cmFjdGlvbiBpcyByZXN0cmljdGVkIHRvLlxuICAgICAqIEByZXR1cm5zIC0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gKHRhcmdldCwgZnJhbWUpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IGZyYW1lICE9PSBudWxsICYmIGZyYW1lICE9PSB2b2lkIDAgPyBmcmFtZSA6IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgICAgICBmcmFtZS53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLnJvdW5kKGZyYW1lLndpZHRoICogcmVzb2x1dGlvbik7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pO1xuICAgICAgICB2YXIgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG4gICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucmVhZFBpeGVscyhNYXRoLnJvdW5kKGZyYW1lLnggKiByZXNvbHV0aW9uKSwgTWF0aC5yb3VuZChmcmFtZS55ICogcmVzb2x1dGlvbiksIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIEV4dHJhY3QuYXJyYXlQb3N0RGl2aWRlKHdlYmdsUGl4ZWxzLCB3ZWJnbFBpeGVscyk7XG4gICAgICAgIHJldHVybiB3ZWJnbFBpeGVscztcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGUgZXh0cmFjdC4gKi9cbiAgICBFeHRyYWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIHByZW11bHRpcGxpZWQgcGl4ZWwgZGF0YSBhbmQgcHJvZHVjZXMgcmVndWxhciBwaXhlbCBkYXRhXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gcGl4ZWxzIC0gYXJyYXkgb2YgcGl4ZWwgZGF0YVxuICAgICAqIEBwYXJhbSBvdXQgLSBvdXRwdXQgYXJyYXlcbiAgICAgKi9cbiAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSA9IGZ1bmN0aW9uIChwaXhlbHMsIG91dCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgICAgdmFyIGFscGhhID0gb3V0W2kgKyAzXSA9IHBpeGVsc1tpICsgM107XG4gICAgICAgICAgICBpZiAoYWxwaGEgIT09IDApIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAxXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAyXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBwaXhlbHNbaV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IHBpeGVsc1tpICsgMV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IHBpeGVsc1tpICsgMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgRXh0cmFjdC5leHRlbnNpb24gPSB7XG4gICAgICAgIG5hbWU6ICdleHRyYWN0JyxcbiAgICAgICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpbixcbiAgICB9O1xuICAgIHJldHVybiBFeHRyYWN0O1xufSgpKTtcblxuZXhwb3J0IHsgRXh0cmFjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdC5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2xvYWRlcnMgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvbG9hZGVycyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGV4dGVuc2lvbnMsIEV4dGVuc2lvblR5cGUsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiBqc2hpbnQgLVcwOTcgKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNpZ25hbEJpbmRpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogU2lnbmFsQmluZGluZyBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAY29uc3RydWN0cyBTaWduYWxCaW5kaW5nXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBFdmVudCBoYW5kbGVyIHRvIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvbmNlPWZhbHNlXSAtIFNob3VsZCB0aGlzIGxpc3RlbmVyIGJlIHJlbW92ZWQgYWZ0ZXIgZGlzcGF0Y2hcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3RoaXNBcmddIC0gVGhlIGNvbnRleHQgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgZnVuY3Rpb24gU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9mbiA9IGZuO1xuICAgICAgICB0aGlzLl9vbmNlID0gb25jZTtcbiAgICAgICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICAgIH1cbiAgICBTaWduYWxCaW5kaW5nLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbClcbiAgICAgICAgICAgIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX293bmVyLmRldGFjaCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU2lnbmFsQmluZGluZztcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSBzZWxmXG4gKiBAcGFyYW0gbm9kZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2FkZFNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICAgIGlmICghc2VsZi5faGVhZCkge1xuICAgICAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICAgICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICAgICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICAgIH1cbiAgICBub2RlLl9vd25lciA9IHNlbGY7XG4gICAgcmV0dXJuIG5vZGU7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaWduYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogTWluaVNpZ25hbCBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGxldCBteVNpZ25hbCA9IG5ldyBTaWduYWwoKTtcbiAgICAgKiBsZXQgYmluZGluZyA9IG15U2lnbmFsLmFkZChvblNpZ25hbCk7XG4gICAgICogbXlTaWduYWwuZGlzcGF0Y2goJ2ZvbycsICdiYXInKTtcbiAgICAgKiBteVNpZ25hbC5kZXRhY2goYmluZGluZyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gU2lnbmFsKCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIGF0dGFjaGVkIFNpZ25hbEJpbmRpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZXhpc3RzPWZhbHNlXSAtIFdlIG9ubHkgbmVlZCB0byBrbm93IGlmIHRoZXJlIGFyZSBoYW5kbGVycy5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaWduYWxCaW5kaW5nW10gfCBib29sZWFufSBBcnJheSBvZiBhdHRhY2hlZCBTaWduYWxCaW5kaW5nIG9yIEJvb2xlYW4gaWYgY2FsbGVkIHdpdGggZXhpc3RzID0gdHJ1ZVxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgU2lnbmFsLnByb3RvdHlwZS5oYW5kbGVycyA9IGZ1bmN0aW9uIChleGlzdHMpIHtcbiAgICAgICAgaWYgKGV4aXN0cyA9PT0gdm9pZCAwKSB7IGV4aXN0cyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgICAgaWYgKGV4aXN0cylcbiAgICAgICAgICAgIHsgcmV0dXJuICEhbm9kZTsgfVxuICAgICAgICB2YXIgZWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBub2RlIGlzIGEgU2lnbmFsQmluZGluZyBhdHRhY2hlZCB0byB0aGlzIE1pbmlTaWduYWxcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2lnbmFsQmluZGluZ30gbm9kZSAtIE5vZGUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgbm9kZSBpcyBhdHRhY2hlIHRvIG1pbmktc2lnbmFsXG4gICAgICovXG4gICAgU2lnbmFsLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNoYXMoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwYWNoZXMgYSBzaWduYWwgdG8gYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICAgICAqIEBwYXJhbSB7Li4uYW55fSBhcmdzXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEluZGljYXRpb24gaWYgd2UndmUgZW1pdHRlZCBhbiBldmVudC5cbiAgICAgKi9cbiAgICBTaWduYWwucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChub2RlLl9vbmNlKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kZXRhY2gobm9kZSk7IH1cbiAgICAgICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIENhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdGhpc0FyZ10gLSBUaGUgY29udGV4dCBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge1BJWEkuU2lnbmFsQmluZGluZ30gVGhlIFNpZ25hbEJpbmRpbmcgbm9kZSB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBTaWduYWwucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChmbiwgdGhpc0FyZykge1xuICAgICAgICBpZiAodGhpc0FyZyA9PT0gdm9pZCAwKSB7IHRoaXNBcmcgPSBudWxsOyB9XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2FkZFNpZ25hbEJpbmRpbmcodGhpcywgbmV3IFNpZ25hbEJpbmRpbmcoZm4sIGZhbHNlLCB0aGlzQXJnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb25seSBvbmNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gQ2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt0aGlzQXJnXSAtIFRoZSBjb250ZXh0IG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaWduYWxCaW5kaW5nfSBUaGUgU2lnbmFsQmluZGluZyBub2RlIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIFNpZ25hbC5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIChmbiwgdGhpc0FyZykge1xuICAgICAgICBpZiAodGhpc0FyZyA9PT0gdm9pZCAwKSB7IHRoaXNBcmcgPSBudWxsOyB9XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9hZGRTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYmluZGluZyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlNpZ25hbEJpbmRpbmd9IG5vZGUgLSBUaGUgYmluZGluZyBub2RlIHRoYXQgd2lsbCBiZSByZW1vdmVkLlxuICAgICAqIEByZXR1cm5zIHtTaWduYWx9IFRoZSBpbnN0YW5jZSBvbiB3aGljaCB0aGlzIG1ldGhvZCB3YXMgY2FsbGVkLlxuICAgICAgQGFwaSBwdWJsaWMgKi9cbiAgICBTaWduYWwucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIFNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcylcbiAgICAgICAgICAgIHsgcmV0dXJuIHRoaXM7IH0gLy8gdG9kbzogb3IgZXJyb3I/XG4gICAgICAgIGlmIChub2RlLl9wcmV2KVxuICAgICAgICAgICAgeyBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDsgfVxuICAgICAgICBpZiAobm9kZS5fbmV4dClcbiAgICAgICAgICAgIHsgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7IH1cbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHsgLy8gZmlyc3Qgbm9kZVxuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHsgLy8gbGFzdCBub2RlXG4gICAgICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRhY2ggYWxsIGxpc3RlbmVycy5cbiAgICAgKiBAcmV0dXJucyB7U2lnbmFsfSBUaGUgaW5zdGFuY2Ugb24gd2hpY2ggdGhpcyBtZXRob2Qgd2FzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBTaWduYWwucHJvdG90eXBlLmRldGFjaEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICB7IHJldHVybiB0aGlzOyB9XG4gICAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFNpZ25hbDtcbn0oKSk7XG5cbi8qKlxuICogZnVuY3Rpb24gZnJvbSBucG0gcGFja2FnZSBgcGFyc2VVcmlgLCBjb252ZXJ0ZWQgdG8gVFMgdG8gYXZvaWQgbGVmdHBhZCBpbmNpZGVudFxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIFtvcHRzXSAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc3RyaWN0TW9kZV0gLSB0eXBlIG9mIHBhcnNlclxuICovXG5mdW5jdGlvbiBwYXJzZVVyaShzdHIsIG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICB2YXIgbyA9IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICAgICAgcToge1xuICAgICAgICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgICAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlcjoge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICBsb29zZTogL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cik7XG4gICAgdmFyIHVyaSA9IHt9O1xuICAgIHZhciBpID0gMTQ7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgeyB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJzsgfVxuICAgIHVyaVtvLnEubmFtZV0gPSB7fTtcbiAgICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uIChfdDAsIHQxLCB0Mikge1xuICAgICAgICBpZiAodDEpXG4gICAgICAgICAgICB7IHVyaVtvLnEubmFtZV1bdDFdID0gdDI7IH1cbiAgICB9KTtcbiAgICByZXR1cm4gdXJpO1xufVxuXG4vLyB0ZXN0cyBpZiBDT1JTIGlzIHN1cHBvcnRlZCBpbiBYSFIsIGlmIG5vdCB3ZSBuZWVkIHRvIHVzZSBYRFJcbnZhciB1c2VYZHI7XG52YXIgdGVtcEFuY2hvciA9IG51bGw7XG4vLyBzb21lIHN0YXR1cyBjb25zdGFudHNcbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7XG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCQxKCkgeyB9XG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cbmZ1bmN0aW9uIHNldEV4dE1hcChtYXAsIGV4dG5hbWUsIHZhbCkge1xuICAgIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgICAgIGV4dG5hbWUgPSBleHRuYW1lLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgaWYgKCFleHRuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm5zIFRoZSB0eXBlLlxuICovXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICAgIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBhIHJlc291cmNlIGFuZCBhbGwgY2hpbGQgcmVzb3VyY2VzLlxuICpcbiAqIENhbiBiZSBleHRlbmRlZCBpbiBgR2xvYmFsTWl4aW5zLkxvYWRlclJlc291cmNlYC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBMb2FkZXJSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCBmb3IgYXVkaW8vdmlkZW8gbG9hZHMgeW91IGNhbiBwYXNzXG4gICAgICogICAgICBhbiBhcnJheSBvZiBzb3VyY2VzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2UuSU1ldGFkYXRhfSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlXG4gICAgICogICAgICBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2FkZXJSZXNvdXJjZShuYW1lLCB1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wJDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbWVyIGZvciBlbGVtZW50IGxvYWRzIHRvIGNoZWNrIGlmIHRoZXkgdGltZW91dC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGNvbXBsZXRlYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPbkVycm9yID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25UaW1lb3V0YCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPblRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG4gICAgICAgIC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMLCB1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDA7XG4gICAgICAgIHRoaXMubG9hZFR5cGUgPSBvcHRpb25zLmxvYWRUeXBlIHx8IHRoaXMuX2RldGVybWluZUxvYWRUeXBlKCk7XG4gICAgICAgIC8vIFRoZSB0eXBlIHVzZWQgdG8gbG9hZCB0aGUgcmVzb3VyY2UgdmlhIFhIUi4gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgICAgdGhpcy54aHJUeXBlID0gb3B0aW9ucy54aHJUeXBlO1xuICAgICAgICAvLyBFeHRyYSBpbmZvIGZvciBtaWRkbGV3YXJlLCBhbmQgY29udHJvbGxpbmcgc3BlY2lmaWNzIGFib3V0IGhvdyB0aGUgcmVzb3VyY2UgbG9hZHMuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAsIHRoZSBSZXNvdXJjZSBjbGFzcyB0YWtlcyBvd25lcnNoaXAgb2YgaXQuXG4gICAgICAgIC8vIE1lYW5pbmcgaXQgd2lsbCBtb2RpZnkgaXQgYXMgaXQgc2VlcyBmaXQuXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuICAgICAgICAvLyBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIFhIUiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuIFRoaXMgaXMgb25seSBzZXRcbiAgICAgICAgLy8gd2hlbiBgbG9hZFR5cGVgIGlzIGBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgICAgdGhpcy54aHIgPSBudWxsO1xuICAgICAgICAvLyBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvLyBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgICAgdGhpcy50eXBlID0gTG9hZGVyUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuICAgICAgICAvLyBUaGUgcHJvZ3Jlc3MgY2h1bmsgb3duZWQgYnkgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcbiAgICAgICAgLy8gVGhlIGBkZXF1ZXVlYCBtZXRob2QgdGhhdCB3aWxsIGJlIHVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgYXN5bmMgcXVldWUgZGVxdWV1ZSBtZXRob2RcbiAgICAgICAgLy8gdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wJDE7XG4gICAgICAgIC8vIFVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgb24gbG9hZCBiaW5kaW5nIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuICAgICAgICAvLyBUaGUgdGltZXIgZm9yIGVsZW1lbnQgbG9hZHMgdG8gY2hlY2sgaWYgdGhleSB0aW1lb3V0LlxuICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuICAgICAgICB0aGlzLl9ib3VuZENvbXBsZXRlID0gdGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRPblRpbWVvdXQgPSB0aGlzLl9vblRpbWVvdXQuYmluZCh0aGlzKTtcbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgLy8gRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuICAgICAgICAvLyBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgICAgLy8gTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgICAgLy8gc28gc29tZXRpbWVzIGl0IG1heSBub3QgYmUgYXZhaWxhYmxlLiBJZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgLy8gaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICAgIC8vIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgICAgIC8vIERpc3BhdGNoZWQgb25jZSB0aGlzIHJlc291cmNlIGhhcyBsb2FkZWQsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpdCB3aWxsXG4gICAgICAgIC8vIGJlIGluIHRoZSBgZXJyb3JgIHByb3BlcnR5LlxuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG4gICAgICAgIC8vIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBTaWduYWwoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIExvYWRlclJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gKGV4dG5hbWUsIGxvYWRUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChMb2FkZXJSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlID0gZnVuY3Rpb24gKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKExvYWRlclJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUsIFwiaXNEYXRhVXJsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyB0byBsb2FkLlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJSZXNvdXJjZVxuICAgICAgICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuUmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLlJlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRhZ2UgLSBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIGxvYWQgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJSZXNvdXJjZVxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuUmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclJlc291cmNlXG4gICAgICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IElNZXRhZGF0YVxuICAgICAgICAgKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbbG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgICAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICAgICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICAgICAgICogICAgICBvZiBhIHZpZGVvL2F1ZGlvIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsXG4gICAgICAgICAqICAgICAgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgdXJsIGluZGV4LlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUsIFwiaXNDb21wbGV0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAgICAgKiBsb2FkZWQuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhMb2FkZXJSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRlclJlc291cmNlLnByb3RvdHlwZSwgXCJpc0xvYWRpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIGxvYWRpbmcsXG4gICAgICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHVzZSBmb3IgdGhlIGVycm9yXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYWJvcnQgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgaWdub3JlIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RvcmUgZXJyb3JcbiAgICAgICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgLy8gY2xlYXIgZXZlbnRzIGJlZm9yZSBjYWxsaW5nIGFib3J0c1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuICAgICAgICAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICAgICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgLy8gc2luZ2xlIHNvdXJjZVxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5zcmMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gTG9hZGVyUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbXVsdGktc291cmNlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5kYXRhLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uZSBub3cuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdG8gY2FsbCBvbmNlIHRoZSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBjYihfdGhpcyk7IH0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNiKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhMb2FkZXJSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG4gICAgICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IExvYWRlclJlc291cmNlLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIExvYWRlclJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBMb2FkZXJSZXNvdXJjZS5UWVBFLkFVRElPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gTG9hZGVyUmVzb3VyY2UuVFlQRS5WSURFTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VYZHIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZVhkciA9ICEhKGdsb2JhbFRoaXMuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiAobmV3IFhNTEh0dHBSZXF1ZXN0KCkpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh1c2VYZHIgJiYgdGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGhyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgICAqIEBwYXJhbSBmbGFnIC0gVGhlIGZsYWcgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9oYXNGbGFnID0gZnVuY3Rpb24gKGZsYWcpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIGZsYWcpICE9PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICogQHBhcmFtIGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9zZXRGbGFnID0gZnVuY3Rpb24gKGZsYWcsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyAodGhpcy5fZmxhZ3MgfCBmbGFnKSA6ICh0aGlzLl9mbGFncyAmIH5mbGFnKTtcbiAgICB9O1xuICAgIC8qKiBDbGVhcnMgYWxsIHRoZSBldmVudHMgZnJvbSB0aGUgdW5kZXJseWluZyBsb2FkaW5nIHNvdXJjZS4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2NsZWFyRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZWxlbWVudFRpbWVyKTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgaWYgKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEZpbmFsaXplcyB0aGUgbG9hZC4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2ZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldEZsYWcoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2V0RmxhZyhMb2FkZXJSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICAgKiBsaWtlIGFuIEhUTUxJbWFnZUVsZW1lbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5fbG9hZEVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnaW1hZ2UnICYmIHR5cGVvZiBnbG9iYWxUaGlzLkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBtdWx0aXBsZSBzb3VyY2VzLFxuICAgICAqIGxpa2UgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBIVE1MVmlkZW9FbGVtZW50LlxuICAgICAqIEBwYXJhbSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU291cmNlRWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIGdsb2JhbFRoaXMuQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChcIlVuc3VwcG9ydGVkIGVsZW1lbnQ6IFwiICsgdHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICAgICAgICAgIHZhciBtaW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51cmwubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzWzBdIDogbWltZVR5cGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEubG9hZCgpO1xuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkWGhyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgLy8gc2VuZCBjcmVkZW50aWFscyB3aGVuIGNyb3NzT3JpZ2luIHdpdGggY3JlZGVudGlhbHMgcmVxdWVzdGVkXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luID09PSAndXNlLWNyZWRlbnRpYWxzJykge1xuICAgICAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuICAgICAgICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuICAgICAgICB4aHIudGltZW91dCA9IHRoaXMudGltZW91dDtcbiAgICAgICAgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG4gICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT05cbiAgICAgICAgICAgIHx8IHRoaXMueGhyVHlwZSA9PT0gTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMueGhyVHlwZTtcbiAgICAgICAgfVxuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9O1xuICAgIC8qKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLiAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5fbG9hZFhkciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHhkciA9IHRoaXMueGhyID0gbmV3IGdsb2JhbFRoaXMuWERvbWFpblJlcXVlc3QoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgICAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgICAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTc4Njk2Ni94ZG9tYWlucmVxdWVzdC1hYm9ydHMtcG9zdC1vbi1pZS05XG4gICAgICAgIHhkci50aW1lb3V0ID0gdGhpcy50aW1lb3V0IHx8IDUwMDA7IC8vIFhEUiBuZWVkcyBhIHRpbWVvdXQgdmFsdWUgb3IgaXQgYnJlYWtzIGluIElFOVxuICAgICAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICAgICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IHRoaXMuX2JvdW5kT25Qcm9ncmVzcztcbiAgICAgICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuICAgICAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuICAgICAgICAvLyBOb3RlOiBUaGUgeGRyLnNlbmQoKSBjYWxsIGlzIHdyYXBwZWQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYW5cbiAgICAgICAgLy8gaXNzdWUgd2l0aCB0aGUgaW50ZXJmYWNlIHdoZXJlIHNvbWUgcmVxdWVzdHMgYXJlIGxvc3QgaWYgbXVsdGlwbGVcbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3RzIGFyZSBiZWluZyBzZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgICAgIC8vIFNvbWUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2lzc3Vlcy8xMjQ4XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4geGRyLnNlbmQoKTsgfSwgMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICAgKiBAcGFyYW0gdXJsIC0gVGhlIHNvdXJjZSBVUkwgdG8gbG9hZCBmcm9tLlxuICAgICAqIEBwYXJhbSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgICAqIEByZXR1cm5zIFRoZSBzb3VyY2UgZWxlbWVudC5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2NyZWF0ZVNvdXJjZSA9IGZ1bmN0aW9uICh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICAgICAgaWYgKCFtaW1lKSB7XG4gICAgICAgICAgICBtaW1lID0gdHlwZSArIFwiL1wiICsgdGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuICAgICAgICBzb3VyY2Uuc3JjID0gdXJsO1xuICAgICAgICBzb3VyY2UudHlwZSA9IG1pbWU7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5hYm9ydChcIkZhaWxlZCB0byBsb2FkIGVsZW1lbnQgdXNpbmc6IFwiICsgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICAgKiBAcGFyYW0gZXZlbnQgLSBQcm9ncmVzcyBldmVudC5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX29uUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LiAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5fb25UaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFib3J0KFwiTG9hZCB0aW1lZCBvdXQuXCIpO1xuICAgIH07XG4gICAgLyoqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMgKyBcIiwgdGV4dDogXFxcIlwiICsgeGhyLnN0YXR1c1RleHQgKyBcIlxcXCJcIik7XG4gICAgfTtcbiAgICAvKiogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLiAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5feGhyT25UaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB0aW1lZCBvdXQuXCIpO1xuICAgIH07XG4gICAgLyoqIENhbGxlZCBpZiBhbiBhYm9ydCBldmVudCBmaXJlcyBmb3IgeGhyL3hkci4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uQWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLlwiKTtcbiAgICB9O1xuICAgIC8qKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgICAgICB2YXIgdGV4dCA9ICcnO1xuICAgICAgICB2YXIgc3RhdHVzID0gdHlwZW9mIHhoci5zdGF0dXMgPT09ICd1bmRlZmluZWQnID8gU1RBVFVTX09LIDogeGhyLnN0YXR1czsgLy8gWERSIGhhcyBubyBgLnN0YXR1c2AsIGFzc3VtZSAyMDAuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlb2YgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAgICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXR1c1R5cGUgPSAoc3RhdHVzIC8gMTAwKSB8IDA7XG4gICAgICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IExvYWRlclJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGpzb24sIHBhcnNlIGludG8ganNvbiBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IExvYWRlclJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogXCIgKyBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHhtbCwgcGFyc2UgaW50byBhbiB4bWwgZG9jdW1lbnQgb3IgZGl2IGVsZW1lbnRcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsVGhpcy5ET01QYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gTG9hZGVyUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlJDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiBcIiArIGUkMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChcIltcIiArIHhoci5zdGF0dXMgKyBcIl0gXCIgKyB4aHIuc3RhdHVzVGV4dCArIFwiOiBcIiArIHhoci5yZXNwb25zZVVSTCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAgICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gICAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0gW2xvYz1nbG9iYWxUaGlzLmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgc2FuZGJveGVkIGlmcmFtZSB3aXRob3V0IHRoZSAnYWxsb3ctc2FtZS1vcmlnaW4nIGF0dHJpYnV0ZSB3aWxsIGhhdmUgYSBzcGVjaWFsXG4gICAgICAgIC8vIG9yaWdpbiBkZXNpZ25lZCBub3QgdG8gbWF0Y2ggZ2xvYmFsVGhpcy5sb2NhdGlvbi5vcmlnaW4sIGFuZCB3aWxsIGFsd2F5cyByZXF1aXJlXG4gICAgICAgIC8vIGNyb3NzT3JpZ2luIHJlcXVlc3RzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgbG9jYXRpb24gbWF0Y2hlcy5cbiAgICAgICAgaWYgKGdsb2JhbFRoaXMub3JpZ2luICE9PSBnbG9iYWxUaGlzLmxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRlZmF1bHQgaXMgZ2xvYmFsVGhpcy5sb2NhdGlvblxuICAgICAgICBsb2MgPSBsb2MgfHwgZ2xvYmFsVGhpcy5sb2NhdGlvbjtcbiAgICAgICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgICAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICAgICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgICAgICB2YXIgcGFyc2VkVXJsID0gcGFyc2VVcmkodGVtcEFuY2hvci5ocmVmLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHZhciBzYW1lUG9ydCA9ICghcGFyc2VkVXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAocGFyc2VkVXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcbiAgICAgICAgdmFyIHByb3RvY29sID0gcGFyc2VkVXJsLnByb3RvY29sID8gcGFyc2VkVXJsLnByb3RvY29sICsgXCI6XCIgOiAnJztcbiAgICAgICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgICAgIGlmIChwYXJzZWRVcmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge1BJWEkuTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgICAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExvYWRlclJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkxvYWRlclJlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTG9hZGVyUmVzb3VyY2UuX2xvYWRUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuWEhSO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIFt1cmxdIC0gdXJsIHRvIHBhcnNlLCBgdGhpcy51cmxgIGJ5IGRlZmF1bHQuXG4gICAgICogQHJldHVybnMgVGhlIGV4dGVuc2lvbi5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKHVybCA9PT0gdm9pZCAwKSB7IHVybCA9IHRoaXMudXJsOyB9XG4gICAgICAgIHZhciBleHQgPSAnJztcbiAgICAgICAgaWYgKHRoaXMuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICB2YXIgc2xhc2hJbmRleCA9IHVybC5pbmRleE9mKCcvJyk7XG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgICAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG4gICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2dldE1pbWVGcm9tWGhyVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuICAgICAgICAgICAgY2FzZSBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9COlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG4gICAgICAgICAgICBjYXNlIExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY2FzZSBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUOlxuICAgICAgICAgICAgY2FzZSBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUOlxuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RleHQvcGxhaW4nO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTG9hZGVyUmVzb3VyY2U7XG59KCkpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbihmdW5jdGlvbiAoTG9hZGVyUmVzb3VyY2UpIHtcbiAgICAoZnVuY3Rpb24gKFNUQVRVU19GTEFHUykge1xuICAgICAgICAvKiogTm9uZSAqL1xuICAgICAgICBTVEFUVVNfRkxBR1NbU1RBVFVTX0ZMQUdTW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgICAgIC8qKiBEYXRhIFVSTCAqL1xuICAgICAgICBTVEFUVVNfRkxBR1NbU1RBVFVTX0ZMQUdTW1wiREFUQV9VUkxcIl0gPSAxXSA9IFwiREFUQV9VUkxcIjtcbiAgICAgICAgLyoqIENvbXBsZXRlICovXG4gICAgICAgIFNUQVRVU19GTEFHU1tTVEFUVVNfRkxBR1NbXCJDT01QTEVURVwiXSA9IDJdID0gXCJDT01QTEVURVwiO1xuICAgICAgICAvKiogTG9hZGluZyAqL1xuICAgICAgICBTVEFUVVNfRkxBR1NbU1RBVFVTX0ZMQUdTW1wiTE9BRElOR1wiXSA9IDRdID0gXCJMT0FESU5HXCI7XG4gICAgfSkoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTIHx8IChMb2FkZXJSZXNvdXJjZS5TVEFUVVNfRkxBR1MgPSB7fSkpO1xuICAgIChmdW5jdGlvbiAoVFlQRSkge1xuICAgICAgICAvKiogVW5rbm93biAqL1xuICAgICAgICBUWVBFW1RZUEVbXCJVTktOT1dOXCJdID0gMF0gPSBcIlVOS05PV05cIjtcbiAgICAgICAgLyoqIEpTT04gKi9cbiAgICAgICAgVFlQRVtUWVBFW1wiSlNPTlwiXSA9IDFdID0gXCJKU09OXCI7XG4gICAgICAgIC8qKiBYTUwgKi9cbiAgICAgICAgVFlQRVtUWVBFW1wiWE1MXCJdID0gMl0gPSBcIlhNTFwiO1xuICAgICAgICAvKiogSW1hZ2UgKi9cbiAgICAgICAgVFlQRVtUWVBFW1wiSU1BR0VcIl0gPSAzXSA9IFwiSU1BR0VcIjtcbiAgICAgICAgLyoqIEF1ZGlvICovXG4gICAgICAgIFRZUEVbVFlQRVtcIkFVRElPXCJdID0gNF0gPSBcIkFVRElPXCI7XG4gICAgICAgIC8qKiBWaWRlbyAqL1xuICAgICAgICBUWVBFW1RZUEVbXCJWSURFT1wiXSA9IDVdID0gXCJWSURFT1wiO1xuICAgICAgICAvKiogUGxhaW4gdGV4dCAqL1xuICAgICAgICBUWVBFW1RZUEVbXCJURVhUXCJdID0gNl0gPSBcIlRFWFRcIjtcbiAgICB9KShMb2FkZXJSZXNvdXJjZS5UWVBFIHx8IChMb2FkZXJSZXNvdXJjZS5UWVBFID0ge30pKTtcbiAgICAoZnVuY3Rpb24gKExPQURfVFlQRSkge1xuICAgICAgICAvKiogVXNlcyBYTUxIdHRwUmVxdWVzdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICAgICAgTE9BRF9UWVBFW0xPQURfVFlQRVtcIlhIUlwiXSA9IDFdID0gXCJYSFJcIjtcbiAgICAgICAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgICAgIExPQURfVFlQRVtMT0FEX1RZUEVbXCJJTUFHRVwiXSA9IDJdID0gXCJJTUFHRVwiO1xuICAgICAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICAgICAgTE9BRF9UWVBFW0xPQURfVFlQRVtcIkFVRElPXCJdID0gM10gPSBcIkFVRElPXCI7XG4gICAgICAgIC8qKiBVc2VzIGEgYFZpZGVvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgICAgIExPQURfVFlQRVtMT0FEX1RZUEVbXCJWSURFT1wiXSA9IDRdID0gXCJWSURFT1wiO1xuICAgIH0pKExvYWRlclJlc291cmNlLkxPQURfVFlQRSB8fCAoTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFID0ge30pKTtcbiAgICAoZnVuY3Rpb24gKFhIUl9SRVNQT05TRV9UWVBFKSB7XG4gICAgICAgIC8qKiBzdHJpbmcgKi9cbiAgICAgICAgWEhSX1JFU1BPTlNFX1RZUEVbXCJERUZBVUxUXCJdID0gXCJ0ZXh0XCI7XG4gICAgICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgICAgICBYSFJfUkVTUE9OU0VfVFlQRVtcIkJVRkZFUlwiXSA9IFwiYXJyYXlidWZmZXJcIjtcbiAgICAgICAgLyoqIEJsb2IgKi9cbiAgICAgICAgWEhSX1JFU1BPTlNFX1RZUEVbXCJCTE9CXCJdID0gXCJibG9iXCI7XG4gICAgICAgIC8qKiBEb2N1bWVudCAqL1xuICAgICAgICBYSFJfUkVTUE9OU0VfVFlQRVtcIkRPQ1VNRU5UXCJdID0gXCJkb2N1bWVudFwiO1xuICAgICAgICAvKiogT2JqZWN0ICovXG4gICAgICAgIFhIUl9SRVNQT05TRV9UWVBFW1wiSlNPTlwiXSA9IFwianNvblwiO1xuICAgICAgICAvKiogU3RyaW5nICovXG4gICAgICAgIFhIUl9SRVNQT05TRV9UWVBFW1wiVEVYVFwiXSA9IFwidGV4dFwiO1xuICAgIH0pKExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFIHx8IChMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHt9KSk7XG4gICAgTG9hZGVyUmVzb3VyY2UuX2xvYWRUeXBlTWFwID0ge1xuICAgICAgICAvLyBpbWFnZXNcbiAgICAgICAgZ2lmOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgIHBuZzogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICBibXA6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAganBnOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgIGpwZWc6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgdGlmOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgIHRpZmY6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgd2VicDogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICB0Z2E6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgYXZpZjogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICBzdmc6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgJ3N2Zyt4bWwnOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgIC8vIGF1ZGlvXG4gICAgICAgIG1wMzogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgICAgICBvZ2c6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgICAgICAgd2F2OiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgICAgIC8vIHZpZGVvc1xuICAgICAgICBtcDQ6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbiAgICAgICAgd2VibTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICAgIH07XG4gICAgTG9hZGVyUmVzb3VyY2UuX3hoclR5cGVNYXAgPSB7XG4gICAgICAgIC8vIHhtbFxuICAgICAgICB4aHRtbDogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgICAgIGh0bWw6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgICAgICBodG06IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgICAgICB4bWw6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgICAgICB0bXg6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgICAgICBzdmc6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgICAgICAvLyBUaGlzIHdhcyBhZGRlZCB0byBoYW5kbGUgVGlsZWQgVGlsZXNldCBYTUwsIGJ1dCAudHN4IGlzIGFsc28gYSBUeXBlU2NyaXB0IFJlYWN0IENvbXBvbmVudC5cbiAgICAgICAgLy8gU2luY2UgaXQgaXMgd2F5IGxlc3MgbGlrZWx5IGZvciBwZW9wbGUgdG8gYmUgbG9hZGluZyBUeXBlU2NyaXB0IGZpbGVzIGluc3RlYWQgb2YgVGlsZWQgZmlsZXMsXG4gICAgICAgIC8vIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGZpbmUuXG4gICAgICAgIHRzeDogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgICAgIC8vIGltYWdlc1xuICAgICAgICBnaWY6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgICAgIHBuZzogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICAgICAgYm1wOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgICAgICBqcGc6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgICAgIGpwZWc6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgICAgIHRpZjogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICAgICAgdGlmZjogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICAgICAgd2VicDogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICAgICAgdGdhOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgICAgICBhdmlmOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgICAgICAvLyBqc29uXG4gICAgICAgIGpzb246IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04sXG4gICAgICAgIC8vIHRleHRcbiAgICAgICAgdGV4dDogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgICAgICAgdHh0OiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgICAgICAvLyBmb250c1xuICAgICAgICB0dGY6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixcbiAgICAgICAgb3RmOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gICAgfTtcbiAgICAvLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcbiAgICBMb2FkZXJSZXNvdXJjZS5FTVBUWV9HSUYgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PSc7XG59KShMb2FkZXJSZXNvdXJjZSB8fCAoTG9hZGVyUmVzb3VyY2UgPSB7fSkpO1xuXG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBfbm9vcCgpIHtcbn1cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBUaGUgd3JhcHBpbmcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbGxGbiA9IGZuO1xuICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFzeW5jUXVldWVJdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1F1ZXVlSXRlbShkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBBc3luY1F1ZXVlSXRlbTtcbn0oKSk7XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXN5bmNRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gd29ya2VyXG4gICAgICogQHBhcmFtIGNvbmN1cnJlbmN5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1F1ZXVlKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGNvbmN1cnJlbmN5ID09PSB2b2lkIDApIHsgY29uY3VycmVuY3kgPSAxOyB9XG4gICAgICAgIHRoaXMud29ya2VycyA9IDA7XG4gICAgICAgIHRoaXMuc2F0dXJhdGVkID0gX25vb3A7XG4gICAgICAgIHRoaXMudW5zYXR1cmF0ZWQgPSBfbm9vcDtcbiAgICAgICAgdGhpcy5lbXB0eSA9IF9ub29wO1xuICAgICAgICB0aGlzLmRyYWluID0gX25vb3A7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBfbm9vcDtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Rhc2tzID0gW107XG4gICAgICAgIHRoaXMuX2luc2VydCA9IGZ1bmN0aW9uIChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIF90aGlzLmlkbGUoKSkge1xuICAgICAgICAgICAgICAgIC8vIGNhbGwgZHJhaW4gaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIHRhc2tzXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5kcmFpbigpOyB9LCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXRlbSA9IG5ldyBBc3luY1F1ZXVlSXRlbShkYXRhLCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IF9ub29wKTtcbiAgICAgICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoX3RoaXMucHJvY2VzcywgMSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdoaWxlICghX3RoaXMucGF1c2VkICYmIF90aGlzLndvcmtlcnMgPCBfdGhpcy5jb25jdXJyZW5jeSAmJiBfdGhpcy5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBfdGhpcy5fdGFza3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy53b3JrZXJzICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLndvcmtlcnMgPT09IF90aGlzLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fd29ya2VyKHRhc2suZGF0YSwgb25seU9uY2UoX3RoaXMuX25leHQodGFzaykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fd29ya2VyID0gd29ya2VyO1xuICAgICAgICBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBjb25jdXJyZW5jeSAvIDQuMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHRhc2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFzeW5jUXVldWUucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy53b3JrZXJzIC09IDE7XG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3MpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IoYXJnc1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy53b3JrZXJzIDw9IChfdGhpcy5jb25jdXJyZW5jeSAtIF90aGlzLmJ1ZmZlcikpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51bnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmlkbGUoKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYWluKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvLyBUaGF0IHdhcyBpbiBvYmplY3RcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuICAgIEFzeW5jUXVldWUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5faW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5raWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndvcmtlcnMgPSAwO1xuICAgICAgICB0aGlzLmRyYWluID0gX25vb3A7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90YXNrcyA9IFtdO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2luc2VydChkYXRhLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXNrcy5sZW5ndGg7XG4gICAgfTtcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5ydW5uaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53b3JrZXJzO1xuICAgIH07XG4gICAgQXN5bmNRdWV1ZS5wcm90b3R5cGUuaWRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rhc2tzLmxlbmd0aCArIHRoaXMud29ya2VycyA9PT0gMDtcbiAgICB9O1xuICAgIEFzeW5jUXVldWUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgfTtcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAvLyBOZWVkIHRvIGNhbGwgdGhpcy5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgICAgLy8gd29ya2VyIHRvIHByZXNlcnZlIGZ1bGwgY29uY3VycmVuY3kgYWZ0ZXIgcGF1c2VcbiAgICAgICAgZm9yICh2YXIgdyA9IDE7IHcgPD0gdGhpcy5jb25jdXJyZW5jeTsgdysrKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZSwgb3Igb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAgICAgKi9cbiAgICBBc3luY1F1ZXVlLmVhY2hTZXJpZXMgPSBmdW5jdGlvbiAoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgfHwgaSA9PT0gbGVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWZlck5leHQpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gICAgICovXG4gICAgQXN5bmNRdWV1ZS5xdWV1ZSA9IGZ1bmN0aW9uICh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gICAgICAgIHJldHVybiBuZXcgQXN5bmNRdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KTtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY1F1ZXVlO1xufSgpKTtcblxuLy8gc29tZSBjb25zdGFudHNcbnZhciBNQVhfUFJPR1JFU1MgPSAxMDA7XG52YXIgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcbi8qKlxuICogVGhlIG5ldyBsb2FkZXIsIGZvcmtlZCBmcm9tIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vIG9yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5Mb2FkZXIoKTsgLy8gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJhc2VVcmwgLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAqIEBwYXJhbSBjb25jdXJyZW5jeSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoYmFzZVVybCA9PT0gdm9pZCAwKSB7IGJhc2VVcmwgPSAnJzsgfVxuICAgICAgICBpZiAoY29uY3VycmVuY3kgPT09IHZvaWQgMCkgeyBjb25jdXJyZW5jeSA9IDEwOyB9XG4gICAgICAgIC8qKiBUaGUgcHJvZ3Jlc3MgcGVyY2VudCBvZiB0aGUgbG9hZGVyIGdvaW5nIHRocm91Z2ggdGhlIHF1ZXVlLiAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgLyoqIExvYWRpbmcgc3RhdGUgb2YgdGhlIGxvYWRlciwgdHJ1ZSBpZiBpdCBpcyBjdXJyZW50bHkgbG9hZGluZyByZXNvdXJjZXMuICovXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gZXZlcnkgVVJMIGFkZGVkIHRvIHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgc2hvdWxkIGJlIGEgdmFsaWQgcXVlcnkgc3RyaW5nICp3aXRob3V0KiB0aGUgcXVlc3Rpb24tbWFyayAoYD9gKS4gVGhlIGxvYWRlciB3aWxsXG4gICAgICAgICAqIGFsc28gKm5vdCogZXNjYXBlIHZhbHVlcyBmb3IgeW91LiBNYWtlIHN1cmUgdG8gZXNjYXBlIHlvdXIgcGFyYW1ldGVycyB3aXRoXG4gICAgICAgICAqIFtgZW5jb2RlVVJJQ29tcG9uZW50YF0oaHR0cHM6Ly9tZG4uaW8vZW5jb2RlVVJJQ29tcG9uZW50KSBiZWZvcmUgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogbG9hZGVyLmRlZmF1bHRRdWVyeVN0cmluZyA9ICd1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCc7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICAgICAqIGxvYWRlci5hZGQoJ2ltYWdlLnBuZycpLmxvYWQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogbG9hZGVyLnJlc2V0KCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dj0xJnVzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpYW1nZS5wbmc/dj0xJykubG9hZCgpO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcbiAgICAgICAgLyoqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLiAqL1xuICAgICAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG4gICAgICAgIC8qKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLiAqL1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUgPSBbXTtcbiAgICAgICAgLyoqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuICovXG4gICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAgICAgKiBAcGFyYW0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSBkIC0gVGhlIGRlcXVldWUgZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHsgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7IH07XG4gICAgICAgIC8qKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS4gKi9cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZyA9IFtdO1xuICAgICAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyLCBkKSB7IHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpOyB9O1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IEFzeW5jUXVldWUucXVldWUodGhpcy5fYm91bmRMb2FkUmVzb3VyY2UsIGNvbmN1cnJlbmN5KTtcbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgU2lnbmFsKCk7XG4gICAgICAgIHRoaXMub25Mb2FkID0gbmV3IFNpZ25hbCgpO1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJlID0gcGx1Z2luLnByZSwgdXNlID0gcGx1Z2luLnVzZTtcbiAgICAgICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZShwcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXNlKHVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgYWRkLCBwYXJhbXMgaGF2ZSBzdHJpY3Qgb3JkZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm5zIFRoZSBsb2FkZXIgaXRzZWxmLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX2FkZCA9IGZ1bmN0aW9uIChuYW1lLCB1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGlmIGxvYWRpbmcgYWxyZWFkeSB5b3UgY2FuIG9ubHkgYWRkIHJlc291cmNlcyB0aGF0IGhhdmUgYSBwYXJlbnQuXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcgJiYgKCFvcHRpb25zIHx8ICFvcHRpb25zLnBhcmVudFJlc291cmNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIHJlc291cmNlcyB3aGlsZSB0aGUgbG9hZGVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb3VyY2UgbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBhbHJlYWR5IGV4aXN0cy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG4gICAgICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgTG9hZGVyUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ub25BZnRlck1pZGRsZXdhcmUub25jZShjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYWN0aXZlbHkgbG9hZGluZywgbWFrZSBzdXJlIHRvIGFkanVzdCBwcm9ncmVzcyBjaHVua3MgZm9yIHRoYXQgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICAgICAgICB2YXIgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICghcGFyZW50LmNoaWxkcmVuW2ldLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuLnB1c2gocGFyZW50LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG4gICAgICAgICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuICAgICAgICAgICAgcGFyZW50LnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbltpXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgdGhlIHJlc291cmNlIHRvIHRoZSBxdWV1ZVxuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJucyBUaGUgbG9hZGVyIGl0c2VsZi5cbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLnByZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLnB1c2goZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHBhcmFtIGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybnMgVGhlIGxvYWRlciBpdHNlbGYuXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLnB1c2goZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgcXVldWUgb2YgdGhlIGxvYWRlciB0byBwcmVwYXJlIGZvciBhIG5ldyBsb2FkLlxuICAgICAqIEByZXR1cm5zIFRoZSBsb2FkZXIgaXRzZWxmLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuICAgICAgICAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuICAgICAgICAgICAgaWYgKHJlcy5fb25Mb2FkQmluZGluZykge1xuICAgICAgICAgICAgICAgIHJlcy5fb25Mb2FkQmluZGluZy5kZXRhY2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLmFib3J0KCdsb2FkZXIgcmVzZXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBsb2FkaW5nIHRoZSBxdWV1ZWQgcmVzb3VyY2VzLlxuICAgICAqIEBwYXJhbSBjYiAtIE9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBib3VuZCB0byB0aGUgYGNvbXBsZXRlYCBldmVudC5cbiAgICAgKiBAcmV0dXJucyBUaGUgbG9hZGVyIGl0c2VsZi5cbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJzYuNS4wJywgJ0BwaXhpL2xvYWRlcnMgaXMgYmVpbmcgcmVwbGFjZWQgd2l0aCBAcGl4aS9hc3NldHMgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4nKTtcbiAgICAgICAgLy8gcmVnaXN0ZXIgY29tcGxldGUgY2FsbGJhY2sgaWYgdGhleSBwYXNzIG9uZVxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHF1ZXVlIGhhcyBhbHJlYWR5IHN0YXJ0ZWQgd2UgYXJlIGRvbmUgaGVyZVxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjaHVuayA9IE1BWF9QUk9HUkVTUyAvIG51bVRhc2tzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub3RpZnkgd2UgYXJlIHN0YXJ0aW5nXG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgICAgICAvLyBzdGFydCBsb2FkaW5nXG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2FkZXIucHJvdG90eXBlLCBcImNvbmN1cnJlbmN5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICogQHBhcmFtIHVybCAtIFRoZSB1cmwgdG8gcHJlcGFyZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgcHJlcGFyZWQgdXJsLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZVVyaSh1cmwsIHsgc3RyaWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cbiAgICAgICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2VVcmwubGVuZ3RoXG4gICAgICAgICAgICAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgXCIvXCIgKyB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKCc/JykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiJlwiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCI/XCIgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSBoYXNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIHNpbmdsZSByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0gZGVxdWV1ZSAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gd2UgbmVlZCB0byBkZXF1ZXVlIHRoaXMgaXRlbS5cbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGRlcXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlO1xuICAgICAgICAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgQXN5bmNRdWV1ZS5lYWNoU2VyaWVzKHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpcywgcmVzb3VyY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgYmVmb3JlIG1pZGRsZXdhcmUgbWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLFxuICAgICAgICAgICAgICAgIC8vIGJyZWFrIGFuZCBkb24ndCBwcm9jZXNzIGFueSBtb3JlIGJlZm9yZSBtaWRkbGV3YXJlXG4gICAgICAgICAgICAgICAgbmV4dChyZXNvdXJjZS5pc0NvbXBsZXRlID8ge30gOiBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoX3RoaXMuX29uTG9hZCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcbiAgICAvKiogQ2FsbGVkIG9uY2UgbG9hZGluZyBoYXMgc3RhcnRlZC4gKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vblN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuICAgIH07XG4gICAgLyoqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC4gKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gTUFYX1BST0dSRVNTO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsIHRoaXMucmVzb3VyY2VzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgICAqIEBwYXJhbSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vbkxvYWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuICAgICAgICAvLyByZW1vdmUgdGhpcyByZXNvdXJjZSBmcm9tIHRoZSBhc3luYyBxdWV1ZSwgYW5kIGFkZCBpdCB0byBvdXIgbGlzdCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgYmVpbmcgcGFyc2VkXG4gICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcucHVzaChyZXNvdXJjZSk7XG4gICAgICAgIHJlc291cmNlLl9kZXF1ZXVlKCk7XG4gICAgICAgIC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgICAgQXN5bmNRdWV1ZS5lYWNoU2VyaWVzKHRoaXMuX2FmdGVyTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICAgICAgICBmbi5jYWxsKF90aGlzLCByZXNvdXJjZSwgbmV4dCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcbiAgICAgICAgICAgIF90aGlzLnByb2dyZXNzID0gTWF0aC5taW4oTUFYX1BST0dSRVNTLCBfdGhpcy5wcm9ncmVzcyArIHJlc291cmNlLnByb2dyZXNzQ2h1bmspO1xuICAgICAgICAgICAgX3RoaXMub25Qcm9ncmVzcy5kaXNwYXRjaChfdGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgX3RoaXMsIHJlc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uTG9hZC5kaXNwYXRjaChfdGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuX3Jlc291cmNlc1BhcnNpbmcuc3BsaWNlKF90aGlzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTtcbiAgICAgICAgICAgIC8vIGRvIGNvbXBsZXRpb24gY2hlY2tcbiAgICAgICAgICAgIGlmIChfdGhpcy5fcXVldWUuaWRsZSgpICYmIF90aGlzLl9yZXNvdXJjZXNQYXJzaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG4gICAgLyoqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLiAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRlciwgXCJzaGFyZWRcIiwge1xuICAgICAgICAvKiogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcmVkID0gTG9hZGVyLl9zaGFyZWQ7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZCkge1xuICAgICAgICAgICAgICAgIHNoYXJlZCA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgTG9hZGVyLl9zaGFyZWQgPSBzaGFyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2hhcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXNlIHRoZSB7QGxpbmsgUElYSS5leHRlbnNpb25zLmFkZH0gQVBJIHRvIHJlZ2lzdGVyIHBsdWdpbnMuXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNi41LjBcbiAgICAgKiBAcGFyYW0gcGx1Z2luIC0gVGhlIHBsdWdpbiB0byBhZGRcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgTG9hZGVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBkZXByZWNhdGlvbignNi41LjAnLCAnTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKCkgaXMgZGVwcmVjYXRlZCwgdXNlIGV4dGVuc2lvbnMuYWRkKCkgaW5zdGVhZC4nKTtcbiAgICAgICAgZXh0ZW5zaW9ucy5hZGQoe1xuICAgICAgICAgICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5Mb2FkZXIsXG4gICAgICAgICAgICByZWY6IHBsdWdpbixcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBMb2FkZXI7XG4gICAgfTtcbiAgICBMb2FkZXIuX3BsdWdpbnMgPSBbXTtcbiAgICByZXR1cm4gTG9hZGVyO1xufSgpKTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuTG9hZGVyLCBMb2FkZXIuX3BsdWdpbnMpO1xuTG9hZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQobmFtZSwgdXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIC8vIHNwZWNpYWwgY2FzZSBvZiBhbiBhcnJheSBvZiBvYmplY3RzIG9yIHVybHNcbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKG5hbWVbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvcHRpb25zID0gbmFtZTtcbiAgICAgICAgY2FsbGJhY2sgPSB1cmwgfHwgb3B0aW9ucy5jYWxsYmFjayB8fCBvcHRpb25zLm9uQ29tcGxldGU7XG4gICAgICAgIHVybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICBuYW1lID0gb3B0aW9ucy5uYW1lIHx8IG9wdGlvbnMua2V5IHx8IG9wdGlvbnMudXJsO1xuICAgIH1cbiAgICAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICAgIHVybCA9IG5hbWU7XG4gICAgfVxuICAgIC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVybCBwYXNzZWQgdG8gYWRkIHJlc291cmNlIHRvIGxvYWRlci4nKTtcbiAgICB9XG4gICAgLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2FsbGJhY2spO1xufTtcblxuLyoqXG4gKiBBcHBsaWNhdGlvbiBwbHVnaW4gZm9yIHN1cHBvcnRpbmcgbG9hZGVyIG9wdGlvbi4gSW5zdGFsbGluZyB0aGUgTG9hZGVyUGx1Z2luXG4gKiBpcyBub3QgbmVjZXNzYXJ5IGlmIHVzaW5nICoqcGl4aS5qcyoqIG9yICoqcGl4aS5qcy1sZWdhY3kqKi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0FwcExvYWRlclBsdWdpbn0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gKiBpbXBvcnQge2V4dGVuc2lvbnN9IGZyb20gJ0BwaXhpL2NvcmUnO1xuICogZXh0ZW5zaW9ucy5hZGQoQXBwTG9hZGVyUGx1Z2luKTtcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBMb2FkZXJQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwTG9hZGVyUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb24gYXBwbGljYXRpb24gY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXBwTG9hZGVyUGx1Z2luLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBvcHRpb25zLnNoYXJlZExvYWRlciA/IExvYWRlci5zaGFyZWQgOiBuZXcgTG9hZGVyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhcHBsaWNhdGlvbiBkZXN0cm95ZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFwcExvYWRlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBBcHBMb2FkZXJQbHVnaW4uZXh0ZW5zaW9uID0gRXh0ZW5zaW9uVHlwZS5BcHBsaWNhdGlvbjtcbiAgICByZXR1cm4gQXBwTG9hZGVyUGx1Z2luO1xufSgpKTtcblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKiBIYW5kbGUgU1ZHIGVsZW1lbnRzIGEgdGV4dCwgcmVuZGVyIHdpdGggU1ZHUmVzb3VyY2UuICovXG4gICAgVGV4dHVyZUxvYWRlci5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvYWRlclJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlKCdzdmcnLCBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuWEhSKTtcbiAgICAgICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnc3ZnJywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIFRleHR1cmVMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyB0ZXh0dXJlIGlmIHRoZSBkYXRhIGlzIGFuIEltYWdlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UuZGF0YSAmJiAocmVzb3VyY2UudHlwZSA9PT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5JTUFHRSB8fCByZXNvdXJjZS5leHRlbnNpb24gPT09ICdzdmcnKSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNvdXJjZS5kYXRhLCB1cmwgPSByZXNvdXJjZS51cmwsIG5hbWUgPSByZXNvdXJjZS5uYW1lLCBtZXRhZGF0YSA9IHJlc291cmNlLm1ldGFkYXRhO1xuICAgICAgICAgICAgVGV4dHVyZS5mcm9tTG9hZGVyKGRhdGEsIHVybCwgbmFtZSwgbWV0YWRhdGEpLnRoZW4oZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvcnMgaW4gVGV4dHVyZS5mcm9tTG9hZGVyXG4gICAgICAgICAgICAgICAgLy8gc28gd2UgY2FuIHBhc3MgdGhlbSB0byB0aGUgTG9hZGVyXG4gICAgICAgICAgICAgICAgLmNhdGNoKG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIFRleHR1cmVMb2FkZXIuZXh0ZW5zaW9uID0gRXh0ZW5zaW9uVHlwZS5Mb2FkZXI7XG4gICAgcmV0dXJuIFRleHR1cmVMb2FkZXI7XG59KCkpO1xuXG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICogQGZ1bmN0aW9uIGVuY29kZUJpbmFyeVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IC0gVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5mdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgdmFyIGlueCA9IDA7XG4gICAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgICAgIHZhciBieXRlYnVmZmVyID0gWzAsIDAsIDBdO1xuICAgICAgICB2YXIgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKHZhciBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGVhY2ggZW5jb2RlZCBjaGFyYWN0ZXIsIDYgYml0cyBhdCBhIHRpbWVcbiAgICAgICAgLy8gaW5kZXggMTogZmlyc3QgNiBiaXRzXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1swXSA9IGJ5dGVidWZmZXJbMF0gPj4gMjtcbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9ICgoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCkgfCAoYnl0ZWJ1ZmZlclsxXSA+PiA0KTtcbiAgICAgICAgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMikgfCAoYnl0ZWJ1ZmZlclsyXSA+PiA2KTtcbiAgICAgICAgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmO1xuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG4gICAgICAgIHZhciBwYWRkaW5nQnl0ZXMgPSBpbnggLSAoaW5wdXQubGVuZ3RoIC0gMSk7XG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG4gICAgICAgIGZvciAodmFyIGpueCA9IDA7IGpueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cbi8qKlxuICogQSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvbiBwYXJzaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5wYXJzaW5nKTtcbiAqIEBwYXJhbSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5mdW5jdGlvbiBwYXJzaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gICAgaWYgKCFyZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGlzIHdhcyBhbiBYSFIgbG9hZCBvZiBhIGJsb2JcbiAgICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpIHtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgICAgICBpZiAoIXNlbGYuQmxvYiB8fCB0eXBlb2YgcmVzb3VyY2UuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG4gICAgICAgICAgICBpZiAodHlwZSAmJiB0eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBcImRhdGE6XCIgKyB0eXBlICsgXCI7YmFzZTY0LFwiICsgZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBMb2FkZXJSZXNvdXJjZS5UWVBFLklNQUdFO1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgICAgICBlbHNlIGlmIChyZXNvdXJjZS5kYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIFVybF8xID0gZ2xvYmFsVGhpcy5VUkwgfHwgZ2xvYmFsVGhpcy53ZWJraXRVUkw7XG4gICAgICAgICAgICB2YXIgc3JjXzEgPSBVcmxfMS5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gc3JjXzE7XG4gICAgICAgICAgICByZXNvdXJjZS50eXBlID0gTG9hZGVyUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG4gICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBVcmxfMS5yZXZva2VPYmplY3RVUkwoc3JjXzEpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5leHQoKTtcbn1cblxuLyoqXG4gKiBQYXJzZSBhbnkgYmxvYiBpbnRvIG1vcmUgdXNhYmxlIG9iamVjdHMgKGUuZy4gSW1hZ2UpLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnNpbmdMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2luZ0xvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBQYXJzaW5nTG9hZGVyLmV4dGVuc2lvbiA9IEV4dGVuc2lvblR5cGUuTG9hZGVyO1xuICAgIFBhcnNpbmdMb2FkZXIudXNlID0gcGFyc2luZztcbiAgICByZXR1cm4gUGFyc2luZ0xvYWRlcjtcbn0oKSk7XG5cbmV4dGVuc2lvbnMuYWRkKFRleHR1cmVMb2FkZXIsIFBhcnNpbmdMb2FkZXIpO1xuXG5leHBvcnQgeyBBcHBMb2FkZXJQbHVnaW4sIExvYWRlciwgTG9hZGVyUmVzb3VyY2UsIFRleHR1cmVMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzIC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBWaWV3YWJsZUJ1ZmZlciwgQnVmZmVyUmVzb3VyY2UsIEV4dGVuc2lvblR5cGUsIFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHsgdXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBNSVBNQVBfTU9ERVMsIEFMUEhBX01PREVTLCBUWVBFUywgRk9STUFUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbnZhciBfYSQyO1xuLyoqXG4gKiBXZWJHTCBpbnRlcm5hbCBmb3JtYXRzLCBpbmNsdWRpbmcgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdHMgcHJvdmlkZWQgYnkgZXh0ZW5zaW9uc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIElOVEVSTkFMX0ZPUk1BVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQ9MHg4M0YwXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUPTB4ODNGMV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVD0weDgzRjJdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQ9MHg4M0YzXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUPTM1OTE3XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDNfRVhUPTM1OTE4XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUPTM1OTE5XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUPTM1OTE2XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfUjExX0VBQz0weDkyNzBdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQz0weDkyNzFdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbQ09NUFJFU1NFRF9SRzExX0VBQz0weDkyNzJdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUM9MHg5MjczXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfUkdCOF9FVEMyPTB4OTI3NF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDPTB4OTI3OF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtDT01QUkVTU0VEX1NSR0I4X0VUQzI9MHg5Mjc1XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDPTB4OTI3OV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtDT01QUkVTU0VEX1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyPTB4OTI3Nl0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtDT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMj0weDkyNzddIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRz0weDhDMDBdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUc9MHg4QzAyXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUc9MHg4QzAxXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HPTB4OEMwM10gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtDT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMPTB4OEQ2NF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtDT01QUkVTU0VEX1JHQl9BVENfV0VCR0w9MHg4QzkyXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0w9MHg4QzkyXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0NPTVBSRVNTRURfUkdCQV9BVENfSU5URVJQT0xBVEVEX0FMUEhBX1dFQkdMPTB4ODdFRV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtDT01QUkVTU0VEX1JHQkFfQVNUQ180eDRfS0hSPTB4OTNCMF0gLVxuICovXG52YXIgSU5URVJOQUxfRk9STUFUUztcbihmdW5jdGlvbiAoSU5URVJOQUxfRk9STUFUUykge1xuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVFwiXSA9IDMzNzc2XSA9IFwiQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVFwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUXCJdID0gMzM3NzddID0gXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVFwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUXCJdID0gMzM3NzhdID0gXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVFwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhUXCJdID0gMzM3NzldID0gXCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVFwiO1xuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2JcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVFwiXSA9IDM1OTE3XSA9IFwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFRcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVFwiXSA9IDM1OTE4XSA9IFwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUM19FWFRcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVFwiXSA9IDM1OTE5XSA9IFwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFRcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVFwiXSA9IDM1OTE2XSA9IFwiQ09NUFJFU1NFRF9TUkdCX1MzVENfRFhUMV9FWFRcIjtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjXG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SMTFfRUFDXCJdID0gMzc0ODhdID0gXCJDT01QUkVTU0VEX1IxMV9FQUNcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NJR05FRF9SMTFfRUFDXCJdID0gMzc0ODldID0gXCJDT01QUkVTU0VEX1NJR05FRF9SMTFfRUFDXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SRzExX0VBQ1wiXSA9IDM3NDkwXSA9IFwiQ09NUFJFU1NFRF9SRzExX0VBQ1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU0lHTkVEX1JHMTFfRUFDXCJdID0gMzc0OTFdID0gXCJDT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQ1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCOF9FVEMyXCJdID0gMzc0OTJdID0gXCJDT01QUkVTU0VEX1JHQjhfRVRDMlwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCQThfRVRDMl9FQUNcIl0gPSAzNzQ5Nl0gPSBcIkNPTVBSRVNTRURfUkdCQThfRVRDMl9FQUNcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NSR0I4X0VUQzJcIl0gPSAzNzQ5M10gPSBcIkNPTVBSRVNTRURfU1JHQjhfRVRDMlwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDXCJdID0gMzc0OTddID0gXCJDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQ1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzJcIl0gPSAzNzQ5NF0gPSBcIkNPTVBSRVNTRURfUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzJcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMlwiXSA9IDM3NDk1XSA9IFwiQ09NUFJFU1NFRF9TUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzJcIjtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HXCJdID0gMzU4NDBdID0gXCJDT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUdcIl0gPSAzNTg0Ml0gPSBcIkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HXCI7XG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNR1wiXSA9IDM1ODQxXSA9IFwiQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNR1wiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HXCJdID0gMzU4NDNdID0gXCJDT01QUkVTU0VEX1JHQkFfUFZSVENfMkJQUFYxX0lNR1wiO1xuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxXG4gICAgSU5URVJOQUxfRk9STUFUU1tJTlRFUk5BTF9GT1JNQVRTW1wiQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTFwiXSA9IDM2MTk2XSA9IFwiQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTFwiO1xuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGNcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQl9BVENfV0VCR0xcIl0gPSAzNTk4Nl0gPSBcIkNPTVBSRVNTRURfUkdCX0FUQ19XRUJHTFwiO1xuICAgIElOVEVSTkFMX0ZPUk1BVFNbSU5URVJOQUxfRk9STUFUU1tcIkNPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0xcIl0gPSAzNTk4Nl0gPSBcIkNPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0xcIjtcbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTFwiXSA9IDM0Nzk4XSA9IFwiQ09NUFJFU1NFRF9SR0JBX0FUQ19JTlRFUlBPTEFURURfQUxQSEFfV0VCR0xcIjtcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0Y1xuICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2UgKi9cbiAgICBJTlRFUk5BTF9GT1JNQVRTW0lOVEVSTkFMX0ZPUk1BVFNbXCJDT01QUkVTU0VEX1JHQkFfQVNUQ180eDRfS0hSXCJdID0gMzc4MDhdID0gXCJDT01QUkVTU0VEX1JHQkFfQVNUQ180eDRfS0hSXCI7XG59KShJTlRFUk5BTF9GT1JNQVRTIHx8IChJTlRFUk5BTF9GT1JNQVRTID0ge30pKTtcbi8qKlxuICogTWFwcyB0aGUgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdHMgaW4ge0BsaW5rIFBJWEkuSU5URVJOQUxfRk9STUFUU30gdG8gdGhlIG51bWJlciBvZiBieXRlcyB0YWtlbiBieVxuICogZWFjaCB0ZXhlbC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAaWdub3JlXG4gKi9cbnZhciBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMID0gKF9hJDIgPSB7fSxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1xuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUXSA9IDAuNSxcbiAgICBfYSQyW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFRdID0gMC41LFxuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVF0gPSAxLFxuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVF0gPSAxLFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUXSA9IDAuNSxcbiAgICBfYSQyW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFRdID0gMC41LFxuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVF0gPSAxLFxuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVF0gPSAxLFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGNcbiAgICBfYSQyW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SMTFfRUFDXSA9IDAuNSxcbiAgICBfYSQyW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQ10gPSAwLjUsXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkcxMV9FQUNdID0gMSxcbiAgICBfYSQyW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUNdID0gMSxcbiAgICBfYSQyW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0I4X0VUQzJdID0gMC41LFxuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDXSA9IDEsXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU1JHQjhfRVRDMl0gPSAwLjUsXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDXSA9IDEsXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzJdID0gMC41LFxuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMl0gPSAwLjUsXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUddID0gMC41LFxuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNR10gPSAwLjUsXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUddID0gMC4yNSxcbiAgICBfYSQyW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzJCUFBWMV9JTUddID0gMC4yNSxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMVxuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMXSA9IDAuNSxcbiAgICAvLyBAc2VlIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L09wZW5HTC9leHRlbnNpb25zL0FNRC9BTURfY29tcHJlc3NlZF9BVENfdGV4dHVyZS50eHRcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXRjXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX0FUQ19XRUJHTF0gPSAwLjUsXG4gICAgX2EkMltJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0xdID0gMSxcbiAgICBfYSQyW0lOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX0FUQ19JTlRFUlBPTEFURURfQUxQSEFfV0VCR0xdID0gMSxcbiAgICAvLyBAc2VlIGh0dHBzOi8vcmVnaXN0cnkua2hyb25vcy5vcmcvT3BlbkdML2V4dGVuc2lvbnMvS0hSL0tIUl90ZXh0dXJlX2NvbXByZXNzaW9uX2FzdGNfaGRyLnR4dFxuICAgIC8vIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjXG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZSAqL1xuICAgIF9hJDJbSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfQVNUQ180eDRfS0hSXSA9IDEsXG4gICAgX2EkMik7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB7IHRocm93IHRbMV07IH0gcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpOyB9XHJcbiAgICAgICAgd2hpbGUgKF8pIHsgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHsgcmV0dXJuIHQ7IH1cclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSB7IG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07IH1cclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgeyBfLm9wcy5wb3AoKTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfSB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgeyB0aHJvdyBvcFsxXTsgfSByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XG5cbi8qKlxuICogUmVzb3VyY2UgdGhhdCBmZXRjaGVzIHRleHR1cmUgZGF0YSBvdmVyIHRoZSBuZXR3b3JrIGFuZCBzdG9yZXMgaXQgaW4gYSBidWZmZXIuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCbG9iUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJsb2JSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIC0gdGhlIFVSTCBvZiB0aGUgdGV4dHVyZSBmaWxlXG4gICAgICogQHBhcmFtIHtQSVhJLklCbG9iT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn1bb3B0aW9ucy5hdXRvTG9hZF0gLSB3aGV0aGVyIHRvIGZldGNoIHRoZSBkYXRhIGltbWVkaWF0ZWx5O1xuICAgICAqICB5b3UgY2FuIGZldGNoIGl0IGxhdGVyIHZpYSB7QGxpbmsgQmxvYlJlc291cmNlI2xvYWR9XG4gICAgICogQHBhcmFtIHtib29sZWFufVtvcHRpb25zLndpZHRoXSAtIHRoZSB3aWR0aCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufVtvcHRpb25zLmhlaWdodF0gLSB0aGUgaGVpZ2h0IGluIHBpeGVscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbG9iUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgd2lkdGg6IDEsIGhlaWdodDogMSwgYXV0b0xvYWQ6IHRydWUgfTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb3JpZ2luO1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcmlnaW4gPSBzb3VyY2U7XG4gICAgICAgICAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9yaWdpbiA9IG51bGw7XG4gICAgICAgICAgICBkYXRhID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGF0YSwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVUkwgb2YgdGhlIHRleHR1cmUgZmlsZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlld2FibGUgYnVmZmVyIG9uIHRoZSBkYXRhXG4gICAgICAgICAqIEBtZW1iZXIge1ZpZXdhYmxlQnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gSElOVDogQmxvYlJlc291cmNlIGFsbG93cyBcIm51bGxcIiBzb3VyY2VzLCBhc3N1bWluZyB0aGUgY2hpbGQgY2xhc3MgcHJvdmlkZXMgYW4gYWx0ZXJuYXRpdmVcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gZGF0YSA/IG5ldyBWaWV3YWJsZUJ1ZmZlcihkYXRhKSA6IG51bGw7XG4gICAgICAgIC8vIEFsbG93IGF1dG9Mb2FkID0gXCJ1bmRlZmluZWRcIiBzdGlsbCBsb2FkIHRoZSByZXNvdXJjZSBieSBkZWZhdWx0XG4gICAgICAgIGlmIChfdGhpcy5vcmlnaW4gJiYgb3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgX3RoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLm9uQmxvYkxvYWRlZChfdGhpcy5idWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBCbG9iUmVzb3VyY2UucHJvdG90eXBlLm9uQmxvYkxvYWRlZCA9IGZ1bmN0aW9uIChfZGF0YSkge1xuICAgICAgICAvLyBUT0RPOiBPdmVycmlkZSB0aGlzIG1ldGhvZFxuICAgIH07XG4gICAgLyoqIExvYWRzIHRoZSBibG9iICovXG4gICAgQmxvYlJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlLCBibG9iLCBhcnJheUJ1ZmZlcjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2godGhpcy5vcmlnaW4pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5ibG9iKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9iID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgYmxvYi5hcnJheUJ1ZmZlcigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlCdWZmZXIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDMyQXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIoYXJyYXlCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkJsb2JMb2FkZWQoYXJyYXlCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmxvYlJlc291cmNlO1xufShCdWZmZXJSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBjb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0cywgYXMgZm9sbG93czogUzNUQy9EWFRuICgmIHRoZWlyIHNSR0IgZm9ybWF0cyksIEFUQywgQVNUQywgRVRDIDEvMiwgUFZSVEMuXG4gKlxuICogQ29tcHJlc3NlZCB0ZXh0dXJlcyBpbXByb3ZlIHBlcmZvcm1hbmNlIHdoZW4gcmVuZGVyaW5nIGlzIHRleHR1cmUtYm91bmQuIFRoZSB0ZXh0dXJlIGRhdGEgc3RheXMgY29tcHJlc3NlZCBpblxuICogZ3JhcGhpY3MgbWVtb3J5LCBpbmNyZWFzaW5nIG1lbW9yeSBsb2NhbGl0eSBhbmQgc3BlZWRpbmcgdXAgdGV4dHVyZSBmZXRjaGVzLiBUaGVzZSBmb3JtYXRzIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3RvcmVcbiAqIG1vcmUgZGV0YWlsIGluIHRoZSBzYW1lIGFtb3VudCBvZiBtZW1vcnkuXG4gKlxuICogRm9yIG1vc3QgZGV2ZWxvcGVycywgY29udGFpbmVyIGZpbGUgZm9ybWF0cyBhcmUgYSBiZXR0ZXIgYWJzdHJhY3Rpb24gaW5zdGVhZCBvZiBkaXJlY3RseSBoYW5kbGluZyByYXcgdGV4dHVyZVxuICogZGF0YS4gUGl4aUpTIHByb3ZpZGVzIG5hdGl2ZSBzdXBwb3J0IGZvciB0aGUgZm9sbG93aW5nIHRleHR1cmUgZmlsZSBmb3JtYXRzICh2aWEge0BsaW5rIFBJWEkuTG9hZGVyfSk6XG4gKlxuICogKiouZGRzKiogLSB0aGUgRGlyZWN0RHJhdyBTdXJmYWNlIGZpbGUgZm9ybWF0IHN0b3JlcyBEWFRuIChEWFQtMSwzLDUpIGRhdGEuIFNlZSB7QGxpbmsgUElYSS5ERFNMb2FkZXJ9XG4gKiAqKi5rdHgqKiAtIHRoZSBLaHJvbm9zIFRleHR1cmUgQ29udGFpbmVyIGZpbGUgZm9ybWF0IHN1cHBvcnRzIHN0b3JpbmcgYWxsIHRoZSBzdXBwb3J0ZWQgV2ViR0wgY29tcHJlc3Npb24gZm9ybWF0cy5cbiAqICBTZWUge0BsaW5rIFBJWEkuS1RYTG9hZGVyfS5cbiAqICoqLmJhc2lzKiogLSB0aGUgQkFTSVMgc3VwZXJjb21wcmVzc2VkIGZpbGUgZm9ybWF0IHN0b3JlcyB0ZXh0dXJlIGRhdGEgaW4gYW4gaW50ZXJuYWwgZm9ybWF0IHRoYXQgaXMgdHJhbnNjb2RlZFxuICogIHRvIHRoZSBjb21wcmVzc2lvbiBmb3JtYXQgc3VwcG9ydGVkIG9uIHRoZSBkZXZpY2UgYXQgX3J1bnRpbWVfLiBJdCBhbHNvIHN1cHBvcnRzIHRyYW5zY29kaW5nIGludG8gYSB1bmNvbXByZXNzZWRcbiAqICBmb3JtYXQgYXMgYSBmYWxsYmFjazsgeW91IG11c3QgaW5zdGFsbCB0aGUgYEBwaXhpL2Jhc2lzLWxvYWRlcmAsIGBAcGl4aS9iYXNpcy10cmFuc2NvZGVyYCBwYWNrYWdlcyBzZXBhcmF0ZWx5IHRvXG4gKiAgdXNlIHRoZXNlIGZpbGVzLiBTZWUge0BsaW5rIFBJWEkuQmFzaXNMb2FkZXJ9LlxuICpcbiAqIFRoZSBsb2FkZXJzIGZvciB0aGUgYWZvcmVtZW50aW9uZWQgZm9ybWF0cyB1c2UgYENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2VgIGludGVybmFsbHkuIEl0IGlzIHN0cm9uZ2x5IHN1Z2dlc3RlZCB0aGF0XG4gKiB0aGV5IGJlIHVzZWQgaW5zdGVhZC5cbiAqXG4gKiAjIyBXb3JraW5nIGRpcmVjdGx5IHdpdGggQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZVxuICpcbiAqIFNpbmNlIGBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlYCBpbmhlcml0cyBgQmxvYlJlc291cmNlYCwgeW91IGNhbiBwcm92aWRlIGl0IGEgVVJMIHBvaW50aW5nIHRvIGEgZmlsZSBjb250YWluaW5nXG4gKiB0aGUgcmF3IHRleHR1cmUgZGF0YSAod2l0aCBubyBmaWxlIGhlYWRlcnMhKTpcbiAqXG4gKiBgYGBqc1xuICogLy8gVGhlIHJlc291cmNlIGJhY2tpbmcgdGhlIHRleHR1cmUgZGF0YSBmb3IgeW91ciB0ZXh0dXJlcy5cbiAqIC8vIE5PVEU6IFlvdSBjYW4gYWxzbyBwcm92aWRlIGEgQXJyYXlCdWZmZXJWaWV3IGluc3RlYWQgb2YgYSBVUkwuIFRoaXMgaXMgdXNlZCB3aGVuIGxvYWRpbmcgZGF0YSBmcm9tIGEgY29udGFpbmVyIGZpbGVcbiAqIC8vICAgZm9ybWF0IHN1Y2ggYXMgS1RYLCBERFMsIG9yIEJBU0lTLlxuICogY29uc3QgY29tcHJlc3NlZFJlc291cmNlID0gbmV3IFBJWEkuQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZShcImJ1bm55LmR4dDVcIiwge1xuICogICBmb3JtYXQ6IFBJWEkuSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAqICAgd2lkdGg6IDI1NixcbiAqICAgaGVpZ2h0OiAyNTZcbiAqIH0pO1xuICpcbiAqIC8vIFlvdSBjYW4gY3JlYXRlIGEgYmFzZS10ZXh0dXJlIHRvIHRoZSBjYWNoZSwgc28gdGhhdCBmdXR1cmUgYFRleHR1cmVgcyBjYW4gYmUgY3JlYXRlZCB1c2luZyB0aGUgYFRleHR1cmUuZnJvbWAgQVBJLlxuICogY29uc3QgYmFzZVRleHR1cmUgPSBuZXcgUElYSS5CYXNlVGV4dHVyZShjb21wcmVzc2VkUmVzb3VyY2UsIHsgcG1hTW9kZTogUElYSS5BTFBIQV9NT0RFUy5OUE0gfSk7XG4gKlxuICogLy8gQ3JlYXRlIGEgVGV4dHVyZSB0byBhZGQgdG8gdGhlIFRleHR1cmVDYWNoZVxuICogY29uc3QgdGV4dHVyZSA9IG5ldyBQSVhJLlRleHR1cmUoYmFzZVRleHR1cmUpO1xuICpcbiAqIC8vIEFkZCBiYXNlVGV4dHVyZSAmIHRleHR1cmUgdG8gdGhlIGdsb2JhbCB0ZXh0dXJlIGNhY2hlXG4gKiBQSVhJLkJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIFwiYnVubnkuZHh0NVwiKTtcbiAqIFBJWEkuVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIFwiYnVubnkuZHh0NVwiKTtcbiAqIGBgYFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIHRoZSBidWZmZXIvVVJMIGhvbGRpbmcgdGhlIGNvbXByZXNzZWQgdGV4dHVyZSBkYXRhXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1BJWEkuSU5URVJOQUxfRk9STUFUU30gb3B0aW9ucy5mb3JtYXQgLSB0aGUgY29tcHJlc3Npb24gZm9ybWF0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSB0aGUgaW1hZ2Ugd2lkdGggaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIHRoZSBpbWFnZSBoZWlnaHQgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5sZXZlbD0xXSAtIHRoZSBtaXBtYXAgbGV2ZWxzIHN0b3JlZCBpbiB0aGUgY29tcHJlc3NlZCB0ZXh0dXJlLCBpbmNsdWRpbmcgbGV2ZWwgMC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGV2ZWxCdWZmZXJzXSAtIHRoZSBidWZmZXJzIGZvciBlYWNoIG1pcG1hcCBsZXZlbC4gYENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2VgIGNhbiBhbGxvd3MgeW91XG4gICAgICogICAgICB0byBwYXNzIGBudWxsYCBmb3IgYHNvdXJjZWAsIGZvciBjYXNlcyB3aGVyZSBlYWNoIGxldmVsIGlzIHN0b3JlZCBpbiBub24tY29udGlndW91cyBtZW1vcnkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5mb3JtYXQgPSBvcHRpb25zLmZvcm1hdDtcbiAgICAgICAgX3RoaXMubGV2ZWxzID0gb3B0aW9ucy5sZXZlbHMgfHwgMTtcbiAgICAgICAgX3RoaXMuX3dpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICBfdGhpcy5fZXh0ZW5zaW9uID0gQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5fZm9ybWF0VG9FeHRlbnNpb24oX3RoaXMuZm9ybWF0KTtcbiAgICAgICAgaWYgKG9wdGlvbnMubGV2ZWxCdWZmZXJzIHx8IF90aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gVmlld2FibGVCdWZmZXIgZG9lc24ndCBzdXBwb3J0IGJ5dGVPZmZzZXQgOi0oIHNvIGFsbG93IHNvdXJjZSB0byBiZSBVaW50OEFycmF5XG4gICAgICAgICAgICBfdGhpcy5fbGV2ZWxCdWZmZXJzID0gb3B0aW9ucy5sZXZlbEJ1ZmZlcnNcbiAgICAgICAgICAgICAgICB8fCBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9jcmVhdGVMZXZlbEJ1ZmZlcnMoc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheSA/IHNvdXJjZSA6IF90aGlzLmJ1ZmZlci51aW50OFZpZXcsIF90aGlzLmZvcm1hdCwgX3RoaXMubGV2ZWxzLCA0LCA0LCAvLyBQVlJUQyBoYXMgOHg0IGJsb2NrcyBpbiAyYnBwIG1vZGVcbiAgICAgICAgICAgICAgICBfdGhpcy53aWR0aCwgX3RoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIF90ZXh0dXJlIC0gdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0gX2dsVGV4dHVyZSAtIHRleHR1cmUgaW5zdGFuY2UgZm9yIHRoaXMgd2ViZ2wgY29udGV4dFxuICAgICAqL1xuICAgIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgX3RleHR1cmUsIF9nbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSByZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnNbdGhpcy5fZXh0ZW5zaW9uXTtcbiAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLl9leHRlbnNpb24gKyBcIiB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGUgY3VycmVudCBtYWNoaW5lXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbGV2ZWxCdWZmZXJzKSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgdHJ5IHRvIHVwbG9hZCBkYXRhIGJlZm9yZSBCbG9iUmVzb3VyY2UgbG9hZHMsIHVubGVzcyB0aGUgbGV2ZWxCdWZmZXJzIHdlcmUgcHJvdmlkZWQgZGlyZWN0bHkhXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmxldmVsczsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5fbGV2ZWxCdWZmZXJzW2ldLCBsZXZlbElEID0gX2EubGV2ZWxJRCwgbGV2ZWxXaWR0aCA9IF9hLmxldmVsV2lkdGgsIGxldmVsSGVpZ2h0ID0gX2EubGV2ZWxIZWlnaHQsIGxldmVsQnVmZmVyID0gX2EubGV2ZWxCdWZmZXI7XG4gICAgICAgICAgICBnbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbElELCB0aGlzLmZvcm1hdCwgbGV2ZWxXaWR0aCwgbGV2ZWxIZWlnaHQsIDAsIGxldmVsQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKiBAcHJvdGVjdGVkICovXG4gICAgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5wcm90b3R5cGUub25CbG9iTG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9sZXZlbEJ1ZmZlcnMgPSBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9jcmVhdGVMZXZlbEJ1ZmZlcnModGhpcy5idWZmZXIudWludDhWaWV3LCB0aGlzLmZvcm1hdCwgdGhpcy5sZXZlbHMsIDQsIDQsIC8vIFBWUlRDIGhhcyA4eDQgYmxvY2tzIGluIDJicHAgbW9kZVxuICAgICAgICB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBrZXkgKHRvIENvbnRleHRTeXN0ZW0jZXh0ZW5zaW9ucykgZm9yIHRoZSBXZWJHTCBleHRlbnNpb24gc3VwcG9ydGluZyB0aGUgY29tcHJlc3Npb24gZm9ybWF0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gZm9ybWF0IC0gdGhlIGNvbXByZXNzaW9uIGZvcm1hdCB0byBnZXQgdGhlIGV4dGVuc2lvbiBmb3IuXG4gICAgICovXG4gICAgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZS5fZm9ybWF0VG9FeHRlbnNpb24gPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIGlmIChmb3JtYXQgPj0gMHg4M0YwICYmIGZvcm1hdCA8PSAweDgzRjMpIHtcbiAgICAgICAgICAgIHJldHVybiAnczN0Yyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9ybWF0ID49IDB4OTI3MCAmJiBmb3JtYXQgPD0gMHg5Mjc5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ2V0Yyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9ybWF0ID49IDB4OEMwMCAmJiBmb3JtYXQgPD0gMHg4QzAzKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3B2cnRjJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JtYXQgPj0gMHg4RDY0KSB7XG4gICAgICAgICAgICByZXR1cm4gJ2V0YzEnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvcm1hdCA+PSAweDhDOTIgJiYgZm9ybWF0IDw9IDB4ODdFRSkge1xuICAgICAgICAgICAgcmV0dXJuICdhdGMnO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCAoY29tcHJlc3NlZCkgdGV4dHVyZSBmb3JtYXQgZ2l2ZW4hJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmUtY3JlYXRlcyBidWZmZXIgdmlld3MgZm9yIGVhY2ggbWlwbWFwIGxldmVsXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gYnVmZmVyIC1cbiAgICAgKiBAcGFyYW0gZm9ybWF0IC0gY29tcHJlc3Npb24gZm9ybWF0c1xuICAgICAqIEBwYXJhbSBsZXZlbHMgLSBtaXBtYXAgbGV2ZWxzXG4gICAgICogQHBhcmFtIGJsb2NrV2lkdGggLVxuICAgICAqIEBwYXJhbSBibG9ja0hlaWdodCAtXG4gICAgICogQHBhcmFtIGltYWdlV2lkdGggLSB3aWR0aCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzXG4gICAgICogQHBhcmFtIGltYWdlSGVpZ2h0IC0gaGVpZ2h0IG9mIHRoZSBpbWFnZSBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLl9jcmVhdGVMZXZlbEJ1ZmZlcnMgPSBmdW5jdGlvbiAoYnVmZmVyLCBmb3JtYXQsIGxldmVscywgYmxvY2tXaWR0aCwgYmxvY2tIZWlnaHQsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0KSB7XG4gICAgICAgIC8vIFRoZSBieXRlLXNpemUgb2YgdGhlIGZpcnN0IGxldmVsIGJ1ZmZlclxuICAgICAgICB2YXIgYnVmZmVycyA9IG5ldyBBcnJheShsZXZlbHMpO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gYnVmZmVyLmJ5dGVPZmZzZXQ7XG4gICAgICAgIHZhciBsZXZlbFdpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICAgICAgdmFyIGxldmVsSGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gICAgICAgIHZhciBhbGlnbmVkTGV2ZWxXaWR0aCA9IChsZXZlbFdpZHRoICsgYmxvY2tXaWR0aCAtIDEpICYgfihibG9ja1dpZHRoIC0gMSk7XG4gICAgICAgIHZhciBhbGlnbmVkTGV2ZWxIZWlnaHQgPSAobGV2ZWxIZWlnaHQgKyBibG9ja0hlaWdodCAtIDEpICYgfihibG9ja0hlaWdodCAtIDEpO1xuICAgICAgICB2YXIgbGV2ZWxTaXplID0gYWxpZ25lZExldmVsV2lkdGggKiBhbGlnbmVkTGV2ZWxIZWlnaHQgKiBJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMW2Zvcm1hdF07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzOyBpKyspIHtcbiAgICAgICAgICAgIGJ1ZmZlcnNbaV0gPSB7XG4gICAgICAgICAgICAgICAgbGV2ZWxJRDogaSxcbiAgICAgICAgICAgICAgICBsZXZlbFdpZHRoOiBsZXZlbHMgPiAxID8gbGV2ZWxXaWR0aCA6IGFsaWduZWRMZXZlbFdpZHRoLFxuICAgICAgICAgICAgICAgIGxldmVsSGVpZ2h0OiBsZXZlbHMgPiAxID8gbGV2ZWxIZWlnaHQgOiBhbGlnbmVkTGV2ZWxIZWlnaHQsXG4gICAgICAgICAgICAgICAgbGV2ZWxCdWZmZXI6IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5idWZmZXIsIG9mZnNldCwgbGV2ZWxTaXplKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9mZnNldCArPSBsZXZlbFNpemU7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbGV2ZWxCdWZmZXIgZGltZW5zaW9ucyBmb3IgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgIGxldmVsV2lkdGggPSAobGV2ZWxXaWR0aCA+PiAxKSB8fCAxO1xuICAgICAgICAgICAgbGV2ZWxIZWlnaHQgPSAobGV2ZWxIZWlnaHQgPj4gMSkgfHwgMTtcbiAgICAgICAgICAgIGFsaWduZWRMZXZlbFdpZHRoID0gKGxldmVsV2lkdGggKyBibG9ja1dpZHRoIC0gMSkgJiB+KGJsb2NrV2lkdGggLSAxKTtcbiAgICAgICAgICAgIGFsaWduZWRMZXZlbEhlaWdodCA9IChsZXZlbEhlaWdodCArIGJsb2NrSGVpZ2h0IC0gMSkgJiB+KGJsb2NrSGVpZ2h0IC0gMSk7XG4gICAgICAgICAgICBsZXZlbFNpemUgPSBhbGlnbmVkTGV2ZWxXaWR0aCAqIGFsaWduZWRMZXZlbEhlaWdodCAqIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUxbZm9ybWF0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVycztcbiAgICB9O1xuICAgIHJldHVybiBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlO1xufShCbG9iUmVzb3VyY2UpKTtcblxuLyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgY29tcHJlc3NlZCB0ZXh0dXJlcyBmb3IgYWxsIHBsYXRmb3Jtcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIHtQSVhJLklMb2FkZXJQbHVnaW59XG4gKi9cbnZhciBDb21wcmVzc2VkVGV4dHVyZUxvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21wcmVzc2VkVGV4dHVyZUxvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgY29tcHJlc3NlZC10ZXh0dXJlcyBtYW5pZmVzdCBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgdGhlbiBsb2FkIHRoZSBjb3JyZWN0IGNvbXByZXNzaW9uIGZvcm1hdCBmb3IgdGhlIGRldmljZS4gWW91ciBtYW5pZmVzdCBzaG91bGQgYWRoZXJlXG4gICAgICogdG8gdGhlIGZvbGxvd2luZyBzY2hlbWE6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGltcG9ydCB7IElOVEVSTkFMX0ZPUk1BVFMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuICAgICAqXG4gICAgICogdHlwZSBDb21wcmVzc2VkVGV4dHVyZU1hbmlmZXN0ID0ge1xuICAgICAqICB0ZXh0dXJlczogQXJyYXk8eyBzcmM6IHN0cmluZywgZm9ybWF0Pzoga2V5b2YgSU5URVJOQUxfRk9STUFUU30+LFxuICAgICAqICBjYWNoZUlEOiBzdHJpbmc7XG4gICAgICogfTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYW4gZXhhbXBsZSBvZiBhIC5qc29uIG1hbmlmZXN0IGZpbGVcbiAgICAgKlxuICAgICAqIGBgYGpzb25cbiAgICAgKiB7XG4gICAgICogICBcImNhY2hlSURcIjpcImFzc2V0XCIsXG4gICAgICogICBcInRleHR1cmVzXCI6W1xuICAgICAqICAgICB7IFwic3JjXCI6XCJhc3NldC5mYWxsYmFjay5wbmdcIiB9LFxuICAgICAqICAgICB7IFwiZm9ybWF0XCI6XCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVFwiLCBcInNyY1wiOlwiYXNzZXQuczN0Yy5rdHhcIiB9LFxuICAgICAqICAgICB7IFwiZm9ybWF0XCI6XCJDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDXCIsIFwic3JjXCI6XCJhc3NldC5ldGMua3R4XCIgfSxcbiAgICAgKiAgICAgeyBcImZvcm1hdFwiOlwiUkdCQV9QVlJUQ180QlBQVjFfSU1HXCIsIFwic3JjXCI6XCJhc3NldC5wdnJ0Yy5rdHhcIiB9XG4gICAgICogICBdXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICB2YXIgZGF0YSA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgIHZhciBsb2FkZXIgPSB0aGlzO1xuICAgICAgICBpZiAocmVzb3VyY2UudHlwZSA9PT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgICAgICAmJiBkYXRhXG4gICAgICAgICAgICAmJiBkYXRhLmNhY2hlSURcbiAgICAgICAgICAgICYmIGRhdGEudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlcyA9IGRhdGEudGV4dHVyZXM7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVVSTCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBmYWxsYmFja1VSTCA9IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIFNlYXJjaCBmb3IgYW4gZXh0ZW5zaW9uIHRoYXQgaG9sZHMgb25lIHRoZSBmb3JtYXRzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRleHR1cmVzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHVybF8xID0gdGV4dHVyZS5zcmM7XG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IHRleHR1cmUuZm9ybWF0O1xuICAgICAgICAgICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrVVJMID0gdXJsXzE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChDb21wcmVzc2VkVGV4dHVyZUxvYWRlci50ZXh0dXJlRm9ybWF0c1tmb3JtYXRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVVUkwgPSB1cmxfMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dHVyZVVSTCA9IHRleHR1cmVVUkwgfHwgZmFsbGJhY2tVUkw7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIFVSTFxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlVVJMKSB7XG4gICAgICAgICAgICAgICAgbmV4dChuZXcgRXJyb3IoXCJDYW5ub3QgbG9hZCBjb21wcmVzc2VkLXRleHR1cmVzIGluIFwiICsgcmVzb3VyY2UudXJsICsgXCIsIG1ha2Ugc3VyZSB5b3UgcHJvdmlkZSBhIGZhbGxiYWNrXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGV4dHVyZVVSTCA9PT0gcmVzb3VyY2UudXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wc1xuICAgICAgICAgICAgICAgIG5leHQobmV3IEVycm9yKCdVUkwgb2YgY29tcHJlc3NlZCB0ZXh0dXJlIGNhbm5vdCBiZSB0aGUgc2FtZSBhcyB0aGUgbWFuaWZlc3RcXCdzIFVSTCcpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZVBhdGggPSB1cmwucmVzb2x2ZShyZXNvdXJjZS51cmwucmVwbGFjZShsb2FkZXIuYmFzZVVybCwgJycpLCB0ZXh0dXJlVVJMKTtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZU5hbWUgPSBkYXRhLmNhY2hlSUQ7XG4gICAgICAgICAgICAvLyBUaGUgYXBwcm9wcmlhdGUgbG9hZGVyIHNob3VsZCByZWdpc3RlciB0aGUgdGV4dHVyZVxuICAgICAgICAgICAgbG9hZGVyLmFkZChyZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgX2EgPSByZXMudGV4dHVyZSwgdGV4dHVyZSA9IF9hID09PSB2b2lkIDAgPyBudWxsIDogX2EsIF9iID0gcmVzLnRleHR1cmVzLCB0ZXh0dXJlcyA9IF9iID09PSB2b2lkIDAgPyB7fSA6IF9iO1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0ZXh0dXJlL3RleHR1cmVzIGlzIGFzc2lnbmVkIHRvIHBhcmVudCByZXNvdXJjZVxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzb3VyY2UsIHsgdGV4dHVyZTogdGV4dHVyZSwgdGV4dHVyZXM6IHRleHR1cmVzIH0pO1xuICAgICAgICAgICAgICAgIC8vIFBhc3MgYWxvbmcgYW55IGVycm9yXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wcmVzc2VkVGV4dHVyZUxvYWRlciwgXCJ0ZXh0dXJlRXh0ZW5zaW9uc1wiLCB7XG4gICAgICAgIC8qKiAgTWFwIG9mIGF2YWlsYWJsZSB0ZXh0dXJlIGV4dGVuc2lvbnMuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFDb21wcmVzc2VkVGV4dHVyZUxvYWRlci5fdGV4dHVyZUV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBBdXRvLWRldGVjdCBXZWJHTCBjb21wcmVzc2VkLXRleHR1cmUgZXh0ZW5zaW9uc1xuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBzZXR0aW5ncy5BREFQVEVSLmNyZWF0ZUNhbnZhcygpO1xuICAgICAgICAgICAgICAgIHZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpO1xuICAgICAgICAgICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZWJHTCBub3QgYXZhaWxhYmxlIGZvciBjb21wcmVzc2VkIHRleHR1cmVzLiBTaWxlbnRseSBmYWlsaW5nLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBleHRlbnNpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBzM3RjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyksXG4gICAgICAgICAgICAgICAgICAgIHMzdGNfc1JHQjogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiJyksXG4gICAgICAgICAgICAgICAgICAgIGV0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjJyksXG4gICAgICAgICAgICAgICAgICAgIGV0YzE6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEnKSxcbiAgICAgICAgICAgICAgICAgICAgcHZydGM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpLFxuICAgICAgICAgICAgICAgICAgICBhdGM6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2F0YycpLFxuICAgICAgICAgICAgICAgICAgICBhc3RjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjJylcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLl90ZXh0dXJlRXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIuX3RleHR1cmVFeHRlbnNpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLCBcInRleHR1cmVGb3JtYXRzXCIsIHtcbiAgICAgICAgLyoqIE1hcCBvZiBhdmFpbGFibGUgdGV4dHVyZSBmb3JtYXRzLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIuX3RleHR1cmVGb3JtYXRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSBDb21wcmVzc2VkVGV4dHVyZUxvYWRlci50ZXh0dXJlRXh0ZW5zaW9ucztcbiAgICAgICAgICAgICAgICBDb21wcmVzc2VkVGV4dHVyZUxvYWRlci5fdGV4dHVyZUZvcm1hdHMgPSB7fTtcbiAgICAgICAgICAgICAgICAvLyBBc3NpZ24gYWxsIGF2YWlsYWJsZSBjb21wcmVzc2VkLXRleHR1cmUgZm9ybWF0c1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGV4dGVuc2lvbk5hbWUgaW4gZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIuX3RleHR1cmVGb3JtYXRzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZXh0ZW5zaW9uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLl90ZXh0dXJlRm9ybWF0cztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIuZXh0ZW5zaW9uID0gRXh0ZW5zaW9uVHlwZS5Mb2FkZXI7XG4gICAgcmV0dXJuIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyO1xufSgpKTtcblxuLyoqXG4gKiBDcmVhdGVzIGJhc2UtdGV4dHVyZXMgYW5kIHRleHR1cmVzIGZvciBlYWNoIGNvbXByZXNzZWQtdGV4dHVyZSByZXNvdXJjZSBhbmQgYWRkcyB0aGVtIGludG8gdGhlIGdsb2JhbFxuICogdGV4dHVyZSBjYWNoZS4gVGhlIGZpcnN0IHRleHR1cmUgaGFzIHR3byBJRHMgLSBgJHt1cmx9YCwgYCR7dXJsfS0xYDsgd2hpbGUgdGhlIHJlc3QgaGF2ZSBhbiBJRCBvZiB0aGVcbiAqIGZvcm0gYCR7dXJsfS1pYC5cbiAqIEBwYXJhbSB1cmwgLSB0aGUgb3JpZ2luYWwgYWRkcmVzcyBvZiB0aGUgcmVzb3VyY2VzXG4gKiBAcGFyYW0gcmVzb3VyY2VzIC0gdGhlIHJlc291cmNlcyBiYWNraW5nIHRleHR1cmUgZGF0YVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiByZWdpc3RlckNvbXByZXNzZWRUZXh0dXJlcyh1cmwsIHJlc291cmNlcywgbWV0YWRhdGEpIHtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICB0ZXh0dXJlczoge30sXG4gICAgICAgIHRleHR1cmU6IG51bGwsXG4gICAgfTtcbiAgICBpZiAoIXJlc291cmNlcykge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB2YXIgdGV4dHVyZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gKG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICAgICAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5PX1BSRU1VTFRJUExJRURfQUxQSEFcbiAgICAgICAgfSwgbWV0YWRhdGEpKSkpO1xuICAgIH0pO1xuICAgIHRleHR1cmVzLmZvckVhY2goZnVuY3Rpb24gKHRleHR1cmUsIGkpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGNhY2hlSUQgPSB1cmwgKyBcIi1cIiArIChpICsgMSk7XG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSUQpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJRCk7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCB1cmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIHVybCk7XG4gICAgICAgICAgICByZXN1bHQudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnRleHR1cmVzW2NhY2hlSURdID0gdGV4dHVyZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgX2EkMSwgX2IkMTtcbnZhciBERFNfTUFHSUNfU0laRSA9IDQ7XG52YXIgRERTX0hFQURFUl9TSVpFID0gMTI0O1xudmFyIEREU19IRUFERVJfUEZfU0laRSA9IDMyO1xudmFyIEREU19IRUFERVJfRFgxMF9TSVpFID0gMjA7XG4vLyBERFMgZmlsZSBmb3JtYXQgbWFnaWMgd29yZFxudmFyIEREU19NQUdJQyA9IDB4MjA1MzQ0NDQ7XG4vKipcbiAqIERXT1JEIG9mZnNldHMgb2YgdGhlIEREUyBmaWxlIGhlYWRlciBmaWVsZHMgKHJlbGF0aXZlIHRvIGZpbGUgc3RhcnQpLlxuICogQGlnbm9yZVxuICovXG52YXIgRERTX0ZJRUxEUyA9IHtcbiAgICBTSVpFOiAxLFxuICAgIEZMQUdTOiAyLFxuICAgIEhFSUdIVDogMyxcbiAgICBXSURUSDogNCxcbiAgICBNSVBNQVBfQ09VTlQ6IDcsXG4gICAgUElYRUxfRk9STUFUOiAxOSxcbn07XG4vKipcbiAqIERXT1JEIG9mZnNldHMgb2YgdGhlIEREUyBQSVhFTF9GT1JNQVQgZmllbGRzLlxuICogQGlnbm9yZVxuICovXG52YXIgRERTX1BGX0ZJRUxEUyA9IHtcbiAgICBTSVpFOiAwLFxuICAgIEZMQUdTOiAxLFxuICAgIEZPVVJDQzogMixcbiAgICBSR0JfQklUQ09VTlQ6IDMsXG4gICAgUl9CSVRfTUFTSzogNCxcbiAgICBHX0JJVF9NQVNLOiA1LFxuICAgIEJfQklUX01BU0s6IDYsXG4gICAgQV9CSVRfTUFTSzogN1xufTtcbi8qKlxuICogRFdPUkQgb2Zmc2V0cyBvZiB0aGUgRERTX0hFQURFUl9EWDEwIGZpZWxkcy5cbiAqIEBpZ25vcmVcbiAqL1xudmFyIEREU19EWDEwX0ZJRUxEUyA9IHtcbiAgICBEWEdJX0ZPUk1BVDogMCxcbiAgICBSRVNPVVJDRV9ESU1FTlNJT046IDEsXG4gICAgTUlTQ19GTEFHOiAyLFxuICAgIEFSUkFZX1NJWkU6IDMsXG4gICAgTUlTQ19GTEFHUzI6IDRcbn07XG4vKipcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvd2luZG93cy93aW4zMi9hcGkvZHhnaWZvcm1hdC9uZS1keGdpZm9ybWF0LWR4Z2lfZm9ybWF0XG4gKiBAaWdub3JlXG4gKi9cbi8vIFRoaXMgaXMgd2F5IG92ZXItYmxvd24gZm9yIHVzISBMZW5kIHVzIGEgaGFuZCwgYW5kIHJlbW92ZSB0aGUgb25lcyB0aGF0IGFyZW4ndCB1c2VkIChidXQgc2V0IHRoZSByZW1haW5pbmdcbi8vIG9uZXMgdG8gdGhlaXIgY29ycmVjdCB2YWx1ZSlcbnZhciBEWEdJX0ZPUk1BVDtcbihmdW5jdGlvbiAoRFhHSV9GT1JNQVQpIHtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1VOS05PV05cIl0gPSAwXSA9IFwiRFhHSV9GT1JNQVRfVU5LTk9XTlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1RZUEVMRVNTXCJdID0gMV0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX0ZMT0FUXCJdID0gMl0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1VJTlRcIl0gPSAzXSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyQTMyX1VJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9TSU5UXCJdID0gNF0gPSBcIkRYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9TSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVFlQRUxFU1NcIl0gPSA1XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfRkxPQVRcIl0gPSA2XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX0ZMT0FUXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVUlOVFwiXSA9IDddID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJCMzJfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1NJTlRcIl0gPSA4XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzMyQjMyX1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9UWVBFTEVTU1wiXSA9IDldID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9GTE9BVFwiXSA9IDEwXSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X0ZMT0FUXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfVU5PUk1cIl0gPSAxMV0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1VJTlRcIl0gPSAxMl0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZCMTZBMTZfU05PUk1cIl0gPSAxM10gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9TTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2QjE2QTE2X1NJTlRcIl0gPSAxNF0gPSBcIkRYR0lfRk9STUFUX1IxNkcxNkIxNkExNl9TSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHMzJfVFlQRUxFU1NcIl0gPSAxNV0gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyX0ZMT0FUXCJdID0gMTZdID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMkczMl9VSU5UXCJdID0gMTddID0gXCJEWEdJX0ZPUk1BVF9SMzJHMzJfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyRzMyX1NJTlRcIl0gPSAxOF0gPSBcIkRYR0lfRk9STUFUX1IzMkczMl9TSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMzJHOFgyNF9UWVBFTEVTU1wiXSA9IDE5XSA9IFwiRFhHSV9GT1JNQVRfUjMyRzhYMjRfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0QzMl9GTE9BVF9TOFgyNF9VSU5UXCJdID0gMjBdID0gXCJEWEdJX0ZPUk1BVF9EMzJfRkxPQVRfUzhYMjRfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyX0ZMT0FUX1g4WDI0X1RZUEVMRVNTXCJdID0gMjFdID0gXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRfWDhYMjRfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1gzMl9UWVBFTEVTU19HOFgyNF9VSU5UXCJdID0gMjJdID0gXCJEWEdJX0ZPUk1BVF9YMzJfVFlQRUxFU1NfRzhYMjRfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVFlQRUxFU1NcIl0gPSAyM10gPSBcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBBMl9VTk9STVwiXSA9IDI0XSA9IFwiRFhHSV9GT1JNQVRfUjEwRzEwQjEwQTJfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1VJTlRcIl0gPSAyNV0gPSBcIkRYR0lfRk9STUFUX1IxMEcxMEIxMEEyX1VJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxMUcxMUIxMF9GTE9BVFwiXSA9IDI2XSA9IFwiRFhHSV9GT1JNQVRfUjExRzExQjEwX0ZMT0FUXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9UWVBFTEVTU1wiXSA9IDI3XSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1VOT1JNXCJdID0gMjhdID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk1fU1JHQlwiXSA9IDI5XSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVU5PUk1fU1JHQlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfVUlOVFwiXSA9IDMwXSA9IFwiRFhHSV9GT1JNQVRfUjhHOEI4QThfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOEI4QThfU05PUk1cIl0gPSAzMV0gPSBcIkRYR0lfRk9STUFUX1I4RzhCOEE4X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9TSU5UXCJdID0gMzJdID0gXCJEWEdJX0ZPUk1BVF9SOEc4QjhBOF9TSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVFlQRUxFU1NcIl0gPSAzM10gPSBcIkRYR0lfRk9STUFUX1IxNkcxNl9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2RzE2X0ZMT0FUXCJdID0gMzRdID0gXCJEWEdJX0ZPUk1BVF9SMTZHMTZfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNl9VTk9STVwiXSA9IDM1XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfVUlOVFwiXSA9IDM2XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1VJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxNkcxNl9TTk9STVwiXSA9IDM3XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZHMTZfU0lOVFwiXSA9IDM4XSA9IFwiRFhHSV9GT1JNQVRfUjE2RzE2X1NJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMl9UWVBFTEVTU1wiXSA9IDM5XSA9IFwiRFhHSV9GT1JNQVRfUjMyX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9EMzJfRkxPQVRcIl0gPSA0MF0gPSBcIkRYR0lfRk9STUFUX0QzMl9GTE9BVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyX0ZMT0FUXCJdID0gNDFdID0gXCJEWEdJX0ZPUk1BVF9SMzJfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IzMl9VSU5UXCJdID0gNDJdID0gXCJEWEdJX0ZPUk1BVF9SMzJfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjMyX1NJTlRcIl0gPSA0M10gPSBcIkRYR0lfRk9STUFUX1IzMl9TSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMjRHOF9UWVBFTEVTU1wiXSA9IDQ0XSA9IFwiRFhHSV9GT1JNQVRfUjI0RzhfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0QyNF9VTk9STV9TOF9VSU5UXCJdID0gNDVdID0gXCJEWEdJX0ZPUk1BVF9EMjRfVU5PUk1fUzhfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjI0X1VOT1JNX1g4X1RZUEVMRVNTXCJdID0gNDZdID0gXCJEWEdJX0ZPUk1BVF9SMjRfVU5PUk1fWDhfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1gyNF9UWVBFTEVTU19HOF9VSU5UXCJdID0gNDddID0gXCJEWEdJX0ZPUk1BVF9YMjRfVFlQRUxFU1NfRzhfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9UWVBFTEVTU1wiXSA9IDQ4XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9VTk9STVwiXSA9IDQ5XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhHOF9VSU5UXCJdID0gNTBdID0gXCJEWEdJX0ZPUk1BVF9SOEc4X1VJTlRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4RzhfU05PUk1cIl0gPSA1MV0gPSBcIkRYR0lfRk9STUFUX1I4RzhfU05PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4RzhfU0lOVFwiXSA9IDUyXSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9TSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfVFlQRUxFU1NcIl0gPSA1M10gPSBcIkRYR0lfRk9STUFUX1IxNl9UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2X0ZMT0FUXCJdID0gNTRdID0gXCJEWEdJX0ZPUk1BVF9SMTZfRkxPQVRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0QxNl9VTk9STVwiXSA9IDU1XSA9IFwiRFhHSV9GT1JNQVRfRDE2X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfVU5PUk1cIl0gPSA1Nl0gPSBcIkRYR0lfRk9STUFUX1IxNl9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2X1VJTlRcIl0gPSA1N10gPSBcIkRYR0lfRk9STUFUX1IxNl9VSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SMTZfU05PUk1cIl0gPSA1OF0gPSBcIkRYR0lfRk9STUFUX1IxNl9TTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjE2X1NJTlRcIl0gPSA1OV0gPSBcIkRYR0lfRk9STUFUX1IxNl9TSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOF9UWVBFTEVTU1wiXSA9IDYwXSA9IFwiRFhHSV9GT1JNQVRfUjhfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4X1VOT1JNXCJdID0gNjFdID0gXCJEWEdJX0ZPUk1BVF9SOF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhfVUlOVFwiXSA9IDYyXSA9IFwiRFhHSV9GT1JNQVRfUjhfVUlOVFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjhfU05PUk1cIl0gPSA2M10gPSBcIkRYR0lfRk9STUFUX1I4X1NOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9SOF9TSU5UXCJdID0gNjRdID0gXCJEWEdJX0ZPUk1BVF9SOF9TSU5UXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9BOF9VTk9STVwiXSA9IDY1XSA9IFwiRFhHSV9GT1JNQVRfQThfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxX1VOT1JNXCJdID0gNjZdID0gXCJEWEdJX0ZPUk1BVF9SMV9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUjlHOUI5RTVfU0hBUkVERVhQXCJdID0gNjddID0gXCJEWEdJX0ZPUk1BVF9SOUc5QjlFNV9TSEFSRURFWFBcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1I4RzhfQjhHOF9VTk9STVwiXSA9IDY4XSA9IFwiRFhHSV9GT1JNQVRfUjhHOF9COEc4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9HOFI4X0c4QjhfVU5PUk1cIl0gPSA2OV0gPSBcIkRYR0lfRk9STUFUX0c4UjhfRzhCOF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMxX1RZUEVMRVNTXCJdID0gNzBdID0gXCJEWEdJX0ZPUk1BVF9CQzFfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDMV9VTk9STVwiXSA9IDcxXSA9IFwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzFfVU5PUk1fU1JHQlwiXSA9IDcyXSA9IFwiRFhHSV9GT1JNQVRfQkMxX1VOT1JNX1NSR0JcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDMl9UWVBFTEVTU1wiXSA9IDczXSA9IFwiRFhHSV9GT1JNQVRfQkMyX1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzJfVU5PUk1cIl0gPSA3NF0gPSBcIkRYR0lfRk9STUFUX0JDMl9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMyX1VOT1JNX1NSR0JcIl0gPSA3NV0gPSBcIkRYR0lfRk9STUFUX0JDMl9VTk9STV9TUkdCXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzNfVFlQRUxFU1NcIl0gPSA3Nl0gPSBcIkRYR0lfRk9STUFUX0JDM19UWVBFTEVTU1wiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkMzX1VOT1JNXCJdID0gNzddID0gXCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCXCJdID0gNzhdID0gXCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1fU1JHQlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM0X1RZUEVMRVNTXCJdID0gNzldID0gXCJEWEdJX0ZPUk1BVF9CQzRfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNF9VTk9STVwiXSA9IDgwXSA9IFwiRFhHSV9GT1JNQVRfQkM0X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzRfU05PUk1cIl0gPSA4MV0gPSBcIkRYR0lfRk9STUFUX0JDNF9TTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM1X1RZUEVMRVNTXCJdID0gODJdID0gXCJEWEdJX0ZPUk1BVF9CQzVfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNV9VTk9STVwiXSA9IDgzXSA9IFwiRFhHSV9GT1JNQVRfQkM1X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzVfU05PUk1cIl0gPSA4NF0gPSBcIkRYR0lfRk9STUFUX0JDNV9TTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQjVHNlI1X1VOT1JNXCJdID0gODVdID0gXCJEWEdJX0ZPUk1BVF9CNUc2UjVfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0I1RzVSNUExX1VOT1JNXCJdID0gODZdID0gXCJEWEdJX0ZPUk1BVF9CNUc1UjVBMV9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQjhHOFI4QThfVU5PUk1cIl0gPSA4N10gPSBcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9VTk9STVwiXSA9IDg4XSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVU5PUk1cIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1IxMEcxMEIxMF9YUl9CSUFTX0EyX1VOT1JNXCJdID0gODldID0gXCJEWEdJX0ZPUk1BVF9SMTBHMTBCMTBfWFJfQklBU19BMl9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQjhHOFI4QThfVFlQRUxFU1NcIl0gPSA5MF0gPSBcIkRYR0lfRk9STUFUX0I4RzhSOEE4X1RZUEVMRVNTXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9VTk9STV9TUkdCXCJdID0gOTFdID0gXCJEWEdJX0ZPUk1BVF9COEc4UjhBOF9VTk9STV9TUkdCXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9COEc4UjhYOF9UWVBFTEVTU1wiXSA9IDkyXSA9IFwiRFhHSV9GT1JNQVRfQjhHOFI4WDhfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1VOT1JNX1NSR0JcIl0gPSA5M10gPSBcIkRYR0lfRk9STUFUX0I4RzhSOFg4X1VOT1JNX1NSR0JcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNkhfVFlQRUxFU1NcIl0gPSA5NF0gPSBcIkRYR0lfRk9STUFUX0JDNkhfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDNkhfVUYxNlwiXSA9IDk1XSA9IFwiRFhHSV9GT1JNQVRfQkM2SF9VRjE2XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzZIX1NGMTZcIl0gPSA5Nl0gPSBcIkRYR0lfRk9STUFUX0JDNkhfU0YxNlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQkM3X1RZUEVMRVNTXCJdID0gOTddID0gXCJEWEdJX0ZPUk1BVF9CQzdfVFlQRUxFU1NcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0JDN19VTk9STVwiXSA9IDk4XSA9IFwiRFhHSV9GT1JNQVRfQkM3X1VOT1JNXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9CQzdfVU5PUk1fU1JHQlwiXSA9IDk5XSA9IFwiRFhHSV9GT1JNQVRfQkM3X1VOT1JNX1NSR0JcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0FZVVZcIl0gPSAxMDBdID0gXCJEWEdJX0ZPUk1BVF9BWVVWXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9ZNDEwXCJdID0gMTAxXSA9IFwiRFhHSV9GT1JNQVRfWTQxMFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfWTQxNlwiXSA9IDEwMl0gPSBcIkRYR0lfRk9STUFUX1k0MTZcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX05WMTJcIl0gPSAxMDNdID0gXCJEWEdJX0ZPUk1BVF9OVjEyXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9QMDEwXCJdID0gMTA0XSA9IFwiRFhHSV9GT1JNQVRfUDAxMFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUDAxNlwiXSA9IDEwNV0gPSBcIkRYR0lfRk9STUFUX1AwMTZcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUXzQyMF9PUEFRVUVcIl0gPSAxMDZdID0gXCJEWEdJX0ZPUk1BVF80MjBfT1BBUVVFXCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9ZVVkyXCJdID0gMTA3XSA9IFwiRFhHSV9GT1JNQVRfWVVZMlwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfWTIxMFwiXSA9IDEwOF0gPSBcIkRYR0lfRk9STUFUX1kyMTBcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1kyMTZcIl0gPSAxMDldID0gXCJEWEdJX0ZPUk1BVF9ZMjE2XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9OVjExXCJdID0gMTEwXSA9IFwiRFhHSV9GT1JNQVRfTlYxMVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQUk0NFwiXSA9IDExMV0gPSBcIkRYR0lfRk9STUFUX0FJNDRcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX0lBNDRcIl0gPSAxMTJdID0gXCJEWEdJX0ZPUk1BVF9JQTQ0XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9QOFwiXSA9IDExM10gPSBcIkRYR0lfRk9STUFUX1A4XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9BOFA4XCJdID0gMTE0XSA9IFwiRFhHSV9GT1JNQVRfQThQOFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfQjRHNFI0QTRfVU5PUk1cIl0gPSAxMTVdID0gXCJEWEdJX0ZPUk1BVF9CNEc0UjRBNF9VTk9STVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfUDIwOFwiXSA9IDExNl0gPSBcIkRYR0lfRk9STUFUX1AyMDhcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1YyMDhcIl0gPSAxMTddID0gXCJEWEdJX0ZPUk1BVF9WMjA4XCI7XG4gICAgRFhHSV9GT1JNQVRbRFhHSV9GT1JNQVRbXCJEWEdJX0ZPUk1BVF9WNDA4XCJdID0gMTE4XSA9IFwiRFhHSV9GT1JNQVRfVjQwOFwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfU0FNUExFUl9GRUVEQkFDS19NSU5fTUlQX09QQVFVRVwiXSA9IDExOV0gPSBcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlOX01JUF9PUEFRVUVcIjtcbiAgICBEWEdJX0ZPUk1BVFtEWEdJX0ZPUk1BVFtcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlQX1JFR0lPTl9VU0VEX09QQVFVRVwiXSA9IDEyMF0gPSBcIkRYR0lfRk9STUFUX1NBTVBMRVJfRkVFREJBQ0tfTUlQX1JFR0lPTl9VU0VEX09QQVFVRVwiO1xuICAgIERYR0lfRk9STUFUW0RYR0lfRk9STUFUW1wiRFhHSV9GT1JNQVRfRk9SQ0VfVUlOVFwiXSA9IDEyMV0gPSBcIkRYR0lfRk9STUFUX0ZPUkNFX1VJTlRcIjtcbn0pKERYR0lfRk9STUFUIHx8IChEWEdJX0ZPUk1BVCA9IHt9KSk7XG4vKipcbiAqIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZmllbGQge0BsaW5rIEREU19EWDEwX0ZJRUxEUy5SRVNPVVJDRV9ESU1FTlNJT059XG4gKiBAaWdub3JlXG4gKi9cbnZhciBEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT047XG4oZnVuY3Rpb24gKEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTikge1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUxRFwiXSA9IDJdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUxRFwiO1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUyRFwiXSA9IDNdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUyRFwiO1xuICAgIEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTltEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT05bXCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRFwiXSA9IDZdID0gXCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRFwiO1xufSkoRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OIHx8IChEM0QxMF9SRVNPVVJDRV9ESU1FTlNJT04gPSB7fSkpO1xudmFyIFBGX0ZMQUdTID0gMTtcbi8vIFBJWEVMX0ZPUk1BVCBmbGFnc1xudmFyIEREUEZfQUxQSEEgPSAweDI7XG52YXIgRERQRl9GT1VSQ0MgPSAweDQ7XG52YXIgRERQRl9SR0IgPSAweDQwO1xudmFyIEREUEZfWVVWID0gMHgyMDA7XG52YXIgRERQRl9MVU1JTkFOQ0UgPSAweDIwMDAwO1xuLy8gRm91ciBjaGFyYWN0ZXIgY29kZXMgZm9yIERYVG4gZm9ybWF0c1xudmFyIEZPVVJDQ19EWFQxID0gMHgzMTU0NTg0NDtcbnZhciBGT1VSQ0NfRFhUMyA9IDB4MzM1NDU4NDQ7XG52YXIgRk9VUkNDX0RYVDUgPSAweDM1NTQ1ODQ0O1xudmFyIEZPVVJDQ19EWDEwID0gMHgzMDMxNTg0NDtcbi8vIEN1YmVtYXAgdGV4dHVyZSBmbGFnIChmb3IgRERTX0RYMTBfRklFTERTLk1JU0NfRkxBRylcbnZhciBERFNfUkVTT1VSQ0VfTUlTQ19URVhUVVJFQ1VCRSA9IDB4NDtcbi8qKlxuICogTWFwcyBgRk9VUkNDXypgIGZvcm1hdHMgdG8gaW50ZXJuYWwgZm9ybWF0cyAoc2VlIHtAbGluayBQSVhJLklOVEVSTkFMX0ZPUk1BVFN9KS5cbiAqIEBpZ25vcmVcbiAqL1xudmFyIEZPVVJDQ19UT19GT1JNQVQgPSAoX2EkMSA9IHt9LFxuICAgIF9hJDFbRk9VUkNDX0RYVDFdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVCxcbiAgICBfYSQxW0ZPVVJDQ19EWFQzXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQsXG4gICAgX2EkMVtGT1VSQ0NfRFhUNV0gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDVfRVhULFxuICAgIF9hJDEpO1xuLyoqXG4gKiBNYXBzIHtAbGluayBEWEdJX0ZPUk1BVH0gdG8gdHlwZXMvaW50ZXJuYWwtZm9ybWF0cyAoc2VlIHtAbGluayBQSVhJLlRZUEVTfSwge0BsaW5rIFBJWEkuSU5URVJOQUxfRk9STUFUU30pXG4gKiBAaWdub3JlXG4gKi9cbnZhciBEWEdJX1RPX0ZPUk1BVCA9IChfYiQxID0ge30sXG4gICAgLy8gV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcbiAgICBfYiQxW0RYR0lfRk9STUFULkRYR0lfRk9STUFUX0JDMV9UWVBFTEVTU10gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhULFxuICAgIF9iJDFbRFhHSV9GT1JNQVQuRFhHSV9GT1JNQVRfQkMxX1VOT1JNXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQsXG4gICAgX2IkMVtEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzJfVFlQRUxFU1NdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCxcbiAgICBfYiQxW0RYR0lfRk9STUFULkRYR0lfRk9STUFUX0JDMl9VTk9STV0gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhULFxuICAgIF9iJDFbRFhHSV9GT1JNQVQuRFhHSV9GT1JNQVRfQkMzX1RZUEVMRVNTXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFQsXG4gICAgX2IkMVtEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzNfVU5PUk1dID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgICAvLyBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiXG4gICAgX2IkMVtEWEdJX0ZPUk1BVC5EWEdJX0ZPUk1BVF9CQzFfVU5PUk1fU1JHQl0gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhULFxuICAgIF9iJDFbRFhHSV9GT1JNQVQuRFhHSV9GT1JNQVRfQkMyX1VOT1JNX1NSR0JdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVCxcbiAgICBfYiQxW0RYR0lfRk9STUFULkRYR0lfRk9STUFUX0JDM19VTk9STV9TUkdCXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQsXG4gICAgX2IkMSk7XG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIHtQSVhJLklMb2FkZXJQbHVnaW59XG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL3dpbmRvd3Mvd2luMzIvZGlyZWN0M2RkZHMvZHgtZ3JhcGhpY3MtZGRzLXBndWlkZVxuICovXG4vKipcbiAqIFBhcnNlcyB0aGUgRERTIGZpbGUgaGVhZGVyLCBnZW5lcmF0ZXMgYmFzZS10ZXh0dXJlcywgYW5kIHB1dHMgdGhlbSBpbnRvIHRoZSB0ZXh0dXJlIGNhY2hlLlxuICogQHBhcmFtIGFycmF5QnVmZmVyXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRERTKGFycmF5QnVmZmVyKSB7XG4gICAgdmFyIGRhdGEgPSBuZXcgVWludDMyQXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgIHZhciBtYWdpY1dvcmQgPSBkYXRhWzBdO1xuICAgIGlmIChtYWdpY1dvcmQgIT09IEREU19NQUdJQykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRERTIGZpbGUgbWFnaWMgd29yZCcpO1xuICAgIH1cbiAgICB2YXIgaGVhZGVyID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCAwLCBERFNfSEVBREVSX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgLy8gRERTIGhlYWRlciBmaWVsZHNcbiAgICB2YXIgaGVpZ2h0ID0gaGVhZGVyW0REU19GSUVMRFMuSEVJR0hUXTtcbiAgICB2YXIgd2lkdGggPSBoZWFkZXJbRERTX0ZJRUxEUy5XSURUSF07XG4gICAgdmFyIG1pcG1hcENvdW50ID0gaGVhZGVyW0REU19GSUVMRFMuTUlQTUFQX0NPVU5UXTtcbiAgICAvLyBQSVhFTF9GT1JNQVQgZmllbGRzXG4gICAgdmFyIHBpeGVsRm9ybWF0ID0gbmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLCBERFNfRklFTERTLlBJWEVMX0ZPUk1BVCAqIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULCBERFNfSEVBREVSX1BGX1NJWkUgLyBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgdmFyIGZvcm1hdEZsYWdzID0gcGl4ZWxGb3JtYXRbUEZfRkxBR1NdO1xuICAgIC8vIEZpbGUgY29udGFpbnMgY29tcHJlc3NlZCB0ZXh0dXJlKHMpXG4gICAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9GT1VSQ0MpIHtcbiAgICAgICAgdmFyIGZvdXJDQyA9IHBpeGVsRm9ybWF0W0REU19QRl9GSUVMRFMuRk9VUkNDXTtcbiAgICAgICAgLy8gRmlsZSBjb250YWlucyBvbmUgRFhUbiBjb21wcmVzc2VkIHRleHR1cmVcbiAgICAgICAgaWYgKGZvdXJDQyAhPT0gRk9VUkNDX0RYMTApIHtcbiAgICAgICAgICAgIHZhciBpbnRlcm5hbEZvcm1hdF8xID0gRk9VUkNDX1RPX0ZPUk1BVFtmb3VyQ0NdO1xuICAgICAgICAgICAgdmFyIGRhdGFPZmZzZXRfMSA9IEREU19NQUdJQ19TSVpFICsgRERTX0hFQURFUl9TSVpFO1xuICAgICAgICAgICAgdmFyIHRleERhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldF8xKTtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlKHRleERhdGEsIHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGludGVybmFsRm9ybWF0XzEsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxldmVsczogbWlwbWFwQ291bnQgLy8gQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSB3aWxsIHNlcGFyYXRlIHRoZSBsZXZlbEJ1ZmZlcnMgZm9yIHVzIVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gW3Jlc291cmNlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGT1VSQ0NfRFgxMCBpbmRpY2F0ZXMgdGhlcmUgaXMgYSAyMC1ieXRlIEREU19IRUFERVJfRFgxMCBhZnRlciBERFNfSEVBREVSXG4gICAgICAgIHZhciBkeDEwT2Zmc2V0ID0gRERTX01BR0lDX1NJWkUgKyBERFNfSEVBREVSX1NJWkU7XG4gICAgICAgIHZhciBkeDEwSGVhZGVyID0gbmV3IFVpbnQzMkFycmF5KGRhdGEuYnVmZmVyLCBkeDEwT2Zmc2V0LCBERFNfSEVBREVSX0RYMTBfU0laRSAvIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICAgICAgdmFyIGR4Z2lGb3JtYXQgPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5EWEdJX0ZPUk1BVF07XG4gICAgICAgIHZhciByZXNvdXJjZURpbWVuc2lvbiA9IGR4MTBIZWFkZXJbRERTX0RYMTBfRklFTERTLlJFU09VUkNFX0RJTUVOU0lPTl07XG4gICAgICAgIHZhciBtaXNjRmxhZyA9IGR4MTBIZWFkZXJbRERTX0RYMTBfRklFTERTLk1JU0NfRkxBR107XG4gICAgICAgIHZhciBhcnJheVNpemUgPSBkeDEwSGVhZGVyW0REU19EWDEwX0ZJRUxEUy5BUlJBWV9TSVpFXTtcbiAgICAgICAgLy8gTWFwIGR4Z2lGb3JtYXQgdG8gUElYSS5JTlRFUk5BTF9GT1JNQVRTXG4gICAgICAgIHZhciBpbnRlcm5hbEZvcm1hdF8yID0gRFhHSV9UT19GT1JNQVRbZHhnaUZvcm1hdF07XG4gICAgICAgIGlmIChpbnRlcm5hbEZvcm1hdF8yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkREU1BhcnNlciBjYW5ub3QgcGFyc2UgdGV4dHVyZSBkYXRhIHdpdGggRFhHSSBmb3JtYXQgXCIgKyBkeGdpRm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlzY0ZsYWcgPT09IEREU19SRVNPVVJDRV9NSVNDX1RFWFRVUkVDVUJFKSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogQW55Ym9keSBleGNpdGVkIGFib3V0IGN1YmVtYXAgY29tcHJlc3NlZCB0ZXh0dXJlcz9cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRERTUGFyc2VyIGRvZXMgbm90IHN1cHBvcnQgY3ViZW1hcCB0ZXh0dXJlcycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNvdXJjZURpbWVuc2lvbiA9PT0gRDNEMTBfUkVTT1VSQ0VfRElNRU5TSU9OLkREU19ESU1FTlNJT05fVEVYVFVSRTNEKSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogQW55Ym9keSBleGNpdGVkIGFib3V0IDNEIGNvbXByZXNzZWQgdGV4dHVyZXM/XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU1BhcnNlciBkb2VzIG5vdCBzdXBwb3J0ZWQgM0QgdGV4dHVyZSBkYXRhJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVWludDhBcnJheSBidWZmZXJzIG9mIGltYWdlIGRhdGEsIGluY2x1ZGluZyBhbGwgbWlwbWFwIGxldmVscyBpbiBlYWNoIGltYWdlXG4gICAgICAgIHZhciBpbWFnZUJ1ZmZlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdmFyIGRhdGFPZmZzZXQgPSBERFNfTUFHSUNfU0laRVxuICAgICAgICAgICAgKyBERFNfSEVBREVSX1NJWkVcbiAgICAgICAgICAgICsgRERTX0hFQURFUl9EWDEwX1NJWkU7XG4gICAgICAgIGlmIChhcnJheVNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIE5vIG5lZWQgYm90aGVyaW5nIHdpdGggdGhlIGltYWdlU2l6ZSBjYWxjdWxhdGlvbiFcbiAgICAgICAgICAgIGltYWdlQnVmZmVycy5wdXNoKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgaW1hZ2VTaXplIGZvciBlYWNoIHRleHR1cmUsIGFuZCB0aGVuIGxvY2F0ZSBlYWNoIGltYWdlJ3MgdGV4dHVyZSBkYXRhXG4gICAgICAgICAgICB2YXIgcGl4ZWxTaXplID0gSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTFtpbnRlcm5hbEZvcm1hdF8yXTtcbiAgICAgICAgICAgIHZhciBpbWFnZVNpemUgPSAwO1xuICAgICAgICAgICAgdmFyIGxldmVsV2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHZhciBsZXZlbEhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWlwbWFwQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBhbGlnbmVkTGV2ZWxXaWR0aCA9IE1hdGgubWF4KDEsIChsZXZlbFdpZHRoICsgMykgJiB+Myk7XG4gICAgICAgICAgICAgICAgdmFyIGFsaWduZWRMZXZlbEhlaWdodCA9IE1hdGgubWF4KDEsIChsZXZlbEhlaWdodCArIDMpICYgfjMpO1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbFNpemUgPSBhbGlnbmVkTGV2ZWxXaWR0aCAqIGFsaWduZWRMZXZlbEhlaWdodCAqIHBpeGVsU2l6ZTtcbiAgICAgICAgICAgICAgICBpbWFnZVNpemUgKz0gbGV2ZWxTaXplO1xuICAgICAgICAgICAgICAgIGxldmVsV2lkdGggPSBsZXZlbFdpZHRoID4+PiAxO1xuICAgICAgICAgICAgICAgIGxldmVsSGVpZ2h0ID0gbGV2ZWxIZWlnaHQgPj4+IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW1hZ2VPZmZzZXQgPSBkYXRhT2Zmc2V0O1xuICAgICAgICAgICAgLy8gTk9URTogQ3ViZW1hcHMgaGF2ZSA2LWltYWdlcyBwZXIgdGV4dHVyZSAoYnV0IHRoZXkgYXJlbid0IHN1cHBvcnRlZCBzbyBeX14pXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VCdWZmZXJzLnB1c2gobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGltYWdlT2Zmc2V0LCBpbWFnZVNpemUpKTtcbiAgICAgICAgICAgICAgICBpbWFnZU9mZnNldCArPSBpbWFnZVNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVWludDhBcnJheSAtPiBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlLCBhbmQgd2UncmUgZG9uZSFcbiAgICAgICAgcmV0dXJuIGltYWdlQnVmZmVycy5tYXAoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gbmV3IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UoYnVmZmVyLCB7XG4gICAgICAgICAgICBmb3JtYXQ6IGludGVybmFsRm9ybWF0XzIsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIGxldmVsczogbWlwbWFwQ291bnRcbiAgICAgICAgfSk7IH0pO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX1JHQikge1xuICAgICAgICAvLyBGSVhNRTogV2UgbWlnaHQgd2FudCB0byBhbGxvdyB1bmNvbXByZXNzZWQgKi5kZHMgZmlsZXM/XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRERTUGFyc2VyIGRvZXMgbm90IHN1cHBvcnQgdW5jb21wcmVzc2VkIHRleHR1cmUgZGF0YS4nKTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdEZsYWdzICYgRERQRl9ZVVYpIHtcbiAgICAgICAgLy8gRklYTUU6IERvZXMgYW55Ym9keSBuZWVkIHRoaXMgZmVhdHVyZT9cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdERFNQYXJzZXIgZG9lcyBub3Qgc3VwcG9ydGVkIFlVViB1bmNvbXByZXNzZWQgdGV4dHVyZSBkYXRhLicpO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX0xVTUlOQU5DRSkge1xuICAgICAgICAvLyBGSVhNRTogTWljcm9zb2Z0IHNheXMgb2xkZXIgRERTIGZpbGVycyB1c2UgdGhpcyBmZWF0dXJlISBQcm9iYWJseSBub3Qgd29ydGggdGhlIGVmZm9ydCFcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdERFNQYXJzZXIgZG9lcyBub3Qgc3VwcG9ydCBzaW5nbGUtY2hhbm5lbCAobHVtbmluYW5jZSkgdGV4dHVyZSBkYXRhIScpO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0RmxhZ3MgJiBERFBGX0FMUEhBKSB7XG4gICAgICAgIC8vIEZJWE1FOiBJJ20gdGlyZWQhIFNlZSBhYm92ZSA9KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU1BhcnNlciBkb2VzIG5vdCBzdXBwb3J0IHNpbmdsZS1jaGFubmVsIChhbHBoYSkgdGV4dHVyZSBkYXRhIScpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0REU1BhcnNlciBmYWlsZWQgdG8gbG9hZCBhIHRleHR1cmUgZmlsZSBkdWUgdG8gYW4gdW5rbm93biByZWFzb24hJyk7XG59XG5cbnZhciBfYSwgX2IsIF9jO1xuLyoqXG4gKiBUaGUgMTItYnl0ZSBLVFggZmlsZSBpZGVudGlmaWVyXG4gKiBAc2VlIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL29wZW5nbGVzL3Nkay90b29scy9LVFgvZmlsZV9mb3JtYXRfc3BlYy8jMi4xXG4gKiBAaWdub3JlXG4gKi9cbnZhciBGSUxFX0lERU5USUZJRVIgPSBbMHhBQiwgMHg0QiwgMHg1NCwgMHg1OCwgMHgyMCwgMHgzMSwgMHgzMSwgMHhCQiwgMHgwRCwgMHgwQSwgMHgxQSwgMHgwQV07XG4vKipcbiAqIFRoZSB2YWx1ZSBzdG9yZWQgaW4gdGhlIFwiZW5kaWFubmVzc1wiIGZpZWxkLlxuICogQHNlZSBodHRwczovL3d3dy5raHJvbm9zLm9yZy9vcGVuZ2xlcy9zZGsvdG9vbHMvS1RYL2ZpbGVfZm9ybWF0X3NwZWMvIzIuMlxuICogQGlnbm9yZVxuICovXG52YXIgRU5ESUFOTkVTUyA9IDB4MDQwMzAyMDE7XG4vKipcbiAqIEJ5dGUgb2Zmc2V0cyBvZiB0aGUgS1RYIGZpbGUgaGVhZGVyIGZpZWxkc1xuICogQGlnbm9yZVxuICovXG52YXIgS1RYX0ZJRUxEUyA9IHtcbiAgICBGSUxFX0lERU5USUZJRVI6IDAsXG4gICAgRU5ESUFOTkVTUzogMTIsXG4gICAgR0xfVFlQRTogMTYsXG4gICAgR0xfVFlQRV9TSVpFOiAyMCxcbiAgICBHTF9GT1JNQVQ6IDI0LFxuICAgIEdMX0lOVEVSTkFMX0ZPUk1BVDogMjgsXG4gICAgR0xfQkFTRV9JTlRFUk5BTF9GT1JNQVQ6IDMyLFxuICAgIFBJWEVMX1dJRFRIOiAzNixcbiAgICBQSVhFTF9IRUlHSFQ6IDQwLFxuICAgIFBJWEVMX0RFUFRIOiA0NCxcbiAgICBOVU1CRVJfT0ZfQVJSQVlfRUxFTUVOVFM6IDQ4LFxuICAgIE5VTUJFUl9PRl9GQUNFUzogNTIsXG4gICAgTlVNQkVSX09GX01JUE1BUF9MRVZFTFM6IDU2LFxuICAgIEJZVEVTX09GX0tFWV9WQUxVRV9EQVRBOiA2MFxufTtcbi8qKlxuICogQnl0ZSBzaXplIG9mIHRoZSBmaWxlIGhlYWRlciBmaWVsZHMgaW4ge0Bjb2RlIEtUWF9GSUVMRFN9XG4gKiBAaWdub3JlXG4gKi9cbnZhciBGSUxFX0hFQURFUl9TSVpFID0gNjQ7XG4vKipcbiAqIE1hcHMge0BsaW5rIFBJWEkuVFlQRVN9IHRvIHRoZSBieXRlcyB0YWtlbiBwZXIgY29tcG9uZW50LCBleGNsdWRpbmcgdGhvc2Ugb25lcyB0aGF0IGFyZSBiaXQtZmllbGRzLlxuICogQGlnbm9yZVxuICovXG52YXIgVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCA9IChfYSA9IHt9LFxuICAgIF9hW1RZUEVTLlVOU0lHTkVEX0JZVEVdID0gMSxcbiAgICBfYVtUWVBFUy5VTlNJR05FRF9TSE9SVF0gPSAyLFxuICAgIF9hW1RZUEVTLklOVF0gPSA0LFxuICAgIF9hW1RZUEVTLlVOU0lHTkVEX0lOVF0gPSA0LFxuICAgIF9hW1RZUEVTLkZMT0FUXSA9IDQsXG4gICAgX2FbVFlQRVMuSEFMRl9GTE9BVF0gPSA4LFxuICAgIF9hKTtcbi8qKlxuICogTnVtYmVyIG9mIGNvbXBvbmVudHMgaW4gZWFjaCB7QGxpbmsgUElYSS5GT1JNQVRTfVxuICogQGlnbm9yZVxuICovXG52YXIgRk9STUFUU19UT19DT01QT05FTlRTID0gKF9iID0ge30sXG4gICAgX2JbRk9STUFUUy5SR0JBXSA9IDQsXG4gICAgX2JbRk9STUFUUy5SR0JdID0gMyxcbiAgICBfYltGT1JNQVRTLlJHXSA9IDIsXG4gICAgX2JbRk9STUFUUy5SRURdID0gMSxcbiAgICBfYltGT1JNQVRTLkxVTUlOQU5DRV0gPSAxLFxuICAgIF9iW0ZPUk1BVFMuTFVNSU5BTkNFX0FMUEhBXSA9IDIsXG4gICAgX2JbRk9STUFUUy5BTFBIQV0gPSAxLFxuICAgIF9iKTtcbi8qKlxuICogTnVtYmVyIG9mIGJ5dGVzIHBlciBwaXhlbCBpbiBiaXQtZmllbGQgdHlwZXMgaW4ge0BsaW5rIFBJWEkuVFlQRVN9XG4gKiBAaWdub3JlXG4gKi9cbnZhciBUWVBFU19UT19CWVRFU19QRVJfUElYRUwgPSAoX2MgPSB7fSxcbiAgICBfY1tUWVBFUy5VTlNJR05FRF9TSE9SVF80XzRfNF80XSA9IDIsXG4gICAgX2NbVFlQRVMuVU5TSUdORURfU0hPUlRfNV81XzVfMV0gPSAyLFxuICAgIF9jW1RZUEVTLlVOU0lHTkVEX1NIT1JUXzVfNl81XSA9IDIsXG4gICAgX2MpO1xuZnVuY3Rpb24gcGFyc2VLVFgodXJsLCBhcnJheUJ1ZmZlciwgbG9hZEtleVZhbHVlRGF0YSkge1xuICAgIGlmIChsb2FkS2V5VmFsdWVEYXRhID09PSB2b2lkIDApIHsgbG9hZEtleVZhbHVlRGF0YSA9IGZhbHNlOyB9XG4gICAgdmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICBpZiAoIXZhbGlkYXRlKHVybCwgZGF0YVZpZXcpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgbGl0dGxlRW5kaWFuID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuRU5ESUFOTkVTUywgdHJ1ZSkgPT09IEVORElBTk5FU1M7XG4gICAgdmFyIGdsVHlwZSA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLkdMX1RZUEUsIGxpdHRsZUVuZGlhbik7XG4gICAgLy8gY29uc3QgZ2xUeXBlU2l6ZSA9IGRhdGFWaWV3LmdldFVpbnQzMihLVFhfRklFTERTLkdMX1RZUEVfU0laRSwgbGl0dGxlRW5kaWFuKTtcbiAgICB2YXIgZ2xGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9GT1JNQVQsIGxpdHRsZUVuZGlhbik7XG4gICAgdmFyIGdsSW50ZXJuYWxGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5HTF9JTlRFUk5BTF9GT1JNQVQsIGxpdHRsZUVuZGlhbik7XG4gICAgdmFyIHBpeGVsV2lkdGggPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5QSVhFTF9XSURUSCwgbGl0dGxlRW5kaWFuKTtcbiAgICB2YXIgcGl4ZWxIZWlnaHQgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5QSVhFTF9IRUlHSFQsIGxpdHRsZUVuZGlhbikgfHwgMTsgLy8gXCJwaXhlbEhlaWdodCA9IDBcIiAtPiBcIjFcIlxuICAgIHZhciBwaXhlbERlcHRoID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuUElYRUxfREVQVEgsIGxpdHRsZUVuZGlhbikgfHwgMTsgLy8gXl5cbiAgICB2YXIgbnVtYmVyT2ZBcnJheUVsZW1lbnRzID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuTlVNQkVSX09GX0FSUkFZX0VMRU1FTlRTLCBsaXR0bGVFbmRpYW4pIHx8IDE7IC8vIF5eXG4gICAgdmFyIG51bWJlck9mRmFjZXMgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5OVU1CRVJfT0ZfRkFDRVMsIGxpdHRsZUVuZGlhbik7XG4gICAgdmFyIG51bWJlck9mTWlwbWFwTGV2ZWxzID0gZGF0YVZpZXcuZ2V0VWludDMyKEtUWF9GSUVMRFMuTlVNQkVSX09GX01JUE1BUF9MRVZFTFMsIGxpdHRsZUVuZGlhbik7XG4gICAgdmFyIGJ5dGVzT2ZLZXlWYWx1ZURhdGEgPSBkYXRhVmlldy5nZXRVaW50MzIoS1RYX0ZJRUxEUy5CWVRFU19PRl9LRVlfVkFMVUVfREFUQSwgbGl0dGxlRW5kaWFuKTtcbiAgICAvLyBXaGV0aGVyIHRoZSBwbGF0Zm9ybSBhcmNoaXRlY3R1cmUgaXMgbGl0dGxlIGVuZGlhbi4gSWYgbGl0dGxlRW5kaWFuICE9PSBwbGF0Zm9ybUxpdHRsZUVuZGlhbiwgdGhlbiB0aGVcbiAgICAvLyBmaWxlIGNvbnRlbnRzIG11c3QgYmUgZW5kaWFuLWNvbnZlcnRlZCFcbiAgICAvLyBUT0RPOiBFbmRpYW5uZXNzIGNvbnZlcnNpb25cbiAgICAvLyBjb25zdCBwbGF0Zm9ybUxpdHRsZUVuZGlhbiA9IG5ldyBVaW50OEFycmF5KChuZXcgVWludDMyQXJyYXkoW0VORElBTk5FU1NdKSkuYnVmZmVyKVswXSA9PT0gMHgwMTtcbiAgICBpZiAocGl4ZWxIZWlnaHQgPT09IDAgfHwgcGl4ZWxEZXB0aCAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgMkQgdGV4dHVyZXMgYXJlIHN1cHBvcnRlZCcpO1xuICAgIH1cbiAgICBpZiAobnVtYmVyT2ZGYWNlcyAhPT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0N1YmVUZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZCBieSBLVFhMb2FkZXIgeWV0IScpO1xuICAgIH1cbiAgICBpZiAobnVtYmVyT2ZBcnJheUVsZW1lbnRzICE9PSAxKSB7XG4gICAgICAgIC8vIFRPRE86IFN1cHBvcnQgc3BsaXR0aW5nIGFycmF5LXRleHR1cmVzIGludG8gbXVsdGlwbGUgQmFzZVRleHR1cmVzXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgZG9lcyBub3Qgc3VwcG9ydCBhcnJheSB0ZXh0dXJlcycpO1xuICAgIH1cbiAgICAvLyBUT0RPOiA4eDQgYmxvY2tzIGZvciAyYnBwIHB2cnRjXG4gICAgdmFyIGJsb2NrV2lkdGggPSA0O1xuICAgIHZhciBibG9ja0hlaWdodCA9IDQ7XG4gICAgdmFyIGFsaWduZWRXaWR0aCA9IChwaXhlbFdpZHRoICsgMykgJiB+MztcbiAgICB2YXIgYWxpZ25lZEhlaWdodCA9IChwaXhlbEhlaWdodCArIDMpICYgfjM7XG4gICAgdmFyIGltYWdlQnVmZmVycyA9IG5ldyBBcnJheShudW1iZXJPZkFycmF5RWxlbWVudHMpO1xuICAgIHZhciBpbWFnZVBpeGVscyA9IHBpeGVsV2lkdGggKiBwaXhlbEhlaWdodDtcbiAgICBpZiAoZ2xUeXBlID09PSAwKSB7XG4gICAgICAgIC8vIEFsaWduIHRvIDE2IHBpeGVscyAoNHg0IGJsb2NrcylcbiAgICAgICAgaW1hZ2VQaXhlbHMgPSBhbGlnbmVkV2lkdGggKiBhbGlnbmVkSGVpZ2h0O1xuICAgIH1cbiAgICB2YXIgaW1hZ2VQaXhlbEJ5dGVTaXplO1xuICAgIGlmIChnbFR5cGUgIT09IDApIHtcbiAgICAgICAgLy8gVW5jb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0XG4gICAgICAgIGlmIChUWVBFU19UT19CWVRFU19QRVJfQ09NUE9ORU5UW2dsVHlwZV0pIHtcbiAgICAgICAgICAgIGltYWdlUGl4ZWxCeXRlU2l6ZSA9IFRZUEVTX1RPX0JZVEVTX1BFUl9DT01QT05FTlRbZ2xUeXBlXSAqIEZPUk1BVFNfVE9fQ09NUE9ORU5UU1tnbEZvcm1hdF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbWFnZVBpeGVsQnl0ZVNpemUgPSBUWVBFU19UT19CWVRFU19QRVJfUElYRUxbZ2xUeXBlXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW1hZ2VQaXhlbEJ5dGVTaXplID0gSU5URVJOQUxfRk9STUFUX1RPX0JZVEVTX1BFUl9QSVhFTFtnbEludGVybmFsRm9ybWF0XTtcbiAgICB9XG4gICAgaWYgKGltYWdlUGl4ZWxCeXRlU2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgdGhlIHBpeGVsIGZvcm1hdCBzdG9yZWQgaW4gdGhlICoua3R4IGZpbGUhJyk7XG4gICAgfVxuICAgIHZhciBrdkRhdGEgPSBsb2FkS2V5VmFsdWVEYXRhXG4gICAgICAgID8gcGFyc2VLdkRhdGEoZGF0YVZpZXcsIGJ5dGVzT2ZLZXlWYWx1ZURhdGEsIGxpdHRsZUVuZGlhbilcbiAgICAgICAgOiBudWxsO1xuICAgIHZhciBpbWFnZUJ5dGVTaXplID0gaW1hZ2VQaXhlbHMgKiBpbWFnZVBpeGVsQnl0ZVNpemU7XG4gICAgdmFyIG1pcEJ5dGVTaXplID0gaW1hZ2VCeXRlU2l6ZTtcbiAgICB2YXIgbWlwV2lkdGggPSBwaXhlbFdpZHRoO1xuICAgIHZhciBtaXBIZWlnaHQgPSBwaXhlbEhlaWdodDtcbiAgICB2YXIgYWxpZ25lZE1pcFdpZHRoID0gYWxpZ25lZFdpZHRoO1xuICAgIHZhciBhbGlnbmVkTWlwSGVpZ2h0ID0gYWxpZ25lZEhlaWdodDtcbiAgICB2YXIgaW1hZ2VPZmZzZXQgPSBGSUxFX0hFQURFUl9TSVpFICsgYnl0ZXNPZktleVZhbHVlRGF0YTtcbiAgICBmb3IgKHZhciBtaXBtYXBMZXZlbCA9IDA7IG1pcG1hcExldmVsIDwgbnVtYmVyT2ZNaXBtYXBMZXZlbHM7IG1pcG1hcExldmVsKyspIHtcbiAgICAgICAgdmFyIGltYWdlU2l6ZSA9IGRhdGFWaWV3LmdldFVpbnQzMihpbWFnZU9mZnNldCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgdmFyIGVsZW1lbnRPZmZzZXQgPSBpbWFnZU9mZnNldCArIDQ7XG4gICAgICAgIGZvciAodmFyIGFycmF5RWxlbWVudCA9IDA7IGFycmF5RWxlbWVudCA8IG51bWJlck9mQXJyYXlFbGVtZW50czsgYXJyYXlFbGVtZW50KyspIHtcbiAgICAgICAgICAgIC8vIFRPRE86IE1heWJlIHN1cHBvcnQgM0QgdGV4dHVyZXM/IDotKVxuICAgICAgICAgICAgLy8gZm9yIChsZXQgelNsaWNlID0gMDsgelNsaWNlIDwgcGl4ZWxEZXB0aDsgelNsaWNlKVxuICAgICAgICAgICAgdmFyIG1pcHMgPSBpbWFnZUJ1ZmZlcnNbYXJyYXlFbGVtZW50XTtcbiAgICAgICAgICAgIGlmICghbWlwcykge1xuICAgICAgICAgICAgICAgIG1pcHMgPSBpbWFnZUJ1ZmZlcnNbYXJyYXlFbGVtZW50XSA9IG5ldyBBcnJheShudW1iZXJPZk1pcG1hcExldmVscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtaXBzW21pcG1hcExldmVsXSA9IHtcbiAgICAgICAgICAgICAgICBsZXZlbElEOiBtaXBtYXBMZXZlbCxcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhbGlnbiBtaXBXaWR0aCB3aGVuIHRleHR1cmUgbm90IGNvbXByZXNzZWQhIChnbFR5cGUgbm90IHplcm8pXG4gICAgICAgICAgICAgICAgbGV2ZWxXaWR0aDogbnVtYmVyT2ZNaXBtYXBMZXZlbHMgPiAxIHx8IGdsVHlwZSAhPT0gMCA/IG1pcFdpZHRoIDogYWxpZ25lZE1pcFdpZHRoLFxuICAgICAgICAgICAgICAgIGxldmVsSGVpZ2h0OiBudW1iZXJPZk1pcG1hcExldmVscyA+IDEgfHwgZ2xUeXBlICE9PSAwID8gbWlwSGVpZ2h0IDogYWxpZ25lZE1pcEhlaWdodCxcbiAgICAgICAgICAgICAgICBsZXZlbEJ1ZmZlcjogbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGVsZW1lbnRPZmZzZXQsIG1pcEJ5dGVTaXplKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVsZW1lbnRPZmZzZXQgKz0gbWlwQnl0ZVNpemU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSElOVDogQWxpZ25zIHRvIDQtYnl0ZSBib3VuZGFyeSBhZnRlciBqdW1waW5nIGltYWdlU2l6ZSAoaW4gbGlldSBvZiBtaXBQYWRkaW5nKVxuICAgICAgICBpbWFnZU9mZnNldCArPSBpbWFnZVNpemUgKyA0OyAvLyAoKzQgdG8ganVtcCB0aGUgaW1hZ2VTaXplIGZpZWxkIGl0c2VsZilcbiAgICAgICAgaW1hZ2VPZmZzZXQgPSBpbWFnZU9mZnNldCAlIDQgIT09IDAgPyBpbWFnZU9mZnNldCArIDQgLSAoaW1hZ2VPZmZzZXQgJSA0KSA6IGltYWdlT2Zmc2V0O1xuICAgICAgICAvLyBDYWxjdWxhdGUgbWlwV2lkdGgsIG1pcEhlaWdodCBmb3IgX25leHRfIGl0ZXJhdGlvblxuICAgICAgICBtaXBXaWR0aCA9IChtaXBXaWR0aCA+PiAxKSB8fCAxO1xuICAgICAgICBtaXBIZWlnaHQgPSAobWlwSGVpZ2h0ID4+IDEpIHx8IDE7XG4gICAgICAgIGFsaWduZWRNaXBXaWR0aCA9IChtaXBXaWR0aCArIGJsb2NrV2lkdGggLSAxKSAmIH4oYmxvY2tXaWR0aCAtIDEpO1xuICAgICAgICBhbGlnbmVkTWlwSGVpZ2h0ID0gKG1pcEhlaWdodCArIGJsb2NrSGVpZ2h0IC0gMSkgJiB+KGJsb2NrSGVpZ2h0IC0gMSk7XG4gICAgICAgIC8vIEVhY2ggbWlwbWFwIGxldmVsIGlzIDQtdGltZXMgc21hbGxlcj9cbiAgICAgICAgbWlwQnl0ZVNpemUgPSBhbGlnbmVkTWlwV2lkdGggKiBhbGlnbmVkTWlwSGVpZ2h0ICogaW1hZ2VQaXhlbEJ5dGVTaXplO1xuICAgIH1cbiAgICAvLyBXZSB1c2UgdGhlIGxldmVsQnVmZmVycyBmZWF0dXJlIG9mIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UgYi9jIHRleHR1cmUgZGF0YSBpcyBpbWFnZS1tYWpvciwgbm90IGxldmVsLW1ham9yLlxuICAgIGlmIChnbFR5cGUgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVuY29tcHJlc3NlZDogaW1hZ2VCdWZmZXJzLm1hcChmdW5jdGlvbiAobGV2ZWxCdWZmZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGxldmVsQnVmZmVyc1swXS5sZXZlbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICB2YXIgY29udmVydFRvSW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGdsVHlwZSA9PT0gVFlQRVMuRkxPQVQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnVmZmVyLCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZU9mZnNldCwgbGV2ZWxCdWZmZXJzWzBdLmxldmVsQnVmZmVyLmJ5dGVMZW5ndGggLyA0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2xUeXBlID09PSBUWVBFUy5VTlNJR05FRF9JTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udmVydFRvSW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQzMkFycmF5KGxldmVsQnVmZmVyc1swXS5sZXZlbEJ1ZmZlci5idWZmZXIsIGxldmVsQnVmZmVyc1swXS5sZXZlbEJ1ZmZlci5ieXRlT2Zmc2V0LCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZUxlbmd0aCAvIDQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnbFR5cGUgPT09IFRZUEVTLklOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJ0VG9JbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBuZXcgSW50MzJBcnJheShsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnVmZmVyLCBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxCdWZmZXIuYnl0ZU9mZnNldCwgbGV2ZWxCdWZmZXJzWzBdLmxldmVsQnVmZmVyLmJ5dGVMZW5ndGggLyA0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6IG5ldyBCdWZmZXJSZXNvdXJjZShidWZmZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBsZXZlbEJ1ZmZlcnNbMF0ubGV2ZWxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogbGV2ZWxCdWZmZXJzWzBdLmxldmVsSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2xUeXBlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGNvbnZlcnRUb0ludCA/IGNvbnZlcnRGb3JtYXRUb0ludGVnZXIoZ2xGb3JtYXQpIDogZ2xGb3JtYXQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAga3ZEYXRhOiBrdkRhdGFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29tcHJlc3NlZDogaW1hZ2VCdWZmZXJzLm1hcChmdW5jdGlvbiAobGV2ZWxCdWZmZXJzKSB7IHJldHVybiBuZXcgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZShudWxsLCB7XG4gICAgICAgICAgICBmb3JtYXQ6IGdsSW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICB3aWR0aDogcGl4ZWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcGl4ZWxIZWlnaHQsXG4gICAgICAgICAgICBsZXZlbHM6IG51bWJlck9mTWlwbWFwTGV2ZWxzLFxuICAgICAgICAgICAgbGV2ZWxCdWZmZXJzOiBsZXZlbEJ1ZmZlcnMsXG4gICAgICAgIH0pOyB9KSxcbiAgICAgICAga3ZEYXRhOiBrdkRhdGFcbiAgICB9O1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgYXJyYXlCdWZmZXIgY29udGFpbnMgYSB2YWxpZCAqLmt0eCBmaWxlLlxuICogQHBhcmFtIHVybFxuICogQHBhcmFtIGRhdGFWaWV3XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlKHVybCwgZGF0YVZpZXcpIHtcbiAgICAvLyBOT1RFOiBEbyBub3Qgb3B0aW1pemUgdGhpcyBpbnRvIDMgMzItYml0IGludGVnZXIgY29tcGFyaXNvbiBiZWNhdXNlIHRoZSBlbmRpYW5uZXNzXG4gICAgLy8gb2YgdGhlIGRhdGEgaXMgbm90IHNwZWNpZmllZC5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEZJTEVfSURFTlRJRklFUi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDgoaSkgIT09IEZJTEVfSURFTlRJRklFUltpXSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcih1cmwgKyBcIiBpcyBub3QgYSB2YWxpZCAqLmt0eCBmaWxlIVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRGb3JtYXRUb0ludGVnZXIoZm9ybWF0KSB7XG4gICAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICAgICAgY2FzZSBGT1JNQVRTLlJHQkE6IHJldHVybiBGT1JNQVRTLlJHQkFfSU5URUdFUjtcbiAgICAgICAgY2FzZSBGT1JNQVRTLlJHQjogcmV0dXJuIEZPUk1BVFMuUkdCX0lOVEVHRVI7XG4gICAgICAgIGNhc2UgRk9STUFUUy5SRzogcmV0dXJuIEZPUk1BVFMuUkdfSU5URUdFUjtcbiAgICAgICAgY2FzZSBGT1JNQVRTLlJFRDogcmV0dXJuIEZPUk1BVFMuUkVEX0lOVEVHRVI7XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiBmb3JtYXQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VLdkRhdGEoZGF0YVZpZXcsIGJ5dGVzT2ZLZXlWYWx1ZURhdGEsIGxpdHRsZUVuZGlhbikge1xuICAgIHZhciBrdkRhdGEgPSBuZXcgTWFwKCk7XG4gICAgdmFyIGJ5dGVzSW50b0tleVZhbHVlRGF0YSA9IDA7XG4gICAgd2hpbGUgKGJ5dGVzSW50b0tleVZhbHVlRGF0YSA8IGJ5dGVzT2ZLZXlWYWx1ZURhdGEpIHtcbiAgICAgICAgdmFyIGtleUFuZFZhbHVlQnl0ZVNpemUgPSBkYXRhVmlldy5nZXRVaW50MzIoRklMRV9IRUFERVJfU0laRSArIGJ5dGVzSW50b0tleVZhbHVlRGF0YSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgdmFyIGtleUFuZFZhbHVlQnl0ZU9mZnNldCA9IEZJTEVfSEVBREVSX1NJWkUgKyBieXRlc0ludG9LZXlWYWx1ZURhdGEgKyA0O1xuICAgICAgICB2YXIgdmFsdWVQYWRkaW5nID0gMyAtICgoa2V5QW5kVmFsdWVCeXRlU2l6ZSArIDMpICUgNCk7XG4gICAgICAgIC8vIEJvdW5kcyBjaGVja1xuICAgICAgICBpZiAoa2V5QW5kVmFsdWVCeXRlU2l6ZSA9PT0gMCB8fCBrZXlBbmRWYWx1ZUJ5dGVTaXplID4gYnl0ZXNPZktleVZhbHVlRGF0YSAtIGJ5dGVzSW50b0tleVZhbHVlRGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignS1RYTG9hZGVyOiBrZXlBbmRWYWx1ZUJ5dGVTaXplIG91dCBvZiBib3VuZHMnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IGtleU51bEJ5dGUgY2FuJ3QgYmUgMCBvdGhlcndpc2UgdGhlIGtleSBpcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICAgIHZhciBrZXlOdWxCeXRlID0gMDtcbiAgICAgICAgZm9yICg7IGtleU51bEJ5dGUgPCBrZXlBbmRWYWx1ZUJ5dGVTaXplOyBrZXlOdWxCeXRlKyspIHtcbiAgICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50OChrZXlBbmRWYWx1ZUJ5dGVPZmZzZXQgKyBrZXlOdWxCeXRlKSA9PT0gMHgwMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlOdWxCeXRlID09PSAtMSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignS1RYTG9hZGVyOiBGYWlsZWQgdG8gZmluZCBudWxsIGJ5dGUgdGVybWluYXRpbmcga3ZEYXRhIGtleScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShuZXcgVWludDhBcnJheShkYXRhVmlldy5idWZmZXIsIGtleUFuZFZhbHVlQnl0ZU9mZnNldCwga2V5TnVsQnl0ZSkpO1xuICAgICAgICB2YXIgdmFsdWUgPSBuZXcgRGF0YVZpZXcoZGF0YVZpZXcuYnVmZmVyLCBrZXlBbmRWYWx1ZUJ5dGVPZmZzZXQgKyBrZXlOdWxCeXRlICsgMSwga2V5QW5kVmFsdWVCeXRlU2l6ZSAtIGtleU51bEJ5dGUgLSAxKTtcbiAgICAgICAga3ZEYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgLy8gNCA9IHRoZSBrZXlBbmRWYWx1ZUJ5dGVTaXplIGZpZWxkIGl0c2VsZlxuICAgICAgICAvLyBrZXlBbmRWYWx1ZUJ5dGVTaXplID0gdGhlIGJ5dGVzIHRha2VuIGJ5IHRoZSBrZXkgYW5kIHZhbHVlXG4gICAgICAgIC8vIHZhbHVlUGFkZGluZyA9IGV4dHJhIHBhZGRpbmcgdG8gYWxpZ24gd2l0aCA0IGJ5dGVzXG4gICAgICAgIGJ5dGVzSW50b0tleVZhbHVlRGF0YSArPSA0ICsga2V5QW5kVmFsdWVCeXRlU2l6ZSArIHZhbHVlUGFkZGluZztcbiAgICB9XG4gICAgcmV0dXJuIGt2RGF0YTtcbn1cblxuLy8gU2V0IEREUyBmaWxlcyB0byBiZSBsb2FkZWQgYXMgYW4gQXJyYXlCdWZmZXJcbkxvYWRlclJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2RkcycsIExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUik7XG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIHtQSVhJLklMb2FkZXJQbHVnaW59XG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL3dpbmRvd3Mvd2luMzIvZGlyZWN0M2RkZHMvZHgtZ3JhcGhpY3MtZGRzLXBndWlkZVxuICovXG52YXIgRERTTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEREU0xvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgRERTIGNvbXByZXNzZWQgdGV4dHVyZVxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSByZXNvdXJjZSAtIGxvYWRlciByZXNvdXJjZSB0aGF0IGlzIGNoZWNrZWQgdG8gc2VlIGlmIGl0IGlzIGEgRERTIGZpbGVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lXG4gICAgICovXG4gICAgRERTTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICBpZiAocmVzb3VyY2UuZXh0ZW5zaW9uID09PSAnZGRzJyAmJiByZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzb3VyY2UsIHJlZ2lzdGVyQ29tcHJlc3NlZFRleHR1cmVzKHJlc291cmNlLm5hbWUgfHwgcmVzb3VyY2UudXJsLCBwYXJzZUREUyhyZXNvdXJjZS5kYXRhKSwgcmVzb3VyY2UubWV0YWRhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBuZXh0KGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgRERTTG9hZGVyLmV4dGVuc2lvbiA9IEV4dGVuc2lvblR5cGUuTG9hZGVyO1xuICAgIHJldHVybiBERFNMb2FkZXI7XG59KCkpO1xuXG4vLyBTZXQgS1RYIGZpbGVzIHRvIGJlIGxvYWRlZCBhcyBhbiBBcnJheUJ1ZmZlclxuTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgna3R4JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKTtcbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgS1RYIHRleHR1cmUgY29udGFpbmVyIGZpbGVzLlxuICpcbiAqIFRoaXMgS1RYIGxvYWRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuICogKiBjdWJlIHRleHR1cmVzXG4gKiAqIDNEIHRleHR1cmVzXG4gKiAqIGVuZGlhbm5lc3MgY29udmVyc2lvbiBmb3IgYmlnLWVuZGlhbiBtYWNoaW5lc1xuICogKiBlbWJlZGRlZCAqLmJhc2lzIGZpbGVzXG4gKlxuICogSXQgZG9lcyBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuICogKiBtdWx0aXBsZSB0ZXh0dXJlcyBwZXIgZmlsZVxuICogKiBtaXBtYXBwaW5nIChvbmx5IGZvciBjb21wcmVzc2VkIGZvcm1hdHMpXG4gKiAqIHZlbmRvci1zcGVjaWZpYyBrZXkvdmFsdWUgZGF0YSBwYXJzaW5nIChlbmFibGUge0BsaW5rIFBJWEkuS1RYTG9hZGVyLmxvYWRLZXlWYWx1ZURhdGF9KVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMge1BJWEkuSUxvYWRlclBsdWdpbn1cbiAqL1xudmFyIEtUWExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLVFhMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIEtUWCBmaWxlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgd2lsbCBwYXJzZSB0aGUgS1RYIGZpbGUgaGVhZGVyIGFuZCBhZGQgYSB7QGNvZGUgQmFzZVRleHR1cmV9IHRvIHRoZSB0ZXh0dXJlXG4gICAgICogY2FjaGUuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHJlc291cmNlIC0gbG9hZGVyIHJlc291cmNlIHRoYXQgaXMgY2hlY2tlZCB0byBzZWUgaWYgaXQgaXMgYSBLVFggZmlsZVxuICAgICAqIEBwYXJhbSBuZXh0IC0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmVcbiAgICAgKi9cbiAgICBLVFhMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIGlmIChyZXNvdXJjZS5leHRlbnNpb24gPT09ICdrdHgnICYmIHJlc291cmNlLmRhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybF8xID0gcmVzb3VyY2UubmFtZSB8fCByZXNvdXJjZS51cmw7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gcGFyc2VLVFgodXJsXzEsIHJlc291cmNlLmRhdGEsIHRoaXMubG9hZEtleVZhbHVlRGF0YSksIGNvbXByZXNzZWQgPSBfYS5jb21wcmVzc2VkLCB1bmNvbXByZXNzZWQgPSBfYS51bmNvbXByZXNzZWQsIGt2RGF0YV8xID0gX2Eua3ZEYXRhO1xuICAgICAgICAgICAgICAgIGlmIChjb21wcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZWdpc3RlckNvbXByZXNzZWRUZXh0dXJlcyh1cmxfMSwgY29tcHJlc3NlZCwgcmVzb3VyY2UubWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa3ZEYXRhXzEgJiYgcmVzdWx0LnRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0ZXh0dXJlSWQgaW4gcmVzdWx0LnRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRleHR1cmVzW3RleHR1cmVJZF0uYmFzZVRleHR1cmUua3R4S2V5VmFsdWVEYXRhID0ga3ZEYXRhXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXNvdXJjZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodW5jb21wcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlc18xID0ge307XG4gICAgICAgICAgICAgICAgICAgIHVuY29tcHJlc3NlZC5mb3JFYWNoKGZ1bmN0aW9uIChpbWFnZSwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoaW1hZ2UucmVzb3VyY2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OT19QUkVNVUxUSVBMSUVEX0FMUEhBLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGltYWdlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBpbWFnZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGVJRCA9IHVybF8xICsgXCItXCIgKyAoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGt2RGF0YV8xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGV4dHVyZS5iYXNlVGV4dHVyZS5rdHhLZXlWYWx1ZURhdGEgPSBrdkRhdGFfMTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBjYWNoZUlEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNfMVt1cmxfMV0gPSB0ZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgdXJsXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCB1cmxfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc18xW2NhY2hlSURdID0gdGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzb3VyY2UsIHsgdGV4dHVyZXM6IHRleHR1cmVzXzEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIG5leHQoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBLVFhMb2FkZXIuZXh0ZW5zaW9uID0gRXh0ZW5zaW9uVHlwZS5Mb2FkZXI7XG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIGB0cnVlYCwge0BsaW5rIFBJWEkuS1RYTG9hZGVyfSB3aWxsIHBhcnNlIGtleS12YWx1ZSBkYXRhIGluIEtUWCB0ZXh0dXJlcy4gVGhpcyBmZWF0dXJlIHJlbGllc1xuICAgICAqIG9uIHRoZSBbRW5jb2RpbmcgU3RhbmRhcmRde0BsaW5rIGh0dHBzOi8vZW5jb2Rpbmcuc3BlYy53aGF0d2cub3JnfS5cbiAgICAgKlxuICAgICAqIFRoZSBrZXktdmFsdWUgZGF0YSB3aWxsIGJlIGF2YWlsYWJsZSBvbiB0aGUgYmFzZS10ZXh0dXJlcyBhcyB7QGNvZGUgUElYSS5CYXNlVGV4dHVyZS5rdHhLZXlWYWx1ZURhdGF9LiBUaGV5XG4gICAgICogd2lsbCBob2xkIGEgcmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGRhdGEgYnVmZmVyLCBzbyBtYWtlIHN1cmUgdG8gZGVsZXRlIGtleS12YWx1ZSBkYXRhIG9uY2UgeW91IGFyZSBkb25lXG4gICAgICogdXNpbmcgaXQuXG4gICAgICovXG4gICAgS1RYTG9hZGVyLmxvYWRLZXlWYWx1ZURhdGEgPSBmYWxzZTtcbiAgICByZXR1cm4gS1RYTG9hZGVyO1xufSgpKTtcblxuZXhwb3J0IHsgQmxvYlJlc291cmNlLCBDb21wcmVzc2VkVGV4dHVyZUxvYWRlciwgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSwgRERTTG9hZGVyLCBGT1JNQVRTX1RPX0NPTVBPTkVOVFMsIElOVEVSTkFMX0ZPUk1BVFMsIElOVEVSTkFMX0ZPUk1BVF9UT19CWVRFU19QRVJfUElYRUwsIEtUWExvYWRlciwgVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCwgVFlQRVNfVE9fQllURVNfUEVSX1BJWEVMLCBwYXJzZUREUywgcGFyc2VLVFggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXByZXNzZWQtdGV4dHVyZXMubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wYXJ0aWNsZS1jb250YWluZXIgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvcGFydGljbGUtY29udGFpbmVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgaGV4MnJnYiwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEdlb21ldHJ5LCBCdWZmZXIsIEV4dGVuc2lvblR5cGUsIE9iamVjdFJlbmRlcmVyLCBTaGFkZXIsIFN0YXRlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy5cbiAqXG4gKiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuXG4gKiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZTpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUNvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFydGljbGVDb250YWluZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG1heFNpemUgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcGFydGljbGVzIHRoYXQgY2FuIGJlIHJlbmRlcmVkIGJ5IHRoZSBjb250YWluZXIuXG4gICAgICogIEFmZmVjdHMgc2l6ZSBvZiBhbGxvY2F0ZWQgYnVmZmVycy5cbiAgICAgKiBAcGFyYW0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIG9mIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHVwbG9hZGVkIHRvIHRoZSBncHUgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy52ZXJ0aWNlcz1mYWxzZV0gLSBXaGVuIHRydWUsIHZlcnRpY2VzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgaWYgc3ByaXRlJ3MgYCBzY2FsZS9hbmNob3IvdHJpbS9mcmFtZS9vcmlnYCBpcyBkeW5hbWljLCBwbGVhc2Ugc2V0IGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnBvc2l0aW9uPXRydWVdIC0gV2hlbiB0cnVlLCBwb3NpdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnJvdGF0aW9uPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgcm90YXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy51dnM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB1dnMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy50aW50PWZhbHNlXSAtIFdoZW4gdHJ1ZSwgYWxwaGEgYW5kIHRpbnQgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiYXRjaFNpemU9MTYzODRdIC0gTnVtYmVyIG9mIHBhcnRpY2xlcyBwZXIgYmF0Y2guIElmIGxlc3MgdGhhbiBtYXhTaXplLCBpdCB1c2VzIG1heFNpemUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUmVzaXplPWZhbHNlXSAtIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2VcbiAgICAgKiAgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQ29udGFpbmVyKG1heFNpemUsIHByb3BlcnRpZXMsIGJhdGNoU2l6ZSwgYXV0b1Jlc2l6ZSkge1xuICAgICAgICBpZiAobWF4U2l6ZSA9PT0gdm9pZCAwKSB7IG1heFNpemUgPSAxNTAwOyB9XG4gICAgICAgIGlmIChiYXRjaFNpemUgPT09IHZvaWQgMCkgeyBiYXRjaFNpemUgPSAxNjM4NDsgfVxuICAgICAgICBpZiAoYXV0b1Jlc2l6ZSA9PT0gdm9pZCAwKSB7IGF1dG9SZXNpemUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBNYWtpbmcgc3VyZSB0aGUgYmF0Y2ggc2l6ZSBpcyB2YWxpZFxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG4gICAgICAgIF90aGlzLl9tYXhTaXplID0gbWF4U2l6ZTtcbiAgICAgICAgX3RoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcbiAgICAgICAgX3RoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICBfdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgICAgIF90aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICBfdGhpcy5hdXRvUmVzaXplID0gYXV0b1Jlc2l6ZTtcbiAgICAgICAgX3RoaXMucm91bmRQaXhlbHMgPSB0cnVlO1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgIF90aGlzLl90aW50ID0gMDtcbiAgICAgICAgX3RoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgYXJyYXkgdG8gZHluYW1pYyAvIHN0YXRpYyBiYXNlZCBvbiB0aGUgcGFzc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICogQHBhcmFtIHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byBiZSB1cGxvYWRlZFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMF0gPSAndmVydGljZXMnIGluIHByb3BlcnRpZXMgfHwgJ3NjYWxlJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudmVydGljZXMgfHwgISFwcm9wZXJ0aWVzLnNjYWxlIDogdGhpcy5fcHJvcGVydGllc1swXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMV0gPSAncG9zaXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9ICdyb3RhdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5yb3RhdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzNdID0gJ3V2cycgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy51dnMgOiB0aGlzLl9wcm9wZXJ0aWVzWzNdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1s0XSA9ICd0aW50JyBpbiBwcm9wZXJ0aWVzIHx8ICdhbHBoYScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETyBkb24ndCBuZWVkIHRvIVxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSBXZWJHTCByZW5kZXJlci5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub25jZSgndXBkYXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25DaGlsZHJlbkNoYW5nZSgwKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmbGFnIHRoYXQgc3RhdGljIGRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSBzbWFsbGVzdENoaWxkSW5kZXggLSBUaGUgc21hbGxlc3QgY2hpbGQgaW5kZXguXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiAoc21hbGxlc3RDaGlsZEluZGV4KSB7XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5sZW5ndGggPCBidWZmZXJJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzW2J1ZmZlckluZGV4XSA9ICsrdGhpcy5fdXBkYXRlSUQ7XG4gICAgfTtcbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZUNvbnRhaW5lcjtcbn0oQ29udGFpbmVyKSk7XG5cbi8qXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0XG4gKiB0aGV5IG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZUJ1ZmZlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVCdWZmZXIuamF2YVxuICovXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXX0gZHluYW1pY1Byb3BlcnR5RmxhZ3MgLSBGbGFncyBmb3Igd2hpY2ggcHJvcGVydGllcyBhcmUgZHluYW1pYy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBiYXRjaC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUJ1ZmZlcihwcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgc2l6ZSkge1xuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSB8fCBUWVBFUy5GTE9BVCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycygpO1xuICAgIH1cbiAgICAvKiogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgZHluYW1pY09mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGNyZWF0ZUluZGljZXNGb3JRdWFkcyh0aGlzLnNpemUpLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2VvbWV0cnkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IGR5bmFtaWNPZmZzZXQ7XG4gICAgICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZHluQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQgKiA0KTtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuZHluYW1pY0RhdGEsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIC8vIHN0YXRpYyAvL1xuICAgICAgICB2YXIgc3RhdGljT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gc3RhdGljT2Zmc2V0O1xuICAgICAgICAgICAgc3RhdGljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuc3RhdGljU3RyaWRlICogNCAqIDQpO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnN0YXRpY0RhdGEsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsIHRoaXMuZHluYW1pY0J1ZmZlciwgMCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSwgcHJvcGVydHkudHlwZSwgdGhpcy5keW5hbWljU3RyaWRlICogNCwgcHJvcGVydHkub2Zmc2V0ICogNCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB0aGlzLnN0YXRpY0J1ZmZlciwgMCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSwgcHJvcGVydHkudHlwZSwgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LCBwcm9wZXJ0eS5vZmZzZXQgKiA0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgZHluYW1pYyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWREeW5hbWljID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuZHluYW1pY0RhdGFVaW50MzIgOiB0aGlzLmR5bmFtaWNEYXRhLCB0aGlzLmR5bmFtaWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgc3RhdGljIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZFN0YXRpYyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5zdGF0aWNEYXRhVWludDMyIDogdGhpcy5zdGF0aWNEYXRhLCB0aGlzLnN0YXRpY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuICovXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIC8vIGFsbCBidWZmZXJzIGFyZSBkZXN0cm95ZWQgaW5zaWRlIGdlb21ldHJ5XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuZGVzdHJveSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcnRpY2xlQnVmZmVyO1xufSgpKTtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7XFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cIjtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbkNvb3JkO1xcbmF0dHJpYnV0ZSBmbG9hdCBhUm90YXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIGZsb2F0IHggPSAoYVZlcnRleFBvc2l0aW9uLngpICogY29zKGFSb3RhdGlvbikgLSAoYVZlcnRleFBvc2l0aW9uLnkpICogc2luKGFSb3RhdGlvbik7XFxuICAgIGZsb2F0IHkgPSAoYVZlcnRleFBvc2l0aW9uLngpICogc2luKGFSb3RhdGlvbikgKyAoYVZlcnRleFBvc2l0aW9uLnkpICogY29zKGFSb3RhdGlvbik7XFxuXFxuICAgIHZlYzIgdiA9IHZlYzIoeCwgeSk7XFxuICAgIHYgPSB2ICsgYVBvc2l0aW9uQ29vcmQ7XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgodHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3IgKiB1Q29sb3I7XFxufVxcblwiO1xuXG4vKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVSZW5kZXJlci5qYXZhXG4gKi9cbi8qKlxuICogUmVuZGVyZXIgZm9yIFBhcnRpY2xlcyB0aGF0IGlzIGRlc2lnbmVyIGZvciBzcGVlZCBvdmVyIGZlYXR1cmUgc2V0LlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlUmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBhcnRpY2xlUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIF90aGlzLnRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVZlcnRleFBvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FQb3NpdGlvbkNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FSb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVRleHR1cmVDb29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhQ29sb3InLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9IF07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHt9KTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHBhcnRpY2xlIGNvbnRhaW5lciBvYmplY3QuXG4gICAgICogQHBhcmFtIGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG1heFNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHRvdGFsQ2hpbGRyZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUgJiYgIWNvbnRhaW5lci5hdXRvUmVzaXplKSB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycztcbiAgICAgICAgaWYgKCFidWZmZXJzKSB7XG4gICAgICAgICAgICBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIHByZW11bHRpcGxpZWQgPSBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPiAwO1xuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIG0gPSBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uY29weVRvKHRoaXMudGVtcE1hdHJpeCk7XG4gICAgICAgIG0ucHJlcGVuZChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4KTtcbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5UmdiYShjb250YWluZXIudGludFJnYiwgY29udGFpbmVyLndvcmxkQWxwaGEsIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgcHJlbXVsdGlwbGllZCk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuICAgICAgICB2YXIgdXBkYXRlU3RhdGljID0gZmFsc2U7XG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSkge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9ICh0b3RhbENoaWxkcmVuIC0gaSk7XG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBidWZmZXJzXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVCdWZmZXJzID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBtb3JlIHBhcnRpY2xlIGJ1ZmZlciwgYmVjYXVzZSBjb250YWluZXIgaGFzIGF1dG9SZXNpemUgZmVhdHVyZS5cbiAgICAgKiBAcGFyYW0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybnMgLSBUaGUgZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgICAgICByZXR1cm4gbmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKiBAcGFyYW0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2Ygc3ByaXRlcyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVmVydGljZXMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuICAgICAgICAgICAgICAgIGgxID0gdHJpbS55IC0gKHNwcml0ZS5hbmNob3IueSAqIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgaDAgPSBvcmlnLmhlaWdodCAqICgxIC0gc3ByaXRlLmFuY2hvci55KTtcbiAgICAgICAgICAgICAgICBoMSA9IG9yaWcuaGVpZ2h0ICogLXNwcml0ZS5hbmNob3IueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBoMSAqIHN5O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gaDAgKiBzeTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBoMCAqIHN5O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBzcHJpdGVzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcG9zaXRpb25zIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUG9zaXRpb24gPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBzcHJpdGVzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbiA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVJvdGF0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIFVWcy5cbiAgICAgKiBAcGFyYW0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2Ygc3ByaXRlcyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHRleHR1cmVVdnMueTM7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHRpbnQuXG4gICAgICogQHBhcmFtIGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIHNwcml0ZXMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPiAwO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gc3ByaXRlLmFscGhhO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBwcmVtdWx0aXBsaWVkXG4gICAgICAgICAgICAgICAgPyBwcmVtdWx0aXBseVRpbnQoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IGFyZ2I7XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLiAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5zaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLmV4dGVuc2lvbiA9IHtcbiAgICAgICAgbmFtZTogJ3BhcnRpY2xlJyxcbiAgICAgICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpbixcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZVJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG5leHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lciwgUGFydGljbGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGUtY29udGFpbmVyLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZ3JhcGhpY3MgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvZ3JhcGhpY3MgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hUZXh0dXJlQXJyYXksIEJhdGNoR2VvbWV0cnksIFVuaWZvcm1Hcm91cCwgU2hhZGVyLCBTdGF0ZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU0hBUEVTLCBQb2ludCwgUElfMiwgUG9seWdvbiwgUmVjdGFuZ2xlLCBSb3VuZGVkUmVjdGFuZ2xlLCBDaXJjbGUsIEVsbGlwc2UsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgZWFyY3V0LCBwcmVtdWx0aXBseVRpbnQsIGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBXUkFQX01PREVTLCBEUkFXX01PREVTLCBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFN1cHBvcnRlZCBsaW5lIGpvaW50cyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqIEBzZWUgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAqIEBzZWUgaHR0cHM6Ly9ncmFwaGljZGVzaWduLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy81OTAxOC93aGF0LWlzLWEtYmV2ZWwtam9pbi1vZi10d28tbGluZXMtZXhhY3RseS1pbGx1c3RyYXRvclxuICogQG5hbWUgTElORV9KT0lOXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNSVRFUiAtICdtaXRlcic6IG1ha2UgYSBzaGFycCBjb3JuZXIgd2hlcmUgb3V0ZXIgcGFydCBvZiBsaW5lcyBtZWV0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gQkVWRUwgLSAnYmV2ZWwnOiBhZGQgYSBzcXVhcmUgYnV0dCBhdCBlYWNoIGVuZCBvZiBsaW5lIHNlZ21lbnQgYW5kIGZpbGwgdGhlIHRyaWFuZ2xlIGF0IHR1cm5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBST1VORCAtICdyb3VuZCc6IGFkZCBhbiBhcmMgYXQgdGhlIGpvaW50XG4gKi9cbnZhciBMSU5FX0pPSU47XG4oZnVuY3Rpb24gKExJTkVfSk9JTikge1xuICAgIExJTkVfSk9JTltcIk1JVEVSXCJdID0gXCJtaXRlclwiO1xuICAgIExJTkVfSk9JTltcIkJFVkVMXCJdID0gXCJiZXZlbFwiO1xuICAgIExJTkVfSk9JTltcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xufSkoTElORV9KT0lOIHx8IChMSU5FX0pPSU4gPSB7fSkpO1xuLyoqXG4gKiBTdXBwb3J0IGxpbmUgY2FwcyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqIEBzZWUgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAqIEBuYW1lIExJTkVfQ0FQXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBCVVRUIC0gJ2J1dHQnOiBkb24ndCBhZGQgYW55IGNhcCBhdCBsaW5lIGVuZHMgKGxlYXZlcyBvcnRob2dvbmFsIGVkZ2VzKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFJPVU5EIC0gJ3JvdW5kJzogYWRkIHNlbWljaXJjbGUgYXQgZW5kc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFNRVUFSRSAtICdzcXVhcmUnOiBhZGQgc3F1YXJlIGF0IGVuZCAobGlrZSBgQlVUVGAgZXhjZXB0IG1vcmUgbGVuZ3RoIGF0IGVuZClcbiAqL1xudmFyIExJTkVfQ0FQO1xuKGZ1bmN0aW9uIChMSU5FX0NBUCkge1xuICAgIExJTkVfQ0FQW1wiQlVUVFwiXSA9IFwiYnV0dFwiO1xuICAgIExJTkVfQ0FQW1wiUk9VTkRcIl0gPSBcInJvdW5kXCI7XG4gICAgTElORV9DQVBbXCJTUVVBUkVcIl0gPSBcInNxdWFyZVwiO1xufSkoTElORV9DQVAgfHwgKExJTkVfQ0FQID0ge30pKTtcbi8qKlxuICogR3JhcGhpY3MgY3VydmVzIHJlc29sdXRpb24gc2V0dGluZ3MuIElmIGBhZGFwdGl2ZWAgZmxhZyBpcyBzZXQgdG8gYHRydWVgLFxuICogdGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgY3VydmUncyBsZW5ndGggdG8gZW5zdXJlIGJldHRlciB2aXN1YWwgcXVhbGl0eS5cbiAqIEFkYXB0aXZlIGRyYXcgd29ya3Mgd2l0aCBgYmV6aWVyQ3VydmVUb2AgYW5kIGBxdWFkcmF0aWNDdXJ2ZVRvYC5cbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEdSQVBISUNTX0NVUlZFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FkYXB0aXZlPXRydWVdIC0gZmxhZyBpbmRpY2F0aW5nIGlmIHRoZSByZXNvbHV0aW9uIHNob3VsZCBiZSBhZGFwdGl2ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhMZW5ndGg9MTBdIC0gbWF4aW1hbCBsZW5ndGggb2YgYSBzaW5nbGUgc2VnbWVudCBvZiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblNlZ21lbnRzPThdIC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhTZWdtZW50cz0yMDQ4XSAtIG1heGltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqL1xudmFyIEdSQVBISUNTX0NVUlZFUyA9IHtcbiAgICBhZGFwdGl2ZTogdHJ1ZSxcbiAgICBtYXhMZW5ndGg6IDEwLFxuICAgIG1pblNlZ21lbnRzOiA4LFxuICAgIG1heFNlZ21lbnRzOiAyMDQ4LFxuICAgIGVwc2lsb246IDAuMDAwMSxcbiAgICBfc2VnbWVudHNDb3VudDogZnVuY3Rpb24gKGxlbmd0aCwgZGVmYXVsdFNlZ21lbnRzKSB7XG4gICAgICAgIGlmIChkZWZhdWx0U2VnbWVudHMgPT09IHZvaWQgMCkgeyBkZWZhdWx0U2VnbWVudHMgPSAyMDsgfVxuICAgICAgICBpZiAoIXRoaXMuYWRhcHRpdmUgfHwgIWxlbmd0aCB8fCBpc05hTihsZW5ndGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNlZ21lbnRzO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBNYXRoLmNlaWwobGVuZ3RoIC8gdGhpcy5tYXhMZW5ndGgpO1xuICAgICAgICBpZiAocmVzdWx0IDwgdGhpcy5taW5TZWdtZW50cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5taW5TZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQgPiB0aGlzLm1heFNlZ21lbnRzKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1heFNlZ21lbnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbn07XG5cbi8qKlxuICogRmlsbCBzdHlsZSBvYmplY3QgZm9yIEdyYXBoaWNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZpbGxTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWxsU3R5bGUoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGV4IGNvbG9yIHZhbHVlIHVzZWQgd2hlbiBjb2xvcmluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuICAgICAgICAvKiogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuICovXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxLjA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0byBiZSB1c2VkIGZvciB0aGUgZmlsbC5cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlID0gVGV4dHVyZS5XSElURTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgdGV4dHVyZS5cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgICAgICAvKiogSWYgdGhlIGN1cnJlbnQgZmlsbCBpcyB2aXNpYmxlLiAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKiogQ2xvbmVzIHRoZSBvYmplY3QgKi9cbiAgICBGaWxsU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JqID0gbmV3IEZpbGxTdHlsZSgpO1xuICAgICAgICBvYmouY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBvYmouYWxwaGEgPSB0aGlzLmFscGhhO1xuICAgICAgICBvYmoudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgb2JqLm1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgICAgICBvYmoudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIC8qKiBSZXNldCAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKiogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuICovXG4gICAgRmlsbFN0eWxlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsbFN0eWxlO1xufSgpKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbmZ1bmN0aW9uIGZpeE9yaWVudGF0aW9uKHBvaW50cywgaG9sZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKGhvbGUgPT09IHZvaWQgMCkgeyBob2xlID0gZmFsc2U7IH1cbiAgICB2YXIgbSA9IHBvaW50cy5sZW5ndGg7XG4gICAgaWYgKG0gPCA2KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGFyZWEgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCB4MSA9IHBvaW50c1ttIC0gMl0sIHkxID0gcG9pbnRzW20gLSAxXTsgaSA8IG07IGkgKz0gMikge1xuICAgICAgICB2YXIgeDIgPSBwb2ludHNbaV07XG4gICAgICAgIHZhciB5MiA9IHBvaW50c1tpICsgMV07XG4gICAgICAgIGFyZWEgKz0gKHgyIC0geDEpICogKHkyICsgeTEpO1xuICAgICAgICB4MSA9IHgyO1xuICAgICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICBpZiAoKCFob2xlICYmIGFyZWEgPiAwKSB8fCAoaG9sZSAmJiBhcmVhIDw9IDApKSB7XG4gICAgICAgIHZhciBuID0gbSAvIDI7XG4gICAgICAgIGZvciAodmFyIGkgPSBuICsgKG4gJSAyKTsgaSA8IG07IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIGkxID0gbSAtIGkgLSAyO1xuICAgICAgICAgICAgdmFyIGkyID0gbSAtIGkgLSAxO1xuICAgICAgICAgICAgdmFyIGkzID0gaTtcbiAgICAgICAgICAgIHZhciBpNCA9IGkgKyAxO1xuICAgICAgICAgICAgX2EgPSBbcG9pbnRzW2kzXSwgcG9pbnRzW2kxXV0sIHBvaW50c1tpMV0gPSBfYVswXSwgcG9pbnRzW2kzXSA9IF9hWzFdO1xuICAgICAgICAgICAgX2IgPSBbcG9pbnRzW2k0XSwgcG9pbnRzW2kyXV0sIHBvaW50c1tpMl0gPSBfYlswXSwgcG9pbnRzW2k0XSA9IF9iWzFdO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUG9seSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgICAgICBmaXhPcmllbnRhdGlvbihwb2ludHMsIGZhbHNlKTtcbiAgICAgICAgICAgIHZhciBob2xlQXJyYXkgPSBbXTtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgaG9sZXMuLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBob2xlID0gaG9sZXNbaV07XG4gICAgICAgICAgICAgICAgZml4T3JpZW50YXRpb24oaG9sZS5wb2ludHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vLyBmb3IgdHlwZSBvbmx5XG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRDaXJjbGUgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgeDtcbiAgICAgICAgdmFyIHk7XG4gICAgICAgIHZhciBkeDtcbiAgICAgICAgdmFyIGR5O1xuICAgICAgICB2YXIgcng7XG4gICAgICAgIHZhciByeTtcbiAgICAgICAgaWYgKGdyYXBoaWNzRGF0YS50eXBlID09PSBTSEFQRVMuQ0lSQykge1xuICAgICAgICAgICAgdmFyIGNpcmNsZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHggPSBjaXJjbGUueDtcbiAgICAgICAgICAgIHkgPSBjaXJjbGUueTtcbiAgICAgICAgICAgIHJ4ID0gcnkgPSBjaXJjbGUucmFkaXVzO1xuICAgICAgICAgICAgZHggPSBkeSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IFNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICB2YXIgZWxsaXBzZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHggPSBlbGxpcHNlLng7XG4gICAgICAgICAgICB5ID0gZWxsaXBzZS55O1xuICAgICAgICAgICAgcnggPSBlbGxpcHNlLndpZHRoO1xuICAgICAgICAgICAgcnkgPSBlbGxpcHNlLmhlaWdodDtcbiAgICAgICAgICAgIGR4ID0gZHkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJvdW5kZWRSZWN0ID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICAgICAgdmFyIGhhbGZXaWR0aCA9IHJvdW5kZWRSZWN0LndpZHRoIC8gMjtcbiAgICAgICAgICAgIHZhciBoYWxmSGVpZ2h0ID0gcm91bmRlZFJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIHggPSByb3VuZGVkUmVjdC54ICsgaGFsZldpZHRoO1xuICAgICAgICAgICAgeSA9IHJvdW5kZWRSZWN0LnkgKyBoYWxmSGVpZ2h0O1xuICAgICAgICAgICAgcnggPSByeSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHJvdW5kZWRSZWN0LnJhZGl1cywgTWF0aC5taW4oaGFsZldpZHRoLCBoYWxmSGVpZ2h0KSkpO1xuICAgICAgICAgICAgZHggPSBoYWxmV2lkdGggLSByeDtcbiAgICAgICAgICAgIGR5ID0gaGFsZkhlaWdodCAtIHJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHJ4ID49IDAgJiYgcnkgPj0gMCAmJiBkeCA+PSAwICYmIGR5ID49IDApKSB7XG4gICAgICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaG9vc2UgYSBudW1iZXIgb2Ygc2VnbWVudHMgc3VjaCB0aGF0IHRoZSBtYXhpbXVtIGFic29sdXRlIGRldmlhdGlvbiBmcm9tIHRoZSBjaXJjbGUgaXMgYXBwcm94aW1hdGVseSAwLjAyOVxuICAgICAgICB2YXIgbiA9IE1hdGguY2VpbCgyLjMgKiBNYXRoLnNxcnQocnggKyByeSkpO1xuICAgICAgICB2YXIgbSA9IChuICogOCkgKyAoZHggPyA0IDogMCkgKyAoZHkgPyA0IDogMCk7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSBtO1xuICAgICAgICBpZiAobSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuID09PSAwKSB7XG4gICAgICAgICAgICBwb2ludHMubGVuZ3RoID0gODtcbiAgICAgICAgICAgIHBvaW50c1swXSA9IHBvaW50c1s2XSA9IHggKyBkeDtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHBvaW50c1szXSA9IHkgKyBkeTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHBvaW50c1s0XSA9IHggLSBkeDtcbiAgICAgICAgICAgIHBvaW50c1s1XSA9IHBvaW50c1s3XSA9IHkgLSBkeTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgajEgPSAwO1xuICAgICAgICB2YXIgajIgPSAobiAqIDQpICsgKGR4ID8gMiA6IDApICsgMjtcbiAgICAgICAgdmFyIGozID0gajI7XG4gICAgICAgIHZhciBqNCA9IG07XG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4MCA9IGR4ICsgcng7XG4gICAgICAgICAgICB2YXIgeTAgPSBkeTtcbiAgICAgICAgICAgIHZhciB4MSA9IHggKyB4MDtcbiAgICAgICAgICAgIHZhciB4MiA9IHggLSB4MDtcbiAgICAgICAgICAgIHZhciB5MSA9IHkgKyB5MDtcbiAgICAgICAgICAgIHBvaW50c1tqMSsrXSA9IHgxO1xuICAgICAgICAgICAgcG9pbnRzW2oxKytdID0geTE7XG4gICAgICAgICAgICBwb2ludHNbLS1qMl0gPSB5MTtcbiAgICAgICAgICAgIHBvaW50c1stLWoyXSA9IHgyO1xuICAgICAgICAgICAgaWYgKGR5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHkyID0geSAtIHkwO1xuICAgICAgICAgICAgICAgIHBvaW50c1tqMysrXSA9IHgyO1xuICAgICAgICAgICAgICAgIHBvaW50c1tqMysrXSA9IHkyO1xuICAgICAgICAgICAgICAgIHBvaW50c1stLWo0XSA9IHkyO1xuICAgICAgICAgICAgICAgIHBvaW50c1stLWo0XSA9IHgxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYSA9IE1hdGguUEkgLyAyICogKGkgLyBuKTtcbiAgICAgICAgICAgIHZhciB4MCA9IGR4ICsgKE1hdGguY29zKGEpICogcngpO1xuICAgICAgICAgICAgdmFyIHkwID0gZHkgKyAoTWF0aC5zaW4oYSkgKiByeSk7XG4gICAgICAgICAgICB2YXIgeDEgPSB4ICsgeDA7XG4gICAgICAgICAgICB2YXIgeDIgPSB4IC0geDA7XG4gICAgICAgICAgICB2YXIgeTEgPSB5ICsgeTA7XG4gICAgICAgICAgICB2YXIgeTIgPSB5IC0geTA7XG4gICAgICAgICAgICBwb2ludHNbajErK10gPSB4MTtcbiAgICAgICAgICAgIHBvaW50c1tqMSsrXSA9IHkxO1xuICAgICAgICAgICAgcG9pbnRzWy0tajJdID0geTE7XG4gICAgICAgICAgICBwb2ludHNbLS1qMl0gPSB4MjtcbiAgICAgICAgICAgIHBvaW50c1tqMysrXSA9IHgyO1xuICAgICAgICAgICAgcG9pbnRzW2ozKytdID0geTI7XG4gICAgICAgICAgICBwb2ludHNbLS1qNF0gPSB5MjtcbiAgICAgICAgICAgIHBvaW50c1stLWo0XSA9IHgxO1xuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4MCA9IGR4O1xuICAgICAgICAgICAgdmFyIHkwID0gZHkgKyByeTtcbiAgICAgICAgICAgIHZhciB4MSA9IHggKyB4MDtcbiAgICAgICAgICAgIHZhciB4MiA9IHggLSB4MDtcbiAgICAgICAgICAgIHZhciB5MSA9IHkgKyB5MDtcbiAgICAgICAgICAgIHZhciB5MiA9IHkgLSB5MDtcbiAgICAgICAgICAgIHBvaW50c1tqMSsrXSA9IHgxO1xuICAgICAgICAgICAgcG9pbnRzW2oxKytdID0geTE7XG4gICAgICAgICAgICBwb2ludHNbLS1qNF0gPSB5MjtcbiAgICAgICAgICAgIHBvaW50c1stLWo0XSA9IHgxO1xuICAgICAgICAgICAgaWYgKGR4KSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW2oxKytdID0geDI7XG4gICAgICAgICAgICAgICAgcG9pbnRzW2oxKytdID0geTE7XG4gICAgICAgICAgICAgICAgcG9pbnRzWy0tajRdID0geTI7XG4gICAgICAgICAgICAgICAgcG9pbnRzWy0tajRdID0geDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICB2YXIgY2VudGVyID0gdmVydFBvcztcbiAgICAgICAgdmFyIHg7XG4gICAgICAgIHZhciB5O1xuICAgICAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgIT09IFNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICB2YXIgY2lyY2xlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICAgICAgeCA9IGNpcmNsZS54O1xuICAgICAgICAgICAgeSA9IGNpcmNsZS55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJvdW5kZWRSZWN0ID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICAgICAgeCA9IHJvdW5kZWRSZWN0LnggKyAocm91bmRlZFJlY3Qud2lkdGggLyAyKTtcbiAgICAgICAgICAgIHkgPSByb3VuZGVkUmVjdC55ICsgKHJvdW5kZWRSZWN0LmhlaWdodCAvIDIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXRyaXggPSBncmFwaGljc0RhdGEubWF0cml4O1xuICAgICAgICAvLyBQdXNoIGNlbnRlciAoc3BlY2lhbCBwb2ludClcbiAgICAgICAgdmVydHMucHVzaChncmFwaGljc0RhdGEubWF0cml4ID8gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eCA6IHgsIGdyYXBoaWNzRGF0YS5tYXRyaXggPyAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5IDogeSk7XG4gICAgICAgIHZlcnRQb3MrKztcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSk7XG4gICAgICAgICAgICAvLyBhZGQgc29tZSB1dnNcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zKyssIGNlbnRlciwgdmVydFBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgaW5kaWNlcy5wdXNoKGNlbnRlciArIDEsIGNlbnRlciwgdmVydFBvcyk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogQnVpbGRzIGEgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUmVjdGFuZ2xlID0ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhKSB7XG4gICAgICAgIC8vIC0tLSAvL1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIHJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgeCA9IHJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0sIHBvaW50c1syXSwgcG9pbnRzWzNdLCBwb2ludHNbNl0sIHBvaW50c1s3XSwgcG9pbnRzWzRdLCBwb2ludHNbNV0pO1xuICAgICAgICBncmFwaGljc0dlb21ldHJ5LmluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDMpO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSBhIHNpbmdsZSBwb2ludCBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLlxuICogVXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IHF1YWRyYXRpY0JlemllckN1cnZlLlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSByZXN1bHRcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW291dD1bXV0gLSBUaGUgb3V0cHV0IGFycmF5IHRvIGFkZCBwb2ludHMgaW50by4gSWYgbm90IHBhc3NlZCwgYSBuZXcgYXJyYXkgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm5zIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVuIGZpcnN0IGN1cnZlIHBvaW50cyBvdmVybGFwcyBhbmQgZWFyY3V0IGZhaWxzIHRvIHRyaWFuZ3VsYXRlXG4gICAgICAgIGlmIChpID09PSAwICYmIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gPT09IHggJiYgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSA9PT0geSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludHM7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUm91bmRlZFJlY3RhbmdsZSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICBpZiAoR3JhcGhpY3MubmV4dFJvdW5kZWRSZWN0QmVoYXZpb3IpIHtcbiAgICAgICAgICAgIGJ1aWxkQ2lyY2xlLmJ1aWxkKGdyYXBoaWNzRGF0YSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gcnJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcnJlY3REYXRhLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJyZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJyZWN0RGF0YS5oZWlnaHQ7XG4gICAgICAgIC8vIERvbid0IGFsbG93IG5lZ2F0aXZlIHJhZGl1cyBvciBncmVhdGVyIHRoYW4gaGFsZiB0aGUgc21hbGxlc3Qgd2lkdGhcbiAgICAgICAgdmFyIHJhZGl1cyA9IE1hdGgubWF4KDAsIE1hdGgubWluKHJyZWN0RGF0YS5yYWRpdXMsIE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMikpO1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gTm8gcmFkaXVzLCBkbyBhIHNpbXBsZSByZWN0YW5nbGVcbiAgICAgICAgaWYgKCFyYWRpdXMpIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHgsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHgsIHkgKyByYWRpdXMsIHgsIHksIHggKyByYWRpdXMsIHksIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGggLSByYWRpdXMsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgcmFkaXVzLCBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCwgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyByYWRpdXMsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIGlmIChHcmFwaGljcy5uZXh0Um91bmRlZFJlY3RCZWhhdmlvcikge1xuICAgICAgICAgICAgYnVpbGRDaXJjbGUudHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9IGVhcmN1dChwb2ludHMsIG51bGwsIDIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgPCBqOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzWysraV0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGEgc3F1YXJlIGNhcC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFgtY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFktY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gbnggLSBYLWNvb3JkIG9mIGxpbmUgbm9ybWFsIHBvaW50aW5nIGluc2lkZVxuICogQHBhcmFtIHtudW1iZXJ9IG55IC0gWS1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbm5lcldlaWdodCAtIFdlaWdodCBvZiBpbm5lciBwb2ludHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBvdXRlcldlaWdodCAtIFdlaWdodCBvZiBvdXRlciBwb2ludHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvY2t3aXNlIC0gV2hldGhlciB0aGUgY2FwIGlzIGRyYXduIGNsb2Nrd2lzZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB2ZXJ0cyAtIHZlcnRleCBidWZmZXJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gbm8uIG9mIHZlcnRpY2VzIHB1c2hlZFxuICovXG5mdW5jdGlvbiBzcXVhcmUoeCwgeSwgbngsIG55LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGNsb2Nrd2lzZSwgLyogcm90YXRpb24gZm9yIHNxdWFyZSAodHJ1ZSBhdCBsZWZ0IGVuZCwgZmFsc2UgYXQgcmlnaHQgZW5kKSAqLyB2ZXJ0cykge1xuICAgIHZhciBpeCA9IHggLSAobnggKiBpbm5lcldlaWdodCk7XG4gICAgdmFyIGl5ID0geSAtIChueSAqIGlubmVyV2VpZ2h0KTtcbiAgICB2YXIgb3ggPSB4ICsgKG54ICogb3V0ZXJXZWlnaHQpO1xuICAgIHZhciBveSA9IHkgKyAobnkgKiBvdXRlcldlaWdodCk7XG4gICAgLyogUm90YXRlIG54LG55IGZvciBleHRlbnNpb24gdmVjdG9yICovXG4gICAgdmFyIGV4eDtcbiAgICB2YXIgZXl5O1xuICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgZXh4ID0gbnk7XG4gICAgICAgIGV5eSA9IC1ueDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4eCA9IC1ueTtcbiAgICAgICAgZXl5ID0gbng7XG4gICAgfVxuICAgIC8qIFtpfDBdeCx5IGV4dGVuZGVkIGF0IGNhcCAqL1xuICAgIHZhciBlaXggPSBpeCArIGV4eDtcbiAgICB2YXIgZWl5ID0gaXkgKyBleXk7XG4gICAgdmFyIGVveCA9IG94ICsgZXh4O1xuICAgIHZhciBlb3kgPSBveSArIGV5eTtcbiAgICAvKiBTcXVhcmUgaXRzZWxmIG11c3QgYmUgaW5zZXJ0ZWQgY2xvY2t3aXNlKi9cbiAgICB2ZXJ0cy5wdXNoKGVpeCwgZWl5KTtcbiAgICB2ZXJ0cy5wdXNoKGVveCwgZW95KTtcbiAgICByZXR1cm4gMjtcbn1cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGFuIGFyYyBhdCB0aGUgbGluZSBqb2ludCBvciBjYXAuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gWC1jb29yZCBvZiBjZW50ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFktY29vcmQgb2YgY2VudGVyXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggLSBYLWNvb3JkIG9mIGFyYyBzdGFydFxuICogQHBhcmFtIHtudW1iZXJ9IHN5IC0gWS1jb29yZCBvZiBhcmMgc3RhcnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBleCAtIFgtY29vcmQgb2YgYXJjIGVuZFxuICogQHBhcmFtIHtudW1iZXJ9IGV5IC0gWS1jb29yZCBvZiBhcmMgZW5kXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHZlcnRzIC0gYnVmZmVyIG9mIHZlcnRpY2VzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNsb2Nrd2lzZSAtIG9yaWVudGF0aW9uIG9mIHZlcnRpY2VzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIG5vLiBvZiB2ZXJ0aWNlcyBwdXNoZWRcbiAqL1xuZnVuY3Rpb24gcm91bmQoY3gsIGN5LCBzeCwgc3ksIGV4LCBleSwgdmVydHMsIGNsb2Nrd2lzZSkge1xuICAgIHZhciBjeDJwMHggPSBzeCAtIGN4O1xuICAgIHZhciBjeTJwMHkgPSBzeSAtIGN5O1xuICAgIHZhciBhbmdsZTAgPSBNYXRoLmF0YW4yKGN4MnAweCwgY3kycDB5KTtcbiAgICB2YXIgYW5nbGUxID0gTWF0aC5hdGFuMihleCAtIGN4LCBleSAtIGN5KTtcbiAgICBpZiAoY2xvY2t3aXNlICYmIGFuZ2xlMCA8IGFuZ2xlMSkge1xuICAgICAgICBhbmdsZTAgKz0gTWF0aC5QSSAqIDI7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFjbG9ja3dpc2UgJiYgYW5nbGUwID4gYW5nbGUxKSB7XG4gICAgICAgIGFuZ2xlMSArPSBNYXRoLlBJICogMjtcbiAgICB9XG4gICAgdmFyIHN0YXJ0QW5nbGUgPSBhbmdsZTA7XG4gICAgdmFyIGFuZ2xlRGlmZiA9IGFuZ2xlMSAtIGFuZ2xlMDtcbiAgICB2YXIgYWJzQW5nbGVEaWZmID0gTWF0aC5hYnMoYW5nbGVEaWZmKTtcbiAgICAvKiBpZiAoYWJzQW5nbGVEaWZmID49IFBJX0xCT1VORCAmJiBhYnNBbmdsZURpZmYgPD0gUElfVUJPVU5EKVxuICAgIHtcbiAgICAgICAgY29uc3QgcjF4ID0gY3ggLSBueHRQeDtcbiAgICAgICAgY29uc3QgcjF5ID0gY3kgLSBueHRQeTtcblxuICAgICAgICBpZiAocjF4ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocjF5ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbmdsZURpZmYgPSAtYW5nbGVEaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHIxeCA+PSAtR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuZ2xlRGlmZiA9IC1hbmdsZURpZmY7XG4gICAgICAgIH1cbiAgICB9Ki9cbiAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KChjeDJwMHggKiBjeDJwMHgpICsgKGN5MnAweSAqIGN5MnAweSkpO1xuICAgIHZhciBzZWdDb3VudCA9ICgoMTUgKiBhYnNBbmdsZURpZmYgKiBNYXRoLnNxcnQocmFkaXVzKSAvIE1hdGguUEkpID4+IDApICsgMTtcbiAgICB2YXIgYW5nbGVJbmMgPSBhbmdsZURpZmYgLyBzZWdDb3VudDtcbiAgICBzdGFydEFuZ2xlICs9IGFuZ2xlSW5jO1xuICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHN4LCBzeSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBhbmdsZSA9IHN0YXJ0QW5nbGU7IGkgPCBzZWdDb3VudDsgaSsrLCBhbmdsZSArPSBhbmdsZUluYykge1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCArICgoTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzKSksIGN5ICsgKChNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGV4LCBleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2ZXJ0cy5wdXNoKHN4LCBzeSk7XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGFuZ2xlID0gc3RhcnRBbmdsZTsgaSA8IHNlZ0NvdW50OyBpKyssIGFuZ2xlICs9IGFuZ2xlSW5jKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4ICsgKChNYXRoLnNpbihhbmdsZSkgKiByYWRpdXMpKSwgY3kgKyAoKE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cykpKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgfVxuICAgICAgICB2ZXJ0cy5wdXNoKGV4LCBleSk7XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlZ0NvdW50ICogMjtcbn1cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBwb2x5Z29uIG1ldGhvZC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gICAgdmFyIGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsaW5lIHdpZHRoIGlzIGFuIG9kZCBudW1iZXIgYWRkIDAuNSB0byBhbGlnbiB0byBhIHdob2xlIHBpeGVsXG4gICAgLy8gY29tbWVudGluZyB0aGlzIG91dCBmaXhlcyAjNzExIGFuZCAjMTYyMFxuICAgIC8vIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoJTIpXG4gICAgLy8ge1xuICAgIC8vICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgICBwb2ludHNbaV0gKz0gMC41O1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuICAgIHZhciBzdHlsZSA9IGdyYXBoaWNzRGF0YS5saW5lU3R5bGU7XG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB2YXIgbGFzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIHZhciBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzXG4gICAgICAgICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcbiAgICAvLyBpZiB0aGUgZmlyc3QgcG9pbnQgaXMgdGhlIGxhc3QgcG9pbnQgLSBnb25uYSBoYXZlIGlzc3VlcyA6KVxuICAgIGlmIChjbG9zZWRTaGFwZSkge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG4gICAgICAgIGlmIChjbG9zZWRQYXRoKSB7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBsYXN0UG9pbnQuc2V0KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaWRQb2ludFggPSAoZmlyc3RQb2ludC54ICsgbGFzdFBvaW50LngpICogMC41O1xuICAgICAgICB2YXIgbWlkUG9pbnRZID0gKGxhc3RQb2ludC55ICsgZmlyc3RQb2ludC55KSAqIDAuNTtcbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgIC8vIE1heC4gaW5uZXIgYW5kIG91dGVyIHdpZHRoXG4gICAgdmFyIHdpZHRoID0gc3R5bGUud2lkdGggLyAyO1xuICAgIHZhciB3aWR0aFNxdWFyZWQgPSB3aWR0aCAqIHdpZHRoO1xuICAgIHZhciBtaXRlckxpbWl0U3F1YXJlZCA9IHN0eWxlLm1pdGVyTGltaXQgKiBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8qIExpbmUgc2VnbWVudHMgb2YgaW50ZXJlc3Qgd2hlcmUgKHgxLHkxKSBmb3JtcyB0aGUgY29ybmVyLiAqL1xuICAgIHZhciB4MCA9IHBvaW50c1swXTtcbiAgICB2YXIgeTAgPSBwb2ludHNbMV07XG4gICAgdmFyIHgxID0gcG9pbnRzWzJdO1xuICAgIHZhciB5MSA9IHBvaW50c1szXTtcbiAgICB2YXIgeDIgPSAwO1xuICAgIHZhciB5MiA9IDA7XG4gICAgLyogcGVycFs/XSh4fHkpID0gdGhlIGxpbmUgbm9ybWFsIHdpdGggbWFnbml0dWRlIGxpbmVXaWR0aC4gKi9cbiAgICB2YXIgcGVycHggPSAtKHkwIC0geTEpO1xuICAgIHZhciBwZXJweSA9IHgwIC0geDE7XG4gICAgdmFyIHBlcnAxeCA9IDA7XG4gICAgdmFyIHBlcnAxeSA9IDA7XG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG4gICAgdmFyIHJhdGlvID0gc3R5bGUuYWxpZ25tZW50OyAvLyAwLjU7XG4gICAgdmFyIGlubmVyV2VpZ2h0ID0gKDEgLSByYXRpbykgKiAyO1xuICAgIHZhciBvdXRlcldlaWdodCA9IHJhdGlvICogMjtcbiAgICBpZiAoIWNsb3NlZFNoYXBlKSB7XG4gICAgICAgIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlJPVU5EKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgwIC0gKHBlcnB4ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSwgeTAgLSAocGVycHkgKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB4MCAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTAgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgwICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MCArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIHRydWUpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlNRVUFSRSkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSBzcXVhcmUoeDAsIHkwLCBwZXJweCwgcGVycHksIGlubmVyV2VpZ2h0LCBvdXRlcldlaWdodCwgdHJ1ZSwgdmVydHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFB1c2ggZmlyc3QgcG9pbnQgKGJlbG93ICYgYWJvdmUgdmVydGljZXMpXG4gICAgdmVydHMucHVzaCh4MCAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTAgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgIHZlcnRzLnB1c2goeDAgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICB4MCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHkwID0gcG9pbnRzWygoaSAtIDEpICogMikgKyAxXTtcbiAgICAgICAgeDEgPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICB5MSA9IHBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgIHgyID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgeTIgPSBwb2ludHNbKChpICsgMSkgKiAyKSArIDFdO1xuICAgICAgICBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgICAgIHBlcnB5ID0geDAgLSB4MTtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgICAgICBwZXJweCAvPSBkaXN0O1xuICAgICAgICBwZXJweSAvPSBkaXN0O1xuICAgICAgICBwZXJweCAqPSB3aWR0aDtcbiAgICAgICAgcGVycHkgKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeCA9IC0oeTEgLSB5Mik7XG4gICAgICAgIHBlcnAxeSA9IHgxIC0geDI7XG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnAxeCAqIHBlcnAxeCkgKyAocGVycDF5ICogcGVycDF5KSk7XG4gICAgICAgIHBlcnAxeCAvPSBkaXN0O1xuICAgICAgICBwZXJwMXkgLz0gZGlzdDtcbiAgICAgICAgcGVycDF4ICo9IHdpZHRoO1xuICAgICAgICBwZXJwMXkgKj0gd2lkdGg7XG4gICAgICAgIC8qIGRbeHx5XSgwfDEpID0gdGhlIGNvbXBvbmVudCBkaXNwbGFjZW1lbnQgYmV0d2VlbiBwb2ludHMgcCgwLDF8MSwyKSAqL1xuICAgICAgICB2YXIgZHgwID0geDEgLSB4MDtcbiAgICAgICAgdmFyIGR5MCA9IHkwIC0geTE7XG4gICAgICAgIHZhciBkeDEgPSB4MSAtIHgyO1xuICAgICAgICB2YXIgZHkxID0geTIgLSB5MTtcbiAgICAgICAgLyogK3ZlIGlmIGludGVybmFsIGFuZ2xlIDwgOTAgZGVncmVlLCAtdmUgaWYgaW50ZXJuYWwgYW5nbGUgPiA5MCBkZWdyZWUuICovXG4gICAgICAgIHZhciBkb3QgPSAoZHgwICogZHgxKSArIChkeTAgKiBkeTEpO1xuICAgICAgICAvKiArdmUgaWYgaW50ZXJuYWwgYW5nbGUgY291bnRlcmNsb2Nrd2lzZSwgLXZlIGlmIGludGVybmFsIGFuZ2xlIGNsb2Nrd2lzZS4gKi9cbiAgICAgICAgdmFyIGNyb3NzID0gKGR5MCAqIGR4MSkgLSAoZHkxICogZHgwKTtcbiAgICAgICAgdmFyIGNsb2Nrd2lzZSA9IChjcm9zcyA8IDApO1xuICAgICAgICAvKiBHb2luZyBuZWFybHkgcGFyYWxsZWw/ICovXG4gICAgICAgIC8qIGF0YW4oMC4wMDEpIH49IDAuMDAxIHJhZCB+PSAwLjA1NyBkZWdyZWUgKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKGNyb3NzKSA8IDAuMDAxICogTWF0aC5hYnMoZG90KSkge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgLyogMTgwIGRlZ3JlZSBjb3JuZXI/ICovXG4gICAgICAgICAgICBpZiAoZG90ID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLlJPVU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCksIHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpLCB2ZXJ0cywgZmFsc2UpICsgNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxICsgKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvKiBwW3h8eV0gaXMgdGhlIG1pdGVyIHBvaW50LiBwZGlzdCBpcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiBtaXRlciBwb2ludCBhbmQgcDEuICovXG4gICAgICAgIHZhciBjMSA9ICgoLXBlcnB4ICsgeDApICogKC1wZXJweSArIHkxKSkgLSAoKC1wZXJweCArIHgxKSAqICgtcGVycHkgKyB5MCkpO1xuICAgICAgICB2YXIgYzIgPSAoKC1wZXJwMXggKyB4MikgKiAoLXBlcnAxeSArIHkxKSkgLSAoKC1wZXJwMXggKyB4MSkgKiAoLXBlcnAxeSArIHkyKSk7XG4gICAgICAgIHZhciBweCA9ICgoZHgwICogYzIpIC0gKGR4MSAqIGMxKSkgLyBjcm9zcztcbiAgICAgICAgdmFyIHB5ID0gKChkeTEgKiBjMSkgLSAoZHkwICogYzIpKSAvIGNyb3NzO1xuICAgICAgICB2YXIgcGRpc3QgPSAoKHB4IC0geDEpICogKHB4IC0geDEpKSArICgocHkgLSB5MSkgKiAocHkgLSB5MSkpO1xuICAgICAgICAvKiBJbm5lciBtaXRlciBwb2ludCAqL1xuICAgICAgICB2YXIgaW14ID0geDEgKyAoKHB4IC0geDEpICogaW5uZXJXZWlnaHQpO1xuICAgICAgICB2YXIgaW15ID0geTEgKyAoKHB5IC0geTEpICogaW5uZXJXZWlnaHQpO1xuICAgICAgICAvKiBPdXRlciBtaXRlciBwb2ludCAqL1xuICAgICAgICB2YXIgb214ID0geDEgLSAoKHB4IC0geDEpICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICB2YXIgb215ID0geTEgLSAoKHB5IC0geTEpICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICAvKiBJcyB0aGUgaW5zaWRlIG1pdGVyIHBvaW50IHRvbyBmYXIgYXdheSwgY3JlYXRpbmcgYSBzcGlrZT8gKi9cbiAgICAgICAgdmFyIHNtYWxsZXJJbnNpZGVTZWdtZW50U3EgPSBNYXRoLm1pbigoZHgwICogZHgwKSArIChkeTAgKiBkeTApLCAoZHgxICogZHgxKSArIChkeTEgKiBkeTEpKTtcbiAgICAgICAgdmFyIGluc2lkZVdlaWdodCA9IGNsb2Nrd2lzZSA/IGlubmVyV2VpZ2h0IDogb3V0ZXJXZWlnaHQ7XG4gICAgICAgIHZhciBzbWFsbGVySW5zaWRlRGlhZ29uYWxTcSA9IHNtYWxsZXJJbnNpZGVTZWdtZW50U3EgKyAoaW5zaWRlV2VpZ2h0ICogaW5zaWRlV2VpZ2h0ICogd2lkdGhTcXVhcmVkKTtcbiAgICAgICAgdmFyIGluc2lkZU1pdGVyT2sgPSBwZGlzdCA8PSBzbWFsbGVySW5zaWRlRGlhZ29uYWxTcTtcbiAgICAgICAgaWYgKGluc2lkZU1pdGVyT2spIHtcbiAgICAgICAgICAgIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uQkVWRUwgfHwgcGRpc3QgLyB3aWR0aFNxdWFyZWQgPiBtaXRlckxpbWl0U3F1YXJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIHJvdGF0aW5nIGF0IGlubmVyIGFuZ2xlICovIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgLyogcm90YXRpbmcgYXQgb3V0ZXIgYW5nbGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBpbm5lciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLlJPVU5EKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkgLyogYXJjIGlzIG91dHNpZGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIHRydWUpICsgNDtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIC8qIGFyYyBpcyBpbnNpZGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLCB4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSwgdmVydHMsIGZhbHNlKSArIDQ7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIC8vIGluc2lkZSBtaXRlciBpcyBOT1Qgb2tcbiAgICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIGlubmVyIHZlcnRleFxuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLlJPVU5EKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkgLyogYXJjIGlzIG91dHNpZGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSwgdmVydHMsIHRydWUpICsgMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSAvKiBhcmMgaXMgaW5zaWRlICovIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCksIHZlcnRzLCBmYWxzZSkgKyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5NSVRFUiAmJiBwZGlzdCAvIHdpZHRoU3F1YXJlZCA8PSBtaXRlckxpbWl0U3F1YXJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpOyAvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBpbm5lciB2ZXJ0ZXhcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHgwID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHkwID0gcG9pbnRzWygobGVuZ3RoIC0gMikgKiAyKSArIDFdO1xuICAgIHgxID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHkxID0gcG9pbnRzWygobGVuZ3RoIC0gMSkgKiAyKSArIDFdO1xuICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICBwZXJweSA9IHgwIC0geDE7XG4gICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcbiAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgIGlmICghY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB5MSAtIChwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgZmFsc2UpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlNRVUFSRSkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSBzcXVhcmUoeDEsIHkxLCBwZXJweCwgcGVycHksIGlubmVyV2VpZ2h0LCBvdXRlcldlaWdodCwgZmFsc2UsIHZlcnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICB2YXIgZXBzMiA9IEdSQVBISUNTX0NVUlZFUy5lcHNpbG9uICogR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb247XG4gICAgLy8gaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQpO1xuICAgIGZvciAodmFyIGkgPSBpbmRleFN0YXJ0OyBpIDwgaW5kZXhDb3VudCArIGluZGV4U3RhcnQgLSAyOyArK2kpIHtcbiAgICAgICAgeDAgPSB2ZXJ0c1soaSAqIDIpXTtcbiAgICAgICAgeTAgPSB2ZXJ0c1soaSAqIDIpICsgMV07XG4gICAgICAgIHgxID0gdmVydHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICB5MSA9IHZlcnRzWygoaSArIDEpICogMikgKyAxXTtcbiAgICAgICAgeDIgPSB2ZXJ0c1soaSArIDIpICogMl07XG4gICAgICAgIHkyID0gdmVydHNbKChpICsgMikgKiAyKSArIDFdO1xuICAgICAgICAvKiBTa2lwIHplcm8gYXJlYSB0cmlhbmdsZXMgKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKCh4MCAqICh5MSAtIHkyKSkgKyAoeDEgKiAoeTIgLSB5MCkpICsgKHgyICogKHkwIC0geTEpKSkgPCBlcHMyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmRpY2VzLnB1c2goaSwgaSArIDEsIGkgKyAyKTtcbiAgICB9XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHM7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHsgcmV0dXJuOyB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSAqIDJdLCBwb2ludHNbKGkgKiAyKSArIDFdKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4ICsgMSk7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgIH1cbiAgICBpZiAoY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgc3RhcnRJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBidWlsZE5vbk5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBhcmMgY3VydmVzLlxuICogQHByaXZhdGVcbiAqL1xudmFyIEFyY1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyY1V0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjVG8oKSBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHMgb24gdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIFwiYm9ycm93ZWRcIiBmcm9tIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZnhjYW52YXMvIC0gdGhhbmtzIGdvb2dsZSFcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB4MSAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSBwb2ludHMgLVxuICAgICAqIEByZXR1cm5zIC0gSWYgdGhlIGFyYyBsZW5ndGggaXMgdmFsaWQsIHJldHVybiBjZW50ZXIgb2YgY2lyY2xlLCByYWRpdXMgYW5kIG90aGVyIGluZm8gb3RoZXJ3aXNlIGBudWxsYC5cbiAgICAgKi9cbiAgICBBcmNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cykge1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgYTEgPSBmcm9tWSAtIHkxO1xuICAgICAgICB2YXIgYjEgPSBmcm9tWCAtIHgxO1xuICAgICAgICB2YXIgYTIgPSB5MiAtIHkxO1xuICAgICAgICB2YXIgYjIgPSB4MiAtIHgxO1xuICAgICAgICB2YXIgbW0gPSBNYXRoLmFicygoYTEgKiBiMikgLSAoYjEgKiBhMikpO1xuICAgICAgICBpZiAobW0gPCAxLjBlLTggfHwgcmFkaXVzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAhPT0geDEgfHwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAhPT0geTEpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRkID0gKGExICogYTEpICsgKGIxICogYjEpO1xuICAgICAgICB2YXIgY2MgPSAoYTIgKiBhMikgKyAoYjIgKiBiMik7XG4gICAgICAgIHZhciB0dCA9IChhMSAqIGEyKSArIChiMSAqIGIyKTtcbiAgICAgICAgdmFyIGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgICAgICB2YXIgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgICAgIHZhciBqMSA9IGsxICogdHQgLyBkZDtcbiAgICAgICAgdmFyIGoyID0gazIgKiB0dCAvIGNjO1xuICAgICAgICB2YXIgY3ggPSAoazEgKiBiMikgKyAoazIgKiBiMSk7XG4gICAgICAgIHZhciBjeSA9IChrMSAqIGEyKSArIChrMiAqIGExKTtcbiAgICAgICAgdmFyIHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgICAgIHZhciBweSA9IGExICogKGsyICsgajEpO1xuICAgICAgICB2YXIgcXggPSBiMiAqIChrMSArIGoyKTtcbiAgICAgICAgdmFyIHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgICAgIHZhciBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICAgICAgdmFyIGVuZEFuZ2xlID0gTWF0aC5hdGFuMihxeSAtIGN5LCBxeCAtIGN4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN4OiAoY3ggKyB4MSksXG4gICAgICAgICAgICBjeTogKGN5ICsgeTEpLFxuICAgICAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxuICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogKGIxICogYTIgPiBiMiAqIGExKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gX3N0YXJ0WCAtIFN0YXJ0IHggbG9jYXRpb24gb2YgYXJjXG4gICAgICogQHBhcmFtIF9zdGFydFkgLSBTdGFydCB5IGxvY2F0aW9uIG9mIGFyY1xuICAgICAqIEBwYXJhbSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0gX2FudGljbG9ja3dpc2UgLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHBhcmFtIHBvaW50cyAtIENvbGxlY3Rpb24gb2YgcG9pbnRzIHRvIGFkZCB0b1xuICAgICAqL1xuICAgIEFyY1V0aWxzLmFyYyA9IGZ1bmN0aW9uIChfc3RhcnRYLCBfc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIF9hbnRpY2xvY2t3aXNlLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChNYXRoLmFicyhzd2VlcCkgKiByYWRpdXMsIE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBQSV8yKSAqIDQwKTtcbiAgICAgICAgdmFyIHRoZXRhID0gKHN3ZWVwKSAvIChuICogMik7XG4gICAgICAgIHZhciB0aGV0YTIgPSB0aGV0YSAqIDI7XG4gICAgICAgIHZhciBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgICAgIHZhciBzZWdNaW51cyA9IG4gLSAxO1xuICAgICAgICB2YXIgcmVtYWluZGVyID0gKHNlZ01pbnVzICUgMSkgLyBzZWdNaW51cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2VnTWludXM7ICsraSkge1xuICAgICAgICAgICAgdmFyIHJlYWwgPSBpICsgKHJlbWFpbmRlciAqIGkpO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKCh0aGV0YSkgKyBzdGFydEFuZ2xlICsgKHRoZXRhMiAqIHJlYWwpKTtcbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goKCgoY1RoZXRhICogYykgKyAoc1RoZXRhICogcykpICogcmFkaXVzKSArIGN4LCAoKChjVGhldGEgKiAtcykgKyAoc1RoZXRhICogYykpICogcmFkaXVzKSArIGN5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFyY1V0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGJlemllciBjdXJ2ZXNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCZXppZXJVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCZXppZXJVdGlscygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxlbmd0aCBvZiBiZXppZXIgY3VydmUuXG4gICAgICogQW5hbHl0aWNhbCBzb2x1dGlvbiBpcyBpbXBvc3NpYmxlLCBzaW5jZSBpdCBpbnZvbHZlcyBhbiBpbnRlZ3JhbCB0aGF0IGRvZXMgbm90IGludGVncmF0ZSBpbiBnZW5lcmFsLlxuICAgICAqIFRoZXJlZm9yZSBudW1lcmljYWwgc29sdXRpb24gaXMgdXNlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAgICAgKiBAcGFyYW0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gICAgICogQHBhcmFtIGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybnMgLSBMZW5ndGggb2YgYmV6aWVyIGN1cnZlXG4gICAgICovXG4gICAgQmV6aWVyVXRpbHMuY3VydmVMZW5ndGggPSBmdW5jdGlvbiAoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgdmFyIG4gPSAxMDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IDAuMDtcbiAgICAgICAgdmFyIHQgPSAwLjA7XG4gICAgICAgIHZhciB0MiA9IDAuMDtcbiAgICAgICAgdmFyIHQzID0gMC4wO1xuICAgICAgICB2YXIgbnQgPSAwLjA7XG4gICAgICAgIHZhciBudDIgPSAwLjA7XG4gICAgICAgIHZhciBudDMgPSAwLjA7XG4gICAgICAgIHZhciB4ID0gMC4wO1xuICAgICAgICB2YXIgeSA9IDAuMDtcbiAgICAgICAgdmFyIGR4ID0gMC4wO1xuICAgICAgICB2YXIgZHkgPSAwLjA7XG4gICAgICAgIHZhciBwcmV2WCA9IGZyb21YO1xuICAgICAgICB2YXIgcHJldlkgPSBmcm9tWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICB0ID0gaSAvIG47XG4gICAgICAgICAgICB0MiA9IHQgKiB0O1xuICAgICAgICAgICAgdDMgPSB0MiAqIHQ7XG4gICAgICAgICAgICBudCA9ICgxLjAgLSB0KTtcbiAgICAgICAgICAgIG50MiA9IG50ICogbnQ7XG4gICAgICAgICAgICBudDMgPSBudDIgKiBudDtcbiAgICAgICAgICAgIHggPSAobnQzICogZnJvbVgpICsgKDMuMCAqIG50MiAqIHQgKiBjcFgpICsgKDMuMCAqIG50ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCk7XG4gICAgICAgICAgICB5ID0gKG50MyAqIGZyb21ZKSArICgzLjAgKiBudDIgKiB0ICogY3BZKSArICgzICogbnQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKTtcbiAgICAgICAgICAgIGR4ID0gcHJldlggLSB4O1xuICAgICAgICAgICAgZHkgPSBwcmV2WSAtIHk7XG4gICAgICAgICAgICBwcmV2WCA9IHg7XG4gICAgICAgICAgICBwcmV2WSA9IHk7XG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAcGFyYW0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0gcG9pbnRzIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gICAgICovXG4gICAgQmV6aWVyVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHBvaW50cykge1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KEJlemllclV0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSk7XG4gICAgICAgIHZhciBkdCA9IDA7XG4gICAgICAgIHZhciBkdDIgPSAwO1xuICAgICAgICB2YXIgZHQzID0gMDtcbiAgICAgICAgdmFyIHQyID0gMDtcbiAgICAgICAgdmFyIHQzID0gMDtcbiAgICAgICAgcG9pbnRzLnB1c2goZnJvbVgsIGZyb21ZKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAgICAgZHQgPSAoMSAtIGopO1xuICAgICAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgICAgIGR0MyA9IGR0MiAqIGR0O1xuICAgICAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgICAgIHQzID0gdDIgKiBqO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksIChkdDMgKiBmcm9tWSkgKyAoMyAqIGR0MiAqIGogKiBjcFkpICsgKDMgKiBkdCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJlemllclV0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIHF1YWRyYXRpYyBjdXJ2ZXMuXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUXVhZHJhdGljVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVhZHJhdGljVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5tYWxjemFrLmxpbnV4cGwuY29tL2Jsb2cvcXVhZHJhdGljLWJlemllci1jdXJ2ZS1sZW5ndGgvfVxuICAgICAqIGZvciB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgbWF0aCBiZWhpbmQgdGhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBmcm9tWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSBmcm9tWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSBjcFggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSBjcFkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB0b1ggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHBhcmFtIHRvWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcmV0dXJucyAtIExlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKi9cbiAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICB2YXIgYXggPSBmcm9tWCAtICgyLjAgKiBjcFgpICsgdG9YO1xuICAgICAgICB2YXIgYXkgPSBmcm9tWSAtICgyLjAgKiBjcFkpICsgdG9ZO1xuICAgICAgICB2YXIgYnggPSAoMi4wICogY3BYKSAtICgyLjAgKiBmcm9tWCk7XG4gICAgICAgIHZhciBieSA9ICgyLjAgKiBjcFkpIC0gKDIuMCAqIGZyb21ZKTtcbiAgICAgICAgdmFyIGEgPSA0LjAgKiAoKGF4ICogYXgpICsgKGF5ICogYXkpKTtcbiAgICAgICAgdmFyIGIgPSA0LjAgKiAoKGF4ICogYngpICsgKGF5ICogYnkpKTtcbiAgICAgICAgdmFyIGMgPSAoYnggKiBieCkgKyAoYnkgKiBieSk7XG4gICAgICAgIHZhciBzID0gMi4wICogTWF0aC5zcXJ0KGEgKyBiICsgYyk7XG4gICAgICAgIHZhciBhMiA9IE1hdGguc3FydChhKTtcbiAgICAgICAgdmFyIGEzMiA9IDIuMCAqIGEgKiBhMjtcbiAgICAgICAgdmFyIGMyID0gMi4wICogTWF0aC5zcXJ0KGMpO1xuICAgICAgICB2YXIgYmEgPSBiIC8gYTI7XG4gICAgICAgIHJldHVybiAoKGEzMiAqIHMpXG4gICAgICAgICAgICArIChhMiAqIGIgKiAocyAtIGMyKSlcbiAgICAgICAgICAgICsgKCgoNC4wICogYyAqIGEpIC0gKGIgKiBiKSlcbiAgICAgICAgICAgICAgICAqIE1hdGgubG9nKCgoMi4wICogYTIpICsgYmEgKyBzKSAvIChiYSArIGMyKSkpKSAvICg0LjAgKiBhMzIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0gcG9pbnRzIC0gUG9pbnRzIHRvIGFkZCBzZWdtZW50cyB0by5cbiAgICAgKi9cbiAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSk7XG4gICAgICAgIHZhciB4YSA9IDA7XG4gICAgICAgIHZhciB5YSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdmFyIGogPSBpIC8gbjtcbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoKGNwWCAtIGZyb21YKSAqIGopO1xuICAgICAgICAgICAgeWEgPSBmcm9tWSArICgoY3BZIC0gZnJvbVkpICogaik7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4YSArICgoKGNwWCArICgodG9YIC0gY3BYKSAqIGopKSAtIHhhKSAqIGopLCB5YSArICgoKGNwWSArICgodG9ZIC0gY3BZKSAqIGopKSAtIHlhKSAqIGopKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFF1YWRyYXRpY1V0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBBIHN0cnVjdHVyZSB0byBob2xkIGludGVyaW0gYmF0Y2ggb2JqZWN0cyBmb3IgR3JhcGhpY3MuXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKi9cbnZhciBCYXRjaFBhcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hQYXJ0KCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJlZ2luIGJhdGNoIHBhcnQuXG4gICAgICogQHBhcmFtIHN0eWxlXG4gICAgICogQHBhcmFtIHN0YXJ0SW5kZXhcbiAgICAgKiBAcGFyYW0gYXR0cmliU3RhcnRcbiAgICAgKi9cbiAgICBCYXRjaFBhcnQucHJvdG90eXBlLmJlZ2luID0gZnVuY3Rpb24gKHN0eWxlLCBzdGFydEluZGV4LCBhdHRyaWJTdGFydCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0SW5kZXg7XG4gICAgICAgIHRoaXMuYXR0cmliU3RhcnQgPSBhdHRyaWJTdGFydDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZCBiYXRjaCBwYXJ0LlxuICAgICAqIEBwYXJhbSBlbmRJbmRleFxuICAgICAqIEBwYXJhbSBlbmRBdHRyaWJcbiAgICAgKi9cbiAgICBCYXRjaFBhcnQucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChlbmRJbmRleCwgZW5kQXR0cmliKSB7XG4gICAgICAgIHRoaXMuYXR0cmliU2l6ZSA9IGVuZEF0dHJpYiAtIHRoaXMuYXR0cmliU3RhcnQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGVuZEluZGV4IC0gdGhpcy5zdGFydDtcbiAgICB9O1xuICAgIEJhdGNoUGFydC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliU2l6ZSA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hQYXJ0O1xufSgpKTtcblxuLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIEdyYXBoaWNzLlxuICogQG5hbWVzcGFjZSBncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgX2E7XG4vKipcbiAqIE1hcCBvZiBmaWxsIGNvbW1hbmRzIGZvciBlYWNoIHNoYXBlIHR5cGUuXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtvYmplY3R9IEZJTExfQ09NTUFORFNcbiAqL1xudmFyIEZJTExfQ09NTUFORFMgPSAoX2EgPSB7fSxcbiAgICBfYVtTSEFQRVMuUE9MWV0gPSBidWlsZFBvbHksXG4gICAgX2FbU0hBUEVTLkNJUkNdID0gYnVpbGRDaXJjbGUsXG4gICAgX2FbU0hBUEVTLkVMSVBdID0gYnVpbGRDaXJjbGUsXG4gICAgX2FbU0hBUEVTLlJFQ1RdID0gYnVpbGRSZWN0YW5nbGUsXG4gICAgX2FbU0hBUEVTLlJSRUNdID0gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLFxuICAgIF9hKTtcbi8qKlxuICogQmF0Y2ggcG9vbCwgc3RvcmVzIHVudXNlZCBiYXRjaGVzIGZvciBwcmV2ZW50aW5nIGFsbG9jYXRpb25zLlxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlciB7QXJyYXk8UElYSS5ncmFwaGljc1V0aWxzLkJhdGNoUGFydD59IEJBVENIX1BPT0xcbiAqL1xudmFyIEJBVENIX1BPT0wgPSBbXTtcbi8qKlxuICogRHJhdyBjYWxsIHBvb2wsIHN0b3JlcyB1bnVzZWQgZHJhdyBjYWxscyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmF0Y2hEcmF3Q2FsbD59IERSQVdfQ0FMTF9QT09MXG4gKi9cbnZhciBEUkFXX0NBTExfUE9PTCA9IFtdO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gY29udGFpbiBkYXRhIHVzZWZ1bCBmb3IgR3JhcGhpY3Mgb2JqZWN0c1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0gZmlsbFN0eWxlIC0gdGhlIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0gbGluZVN0eWxlIC0gdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB2b2lkIDApIHsgZmlsbFN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobGluZVN0eWxlID09PSB2b2lkIDApIHsgbGluZVN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICAvKiogVGhlIGNvbGxlY3Rpb24gb2YgcG9pbnRzLiAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICAvKiogVGhlIGNvbGxlY3Rpb24gb2YgaG9sZXMuICovXG4gICAgICAgIHRoaXMuaG9sZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgICAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzRGF0YSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogQHJldHVybnMgLSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICAgICAqL1xuICAgIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKHRoaXMuc2hhcGUsIHRoaXMuZmlsbFN0eWxlLCB0aGlzLmxpbmVTdHlsZSwgdGhpcy5tYXRyaXgpO1xuICAgIH07XG4gICAgLyoqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBkYXRhLiAqL1xuICAgIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR3JhcGhpY3NEYXRhO1xufSgpKTtcblxudmFyIHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBHcmFwaGljc0dlb21ldHJ5IGlzIGRlc2lnbmVkIHRvIG5vdCBiZSBjb250aW51YWxseSB1cGRhdGluZyB0aGUgZ2VvbWV0cnkgc2luY2UgaXQncyBleHBlbnNpdmVcbiAqIHRvIHJlLXRlc3NlbGF0ZSB1c2luZyAqKmVhcmN1dCoqLiBDb25zaWRlciB1c2luZyB7QGxpbmsgUElYSS5NZXNofSBmb3IgdGhpcyB1c2UtY2FzZSwgaXQncyBtdWNoIGZhc3Rlci5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0dlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljc0dlb21ldHJ5LCBfc3VwZXIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlbGVzcy1jb25zdHJ1Y3RvclxuICAgIGZ1bmN0aW9uIEdyYXBoaWNzR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBNaW5pbWFsIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIHRoYXQgYXJlIGNvbnNpZGVyZWQgZGlmZmVyZW50LiBBZmZlY3RzIGxpbmUgdGVzc2VsYXRpb24uICovXG4gICAgICAgIF90aGlzLmNsb3NlUG9pbnRFcHMgPSAxZS00O1xuICAgICAgICAvKiogUGFkZGluZyB0byBhZGQgdG8gdGhlIGJvdW5kcy4gKi9cbiAgICAgICAgX3RoaXMuYm91bmRzUGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuYmF0Y2hhYmxlID0gZmFsc2U7XG4gICAgICAgIC8qKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhdywgMiBudW1iZXJzIHBlciBwb2ludCAqL1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgLyoqIFRoZSBjb2xsZWN0aW9uIG9mIGNvbG9ycyAqL1xuICAgICAgICBfdGhpcy5jb2xvcnMgPSBbXTtcbiAgICAgICAgLyoqIFRoZSBVVnMgY29sbGVjdGlvbiAqL1xuICAgICAgICBfdGhpcy51dnMgPSBbXTtcbiAgICAgICAgLyoqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlcyAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gW107XG4gICAgICAgIC8qKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgSURzLiAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlSWRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBkcmF3biBzaGFwZXMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgY3VycmVudCBkcmF3IGNhbGxzIGRyaXZlZCBmcm9tIHRoZSBiYXRjaGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoRHJhd0NhbGxbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRyYXdDYWxscyA9IFtdO1xuICAgICAgICAvKiogQmF0Y2hlcyBuZWVkIHRvIHJlZ2VuZXJhdGVkIGlmIHRoZSBnZW9tZXRyeSBpcyB1cGRhdGVkLiAqL1xuICAgICAgICBfdGhpcy5iYXRjaERpcnR5ID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm1lZGlhdGUgYWJzdHJhY3QgZm9ybWF0IHNlbnQgdG8gYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBDYW4gYmUgY29udmVydGVkIHRvIGRyYXdDYWxscyBvciB0byBiYXRjaGFibGUgb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5ncmFwaGljc1V0aWxzLkJhdGNoUGFydFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hlcyA9IFtdO1xuICAgICAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBoYXMgY2hhbmdlZC4gKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuICAgICAgICAvKiogVXNlZCB0byBjaGVjayBpZiB0aGUgY2FjaGUgaXMgZGlydHkuICovXG4gICAgICAgIF90aGlzLmNhY2hlRGlydHkgPSAtMTtcbiAgICAgICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyZWQgdGhlIGdyYXBoaWNzRGF0YS4gKi9cbiAgICAgICAgX3RoaXMuY2xlYXJEaXJ0eSA9IDA7XG4gICAgICAgIC8qKiBJbmRleCBvZiB0aGUgbGFzdCBiYXRjaGVkIHNoYXBlIGluIHRoZSBzdGFjayBvZiBjYWxscy4gKi9cbiAgICAgICAgX3RoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgICAgIC8qKiBDYWNoZWQgYm91bmRzLiAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICAvKiogVGhlIGJvdW5kcyBkaXJ0eSBmbGFnLiAqL1xuICAgICAgICBfdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZSwgXCJib3VuZHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBnZW9tZXRyeS5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQmF0Y2hlcygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRzRGlydHkgIT09IHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBDYWxsIGlmIHlvdSBjaGFuZ2VkIGdyYXBoaWNzRGF0YSBtYW51YWxseS4gRW1wdGllcyBhbGwgYmF0Y2ggYnVmZmVycy4gKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LnJlc2V0KCk7XG4gICAgICAgICAgICBCQVRDSF9QT09MLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICogQHJldHVybnMgLSBUaGlzIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIGZpbGxTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICogQHBhcmFtIGxpbmVTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGxpbmVzLlxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBUcmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgcG9pbnRzIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJucyAtIFJldHVybnMgZ2VvbWV0cnkgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIChzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB2b2lkIDApIHsgZmlsbFN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobGluZVN0eWxlID09PSB2b2lkIDApIHsgbGluZVN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm5zIC0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd0hvbGUgPSBmdW5jdGlvbiAoc2hhcGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICBpZiAoIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBudWxsLCBudWxsLCBtYXRyaXgpO1xuICAgICAgICB2YXIgbGFzdFNoYXBlID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgIGRhdGEubGluZVN0eWxlID0gbGFzdFNoYXBlLmxpbmVTdHlsZTtcbiAgICAgICAgbGFzdFNoYXBlLmhvbGVzLnB1c2goZGF0YSk7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKiogRGVzdHJveXMgdGhlIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LiAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgYSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHBvaW50IC0gUG9pbnQgdG8gY2hlY2sgaWYgaXQncyBjb250YWluZWQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHZhciBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGxTdHlsZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvbmx5IGRlYWwgd2l0aCBmaWxscy4uXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGFwZSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLm1hdHJpeC5hcHBseUludmVyc2UocG9pbnQsIHRtcFBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRtcFBvaW50LmNvcHlGcm9tKHBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhpdEhvbGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaG9sZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob2xlID0gZGF0YS5ob2xlc1tpXzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEhvbGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoaXRIb2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgaW50ZXJtZWRpYXRlIGJhdGNoIGRhdGEuIEVpdGhlciBnZXRzIGNvbnZlcnRlZCB0byBkcmF3Q2FsbHNcbiAgICAgKiBvciB1c2VkIHRvIGNvbnZlcnQgdG8gYmF0Y2ggb2JqZWN0cyBkaXJlY3RseSBieSB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZUJhdGNoZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQmF0Y2hpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IGJhdGNoUGFydC5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5zaGFwZUluZGV4OyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlSW5kZXgrKztcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZSA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICAgICAgICAvLyBidWlsZCBvdXQgdGhlIHNoYXBlcyBwb2ludHMuLlxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChkYXRhKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGRhdGEucG9pbnRzLCBkYXRhLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsbFN0eWxlLnZpc2libGUgfHwgbGluZVN0eWxlLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NIb2xlcyhkYXRhLmhvbGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gKGogPT09IDApID8gZmlsbFN0eWxlIDogbGluZVN0eWxlO1xuICAgICAgICAgICAgICAgIGlmICghc3R5bGUudmlzaWJsZSlcbiAgICAgICAgICAgICAgICAgICAgeyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4XzEgPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJJbmRleCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NGaWxsKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTGluZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSAodGhpcy5wb2ludHMubGVuZ3RoIC8gMikgLSBhdHRyaWJJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgeyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIGJhdGNoIGlmIHN0eWxlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnQgJiYgIXRoaXMuX2NvbXBhcmVTdHlsZXMoY3VycmVudFN0eWxlLCBzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleF8xLCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNwYXduIG5ldyBiYXRjaCBpZiBpdHMgZmlyc3QgYmF0Y2ggb3IgcHJldmlvdXMgd2FzIGNsb3NlZFxuICAgICAgICAgICAgICAgIGlmICghYmF0Y2hQYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IEJBVENIX1BPT0wucG9wKCkgfHwgbmV3IEJhdGNoUGFydCgpO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuYmVnaW4oc3R5bGUsIGluZGV4XzEsIGF0dHJpYkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaGVzLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVXZzKHRoaXMucG9pbnRzLCB1dnMsIHN0eWxlLnRleHR1cmUsIGF0dHJpYkluZGV4LCBzaXplLCBzdHlsZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICBpZiAoYmF0Y2hQYXJ0KSB7XG4gICAgICAgICAgICBiYXRjaFBhcnQuZW5kKGluZGV4LCBhdHRyaWIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyB0aGVyZSBhcmUgbm8gdmlzaWJsZSBzdHlsZXMgaW4gR3JhcGhpY3NEYXRhXG4gICAgICAgICAgICAvLyBpdHMgcG9zc2libGUgdGhhdCBzb21lb25lIHdhbnRzIEdyYXBoaWNzIGp1c3QgZm9yIHRoZSBib3VuZHNcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmVlZDMyID0gYXR0cmliID4gMHhmZmZmO1xuICAgICAgICAvLyBwcmV2ZW50IGFsbG9jYXRpb24gd2hlbiBsZW5ndGggaXMgc2FtZSBhcyBidWZmZXJcbiAgICAgICAgaWYgKHRoaXMuaW5kaWNlc1VpbnQxNiAmJiB0aGlzLmluZGljZXMubGVuZ3RoID09PSB0aGlzLmluZGljZXNVaW50MTYubGVuZ3RoXG4gICAgICAgICAgICAmJiBuZWVkMzIgPT09ICh0aGlzLmluZGljZXNVaW50MTYuQllURVNfUEVSX0VMRU1FTlQgPiAyKSkge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2LnNldCh0aGlzLmluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2ID0gbmVlZDMyID8gbmV3IFVpbnQzMkFycmF5KHRoaXMuaW5kaWNlcykgOiBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBhIGNvbnN0Li5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0aGlzLmlzQmF0Y2hhYmxlKCk7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5wYWNrQmF0Y2hlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZmZpbml0eSBjaGVja1xuICAgICAqIEBwYXJhbSBzdHlsZUFcbiAgICAgKiBAcGFyYW0gc3R5bGVCXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuX2NvbXBhcmVTdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVBLCBzdHlsZUIpIHtcbiAgICAgICAgaWYgKCFzdHlsZUEgfHwgIXN0eWxlQikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZUEudGV4dHVyZS5iYXNlVGV4dHVyZSAhPT0gc3R5bGVCLnRleHR1cmUuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVBLmNvbG9yICsgc3R5bGVBLmFscGhhICE9PSBzdHlsZUIuY29sb3IgKyBzdHlsZUIuYWxwaGEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISFzdHlsZUEubmF0aXZlICE9PSAhIXN0eWxlQi5uYXRpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKiBUZXN0IGdlb21ldHJ5IGZvciBiYXRjaGluZyBwcm9jZXNzLiAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnZhbGlkYXRlQmF0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ID09PSB0aGlzLmNhY2hlRGlydHkgfHwgIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGwgPSBkYXRhLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gZGF0YS5saW5lU3R5bGU7XG4gICAgICAgICAgICBpZiAoZmlsbCAmJiAhZmlsbC50ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICBpZiAobGluZSAmJiAhbGluZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKiogT2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci4gKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51dnMpO1xuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBiYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmF0Y2guc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gPSB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgdGhpcyBncmFwaGljcyBnZW9tZXRyeSBjYW4gYmUgYmF0Y2hlZC5cbiAgICAgKiBDdXJyZW50bHkgaXQgbmVlZHMgdG8gYmUgc21hbGwgZW5vdWdoIGFuZCBub3QgY29udGFpbiBhbnkgbmF0aXZlIGxpbmVzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmlzQmF0Y2hhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBwcmV2ZW50IGhlYXZ5IG1lc2ggYmF0Y2hpbmdcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzLmxlbmd0aCA+IDB4ZmZmZiAqIDIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfTtcbiAgICAvKiogQ29udmVydHMgaW50ZXJtZWRpYXRlIGJhdGNoZXMgZGF0YSB0byBkcmF3Q2FsbHMuICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGREcmF3Q2FsbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgIHZhciB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuICAgICAgICB2YXIgY3VycmVudEdyb3VwID0gRFJBV19DQUxMX1BPT0wucG9wKCk7XG4gICAgICAgIGlmICghY3VycmVudEdyb3VwKSB7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5ID0gbmV3IEJhdGNoVGV4dHVyZUFycmF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmNvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICB2YXIgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IDA7XG4gICAgICAgIHZhciBuYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgLy8gVE9ETyAtIHRoaXMgY2FuIGJlIHNpbXBsaWZpZWRcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgLy8gVE9ETyBhZGQgc29tZSBmdWxsIG9uIE1BWF9URVhUVVJFIENPREUuLlxuICAgICAgICAgICAgdmFyIE1BWF9URVhUVVJFUyA9IDg7XG4gICAgICAgICAgICAvLyBGb3JjZWQgY2FzdCBmb3IgY2hlY2tpbmcgYG5hdGl2ZWAgd2l0aG91dCBlcnJvcnNcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGRhdGEuc3R5bGU7XG4gICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKG5hdGl2ZSAhPT0gISFzdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmUgPSAhIXN0eWxlLm5hdGl2ZTtcbiAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IG5hdGl2ZSA/IERSQVdfTU9ERVMuTElORVMgOiBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSB0aGUgYmF0Y2ggdG8gYnJlYWshXG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IE1BWF9URVhUVVJFUztcbiAgICAgICAgICAgICAgICBUSUNLKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCAhPT0gVElDSykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEdyb3VwLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gRFJBV19DQUxMX1BPT0wucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gbmV3IEJhdGNoRHJhd0NhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5ID0gbmV3IEJhdGNoVGV4dHVyZUFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gZHJhd01vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBhZGQgdGhpcyB0byB0aGUgcmVuZGVyIHBhcnQuLlxuICAgICAgICAgICAgICAgICAgICAvLyBIYWNrISBCZWNhdXNlIHRleHR1cmUgaGFzIHByb3RlY3RlZCBgdG91Y2hlZGBcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IDE7IC8vIHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2JhdGNoTG9jYXRpb24gPSB0ZXh0dXJlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5lbGVtZW50c1tjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgKz0gZGF0YS5zaXplO1xuICAgICAgICAgICAgaW5kZXggKz0gZGF0YS5zaXplO1xuICAgICAgICAgICAgdGV4dHVyZUlkID0gbmV4dFRleHR1cmUuX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICB0aGlzLmFkZENvbG9ycyhjb2xvcnMsIHN0eWxlLmNvbG9yLCBzdHlsZS5hbHBoYSwgZGF0YS5hdHRyaWJTaXplLCBkYXRhLmF0dHJpYlN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuYWRkVGV4dHVyZUlkcyh0ZXh0dXJlSWRzLCB0ZXh0dXJlSWQsIGRhdGEuYXR0cmliU2l6ZSwgZGF0YS5hdHRyaWJTdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcbiAgICAgICAgLy8gdXBsb2FkLi5cbiAgICAgICAgLy8gbWVyZ2UgZm9yIG5vdyFcbiAgICAgICAgdGhpcy5wYWNrQXR0cmlidXRlcygpO1xuICAgIH07XG4gICAgLyoqIFBhY2tzIGF0dHJpYnV0ZXMgdG8gc2luZ2xlIGJ1ZmZlci4gKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQXR0cmlidXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICB2YXIgdGV4dHVyZUlkcyA9IHRoaXMudGV4dHVyZUlkcztcbiAgICAgICAgLy8gdmVydHMgYXJlIDIgcG9zaXRpb25zLi4gc28gd2UgKiBieSAzIGFzIHRoZXJlIGFyZSA2IHByb3BlcnRpZXMuLiB0aGVuIDQgY29zIGl0cyBieXRlc1xuICAgICAgICB2YXIgZ2xQb2ludHMgPSBuZXcgQXJyYXlCdWZmZXIodmVydHMubGVuZ3RoICogMyAqIDQpO1xuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIHZhciB1MzIgPSBuZXcgVWludDMyQXJyYXkoZ2xQb2ludHMpO1xuICAgICAgICB2YXIgcCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbaSAqIDJdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdTMyW3ArK10gPSBjb2xvcnNbaV07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHRleHR1cmVJZHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZmVyLnVwZGF0ZShnbFBvaW50cyk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyLnVwZGF0ZSh0aGlzLmluZGljZXNVaW50MTYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBmaWxsIHBhcnQgb2YgR3JhcGhpY3MuXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzRmlsbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmhvbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgYnVpbGRQb2x5LnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICAgICAgICBjb21tYW5kLnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGxpbmUgcGFydCBvZiBHcmFwaGljcy5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NMaW5lID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgYnVpbGRMaW5lKGRhdGEsIHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJ1aWxkTGluZShkYXRhLmhvbGVzW2ldLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaG9sZXMgZGF0YS5cbiAgICAgKiBAcGFyYW0gaG9sZXNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzSG9sZXMgPSBmdW5jdGlvbiAoaG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gRklMTF9DT01NQU5EU1tob2xlLnR5cGVdO1xuICAgICAgICAgICAgY29tbWFuZC5idWlsZChob2xlKTtcbiAgICAgICAgICAgIGlmIChob2xlLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGhvbGUucG9pbnRzLCBob2xlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBVcGRhdGUgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBFeHBlbnNpdmUgdG8gdXNlIHBlcmZvcm1hbmNlLXdpc2UuICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICBib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgYm91bmRzLmFkZFZlcnRleERhdGEodGhpcy5wb2ludHMsIDAsIHRoaXMucG9pbnRzLmxlbmd0aCk7XG4gICAgICAgIGJvdW5kcy5wYWQodGhpcy5ib3VuZHNQYWRkaW5nLCB0aGlzLmJvdW5kc1BhZGRpbmcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIHBvaW50cyB1c2luZyBtYXRyaXguXG4gICAgICogQHBhcmFtIHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnRyYW5zZm9ybVBvaW50cyA9IGZ1bmN0aW9uIChwb2ludHMsIG1hdHJpeCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gcG9pbnRzWyhpICogMildO1xuICAgICAgICAgICAgdmFyIHkgPSBwb2ludHNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWyhpICogMildID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpICsgMV0gPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgY29sb3JzLlxuICAgICAqIEBwYXJhbSBjb2xvcnMgLSBMaXN0IG9mIGNvbG9ycyB0byBhZGQgdG9cbiAgICAgKiBAcGFyYW0gY29sb3IgLSBDb2xvciB0byBhZGRcbiAgICAgKiBAcGFyYW0gYWxwaGEgLSBBbHBoYSB0byB1c2VcbiAgICAgKiBAcGFyYW0gc2l6ZSAtIE51bWJlciBvZiBjb2xvcnMgdG8gYWRkXG4gICAgICogQHBhcmFtIG9mZnNldFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZENvbG9ycyA9IGZ1bmN0aW9uIChjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGlmIChvZmZzZXQgPT09IHZvaWQgMCkgeyBvZmZzZXQgPSAwOyB9XG4gICAgICAgIC8vIFRPRE8gdXNlIHRoZSBwcmVtdWx0aXBseSBiaXRzIEl2YW4gYWRkZWRcbiAgICAgICAgdmFyIHJnYiA9IChjb2xvciA+PiAxNikgKyAoY29sb3IgJiAweGZmMDApICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgdmFyIHJnYmEgPSBwcmVtdWx0aXBseVRpbnQocmdiLCBhbHBoYSk7XG4gICAgICAgIGNvbG9ycy5sZW5ndGggPSBNYXRoLm1heChjb2xvcnMubGVuZ3RoLCBvZmZzZXQgKyBzaXplKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIGNvbG9yc1tvZmZzZXQgKyBpXSA9IHJnYmE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICogQHBhcmFtIHRleHR1cmVJZHNcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEBwYXJhbSBvZmZzZXRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRUZXh0dXJlSWRzID0gZnVuY3Rpb24gKHRleHR1cmVJZHMsIGlkLCBzaXplLCBvZmZzZXQpIHtcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gdm9pZCAwKSB7IG9mZnNldCA9IDA7IH1cbiAgICAgICAgdGV4dHVyZUlkcy5sZW5ndGggPSBNYXRoLm1heCh0ZXh0dXJlSWRzLmxlbmd0aCwgb2Zmc2V0ICsgc2l6ZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0dXJlSWRzW29mZnNldCArIGldID0gaWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgVVZzIGZvciBhIHNoYXBlLlxuICAgICAqIEBwYXJhbSB2ZXJ0cyAtIFZlcnRpY2VzXG4gICAgICogQHBhcmFtIHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gT3B0aW9uYWwgdHJhbnNmb3JtIGZvciBhbGwgcG9pbnRzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZFV2cyA9IGZ1bmN0aW9uICh2ZXJ0cywgdXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciB1dnNTdGFydCA9IHV2cy5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNpemUpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMl07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRzWygoc3RhcnQgKyBpbmRleCkgKiAyKSArIDFdO1xuICAgICAgICAgICAgaWYgKG1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHZhciBueCA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICAgICAgeSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgICAgICAgICAgeCA9IG54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBmcmFtZS53aWR0aCwgeSAvIGZyYW1lLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKGZyYW1lLndpZHRoIDwgYmFzZVRleHR1cmUud2lkdGhcbiAgICAgICAgICAgIHx8IGZyYW1lLmhlaWdodCA8IGJhc2VUZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RVdnModXZzLCB0ZXh0dXJlLCB1dnNTdGFydCwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1vZGlmeSB1dnMgYXJyYXkgYWNjb3JkaW5nIHRvIHBvc2l0aW9uIG9mIHRleHR1cmUgcmVnaW9uXG4gICAgICogRG9lcyBub3Qgd29yayB3aXRoIHJvdGF0ZWQgb3IgdHJpbW1lZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB1dnMgLSBhcnJheVxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gcmVnaW9uXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gc3RhcnRpbmcgaW5kZXggZm9yIHV2c1xuICAgICAqIEBwYXJhbSBzaXplIC0gaG93IG1hbnkgcG9pbnRzIHRvIGFkanVzdFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkanVzdFV2cyA9IGZ1bmN0aW9uICh1dnMsIHRleHR1cmUsIHN0YXJ0LCBzaXplKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBlcHMgPSAxZS02O1xuICAgICAgICB2YXIgZmluaXNoID0gc3RhcnQgKyAoc2l6ZSAqIDIpO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICB2YXIgc2NhbGVYID0gZnJhbWUud2lkdGggLyBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgdmFyIHNjYWxlWSA9IGZyYW1lLmhlaWdodCAvIGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgdmFyIG9mZnNldFggPSBmcmFtZS54IC8gZnJhbWUud2lkdGg7XG4gICAgICAgIHZhciBvZmZzZXRZID0gZnJhbWUueSAvIGZyYW1lLmhlaWdodDtcbiAgICAgICAgdmFyIG1pblggPSBNYXRoLmZsb29yKHV2c1tzdGFydF0gKyBlcHMpO1xuICAgICAgICB2YXIgbWluWSA9IE1hdGguZmxvb3IodXZzW3N0YXJ0ICsgMV0gKyBlcHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAyOyBpIDwgZmluaXNoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBNYXRoLmZsb29yKHV2c1tpXSArIGVwcykpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIE1hdGguZmxvb3IodXZzW2kgKyAxXSArIGVwcykpO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldFggLT0gbWluWDtcbiAgICAgICAgb2Zmc2V0WSAtPSBtaW5ZO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBmaW5pc2g7IGkgKz0gMikge1xuICAgICAgICAgICAgdXZzW2ldID0gKHV2c1tpXSArIG9mZnNldFgpICogc2NhbGVYO1xuICAgICAgICAgICAgdXZzW2kgKyAxXSA9ICh1dnNbaSArIDFdICsgb2Zmc2V0WSkgKiBzY2FsZVk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwb2ludHMgdG8gY29uc2lkZXIgYW4gb2JqZWN0IFwiYmF0Y2hhYmxlXCIsXG4gICAgICogYWJsZSB0byBiZSBiYXRjaGVkIGJ5IHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cblxcXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gR3JhcGhpY3NHZW9tZXRyeTtcbn0oQmF0Y2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGxpbmUgc3R5bGUgZm9yIEdyYXBoaWNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIExpbmVTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGluZVN0eWxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpbmVTdHlsZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIC8qKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLiAqL1xuICAgICAgICBfdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIC8qKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0ZXIsIDAgPSBpbm5lcikuIFdlYkdMIG9ubHkuICovXG4gICAgICAgIF90aGlzLmFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgLyoqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQLiAqL1xuICAgICAgICBfdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbmUgY2FwIHN0eWxlLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxJTkVfQ0FQfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfQ0FQLkJVVFRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhcCA9IExJTkVfQ0FQLkJVVFQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaW5lIGpvaW4gc3R5bGUuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTElORV9KT0lOfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfSk9JTi5NSVRFUlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuam9pbiA9IExJTkVfSk9JTi5NSVRFUjtcbiAgICAgICAgLyoqIE1pdGVyIGxpbWl0LiAqL1xuICAgICAgICBfdGhpcy5taXRlckxpbWl0ID0gMTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqIENsb25lcyB0aGUgb2JqZWN0LiAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBvYmouYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gICAgICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcbiAgICAgICAgb2JqLmNhcCA9IHRoaXMuY2FwO1xuICAgICAgICBvYmouam9pbiA9IHRoaXMuam9pbjtcbiAgICAgICAgb2JqLm1pdGVyTGltaXQgPSB0aGlzLm1pdGVyTGltaXQ7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKiogUmVzZXQgdGhlIGxpbmUgc3R5bGUgdG8gZGVmYXVsdC4gKi9cbiAgICBMaW5lU3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyk7XG4gICAgICAgIC8vIE92ZXJyaWRlIGRlZmF1bHQgbGluZSBzdHlsZSBjb2xvclxuICAgICAgICB0aGlzLmNvbG9yID0gMHgwO1xuICAgICAgICB0aGlzLmFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMubmF0aXZlID0gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gTGluZVN0eWxlO1xufShGaWxsU3R5bGUpKTtcblxudmFyIHRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuLy8gYSBkZWZhdWx0IHNoYWRlcnMgbWFwIHVzZWQgYnkgZ3JhcGhpY3MuLlxudmFyIERFRkFVTFRfU0hBREVSUyA9IHt9O1xuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgaXMgcHJpbWFyaWx5IHVzZWQgdG8gcmVuZGVyIHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLiAgSG93ZXZlciwgeW91IGNhbiBhbHNvIHVzZSBhIEdyYXBoaWNzXG4gKiBvYmplY3QgdG8gYnVpbGQgYSBsaXN0IG9mIHByaW1pdGl2ZXMgdG8gdXNlIGFzIGEgbWFzaywgb3IgYXMgYSBjb21wbGV4IGhpdEFyZWEuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBkdWUgdG8gbGVnYWN5IG5hbWluZyBjb252ZW50aW9ucywgdGhlIGJlaGF2aW9yIG9mIHNvbWUgZnVuY3Rpb25zIGluIHRoaXMgY2xhc3NcbiAqIGNhbiBiZSBjb25mdXNpbmcuICBFYWNoIGNhbGwgdG8gYGRyYXdSZWN0KClgLCBgZHJhd1BvbHlnb24oKWAsIGV0Yy4gYWN0dWFsbHkgc3RvcmVzIHRoYXQgcHJpbWl0aXZlXG4gKiBpbiB0aGUgR2VvbWV0cnkgY2xhc3MncyBHcmFwaGljc0dlb21ldHJ5IG9iamVjdCBmb3IgbGF0ZXIgdXNlIGluIHJlbmRlcmluZyBvciBoaXQgdGVzdGluZyAtIHRoZVxuICogZnVuY3Rpb25zIGRvIG5vdCBkaXJlY3RseSBkcmF3IGFueXRoaW5nIHRvIHRoZSBzY3JlZW4uICBTaW1pbGFybHksIHRoZSBgY2xlYXIoKWAgZnVuY3Rpb24gZG9lc24ndFxuICogY2hhbmdlIHRoZSBzY3JlZW4sIGl0IHNpbXBseSByZXNldHMgdGhlIGxpc3Qgb2YgcHJpbWl0aXZlcywgd2hpY2ggY2FuIGJlIHVzZWZ1bCBpZiB5b3Ugd2FudCB0b1xuICogcmVidWlsZCB0aGUgY29udGVudHMgb2YgYW4gZXhpc3RpbmcgR3JhcGhpY3Mgb2JqZWN0LlxuICpcbiAqIE9uY2UgYSBHcmFwaGljc0dlb21ldHJ5IGxpc3QgaXMgYnVpbHQsIHlvdSBjYW4gcmUtdXNlIGl0IGluIG90aGVyIEdlb21ldHJ5IG9iamVjdHMgYXNcbiAqIGFuIG9wdGltaXphdGlvbiwgYnkgcGFzc2luZyBpdCBpbnRvIGEgbmV3IEdlb21ldHJ5IG9iamVjdCdzIGNvbnN0cnVjdG9yLiAgQmVjYXVzZSBvZiB0aGlzXG4gKiBhYmlsaXR5LCBpdCdzIGltcG9ydGFudCB0byBjYWxsIGBkZXN0cm95KClgIG9uIEdlb21ldHJ5IG9iamVjdHMgb25jZSB5b3UgYXJlIGRvbmUgd2l0aCB0aGVtLCB0b1xuICogcHJvcGVybHkgZGVyZWZlcmVuY2UgZWFjaCBHcmFwaGljc0dlb21ldHJ5IGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR3JhcGhpY3MsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGdlb21ldHJ5IC0gR2VvbWV0cnkgdG8gdXNlLCBpZiBvbWl0dGVkIHdpbGwgY3JlYXRlIGEgbmV3IEdyYXBoaWNzR2VvbWV0cnkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3MoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKGdlb21ldHJ5ID09PSB2b2lkIDApIHsgZ2VvbWV0cnkgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMgdGhhdCBwcm9jZXNzZXMgdGhlIGdlb21ldHJ5IGFuZCBydW5zIG9uIHRoZSBHUFUuXG4gICAgICAgICAqIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBHcmFwaGljcyBvYmplY3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgLyoqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmcgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHBhdGhcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIC8qKiBBIGNvbGxlY3Rpb25zIG9mIGJhdGNoZXMhIFRoZXNlIGNhbiBiZSBkcmF3biBieSB0aGUgcmVuZGVyZXIgYmF0Y2ggc3lzdGVtLiAqL1xuICAgICAgICBfdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgIC8qKiBVcGRhdGUgZGlydHkgZm9yIGxpbWl0aW5nIGNhbGN1bGF0aW5nIHRpbnRzIGZvciBiYXRjaGVzLiAqL1xuICAgICAgICBfdGhpcy5iYXRjaFRpbnQgPSAtMTtcbiAgICAgICAgLyoqIFVwZGF0ZSBkaXJ0eSBmb3IgbGltaXRpbmcgY2FsY3VsYXRpbmcgYmF0Y2hlcy4qL1xuICAgICAgICBfdGhpcy5iYXRjaERpcnR5ID0gLTE7XG4gICAgICAgIC8qKiBDb3B5IG9mIHRoZSBvYmplY3QgdmVydGV4IGRhdGEuICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgICAgICAvKiogQ3VycmVudCBmaWxsIHN0eWxlLiAqL1xuICAgICAgICBfdGhpcy5fZmlsbFN0eWxlID0gbmV3IEZpbGxTdHlsZSgpO1xuICAgICAgICAvKiogQ3VycmVudCBsaW5lIHN0eWxlLiAqL1xuICAgICAgICBfdGhpcy5fbGluZVN0eWxlID0gbmV3IExpbmVTdHlsZSgpO1xuICAgICAgICAvKiogQ3VycmVudCBzaGFwZSB0cmFuc2Zvcm0gbWF0cml4LiAqL1xuICAgICAgICBfdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgLyoqIEN1cnJlbnQgaG9sZSBtb2RlIGlzIGVuYWJsZWQuICovXG4gICAgICAgIF90aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIEdyYXBoaWNzIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiZ2VvbWV0cnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb3IgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCBvbmx5IHRoZSBnZW9tZXRyeSBvZiB0aGUgb2JqZWN0IGlzIGNsb25lZCwgbm90IGl0cyB0cmFuc2Zvcm0gKHBvc2l0aW9uLHNjYWxlLGV0YylcbiAgICAgKiBAcmV0dXJucyAtIEEgY2xvbmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3ModGhpcy5fZ2VvbWV0cnkpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJibGVuZE1vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS4gIE5vdGUgdGhhdCwgc2luY2UgZWFjaFxuICAgICAgICAgKiBwcmltaXRpdmUgaW4gdGhlIEdyYXBoaWNzR2VvbWV0cnkgbGlzdCBpcyByZW5kZXJlZCBzZXF1ZW50aWFsbHksIG1vZGVzXG4gICAgICAgICAqIHN1Y2ggYXMgYFBJWEkuQkxFTkRfTU9ERVMuQUREYCBhbmQgYFBJWEkuQkxFTkRfTU9ERVMuTVVMVElQTFlgIHdpbGxcbiAgICAgICAgICogYmUgYXBwbGllZCBwZXItcHJpbWl0aXZlLlxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byBlYWNoIGdyYXBoaWMgc2hhcGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgICAgICogMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiZmlsbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBmaWxsIHN0eWxlLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwibGluZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBsaW5lIHN0eWxlLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGUgPSBmdW5jdGlvbiAob3B0aW9ucywgY29sb3IsIGFscGhhLCBhbGlnbm1lbnQsIG5hdGl2ZSkge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgICAgIGlmIChjb2xvciA9PT0gdm9pZCAwKSB7IGNvbG9yID0gMHgwOyB9XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMTsgfVxuICAgICAgICBpZiAoYWxpZ25tZW50ID09PSB2b2lkIDApIHsgYWxpZ25tZW50ID0gMC41OyB9XG4gICAgICAgIGlmIChuYXRpdmUgPT09IHZvaWQgMCkgeyBuYXRpdmUgPSBmYWxzZTsgfVxuICAgICAgICAvLyBTdXBwb3J0IG5vbi1vYmplY3QgcGFyYW1zOiAod2lkdGgsIGNvbG9yLCBhbHBoYSwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiBvcHRpb25zLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSwgYWxpZ25tZW50OiBhbGlnbm1lbnQsIG5hdGl2ZTogbmF0aXZlIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGluZVRleHR1cmVTdHlsZShvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpa2UgbGluZSBzdHlsZSBidXQgc3VwcG9ydCB0ZXh0dXJlIGZvciBsaW5lIGZpbGwuXG4gICAgICogQHBhcmFtIFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9ucyBmb3Igc2V0dGluZyBsaW5lIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlLlxuICAgICAqICBEZWZhdWx0IDB4RkZGRkZGIGlmIHRleHR1cmUgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gLSBUZXh0dXJlIG1hdHJpeCB0byB0cmFuc2Zvcm0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXRlcikuXG4gICAgICogICAgICAgIFdlYkdMIG9ubHkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5uYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9DQVB9W29wdGlvbnMuY2FwPVBJWEkuTElORV9DQVAuQlVUVF0gLSBsaW5lIGNhcCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0pPSU59W29wdGlvbnMuam9pbj1QSVhJLkxJTkVfSk9JTi5NSVRFUl0gLSBsaW5lIGpvaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn1bb3B0aW9ucy5taXRlckxpbWl0PTEwXSAtIG1pdGVyIGxpbWl0IHJhdGlvXG4gICAgICogQHJldHVybnMge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIC8vIEFwcGx5IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgICAgICAgIGNvbG9yOiAob3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmUpID8gMHhGRkZGRkYgOiAweDAsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIG1hdHJpeDogbnVsbCxcbiAgICAgICAgICAgIGFsaWdubWVudDogMC41LFxuICAgICAgICAgICAgbmF0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIGNhcDogTElORV9DQVAuQlVUVCxcbiAgICAgICAgICAgIGpvaW46IExJTkVfSk9JTi5NSVRFUixcbiAgICAgICAgICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpc2libGUgPSBvcHRpb25zLndpZHRoID4gMCAmJiBvcHRpb25zLmFscGhhID4gMDtcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fbGluZVN0eWxlLCB7IHZpc2libGU6IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydCBhIHBvbHlnb24gb2JqZWN0IGludGVybmFsbHkuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zdGFydFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBwb2x5Z29uIG9iamVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmZpbmlzaFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byB4LCB5LlxuICAgICAqIEBwYXJhbSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJucyAtIFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMF0gPSB4O1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1sxXSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBsaW5lIHVzaW5nIHRoZSBjdXJyZW50IGxpbmUgc3R5bGUgZnJvbSB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvICh4LCB5KTtcbiAgICAgKiBUaGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIGlzIHRoZW4gc2V0IHRvICh4LCB5KS5cbiAgICAgKiBAcGFyYW0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybnMgLSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMuLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjdXJ2ZVxuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2luaXRDdXJ2ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqIEBwYXJhbSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm5zIC0gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoKTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEBwYXJhbSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm5zIFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbyA9IGZ1bmN0aW9uIChjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICogQHBhcmFtIHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJucyAtIFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cykge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoeDEsIHkxKTtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB2YXIgcmVzdWx0ID0gQXJjVXRpbHMuY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgY3ggPSByZXN1bHQuY3gsIGN5ID0gcmVzdWx0LmN5LCByYWRpdXNfMSA9IHJlc3VsdC5yYWRpdXMsIHN0YXJ0QW5nbGUgPSByZXN1bHQuc3RhcnRBbmdsZSwgZW5kQW5nbGUgPSByZXN1bHQuZW5kQW5nbGUsIGFudGljbG9ja3dpc2UgPSByZXN1bHQuYW50aWNsb2Nrd2lzZTtcbiAgICAgICAgICAgIHRoaXMuYXJjKGN4LCBjeSwgcmFkaXVzXzEsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKiBAcGFyYW0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIGFudGljbG9ja3dpc2UgLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybnMgLSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyYyA9IGZ1bmN0aW9uIChjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpIHtcbiAgICAgICAgaWYgKGFudGljbG9ja3dpc2UgPT09IHZvaWQgMCkgeyBhbnRpY2xvY2t3aXNlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSkge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIGlmIChzd2VlcCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgKE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIHN0YXJ0WSA9IGN5ICsgKE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIGVwcyA9IHRoaXMuX2dlb21ldHJ5LmNsb3NlUG9pbnRFcHM7XG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50UGF0aCBleGlzdHMsIHRha2UgaXRzIHBvaW50cy4gT3RoZXJ3aXNlIGNhbGwgYG1vdmVUb2AgdG8gc3RhcnQgYSBwYXRoLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGgucG9pbnRzIDogbnVsbDtcbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgLy8gVE9ETzogbWFrZSBhIGJldHRlciBmaXguXG4gICAgICAgICAgICAvLyBXZSBjaGVjayBob3cgZmFyIG91ciBzdGFydCBpcyBmcm9tIHRoZSBsYXN0IGV4aXN0aW5nIHBvaW50XG4gICAgICAgICAgICB2YXIgeERpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdIC0gc3RhcnRYKTtcbiAgICAgICAgICAgIHZhciB5RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gLSBzdGFydFkpO1xuICAgICAgICAgICAgaWYgKHhEaWZmIDwgZXBzICYmIHlEaWZmIDwgZXBzKSA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgfVxuICAgICAgICBBcmNVdGlscy5hcmMoc3RhcnRYLCBzdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSwgcG9pbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICogQHBhcmFtIGNvbG9yIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIGFscGhhIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAgICogQHJldHVybnMgLSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIChjb2xvciwgYWxwaGEpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAwOyB9XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKHsgdGV4dHVyZTogVGV4dHVyZS5XSElURSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgdGV4dHVyZSBmaWxsXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPYmplY3Qgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHhmZmZmZmZdIC0gQmFja2dyb3VuZCB0byBmaWxsIGJlaGluZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gQWxwaGEgb2YgZmlsbFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpblRleHR1cmVGaWxsID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQXBwbHkgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgbWF0cml4OiBudWxsLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpc2libGUgPSBvcHRpb25zLmFscGhhID4gMDtcbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fZmlsbFN0eWxlLCB7IHZpc2libGU6IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZmlsbCB0byB0aGUgbGluZXMgYW5kIHNoYXBlcyB0aGF0IHdlcmUgYWRkZWQgc2luY2UgdGhlIGxhc3QgY2FsbCB0byB0aGUgYmVnaW5GaWxsKCkgbWV0aG9kLlxuICAgICAqIEByZXR1cm5zIC0gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRGaWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUgc2hhcGUuXG4gICAgICogQHBhcmFtIHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJucyAtIFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JlY3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGEgcmVjdGFuZ2xlIHNoYXBlIHdpdGggcm91bmRlZC9iZXZlbGVkIGNvcm5lcnMuXG4gICAgICogQHBhcmFtIHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gcmFkaXVzIC0gUmFkaXVzIG9mIHRoZSByZWN0YW5nbGUgY29ybmVyc1xuICAgICAqIEByZXR1cm5zIC0gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Um91bmRlZFJlY3QgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqIEBwYXJhbSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEByZXR1cm5zIC0gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKHgsIHksIHJhZGl1cykge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IENpcmNsZSh4LCB5LCByYWRpdXMpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICogQHBhcmFtIHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB3aWR0aCAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIGhlaWdodCAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEByZXR1cm5zIC0gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHBvbHlnb24gdXNpbmcgdGhlIGdpdmVuIHBhdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJbXXxQSVhJLklQb2ludERhdGFbXXxQSVhJLlBvbHlnb259IHBhdGggLSBUaGUgcGF0aCBkYXRhIHVzZWQgdG8gY29uc3RydWN0IHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm5zIC0gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwYXRoID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwYXRoW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRzO1xuICAgICAgICB2YXIgY2xvc2VTdHJva2UgPSB0cnVlOyAvLyAhIXRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgdmFyIHBvbHkgPSBwYXRoWzBdO1xuICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGhhcyBwb2ludHMuLlxuICAgICAgICBpZiAocG9seS5wb2ludHMpIHtcbiAgICAgICAgICAgIGNsb3NlU3Ryb2tlID0gcG9seS5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvbHkucG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGF0aFswXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBhdGhbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGFueSBzaGFwZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFNoYXBlIHRvIGRyYXdcbiAgICAgKiBAcmV0dXJucyAtIFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gKHNoYXBlKSB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdTaGFwZShzaGFwZSwgdGhpcy5fZmlsbFN0eWxlLmNsb25lKCksIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZHJhd0hvbGUoc2hhcGUsIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqIEByZXR1cm5zIC0gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIGdyYXBoaWNzIGNvbnNpc3RzIG9mIG9uZSByZWN0YW5nbGUsIGFuZCB0aHVzLCBjYW4gYmUgZHJhd24gbGlrZSBhIFNwcml0ZSBhbmRcbiAgICAgKiBtYXNrZWQgd2l0aCBnbC5zY2lzc29yLlxuICAgICAqIEByZXR1cm5zIC0gVHJ1ZSBpZiBvbmx5IDEgcmVjdC5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuaXNGYXN0UmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9nZW9tZXRyeS5ncmFwaGljc0RhdGE7XG4gICAgICAgIHJldHVybiBkYXRhLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgJiYgZGF0YVswXS5zaGFwZS50eXBlID09PSBTSEFQRVMuUkVDVFxuICAgICAgICAgICAgJiYgIWRhdGFbMF0ubWF0cml4XG4gICAgICAgICAgICAmJiAhZGF0YVswXS5ob2xlcy5sZW5ndGhcbiAgICAgICAgICAgICYmICEoZGF0YVswXS5saW5lU3R5bGUudmlzaWJsZSAmJiBkYXRhWzBdLmxpbmVTdHlsZS53aWR0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICAvLyBiYXRjaCBwYXJ0Li5cbiAgICAgICAgLy8gYmF0Y2ggaXQhXG4gICAgICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcbiAgICAgICAgaWYgKGdlb21ldHJ5LmJhdGNoYWJsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYmF0Y2hEaXJ0eSAhPT0gZ2VvbWV0cnkuYmF0Y2hEaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVsYXRlQmF0Y2hlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyQmF0Y2hlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBiYXRjaGluZy4uLlxuICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRpcmVjdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBQb3B1bGF0aW5nIGJhdGNoZXMgZm9yIHJlbmRlcmluZy4gKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3BvcHVsYXRlQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciBibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcbiAgICAgICAgdmFyIGxlbiA9IGdlb21ldHJ5LmJhdGNoZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSBnZW9tZXRyeS5iYXRjaERpcnR5O1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gbGVuO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnBvaW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRleERhdGEuYnVmZmVyLCBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLCBnSS5hdHRyaWJTaXplICogMik7XG4gICAgICAgICAgICB2YXIgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlciwgZ0kuYXR0cmliU3RhcnQgKiA0ICogMiwgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuICAgICAgICAgICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsIGdJLnN0YXJ0ICogMiwgZ0kuc2l6ZSk7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YTogdmVydGV4RGF0YSxcbiAgICAgICAgICAgICAgICBibGVuZE1vZGU6IGJsZW5kTW9kZSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzOiBpbmRpY2VzLFxuICAgICAgICAgICAgICAgIHV2czogdXZzLFxuICAgICAgICAgICAgICAgIF9iYXRjaFJHQjogaGV4MnJnYihjb2xvciksXG4gICAgICAgICAgICAgICAgX3RpbnRSR0I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGFscGhhOiBnSS5zdHlsZS5hbHBoYSxcbiAgICAgICAgICAgICAgICB3b3JsZEFscGhhOiAxXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5iYXRjaGVzW2ldID0gYmF0Y2g7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGJhdGNoZXMgdXNpbmcgdGhlIEJhdGhlZFJlbmRlcmVyIHBsdWdpblxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyQmF0Y2hlZCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAoIXRoaXMuYmF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVGludHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICBiYXRjaC53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogYmF0Y2guYWxwaGE7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKGJhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgZ3JhcGhpY3MgZGlyZWN0XG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJEaXJlY3QgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuX3Jlc29sdmVEaXJlY3RTaGFkZXIocmVuZGVyZXIpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIHZhciB3b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBzaGFkZXIudW5pZm9ybXM7XG4gICAgICAgIHZhciBkcmF3Q2FsbHMgPSBnZW9tZXRyeS5kcmF3Q2FsbHM7XG4gICAgICAgIC8vIGxldHMgc2V0IHRoZSB0cmFuc2ZvbXJcbiAgICAgICAgdW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgLy8gYW5kIHRoZW4gbGV0cyBzZXQgdGhlIHRpbnQuLlxuICAgICAgICB1bmlmb3Jtcy50aW50WzBdID0gKCgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzFdID0gKCgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMl0gPSAoKHRpbnQgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzNdID0gd29ybGRBbHBoYTtcbiAgICAgICAgLy8gdGhlIGZpcnN0IGRyYXcgY2FsbCwgd2UgY2FuIHNldCB0aGUgdW5pZm9ybXMgb2YgdGhlIHNoYWRlciBkaXJlY3RseSBoZXJlLlxuICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgd2UgY2FuIHRhY2sgYWR2YW50YWdlIG9mIHRoZSBzeW5jIGZ1bmN0aW9uIG9mIHBpeGkhXG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICAvLyB0aGVyZSBpcyBhIHdheSB0byBvcHRpbWlzZSB0aGlzLi5cbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChnZW9tZXRyeSwgc2hhZGVyKTtcbiAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICAvLyB0aGVuIHJlbmRlciB0aGUgcmVzdCBvZiB0aGVtLi4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZHJhd0NhbGxzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd0NhbGxEaXJlY3QocmVuZGVyZXIsIGdlb21ldHJ5LmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgc3BlY2lmaWMgRHJhd0NhbGxcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0gZHJhd0NhbGxcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckRyYXdDYWxsRGlyZWN0ID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBkcmF3Q2FsbCkge1xuICAgICAgICB2YXIgdGV4QXJyYXkgPSBkcmF3Q2FsbC50ZXhBcnJheSwgdHlwZSA9IGRyYXdDYWxsLnR5cGUsIHNpemUgPSBkcmF3Q2FsbC5zaXplLCBzdGFydCA9IGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgICB2YXIgZ3JvdXBUZXh0dXJlQ291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBncm91cFRleHR1cmVDb3VudDsgaisrKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4QXJyYXkuZWxlbWVudHNbal0sIGopO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodHlwZSwgc2l6ZSwgc3RhcnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgc2hhZGVyIGZvciBkaXJlY3QgcmVuZGVyaW5nXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZXNvbHZlRGlyZWN0U2hhZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLnBsdWdpbk5hbWU7XG4gICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBzaGFkZXIgaGVyZSwgd2UgY2FuIHVzZSB0aGUgZGVmYXVsdCBzaGFkZXIuXG4gICAgICAgICAgICAvLyBhbmQgdGhhdCBvbmx5IGdldHMgY3JlYXRlZCBpZiB3ZSBhY3R1YWxseSBuZWVkIGl0Li5cbiAgICAgICAgICAgIC8vIGJ1dCBtYXkgYmUgbW9yZSB0aGFuIG9uZSBwbHVnaW5zIGZvciBncmFwaGljc1xuICAgICAgICAgICAgaWYgKCFERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0pIHtcbiAgICAgICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5NQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBwcm9ncmFtID0gcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5fc2hhZGVyLnByb2dyYW07XG4gICAgICAgICAgICAgICAgREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdID0gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGFkZXIgPSBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICB9O1xuICAgIC8qKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBzaGFwZSBhcyBhIHJlY3RhbmdsZSBvYmplY3QuICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgLy8gc2tpcHBpbmcgd2hlbiBncmFwaGljcyBpcyBlbXB0eSwgbGlrZSBhIGNvbnRhaW5lclxuICAgICAgICBpZiAoIWdlb21ldHJ5LmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBnZW9tZXRyeS5ib3VuZHMsIG1pblggPSBfYS5taW5YLCBtaW5ZID0gX2EubWluWSwgbWF4WCA9IF9hLm1heFgsIG1heFkgPSBfYS5tYXhZO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKiBAcGFyYW0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm5zIC0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeS5jb250YWluc1BvaW50KEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcbiAgICB9O1xuICAgIC8qKiBSZWNhbGN1bGF0ZSB0aGUgdGludCBieSBhcHBseWluZyB0aW50IHRvIGJhdGNoZXMgdXNpbmcgR3JhcGhpY3MgdGludC4gKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVGludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIHZhciB0aW50UkdCID0gaGV4MnJnYih0aGlzLnRpbnQsIHRlbXApO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGJhdGNoVGludCA9IGJhdGNoLl9iYXRjaFJHQjtcbiAgICAgICAgICAgICAgICB2YXIgciA9ICh0aW50UkdCWzBdICogYmF0Y2hUaW50WzBdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIEl2YW4sIGNhbiB0aGlzIGJlIGRvbmUgaW4gb25lIGdvP1xuICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IChyIDw8IDE2KSArIChnIDw8IDgpICsgKGIgfCAwKTtcbiAgICAgICAgICAgICAgICBiYXRjaC5fdGludFJHQiA9IChjb2xvciA+PiAxNilcbiAgICAgICAgICAgICAgICAgICAgKyAoY29sb3IgJiAweGZmMDApXG4gICAgICAgICAgICAgICAgICAgICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIElmIHRoZXJlJ3MgYSB0cmFuc2Zvcm0gdXBkYXRlIG9yIGEgY2hhbmdlIHRvIHRoZSBzaGFwZSBvZiB0aGUgZ2VvbWV0cnksIHJlY2FsY3VsYXRlIHRoZSB2ZXJ0aWNlcy4gKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3dElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gd3RJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gd3RJRDtcbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LnBvaW50czsgLy8gYmF0Y2gudmVydGV4RGF0YU9yaWdpbmFsO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGQgKiB5KSArIChiICogeCkgKyB0eTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICogQHJldHVybnMgLSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvc2VQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuICAgICAgICBpZiAoY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRkIGV4dHJhIHBvaW50IGluIHRoZSBlbmQgYmVjYXVzZSBidWlsZExpbmUgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIHBvbHlnb24gaXMgY29tcGxldGVkLCBhbmQgaXMgYXZhaWxhYmxlIGZvciBoaXQgZGV0ZWN0aW9uXG4gICAgICAgICAgICAvLyAoZXZlbiBpZiB0aGUgZ3JhcGhpY3MgaXMgbm90IHJlbmRlcmVkIHlldClcbiAgICAgICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBtYXRyaXggdG8gdGhlIHBvc2l0aW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gTWF0cml4IHRvIHVzZSBmb3IgdHJhbnNmb3JtIGN1cnJlbnQgc2hhcGUuXG4gICAgICogQHJldHVybnMgLSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVnaW4gYWRkaW5nIGhvbGVzIHRvIHRoZSBsYXN0IGRyYXcgc2hhcGVcbiAgICAgKiBJTVBPUlRBTlQ6IGhvbGVzIG11c3QgYmUgZnVsbHkgaW5zaWRlIGEgc2hhcGUgdG8gd29ya1xuICAgICAqIEFsc28gd2VpcmRuZXNzIGVuc3VlcyBpZiBob2xlcyBvdmVybGFwIVxuICAgICAqIEVsbGlwc2VzLCBDaXJjbGVzLCBSZWN0YW5nbGVzIGFuZCBSb3VuZGVkIFJlY3RhbmdsZXMgY2Fubm90IGJlIGhvbGVzIG9yIGhvc3QgZm9yIGhvbGVzIGluIENhbnZhc1JlbmRlcmVyLFxuICAgICAqIHBsZWFzZSB1c2UgYG1vdmVUb2AgYGxpbmVUb2AsIGBxdWFkcmF0aWNDdXJ2ZVRvYCBpZiB5b3UgcmVseSBvbiBwaXhpLWxlZ2FjeSBidW5kbGUuXG4gICAgICogQHJldHVybnMgLSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5Ib2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZCBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZS5cbiAgICAgKiBAcmV0dXJucyAtIFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRIb2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTmV3IHJlbmRlcmluZyBiZWhhdmlvciBmb3Igcm91bmRlZCByZWN0YW5nbGVzOiBjaXJjdWxhciBhcmNzIGluc3RlYWQgb2YgcXVhZHJhdGljIGJlemllciBjdXJ2ZXMuXG4gICAgICogSW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZSwgd2UnbGwgZW5hYmxlIHRoaXMgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5uZXh0Um91bmRlZFJlY3RCZWhhdmlvciA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRlbXBvcmFyeSBwb2ludCB0byB1c2UgZm9yIGNvbnRhaW5zUG9pbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBHcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuICAgIHJldHVybiBHcmFwaGljcztcbn0oQ29udGFpbmVyKSk7XG5cbnZhciBncmFwaGljc1V0aWxzID0ge1xuICAgIGJ1aWxkUG9seTogYnVpbGRQb2x5LFxuICAgIGJ1aWxkQ2lyY2xlOiBidWlsZENpcmNsZSxcbiAgICBidWlsZFJlY3RhbmdsZTogYnVpbGRSZWN0YW5nbGUsXG4gICAgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlOiBidWlsZFJvdW5kZWRSZWN0YW5nbGUsXG4gICAgYnVpbGRMaW5lOiBidWlsZExpbmUsXG4gICAgQXJjVXRpbHM6IEFyY1V0aWxzLFxuICAgIEJlemllclV0aWxzOiBCZXppZXJVdGlscyxcbiAgICBRdWFkcmF0aWNVdGlsczogUXVhZHJhdGljVXRpbHMsXG4gICAgQmF0Y2hQYXJ0OiBCYXRjaFBhcnQsXG4gICAgRklMTF9DT01NQU5EUzogRklMTF9DT01NQU5EUyxcbiAgICBCQVRDSF9QT09MOiBCQVRDSF9QT09MLFxuICAgIERSQVdfQ0FMTF9QT09MOiBEUkFXX0NBTExfUE9PTFxufTtcblxuZXhwb3J0IHsgRmlsbFN0eWxlLCBHUkFQSElDU19DVVJWRVMsIEdyYXBoaWNzLCBHcmFwaGljc0RhdGEsIEdyYXBoaWNzR2VvbWV0cnksIExJTkVfQ0FQLCBMSU5FX0pPSU4sIExpbmVTdHlsZSwgZ3JhcGhpY3NVdGlscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhcGhpY3MubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0IC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL3RleHQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGhleDJzdHJpbmcsIGhleDJyZ2IsIHN0cmluZzJoZXgsIHRyaW1DYW52YXMsIHNpZ24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xudmFyIFRFWFRfR1JBRElFTlQ7XG4oZnVuY3Rpb24gKFRFWFRfR1JBRElFTlQpIHtcbiAgICBURVhUX0dSQURJRU5UW1RFWFRfR1JBRElFTlRbXCJMSU5FQVJfVkVSVElDQUxcIl0gPSAwXSA9IFwiTElORUFSX1ZFUlRJQ0FMXCI7XG4gICAgVEVYVF9HUkFESUVOVFtURVhUX0dSQURJRU5UW1wiTElORUFSX0hPUklaT05UQUxcIl0gPSAxXSA9IFwiTElORUFSX0hPUklaT05UQUxcIjtcbn0pKFRFWFRfR1JBRElFTlQgfHwgKFRFWFRfR1JBRElFTlQgPSB7fSkpO1xuXG4vLyBkaXNhYmxpbmcgZXNsaW50IGZvciBub3csIGdvaW5nIHRvIHJld3JpdGUgdGhpcyBpbiB2NVxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDAsXG59O1xudmFyIGdlbmVyaWNGb250RmFtaWxpZXMgPSBbXG4gICAgJ3NlcmlmJyxcbiAgICAnc2Fucy1zZXJpZicsXG4gICAgJ21vbm9zcGFjZScsXG4gICAgJ2N1cnNpdmUnLFxuICAgICdmYW50YXN5JyxcbiAgICAnc3lzdGVtLXVpJyBdO1xuLyoqXG4gKiBBIFRleHRTdHlsZSBPYmplY3QgY29udGFpbnMgaW5mb3JtYXRpb24gdG8gZGVjb3JhdGUgYSBUZXh0IG9iamVjdHMuXG4gKlxuICogQW4gaW5zdGFuY2UgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIFRleHQgb2JqZWN0czsgdGhlbiBjaGFuZ2luZyB0aGUgc3R5bGUgd2lsbCB1cGRhdGUgYWxsIHRleHQgb2JqZWN0cyB1c2luZyBpdC5cbiAqXG4gKiBBIHRvb2wgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYSB0ZXh0IHN0eWxlIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0U3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksXG4gICAgICogIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuYnJlYWtXb3Jkcz1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdFxuICAgICAqICBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmRyb3BTaGFkb3c9ZmFsc2VdIC0gU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QWxwaGE9MV0gLSBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FuZ2xlPU1hdGguUEkvNl0gLSBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dCbHVyPTBdIC0gU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0NvbG9yPSdibGFjayddIC0gQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZT01XSAtIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufSBbc3R5bGUuZmlsbD0nYmxhY2snXSAtIEEgY2FudmFzXG4gICAgICogIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy4gQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50XG4gICAgICogIGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5maWxsR3JhZGllbnRUeXBlPVBJWEkuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUxdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzXG4gICAgICogIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC4gU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW3N0eWxlLmZpbGxHcmFkaWVudFN0b3BzXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0XG4gICAgICogdGhlIHN0b3AgcG9pbnRzIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3N0eWxlLmZvbnRGYW1pbHk9J0FyaWFsJ10gLSBUaGUgZm9udCBmYW1pbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtzdHlsZS5mb250U2l6ZT0yNl0gLSBUaGUgZm9udCBzaXplIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLFxuICAgICAqICBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRTdHlsZT0nbm9ybWFsJ10gLSBUaGUgZm9udCBzdHlsZSAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRWYXJpYW50PSdub3JtYWwnXSAtIFRoZSBmb250IHZhcmlhbnQgKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRXZWlnaHQ9J25vcm1hbCddIC0gVGhlIGZvbnQgd2VpZ2h0ICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJyxcbiAgICAgKiAgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgJzgwMCcgb3IgJzkwMCcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZWFkaW5nPTBdIC0gVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxpbmVIZWlnaHRdIC0gVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUubGluZUpvaW49J21pdGVyJ10gLSBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmVcbiAgICAgKiAgICAgIHNwaWtlZCB0ZXh0IGlzc3Vlcy4gUG9zc2libGUgdmFsdWVzIFwibWl0ZXJcIiAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lciksIFwicm91bmRcIiAoY3JlYXRlcyBhIHJvdW5kIGNvcm5lcikgb3IgXCJiZXZlbFwiXG4gICAgICogICAgICAoY3JlYXRlcyBhIHNxdWFyZWQgY29ybmVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1pdGVyTGltaXQ9MTBdIC0gVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGUuIFRoaXMgY2FuIHJlZHVjZVxuICAgICAqICAgICAgb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUucGFkZGluZz0wXSAtIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb21cbiAgICAgKiAgICAgaGFwcGVuaW5nIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5zdHJva2U9J2JsYWNrJ10gLSBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICogIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuc3Ryb2tlVGhpY2tuZXNzPTBdIC0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiAgRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUudHJpbT1mYWxzZV0gLSBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLnRleHRCYXNlbGluZT0nYWxwaGFiZXRpYyddIC0gVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS53aGl0ZVNwYWNlPSdwcmUnXSAtIERldGVybWluZXMgd2hldGhlciBuZXdsaW5lcyAmIHNwYWNlcyBhcmUgY29sbGFwc2VkIG9yIHByZXNlcnZlZCBcIm5vcm1hbFwiXG4gICAgICogICAgICAoY29sbGFwc2UsIGNvbGxhcHNlKSwgXCJwcmVcIiAocHJlc2VydmUsIHByZXNlcnZlKSB8IFwicHJlLWxpbmVcIiAocHJlc2VydmUsIGNvbGxhcHNlKS4gSXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS53b3JkV3JhcD1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS53b3JkV3JhcFdpZHRoPTEwMF0gLSBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGVJRCA9IDA7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVGV4dFN0eWxlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLlxuICAgICAqXG4gICAgICogQHJldHVybiBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG4gICAgfTtcbiAgICAvKiogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0cyBzcGVjaWZpZWQgaW4gVGV4dFN0eWxlLnByb3RvdHlwZS5fZGVmYXVsdCAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBkZWZhdWx0U3R5bGUsIGRlZmF1bHRTdHlsZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYWxpZ24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gYWxpZ24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiYnJlYWtXb3Jkc1wiLCB7XG4gICAgICAgIC8qKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9icmVha1dvcmRzID0gYnJlYWtXb3JkcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dcIiwge1xuICAgICAgICAvKiogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3cgPSBkcm9wU2hhZG93O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0FscGhhXCIsIHtcbiAgICAgICAgLyoqIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSAhPT0gZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FscGhhID0gZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0FuZ2xlXCIsIHtcbiAgICAgICAgLyoqIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvdy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dCbHVyXCIsIHtcbiAgICAgICAgLyoqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1cy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dDb2xvclwiLCB7XG4gICAgICAgIC8qKiBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93Q29sb3IpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGRyb3BTaGFkb3dDb2xvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0Rpc3RhbmNlXCIsIHtcbiAgICAgICAgLyoqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvdy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93RGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgIT09IGRyb3BTaGFkb3dEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSA9IGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZpbGxcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLlxuICAgICAgICAgKlxuICAgICAgICAgKiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgLy8gVE9ETzogTm90IHN1cmUgaWYgZ2V0Q29sb3Igd29ya3MgcHJvcGVybHkgd2l0aCBDYW52YXNHcmFkaWVudCBhbmQvb3IgQ2FudmFzUGF0dGVybiwgY2FuJ3QgcGFzcyBpblxuICAgICAgICAgICAgLy8gICAgICAgd2l0aG91dCBjYXN0aW5nIGhlcmUuXG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihmaWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZpbGxHcmFkaWVudFR5cGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLlRFWFRfR1JBRElFTlRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGxHcmFkaWVudFR5cGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsR3JhZGllbnRTdG9wc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldCB0aGUgc3RvcCBwb2ludHNcbiAgICAgICAgICogKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGxHcmFkaWVudFN0b3BzKSB7XG4gICAgICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLCBmaWxsR3JhZGllbnRTdG9wcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRTdG9wcyA9IGZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udEZhbWlseVwiLCB7XG4gICAgICAgIC8qKiBUaGUgZm9udCBmYW1pbHkuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbnRGYW1pbHkgIT09IGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRTaXplXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgICAgICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRTaXplKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRTdHlsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAgICAgKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250U3R5bGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U3R5bGUgIT09IGZvbnRTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRWYXJpYW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHZhcmlhbnRcbiAgICAgICAgICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRWYXJpYW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRXZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgd2VpZ2h0XG4gICAgICAgICAqICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgODAwJyBvciAnOTAwJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFdlaWdodCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxldHRlclNwYWNpbmdcIiwge1xuICAgICAgICAvKiogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGluZUhlaWdodFwiLCB7XG4gICAgICAgIC8qKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGVhZGluZ1wiLCB7XG4gICAgICAgIC8qKiBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lcy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGVhZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxpbmVKb2luXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZSBzcGlrZWQgdGV4dCBpc3N1ZXMuXG4gICAgICAgICAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVKb2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsaW5lSm9pbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJtaXRlckxpbWl0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNhbiByZWR1Y2Ugb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInBhZGRpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmdcbiAgICAgICAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocGFkZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhZGRpbmcgIT09IHBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInN0cm9rZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJzdHJva2VUaGlja25lc3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2VUaGlja25lc3MgIT09IHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInRleHRCYXNlbGluZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEJhc2VsaW5lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0QmFzZWxpbmUgIT09IHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInRyaW1cIiwge1xuICAgICAgICAvKiogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmltO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0cmltKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid2hpdGVTcGFjZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAgICAgICAgICogRGVmYXVsdCBpcyAncHJlJyAocHJlc2VydmUsIHByZXNlcnZlKS5cbiAgICAgICAgICpcbiAgICAgICAgICogIHZhbHVlICAgICAgIHwgTmV3IGxpbmVzICAgICB8ICAgU3BhY2VzXG4gICAgICAgICAqICAtLS0gICAgICAgICB8IC0tLSAgICAgICAgICAgfCAgIC0tLVxuICAgICAgICAgKiAnbm9ybWFsJyAgICAgfCBDb2xsYXBzZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAgICAgKiAncHJlJyAgICAgICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBQcmVzZXJ2ZVxuICAgICAgICAgKiAncHJlLWxpbmUnICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aGl0ZVNwYWNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3doaXRlU3BhY2UgPSB3aGl0ZVNwYWNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid29yZFdyYXBcIiwge1xuICAgICAgICAvKiogSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdvcmRXcmFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXAgPSB3b3JkV3JhcDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIndvcmRXcmFwV2lkdGhcIiwge1xuICAgICAgICAvKiogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwV2lkdGggIT09IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcFdpZHRoID0gd29yZFdyYXBXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICAgICAqXG4gICAgICogQHJldHVybiBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS50b0ZvbnRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgICAgIHZhciBmb250U2l6ZVN0cmluZyA9ICh0eXBlb2YgdGhpcy5mb250U2l6ZSA9PT0gJ251bWJlcicpID8gdGhpcy5mb250U2l6ZSArIFwicHhcIiA6IHRoaXMuZm9udFNpemU7XG4gICAgICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgICAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgICAgIHZhciBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgICBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHkuc3BsaXQoJywnKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gZm9udEZhbWlsaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAvLyBUcmltIGFueSBleHRyYSB3aGl0ZS1zcGFjZVxuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICghKC8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLykudGVzdChmb250RmFtaWx5KSAmJiBnZW5lcmljRm9udEZhbWlsaWVzLmluZGV4T2YoZm9udEZhbWlseSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9IFwiXFxcIlwiICsgZm9udEZhbWlseSArIFwiXFxcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mb250U3R5bGUgKyBcIiBcIiArIHRoaXMuZm9udFZhcmlhbnQgKyBcIiBcIiArIHRoaXMuZm9udFdlaWdodCArIFwiIFwiICsgZm9udFNpemVTdHJpbmcgKyBcIiBcIiArIGZvbnRGYW1pbGllcy5qb2luKCcsJyk7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dFN0eWxlO1xufSgpKTtcbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gY29sb3JcbiAqIEByZXR1cm4gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBoZXgyc3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xufVxuZnVuY3Rpb24gZ2V0Q29sb3IoY29sb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIHJldHVybiBnZXRTaW5nbGVDb2xvcihjb2xvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufVxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGFycmF5MSAtIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSBhcnJheTIgLSBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiBEbyB0aGUgYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzIGluIHRoZSBzYW1lIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGFycmF5MSwgYXJyYXkyKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgaW50b1xuICogQHBhcmFtIHNvdXJjZSAtIFNvdXJjZSBvYmplY3QgZm9yIHRoZSBwcm9wZXJ0aWVzIHRvIGNvcHlcbiAqIEBwYXJhbSBwcm9wZXJ0eU9iaiAtIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydHlPYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIERlZmF1bHQgc2V0dGluZ3MgdXNlZCBmb3IgYWxsIGdldENvbnRleHQgY2FsbHNcbnZhciBjb250ZXh0U2V0dGluZ3MgPSB7XG4gICAgLy8gVGV4dE1ldHJpY3MgcmVxdWlyZXMgZ2V0SW1hZ2VEYXRhIHJlYWRiYWNrIGZvciBtZWFzdXJpbmcgZm9udHMuXG4gICAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlLFxufTtcbi8qKlxuICogVGhlIFRleHRNZXRyaWNzIG9iamVjdCByZXByZXNlbnRzIHRoZSBtZWFzdXJlbWVudCBvZiBhIGJsb2NrIG9mIHRleHQgd2l0aCBhIHNwZWNpZmllZCBzdHlsZS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHN0eWxlID0gbmV3IFBJWEkuVGV4dFN0eWxlKHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KVxuICogbGV0IHRleHRNZXRyaWNzID0gUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlVGV4dCgnWW91ciB0ZXh0Jywgc3R5bGUpXG4gKiBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0TWV0cmljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdGV4dCAtIHRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0gbGluZXMgLSBhbiBhcnJheSBvZiB0aGUgbGluZXMgb2YgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpZiBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0gbGluZVdpZHRocyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAqIEBwYXJhbSBsaW5lSGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICogQHBhcmFtIG1heExpbmVXaWR0aCAtIHRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAqIEBwYXJhbSB7UElYSS5JRm9udE1ldHJpY3N9IGZvbnRQcm9wZXJ0aWVzIC0gdGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCwgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcykge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5saW5lV2lkdGhzID0gbGluZVdpZHRocztcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgICAgIHRoaXMuZm9udFByb3BlcnRpZXMgPSBmb250UHJvcGVydGllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAgKiBAcGFyYW0gc3R5bGUgLSBUaGUgdGV4dCBzdHlsZSB0byB1c2UgZm9yIG1lYXN1cmluZ1xuICAgICAqIEBwYXJhbSB3b3JkV3JhcCAtIE92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gICAgICogQHBhcmFtIGNhbnZhcyAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJucyBNZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gKHRleHQsIHN0eWxlLCB3b3JkV3JhcCwgY2FudmFzKSB7XG4gICAgICAgIGlmIChjYW52YXMgPT09IHZvaWQgMCkgeyBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzOyB9XG4gICAgICAgIHdvcmRXcmFwID0gKHdvcmRXcmFwID09PSB1bmRlZmluZWQgfHwgd29yZFdyYXAgPT09IG51bGwpID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICAgICAgdmFyIGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIC8vIGZhbGxiYWNrIGluIGNhc2UgVUEgZGlzYWxsb3cgY2FudmFzIGRhdGEgZXh0cmFjdGlvblxuICAgICAgICAvLyAodG9EYXRhVVJJLCBnZXRJbWFnZURhdGEgZnVuY3Rpb25zKVxuICAgICAgICBpZiAoZm9udFByb3BlcnRpZXMuZm9udFNpemUgPT09IDApIHtcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5hc2NlbnQgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHZhciBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBUZXh0TWV0cmljcy53b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG91dHB1dFRleHQuc3BsaXQoLyg/OlxcclxcbnxcXHJ8XFxuKS8pO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoICsgKChsaW5lc1tpXS5sZW5ndGggLSAxKSAqIHN0eWxlLmxldHRlclNwYWNpbmcpO1xuICAgICAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3MpXG4gICAgICAgICAgICArICgobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpKTtcbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgbmV3bGluZXMgdG8gYSBzdHJpbmcgdG8gaGF2ZSBpdCBvcHRpbWFsbHkgZml0IGludG8gdGhlIGhvcml6b250YWxcbiAgICAgKiBib3VuZHMgc2V0IGJ5IHRoZSBUZXh0IG9iamVjdCdzIHdvcmRXcmFwV2lkdGggcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSBzdHlsZSAtIHRoZSBzdHlsZSB0byB1c2Ugd2hlbiB3cmFwcGluZ1xuICAgICAqIEBwYXJhbSBjYW52YXMgLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybnMgTmV3IHN0cmluZyB3aXRoIG5ldyBsaW5lcyBhcHBsaWVkIHdoZXJlIHJlcXVpcmVkXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3Mud29yZFdyYXAgPSBmdW5jdGlvbiAodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICBpZiAoY2FudmFzID09PSB2b2lkIDApIHsgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhczsgfVxuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgICAgIHZhciB3aWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gJyc7XG4gICAgICAgIHZhciBsaW5lcyA9ICcnO1xuICAgICAgICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmcsIHdoaXRlU3BhY2UgPSBzdHlsZS53aGl0ZVNwYWNlO1xuICAgICAgICAvLyBIb3cgdG8gaGFuZGxlIHdoaXRlc3BhY2VzXG4gICAgICAgIHZhciBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgICAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG4gICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHNwYWNlcyBtYXkgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgLy8gVGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAgICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgbGV0dGVyU3BhY2VcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgICAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgICAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgICAgICB2YXIgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc05ld2xpbmUodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCB0aGUgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGJvdGggdGhpcyBhbmQgdGhlIGxhc3QgdG9rZW5zIGZvciBzcGFjZXNcbiAgICAgICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UobGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAobGluZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3Jkcyh0b2tlbiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcmFjdGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IGNoYXJhY3RlcnNbaiArIGtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IHNwbGl0IGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmUgY2hhcnMgJiBtb3ZlIGZvcndhcmQgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaiArPSBjaGFyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdvcmQgY291bGQgZml0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhZGQgc3BhY2VzIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZpZW5pZW5jZSBmdW5jdGlvbiBmb3IgbG9nZ2luZyBlYWNoIGxpbmUgYWRkZWQgZHVyaW5nIHRoZSB3b3JkV3JhcCBtZXRob2QuXG4gICAgICogQHBhcmFtIGxpbmUgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgICAqIEBwYXJhbSBuZXdMaW5lIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICAgKiBAcmV0dXJucyBBIGZvcm1hdHRlZCBsaW5lXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuYWRkTGluZSA9IGZ1bmN0aW9uIChsaW5lLCBuZXdMaW5lKSB7XG4gICAgICAgIGlmIChuZXdMaW5lID09PSB2b2lkIDApIHsgbmV3TGluZSA9IHRydWU7IH1cbiAgICAgICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcbiAgICAgICAgbGluZSA9IChuZXdMaW5lKSA/IGxpbmUgKyBcIlxcblwiIDogbGluZTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICAgICAqIEBwYXJhbSBrZXkgICAgICAgICAgICAtIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gbGV0dGVyU3BhY2luZyAgLSBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gY2FjaGUgICAgICAgICAgLSBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gY29udGV4dCAgICAgICAgLSBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJucyBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoa2V5LCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCkge1xuICAgICAgICB2YXIgd2lkdGggPSBjYWNoZVtrZXldO1xuICAgICAgICBpZiAodHlwZW9mIHdpZHRoICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSAoKGtleS5sZW5ndGgpICogbGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoa2V5KS53aWR0aCArIHNwYWNpbmc7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBicmVha2luZyBzcGFjZXMuXG4gICAgICogQHBhcmFtIHdoaXRlU3BhY2UgLSBUaGUgVGV4dFN0eWxlIHByb3BlcnR5IHdoaXRlU3BhY2VcbiAgICAgKiBAcmV0dXJucyBTaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyA9IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcgfHwgd2hpdGVTcGFjZSA9PT0gJ3ByZS1saW5lJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ld0xpbmUgY2hhcnMuXG4gICAgICogQHBhcmFtIHdoaXRlU3BhY2UgLSBUaGUgd2hpdGUgc3BhY2VcbiAgICAgKiBAcmV0dXJucyAgc2hvdWxkIGNvbGxhcHNlXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyA9IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpbXMgYnJlYWtpbmcgd2hpdGVzcGFjZXMgZnJvbSBzdHJpbmcuXG4gICAgICogQHBhcmFtICB0ZXh0IC0gVGhlIHRleHRcbiAgICAgKiBAcmV0dXJucyBUcmltbWVkIHN0cmluZ1xuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRyaW1SaWdodCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAgICogQHBhcmFtICBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmlzTmV3bGluZSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBjaGFyIHNob3VsZCBiZSBhIGJyZWFraW5nIHdoaXRlc3BhY2VcbiAgICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqIEBwYXJhbSBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSBbX25leHRDaGFyXSAtIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgd2hpdGVzcGFjZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSA9IGZ1bmN0aW9uIChjaGFyLCBfbmV4dENoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNwbGl0cyBhIHN0cmluZyBpbnRvIHdvcmRzLCBicmVha2luZy1zcGFjZXMgYW5kIG5ld0xpbmUgY2hhcmFjdGVyc1xuICAgICAqIEBwYXJhbSAgdGV4dCAtIFRoZSB0ZXh0XG4gICAgICogQHJldHVybnMgIEEgdG9rZW5pemVkIGFycmF5XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MudG9rZW5pemUgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIHZhciB0b2tlbiA9ICcnO1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gdGV4dFtpICsgMV07XG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIsIG5leHRDaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbiArPSBjaGFyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbiAhPT0gJycpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBJdCBhbGxvd3Mgb25lIHRvIGN1c3RvbWlzZSB3aGljaCB3b3JkcyBzaG91bGQgYnJlYWtcbiAgICAgKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKiBAcGFyYW0gX3Rva2VuIC0gVGhlIHRva2VuXG4gICAgICogQHBhcmFtICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3JkcyA9IGZ1bmN0aW9uIChfdG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKiBAcGFyYW0gX2NoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtIF9uZXh0Q2hhciAtIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSBfdG9rZW4gLSBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgICAqIEBwYXJhbSBfaW5kZXggLSBUaGUgaW5kZXggaW4gdGhlIHRva2VuIG9mIHRoZSBjaGFyXG4gICAgICogQHBhcmFtIF9icmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJucyB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyA9IGZ1bmN0aW9uIChfY2hhciwgX25leHRDaGFyLCBfdG9rZW4sIF9pbmRleCwgX2JyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgdG9rZW4gKHVzdWFsbHkgYSB3b3JkKSBoYXMgdG8gYmUgc3BsaXQgaW50byBzZXBhcmF0ZSBwaWVjZXNcbiAgICAgKiBpbiBvcmRlciB0byBkZXRlcm1pbmUgdGhlIHBvaW50IHRvIGJyZWFrIGEgd29yZC5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ29ycmVjdGx5IHNwbGl0cyBlbW9qaXMsIGVnIFwi8J+kqvCfpKpcIiB3aWxsIHJlc3VsdCBpbiB0d28gZWxlbWVudCBhcnJheSwgZWFjaCB3aXRoIG9uZSBlbW9qaS5cbiAgICAgKiBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0ID0gKHRva2VuKSA9PiBbLi4udG9rZW5dO1xuICAgICAqIEBwYXJhbSAgdG9rZW4gLSBUaGUgdG9rZW4gdG8gc3BsaXRcbiAgICAgKiBAcmV0dXJucyBUaGUgY2hhcmFjdGVycyBvZiB0aGUgdG9rZW5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5zcGxpdCgnJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqIEBwYXJhbSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJucyBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgPSBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgYXNjZW50OiAwLFxuICAgICAgICAgICAgZGVzY2VudDogMCxcbiAgICAgICAgICAgIGZvbnRTaXplOiAwLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdmFyIG1ldHJpY3NTdHJpbmcgPSBUZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyArIFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTDtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQobWV0cmljc1N0cmluZykud2lkdGgpO1xuICAgICAgICB2YXIgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpLndpZHRoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChUZXh0TWV0cmljcy5IRUlHSFRfTVVMVElQTElFUiAqIGJhc2VsaW5lKTtcbiAgICAgICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIFRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgfCAwO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2YwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG4gICAgICAgIHZhciBpbWFnZWRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgICAgICB2YXIgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmUgPSB3aWR0aCAqIDQ7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBzdG9wID0gZmFsc2U7XG4gICAgICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggKz0gbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXMuYXNjZW50ID0gYmFzZWxpbmUgLSBpO1xuICAgICAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgICAgICBzdG9wID0gZmFsc2U7XG4gICAgICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXMuZGVzY2VudCA9IGkgLSBiYXNlbGluZTtcbiAgICAgICAgcHJvcGVydGllcy5mb250U2l6ZSA9IHByb3BlcnRpZXMuYXNjZW50ICsgcHJvcGVydGllcy5kZXNjZW50O1xuICAgICAgICBUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFyIGZvbnQgbWV0cmljcyBpbiBtZXRyaWNzIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9udF0gLSBmb250IG5hbWUuIElmIGZvbnQgbmFtZSBub3Qgc2V0IHRoZW4gY2xlYXIgY2FjaGUgZm9yIGFsbCBmb250cy5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jbGVhck1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICBpZiAoZm9udCA9PT0gdm9pZCAwKSB7IGZvbnQgPSAnJzsgfVxuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dE1ldHJpY3MsIFwiX2NhbnZhc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gICAgICAgICAqIFRPRE86IHRoaXMgc2hvdWxkIGJlIHByaXZhdGUsIGJ1dCBpc24ndCBiZWNhdXNlIG9mIGJhY2t3YXJkIGNvbXBhdCwgd2lsbCBmaXggbGF0ZXIuXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5fX2NhbnZhcykge1xuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT2Zmc2NyZWVuQ2FudmFzMkQgbWVhc3VyZVRleHQgY2FuIGJlIHVwIHRvIDQwJSBmYXN0ZXIuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gbmV3IE9mZnNjcmVlbkNhbnZhcygwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjLmdldENvbnRleHQoJzJkJywgY29udGV4dFNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5tZWFzdXJlVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVGV4dE1ldHJpY3MuX19jYW52YXMgPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcbiAgICAgICAgICAgICAgICBUZXh0TWV0cmljcy5fX2NhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fX2NhbnZhcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0TWV0cmljcywgXCJfY29udGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUT0RPOiB0aGlzIHNob3VsZCBiZSBwcml2YXRlLCBidXQgaXNuJ3QgYmVjYXVzZSBvZiBiYWNrd2FyZCBjb21wYXQsIHdpbGwgZml4IGxhdGVyLlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuX19jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgVGV4dE1ldHJpY3MuX19jb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX19jb250ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRleHRNZXRyaWNzO1xufSgpKTtcbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHByaXZhdGVcbiAqL1xuLyoqXG4gKiBDYWNoZSBvZiB7QHNlZSBQSVhJLlRleHRNZXRyaWNzLkZvbnRNZXRyaWNzfSBvYmplY3RzLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbi8qKlxuICogU3RyaW5nIHVzZWQgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBUaGVzZSBjaGFyYWN0ZXJzIGFyZSBhbGwgdGFsbCB0byBoZWxwIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IHJlcXVpcmVkIGZvciB0ZXh0LlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJccOFXG4gKi9cblRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gJ3zDiXHDhSc7XG4vKipcbiAqIEJhc2VsaW5lIHN5bWJvbCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9TWU1CT0xcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCBNXG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9ICdNJztcbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG4vKipcbiAqIEhlaWdodCBtdWx0aXBsaWVyIGZvciBzZXR0aW5nIGhlaWdodCBvZiBjYW52YXMgdG8gY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBIRUlHSFRfTVVMVElQTElFUlxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDIuMDBcbiAqL1xuVGV4dE1ldHJpY3MuSEVJR0hUX01VTFRJUExJRVIgPSAyLjA7XG4vKipcbiAqIENhY2hlIG9mIG5ldyBsaW5lIGNoYXJzLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9uZXdsaW5lcyA9IFtcbiAgICAweDAwMEEsXG4gICAgMHgwMDBEIF07XG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbXG4gICAgMHgwMDA5LFxuICAgIDB4MDAyMCxcbiAgICAweDIwMDAsXG4gICAgMHgyMDAxLFxuICAgIDB4MjAwMixcbiAgICAweDIwMDMsXG4gICAgMHgyMDA0LFxuICAgIDB4MjAwNSxcbiAgICAweDIwMDYsXG4gICAgMHgyMDA4LFxuICAgIDB4MjAwOSxcbiAgICAweDIwMEEsXG4gICAgMHgyMDVGLFxuICAgIDB4MzAwMCBdO1xuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBGb250IGFzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBGb250IGRlc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZVxuICovXG5cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuLyoqXG4gKiBBIFRleHQgT2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0LlxuICpcbiAqIFRoZSB0ZXh0IGlzIGNyZWF0ZWQgdXNpbmcgdGhlIFtDYW52YXMgQVBJXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzX0FQSSkuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBCaXRtYXBUZXh0IGlzIHRoYXQgeW91IGhhdmUgZ3JlYXQgY29udHJvbCBvdmVyIHRoZSBzdHlsZSBvZiB0aGUgdGV4dCxcbiAqIHdoaWNoIHlvdSBjYW4gY2hhbmdlIGF0IHJ1bnRpbWUuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlcyBpcyB0aGF0IGVhY2ggcGllY2Ugb2YgdGV4dCBoYXMgaXQncyBvd24gdGV4dHVyZSwgd2hpY2ggY2FuIHVzZSBtb3JlIG1lbW9yeS5cbiAqIFdoZW4gdGV4dCBjaGFuZ2VzLCB0aGlzIHRleHR1cmUgaGFzIHRvIGJlIHJlLWdlbmVyYXRlZCBhbmQgcmUtdXBsb2FkZWQgdG8gdGhlIEdQVSwgdGFraW5nIHVwIHRpbWUuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsIG9yLCBvbiB0aGUgYHN0eWxlYCBvYmplY3QsXG4gKiBjaGFuZ2UgaXRzIGB3b3JkV3JhcGAgcHJvcGVydHkgdG8gdHJ1ZSBhbmQgYW5kIGdpdmUgdGhlIGB3b3JkV3JhcFdpZHRoYCBwcm9wZXJ0eSBhIHZhbHVlLlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdCxcbiAqIHdoaWNoIGNhbiBiZSBnZW5lcmF0ZWQgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIGNhbnZhcyAtIFRoZSBjYW52YXMgZWxlbWVudCBmb3IgZHJhd2luZyB0ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dCh0ZXh0LCBzdHlsZSwgY2FudmFzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvd25DYW52YXMgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgICAgICAgICBvd25DYW52YXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fb3duQ2FudmFzID0gb3duQ2FudmFzO1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBmb3IgdHJpbW1pbmcgdG8gd29yayB3aXRob3V0IHdhcm5pbmdzXG4gICAgICAgICAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5fcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIF90aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG4gICAgICAgIF90aGlzLl90ZXh0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZm9udCA9ICcnO1xuICAgICAgICBfdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgX3RoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgX3RoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IHRvIGl0cyBjYW52YXMsIGFuZCB1cGRhdGVzIGl0cyB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCB0aGlzIGlzIHVzZWQgaW50ZXJuYWxseSB0byBlbnN1cmUgdGhlIHRleHR1cmUgaXMgY29ycmVjdCBiZWZvcmUgcmVuZGVyaW5nLFxuICAgICAqIGJ1dCBpdCBjYW4gYmUgdXNlZCBjYWxsZWQgZXh0ZXJuYWxseSwgZm9yIGV4YW1wbGUgZnJvbSB0aGlzIGNsYXNzIHRvICdwcmUtZ2VuZXJhdGUnIHRoZSB0ZXh0dXJlIGZyb20gYSBwaWVjZSBvZiB0ZXh0LFxuICAgICAqIGFuZCB0aGVuIHNoYXJlZCBhY3Jvc3MgbXVsdGlwbGUgU3ByaXRlcy5cbiAgICAgKiBAcGFyYW0gcmVzcGVjdERpcnR5IC0gV2hldGhlciB0byBhYm9ydCB1cGRhdGluZyB0aGUgdGV4dCBpZiB0aGUgVGV4dCBpc24ndCBkaXJ0eSBhbmQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gKHJlc3BlY3REaXJ0eSkge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgLy8gY2hlY2sgaWYgc3R5bGUgaGFzIGNoYW5nZWQuLlxuICAgICAgICBpZiAodGhpcy5sb2NhbFN0eWxlSUQgIT09IHN0eWxlLnN0eWxlSUQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSBzdHlsZS5zdHlsZUlEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB2YXIgbWVhc3VyZWQgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0IHx8ICcgJywgdGhpcy5fc3R5bGUsIHRoaXMuX3N0eWxlLndvcmRXcmFwLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgIHZhciB3aWR0aCA9IG1lYXN1cmVkLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgICAgICB2YXIgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBtZWFzdXJlZC5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IG1lYXN1cmVkLmZvbnRQcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIChzdHlsZS5wYWRkaW5nICogMikpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy5fcmVzb2x1dGlvbiwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblg7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZO1xuICAgICAgICAvLyByZXF1aXJlIDIgcGFzc2VzIGlmIGEgc2hhZG93OyB0aGUgZmlyc3QgdG8gZHJhdyB0aGUgZHJvcCBzaGFkb3csIHRoZSBzZWNvbmQgdG8gZHJhdyB0aGUgdGV4dFxuICAgICAgICB2YXIgcGFzc2VzQ291bnQgPSBzdHlsZS5kcm9wU2hhZG93ID8gMiA6IDE7XG4gICAgICAgIC8vIEZvciB2NCwgd2UgZHJldyB0ZXh0IGF0IHRoZSBjb2xvdXJzIG9mIHRoZSBkcm9wIHNoYWRvdyB1bmRlcm5lYXRoIHRoZSBub3JtYWwgdGV4dC4gVGhpcyBnYXZlIHRoZSBjb3JyZWN0IHpJbmRleCxcbiAgICAgICAgLy8gYnV0IGZlYXR1cmVzIHN1Y2ggYXMgYWxwaGEgYW5kIHNoYWRvd2JsdXIgZGlkIG5vdCBsb29rIHJpZ2h0IGF0IGFsbCwgc2luY2Ugd2Ugd2VyZSB1c2luZyBhY3R1YWwgdGV4dCBhcyBhIHNoYWRvdy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjAuMCwgd2UgbW92ZWQgb3ZlciB0byBqdXN0IHVzZSB0aGUgY2FudmFzIEFQSSBmb3IgZHJvcCBzaGFkb3dzLCB3aGljaCBtYWRlIHRoZW0gbG9vayBtdWNoIG5pY2VyIGFuZCBtb3JlXG4gICAgICAgIC8vIHZpc3VhbGx5IHBsZWFzZSwgYnV0IG5vdyBiZWNhdXNlIHRoZSBzdHJva2UgaXMgZHJhd24gYW5kIHRoZW4gdGhlIGZpbGwsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb24gYm90aCB0aGUgZmlsbFxuICAgICAgICAvLyBhbmQgdGhlIHN0cm9rZTsgYW5kIGZpbGwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvdmVyIHRoZSB0b3Agb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjEuMSwgdGhlIG5ldyByb3V0ZSBpcyB0byByZXZlcnQgdG8gdjQgc3R5bGUgb2YgZHJhd2luZyB0ZXh0IGZpcnN0IHRvIGdldCB0aGUgZHJvcCBzaGFkb3dzIHVuZGVybmVhdGggbm9ybWFsXG4gICAgICAgIC8vIHRleHQsIGJ1dCBpbnN0ZWFkIGRyYXdpbmcgdGV4dCBpbiB0aGUgY29ycmVjdCBsb2NhdGlvbiwgd2UnbGwgZHJhdyBpdCBvZmYgc2NyZWVuICgtcGFkZGluZ1kpLCBhbmQgdGhlbiBhZGp1c3QgdGhlXG4gICAgICAgIC8vIGRyb3Agc2hhZG93IHNvIG9ubHkgdGhhdCBhcHBlYXJzIG9uIHNjcmVlbiAoK3BhZGRpbmdZKS4gTm93IHdlJ2xsIGhhdmUgdGhlIGNvcnJlY3QgZHJhdyBvcmRlciBvZiB0aGUgc2hhZG93XG4gICAgICAgIC8vIGJlbmVhdGggdGhlIHRleHQsIHdoaWxzdCBhbHNvIGhhdmluZyB0aGUgcHJvcGVyIHRleHQgc2hhZG93IHN0eWxpbmcuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFzc2VzQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgd2FudCB0aGUgZHJvcCBzaGFkb3csIHNvIHB1dCB0ZXh0IHdheSBvZmYtc2NyZWVuXG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gTWF0aC5jZWlsKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSA6IDA7XG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKGlzU2hhZG93UGFzcykge1xuICAgICAgICAgICAgICAgIC8vIE9uIFNhZmFyaSwgdGV4dCB3aXRoIGdyYWRpZW50IGFuZCBkcm9wIHNoYWRvd3MgdG9nZXRoZXIgZG8gbm90IHBvc2l0aW9uIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzY2FsZSBvZiB0aGUgY2FudmFzIGlzIG5vdCAxOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk3Njg5XG4gICAgICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlJ2xsIHNldCB0aGUgc3R5bGVzIHRvIGJlIGEgcGxhaW4gYmxhY2sgd2hpbHN0IGdlbmVyYXRpbmcgdGhpcyBkcm9wIHNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICB2YXIgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgICAgIHZhciByZ2IgPSBoZXgycmdiKHR5cGVvZiBkcm9wU2hhZG93Q29sb3IgPT09ICdudW1iZXInID8gZHJvcFNoYWRvd0NvbG9yIDogc3RyaW5nMmhleChkcm9wU2hhZG93Q29sb3IpKTtcbiAgICAgICAgICAgICAgICB2YXIgZHJvcFNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1ciAqIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGRyb3BTaGFkb3dEaXN0YW5jZSA9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSAqIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIHJnYlswXSAqIDI1NSArIFwiLFwiICsgcmdiWzFdICogMjU1ICsgXCIsXCIgKyByZ2JbMl0gKiAyNTUgKyBcIixcIiArIHN0eWxlLmRyb3BTaGFkb3dBbHBoYSArIFwiKVwiO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gKE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2UpICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMsIG1lYXN1cmVkKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGluZVBvc2l0aW9uWVNoaWZ0ID0gKGxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5mb250U2l6ZSkgLyAyO1xuICAgICAgICAgICAgaWYgKCFUZXh0Lm5leHRMaW5lSGVpZ2h0QmVoYXZpb3IgfHwgbGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplIDwgMCkge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvbllTaGlmdCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgbGluZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSAoKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpICsgKGlfMSAqIGxpbmVIZWlnaHQpKSArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudFxuICAgICAgICAgICAgICAgICAgICArIGxpbmVQb3NpdGlvbllTaGlmdDtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2lfMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2lfMV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tpXzFdLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2lfMV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0gaXNTdHJva2UgLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kcmF3TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uICh0ZXh0LCB4LCB5LCBpc1N0cm9rZSkge1xuICAgICAgICBpZiAoaXNTdHJva2UgPT09IHZvaWQgMCkgeyBpc1N0cm9rZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcbiAgICAgICAgLy8gQ2hlY2tpbmcgdGhhdCB3ZSBjYW4gdXNlIG1vZGRlcm4gY2FudmFzMkQgYXBpXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vb3JpZ2ludHJpYWxzLyMvdmlld190cmlhbC8zNTg1OTkxMjAzMjkzNzU3NDQxXG4gICAgICAgIC8vIG5vdGU6IHRoaXMgaXMgdW5zdGFibGUgQVBJLCBDaHJvbWUgbGVzcyA5NCB1c2UgYSBgdGV4dExldHRlclNwYWNpbmdgLCBuZXdlc3QgdXNlIGEgbGV0dGVyU3BhY2luZ1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICB2YXIgc3VwcG9ydExldHRlclNwYWNpbmcgPSBUZXh0LmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdcbiAgICAgICAgICAgICYmICgnbGV0dGVyU3BhY2luZycgaW4gQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZVxuICAgICAgICAgICAgICAgIHx8ICd0ZXh0TGV0dGVyU3BhY2luZycgaW4gQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZSk7XG4gICAgICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwIHx8IHN1cHBvcnRMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICBpZiAoc3VwcG9ydExldHRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSB4O1xuICAgICAgICAvLyBVc2luZyBBcnJheS5mcm9tIGNvcnJlY3RseSBzcGxpdHMgY2hhcmFjdGVycyB3aGlsc3Qga2VlcGluZyBlbW9qaSB0b2dldGhlci5cbiAgICAgICAgLy8gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIGFzIGl0IHJlcXVpcmVzIEVTNiwgc28gcmVndWxhciB0ZXh0IHNwbGl0dGluZyBvY2N1cnMuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBkb2Vzbid0IGFjY291bnQgZm9yIGVtb2ppIHRoYXQgYXJlIG11bHRpcGxlIGVtb2ppIHB1dCB0b2dldGhlciB0byBtYWtlIHNvbWV0aGluZyBlbHNlLlxuICAgICAgICAvLyBIYW5kbGluZyBhbGwgb2YgdGhpcyB3b3VsZCByZXF1aXJlIGEgYmlnIGxpYnJhcnkgaXRzZWxmLlxuICAgICAgICAvLyBodHRwczovL21lZGl1bS5jb20vQGdpbHRheWFyL2l0ZXJhdGluZy1vdmVyLWVtb2ppLWNoYXJhY3RlcnMtdGhlLWVzNi13YXktZjA2ZTQ1ODk1MTZcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29ybGluZy9ncmFwaGVtZS1zcGxpdHRlclxuICAgICAgICB2YXIgc3RyaW5nQXJyYXkgPSBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh0ZXh0KSA6IHRleHQuc3BsaXQoJycpO1xuICAgICAgICB2YXIgcHJldmlvdXNXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICAgICAgdmFyIGN1cnJlbnRXaWR0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dFN0ciA9ICcnO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgc3RyaW5nQXJyYXkubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICB0ZXh0U3RyICs9IHN0cmluZ0FycmF5W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFdpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHRTdHIpLndpZHRoO1xuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHByZXZpb3VzV2lkdGggLSBjdXJyZW50V2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplLiAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pIHtcbiAgICAgICAgICAgIHZhciB0cmltbWVkID0gdHJpbUNhbnZhcyhjYW52YXMpO1xuICAgICAgICAgICAgaWYgKHRyaW1tZWQuZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRyaW1tZWQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdGV4dHVyZS50cmltLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgIHRleHR1cmUudHJpbS54ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUudHJpbS55ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdGV4dHVyZS5vcmlnLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlYWxTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudXBkYXRlVXZzKCk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvbiBhbGwgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIgZm9yIHJlbmRlcmluZy4gKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFRleHQucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIChza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIHRleHR1cmUgd2FzIHVwZGF0ZWQ6IHJlY2FsY3VsYXRlIHRyYW5zZm9ybXNcbiAgICAgICAgICAgIHNraXBVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRCb3VuZHMuY2FsbCh0aGlzLCBza2lwVXBkYXRlLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICogQHBhcmFtIHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgVGV4dCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LiAqL1xuICAgIFRleHQucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gICAgICogQHBhcmFtIHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICAgICAqIEBwYXJhbSBtZXRyaWNzXG4gICAgICogQHJldHVybnMgVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUsIGxpbmVzLCBtZXRyaWNzKSB7XG4gICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxsU3R5bGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsbFN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsU3R5bGVbMF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICB2YXIgZ3JhZGllbnQ7XG4gICAgICAgIC8vIGEgZHJvcHNoYWRvdyB3aWxsIGVubGFyZ2UgdGhlIGNhbnZhcyBhbmQgcmVzdWx0IGluIHRoZSBncmFkaWVudCBiZWluZ1xuICAgICAgICAvLyBnZW5lcmF0ZWQgd2l0aCB0aGUgaW5jb3JyZWN0IGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGRyb3BTaGFkb3dDb3JyZWN0aW9uID0gKHN0eWxlLmRyb3BTaGFkb3cpID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgICAgICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmcgfHwgMDtcbiAgICAgICAgdmFyIHdpZHRoID0gKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHZhciBoZWlnaHQgPSAodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgICAgICB2YXIgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgICAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuICAgICAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gICAgICAgIGZpbGwucHVzaChmaWxsU3R5bGVbZmlsbFN0eWxlLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgICAgICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIHBhZGRpbmcsIHdpZHRoIC8gMiwgaGVpZ2h0ICsgcGFkZGluZyk7XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBsYXN0TGluZUJvdHRvbSA9IChtZXRyaWNzLmxpbmVIZWlnaHQgKiAoaSAtIDEpKSArIHRleHRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0xpbmVHcmFkaWVudFN0YXJ0ID0gdGhpc0xpbmVUb3A7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgbGFzdCAmIHRoaXMgbGluZSBvdmVybGFwXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwICYmIGxhc3RMaW5lQm90dG9tID4gdGhpc0xpbmVUb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0xpbmVHcmFkaWVudFN0YXJ0ID0gKHRoaXNMaW5lVG9wICsgbGFzdExpbmVCb3R0b20pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNMaW5lQm90dG9tID0gdGhpc0xpbmVUb3AgKyB0ZXh0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciBuZXh0TGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIChpICsgMSk7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNMaW5lR3JhZGllbnRFbmQgPSB0aGlzTGluZUJvdHRvbTtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSB0aGlzICYgbmV4dCBsaW5lIG92ZXJsYXBcbiAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBsaW5lcy5sZW5ndGggJiYgbmV4dExpbmVUb3AgPCB0aGlzTGluZUJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzTGluZUdyYWRpZW50RW5kID0gKHRoaXNMaW5lQm90dG9tICsgbmV4dExpbmVUb3ApIC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGV4dEhlaWdodCwgYnV0IGFzIGEgMC0xIHNpemUgaW4gZ2xvYmFsIGdyYWRpZW50IHN0b3Agc3BhY2VcbiAgICAgICAgICAgICAgICB2YXIgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gKHRoaXNMaW5lR3JhZGllbnRFbmQgLSB0aGlzTGluZUdyYWRpZW50U3RhcnQpIC8gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAvLyAwLTEgc3RvcCBwb2ludCBmb3IgdGhlIGN1cnJlbnQgbGluZSwgbXVsdGlwbGllZCB0byBnbG9iYWwgc3BhY2UgYWZ0ZXJ3YXJkc1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGluZVN0b3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gaiAvIGZpbGwubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBnbG9iYWxTdG9wID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgKHRoaXNMaW5lR3JhZGllbnRTdGFydCAvIGhlaWdodCkgKyAobGluZVN0b3AgKiBncmFkU3RvcExpbmVIZWlnaHQpKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFN0b3AgPSBOdW1iZXIoZ2xvYmFsU3RvcC50b0ZpeGVkKDUpKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKGdsb2JhbFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogTm90ZSogVW5saWtlIGEgU3ByaXRlLCBhIFRleHQgb2JqZWN0IHdpbGwgYXV0b21hdGljYWxseSBkZXN0cm95IGl0cyBiYXNlVGV4dHVyZSBhbmQgdGV4dHVyZSBhc1xuICAgICAqIHRoZSBtYWpvcml0eSBvZiB0aGUgdGltZSB0aGUgdGV4dHVyZSB3aWxsIG5vdCBiZSBzaGFyZWQgd2l0aCBhbnkgb3RoZXIgU3ByaXRlcy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIC8vIHNldCBjYW52YXMgd2lkdGggYW5kIGhlaWdodCB0byAwIHRvIHdvcmthcm91bmQgbWVtb3J5IGxlYWsgaW4gU2FmYXJpIDwgMTNcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTI1MzI2MTQvdG90YWwtY2FudmFzLW1lbW9yeS11c2UtZXhjZWVkcy10aGUtbWF4aW11bS1saW1pdC1zYWZhcmktMTJcbiAgICAgICAgaWYgKHRoaXMuX293bkNhbnZhcykge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMud2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKiBUaGUgd2lkdGggb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwic3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGUgb2JqZWN0IGFuZCBtYXJrIHRoZSB0ZXh0IGFzIGRpcnR5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIElUZXh0U3R5bGVcbiAgICAgICAgICAgIC8vICAgICAgIHNpbmNlIHRoZSBzZXR0ZXIgY3JlYXRlcyB0aGUgVGV4dFN0eWxlLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcbiAgICAgICAgICAgIGlmIChzdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBUZXh0U3R5bGUoc3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcInRleHRcIiwge1xuICAgICAgICAvKiogU2V0IHRoZSBjb3B5IGZvciB0aGUgdGV4dCBvYmplY3QuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogdGV4dCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwicmVzb2x1dGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXNvbHV0aW9uID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogTmV3IGJlaGF2aW9yIGZvciBgbGluZUhlaWdodGAgdGhhdCdzIG1lYW50IHRvIG1pbWljIEhUTUwgdGV4dC4gQSB2YWx1ZSBvZiBgdHJ1ZWAgd2lsbFxuICAgICAqIG1ha2Ugc3VyZSB0aGUgZmlyc3QgYmFzZWxpbmUgaXMgb2Zmc2V0IGJ5IHRoZSBgbGluZUhlaWdodGAgdmFsdWUgaWYgaXQgaXMgZ3JlYXRlciB0aGFuIGBmb250U2l6ZWAuXG4gICAgICogQSB2YWx1ZSBvZiBgZmFsc2VgIHdpbGwgdXNlIHRoZSBsZWdhY3kgYmVoYXZpb3IgYW5kIG5vdCBjaGFuZ2UgdGhlIGJhc2VsaW5lIG9mIHRoZSBmaXJzdCBsaW5lLlxuICAgICAqIEluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UsIHdlJ2xsIGVuYWJsZSB0aGlzIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgVGV4dC5uZXh0TGluZUhlaWdodEJlaGF2aW9yID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogTmV3IHJlbmRlcmluZyBiZWhhdmlvciBmb3IgbGV0dGVyLXNwYWNpbmcgd2hpY2ggdXNlcyBDaHJvbWUncyBuZXcgbmF0aXZlIEFQSS4gVGhpcyB3aWxsXG4gICAgICogbGVhZCB0byBtb3JlIGFjY3VyYXRlIGxldHRlci1zcGFjaW5nIHJlc3VsdHMgYmVjYXVzZSBpdCBkb2VzIG5vdCB0cnkgdG8gbWFudWFsbHkgZHJhd1xuICAgICAqIGVhY2ggY2hhcmFjdGVyLiBIb3dldmVyLCB0aGlzIENocm9tZSBBUEkgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgbm90IHNlcnZlIGFsbCBjYXNlcyB5ZXQuXG4gICAgICovXG4gICAgVGV4dC5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuIFRleHQ7XG59KFNwcml0ZSkpO1xuXG5leHBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0LCBUZXh0TWV0cmljcywgVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0Lm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlIC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEJvdW5kcywgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4vKipcbiAqIFRoZSBTcHJpdGUgb2JqZWN0IGlzIHRoZSBiYXNlIGZvciBhbGwgdGV4dHVyZWQgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCB0byB0aGUgc2NyZWVuXG4gKlxuICogQSBzcHJpdGUgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhbiBpbWFnZSBsaWtlIHRoaXM6XG4gKlxuICogYGBganNcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgd2F5IHRvIGNyZWF0ZSBzcHJpdGVzIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9LFxuICogYXMgc3dhcHBpbmcgYmFzZSB0ZXh0dXJlcyB3aGVuIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIGlzIGluZWZmaWNpZW50LlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgbGV0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTcHJpdGUsIF9zdXBlcik7XG4gICAgLyoqIEBwYXJhbSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlLiAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KF90aGlzLl9vbkFuY2hvclVwZGF0ZSwgX3RoaXMsICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwKSwgKHRleHR1cmUgPyB0ZXh0dXJlLmRlZmF1bHRBbmNob3IueSA6IDApKTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgX3RoaXMuX3RpbnQgPSBudWxsO1xuICAgICAgICBfdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICBfdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICBfdGhpcy51dnMgPSBudWxsO1xuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICBfdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgLy8gQmF0Y2hhYmxlIHN0dWZmLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCBtYWtlIHRoaXMgYSBtaXhpbj9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKiogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZS4gKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gc2lnbih0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIENhbGxlZCB3aGVuIHRoZSBhbmNob3IgcG9zaXRpb24gdXBkYXRlcy4gKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vbkFuY2hvclVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgfTtcbiAgICAvKiogQ2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhLiAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIHRleHR1cmUgVVYgaGVyZSwgYmVjYXVzZSBiYXNlIHRleHR1cmUgY2FuIGJlIGNoYW5nZWQgd2l0aG91dCBjYWxsaW5nIGBfb25UZXh0dXJlVXBkYXRlYFxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgLy8gc2V0IHRoZSB2ZXJ0ZXggZGF0YVxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy5cbiAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKGFuY2hvci5feCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChhbmNob3IuX3kgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG4gICAgICAgICAgICBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKCh2ZXJ0ZXhEYXRhW2ldICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcyBmb3IgYSBub24gdGV4dHVyZSB3aXRoIGEgdHJpbS4gc3RvcmUgaXQgaW4gdmVydGV4VHJpbW1lZERhdGEuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodCBvZiBhIHRyaW1tZWQgdGV4dHVyZSBpcyByZXNwZWN0ZWQuXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSB0aGUgbmV3IHVudHJpbW1lZCBib3VuZHMuLlxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgdzAgPSB3MSArIG9yaWcud2lkdGg7XG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS4gKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0cmltID0gdGhpcy5fdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRoaXMuX3RleHR1cmUub3JpZztcbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8ICh0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkpIHtcbiAgICAgICAgICAgIC8vIG5vIHRyaW0hIGxldHMgdXNlIHRoZSB1c3VhbCBjYWxjdWxhdGlvbnMuLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIGEgc3BlY2lhbCB0cmltbWVkIGJvdW5kcy4uLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHJlY3QgLSBPcHRpb25hbCBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsQm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBzcHJpdGVcbiAgICAgKiBAcGFyYW0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm5zIFRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbnVsbDtcbiAgICAgICAgdmFyIGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zLi5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgID8gc291cmNlXG4gICAgICAgICAgICA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9LlxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgc3ByaXRlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0YWtlbiBmcm9tIHRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfFRleHR1cmV9XG4gICAgICAgICAqIGFuZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSBzcHJpdGUncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHNwcml0ZSdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgc3ByaXRlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHlvdSBwYXNzIG9ubHkgc2luZ2xlIHBhcmFtZXRlciwgaXQgd2lsbCBzZXQgYm90aCB4IGFuZCB5IHRvIHRoZSBzYW1lIHZhbHVlIGFzIHNob3duIGluIHRoZSBleGFtcGxlIGJlbG93LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ByaXRlLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKiogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU3ByaXRlO1xufShDb250YWluZXIpKTtcblxuZXhwb3J0IHsgU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wcmVwYXJlIC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL3ByZXBhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBFeHRlbnNpb25UeXBlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgVGV4dCwgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQG5hbWUgVVBMT0FEU19QRVJfRlJBTUVcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA0XG4gKi9cbnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQ291bnRMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ291bnRMaW1pdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ291bnRMaW1pdGVyKG1heEl0ZW1zUGVyRnJhbWUpIHtcbiAgICAgICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSAwO1xuICAgIH1cbiAgICAvKiogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLiAqL1xuICAgIENvdW50TGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAgICogQHJldHVybnMgSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICAgKi9cbiAgICBDb3VudExpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xuICAgIH07XG4gICAgcmV0dXJuIENvdW50TGltaXRlcjtcbn0oKSk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIG11bHRpcGxlIHRleHR1cmVzIGZyb20gb2JqZWN0cyBsaWtlIEFuaW1hdGVkU3ByaXRlcy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybnMgSWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIC8vIE9iamVjdHMgd2l0aCBtdWx0aXBsZSB0ZXh0dXJlc1xuICAgIGlmIChpdGVtICYmIGl0ZW0uX3RleHR1cmVzICYmIGl0ZW0uX3RleHR1cmVzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoYmFzZVRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFRleHR1cmUuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm5zIElmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtLmJhc2VUZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIHRleHR1cmVzIGZyb20gb2JqZWN0cy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybnMgSWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGRyYXcgUElYSS5UZXh0IHRvIGl0cyB0ZXh0dXJlLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBfaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJucyBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoX2hlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBfaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJucyBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlVGV4dFN0eWxlKF9oZWxwZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG4gICAgICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dCBvYmplY3RzLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJucyBpZiBhIFBJWEkuVGV4dCBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dChpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dFN0eWxlIG9iamVjdHMuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm5zIElmIGEgUElYSS5UZXh0U3R5bGUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBCYXNlUHJlcGFyZSBoYW5kbGVzIGJhc2ljIHF1ZXVpbmcgZnVuY3Rpb25hbGl0eSBhbmQgaXMgZXh0ZW5kZWQgYnlcbiAqIHtAbGluayBQSVhJLlByZXBhcmV9IGFuZCB7QGxpbmsgUElYSS5DYW52YXNQcmVwYXJlfVxuICogdG8gcHJvdmlkZSBwcmVwYXJhdGlvbiBjYXBhYmlsaXRpZXMgc3BlY2lmaWMgdG8gdGhlaXIgcmVzcGVjdGl2ZSByZW5kZXJlcnMuXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgc3ByaXRlXG4gKiBjb25zdCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJyk7XG4gKlxuICogLy8gTG9hZCBvYmplY3QgaW50byBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKHNwcml0ZSwgKCkgPT4ge1xuICpcbiAqICAgICAvL1RleHR1cmUocykgaGFzIGJlZW4gdXBsb2FkZWQgdG8gR1BVXG4gKiAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XG4gKlxuICogfSlcbiAqIEBhYnN0cmFjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VQcmVwYXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5saW1pdGVyID0gbmV3IENvdW50TGltaXRlcihzZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gW107XG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVsYXllZFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB1bmxpa2VseSwgYnV0IGluIGNhc2Ugd2Ugd2VyZSBkZXN0cm95ZWQgYmV0d2VlbiB0aWNrKCkgYW5kIGRlbGF5ZWRUaWNrKClcbiAgICAgICAgICAgIGlmICghX3RoaXMucXVldWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wcmVwYXJlSXRlbXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaG9va3MgdG8gZmluZCB0aGUgY29ycmVjdCB0ZXh0dXJlXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuICAgICAgICAvLyB1cGxvYWQgaG9va3NcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhjYWxjdWxhdGVUZXh0U3R5bGUpO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAoaXRlbSwgZG9uZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRvbmUgPSBpdGVtO1xuICAgICAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc2LjUuMCcsICdCYXNlUHJlcGFyZS51cGxvYWQgY2FsbGJhY2sgaXMgZGVwcmVjYXRlZCwgdXNlIHRoZSByZXR1cm4gUHJvbWlzZSBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgICAgICAgICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGRvbmUgY2FsbGJhY2sgYW5kIGp1c3QgdXNlIHJlc29sdmVcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb25lID09PSBudWxsIHx8IGRvbmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvbmUoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBpdGVtcyBmb3IgdXBsb2FkIGZyb20gdGhlIGRpc3BsYXlcbiAgICAgICAgICAgIGlmIChfdGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb21wbGV0ZXMucHVzaChjb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRpY2tpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UoX3RoaXMudGljaywgX3RoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcmVwYXJlIGl0ZW1zLiBUaGlzIGlzIGhhbmRsZWQgb3V0c2lkZSBvZiB0aGUgdGljayBiZWNhdXNlIGl0IHdpbGwgdGFrZSBhIHdoaWxlXG4gICAgICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5wcmVwYXJlSXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgICAgIC8vIFVwbG9hZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnF1ZXVlWzBdO1xuICAgICAgICAgICAgdmFyIHVwbG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAhaXRlbS5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXVwbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3JlIGZpbmlzaGVkXG4gICAgICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbaV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgZmluaXNoZWQsIG9uIHRoZSBuZXh0IHJBRiBkbyB0aGlzIGFnYWluXG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIGZpbmRpbmcgaXRlbXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJucyBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlckZpbmRIb29rID0gZnVuY3Rpb24gKGFkZEhvb2spIHtcbiAgICAgICAgaWYgKGFkZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSG9va3MucHVzaChhZGRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICogQHJldHVybnMgSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gKHVwbG9hZEhvb2spIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hbnVhbGx5IGFkZCBhbiBpdGVtIHRvIHRoZSB1cGxvYWRpbmcgcXVldWUuXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR8Kn0gaXRlbSAtIE9iamVjdCB0b1xuICAgICAqICAgICAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gICAgICogQHJldHVybnMgSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgICAgICAvLyB0eXBlcyBvZiBvYmplY3RzIHRoYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gaXRlbS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLiAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VQcmVwYXJlO1xufSgpKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJucyBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJucyBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pIHtcbiAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGdlb21ldHJ5ID0gaXRlbS5nZW9tZXRyeTtcbiAgICAvLyB1cGRhdGUgZGlydHkgZ3JhcGhpY3MgdG8gZ2V0IGJhdGNoZXNcbiAgICBpdGVtLmZpbmlzaFBvbHkoKTtcbiAgICBnZW9tZXRyeS51cGRhdGVCYXRjaGVzKCk7XG4gICAgdmFyIGJhdGNoZXMgPSBnZW9tZXRyeS5iYXRjaGVzO1xuICAgIC8vIHVwbG9hZCBhbGwgdGV4dHVyZXMgZm91bmQgaW4gc3R5bGVzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gYmF0Y2hlc1tpXS5zdHlsZS50ZXh0dXJlO1xuICAgICAgICBpZiAodGV4dHVyZSkge1xuICAgICAgICAgICAgdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCB0ZXh0dXJlLmJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBpdHMgbm90IGJhdGNoYWJsZSAtIHVwZGF0ZSB2YW8gZm9yIHBhcnRpY3VsYXIgc2hhZGVyXG4gICAgaWYgKCFnZW9tZXRyeS5iYXRjaGFibGUpIHtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChnZW9tZXRyeSwgaXRlbS5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcikpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIGdyYXBoaWNzLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJucyBpZiBhIFBJWEkuR3JhcGhpY3Mgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcykge1xuICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBUaGUgcHJlcGFyZSBwbHVnaW4gcHJvdmlkZXMgcmVuZGVyZXItc3BlY2lmaWMgcGx1Z2lucyBmb3IgcHJlLXJlbmRlcmluZyBEaXNwbGF5T2JqZWN0cy4gVGhlc2UgcGx1Z2lucyBhcmUgdXNlZnVsIGZvclxuICogYXN5bmNocm9ub3VzbHkgcHJlcGFyaW5nIGFuZCB1cGxvYWRpbmcgdG8gdGhlIEdQVSBhc3NldHMsIHRleHR1cmVzLCBncmFwaGljcyB3YWl0aW5nIHRvIGJlIGRpc3BsYXllZC5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhpcyBwbHVnaW4gZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHJpZ2h0IGF3YXlcbiAqIGFwcC5zdG9wKCk7XG4gKlxuICogLy8gY3JlYXRlIGEgZGlzcGxheSBvYmplY3RcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIHRvIHRoZSBzdGFnZVxuICogYXBwLnN0YWdlLmFkZENoaWxkKHJlY3QpO1xuICpcbiAqIC8vIERvbid0IHN0YXJ0IHJlbmRlcmluZyB1bnRpbCB0aGUgZ3JhcGhpYyBpcyB1cGxvYWRlZCB0byB0aGUgR1BVXG4gKiBhcHAucmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnVwbG9hZChhcHAuc3RhZ2UsICgpID0+IHtcbiAqICAgICBhcHAuc3RhcnQoKTtcbiAqIH0pO1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFByZXBhcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByZXBhcmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudXBsb2FkSG9va0hlbHBlciA9IF90aGlzLnJlbmRlcmVyO1xuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgUHJlcGFyZS5leHRlbnNpb24gPSB7XG4gICAgICAgIG5hbWU6ICdwcmVwYXJlJyxcbiAgICAgICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpbixcbiAgICB9O1xuICAgIHJldHVybiBQcmVwYXJlO1xufShCYXNlUHJlcGFyZSkpO1xuXG4vKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbWVMaW1pdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAcGFyYW0gbWF4TWlsbGlzZWNvbmRzIC0gVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLiAqL1xuICAgIGZ1bmN0aW9uIFRpbWVMaW1pdGVyKG1heE1pbGxpc2Vjb25kcykge1xuICAgICAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbiAgICB9XG4gICAgLyoqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS4gKi9cbiAgICBUaW1lTGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICAgKiBAcmV0dXJucyAtIElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbiAgICB9O1xuICAgIHJldHVybiBUaW1lTGltaXRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEJhc2VQcmVwYXJlLCBDb3VudExpbWl0ZXIsIFByZXBhcmUsIFRpbWVMaW1pdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVwYXJlLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlc2hlZXQgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlc2hlZXQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBFeHRlbnNpb25UeXBlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZXNvbHV0aW9uT2ZVcmwsIGRlcHJlY2F0aW9uLCB1cmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIFRvIGFjY2VzcyBhIHNwcml0ZSBzaGVldCBmcm9tIHlvdXIgY29kZSB5b3UgbWF5IHBhc3MgaXRzIEpTT04gZGF0YSBmaWxlIHRvIFBpeGkncyBsb2FkZXI6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEFsdGVybmF0ZWx5LCB5b3UgbWF5IGNpcmN1bXZlbnQgdGhlIGxvYWRlciBieSBpbnN0YW50aWF0aW5nIHRoZSBTcHJpdGVzaGVldCBkaXJlY3RseTpcbiAqIGBgYGpzXG4gKiBjb25zdCBzaGVldCA9IG5ldyBQSVhJLlNwcml0ZXNoZWV0KHRleHR1cmUsIHNwcml0ZXNoZWV0RGF0YSk7XG4gKiBhd2FpdCBzaGVldC5wYXJzZSgpO1xuICogY29uc29sZS5sb2coJ1Nwcml0ZXNoZWV0IHJlYWR5IHRvIHVzZSEnKTtcbiAqIGBgYFxuICpcbiAqIFdpdGggdGhlIGBzaGVldC50ZXh0dXJlc2AgeW91IGNhbiBjcmVhdGUgU3ByaXRlIG9iamVjdHMsYHNoZWV0LmFuaW1hdGlvbnNgIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiBBbmltYXRlZFNwcml0ZS5cbiAqXG4gKiBTcHJpdGUgc2hlZXRzIGNhbiBiZSBwYWNrZWQgdXNpbmcgdG9vbHMgbGlrZSB7QGxpbmsgaHR0cHM6Ly9jb2RlYW5kd2ViLmNvbS90ZXh0dXJlcGFja2VyfFRleHR1cmVQYWNrZXJ9LFxuICoge0BsaW5rIGh0dHBzOi8vcmVuZGVyaGpzLm5ldC9zaG9lYm94L3xTaG9lYm94fSBvciB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2tyenlzenRvZi1vL3Nwcml0ZXNoZWV0LmpzfFNwcml0ZXNoZWV0LmpzfS5cbiAqIERlZmF1bHQgYW5jaG9yIHBvaW50cyAoc2VlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0pIGFuZCBncm91cGluZyBvZiBhbmltYXRpb24gc3ByaXRlcyBhcmUgY3VycmVudGx5IG9ubHlcbiAqIHN1cHBvcnRlZCBieSBUZXh0dXJlUGFja2VyLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgQmFzZVRleHR1cmUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gU3ByaXRlc2hlZXQgaW1hZ2UgZGF0YS5cbiAgICAgKiBAcGFyYW0gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIGNvbnNpZGVyIHdoZW4gZGV0ZXJtaW5pbmdcbiAgICAgKiAgICAgICAgdGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBpbWFnZVVybCB3aWxsXG4gICAgICogICAgICAgIGJlIHVzZWQgb24gdGhlIEJhc2VUZXh0dXJlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZXNoZWV0KHRleHR1cmUsIGRhdGEsIHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICBpZiAocmVzb2x1dGlvbkZpbGVuYW1lID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbDsgfVxuICAgICAgICAvKiogRm9yIG11bHRpLXBhY2tlZCBzcHJpdGVzaGVldHMsIHRoaXMgY29udGFpbnMgYSByZWZlcmVuY2UgdG8gYWxsIHRoZSBvdGhlciBzcHJpdGVzaGVldHMgaXQgZGVwZW5kcyBvbi4gKi9cbiAgICAgICAgdGhpcy5saW5rZWRTaGVldHMgPSBbXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZSA6IG51bGw7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUgPyB0ZXh0dXJlIDogdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUgfHwgKHJlc291cmNlID8gcmVzb3VyY2UudXJsIDogbnVsbCkpO1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgcmVzb2x1dGlvbiBmcm9tIHRoZSBmaWxlbmFtZSBvciBmYWxsYmFja1xuICAgICAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gICAgICogQHBhcmFtIHJlc29sdXRpb25GaWxlbmFtZSAtIFRoZSBmaWxlbmFtZSB0byB1c2UgZm9yIHJlc29sdmluZ1xuICAgICAqICAgICAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm5zIFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3VwZGF0ZVJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbkZpbGVuYW1lKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uRmlsZW5hbWUgPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsOyB9XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuICAgICAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG4gICAgICAgIC8vIE5vIHJlc29sdXRpb24gZm91bmQgdmlhIFVSTFxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBzY2FsZSB2YWx1ZSBvciBkZWZhdWx0IHRvIDFcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzY2FsZSAhPT0gdW5kZWZpbmVkID8gcGFyc2VGbG9hdChzY2FsZSkgOiAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgfTtcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc2LjUuMCcsICdTcHJpdGVzaGVldC5wYXJzZSBjYWxsYmFjayBpcyBkZXByZWNhdGVkLCB1c2UgdGhlIHJldHVybiBQcm9taXNlIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBfdGhpcy5fY2FsbGJhY2sgPSBmdW5jdGlvbiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2sodGV4dHVyZXMpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGV4dHVyZXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCA8PSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3NGcmFtZXMoMCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgYmF0Y2ggb2YgZnJhbWVzXG4gICAgICogQHBhcmFtIGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0ZyYW1lcyA9IGZ1bmN0aW9uIChpbml0aWFsRnJhbWVJbmRleCkge1xuICAgICAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgICAgICB2YXIgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcbiAgICAgICAgd2hpbGUgKGZyYW1lSW5kZXggLSBpbml0aWFsRnJhbWVJbmRleCA8IG1heEZyYW1lcyAmJiBmcmFtZUluZGV4IDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9mcmFtZUtleXNbZnJhbWVJbmRleF07XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciByZWN0ID0gZGF0YS5mcmFtZTtcbiAgICAgICAgICAgIGlmIChyZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdHJpbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZVxuICAgICAgICAgICAgICAgICAgICA/IGRhdGEuc291cmNlU2l6ZSA6IGRhdGEuZnJhbWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5yb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICBDaGVjayB0byBzZWUgaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zcHJpdGVTb3VyY2VTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaW0gPSBuZXcgUmVjdGFuZ2xlKE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIGRhdGEucm90YXRlZCA/IDIgOiAwLCBkYXRhLmFuY2hvcik7XG4gICAgICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb20nIGFuZCAnZnJvbUxvYWRlcicgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogUGFyc2UgYW5pbWF0aW9ucyBjb25maWcuICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcbiAgICAgICAgZm9yICh2YXIgYW5pbU5hbWUgaW4gYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zW2FuaW1OYW1lXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdLnB1c2godGhpcy50ZXh0dXJlc1tmcmFtZU5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLiAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcy50ZXh0dXJlcyk7XG4gICAgfTtcbiAgICAvKiogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IF90aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IFNwcml0ZXNoZWV0IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UgPT09IHZvaWQgMCkgeyBkZXN0cm95QmFzZSA9IGZhbHNlOyB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5fdGV4dHVyZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5rZWRTaGVldHMgPSBbXTtcbiAgICB9O1xuICAgIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgVGV4dHVyZXMgdG8gYnVpbGQgcGVyIHByb2Nlc3MuICovXG4gICAgU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA9IDEwMDA7XG4gICAgcmV0dXJuIFNwcml0ZXNoZWV0O1xufSgpKTtcbi8qKlxuICogUmVmZXJlbmNlIHRvIFNwcml0ZXNoZWV0IG9iamVjdCBjcmVhdGVkLlxuICogQG1lbWJlciB7UElYSS5TcHJpdGVzaGVldH0gc3ByaXRlc2hlZXRcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclJlc291cmNlXG4gKiBAaW5zdGFuY2VcbiAqL1xuLyoqXG4gKiBEaWN0aW9uYXJ5IG9mIHRleHR1cmVzIGZyb20gU3ByaXRlc2hlZXQuXG4gKiBAbWVtYmVyIHtPYmplY3Q8c3RyaW5nLCBQSVhJLlRleHR1cmU+fSB0ZXh0dXJlc1xuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAqIEBpbnN0YW5jZVxuICovXG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBJZiB5b3UncmUgdXNpbmcgV2VicGFjayBvciBvdGhlciBidW5kbGVycyBhbmQgcGxhbiBvbiBidW5kbGluZyB0aGUgYXRsYXMnIEpTT04sXG4gKiB1c2UgdGhlIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSBjbGFzcyB0byBkaXJlY3RseSBwYXJzZSB0aGUgSlNPTi5cbiAqXG4gKiBUaGUgTG9hZGVyJ3MgaW1hZ2UgUmVzb3VyY2UgbmFtZSBpcyBhdXRvbWF0aWNhbGx5IGFwcGVuZGVkIHdpdGggYFwiX2ltYWdlXCJgLlxuICogSWYgYSBSZXNvdXJjZSB3aXRoIHRoaXMgbmFtZSBpcyBhbHJlYWR5IGxvYWRlZCwgdGhlIExvYWRlciB3aWxsIHNraXAgcGFyc2luZyB0aGVcbiAqIFNwcml0ZXNoZWV0LiBUaGUgY29kZSBiZWxvdyB3aWxsIGdlbmVyYXRlIGFuIGludGVybmFsIExvYWRlciBSZXNvdXJjZSBjYWxsZWQgYFwibXlhdGxhc19pbWFnZVwiYC5cbiAqIEBleGFtcGxlXG4gKiBsb2FkZXIuYWRkKCdteWF0bGFzJywgJ3BhdGgvdG8vbXlhdGxhcy5qc29uJyk7XG4gKiBsb2FkZXIubG9hZCgoKSA9PiB7XG4gKiAgIGxvYWRlci5yZXNvdXJjZXMubXlhdGxhczsgLy8gYXRsYXMgSlNPTiByZXNvdXJjZVxuICogICBsb2FkZXIucmVzb3VyY2VzLm15YXRsYXNfaW1hZ2U7IC8vIGF0bGFzIEltYWdlIHJlc291cmNlXG4gKiB9KTtcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVzaGVldExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldExvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSBuZXh0XG4gICAgICovXG4gICAgU3ByaXRlc2hlZXRMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyBpcyBtaWRkbGV3YXJlLCBpdCBleGVjdXRlIGluIGxvYWRlciBjb250ZXh0LiBgdGhpc2AgPSBsb2FkZXJcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXM7XG4gICAgICAgIHZhciBpbWFnZVJlc291cmNlTmFtZSA9IHJlc291cmNlLm5hbWUgKyBcIl9pbWFnZVwiO1xuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEsIGl0cyBub3QganNvbiwgaXQgaXNuJ3Qgc3ByaXRlc2hlZXQgZGF0YSwgb3IgdGhlIGltYWdlIHJlc291cmNlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YVxuICAgICAgICAgICAgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgICAgICB8fCAhcmVzb3VyY2UuZGF0YS5mcmFtZXNcbiAgICAgICAgICAgIHx8IGxvYWRlci5yZXNvdXJjZXNbaW1hZ2VSZXNvdXJjZU5hbWVdKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgYW5kIGFkZCB0aGUgbXVsdGkgYXRsYXNcbiAgICAgICAgLy8gSGVhdmlseSBpbmZsdWVuY2VkIGFuZCBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vcm9ja2V0LXVhL3BpeGktdHBzLWxvYWRlci9ibG9iL21hc3Rlci9zcmMvUmVzb3VyY2VMb2FkZXIuanNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgICB2YXIgbXVsdGlQYWNrcyA9IChfYiA9IChfYSA9IHJlc291cmNlLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVsYXRlZF9tdWx0aV9wYWNrcztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobXVsdGlQYWNrcykpIHtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBpdGVtTmFtZSA9IGl0ZW0ucmVwbGFjZSgnLmpzb24nLCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1VcmwgPSB1cmwucmVzb2x2ZShyZXNvdXJjZS51cmwucmVwbGFjZShsb2FkZXIuYmFzZVVybCwgJycpLCBpdGVtKTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZmlsZSB3YXNuJ3QgYWxyZWFkeSBhZGRlZCBhcyBtdWx0aXBhY2tzIGFyZSByZWR1bmRhbnRcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVyLnJlc291cmNlc1tpdGVtTmFtZV1cbiAgICAgICAgICAgICAgICAgICAgfHwgT2JqZWN0LnZhbHVlcyhsb2FkZXIucmVzb3VyY2VzKS5zb21lKGZ1bmN0aW9uIChyKSB7IHJldHVybiB1cmwuZm9ybWF0KHVybC5wYXJzZShyLnVybCkpID09PSBpdGVtVXJsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlhIUixcbiAgICAgICAgICAgICAgICAgICAgeGhyVHlwZTogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxvYWRlci5hZGQoaXRlbU5hbWUsIGl0ZW1VcmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbXVsdGlQYWNrc18xID0gbXVsdGlQYWNrczsgX2kgPCBtdWx0aVBhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBtdWx0aVBhY2tzXzFbX2ldO1xuICAgICAgICAgICAgICAgIF9sb29wXzEoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvYWRPcHRpb25zID0ge1xuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXNvdXJjZVBhdGggPSBTcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIGxvYWRlci5iYXNlVXJsKTtcbiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICAgICAgbG9hZGVyLmFkZChpbWFnZVJlc291cmNlTmFtZSwgcmVzb3VyY2VQYXRoLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gb25JbWFnZUxvYWQocmVzKSB7XG4gICAgICAgICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgbmV4dChyZXMuZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzcHJpdGVzaGVldCA9IG5ldyBTcHJpdGVzaGVldChyZXMudGV4dHVyZSwgcmVzb3VyY2UuZGF0YSwgcmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgIHNwcml0ZXNoZWV0LnBhcnNlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICAgICAqIEBwYXJhbSByZXNvdXJjZSAtIFJlc291cmNlIHRvIGNoZWNrIHBhdGhcbiAgICAgKiBAcGFyYW0gYmFzZVVybCAtIEJhc2Ugcm9vdCB1cmxcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGggPSBmdW5jdGlvbiAocmVzb3VyY2UsIGJhc2VVcmwpIHtcbiAgICAgICAgLy8gUHJlcGVuZCB1cmwgcGF0aCB1bmxlc3MgdGhlIHJlc291cmNlIGltYWdlIGlzIGEgZGF0YSB1cmxcbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsLnJlc29sdmUocmVzb3VyY2UudXJsLnJlcGxhY2UoYmFzZVVybCwgJycpLCByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2UpO1xuICAgIH07XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBTcHJpdGVzaGVldExvYWRlci5leHRlbnNpb24gPSBFeHRlbnNpb25UeXBlLkxvYWRlcjtcbiAgICByZXR1cm4gU3ByaXRlc2hlZXRMb2FkZXI7XG59KCkpO1xuXG5leHBvcnQgeyBTcHJpdGVzaGVldCwgU3ByaXRlc2hlZXRMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0Lm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlLXRpbGluZyAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUtdGlsaW5nIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSwgVGV4dHVyZU1hdHJpeCwgU2hhZGVyLCBFeHRlbnNpb25UeXBlLCBRdWFkVXYsIFN0YXRlLCBPYmplY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgVHJhbnNmb3JtLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludFRvUmdiYSwgY29ycmVjdEJsZW5kTW9kZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsaW5nU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgb2YgdGhlIHRpbGluZyBzcHJpdGUuXG4gICAgICogQHBhcmFtIHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlLlxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMTAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAxMDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICAgICAgLy8gVGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvLyBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gX3RoaXMudGV4dHVyZS51dk1hdHJpeCB8fCBuZXcgVGV4dHVyZU1hdHJpeCh0ZXh0dXJlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICogQGRlZmF1bHQgJ3RpbGluZ1Nwcml0ZSdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAndGlsaW5nU3ByaXRlJztcbiAgICAgICAgX3RoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwiY2xhbXBNYXJnaW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwidGlsZVNjYWxlXCIsIHtcbiAgICAgICAgLyoqIFRoZSBzY2FsaW5nIG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwidGlsZVBvc2l0aW9uXCIsIHtcbiAgICAgICAgLyoqIFRoZSBvZmZzZXQgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeCkge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIHR3ZWFrIG91ciB0ZXh0dXJlIHRlbXBvcmFyaWx5Li5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHRpbGluZyBzcHJpdGUuICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gcmVjdCAtIE9wdGlvbmFsIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMgVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMgV2hldGhlciBvciBub3QgdGhlIHNwcml0ZSBjb250YWlucyB0aGUgcG9pbnQuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHZhciB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci5feTtcbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSByZXF1aXJlZCB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIHJlcXVpcmVkIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpbGluZ1Nwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5mcm9tID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IChzb3VyY2UgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAgPyBzb3VyY2VcbiAgICAgICAgICAgIDogVGV4dHVyZS5mcm9tKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKHRleHR1cmUsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbnZhciBmcmFnbWVudFNpbXBsZVNyYyA9IFwiI3ZlcnNpb24gMTAwXFxuI2RlZmluZSBTSEFERVJfTkFNRSBUaWxpbmctU3ByaXRlLVNpbXBsZS0xMDBcXG5cXG5wcmVjaXNpb24gbG93cCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCB0ZXhTYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXhTYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgZ2wxVmVydGV4U3JjID0gXCIjdmVyc2lvbiAxMDBcXG4jZGVmaW5lIFNIQURFUl9OQU1FIFRpbGluZy1TcHJpdGUtMTAwXFxuXFxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBnbDFGcmFnbWVudFNyYyA9IFwiI3ZlcnNpb24gMTAwXFxuI2lmZGVmIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2RcXG4gICAgI2V4dGVuc2lvbiBHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kIDogZW5hYmxlXFxuI2VuZGlmXFxuI2RlZmluZSBTSEFERVJfTkFNRSBUaWxpbmctU3ByaXRlLTEwMFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSB2VGV4dHVyZUNvb3JkICsgY2VpbCh1Q2xhbXBPZmZzZXQgLSB2VGV4dHVyZUNvb3JkKTtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIHZlYzIgdW5jbGFtcGVkID0gY29vcmQ7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgICNpZmRlZiBHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kXFxuICAgICAgICB2ZWM0IHRleFNhbXBsZSA9IHVuY2xhbXBlZCA9PSBjb29yZFxcbiAgICAgICAgICAgID8gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCkgXFxuICAgICAgICAgICAgOiB0ZXh0dXJlMkRMb2RFWFQodVNhbXBsZXIsIGNvb3JkLCAwKTtcXG4gICAgI2Vsc2VcXG4gICAgICAgIHZlYzQgdGV4U2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgICNlbmRpZlxcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXhTYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgZ2wyVmVydGV4U3JjID0gXCIjdmVyc2lvbiAzMDAgZXNcXG4jZGVmaW5lIFNIQURFUl9OQU1FIFRpbGluZy1TcHJpdGUtMzAwXFxuXFxucHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxuaW4gdmVjMiBhVmVydGV4UG9zaXRpb247XFxuaW4gdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG5vdXQgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBnbDJGcmFnbWVudFNyYyA9IFwiI3ZlcnNpb24gMzAwIGVzXFxuI2RlZmluZSBTSEFERVJfTkFNRSBUaWxpbmctU3ByaXRlLTEwMFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbmluIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG5vdXQgdmVjNCBmcmFnbWVudENvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSB2VGV4dHVyZUNvb3JkICsgY2VpbCh1Q2xhbXBPZmZzZXQgLSB2VGV4dHVyZUNvb3JkKTtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIHZlYzIgdW5jbGFtcGVkID0gY29vcmQ7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgdGV4U2FtcGxlID0gdGV4dHVyZSh1U2FtcGxlciwgY29vcmQsIHVuY2xhbXBlZCA9PSBjb29yZCA/IDAuMGYgOiAtMzIuMGYpOy8vIGxvZC1iaWFzIHZlcnkgbmVnYXRpdmUgdG8gZm9yY2UgbG9kIDBcXG5cXG4gICAgZnJhZ21lbnRDb2xvciA9IHRleFNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBXZWJHTCByZW5kZXJlciBwbHVnaW4gZm9yIHRpbGluZyBzcHJpdGVzXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBUaWxpbmdTcHJpdGVSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsaW5nU3ByaXRlUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHRpbGluZyBhd2Vzb21lbmVzcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8vIFdlYkdMIHZlcnNpb24gaXMgbm90IGF2YWlsYWJsZSBkdXJpbmcgaW5pdGlhbGl6YXRpb24hXG4gICAgICAgIHJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5hZGQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5xdWFkID0gbmV3IFF1YWRVdigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKiogQ3JlYXRlcyBzaGFkZXJzIHdoZW4gY29udGV4dCBpcyBpbml0aWFsaXplZC4gKi9cbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0geyBnbG9iYWxzOiByZW5kZXJlci5nbG9iYWxVbmlmb3JtcyB9O1xuICAgICAgICB0aGlzLnNpbXBsZVNoYWRlciA9IFNoYWRlci5mcm9tKGdsMVZlcnRleFNyYywgZnJhZ21lbnRTaW1wbGVTcmMsIHVuaWZvcm1zKTtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSByZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiA+IDFcbiAgICAgICAgICAgID8gU2hhZGVyLmZyb20oZ2wyVmVydGV4U3JjLCBnbDJGcmFnbWVudFNyYywgdW5pZm9ybXMpXG4gICAgICAgICAgICA6IFNoYWRlci5mcm9tKGdsMVZlcnRleFNyYywgZ2wxRnJhZ21lbnRTcmMsIHVuaWZvcm1zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UaWxpbmdTcHJpdGV9IHRzIC0gdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICh0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcbiAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9ICh0cy5fd2lkdGgpICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuICAgICAgICB2YXIgYW5jaG9yWCA9IHRzLnV2UmVzcGVjdEFuY2hvciA/IHRzLmFuY2hvci54IDogMDtcbiAgICAgICAgdmFyIGFuY2hvclkgPSB0cy51dlJlc3BlY3RBbmNob3IgPyB0cy5hbmNob3IueSA6IDA7XG4gICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtYW5jaG9yWDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC1hbmNob3JZO1xuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gYW5jaG9yWDtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIGFuY2hvclk7XG4gICAgICAgIHF1YWQuaW52YWxpZGF0ZSgpO1xuICAgICAgICB2YXIgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgcHJlbXVsdGlwbGllZCA9IGJhc2VUZXguYWxwaGFNb2RlID4gMDtcbiAgICAgICAgdmFyIGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHV2ID0gdHMudXZNYXRyaXg7XG4gICAgICAgIHZhciBpc1NpbXBsZSA9IGJhc2VUZXguaXNQb3dlck9mVHdvXG4gICAgICAgICAgICAmJiB0ZXguZnJhbWUud2lkdGggPT09IGJhc2VUZXgud2lkdGggJiYgdGV4LmZyYW1lLmhlaWdodCA9PT0gYmFzZVRleC5oZWlnaHQ7XG4gICAgICAgIC8vIGF1dG8sIGZvcmNlIHJlcGVhdCB3cmFwTW9kZSBmb3IgYmlnIHRpbGluZyB0ZXh0dXJlc1xuICAgICAgICBpZiAoaXNTaW1wbGUpIHtcbiAgICAgICAgICAgIGlmICghYmFzZVRleC5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZVRleC53cmFwTW9kZSA9PT0gV1JBUF9NT0RFUy5DTEFNUCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNTaW1wbGUgPSBiYXNlVGV4LndyYXBNb2RlICE9PSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFkZXIgPSBpc1NpbXBsZSA/IHRoaXMuc2ltcGxlU2hhZGVyIDogdGhpcy5zaGFkZXI7XG4gICAgICAgIHZhciB3ID0gdGV4LndpZHRoO1xuICAgICAgICB2YXIgaCA9IHRleC5oZWlnaHQ7XG4gICAgICAgIHZhciBXID0gdHMuX3dpZHRoO1xuICAgICAgICB2YXIgSCA9IHRzLl9oZWlnaHQ7XG4gICAgICAgIHRlbXBNYXQuc2V0KGx0LmEgKiB3IC8gVywgbHQuYiAqIHcgLyBILCBsdC5jICogaCAvIFcsIGx0LmQgKiBoIC8gSCwgbHQudHggLyBXLCBsdC50eSAvIEgpO1xuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG4gICAgICAgIHRlbXBNYXQuaW52ZXJ0KCk7XG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgdGVtcE1hdC5wcmVwZW5kKHV2Lm1hcENvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51TWFwQ29vcmQgPSB1di5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdXYudUNsYW1wRnJhbWU7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdXYudUNsYW1wT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gdGVtcE1hdC50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNvbG9yID0gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIHByZW11bHRpcGxpZWQpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0cy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gdGV4O1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpO1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGUodHMuYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgICB9O1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIuZXh0ZW5zaW9uID0ge1xuICAgICAgICBuYW1lOiAndGlsaW5nU3ByaXRlJyxcbiAgICAgICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5SZW5kZXJlclBsdWdpbixcbiAgICB9O1xuICAgIHJldHVybiBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlLCBUaWxpbmdTcHJpdGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZy5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2ggLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvbWVzaCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFN0YXRlLCBQcm9ncmFtLCBUZXh0dXJlTWF0cml4LCBTaGFkZXIsIEJ1ZmZlciwgR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBQb2x5Z29uLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IERSQVdfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIGNhY2hlIGZvciBVViBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hCYXRjaFV2cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdXZCdWZmZXIgLSBCdWZmZXIgd2l0aCBub3JtYWxpemVkIHV2J3NcbiAgICAgKiBAcGFyYW0gdXZNYXRyaXggLSBNYXRlcmlhbCBVViBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoQmF0Y2hVdnModXZCdWZmZXIsIHV2TWF0cml4KSB7XG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSB1dkJ1ZmZlcjtcbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHV2TWF0cml4O1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSAtMTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzXG4gICAgICogQHBhcmFtIGZvcmNlVXBkYXRlIC0gZm9yY2UgdGhlIHVwZGF0ZVxuICAgICAqL1xuICAgIE1lc2hCYXRjaFV2cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgICAgICYmIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID09PSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRFxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID09PSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXZNYXRyaXgubXVsdGlwbHlVdnMoZGF0YSwgdGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIHJldHVybiBNZXNoQmF0Y2hVdnM7XG59KCkpO1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdGVtcFBvbHlnb24gPSBuZXcgUG9seWdvbigpO1xuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKlxuICogVGhpcyBjbGFzcyBlbXBvd2VycyB5b3UgdG8gaGF2ZSBtYXhpbXVtIGZsZXhpYmlsaXR5IHRvIHJlbmRlciBhbnkga2luZCBvZiBXZWJHTCB2aXN1YWxzIHlvdSBjYW4gdGhpbmsgb2YuXG4gKiBUaGlzIGNsYXNzIGFzc3VtZXMgYSBjZXJ0YWluIGxldmVsIG9mIFdlYkdMIGtub3dsZWRnZS5cbiAqIElmIHlvdSBrbm93IGEgYml0IHRoaXMgc2hvdWxkIGFic3RyYWN0IGVub3VnaCBhd2F5IHRvIG1ha2UgeW91ciBsaWZlIGVhc2llciFcbiAqXG4gKiBQcmV0dHkgbXVjaCBBTEwgV2ViR0wgY2FuIGJlIGJyb2tlbiBkb3duIGludG8gdGhlIGZvbGxvd2luZzpcbiAqIC0gR2VvbWV0cnkgLSBUaGUgc3RydWN0dXJlIGFuZCBkYXRhIGZvciB0aGUgbWVzaC4gVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLi5cbiAqIC0gU2hhZGVyIC0gVGhpcyBpcyB0aGUgc2hhZGVyIHRoYXQgUGl4aUpTIHdpbGwgcmVuZGVyIHRoZSBnZW9tZXRyeSB3aXRoIChhdHRyaWJ1dGVzIGluIHRoZSBzaGFkZXIgbXVzdCBtYXRjaCB0aGUgZ2VvbWV0cnkpXG4gKiAtIFN0YXRlIC0gVGhpcyBpcyB0aGUgc3RhdGUgb2YgV2ViR0wgcmVxdWlyZWQgdG8gcmVuZGVyIHRoZSBtZXNoLlxuICpcbiAqIFRocm91Z2ggYSBjb21iaW5hdGlvbiBvZiB0aGUgYWJvdmUgZWxlbWVudHMgeW91IGNhbiByZW5kZXIgYW55dGhpbmcgeW91IHdhbnQsIDJEIG9yIDNEIVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGdlb21ldHJ5IC0gVGhlIGdlb21ldHJ5IHRoZSBtZXNoIHdpbGwgdXNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5NZXNoTWF0ZXJpYWx9IHNoYWRlciAtIFRoZSBzaGFkZXIgdGhlIG1lc2ggd2lsbCB1c2UuXG4gICAgICogQHBhcmFtIHN0YXRlIC0gVGhlIHN0YXRlIHRoYXQgdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVxdWlyZWQgdG8gYmUgaW4gdG8gcmVuZGVyIHRoZSBtZXNoXG4gICAgICogICAgICAgIGlmIG5vIHN0YXRlIGlzIHByb3ZpZGVkLCB1c2VzIHtAbGluayBQSVhJLlN0YXRlLmZvcjJkfSB0byBjcmVhdGUgYSAyRCBzdGF0ZSBmb3IgUGl4aUpTLlxuICAgICAqIEBwYXJhbSBkcmF3TW9kZSAtIFRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUge0BsaW5rIFBJWEkuRFJBV19NT0RFU30gY29uc3RhbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2goZ2VvbWV0cnksIHNoYWRlciwgc3RhdGUsIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmIChkcmF3TW9kZSA9PT0gdm9pZCAwKSB7IGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgX3RoaXMuc2hhZGVyID0gc2hhZGVyO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHN0YXRlIHx8IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIF90aGlzLmRyYXdNb2RlID0gZHJhd01vZGU7XG4gICAgICAgIF90aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgX3RoaXMuc2l6ZSA9IDA7XG4gICAgICAgIF90aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIF90aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxKTtcbiAgICAgICAgX3RoaXMudmVydGV4RGlydHkgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgX3RoaXMuYmF0Y2hVdnMgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJnZW9tZXRyeVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VvbWV0cnkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2dlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2VvbWV0cnkucmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5ID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IC0xO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInV2QnVmZmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvIGNoYW5nZSBtZXNoIHV2J3MsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInZlcnRpY2VzQnVmZmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvIGNoYW5nZSBtZXNoIHZlcnRpY2VzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAgICAgKiBJbmNyZW1lbnRpbmcgX3VwZGF0ZUlEIGlzIG9wdGlvbmFsIGJlY2F1c2UgbW9zdCBvZiBNZXNoIG9iamVjdHMgZG8gaXQgYW55d2F5LlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoLnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyO1xuICAgICAgICB9LFxuICAgICAgICAvKiogQWxpYXMgZm9yIHtAbGluayBQSVhJLk1lc2gjc2hhZGVyfS4gKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBNZXNoLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwicm91bmRQaXhlbHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbHkgdGludCBhcHBsaWVkIHRvIHRoZSBNZXNoLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICAgICAqIGAweEZGRkZGRmAgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBOdWxsIGZvciBub24tTWVzaE1hdGVyaWFsIHNoYWRlcnNcbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICd0aW50JyBpbiB0aGlzLnNoYWRlciA/IHRoaXMuc2hhZGVyLnRpbnQgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGludCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKiogVGhlIHRleHR1cmUgdGhhdCB0aGUgTWVzaCB1c2VzLiBOdWxsIGZvciBub24tTWVzaE1hdGVyaWFsIHNoYWRlcnMgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RleHR1cmUnIGluIHRoaXMuc2hhZGVyID8gdGhpcy5zaGFkZXIudGV4dHVyZSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCByZW5kZXJlciBkcmF3LlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCB1c2UgYSBkaWZmZXJlbnQgd2F5IHRvIGdyYWIgdmVydHM/XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIC8vIFRPRE8gYmVuY2htYXJrIGNoZWNrIGZvciBhdHRyaWJ1dGUgc2l6ZS4uXG4gICAgICAgIGlmIChzaGFkZXIuYmF0Y2hhYmxlXG4gICAgICAgICAgICAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFU1xuICAgICAgICAgICAgJiYgdmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRvQmF0Y2gocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGVmYXVsdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIG5vbi1iYXRjaGluZyB3YXkgb2YgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXJEZWZhdWx0ID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgc2hhZGVyLmFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICBpZiAoc2hhZGVyLnVwZGF0ZSkge1xuICAgICAgICAgICAgc2hhZGVyLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICAvLyBzZXQgc3RhdGUuLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcbiAgICAgICAgLy8gdGhlbiByZW5kZXIgaXRcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLmRyYXdNb2RlLCB0aGlzLnNpemUsIHRoaXMuc3RhcnQsIHRoaXMuZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJpbmcgYnkgdXNpbmcgdGhlIEJhdGNoIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyVG9CYXRjaCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG4gICAgICAgIGlmIChzaGFkZXIudXZNYXRyaXgpIHtcbiAgICAgICAgICAgIHNoYWRlci51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gc2hhZGVyLl90aW50UkdCO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gc2hhZGVyLnRleHR1cmU7XG4gICAgICAgIHZhciBwbHVnaW5OYW1lID0gdGhpcy5tYXRlcmlhbC5wbHVnaW5OYW1lO1xuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKiogVXBkYXRlcyB2ZXJ0ZXhEYXRhIGZpZWxkIGJhc2VkIG9uIHRyYW5zZm9ybSBhbmQgdmVydGljZXMuICovXG4gICAgTWVzaC5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciB2ZXJ0aWNlc0J1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHZlcnRpY2VzQnVmZmVyLmRhdGE7XG4gICAgICAgIHZhciB2ZXJ0ZXhEaXJ0eUlkID0gdmVydGljZXNCdWZmZXIuX3VwZGF0ZUlEO1xuICAgICAgICBpZiAodmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCAhPT0gdmVydGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1soaSAqIDIpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydGljZXNbKGkgKiAyKSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCgodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSB2ZXJ0ZXhEaXJ0eUlkO1xuICAgIH07XG4gICAgLyoqIFVwZGF0ZXMgdXYgZmllbGQgYmFzZWQgb24gZnJvbSBnZW9tZXRyeSB1didzIG9yIGJhdGNoVXZzLiAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNhbGN1bGF0ZVV2cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21VdnMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgaWYgKCFzaGFkZXIudXZNYXRyaXguaXNTaW1wbGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXRjaFV2cykge1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hVdnMgPSBuZXcgTWVzaEJhdGNoVXZzKGdlb21VdnMsIHNoYWRlci51dk1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhdGNoVXZzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLmJhdGNoVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IGdlb21VdnMuZGF0YTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBtZXNoIGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogdGhlcmUgbXVzdCBiZSBhIGFWZXJ0ZXhQb3NpdGlvbiBhdHRyaWJ1dGUgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkgZm9yIGJvdW5kcyB0byBiZSBjYWxjdWxhdGVkIGNvcnJlY3RseS5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0ZXhEYXRhKHRoaXMudmVydGV4RGF0YSwgMCwgdGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIG1lc2guIFdvcmtzIG9ubHkgZm9yIFBJWEkuRFJBV19NT0RFUy5UUklBTkdMRVMuXG4gICAgICogQHBhcmFtIHBvaW50IC0gVGhlIHBvaW50IHRvIHRlc3QuXG4gICAgICogQHJldHVybnMgLSBUaGUgcmVzdWx0IG9mIHRoZSB0ZXN0LlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGVtcFBvbHlnb24ucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0SW5kZXgoKS5kYXRhO1xuICAgICAgICB2YXIgbGVuID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gNCA/IDMgOiAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSArIDIgPCBsZW47IGkgKz0gc3RlcCkge1xuICAgICAgICAgICAgdmFyIGluZDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIHZhciBpbmQxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDIgPSBpbmRpY2VzW2kgKyAyXSAqIDI7XG4gICAgICAgICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICAgICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG4gICAgICAgICAgICBpZiAodGVtcFBvbHlnb24uY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdmVydGljZXMgdG8gY29uc2lkZXIgYmF0Y2hhYmxlLiBHZW5lcmFsbHksIHRoZSBjb21wbGV4aXR5IG9mIHRoZSBnZW9tZXRyeS4gKi9cbiAgICBNZXNoLkJBVENIQUJMRV9TSVpFID0gMTAwO1xuICAgIHJldHVybiBNZXNoO1xufShDb250YWluZXIpKTtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbi8qKlxuICogU2xpZ2h0bHkgb3BpbmlvbmF0ZWQgZGVmYXVsdCBzaGFkZXIgZm9yIFBpeGlKUyAyRCBvYmplY3RzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hNYXRlcmlhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVzaE1hdGVyaWFsLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB1U2FtcGxlciAtIFRleHR1cmUgdGhhdCBtYXRlcmlhbCB1c2VzIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIERlZmF1bHQgYWxwaGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbnQ9MHhGRkZGRkZdIC0gRGVmYXVsdCB0aW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wbHVnaW5OYW1lPSdiYXRjaCddIC0gUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW29wdGlvbnMucHJvZ3JhbT0weEZGRkZGRl0gLSBDdXN0b20gcHJvZ3JhbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hNYXRlcmlhbCh1U2FtcGxlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcjogdVNhbXBsZXIsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4OiBNYXRyaXguSURFTlRJVFksXG4gICAgICAgICAgICB1Q29sb3I6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBwbHVnaW5OYW1lOiAnYmF0Y2gnLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5wcm9ncmFtIHx8IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KSwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgodVNhbXBsZXIpO1xuICAgICAgICBfdGhpcy5iYXRjaGFibGUgPSBvcHRpb25zLnByb2dyYW0gPT09IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcbiAgICAgICAgX3RoaXMudGludCA9IG9wdGlvbnMudGludDtcbiAgICAgICAgX3RoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKiogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGJlaW5nIHJlbmRlcmVkLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybXMudVNhbXBsZXIgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnVuaWZvcm1zLnVTYW1wbGVyLmJhc2VUZXh0dXJlLmFscGhhTW9kZSAhPT0gIXZhbHVlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZ2V0cyBhdXRvbWF0aWNhbGx5IHNldCBieSB0aGUgb2JqZWN0IHVzaW5nIHRoaXMuXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX2FscGhhKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB0aGlzLl9hbHBoYSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11bHRpcGx5IHRpbnQgZm9yIHRoZSBtYXRlcmlhbC5cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX3RpbnQpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b20ge0BsaW5rIE1lc2hNYXRlcmlhbH0gb2JqZWN0cy4gKi9cbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHByZW11bHRpcGx5VGludFRvUmdiYSh0aGlzLl90aW50LCB0aGlzLl9hbHBoYSwgdGhpcy51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXZNYXRyaXgudXBkYXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVRleHR1cmVNYXRyaXggPSB0aGlzLnV2TWF0cml4Lm1hcENvb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xufShTaGFkZXIpKTtcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVzaEdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSBbdmVydGljZXNdIC0gUG9zaXRpb25hbCBkYXRhIG9uIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSBbdXZzXSAtIFRleHR1cmUgVVZzLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl8bnVtYmVyW119IFtpbmRleF0gLSBJbmRleEJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgdmVydGljZXNCdWZmZXIgPSBuZXcgQnVmZmVyKHZlcnRpY2VzKTtcbiAgICAgICAgdmFyIHV2c0J1ZmZlciA9IG5ldyBCdWZmZXIodXZzLCB0cnVlKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihpbmRleCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdmVydGljZXNCdWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCB1dnNCdWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRJbmRleChpbmRleEJ1ZmZlcik7XG4gICAgICAgIF90aGlzLl91cGRhdGVJZCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoR2VvbWV0cnkucHJvdG90eXBlLCBcInZlcnRleERpcnR5SWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHZlcnRleCBwb3NpdGlvbiBpcyB1cGRhdGVkLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1swXS5fdXBkYXRlSUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTWVzaEdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuXG5leHBvcnQgeyBNZXNoLCBNZXNoQmF0Y2hVdnMsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dC1iaXRtYXAgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvdGV4dC1iaXRtYXAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZWN0YW5nbGUsIFBvaW50LCBPYnNlcnZhYmxlUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IGhleDJyZ2IsIHN0cmluZzJoZXgsIGdldFJlc29sdXRpb25PZlVybCwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBCYXNlVGV4dHVyZSwgVGV4dHVyZSwgUHJvZ3JhbSwgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVEVYVF9HUkFESUVOVCwgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuaW1wb3J0IHsgQUxQSEFfTU9ERVMsIE1JUE1BUF9NT0RFUywgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBOb3JtYWxpemVkIHBhcnNlZCBkYXRhIGZyb20gLmZudCBmaWxlcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250RGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaXRtYXBGb250RGF0YSgpIHtcbiAgICAgICAgdGhpcy5pbmZvID0gW107XG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG4gICAgICAgIHRoaXMucGFnZSA9IFtdO1xuICAgICAgICB0aGlzLmNoYXIgPSBbXTtcbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgICAgIHRoaXMuZGlzdGFuY2VGaWVsZCA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gQml0bWFwRm9udERhdGE7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHRGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHR4dCBmb250IGRhdGEuXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcmV0dXJucyAtIFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0ZXh0IGZvbnQgZGF0YSB0byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB0eHQgLSBSYXcgc3RyaW5nIGRhdGEgdG8gYmUgY29udmVydGVkXG4gICAgICogQHJldHVybnMgLSBQYXJzZWQgZm9udCBkYXRhXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBpdGVtXG4gICAgICAgIHZhciBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHtcbiAgICAgICAgICAgIGluZm86IFtdLFxuICAgICAgICAgICAgY29tbW9uOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IFtdLFxuICAgICAgICAgICAgY2hhcjogW10sXG4gICAgICAgICAgICBjaGFyczogW10sXG4gICAgICAgICAgICBrZXJuaW5nOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmdzOiBbXSxcbiAgICAgICAgICAgIGRpc3RhbmNlRmllbGQ6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpIGluIGl0ZW1zKSB7XG4gICAgICAgICAgICAvLyBFeHRyYWN0IGl0ZW0gbmFtZVxuICAgICAgICAgICAgdmFyIG5hbWUgPSBpdGVtc1tpXS5tYXRjaCgvXlthLXpdKy9nbSlbMF07XG4gICAgICAgICAgICAvLyBFeHRyYWN0IGl0ZW0gYXR0cmlidXRlIGxpc3QgYXMgc3RyaW5nIGV4LjogXCJ3aWR0aD0xMFwiXG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlTGlzdCA9IGl0ZW1zW2ldLm1hdGNoKC9bYS16QS1aXSs9KFteXFxzXCInXSt8XCIoW15cIl0qKVwiKS9nbSk7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGF0dHJpYnV0ZSBsaXN0IGludG8gYW4gb2JqZWN0XG4gICAgICAgICAgICB2YXIgaXRlbURhdGEgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGlfMSBpbiBhdHRyaWJ1dGVMaXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gU3BsaXQga2V5LXZhbHVlIHBhaXJzXG4gICAgICAgICAgICAgICAgdmFyIHNwbGl0ID0gYXR0cmlidXRlTGlzdFtpXzFdLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHNwbGl0WzBdO1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBldmVudHVhbCBxdW90ZXMgZnJvbSB2YWx1ZVxuICAgICAgICAgICAgICAgIHZhciBzdHJWYWx1ZSA9IHNwbGl0WzFdLnJlcGxhY2UoL1wiL2dtLCAnJyk7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGNvbnZlcnQgdmFsdWUgaW50byBmbG9hdFxuICAgICAgICAgICAgICAgIHZhciBmbG9hdFZhbHVlID0gcGFyc2VGbG9hdChzdHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHN0cmluZyB2YWx1ZSBjYXNlIGZsb2F0IHZhbHVlIGlzIE5hTlxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlzTmFOKGZsb2F0VmFsdWUpID8gc3RyVmFsdWUgOiBmbG9hdFZhbHVlO1xuICAgICAgICAgICAgICAgIGl0ZW1EYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFB1c2ggY3VycmVudCBpdGVtIHRvIHRoZSByZXN1bHRpbmcgZGF0YVxuICAgICAgICAgICAgcmF3RGF0YVtuYW1lXS5wdXNoKGl0ZW1EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250RGF0YSgpO1xuICAgICAgICByYXdEYXRhLmluZm8uZm9yRWFjaChmdW5jdGlvbiAoaW5mbykgeyByZXR1cm4gZm9udC5pbmZvLnB1c2goe1xuICAgICAgICAgICAgZmFjZTogaW5mby5mYWNlLFxuICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mby5zaXplLCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5jb21tb24uZm9yRWFjaChmdW5jdGlvbiAoY29tbW9uKSB7IHJldHVybiBmb250LmNvbW1vbi5wdXNoKHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbi5saW5lSGVpZ2h0LCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5wYWdlLmZvckVhY2goZnVuY3Rpb24gKHBhZ2UpIHsgcmV0dXJuIGZvbnQucGFnZS5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBwYXJzZUludChwYWdlLmlkLCAxMCksXG4gICAgICAgICAgICBmaWxlOiBwYWdlLmZpbGUsXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5jaGFyLmZvckVhY2goZnVuY3Rpb24gKGNoYXIpIHsgcmV0dXJuIGZvbnQuY2hhci5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBwYXJzZUludChjaGFyLmlkLCAxMCksXG4gICAgICAgICAgICBwYWdlOiBwYXJzZUludChjaGFyLnBhZ2UsIDEwKSxcbiAgICAgICAgICAgIHg6IHBhcnNlSW50KGNoYXIueCwgMTApLFxuICAgICAgICAgICAgeTogcGFyc2VJbnQoY2hhci55LCAxMCksXG4gICAgICAgICAgICB3aWR0aDogcGFyc2VJbnQoY2hhci53aWR0aCwgMTApLFxuICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChjaGFyLmhlaWdodCwgMTApLFxuICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQoY2hhci54b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB5b2Zmc2V0OiBwYXJzZUludChjaGFyLnlvZmZzZXQsIDEwKSxcbiAgICAgICAgICAgIHhhZHZhbmNlOiBwYXJzZUludChjaGFyLnhhZHZhbmNlLCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5rZXJuaW5nLmZvckVhY2goZnVuY3Rpb24gKGtlcm5pbmcpIHsgcmV0dXJuIGZvbnQua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nLmZpcnN0LCAxMCksXG4gICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmcuc2Vjb25kLCAxMCksXG4gICAgICAgICAgICBhbW91bnQ6IHBhcnNlSW50KGtlcm5pbmcuYW1vdW50LCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5kaXN0YW5jZUZpZWxkLmZvckVhY2goZnVuY3Rpb24gKGRmKSB7IHJldHVybiBmb250LmRpc3RhbmNlRmllbGQucHVzaCh7XG4gICAgICAgICAgICBkaXN0YW5jZVJhbmdlOiBwYXJzZUludChkZi5kaXN0YW5jZVJhbmdlLCAxMCksXG4gICAgICAgICAgICBmaWVsZFR5cGU6IGRmLmZpZWxkVHlwZSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0Rm9ybWF0O1xufSgpKTtcblxuLyoqXG4gKiBCaXRtYXBGb250IGZvcm1hdCB0aGF0J3MgWE1MLWJhc2VkLlxuICogQHByaXZhdGVcbiAqL1xudmFyIFhNTEZvcm1hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBYTUxGb3JtYXQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHJlc291cmNlIHJlZmVycyB0byB4bWwgZm9udCBkYXRhLlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHJldHVybnMgLSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIFhNTERvY3VtZW50XG4gICAgICAgICAgICAmJiBkYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoXG4gICAgICAgICAgICAmJiBkYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgIT09IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBYTUwgaW50byBCaXRtYXBGb250RGF0YSB0aGF0IHdlIGNhbiB1c2UuXG4gICAgICogQHBhcmFtIHhtbFxuICAgICAqIEByZXR1cm5zIC0gRGF0YSB0byB1c2UgZm9yIEJpdG1hcEZvbnRcbiAgICAgKi9cbiAgICBYTUxGb3JtYXQucGFyc2UgPSBmdW5jdGlvbiAoeG1sKSB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIHZhciBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJyk7XG4gICAgICAgIHZhciBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpO1xuICAgICAgICB2YXIgcGFnZSA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgICAgICB2YXIgY2hhciA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2hhcicpO1xuICAgICAgICB2YXIga2VybmluZyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuICAgICAgICB2YXIgZGlzdGFuY2VGaWVsZCA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGlzdGFuY2VGaWVsZCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuaW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICBmYWNlOiBpbmZvW2ldLmdldEF0dHJpYnV0ZSgnZmFjZScpLFxuICAgICAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm9baV0uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLmNvbW1vbi5wdXNoKHtcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb25baV0uZ2V0QXR0cmlidXRlKCdsaW5lSGVpZ2h0JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChwYWdlW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgZmlsZTogcGFnZVtpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxldHRlciA9IGNoYXJbaV07XG4gICAgICAgICAgICBkYXRhLmNoYXIucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdwYWdlJyksIDEwKSB8fCAwLFxuICAgICAgICAgICAgICAgIHg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApLFxuICAgICAgICAgICAgICAgIHk6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hvZmZzZXQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHlvZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3lvZmZzZXQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4YWR2YW5jZScpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApLFxuICAgICAgICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3RhbmNlRmllbGQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuZGlzdGFuY2VGaWVsZC5wdXNoKHtcbiAgICAgICAgICAgICAgICBmaWVsZFR5cGU6IGRpc3RhbmNlRmllbGRbaV0uZ2V0QXR0cmlidXRlKCdmaWVsZFR5cGUnKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZVJhbmdlOiBwYXJzZUludChkaXN0YW5jZUZpZWxkW2ldLmdldEF0dHJpYnV0ZSgnZGlzdGFuY2VSYW5nZScpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBYTUxGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MU3RyaW5nRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTFN0cmluZ0Zvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHRleHQgeG1sIGZvbnQgZGF0YS5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEByZXR1cm5zIC0gVHJ1ZSBpZiByZXNvdXJjZSBjb3VsZCBiZSB0cmVhdGVkIGFzIGZvbnQgZGF0YSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC50ZXN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmluZGV4T2YoJzxmb250PicpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciB4bWwgPSBuZXcgZ2xvYmFsVGhpcy5ET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZGF0YSwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnRlc3QoeG1sKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSB0ZXh0IFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKiBAcGFyYW0geG1sVHh0XG4gICAgICogQHJldHVybnMgLSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWxUeHQpIHtcbiAgICAgICAgdmFyIHhtbCA9IG5ldyBnbG9iYWxUaGlzLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh4bWxUeHQsICd0ZXh0L3htbCcpO1xuICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnBhcnNlKHhtbCk7XG4gICAgfTtcbiAgICByZXR1cm4gWE1MU3RyaW5nRm9ybWF0O1xufSgpKTtcblxuLy8gUmVnaXN0ZXJlZCBmb3JtYXRzLCBtYXliZSBtYWtlIHRoaXMgZXh0ZW5zaWJsZSBpbiB0aGUgZnV0dXJlP1xudmFyIGZvcm1hdHMgPSBbXG4gICAgVGV4dEZvcm1hdCxcbiAgICBYTUxGb3JtYXQsXG4gICAgWE1MU3RyaW5nRm9ybWF0IF07XG4vKipcbiAqIEF1dG8tZGV0ZWN0IEJpdG1hcEZvbnQgcGFyc2luZyBmb3JtYXQgYmFzZWQgb24gZGF0YS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FueX0gZGF0YSAtIERhdGEgdG8gZGV0ZWN0IGZvcm1hdFxuICogQHJldHVybnMge2FueX0gRm9ybWF0IG9yIG51bGxcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdEZvcm1hdChkYXRhKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtYXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRzW2ldLnRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vLyBUT0RPOiBQcmV2ZW50IGNvZGUgZHVwbGljYXRpb24gYi93IGdlbmVyYXRlRmlsbFN0eWxlICYgVGV4dCNnZW5lcmF0ZUZpbGxTdHlsZVxuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gY2FudmFzXG4gKiBAcGFyYW0gY29udGV4dFxuICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICogQHBhcmFtIHJlc29sdXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gKiBAcGFyYW0gbWV0cmljc1xuICogQHJldHVybnMge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIGxpbmVzLCBtZXRyaWNzKSB7XG4gICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsbFN0eWxlKSkge1xuICAgICAgICByZXR1cm4gZmlsbFN0eWxlO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaWxsU3R5bGUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmaWxsU3R5bGVbMF07XG4gICAgfVxuICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgIHZhciBncmFkaWVudDtcbiAgICAvLyBhIGRyb3BzaGFkb3cgd2lsbCBlbmxhcmdlIHRoZSBjYW52YXMgYW5kIHJlc3VsdCBpbiB0aGUgZ3JhZGllbnQgYmVpbmdcbiAgICAvLyBnZW5lcmF0ZWQgd2l0aCB0aGUgaW5jb3JyZWN0IGRpbWVuc2lvbnNcbiAgICB2YXIgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSAoc3R5bGUuZHJvcFNoYWRvdykgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuICAgIC8vIHNob3VsZCBhbHNvIHRha2UgcGFkZGluZyBpbnRvIGFjY291bnQsIHBhZGRpbmcgY2FuIG9mZnNldCB0aGUgZ3JhZGllbnRcbiAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmcgfHwgMDtcbiAgICB2YXIgd2lkdGggPSAoY2FudmFzLndpZHRoIC8gcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgdmFyIGhlaWdodCA9IChjYW52YXMuaGVpZ2h0IC8gcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgdmFyIGZpbGwgPSBmaWxsU3R5bGUuc2xpY2UoKTtcbiAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICBmaWxsLnVuc2hpZnQoZmlsbFN0eWxlWzBdKTtcbiAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuICAgIGZpbGwucHVzaChmaWxsU3R5bGVbZmlsbFN0eWxlLmxlbmd0aCAtIDFdKTtcbiAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCkge1xuICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgIGdyYWRpZW50ID0gY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIHBhZGRpbmcsIHdpZHRoIC8gMiwgaGVpZ2h0ICsgcGFkZGluZyk7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAvLyBUaGVyZSdzIHBvdGVudGlhbCBmb3IgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGlzc3VlcyBhdCB0aGUgc2VhbXMgYmV0d2VlbiBncmFkaWVudCByZXBlYXRzLlxuICAgICAgICAvLyBUaGUgbG9vcCBiZWxvdyBnZW5lcmF0ZXMgdGhlIHN0b3BzIGluIG9yZGVyLCBzbyB0cmFjayB0aGUgbGFzdCBnZW5lcmF0ZWQgb25lIHRvIHByZXZlbnRcbiAgICAgICAgLy8gZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGZyb20gbWFraW5nIHVzIGdvIHRoZSB0ZWVuaWVzdCBiaXQgYmFja3dhcmRzLCByZXN1bHRpbmcgaW5cbiAgICAgICAgLy8gdGhlIGZpcnN0IGFuZCBsYXN0IGNvbG9ycyBnZXR0aW5nIHN3YXBwZWQuXG4gICAgICAgIHZhciBsYXN0SXRlcmF0aW9uU3RvcCA9IDA7XG4gICAgICAgIC8vIEFjdHVhbCBoZWlnaHQgb2YgdGhlIHRleHQgaXRzZWxmLCBub3QgY291bnRpbmcgc3BhY2luZyBmb3IgbGluZUhlaWdodC9sZWFkaW5nL2Ryb3BTaGFkb3cgZXRjXG4gICAgICAgIHZhciB0ZXh0SGVpZ2h0ID0gbWV0cmljcy5mb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgLy8gdGV4dEhlaWdodCwgYnV0IGFzIGEgMC0xIHNpemUgaW4gZ2xvYmFsIGdyYWRpZW50IHN0b3Agc3BhY2VcbiAgICAgICAgdmFyIGdyYWRTdG9wTGluZUhlaWdodCA9IHRleHRIZWlnaHQgLyBoZWlnaHQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAvLyAwLTEgc3RvcCBwb2ludCBmb3IgdGhlIGN1cnJlbnQgbGluZSwgbXVsdGlwbGllZCB0byBnbG9iYWwgc3BhY2UgYWZ0ZXJ3YXJkc1xuICAgICAgICAgICAgICAgIHZhciBsaW5lU3RvcCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tqXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gaiAvIGZpbGwubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsU3RvcCA9ICh0aGlzTGluZVRvcCAvIGhlaWdodCkgKyAobGluZVN0b3AgKiBncmFkU3RvcExpbmVIZWlnaHQpO1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgY29sb3Igc3RvcCBnZW5lcmF0aW9uIGdvaW5nIGJhY2t3YXJkcyBmcm9tIGZsb2F0aW5nIHBvaW50IGltcHJlY2lzaW9uXG4gICAgICAgICAgICAgICAgdmFyIGNsYW1wZWRTdG9wID0gTWF0aC5tYXgobGFzdEl0ZXJhdGlvblN0b3AsIGdsb2JhbFN0b3ApO1xuICAgICAgICAgICAgICAgIGNsYW1wZWRTdG9wID0gTWF0aC5taW4oY2xhbXBlZFN0b3AsIDEpOyAvLyBDYXAgYXQgMSBhcyB3ZWxsIGZvciBzYWZldHkncyBzYWtlIHRvIGF2b2lkIGEgcG9zc2libGUgdGhyb3cuXG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKGNsYW1wZWRTdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICBsYXN0SXRlcmF0aW9uU3RvcCA9IGNsYW1wZWRTdG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgIGdyYWRpZW50ID0gY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChwYWRkaW5nLCBoZWlnaHQgLyAyLCB3aWR0aCArIHBhZGRpbmcsIGhlaWdodCAvIDIpO1xuICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0b3AgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncmFkaWVudDtcbn1cblxuLy8gVE9ETzogUHJldmVudCBjb2RlIGR1cGxpY2F0aW9uIGIvdyBkcmF3R2x5cGggJiBUZXh0I3VwZGF0ZVRleHRcbi8qKlxuICogRHJhd3MgdGhlIGdseXBoIGBtZXRyaWNzLnRleHRgIG9uIHRoZSBnaXZlbiBjYW52YXMuXG4gKlxuICogSWdub3JlZCBiZWNhdXNlIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dFxuICogQHBhcmFtIHtUZXh0TWV0cmljc30gbWV0cmljc1xuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvblxuICogQHBhcmFtIHtUZXh0U3R5bGV9IHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGRyYXdHbHlwaChjYW52YXMsIGNvbnRleHQsIG1ldHJpY3MsIHgsIHksIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgdmFyIGNoYXIgPSBtZXRyaWNzLnRleHQ7XG4gICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWV0cmljcy5mb250UHJvcGVydGllcztcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIHZhciB0eCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgdmFyIHR5ID0gLShzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKTtcbiAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgdmFyIGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgICAgICB2YXIgZHJvcFNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1ciAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBkcm9wU2hhZG93RGlzdGFuY2UgPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgKiByZXNvbHV0aW9uO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJyZ2JhKFwiICsgcmdiWzBdICogMjU1ICsgXCIsXCIgKyByZ2JbMV0gKiAyNTUgKyBcIixcIiArIHJnYlsyXSAqIDI1NSArIFwiLFwiICsgc3R5bGUuZHJvcFNoYWRvd0FscGhhICsgXCIpXCI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSBNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICdibGFjayc7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgfVxuICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChjaGFyLCB0eCwgdHkgKyBtZXRyaWNzLmxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5kZXNjZW50KTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLmZpbGwpIHtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChjaGFyLCB0eCwgdHkgKyBtZXRyaWNzLmxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5kZXNjZW50KTtcbiAgICB9XG4gICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7IC8vIGRlZmF1bHRzIG5lZWRlZCBmb3Igb2xkZXIgYnJvd3NlcnMgKGUuZy4gT3BlcmEgMjkpXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwKSc7XG59XG5cbi8qKlxuICogUG9ueWZpbGwgZm9yIElFIGJlY2F1c2UgaXQgZG9lc24ndCBzdXBwb3J0IGBBcnJheS5mcm9tYFxuICogQHBhcmFtIHRleHRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNwbGl0VGV4dFRvQ2hhcmFjdGVycyh0ZXh0KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdCgnJyk7XG59XG5cbi8qKlxuICogUHJvY2Vzc2VzIHRoZSBwYXNzZWQgY2hhcmFjdGVyIHNldCBkYXRhIGFuZCByZXR1cm5zIGEgZmxhdHRlbmVkIGFycmF5IG9mIGFsbCB0aGUgY2hhcmFjdGVycy5cbiAqXG4gKiBJZ25vcmVkIGJlY2F1c2Ugbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXSB9IGNoYXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nW119IHRoZSBmbGF0dGVuZWQgYXJyYXkgb2YgY2hhcmFjdGVyc1xuICovXG5mdW5jdGlvbiByZXNvbHZlQ2hhcmFjdGVycyhjaGFycykge1xuICAgIC8vIFNwbGl0IHRoZSBjaGFycyBzdHJpbmcgaW50byBpbmRpdmlkdWFsIGNoYXJhY3RlcnNcbiAgICBpZiAodHlwZW9mIGNoYXJzID09PSAnc3RyaW5nJykge1xuICAgICAgICBjaGFycyA9IFtjaGFyc107XG4gICAgfVxuICAgIC8vIEhhbmRsZSBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzK3Jhbmdlc1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IGNoYXJzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICB2YXIgaXRlbSA9IGNoYXJzW2ldO1xuICAgICAgICAvLyBIYW5kbGUgcmFuZ2UgZGVsaW1pdGVkIGJ5IHN0YXJ0L2VuZCBjaGFyc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZSBsZW5ndGgsIGV4cGVjdGluZyAyIGdvdCBcIiArIGl0ZW0ubGVuZ3RoICsgXCIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXJ0Q29kZSA9IGl0ZW1bMF0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIHZhciBlbmRDb2RlID0gaXRlbVsxXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgaWYgKGVuZENvZGUgPCBzdGFydENvZGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgPSBzdGFydENvZGUsIGpfMSA9IGVuZENvZGU7IGlfMSA8PSBqXzE7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShpXzEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYSBjaGFyYWN0ZXIgc2V0IHN0cmluZ1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoLmFwcGx5KHJlc3VsdCwgc3BsaXRUZXh0VG9DaGFyYWN0ZXJzKGl0ZW0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XTogRW1wdHkgc2V0IHdoZW4gcmVzb2x2aW5nIGNoYXJhY3RlcnMuJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUG9ueWZpbGwgZm9yIElFIGJlY2F1c2UgaXQgZG9lc24ndCBzdXBwb3J0IGBjb2RlUG9pbnRBdGBcbiAqIEBwYXJhbSBzdHJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RDaGFyQ29kZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLmNvZGVQb2ludEF0ID8gc3RyLmNvZGVQb2ludEF0KDApIDogc3RyLmNoYXJDb2RlQXQoMCk7XG59XG5cbi8qKlxuICogQml0bWFwRm9udCByZXByZXNlbnRzIGEgdHlwZWZhY2UgYXZhaWxhYmxlIGZvciB1c2Ugd2l0aCB0aGUgQml0bWFwVGV4dCBjbGFzcy4gVXNlIHRoZSBgaW5zdGFsbGBcbiAqIG1ldGhvZCBmb3IgYWRkaW5nIGEgZm9udCB0byBiZSB1c2VkLlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcGFyYW0gdGV4dHVyZXNcbiAgICAgKiBAcGFyYW0gb3duc1RleHR1cmVzIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBkZXN0cm95IHBhZ2UgdGV4dHVyZXNcbiAgICAgKiAgICAgICAgd2hlbiB0aGUgZm9udCBpcyB1bmluc3RhbGxlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBGb250KGRhdGEsIHRleHR1cmVzLCBvd25zVGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIGluZm8gPSBkYXRhLmluZm9bMF07XG4gICAgICAgIHZhciBjb21tb24gPSBkYXRhLmNvbW1vblswXTtcbiAgICAgICAgdmFyIHBhZ2UgPSBkYXRhLnBhZ2VbMF07XG4gICAgICAgIHZhciBkaXN0YW5jZUZpZWxkID0gZGF0YS5kaXN0YW5jZUZpZWxkWzBdO1xuICAgICAgICB2YXIgcmVzID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHBhZ2UuZmlsZSk7XG4gICAgICAgIHZhciBwYWdlVGV4dHVyZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fb3duc1RleHR1cmVzID0gb3duc1RleHR1cmVzO1xuICAgICAgICB0aGlzLmZvbnQgPSBpbmZvLmZhY2U7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGluZm8uc2l6ZTtcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gY29tbW9uLmxpbmVIZWlnaHQgLyByZXM7XG4gICAgICAgIHRoaXMuY2hhcnMgPSB7fTtcbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBwYWdlVGV4dHVyZXM7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYyA9IGRhdGEucGFnZVtpXSwgaWQgPSBfYy5pZCwgZmlsZSA9IF9jLmZpbGU7XG4gICAgICAgICAgICBwYWdlVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgICAgIC8vIG9ubHkgTVNERiBhbmQgU0RGIGZvbnRzIG5lZWQgbm8tcHJlbXVsdGlwbGllZC1hbHBoYVxuICAgICAgICAgICAgaWYgKChkaXN0YW5jZUZpZWxkID09PSBudWxsIHx8IGRpc3RhbmNlRmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpc3RhbmNlRmllbGQuZmllbGRUeXBlKSAmJiBkaXN0YW5jZUZpZWxkLmZpZWxkVHlwZSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgcGFnZVRleHR1cmVzW2lkXS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPSBBTFBIQV9NT0RFUy5OT19QUkVNVUxUSVBMSUVEX0FMUEhBO1xuICAgICAgICAgICAgICAgIHBhZ2VUZXh0dXJlc1tpZF0uYmFzZVRleHR1cmUubWlwbWFwID0gTUlQTUFQX01PREVTLk9GRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2QgPSBkYXRhLmNoYXJbaV0sIGlkID0gX2QuaWQsIHBhZ2VfMSA9IF9kLnBhZ2U7XG4gICAgICAgICAgICB2YXIgX2UgPSBkYXRhLmNoYXJbaV0sIHggPSBfZS54LCB5ID0gX2UueSwgd2lkdGggPSBfZS53aWR0aCwgaGVpZ2h0ID0gX2UuaGVpZ2h0LCB4b2Zmc2V0ID0gX2UueG9mZnNldCwgeW9mZnNldCA9IF9lLnlvZmZzZXQsIHhhZHZhbmNlID0gX2UueGFkdmFuY2U7XG4gICAgICAgICAgICB4IC89IHJlcztcbiAgICAgICAgICAgIHkgLz0gcmVzO1xuICAgICAgICAgICAgd2lkdGggLz0gcmVzO1xuICAgICAgICAgICAgaGVpZ2h0IC89IHJlcztcbiAgICAgICAgICAgIHhvZmZzZXQgLz0gcmVzO1xuICAgICAgICAgICAgeW9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB4YWR2YW5jZSAvPSByZXM7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBSZWN0YW5nbGUoeCArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS54IC8gcmVzKSwgeSArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS55IC8gcmVzKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiB4b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHlPZmZzZXQ6IHlvZmZzZXQsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHhhZHZhbmNlLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmJhc2VUZXh0dXJlLCByZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlXzEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5rZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2YgPSBkYXRhLmtlcm5pbmdbaV0sIGZpcnN0ID0gX2YuZmlyc3QsIHNlY29uZCA9IF9mLnNlY29uZCwgYW1vdW50ID0gX2YuYW1vdW50O1xuICAgICAgICAgICAgZmlyc3QgLz0gcmVzO1xuICAgICAgICAgICAgc2Vjb25kIC89IHJlcztcbiAgICAgICAgICAgIGFtb3VudCAvPSByZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFN0b3JlIGRpc3RhbmNlIGZpZWxkIGluZm9ybWF0aW9uXG4gICAgICAgIHRoaXMuZGlzdGFuY2VGaWVsZFJhbmdlID0gZGlzdGFuY2VGaWVsZCA9PT0gbnVsbCB8fCBkaXN0YW5jZUZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXN0YW5jZUZpZWxkLmRpc3RhbmNlUmFuZ2U7XG4gICAgICAgIHRoaXMuZGlzdGFuY2VGaWVsZFR5cGUgPSAoX2IgPSAoX2EgPSBkaXN0YW5jZUZpZWxkID09PSBudWxsIHx8IGRpc3RhbmNlRmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpc3RhbmNlRmllbGQuZmllbGRUeXBlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ25vbmUnO1xuICAgIH1cbiAgICAvKiogUmVtb3ZlIHJlZmVyZW5jZXMgdG8gY3JlYXRlZCBnbHlwaCB0ZXh0dXJlcy4gKi9cbiAgICBCaXRtYXBGb250LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmNoYXJzKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdLnRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMucGFnZVRleHR1cmVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3duc1RleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlc1tpZF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCByZWFkb25seSBudWxsLlxuICAgICAgICB0aGlzLmNoYXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgYml0bWFwIGZvbnQuXG4gICAgICogQHBhcmFtIGRhdGEgLSBUaGVcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycyBtYXAgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBhcyB4bWwgb3IgcmF3IHN0cmluZy5cbiAgICAgKiBAcGFyYW0gdGV4dHVyZXMgLSBMaXN0IG9mIHRleHR1cmVzIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHBhcmFtIG93bnNUZXh0dXJlcyAtIFNldCB0byBgdHJ1ZWAgdG8gZGVzdHJveSBwYWdlIHRleHR1cmVzXG4gICAgICogICAgICAgIHdoZW4gdGhlIGZvbnQgaXMgdW5pbnN0YWxsZWQuIEJ5IGRlZmF1bHQgZm9udHMgY3JlYXRlZCB3aXRoXG4gICAgICogICAgICAgIGBCaXRtYXBGb250LmZyb21gIG9yIGZyb20gdGhlIGBCaXRtYXBGb250TG9hZGVyYCBhcmUgYHRydWVgLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJpdG1hcEZvbnR9IFJlc3VsdCBmb250IG9iamVjdCB3aXRoIGZvbnQsIHNpemUsIGxpbmVIZWlnaHRcbiAgICAgKiAgICAgICAgIGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lmluc3RhbGwgPSBmdW5jdGlvbiAoZGF0YSwgdGV4dHVyZXMsIG93bnNUZXh0dXJlcykge1xuICAgICAgICB2YXIgZm9udERhdGE7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQml0bWFwRm9udERhdGEpIHtcbiAgICAgICAgICAgIGZvbnREYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmb3JtYXQgPSBhdXRvRGV0ZWN0Rm9ybWF0KGRhdGEpO1xuICAgICAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBkYXRhIGZvcm1hdCBmb3IgZm9udC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnREYXRhID0gZm9ybWF0LnBhcnNlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmdsZSB0ZXh0dXJlLCBjb252ZXJ0IHRvIGxpc3RcbiAgICAgICAgaWYgKHRleHR1cmVzIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZXMgPSBbdGV4dHVyZXNdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gbmV3IEJpdG1hcEZvbnQoZm9udERhdGEsIHRleHR1cmVzLCBvd25zVGV4dHVyZXMpO1xuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250LmZvbnRdID0gZm9udDtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYml0bWFwIGZvbnQgYnkgbmFtZS5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGZvbnQgdG8gdW5pbnN0YWxsLlxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQudW5pbnN0YWxsID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmb250IGZvdW5kIG5hbWVkICdcIiArIG5hbWUgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9udC5kZXN0cm95KCk7XG4gICAgICAgIGRlbGV0ZSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGJpdG1hcC1mb250IGZvciB0aGUgZ2l2ZW4gc3R5bGUgYW5kIGNoYXJhY3RlciBzZXQuIFRoaXMgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAqIGtlcm5pbmdzIHlldC4gV2l0aCBgc3R5bGVgIHByb3BlcnRpZXMsIG9ubHkgdGhlIGZvbGxvd2luZyBub24tbGF5b3V0IHByb3BlcnRpZXMgYXJlIHVzZWQ6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93fGRyb3BTaGFkb3d9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0Rpc3RhbmNlfGRyb3BTaGFkb3dEaXN0YW5jZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93Q29sb3J8ZHJvcFNoYWRvd0NvbG9yfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dCbHVyfGRyb3BTaGFkb3dCbHVyfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dBbmdsZXxkcm9wU2hhZG93QW5nbGV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbHxmaWxsfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGxHcmFkaWVudFN0b3BzfGZpbGxHcmFkaWVudFN0b3BzfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGxHcmFkaWVudFR5cGV8ZmlsbEdyYWRpZW50VHlwZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250RmFtaWx5fGZvbnRGYW1pbHl9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFNpemV8Zm9udFNpemV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFZhcmlhbnR8Zm9udFZhcmlhbnR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFdlaWdodHxmb250V2VpZ2h0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2xpbmVKb2lufGxpbmVKb2lufVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI21pdGVyTGltaXR8bWl0ZXJMaW1pdH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNzdHJva2V8c3Ryb2tlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZVRoaWNrbmVzc3xzdHJva2VUaGlja25lc3N9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjdGV4dEJhc2VsaW5lfHRleHRCYXNlbGluZX1cbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZm9udCB0byB1c2Ugd2l0aCBCaXRtYXBUZXh0LlxuICAgICAqIEBwYXJhbSB0ZXh0U3R5bGUgLSBTdHlsZSBvcHRpb25zIHRvIHJlbmRlciB3aXRoIEJpdG1hcEZvbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBTZXR1cCBvcHRpb25zIGZvciBmb250IG9yIG5hbWUgb2YgdGhlIGZvbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gW29wdGlvbnMuY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ10gLSBjaGFyYWN0ZXJzIGluY2x1ZGVkXG4gICAgICogICAgICBpbiB0aGUgZm9udCBzZXQuIFlvdSBjYW4gYWxzbyB1c2UgcmFuZ2VzLiBGb3IgZXhhbXBsZSwgYFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBcIiFAIyQlXiYqKCl+e31bXSBcIl1gLlxuICAgICAqICAgICAgRG9uJ3QgZm9yZ2V0IHRvIGluY2x1ZGUgc3BhY2VzICcgJyBpbiB5b3VyIGNoYXJhY3RlciBzZXQhXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBSZW5kZXIgcmVzb2x1dGlvbiBmb3IgZ2x5cGhzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlV2lkdGg9NTEyXSAtIE9wdGlvbmFsIHdpZHRoIG9mIGF0bGFzLCBzbWFsbGVyIHZhbHVlcyB0byByZWR1Y2UgbWVtb3J5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlSGVpZ2h0PTUxMl0gLSBPcHRpb25hbCBoZWlnaHQgb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBhZGRpbmc9NF0gLSBQYWRkaW5nIGJldHdlZW4gZ2x5cGhzIG9uIHRleHR1cmUgYXRsYXMuXG4gICAgICogQHJldHVybnMgRm9udCBnZW5lcmF0ZWQgYnkgc3R5bGUgb3B0aW9ucy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFBJWEkuQml0bWFwRm9udC5mcm9tKFwiVGl0bGVGb250XCIsIHtcbiAgICAgKiAgICAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICAgICAqICAgICBmb250U2l6ZTogMTIsXG4gICAgICogICAgIHN0cm9rZVRoaWNrbmVzczogMixcbiAgICAgKiAgICAgZmlsbDogXCJwdXJwbGVcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc3QgdGl0bGUgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwiVGhpcyBpcyB0aGUgdGl0bGVcIiwgeyBmb250TmFtZTogXCJUaXRsZUZvbnRcIiB9KTtcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmZyb20gPSBmdW5jdGlvbiAobmFtZSwgdGV4dFN0eWxlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF0gUHJvcGVydHkgYG5hbWVgIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IE9iamVjdC5hc3NpZ24oe30sIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBjaGFycyA9IF9hLmNoYXJzLCBwYWRkaW5nID0gX2EucGFkZGluZywgcmVzb2x1dGlvbiA9IF9hLnJlc29sdXRpb24sIHRleHR1cmVXaWR0aCA9IF9hLnRleHR1cmVXaWR0aCwgdGV4dHVyZUhlaWdodCA9IF9hLnRleHR1cmVIZWlnaHQ7XG4gICAgICAgIHZhciBjaGFyc0xpc3QgPSByZXNvbHZlQ2hhcmFjdGVycyhjaGFycyk7XG4gICAgICAgIHZhciBzdHlsZSA9IHRleHRTdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSA/IHRleHRTdHlsZSA6IG5ldyBUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnREYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIGZvbnREYXRhLmluZm9bMF0gPSB7XG4gICAgICAgICAgICBmYWNlOiBzdHlsZS5mb250RmFtaWx5LFxuICAgICAgICAgICAgc2l6ZTogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIH07XG4gICAgICAgIGZvbnREYXRhLmNvbW1vblswXSA9IHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHN0eWxlLmZvbnRTaXplLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcG9zaXRpb25YID0gMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgIHZhciBjYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0O1xuICAgICAgICB2YXIgYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0ZXh0dXJlSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShjYW52YXMsIHsgcmVzb2x1dGlvbjogcmVzb2x1dGlvbiB9KTtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKSk7XG4gICAgICAgICAgICAgICAgZm9udERhdGEucGFnZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWVhc3VyZSBnbHlwaCBkaW1lbnNpb25zXG4gICAgICAgICAgICB2YXIgY2hhcmFjdGVyID0gY2hhcnNMaXN0W2ldO1xuICAgICAgICAgICAgdmFyIG1ldHJpY3MgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dChjaGFyYWN0ZXIsIHN0eWxlLCBmYWxzZSwgY2FudmFzKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IG1ldHJpY3Mud2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKG1ldHJpY3MuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdWdseSAtIGJ1dCBpdGFsaWNzIGFyZSBnaXZlbiBtb3JlIHNwYWNlIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgdmFyIHRleHR1cmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKChzdHlsZS5mb250U3R5bGUgPT09ICdpdGFsaWMnID8gMiA6IDEpICogd2lkdGgpO1xuICAgICAgICAgICAgLy8gQ2FuJ3QgZml0IGNoYXIgYW55bW9yZTogbmV4dCBjYW52YXMgcGxlYXNlIVxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA+PSB0ZXh0dXJlSGVpZ2h0IC0gKGhlaWdodCAqIHJlc29sdXRpb24pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHVzZXIgZGVidWdnaW5nIGFuIGluZmluaXRlIGxvb3AgKG9yIGRvIHdlPyA6KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF0gdGV4dHVyZUhlaWdodCBcIiArIHRleHR1cmVIZWlnaHQgKyBcInB4IGlzIHRvbyBzbWFsbCBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXCIoZm9udEZhbWlseTogJ1wiICsgc3R5bGUuZm9udEZhbWlseSArIFwiJywgZm9udFNpemU6IFwiICsgc3R5bGUuZm9udFNpemUgKyBcInB4LCBjaGFyOiAnXCIgKyBjaGFyYWN0ZXIgKyBcIicpXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXRsYXMgb25jZSBjdXJyZW50IGhhcyBmaWxsZWQgdXBcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSAwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0ICsgbWV0cmljcy5mb250UHJvcGVydGllcy5kZXNjZW50LCBtYXhDaGFySGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFdyYXAgbGluZSBvbmNlIGZ1bGwgcm93IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAgICAgICAgICBpZiAoKHRleHR1cmVHbHlwaFdpZHRoICogcmVzb2x1dGlvbikgKyBwb3NpdGlvblggPj0gbGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uWCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZCBpbmZpbml0ZSBsb29wIChUaGVyZSBjYW4gYmUgc29tZSB2ZXJ5IHdpZGUgY2hhciBsaWtlICdcXHVGREZEJyEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XSB0ZXh0dXJlV2lkdGggXCIgKyB0ZXh0dXJlV2lkdGggKyBcInB4IGlzIHRvbyBzbWFsbCBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXCIoZm9udEZhbWlseTogJ1wiICsgc3R5bGUuZm9udEZhbWlseSArIFwiJywgZm9udFNpemU6IFwiICsgc3R5bGUuZm9udFNpemUgKyBcInB4LCBjaGFyOiAnXCIgKyBjaGFyYWN0ZXIgKyBcIicpXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSArPSBtYXhDaGFySGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBNYXRoLmNlaWwocG9zaXRpb25ZKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgcG9zaXRpb25YLCBwb3NpdGlvblksIHJlc29sdXRpb24sIHN0eWxlKTtcbiAgICAgICAgICAgIC8vIFVuaXF1ZSAobnVtZXJpYykgSUQgbWFwcGluZyB0byB0aGlzIGdseXBoXG4gICAgICAgICAgICB2YXIgaWQgPSBleHRyYWN0Q2hhckNvZGUobWV0cmljcy50ZXh0KTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRleHR1cmUgaG9sZGluZyBqdXN0IHRoZSBnbHlwaFxuICAgICAgICAgICAgZm9udERhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcGFnZTogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICB4OiBwb3NpdGlvblggLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIHk6IHBvc2l0aW9uWSAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRleHR1cmVHbHlwaFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHhvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgeW9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB4YWR2YW5jZTogTWF0aC5jZWlsKHdpZHRoXG4gICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLmRyb3BTaGFkb3cgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwKVxuICAgICAgICAgICAgICAgICAgICAtIChzdHlsZS5zdHJva2UgPyBzdHlsZS5zdHJva2VUaGlja25lc3MgOiAwKSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvc2l0aW9uWCArPSAodGV4dHVyZUdseXBoV2lkdGggKyAoMiAqIHBhZGRpbmcpKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwb3NpdGlvblggPSBNYXRoLmNlaWwocG9zaXRpb25YKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCcnV0ZS1mb3JjZSBrZXJuaW5nIGluZm8sIHRoaXMgY2FuIGJlIGV4cGVuc2l2ZSBiL2MgaXQncyBhbiBPKG7CsiksXG4gICAgICAgIC8vIGJ1dCB3ZSdyZSB1c2luZyBtZWFzdXJlVGV4dCB3aGljaCBpcyBuYXRpdmUgYW5kIGZhc3QuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGFyc0xpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IGNoYXJzTGlzdFtpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Vjb25kID0gY2hhcnNMaXN0W2pdO1xuICAgICAgICAgICAgICAgIHZhciBjMSA9IGNvbnRleHQubWVhc3VyZVRleHQoZmlyc3QpLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBjMiA9IGNvbnRleHQubWVhc3VyZVRleHQoc2Vjb25kKS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgdG90YWwgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGZpcnN0ICsgc2Vjb25kKS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgYW1vdW50ID0gdG90YWwgLSAoYzEgKyBjMik7XG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBmb250RGF0YS5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IGV4dHJhY3RDaGFyQ29kZShmaXJzdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQ6IGV4dHJhY3RDaGFyQ29kZShzZWNvbmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcywgdHJ1ZSk7XG4gICAgICAgIC8vIE1ha2UgaXQgZWFzaWVyIHRvIHJlcGxhY2UgYSBmb250XG4gICAgICAgIGlmIChCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCaXRtYXBGb250LnVuaW5zdGFsbChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSA9IGZvbnQ7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCB0aGUgbGV0dGVycyBpbiB0aGUgYWxwaGFiZXQgKGJvdGggbG93ZXItIGFuZCB1cHBlci0gY2FzZSkuXG4gICAgICogQHR5cGUge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5BTFBIQSB9KVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEEgPSBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgJyAnXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIGRlY2ltYWwgZGlnaXRzIChmcm9tIDAgdG8gOSkuXG4gICAgICogQHR5cGUge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5OVU1FUklDIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5OVU1FUklDID0gW1snMCcsICc5J11dO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpcyB0aGUgdW5pb24gb2YgYEJpdG1hcEZvbnQuQUxQSEFgIGFuZCBgQml0bWFwRm9udC5OVU1FUklDYC5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW11bXX1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBbJzAnLCAnOSddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBjb25zaXN0cyBvZiBhbGwgdGhlIEFTQ0lJIHRhYmxlLlxuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQHNlZSBodHRwOi8vd3d3LmFzY2lpdGFibGUuY29tL1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQVNDSUkgPSBbWycgJywgJ34nXV07XG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBkZWZhdWx0IG9wdGlvbnMgd2hlbiB1c2luZyBgQml0bWFwRm9udC5mcm9tYC5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW3Jlc29sdXRpb249MV0gLVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZVdpZHRoPTUxMl0gLVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZUhlaWdodD01MTJdIC1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW3BhZGRpbmc9NF0gLVxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IGNoYXJzID0gUElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIHRleHR1cmVXaWR0aDogNTEyLFxuICAgICAgICB0ZXh0dXJlSGVpZ2h0OiA1MTIsXG4gICAgICAgIHBhZGRpbmc6IDQsXG4gICAgICAgIGNoYXJzOiBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyxcbiAgICB9O1xuICAgIC8qKiBDb2xsZWN0aW9uIG9mIGF2YWlsYWJsZS9pbnN0YWxsZWQgZm9udHMuICovXG4gICAgQml0bWFwRm9udC5hdmFpbGFibGUgPSB7fTtcbiAgICByZXR1cm4gQml0bWFwRm9udDtcbn0oKSk7XG5cbnZhciBtc2RmRnJhZyA9IFwiLy8gUGl4aSB0ZXh0dXJlIGluZm9cXHJcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXHJcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXHJcXG5cXHJcXG4vLyBUaW50XFxyXFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXHJcXG5cXHJcXG4vLyBvbiAyRCBhcHBsaWNhdGlvbnMgZndpZHRoIGlzIHNjcmVlblNjYWxlIC8gZ2x5cGhBdGxhc1NjYWxlICogZGlzdGFuY2VGaWVsZFJhbmdlXFxyXFxudW5pZm9ybSBmbG9hdCB1RldpZHRoO1xcclxcblxcclxcbnZvaWQgbWFpbih2b2lkKSB7XFxyXFxuXFxyXFxuICAvLyBUbyBzdGFjayBNU0RGIGFuZCBTREYgd2UgbmVlZCBhIG5vbi1wcmUtbXVsdGlwbGllZC1hbHBoYSB0ZXh0dXJlLlxcclxcbiAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxyXFxuXFxyXFxuICAvLyBNU0RGXFxyXFxuICBmbG9hdCBtZWRpYW4gPSB0ZXhDb2xvci5yICsgdGV4Q29sb3IuZyArIHRleENvbG9yLmIgLVxcclxcbiAgICAgICAgICAgICAgICAgIG1pbih0ZXhDb2xvci5yLCBtaW4odGV4Q29sb3IuZywgdGV4Q29sb3IuYikpIC1cXHJcXG4gICAgICAgICAgICAgICAgICBtYXgodGV4Q29sb3IuciwgbWF4KHRleENvbG9yLmcsIHRleENvbG9yLmIpKTtcXHJcXG4gIC8vIFNERlxcclxcbiAgbWVkaWFuID0gbWluKG1lZGlhbiwgdGV4Q29sb3IuYSk7XFxyXFxuXFxyXFxuICBmbG9hdCBzY3JlZW5QeERpc3RhbmNlID0gdUZXaWR0aCAqIChtZWRpYW4gLSAwLjUpO1xcclxcbiAgZmxvYXQgYWxwaGEgPSBjbGFtcChzY3JlZW5QeERpc3RhbmNlICsgMC41LCAwLjAsIDEuMCk7XFxyXFxuICBpZiAobWVkaWFuIDwgMC4wMSkge1xcclxcbiAgICBhbHBoYSA9IDAuMDtcXHJcXG4gIH0gZWxzZSBpZiAobWVkaWFuID4gMC45OSkge1xcclxcbiAgICBhbHBoYSA9IDEuMDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC8vIE5QTSBUZXh0dXJlcywgTlBNIG91dHB1dHNcXHJcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodUNvbG9yLnJnYiwgdUNvbG9yLmEgKiBhbHBoYSk7XFxyXFxuXFxyXFxufVxcclxcblwiO1xuXG52YXIgbXNkZlZlcnQgPSBcIi8vIE1lc2ggbWF0ZXJpYWwgZGVmYXVsdCBmcmFnbWVudFxcclxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXHJcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcclxcblxcclxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcclxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXHJcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxyXFxuXFxyXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxyXFxuXFxyXFxudm9pZCBtYWluKHZvaWQpXFxyXFxue1xcclxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcclxcblxcclxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXHJcXG59XFxyXFxuXCI7XG5cbi8vIElmIHdlIGV2ZXIgbmVlZCBtb3JlIHRoYW4gdHdvIHBvb2xzLCBwbGVhc2UgbWFrZSBhIERpY3Qgb3Igc29tZXRoaW5nIGJldHRlci5cbnZhciBwYWdlTWVzaERhdGFEZWZhdWx0UGFnZU1lc2hEYXRhID0gW107XG52YXIgcGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YSA9IFtdO1xudmFyIGNoYXJSZW5kZXJEYXRhUG9vbCA9IFtdO1xuLyoqXG4gKiBBIEJpdG1hcFRleHQgb2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0IHVzaW5nIGJpdG1hcCBmb250LlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgVGV4dCBpcyB0aGF0IGFsbCBvZiB5b3VyIHRleHR1cmVzIGFyZSBwcmUtZ2VuZXJhdGVkIGFuZCBsb2FkaW5nLFxuICogbWVhbmluZyB0aGF0IHJlbmRlcmluZyBpcyBmYXN0LCBhbmQgY2hhbmdpbmcgdGV4dCBoYXMgbm8gcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLlxuICpcbiAqIFN1cHBvcnRpbmcgY2hhcmFjdGVyIHNldHMgb3RoZXIgdGhhbiBsYXRpbiwgc3VjaCBhcyBDSksgbGFuZ3VhZ2VzLCBtYXkgYmUgaW1wcmFjdGljYWwgZHVlIHRvIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycy5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicsICdcXHInIG9yICdcXHJcXG4nIGluIHlvdXIgc3RyaW5nLlxuICpcbiAqIFBpeGlKUyBjYW4gYXV0by1nZW5lcmF0ZSBmb250cyBvbi10aGUtZmx5IHVzaW5nIEJpdG1hcEZvbnQgb3IgdXNlIGZudCBmaWxlcyBwcm92aWRlZCBieTpcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciBXaW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgTWFjLlxuICpcbiAqIFlvdSBjYW4gYWxzbyB1c2UgU0RGLCBNU0RGIGFuZCBNVFNERiBCaXRtYXBGb250cyBmb3IgdmVjdG9yLWxpa2Ugc2NhbGluZyBhcHBlYXJhbmNlIHByb3ZpZGVkIGJ5OlxuICogaHR0cHM6Ly9naXRodWIuY29tL3NvaW15L21zZGYtYm1mb250LXhtbCBmb3IgU0RGIGFuZCBNU0RGIGZudCBmaWxlcyBvclxuICogaHR0cHM6Ly9naXRodWIuY29tL0NobHVtc2t5L21zZGYtYXRsYXMtZ2VuIGZvciBTREYsIE1TREYgYW5kIE1UU0RGIGpzb24gZmlsZXNcbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtcbiAqICAgZm9udE5hbWU6IFwiRGVzeXJlbFwiLFxuICogICBmb250U2l6ZTogMzUsXG4gKiAgIGFsaWduOiBcInJpZ2h0XCJcbiAqIH0pO1xuICogYGBgXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQml0bWFwVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdGV4dCAtIEEgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGUuZm9udE5hbWUgLSBUaGUgaW5zdGFsbGVkIEJpdG1hcEZvbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZvbnRTaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNC4gSWYgdW5kZWZpbmVkLFxuICAgICAqLiAgICAgdGhpcyB3aWxsIGRlZmF1bHQgdG8gdGhlIEJpdG1hcEZvbnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnIG9yICdqdXN0aWZ5JyksXG4gICAgICogICAgICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnRpbnQ9MHhGRkZGRkZdIC0gVGhlIHRpbnQgY29sb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1heFdpZHRoPTBdIC0gVGhlIG1heCB3aWR0aCBvZiB0aGUgdGV4dCBiZWZvcmUgbGluZSB3cmFwcGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBUZXh0KHRleHQsIHN0eWxlKSB7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gdm9pZCAwKSB7IHN0eWxlID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGludC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8vIEFwcGx5IHRoZSBkZWZhdWx0c1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHt9LCBCaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMsIHN0eWxlKSwgYWxpZ24gPSBfYS5hbGlnbiwgdGludCA9IF9hLnRpbnQsIG1heFdpZHRoID0gX2EubWF4V2lkdGgsIGxldHRlclNwYWNpbmcgPSBfYS5sZXR0ZXJTcGFjaW5nLCBmb250TmFtZSA9IF9hLmZvbnROYW1lLCBmb250U2l6ZSA9IF9hLmZvbnRTaXplO1xuICAgICAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIGZvbnROYW1lICsgXCJcXFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gW107XG4gICAgICAgIF90aGlzLl90ZXh0V2lkdGggPSAwO1xuICAgICAgICBfdGhpcy5fdGV4dEhlaWdodCA9IDA7XG4gICAgICAgIF90aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICBfdGhpcy5fdGludCA9IHRpbnQ7XG4gICAgICAgIF90aGlzLl9mb250ID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy5fZm9udE5hbWUgPSBmb250TmFtZTtcbiAgICAgICAgX3RoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIF90aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICBfdGhpcy5fbWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgX3RoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuICAgICAgICBfdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KGZ1bmN0aW9uICgpIHsgX3RoaXMuZGlydHkgPSB0cnVlOyB9LCBfdGhpcywgMCwgMCk7XG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICBfdGhpcy5fcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIF90aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlQ2FjaGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKiogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBpZiB0aGUgQml0bWFwRm9udCBpcyByZWdlbmVyYXRlZC4gKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdO1xuICAgICAgICB2YXIgZm9udFNpemUgPSB0aGlzLmZvbnRTaXplO1xuICAgICAgICB2YXIgc2NhbGUgPSBmb250U2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgdmFyIHBvcyA9IG5ldyBQb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVTcGFjZXMgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLl90ZXh0LnJlcGxhY2UoLyg/OlxcclxcbnxcXHIpL2csICdcXG4nKSB8fCAnICc7XG4gICAgICAgIHZhciBjaGFyc0lucHV0ID0gc3BsaXRUZXh0VG9DaGFyYWN0ZXJzKHRleHQpO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIGZvbnRTaXplO1xuICAgICAgICB2YXIgcGFnZU1lc2hEYXRhUG9vbCA9IGRhdGEuZGlzdGFuY2VGaWVsZFR5cGUgPT09ICdub25lJ1xuICAgICAgICAgICAgPyBwYWdlTWVzaERhdGFEZWZhdWx0UGFnZU1lc2hEYXRhIDogcGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YTtcbiAgICAgICAgdmFyIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gMDtcbiAgICAgICAgdmFyIGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICB2YXIgbGFzdEJyZWFrV2lkdGggPSAwO1xuICAgICAgICB2YXIgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIHNwYWNlQ291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzSW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcnNJbnB1dFtpXTtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IGV4dHJhY3RDaGFyQ29kZShjaGFyKTtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gaTtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtXaWR0aCA9IGxhc3RMaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgc3BhY2VDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmVTcGFjZXMucHVzaCgtMSk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICArK2xpbmU7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzcGFjZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhclJlbmRlckRhdGEgPSBjaGFyUmVuZGVyRGF0YVBvb2wucG9wKCkgfHwge1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuRU1QVFksXG4gICAgICAgICAgICAgICAgbGluZTogMCxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogMCxcbiAgICAgICAgICAgICAgICBwcmV2U3BhY2VzOiAwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgUG9pbnQoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS50ZXh0dXJlID0gY2hhckRhdGEudGV4dHVyZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLmxpbmUgPSBsaW5lO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEuY2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnggPSBwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcy5fbGV0dGVyU3BhY2luZyAvIDIpO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueSA9IHBvcy55ICsgY2hhckRhdGEueU9mZnNldDtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnByZXZTcGFjZXMgPSBzcGFjZUNvdW50O1xuICAgICAgICAgICAgY2hhcnMucHVzaChjaGFyUmVuZGVyRGF0YSk7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gY2hhclJlbmRlckRhdGEucG9zaXRpb24ueFxuICAgICAgICAgICAgICAgICsgTWF0aC5tYXgoY2hhckRhdGEueEFkdmFuY2UgLSBjaGFyRGF0YS54T2Zmc2V0LCBjaGFyRGF0YS50ZXh0dXJlLm9yaWcud2lkdGgpO1xuICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEueEFkdmFuY2UgKyB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIChjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgaWYgKGxhc3RCcmVha1BvcyAhPT0gLTEgJiYgbWF4V2lkdGggPiAwICYmIHBvcy54ID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmVTcGFjZXMucHVzaChjaGFycy5sZW5ndGggPiAwID8gY2hhcnNbY2hhcnMubGVuZ3RoIC0gMV0ucHJldlNwYWNlcyA6IDApO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmUrKztcbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3BhY2VDb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RDaGFyID0gY2hhcnNJbnB1dFtjaGFyc0lucHV0Lmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdENoYXIgIT09ICdcXHInICYmIGxhc3RDaGFyICE9PSAnXFxuJykge1xuICAgICAgICAgICAgaWYgKCgvKD86XFxzKS8pLnRlc3QobGFzdENoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIGxpbmVTcGFjZXMucHVzaCgtMSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGluZTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWxpZ25PZmZzZXQgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYWxpZ24gPT09ICdqdXN0aWZ5Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbGluZVNwYWNlc1tpXSA8IDAgPyAwIDogKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gbGluZVNwYWNlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbkNoYXJzID0gY2hhcnMubGVuZ3RoO1xuICAgICAgICB2YXIgcGFnZXNNZXNoRGF0YSA9IHt9O1xuICAgICAgICB2YXIgbmV3UGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgICAgICB2YXIgYWN0aXZlUGFnZXNNZXNoRGF0YSA9IHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGE7XG4gICAgICAgIHBhZ2VNZXNoRGF0YVBvb2wucHVzaC5hcHBseShwYWdlTWVzaERhdGFQb29sLCBhY3RpdmVQYWdlc01lc2hEYXRhKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXJzW2ldLnRleHR1cmU7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVVaWQgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZDtcbiAgICAgICAgICAgIGlmICghcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZU1lc2hEYXRhUG9vbC5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VNZXNoRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc2hCbGVuZE1vZGUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmRpc3RhbmNlRmllbGRUeXBlID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLkVNUFRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2hCbGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5FTVBUWSwgeyBwcm9ncmFtOiBQcm9ncmFtLmZyb20obXNkZlZlcnQsIG1zZGZGcmFnKSwgdW5pZm9ybXM6IHsgdUZXaWR0aDogMCB9IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaEJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgICAgICBtZXNoLmJsZW5kTW9kZSA9IG1lc2hCbGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2g6IG1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2czogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGRhdGEuLlxuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnV2c0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudG90YWwgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gbmVlZCB0byBnZXQgcGFnZSB0ZXh0dXJlIGhlcmUgc29tZWhvdy4uXG4gICAgICAgICAgICAgICAgdmFyIF90ZXh0dXJlQ2FjaGUgPSB0aGlzLl90ZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICAgICAgX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF0gPSBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXSB8fCBuZXcgVGV4dHVyZSh0ZXh0dXJlLmJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC50ZXh0dXJlID0gX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF07XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGludCA9IHRoaXMuX3RpbnQ7XG4gICAgICAgICAgICAgICAgbmV3UGFnZXNNZXNoRGF0YS5wdXNoKHBhZ2VNZXNoRGF0YSk7XG4gICAgICAgICAgICAgICAgcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0gPSBwYWdlTWVzaERhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXS50b3RhbCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgZmluZCBhbnkgcHJldmlvdXNseSBhY3RpdmUgcGFnZU1lc2hEYXRhcyB0aGF0IGFyZSBubyBsb25nZXIgcmVxdWlyZWQgZm9yXG4gICAgICAgIC8vIHRoZSB1cGRhdGVkIHRleHQgKGlmIGFueSksIHJlbW92ZWQgYW5kIHJldHVybiB0aGVtIHRvIHRoZSBwb29sLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdQYWdlc01lc2hEYXRhLmluZGV4T2YoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhY3RpdmVQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5leHQgbGV0cyBhZGQgYW55IG5ldyBtZXNoZXMsIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gYWRkZWQgdG8gdGhpcyBCaXRtYXBUZXh0XG4gICAgICAgIC8vIHdlIG9ubHkgYWRkIGlmIGl0cyBub3QgYWxyZWFkeSBhIGNoaWxkIG9mIHRoaXMgQml0bWFwT2JqZWN0XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3UGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaC5wYXJlbnQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWN0aXZlIHBhZ2UgbWVzaCBkYXRhcyBhcmUgc2V0IHRvIGJlIHRoZSBuZXcgcGFnZXMgYWRkZWQuXG4gICAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBuZXdQYWdlc01lc2hEYXRhO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gcGFnZU1lc2hEYXRhLnRvdGFsO1xuICAgICAgICAgICAgLy8gbGV0cyBvbmx5IGFsbG9jYXRlIG5ldyBidWZmZXJzIGlmIHdlIGNhbiBmaXQgdGhlIG5ldyB0ZXh0IGluIHRoZSBjdXJyZW50IG9uZXMuLlxuICAgICAgICAgICAgLy8gdW5sZXNzIHRoYXQgaXMsIHdlIHdpbGwgYmUgYmF0Y2hpbmcuIEN1cnJlbnRseSBiYXRjaGluZyBkb3NlIG5vdCByZXNwZWN0IHRoZSBzaXplIHByb3BlcnR5IG9mIG1lc2hcbiAgICAgICAgICAgIGlmICghKCgoX2EgPSBwYWdlTWVzaERhdGEuaW5kaWNlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiA2ICogdG90YWwpIHx8IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMikge1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIDIgKiB0b3RhbCk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIDIgKiB0b3RhbCk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoNiAqIHRvdGFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0b3RhbF8xID0gcGFnZU1lc2hEYXRhLnRvdGFsO1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcztcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgZ2FyYmFnZSBhdCB0aGUgZW5kIG9mIHRoZSB2ZXJ0aWNlcyBidWZmZXIuIFRoaXMgd2lsbCBwcmV2ZW50IHRoZSBib3VuZHMgbWlzY2FsY3VsYXRpb24uXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gdG90YWxfMSAqIDQgKiAyOyBpXzEgPCB2ZXJ0aWNlcy5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzW2lfMV0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFzIGEgYnVmZmVyIG1heWJlIGJpZ2dlciB0aGFuIHRoZSBjdXJyZW50IHdvcmQsIHdlIHNldCB0aGUgc2l6ZSBvZiB0aGUgbWVzaE1hdGVyaWFsXG4gICAgICAgICAgICAvLyB0byBtYXRjaCB0aGUgbnVtYmVyIG9mIGxldHRlcnMgbmVlZGVkXG4gICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC5zaXplID0gNiAqIHRvdGFsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyc1tpXTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBjaGFyLnBvc2l0aW9uLnggKyAobGluZUFsaWduT2Zmc2V0c1tjaGFyLmxpbmVdICogKHRoaXMuX2FsaWduID09PSAnanVzdGlmeScgPyBjaGFyLnByZXZTcGFjZXMgOiAxKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBNYXRoLnJvdW5kKG9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgeFBvcyA9IG9mZnNldCAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHlQb3MgPSBjaGFyLnBvc2l0aW9uLnkgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gY2hhci50ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHBhZ2VNZXNoID0gcGFnZXNNZXNoRGF0YVt0ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZF07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyYW1lID0gdGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlVXZzID0gdGV4dHVyZS5fdXZzO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFnZU1lc2guaW5kZXgrKztcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyAwXSA9IDAgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyAxXSA9IDEgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyAyXSA9IDIgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyAzXSA9IDAgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyA0XSA9IDIgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyA1XSA9IDMgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMF0gPSB4UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAxXSA9IHlQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDJdID0geFBvcyArICh0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDNdID0geVBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgNF0gPSB4UG9zICsgKHRleHR1cmVGcmFtZS53aWR0aCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgNV0gPSB5UG9zICsgKHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDZdID0geFBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgN10gPSB5UG9zICsgKHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyAwXSA9IHRleHR1cmVVdnMueDA7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyAxXSA9IHRleHR1cmVVdnMueTA7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyAyXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyAzXSA9IHRleHR1cmVVdnMueTE7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA0XSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA1XSA9IHRleHR1cmVVdnMueTI7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA2XSA9IHRleHR1cmVVdnMueDM7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA3XSA9IHRleHR1cmVVdnMueTM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dFdpZHRoID0gbWF4TGluZVdpZHRoICogc2NhbGU7XG4gICAgICAgIHRoaXMuX3RleHRIZWlnaHQgPSAocG9zLnkgKyBkYXRhLmxpbmVIZWlnaHQpICogc2NhbGU7XG4gICAgICAgIGZvciAodmFyIGkgaW4gcGFnZXNNZXNoRGF0YSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VNZXNoRGF0YSA9IHBhZ2VzTWVzaERhdGFbaV07XG4gICAgICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvci54ICE9PSAwIHx8IHRoaXMuYW5jaG9yLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgdmVydGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBhbmNob3JPZmZzZXRYID0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0WSA9IHRoaXMuX3RleHRIZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMiA9IDA7IGlfMiA8IHBhZ2VNZXNoRGF0YS50b3RhbDsgaV8yKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSBtYXhMaW5lSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlQnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVGV4dHVyZUNvb3JkJyk7XG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRJbmRleCgpO1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEudmVydGljZXM7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEudXZzO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS5pbmRpY2VzO1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhUG9vbC5wdXNoKGNoYXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb250ID0gZGF0YTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5pZm9ybVxuICAgICAgICB2YXIgX2EgPSBCaXRtYXBGb250LmF2YWlsYWJsZVt0aGlzLl9mb250TmFtZV0sIGRpc3RhbmNlRmllbGRSYW5nZSA9IF9hLmRpc3RhbmNlRmllbGRSYW5nZSwgZGlzdGFuY2VGaWVsZFR5cGUgPSBfYS5kaXN0YW5jZUZpZWxkVHlwZSwgc2l6ZSA9IF9hLnNpemU7XG4gICAgICAgIGlmIChkaXN0YW5jZUZpZWxkVHlwZSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAvLyBJbmplY3QgdGhlIHNoYWRlciBjb2RlIHdpdGggdGhlIGNvcnJlY3QgdmFsdWVcbiAgICAgICAgICAgIHZhciBfYiA9IHRoaXMud29ybGRUcmFuc2Zvcm0sIGEgPSBfYi5hLCBiID0gX2IuYiwgYyA9IF9iLmMsIGQgPSBfYi5kO1xuICAgICAgICAgICAgdmFyIGR4ID0gTWF0aC5zcXJ0KChhICogYSkgKyAoYiAqIGIpKTtcbiAgICAgICAgICAgIHZhciBkeSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG4gICAgICAgICAgICB2YXIgd29ybGRTY2FsZSA9IChNYXRoLmFicyhkeCkgKyBNYXRoLmFicyhkeSkpIC8gMjtcbiAgICAgICAgICAgIHZhciBmb250U2NhbGUgPSB0aGlzLmZvbnRTaXplIC8gc2l6ZTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2MgPSB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhOyBfaSA8IF9jLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBtZXNoID0gX2NbX2ldO1xuICAgICAgICAgICAgICAgIG1lc2gubWVzaC5zaGFkZXIudW5pZm9ybXMudUZXaWR0aCA9IHdvcmxkU2NhbGUgKiBkaXN0YW5jZUZpZWxkUmFuZ2UgKiBmb250U2NhbGUgKiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICogQHJldHVybnMgLSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHQgd2hlbiBuZWVkZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZm9udCA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgdGhpcy5fZm9udE5hbWUgKyBcIlxcXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2ZvbnQgIT09IGZvbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAgICAgKiBAZGVmYXVsdCAweGZmZmZmZlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW50ID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoLnRpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udE5hbWVcIiwge1xuICAgICAgICAvKiogVGhlIG5hbWUgb2YgdGhlIEJpdG1hcEZvbnQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVt2YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udE5hbWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udE5hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCB0byBkaXNwbGF5LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoX2EgPSB0aGlzLl9mb250U2l6ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdLnNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbmNob3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRcIiwge1xuICAgICAgICAvKiogVGhlIHRleHQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvIDAuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXhXaWR0aCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwibWF4TGluZUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaS5lLiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJyZXNvbHV0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc29sdXRpb24gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90ZXh0dXJlQ2FjaGUgPSB0aGlzLl90ZXh0dXJlQ2FjaGU7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdO1xuICAgICAgICB2YXIgcGFnZU1lc2hEYXRhUG9vbCA9IGRhdGEuZGlzdGFuY2VGaWVsZFR5cGUgPT09ICdub25lJ1xuICAgICAgICAgICAgPyBwYWdlTWVzaERhdGFEZWZhdWx0UGFnZU1lc2hEYXRhIDogcGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YTtcbiAgICAgICAgcGFnZU1lc2hEYXRhUG9vbC5wdXNoLmFwcGx5KHBhZ2VNZXNoRGF0YVBvb2wsIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBfYVtfaV07XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHBhZ2VNZXNoRGF0YS5tZXNoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gW107XG4gICAgICAgIC8vIFJlbGVhc2UgcmVmZXJlbmNlcyB0byBhbnkgY2FjaGVkIHRleHR1cmVzIGluIHBhZ2UgcG9vbFxuICAgICAgICBwYWdlTWVzaERhdGFQb29sXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBfdGV4dHVyZUNhY2hlW3BhZ2UubWVzaC50ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZF07IH0pXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgcGFnZS5tZXNoLnRleHR1cmUgPSBUZXh0dXJlLkVNUFRZO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gX3RleHR1cmVDYWNoZSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBfdGV4dHVyZUNhY2hlW2lkXTtcbiAgICAgICAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIF90ZXh0dXJlQ2FjaGVbaWRdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZvbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl90ZXh0dXJlQ2FjaGUgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIEJpdG1hcFRleHQuc3R5bGVEZWZhdWx0cyA9IHtcbiAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgIG1heFdpZHRoOiAwLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIH07XG4gICAgcmV0dXJuIEJpdG1hcFRleHQ7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmdcbiAqIGJpdG1hcC1iYXNlZCBmb250cyBzdWl0YWJsZSBmb3IgdXNpbmcgd2l0aCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5zdGFsbGVkLlxuICAgICAqIEBzZWUgUElYSS5leHRlbnNpb25zLmFkZFxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0gdGhpc1xuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IGF1dG9EZXRlY3RGb3JtYXQocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIC8vIFJlc291cmNlIHdhcyBub3QgcmVjb2duaXNlZCBhcyBhbnkgb2YgdGhlIGV4cGVjdGVkIGZvbnQgZGF0YSBmb3JtYXRcbiAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVVybCA9IEJpdG1hcEZvbnRMb2FkZXIuZ2V0QmFzZVVybCh0aGlzLCByZXNvdXJjZSk7XG4gICAgICAgIHZhciBkYXRhID0gZm9ybWF0LnBhcnNlKHJlc291cmNlLmRhdGEpO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLy8gSGFuZGxlIGNvbXBsZXRlZCwgd2hlbiB0aGUgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICAgIC8vIGxvYWQgaXMgdGhlIHNhbWUgbnVtYmVyIGFzIHJlZmVyZW5jZXMgaW4gdGhlIGZudCBmaWxlXG4gICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGV4dHVyZXMpLmxlbmd0aCA9PT0gZGF0YS5wYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmJpdG1hcEZvbnQgPSBCaXRtYXBGb250Lmluc3RhbGwoZGF0YSwgdGV4dHVyZXMsIHRydWUpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwYWdlRmlsZSA9IGRhdGEucGFnZVtpXS5maWxlO1xuICAgICAgICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyBwYWdlRmlsZTtcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGluY2FzZSB0aGUgaW1hZ2UgaXMgbG9hZGVkIG91dHNpZGVcbiAgICAgICAgICAgIC8vIHVzaW5nIHRoZSBzYW1lIGxvYWRlciwgcmVzb3VyY2Ugd2lsbCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYml0bWFwUmVzb3VyY2UgPSB0aGlzLnJlc291cmNlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5hZGQoY29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgbG9hZFR5cGU6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oeyBwYWdlRmlsZTogcGFnZUZpbGUgfSwgcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHVybCwgb3B0aW9ucywgY29tcGxldGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGZvbGRlciBwYXRoIGZyb20gYSByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0gbG9hZGVyXG4gICAgICogQHBhcmFtIHJlc291cmNlXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsID0gZnVuY3Rpb24gKGxvYWRlciwgcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIHJlc1VybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBCaXRtYXBGb250TG9hZGVyLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICBpZiAocmVzVXJsID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICByZXNVcmwgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2FkZXIuYmFzZVVybCAmJiByZXNVcmwpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byByZXNVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwuY2hhckF0KGxvYWRlci5iYXNlVXJsLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzVXJsICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSByZXNVcmxcbiAgICAgICAgcmVzVXJsID0gcmVzVXJsLnJlcGxhY2UobG9hZGVyLmJhc2VVcmwsICcnKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gcmVzVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAocmVzVXJsICYmIHJlc1VybC5jaGFyQXQocmVzVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc1VybDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2VtZW50IGZvciBOb2RlSlMncyBwYXRoLmRpcm5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gUGF0aCB0byBnZXQgZGlyZWN0b3J5IGZvclxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIGRpciA9IHVybFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJy8nKSAvLyBjb252ZXJ0IHdpbmRvd3Mgbm90YXRpb24gdG8gVU5JWCBub3RhdGlvbiwgVVJMLXNhZmUgYmVjYXVzZSBpdCdzIGEgZm9yYmlkZGVuIGNoYXJhY3RlclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLyQvLCAnJykgLy8gcmVwbGFjZSB0cmFpbGluZyBzbGFzaFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuICAgICAgICAvLyBGaWxlIHJlcXVlc3QgaXMgcmVsYXRpdmUsIHVzZSBjdXJyZW50IGRpcmVjdG9yeVxuICAgICAgICBpZiAoZGlyID09PSB1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnRlZCB3aXRoIGEgc2xhc2hcbiAgICAgICAgZWxzZSBpZiAoZGlyID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlyO1xuICAgIH07XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLmV4dGVuc2lvbiA9IEV4dGVuc2lvblR5cGUuTG9hZGVyO1xuICAgIHJldHVybiBCaXRtYXBGb250TG9hZGVyO1xufSgpKTtcblxuZXhwb3J0IHsgQml0bWFwRm9udCwgQml0bWFwRm9udERhdGEsIEJpdG1hcEZvbnRMb2FkZXIsIEJpdG1hcFRleHQsIFRleHRGb3JtYXQsIFhNTEZvcm1hdCwgWE1MU3RyaW5nRm9ybWF0LCBhdXRvRGV0ZWN0Rm9ybWF0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LWJpdG1hcC5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0VmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcblwiO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBbHBoYUZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYWxwaGEgLSBBbW91bnQgb2YgYWxwaGEgZnJvbSAwIHRvIDEsIHdoZXJlIDAgaXMgdHJhbnNwYXJlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbHBoYUZpbHRlcihhbHBoYSkge1xuICAgICAgICBpZiAoYWxwaGEgPT09IHZvaWQgMCkgeyBhbHBoYSA9IDEuMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZWZhdWx0VmVydGV4LCBmcmFnbWVudCwgeyB1QWxwaGE6IDEgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWxwaGFGaWx0ZXIucHJvdG90eXBlLCBcImFscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvZWZmaWNpZW50IGZvciBhbHBoYSBtdWx0aXBsaWNhdGlvblxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQWxwaGFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBBbHBoYUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWFscGhhLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWJsdXIgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWJsdXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgQ0xFQVJfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHZlcnRUZW1wbGF0ZSA9IFwiXFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XFxuXFxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcblxcbiAgICB1bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxuICAgIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbiAgICB7XFxuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgfVxcblxcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbih2b2lkKVxcbiAgICB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbiAgICAgICAgJWJsdXIlXFxuICAgIH1cIjtcbmZ1bmN0aW9uIGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgeCkge1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgaWYgKHgpIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkudG9TdHJpbmcoKSk7XG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCBpIC0gKGhhbGZMZW5ndGggLSAxKSArIFwiLjBcIik7XG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cblxudmFyIEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdLFxufTtcbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKScsXG4gICAgJ3snLFxuICAgICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJyAgICAlYmx1ciUnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKSB7XG4gICAgdmFyIGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaS50b1N0cmluZygpKTtcbiAgICAgICAgdmFsdWUgPSBpO1xuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXS50b1N0cmluZygpKTtcbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyUGFzcyBhcHBsaWVzIGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJGaWx0ZXJQYXNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCbHVyRmlsdGVyUGFzcywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaG9yaXpvbnRhbCAtIERvIHBhc3MgYWxvbmcgdGhlIHgtYXhpcyAoYHRydWVgKSBvciB5LWF4aXMgKGBmYWxzZWApLlxuICAgICAqIEBwYXJhbSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIGtlcm5lbFNpemUgLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyUGFzcyhob3Jpem9udGFsLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBpZiAoc3RyZW5ndGggPT09IHZvaWQgMCkgeyBzdHJlbmd0aCA9IDg7IH1cbiAgICAgICAgaWYgKHF1YWxpdHkgPT09IHZvaWQgMCkgeyBxdWFsaXR5ID0gNDsgfVxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjsgfVxuICAgICAgICBpZiAoa2VybmVsU2l6ZSA9PT0gdm9pZCAwKSB7IGtlcm5lbFNpemUgPSA1OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCBob3Jpem9udGFsKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsIFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5O1xuICAgICAgICBfdGhpcy5ibHVyID0gc3RyZW5ndGg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqIEBwYXJhbSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIGNsZWFyTW9kZSAtIEhvdyB0byBjbGVhclxuICAgICAqL1xuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgaWYgKG91dHB1dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC53aWR0aCkgKiAob3V0cHV0LndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LmhlaWdodCkgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGgpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG4gICAgICAgIGlmICh0aGlzLnBhc3NlcyA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlcjtcbiAgICAgICAgICAgIHZhciBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgZmxvcCwgQ0xFQVJfTU9ERVMuQ0xFQVIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYmluZEFuZENsZWFyKGZsaXAsIENMRUFSX01PREVTLkJMSVQpO1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSBmbG9wO1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KDUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsb3AsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLCBcImJsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgICAgICogQGRlZmF1bHQgMTZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAxICsgKE1hdGguYWJzKHZhbHVlKSAqIDIpO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgXCJxdWFsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgICAgICogcXVhbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCbHVyRmlsdGVyUGFzcztcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJsdXJGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHN0cmVuZ3RoIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0gcXVhbGl0eSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIGtlcm5lbFNpemUgLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIGlmIChzdHJlbmd0aCA9PT0gdm9pZCAwKSB7IHN0cmVuZ3RoID0gODsgfVxuICAgICAgICBpZiAocXVhbGl0eSA9PT0gdm9pZCAwKSB7IHF1YWxpdHkgPSA0OyB9XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OOyB9XG4gICAgICAgIGlmIChrZXJuZWxTaXplID09PSB2b2lkIDApIHsga2VybmVsU2l6ZSA9IDU7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYmx1clhGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3ModHJ1ZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcy5ibHVyWUZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyhmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHk7XG4gICAgICAgIF90aGlzLmJsdXIgPSBzdHJlbmd0aDtcbiAgICAgICAgX3RoaXMucmVwZWF0RWRnZVBpeGVscyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKiBAcGFyYW0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSBjbGVhck1vZGUgLSBIb3cgdG8gY2xlYXJcbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICB2YXIgeVN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCk7XG4gICAgICAgIGlmICh4U3RyZW5ndGggJiYgeVN0cmVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5U3RyZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUudXBkYXRlUGFkZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJxdWFsaXR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFsaXR5IGJsdXJpbmcuXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJYXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJZXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcInJlcGVhdEVkZ2VQaXhlbHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIHRydWUgdGhlIGVkZ2Ugb2YgdGhlIHRhcmdldCB3aWxsIGJlIGNsYW1wZWRcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCbHVyRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ibHVyLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgZGVmYXVsdEZpbHRlclZlcnRleCwgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGMgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcblxcbiAgICBpZiAodUFscGhhID09IDAuMCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gYztcXG4gICAgICAgIHJldHVybjtcXG4gICAgfVxcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoYy5hID4gMC4wKSB7XFxuICAgICAgYy5yZ2IgLz0gYy5hO1xcbiAgICB9XFxuXFxuICAgIHZlYzQgcmVzdWx0O1xcblxcbiAgICByZXN1bHQuciA9IChtWzBdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzFdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzNdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IG1bNF07XFxuXFxuICAgIHJlc3VsdC5nID0gKG1bNV0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bNl0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bOF0gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gbVs5XTtcXG5cXG4gICAgcmVzdWx0LmIgPSAobVsxMF0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMV0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxM10gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYiArPSBtWzE0XTtcXG5cXG4gICAgcmVzdWx0LmEgPSAobVsxNV0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxNl0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxOF0gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYSArPSBtWzE5XTtcXG5cXG4gICAgdmVjMyByZ2IgPSBtaXgoYy5yZ2IsIHJlc3VsdC5yZ2IsIHVBbHBoYSk7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICByZ2IgKj0gcmVzdWx0LmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocmdiLCByZXN1bHQuYSk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoZSBDb2xvck1hdHJpeEZpbHRlciBjbGFzcyBsZXRzIHlvdSBhcHBseSBhIDV4NCBtYXRyaXggdHJhbnNmb3JtYXRpb24gb24gdGhlIFJHQkFcbiAqIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMgb2YgZXZlcnkgcGl4ZWwgb24geW91ciBkaXNwbGF5T2JqZWN0IHRvIHByb2R1Y2UgYSByZXN1bHRcbiAqIHdpdGggYSBuZXcgc2V0IG9mIFJHQkEgY29sb3IgYW5kIGFscGhhIHZhbHVlcy4gSXQncyBwcmV0dHkgcG93ZXJmdWwhXG4gKlxuICogYGBganNcbiAqICBsZXQgY29sb3JNYXRyaXggPSBuZXcgUElYSS5maWx0ZXJzLkNvbG9yTWF0cml4RmlsdGVyKCk7XG4gKiAgY29udGFpbmVyLmZpbHRlcnMgPSBbY29sb3JNYXRyaXhdO1xuICogIGNvbG9yTWF0cml4LmNvbnRyYXN0KDIpO1xuICogYGBgXG4gKiBAYXV0aG9yIENsw6ltZW50IENoZW5lYmF1bHQgPGNsZW1lbnRAZ29vZGJveWRpZ2l0YWwuY29tPlxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQ29sb3JNYXRyaXhGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbG9yTWF0cml4RmlsdGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbG9yTWF0cml4RmlsdGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBtOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxLCAwXSksXG4gICAgICAgICAgICB1QWxwaGE6IDEsXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVmYXVsdEZpbHRlclZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9sb2FkTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgbXVsdGlwbHkpIHtcbiAgICAgICAgaWYgKG11bHRpcGx5ID09PSB2b2lkIDApIHsgbXVsdGlwbHkgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgbmV3TWF0cml4ID0gbWF0cml4O1xuICAgICAgICBpZiAobXVsdGlwbHkpIHtcbiAgICAgICAgICAgIHRoaXMuX211bHRpcGx5KG5ld01hdHJpeCwgdGhpcy51bmlmb3Jtcy5tLCBtYXRyaXgpO1xuICAgICAgICAgICAgbmV3TWF0cml4ID0gdGhpcy5fY29sb3JNYXRyaXgobmV3TWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gbWF0NSdzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSBhIC0gNXg0IG1hdHJpeCB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSBiIC0gNXg0IG1hdHJpeCB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IDV4NCBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX211bHRpcGx5ID0gZnVuY3Rpb24gKG91dCwgYSwgYikge1xuICAgICAgICAvLyBSZWQgQ2hhbm5lbFxuICAgICAgICBvdXRbMF0gPSAoYVswXSAqIGJbMF0pICsgKGFbMV0gKiBiWzVdKSArIChhWzJdICogYlsxMF0pICsgKGFbM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxXSA9IChhWzBdICogYlsxXSkgKyAoYVsxXSAqIGJbNl0pICsgKGFbMl0gKiBiWzExXSkgKyAoYVszXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzJdID0gKGFbMF0gKiBiWzJdKSArIChhWzFdICogYls3XSkgKyAoYVsyXSAqIGJbMTJdKSArIChhWzNdICogYlsxN10pO1xuICAgICAgICBvdXRbM10gPSAoYVswXSAqIGJbM10pICsgKGFbMV0gKiBiWzhdKSArIChhWzJdICogYlsxM10pICsgKGFbM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFs0XSA9IChhWzBdICogYls0XSkgKyAoYVsxXSAqIGJbOV0pICsgKGFbMl0gKiBiWzE0XSkgKyAoYVszXSAqIGJbMTldKSArIGFbNF07XG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuICAgICAgICAvLyBCbHVlIENoYW5uZWxcbiAgICAgICAgb3V0WzEwXSA9IChhWzEwXSAqIGJbMF0pICsgKGFbMTFdICogYls1XSkgKyAoYVsxMl0gKiBiWzEwXSkgKyAoYVsxM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxMV0gPSAoYVsxMF0gKiBiWzFdKSArIChhWzExXSAqIGJbNl0pICsgKGFbMTJdICogYlsxMV0pICsgKGFbMTNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTJdID0gKGFbMTBdICogYlsyXSkgKyAoYVsxMV0gKiBiWzddKSArIChhWzEyXSAqIGJbMTJdKSArIChhWzEzXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzEzXSA9IChhWzEwXSAqIGJbM10pICsgKGFbMTFdICogYls4XSkgKyAoYVsxMl0gKiBiWzEzXSkgKyAoYVsxM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxNF0gPSAoYVsxMF0gKiBiWzRdKSArIChhWzExXSAqIGJbOV0pICsgKGFbMTJdICogYlsxNF0pICsgKGFbMTNdICogYlsxOV0pICsgYVsxNF07XG4gICAgICAgIC8vIEFscGhhIENoYW5uZWxcbiAgICAgICAgb3V0WzE1XSA9IChhWzE1XSAqIGJbMF0pICsgKGFbMTZdICogYls1XSkgKyAoYVsxN10gKiBiWzEwXSkgKyAoYVsxOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxNl0gPSAoYVsxNV0gKiBiWzFdKSArIChhWzE2XSAqIGJbNl0pICsgKGFbMTddICogYlsxMV0pICsgKGFbMThdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTddID0gKGFbMTVdICogYlsyXSkgKyAoYVsxNl0gKiBiWzddKSArIChhWzE3XSAqIGJbMTJdKSArIChhWzE4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzE4XSA9IChhWzE1XSAqIGJbM10pICsgKGFbMTZdICogYls4XSkgKyAoYVsxN10gKiBiWzEzXSkgKyAoYVsxOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxOV0gPSAoYVsxNV0gKiBiWzRdKSArIChhWzE2XSAqIGJbOV0pICsgKGFbMTddICogYlsxNF0pICsgKGFbMThdICogYlsxOV0pICsgYVsxOV07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gNXg0IG1hdHJpeCB3aXRoIGFsbCB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqIEBwYXJhbSBiIC0gdmFsdWUgb2YgdGhlIGJyaWd0aG5lc3MgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icmlnaHRuZXNzID0gZnVuY3Rpb24gKGIsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGVhY2ggY2hhbm5lbCBvbiB0aGUgZGlhZ29uYWwgb2YgdGhlIGNvbG9yIG1hdHJpeC5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGFjaGlldmUgYSB0aW50aW5nIGVmZmVjdCBvbiBDb250YWluZXJzIHNpbWlsYXIgdG8gdGhlIHRpbnQgZmllbGQgb2Ygc29tZVxuICAgICAqIGRpc3BsYXkgb2JqZWN0cyBsaWtlIFNwcml0ZSwgVGV4dCwgR3JhcGhpY3MsIGFuZCBNZXNoLlxuICAgICAqIEBwYXJhbSBjb2xvciAtIENvbG9yIG9mIHRoZSB0aW50LiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRpbnQgPSBmdW5jdGlvbiAoY29sb3IsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciByID0gKGNvbG9yID4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIHZhciBnID0gKGNvbG9yID4+IDgpICYgMHhmZjtcbiAgICAgICAgdmFyIGIgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICByIC8gMjU1LCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgZyAvIDI1NSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIgLyAyNTUsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICogQHBhcmFtIHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGUgPSBmdW5jdGlvbiAoc2NhbGUsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJsYWNrIGFuZCB3aGl0ZSBtYXRyaWNlLlxuICAgICAqIEBwYXJhbSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqIEBwYXJhbSByb3RhdGlvbiAtIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiAocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcbiAgICAgICAgLyogYSBnb29kIGFwcHJveGltYXRpb24gZm9yIGh1ZSByb3RhdGlvblxuICAgICAgICAgVGhpcyBtYXRyaXggaXMgZmFyIGJldHRlciB0aGFuIHRoZSB2ZXJzaW9ucyB3aXRoIG1hZ2ljIGx1bWluYW5jZSBjb25zdGFudHNcbiAgICAgICAgIGZvcm1lcmx5IHVzZWQgaGVyZSwgYnV0IGFsc28gdXNlZCBpbiB0aGUgc3RhcmxpbmcgZnJhbWV3b3JrIChmbGFzaCkgYW5kIGtub3duIGZyb20gdGhpc1xuICAgICAgICAgb2xkIHBhcnQgb2YgdGhlIGludGVybmV0OiBxdWFzaW1vbmRvLmNvbS9hcmNoaXZlcy8wMDA1NjUucGhwXG5cbiAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG5cbiAgICAgICAgIFRoaXMgaXMgdGhlIHNvdXJjZSBmb3IgdGhlIGNvZGU6XG4gICAgICAgICBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTA3ODg1L3NoaWZ0LWh1ZS1vZi1hbi1yZ2ItY29sb3IvODUxMDc1MSM4NTEwNzUxXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdyA9IDEgLyAzO1xuICAgICAgICB2YXIgc3FyVyA9IHNxcnQodyk7IC8vIHdlaWdodCBpc1xuICAgICAgICB2YXIgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgdmFyIGEwMSA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMDIgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTEwID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG4gICAgICAgIHZhciBhMTIgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIwID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMSA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250cmFzdCBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gZGFyayBhbmQgYnJpZ2h0XG4gICAgICogSW5jcmVhc2UgY29udHJhc3QgOiBzaGFkb3dzIGRhcmtlciBhbmQgaGlnaGxpZ2h0cyBicmlnaHRlclxuICAgICAqIERlY3JlYXNlIGNvbnRyYXN0IDogYnJpbmcgdGhlIHNoYWRvd3MgdXAgYW5kIHRoZSBoaWdobGlnaHRzIGRvd25cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29udHJhc3QgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgICAgICB2YXIgbyA9IC0wLjUgKiAodiAtIDEpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgdiwgMCwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIHYsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCB2LCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gVGhlIHNhdHVyYXRpb24gYW1vdW50ICgwLTEpXG4gICAgICogQHBhcmFtIG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMDsgfVxuICAgICAgICB2YXIgeCA9IChhbW91bnQgKiAyIC8gMykgKyAxO1xuICAgICAgICB2YXIgeSA9ICgoeCAtIDEpICogLTAuNSk7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB4LCB5LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeCwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHksIHgsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKiogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKSBDYWxsIHRoZSBzYXR1cmF0ZSBmdW5jdGlvbiAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNhdHVyYXRlKC0xKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5lZ2F0aXZlIGltYWdlIChpbnZlcnNlIG9mIGNsYXNzaWMgcmdiIG1hdHJpeClcbiAgICAgKiBAcGFyYW0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgLTEsIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAtMSwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIC0xLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKiBAcGFyYW0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMzQ5LCAwLjY4NTk5OTksIDAuMTY3OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjI3MiwgMC41MzM5OTk5LCAwLjEzMDk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqIEBwYXJhbSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRlY2huaWNvbG9yID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjkxMjUyNzc4OTE0NTYwODMsIC0wLjg1NDUzNDQ5NzY5NTE2NDUsIC0wLjA5MTU1NTA4NDgyNzU1NTg1LCAwLCAxMS43OTM2MDM0MzQzNzczMzcsXG4gICAgICAgICAgICAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsXG4gICAgICAgICAgICAtMC4yMzExMDMzNzc1NDg2MTYsIC0wLjc1MDE4OTkxOTc0NDAyMTIsIDEuODQ3NTk3ODE2MTA4MTg5LCAwLCAzMC45NTA5NDA4Njk0OTExMzgsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb2xhcm9pZCBmaWx0ZXJcbiAgICAgKiBAcGFyYW0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wb2xhcm9pZCA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS40MzgsIC0wLjA2MiwgLTAuMDYyLCAwLCAwLFxuICAgICAgICAgICAgLTAuMTIyLCAxLjM3OCwgLTAuMTIyLCAwLCAwLFxuICAgICAgICAgICAgLTAuMDE2LCAtMC4wMTYsIDEuNDgzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICogQHBhcmFtIG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqIEBwYXJhbSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmtvZGFjaHJvbWUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLFxuICAgICAgICAgICAgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsIDEuMDgzNTI1MTU2NjI5MTMwNCwgLTAuMDU0OTg4MDUxMTU2MzMxMzIsIDAsIDI0LjczMjQwNzg5NjcwNjIwMyxcbiAgICAgICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnJvd24gZGVsaWNpb3VzIGJyb3duaSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICogQHBhcmFtIG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJvd25pID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjU5OTcwMjM0OTgxNTk3MTUsIDAuMzQ1NTMyNDMwNDgzOTEyNjMsIC0wLjI3MDgyOTg2NzQ1MzgwNDIsIDAsIDQ3LjQzMTkyODU1NjAwODczLFxuICAgICAgICAgICAgLTAuMDM3NzAzMjQ5ODM3NzgzMTU3LCAwLjg2MDk1Nzc1ODc5OTI2NDEsIDAuMTUwNTk1NTIzODg0NTk5MTMsIDAsIC0zNi45Njg0MTQ5ODMxOTEyNyxcbiAgICAgICAgICAgIDAuMjQxMTM2MzUxMjgxNTMzMzUsIC0wLjA3NDQxMDM3OTA4NDIyNDkyLCAwLjQ0OTcyMTgyMDY0ODc3MTUzLCAwLCAtNy41NjIwNzUyNzc1OTEyODMsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKiBAcGFyYW0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjYyNzkzNDU2MzU2MDU5OTQsIDAuMzIwMjE4MzQyMDgxOTM2NywgLTAuMDM5NjU0MDgyMTEzMTI0NTMsIDAsIDkuNjUxMjg1ODM1Mjk0MTIzLFxuICAgICAgICAgICAgMC4wMjU3ODM5NzcwNDgwODg2OCwgMC42NDQxMTg4NjQ0Mzc0NzcxLCAwLjAzMjU5MTI3NjE2MTQ5Mjk0LCAwLCA3LjQ2MjgyOTE3NjQ3MDU5MSxcbiAgICAgICAgICAgIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGF0IGl0IGRvZXMsIGtpbmQgb2YgZ3JhZGllbnQgbWFwLCBidXQgZnVubnkgdG8gcGxheSB3aXRoIVxuICAgICAqIEBwYXJhbSBkZXNhdHVyYXRpb24gLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gdG9uZWQgLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0gbGlnaHRDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIGRhcmtDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29sb3JUb25lID0gZnVuY3Rpb24gKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuICAgICAgICB2YXIgbFIgPSAoKGxpZ2h0Q29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsRyA9ICgobGlnaHRDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEIgPSAobGlnaHRDb2xvciAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZFIgPSAoKGRhcmtDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRHID0gKChkYXJrQ29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjU5LCAwLjExLCAwLCAwLFxuICAgICAgICAgICAgbFIsIGxHLCBsQiwgZGVzYXR1cmF0aW9uLCAwLFxuICAgICAgICAgICAgZFIsIGRHLCBkQiwgdG9uZWQsIDAsXG4gICAgICAgICAgICBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOaWdodCBlZmZlY3RcbiAgICAgKiBAcGFyYW0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gKGludGVuc2l0eSwgbXVsdGlwbHkpIHtcbiAgICAgICAgaW50ZW5zaXR5ID0gaW50ZW5zaXR5IHx8IDAuMTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGludGVuc2l0eSAqICgtMi4wKSwgLWludGVuc2l0eSwgMCwgMCwgMCxcbiAgICAgICAgICAgIC1pbnRlbnNpdHksIDAsIGludGVuc2l0eSwgMCwgMCxcbiAgICAgICAgICAgIDAsIGludGVuc2l0eSwgaW50ZW5zaXR5ICogMi4wLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJlZGF0b3IgZWZmZWN0XG4gICAgICpcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyBhIG5ldyBpbmRlcGVudCBvbmVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucHJlZGF0b3IgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgLy8gcm93IDFcbiAgICAgICAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCxcbiAgICAgICAgICAgIC00Ljc5NDQ4Njk5OTUxMTcxOSAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC40MDM0MjQzODIyMDk3Nzc4MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAyXG4gICAgICAgICAgICAtMy42MzMwNjk3NTM2NDY4NTA2ICogYW1vdW50LFxuICAgICAgICAgICAgOS4xOTMxNTcxOTYwNDQ5MjIgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgLTEuMzE2MTM1MDQ4ODY2MjcyICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDNcbiAgICAgICAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC4yMzc1MDMwNTE3NTc4MTI1ICogYW1vdW50LFxuICAgICAgICAgICAgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC44MDQ0NDU5MjIzNzQ3MjUzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDRcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEBwYXJhbSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKiogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lLiAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUsIFwibWF0cml4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXRyaXggb2YgdGhlIGNvbG9yIG1hdHJpeCBmaWx0ZXJcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBkZWZhdWx0IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBcImFscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICAgICAqIFdoZW4gaW4gdGhlIHJhbmdlICgwLCAxKSB0aGUgY29sb3IgaXMgaW50ZXJwb2xhdGVkIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCByZXN1bHQgYnkgdGhpcyBhbW91bnQuXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oRmlsdGVyKSk7XG4vLyBBbWVyaWNhbml6ZWQgYWxpYXNcbkNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmF5c2NhbGUgPSBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlO1xuXG5leHBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWNvbG9yLW1hdHJpeC5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG51bmlmb3JtIG1hdDIgcm90YXRpb247XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwU2FtcGxlcjtcXG5cXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBpbnB1dENsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSA9IHNjYWxlICogaW5wdXRTaXplLnp3ICogKHJvdGF0aW9uICogbWFwLnh5KTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAodmVjMih2VGV4dHVyZUNvb3JkLnggKyBtYXAueCwgdlRleHR1cmVDb29yZC55ICsgbWFwLnkpLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSk7XFxufVxcblwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG5cXHRnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFx0dlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcblxcdHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggdlRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuXG4gKiBDdXJyZW50bHkgdGhlIGByYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHhgXG4gKiBhbmQgdGhlIGBnYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHlgLlxuICpcbiAqIFRoZSB3YXkgaXQgd29ya3MgaXMgaXQgdXNlcyB0aGUgdmFsdWVzIG9mIHRoZSBkaXNwbGFjZW1lbnQgbWFwIHRvIGxvb2sgdXAgdGhlXG4gKiBjb3JyZWN0IHBpeGVscyB0byBvdXRwdXQuIFRoaXMgbWVhbnMgaXQncyBub3QgdGVjaG5pY2FsbHkgbW92aW5nIHRoZSBvcmlnaW5hbC5cbiAqIEluc3RlYWQsIGl0J3Mgc3RhcnRpbmcgYXQgdGhlIG91dHB1dCBhbmQgYXNraW5nIFwid2hpY2ggcGl4ZWwgZnJvbSB0aGUgb3JpZ2luYWwgZ29lcyBoZXJlXCIuXG4gKiBGb3IgZXhhbXBsZSwgaWYgYSBkaXNwbGFjZW1lbnQgbWFwIHBpeGVsIGhhcyBgcmVkID0gMWAgYW5kIHRoZSBmaWx0ZXIgc2NhbGUgaXMgYDIwYCxcbiAqIHRoaXMgZmlsdGVyIHdpbGwgb3V0cHV0IHRoZSBwaXhlbCBhcHByb3hpbWF0ZWx5IDIwIHBpeGVscyB0byB0aGUgcmlnaHQgb2YgdGhlIG9yaWdpbmFsLlxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXNwbGFjZW1lbnRGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gKG1ha2Ugc3VyZSBpdHMgYWRkZWQgdG8gdGhlIHNjZW5lISlcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBUaGUgc2NhbGUgb2YgdGhlIGRpc3BsYWNlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpc3BsYWNlbWVudEZpbHRlcihzcHJpdGUsIHNjYWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgICAgICAgIG1hcFNhbXBsZXI6IHNwcml0ZS5fdGV4dHVyZSxcbiAgICAgICAgICAgIGZpbHRlck1hdHJpeDogbWFza01hdHJpeCxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAxXSksXG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogc2NhbGVYLCBzY2FsZVkgZm9yIGRpc3BsYWNlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gbmV3IFBvaW50KHNjYWxlLCBzY2FsZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqIEBwYXJhbSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIGNsZWFyTW9kZSAtIGNsZWFyTW9kZS5cbiAgICAgKi9cbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICAvLyBmaWxsIG1hc2tNYXRyaXggd2l0aCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfXG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcbiAgICAgICAgLy8gRXh0cmFjdCByb3RhdGlvbiBmcm9tIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICB2YXIgd3QgPSB0aGlzLm1hc2tTcHJpdGUud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBsZW5YID0gTWF0aC5zcXJ0KCh3dC5hICogd3QuYSkgKyAod3QuYiAqIHd0LmIpKTtcbiAgICAgICAgdmFyIGxlblkgPSBNYXRoLnNxcnQoKHd0LmMgKiB3dC5jKSArICh3dC5kICogd3QuZCkpO1xuICAgICAgICBpZiAobGVuWCAhPT0gMCAmJiBsZW5ZICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzBdID0gd3QuYSAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzFdID0gd3QuYiAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzJdID0gd3QuYyAvIGxlblk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzNdID0gd3QuZCAvIGxlblk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZHJhdyB0aGUgZmlsdGVyLi4uXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLCBcIm1hcFwiLCB7XG4gICAgICAgIC8qKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpc3BsYWNlbWVudEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWRpc3BsYWNlbWVudC5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1meGFhIC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1meGFhIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgdmVydGV4ID0gXCJcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZvaWQgdGV4Y29vcmRzKHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk5XLCBvdXQgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiU1csIG91dCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTkUgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JNID0gdmVjMihmcmFnQ29vcmQgKiBpbnZlcnNlVlApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXG4gICB2RnJhZ0Nvb3JkID0gYVZlcnRleFBvc2l0aW9uICogb3V0cHV0RnJhbWUuenc7XFxuXFxuICAgdGV4Y29vcmRzKHZGcmFnQ29vcmQsIGlucHV0U2l6ZS56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRTaXplO1xcblxcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQnc1xcbiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cXG5cXG4gLS1cXG5cXG4gRnJvbTpcXG4gaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcXG5cXG4gQ29weXJpZ2h0IChjKSAyMDExIGJ5IEFybWluIFJvbmFjaGVyLlxcblxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG5cXG4gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XFxuIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcXG4gbWV0OlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XFxuIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuXFxuICogVGhlIG5hbWVzIG9mIHRoZSBjb250cmlidXRvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3JcXG4gcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljXFxuIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cXG5cXG4gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xcbiBcXFwiQVMgSVNcXFwiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcXG4gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcXG4gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXFxuIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXFxuIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxcbiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXFxuIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxcbiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxcbiAqL1xcblxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTUlOXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NSU4gICAoMS4wLyAxMjguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01VTFxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfU1BBTl9NQVhcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcbiNlbmRpZlxcblxcbi8vb3B0aW1pemVkIHZlcnNpb24gZm9yIG1vYmlsZSwgd2hlcmUgZGVwZW5kZW50XFxuLy90ZXh0dXJlIHJlYWRzIGNhbiBiZSBhIGJvdHRsZW5lY2tcXG52ZWM0IGZ4YWEoc2FtcGxlcjJEIHRleCwgdmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTlcsIHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgdmVjMiB2X3JnYlNXLCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5XKS54eXo7XFxuICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5FKS54eXo7XFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNXKS54eXo7XFxuICAgIHZlYzMgcmdiU0UgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNFKS54eXo7XFxuICAgIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk0pO1xcbiAgICB2ZWMzIHJnYk0gID0gdGV4Q29sb3IueHl6O1xcbiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpO1xcbiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpO1xcblxcbiAgICBtZWRpdW1wIHZlYzIgZGlyO1xcbiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XFxuICAgIGRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcXG5cXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG5cXG4gICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7XFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgbWF4KHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgICAgICBkaXIgKiByY3BEaXJNaW4pKSAqIGludmVyc2VWUDtcXG5cXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDEuMCAvIDMuMCAtIDAuNSkpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMi4wIC8gMy4wIC0gMC41KSkueHl6KTtcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIC0wLjUpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIDAuNSkueHl6KTtcXG5cXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWM0IGNvbG9yO1xcblxcbiAgICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgdkZyYWdDb29yZCwgaW5wdXRTaXplLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBCYXNpYyBGWEFBIChGYXN0IEFwcHJveGltYXRlIEFudGktQWxpYXNpbmcpIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tXG4gKiB3aXRoIHRoZSBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0IGlzIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRlhBQUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRlhBQUZpbHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKCkge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEZYQUFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBGWEFBRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItZnhhYS5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1ub2lzZSAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0RmlsdGVyVmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBmbG9hdCB1Tm9pc2U7XFxudW5pZm9ybSBmbG9hdCB1U2VlZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG5mbG9hdCByYW5kKHZlYzIgY28pXFxue1xcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcXG59XFxuXFxudm9pZCBtYWluKClcXG57XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBmbG9hdCByYW5kb21WYWx1ZSA9IHJhbmQoZ2xfRnJhZ0Nvb3JkLnh5ICogdVNlZWQpO1xcbiAgICBmbG9hdCBkaWZmID0gKHJhbmRvbVZhbHVlIC0gMC41KSAqIHVOb2lzZTtcXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4gICAgICAgIGNvbG9yLnJnYiAvPSBjb2xvci5hO1xcbiAgICB9XFxuXFxuICAgIGNvbG9yLnIgKz0gZGlmZjtcXG4gICAgY29sb3IuZyArPSBkaWZmO1xcbiAgICBjb2xvci5iICs9IGRpZmY7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICBjb2xvci5yZ2IgKj0gY29sb3IuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEEgTm9pc2UgZWZmZWN0IGZpbHRlci5cbiAqXG4gKiBvcmlnaW5hbCBmaWx0ZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvbWFzdGVyL3NyYy9maWx0ZXJzL2FkanVzdC9ub2lzZS5qc1xuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb2lzZUZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25vaXNlPTAuNV0gLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzZWVkXSAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2lzZUZpbHRlcihub2lzZSwgc2VlZCkge1xuICAgICAgICBpZiAobm9pc2UgPT09IHZvaWQgMCkgeyBub2lzZSA9IDAuNTsgfVxuICAgICAgICBpZiAoc2VlZCA9PT0gdm9pZCAwKSB7IHNlZWQgPSBNYXRoLnJhbmRvbSgpOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICB1Tm9pc2U6IDAsXG4gICAgICAgICAgICB1U2VlZDogMCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJub2lzZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudU5vaXNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2lzZUZpbHRlci5wcm90b3R5cGUsIFwic2VlZFwiLCB7XG4gICAgICAgIC8qKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNlZWQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBOb2lzZUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IE5vaXNlRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItbm9pc2UubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSwgQmFzZVRleHR1cmUsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxudmFyIF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBudWxsO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uID0gbnVsbDtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwTXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbi8vIGZpZ3VyZWQgdGhlcmUncyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBDYWNoZURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FjaGVEYXRhKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJlbmRlciA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDb250YWluc1BvaW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQ2FjaGVEYXRhO1xufSgpKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gdG8gdXNlIGZvciBjYWNoZUFzQml0bWFwLiBCeSBkZWZhdWx0IHRoaXMgd2lsbCB1c2UgdGhlIHJlbmRlcmVyJ3MgcmVzb2x1dGlvblxuICAgICAqIGJ1dCBjYW4gYmUgb3ZlcnJpZGVuIGZvciBwZXJmb3JtYW5jZS4gTG93ZXIgdmFsdWVzIHdpbGwgcmVkdWNlIG1lbW9yeSB1c2FnZSBhdCB0aGUgZXhwZW5zZVxuICAgICAqIG9mIHJlbmRlciBxdWFsaXR5LiBBIGZhbHNleSB2YWx1ZSBvZiBgbnVsbGAgb3IgYDBgIHdpbGwgZGVmYXVsdCB0byB0aGUgcmVuZGVyZXIncyByZXNvbHV0aW9uLlxuICAgICAqIElmIGBjYWNoZUFzQml0bWFwYCBpcyBzZXQgdG8gYHRydWVgLCB0aGlzIHdpbGwgcmUtcmVuZGVyIHdpdGggdGhlIG5ldyByZXNvbHV0aW9uLlxuICAgICAqIEBtZW1iZXIge251bWJlcn0gY2FjaGVBc0JpdG1hcFJlc29sdXRpb25cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBjYWNoZUFzQml0bWFwUmVzb2x1dGlvbjoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwUmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHRoaXMuX2NhY2hlQXNCaXRtYXBSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcFJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGVBc0JpdG1hcCkge1xuICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSB0byByZS1yZW5kZXIgYXQgdGhlIG5ldyByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZUFzQml0bWFwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZUFzQml0bWFwID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygc2FtcGxlcyB0byB1c2UgZm9yIGNhY2hlQXNCaXRtYXAuIElmIHNldCB0byBgbnVsbGAsIHRoZSByZW5kZXJlcidzXG4gICAgICogc2FtcGxlIGNvdW50IGlzIHVzZWQuXG4gICAgICogSWYgYGNhY2hlQXNCaXRtYXBgIGlzIHNldCB0byBgdHJ1ZWAsIHRoaXMgd2lsbCByZS1yZW5kZXIgd2l0aCB0aGUgbmV3IG51bWJlciBvZiBzYW1wbGVzLlxuICAgICAqIEBtZW1iZXIge251bWJlcn0gY2FjaGVBc0JpdG1hcE11bHRpc2FtcGxlXG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCBQSVhJLk1TQUFfUVVBTElUWS5OT05FXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcE11bHRpc2FtcGxlOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXBNdWx0aXNhbXBsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobXVsdGlzYW1wbGUpIHtcbiAgICAgICAgICAgIGlmIChtdWx0aXNhbXBsZSA9PT0gdGhpcy5fY2FjaGVBc0JpdG1hcE11bHRpc2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcE11bHRpc2FtcGxlID0gbXVsdGlzYW1wbGU7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWNoZUFzQml0bWFwKSB7XG4gICAgICAgICAgICAgICAgLy8gVG9nZ2xlIHRvIHJlLXJlbmRlciB3aXRoIG5ldyBtdWx0aXNhbXBsZVxuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgZGlzcGxheSBvYmplY3QgdG8gYmUgY2FjaGVkIGFzIGEgYml0bWFwLlxuICAgICAqIFRoaXMgYmFzaWNhbGx5IHRha2VzIGEgc25hcCBzaG90IG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBpdCBpcyBhdCB0aGF0IG1vbWVudC4gSXQgY2FuXG4gICAgICogcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgZm9yIGNvbXBsZXggc3RhdGljIGRpc3BsYXlPYmplY3RzLlxuICAgICAqIFRvIHJlbW92ZSBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYGZhbHNlYFxuICAgICAqXG4gICAgICogSU1QT1JUQU5UIEdPVENIQSAtIE1ha2Ugc3VyZSB0aGF0IGFsbCB5b3VyIHRleHR1cmVzIGFyZSBwcmVsb2FkZWQgQkVGT1JFIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlXG4gICAgICogYXMgaXQgd2lsbCB0YWtlIGEgc25hcHNob3Qgb2Ygd2hhdCBpcyBjdXJyZW50bHkgdGhlcmUuIElmIHRoZSB0ZXh0dXJlcyBoYXZlIG5vdCBsb2FkZWQgdGhlbiB0aGV5IHdpbGwgbm90IGFwcGVhci5cbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuICAgICAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlciA9IHRoaXMucmVuZGVyO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMgPSB0aGlzLnJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSBkYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG59KTtcbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBXZWJHTFxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgX3JlbmRlckNhY2hlZFxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZCA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWQocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlcihyZW5kZXJlcik7XG59O1xuLyoqXG4gKiBQcmVwYXJlcyB0aGUgV2ViR0wgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIGFscGhhIGlzIHNldCB0byAxIG90aGVyd2lzZSBpdCB3aWxsIGdldCByZW5kZXJlZCBhcyBpbnZpc2libGUhXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIC8vIGZpcnN0IHdlIGZsdXNoIGFueXRoaW5nIGxlZnQgaW4gdGhlIHJlbmRlcmVyIChvdGhlcndpc2UgaXQgd291bGQgZ2V0IHJlbmRlcmVkIHRvIHRoZSBjYWNoZWQgdGV4dHVyZSlcbiAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgIC8vIHRoaXMuZmlsdGVycz0gW107XG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpLmNsb25lKCk7XG4gICAgLy8gYWRkIHNvbWUgcGFkZGluZyFcbiAgICBpZiAodGhpcy5maWx0ZXJzICYmIHRoaXMuZmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLmZpbHRlcnNbMF0ucGFkZGluZztcbiAgICAgICAgYm91bmRzLnBhZChwYWRkaW5nKTtcbiAgICB9XG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgV2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnYW50Li5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICB2YXIgY2FjaGVkU291cmNlRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lLmNsb25lKCk7XG4gICAgdmFyIGNhY2hlZERlc3RpbmF0aW9uRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmRlc3RpbmF0aW9uRnJhbWUuY2xvbmUoKTtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuICAgIC8vIFdlIGFsc28gc3RvcmUgdGhlIGZpbHRlciBzdGFjayAtIEkgd2lsbCBkZWZpbml0ZWx5IGxvb2sgdG8gY2hhbmdlIGhvdyB0aGlzIHdvcmtzIGEgbGl0dGxlIGxhdGVyIGRvd24gdGhlIGxpbmUuXG4gICAgLy8gY29uc3Qgc3RhY2sgPSByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrO1xuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgICAgIGhlaWdodDogYm91bmRzLmhlaWdodCxcbiAgICAgICAgcmVzb2x1dGlvbjogdGhpcy5jYWNoZUFzQml0bWFwUmVzb2x1dGlvbiB8fCByZW5kZXJlci5yZXNvbHV0aW9uLFxuICAgICAgICBtdWx0aXNhbXBsZTogKF9hID0gdGhpcy5jYWNoZUFzQml0bWFwTXVsdGlzYW1wbGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHJlbmRlcmVyLm11bHRpc2FtcGxlLFxuICAgIH0pO1xuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArIHVpZCgpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhfdGVtcE1hdHJpeCkuaW52ZXJ0KCkudHJhbnNsYXRlKC1ib3VuZHMueCwgLWJvdW5kcy55KTtcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgeyByZW5kZXJUZXh0dXJlOiByZW5kZXJUZXh0dXJlLCBjbGVhcjogdHJ1ZSwgdHJhbnNmb3JtOiBtLCBza2lwVXBkYXRlVHJhbnNmb3JtOiBmYWxzZSB9KTtcbiAgICByZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7XG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChjYWNoZWRSZW5kZXJUZXh0dXJlLCBjYWNoZWRTb3VyY2VGcmFtZSwgY2FjaGVkRGVzdGluYXRpb25GcmFtZSk7XG4gICAgLy8gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBDYW52YXNcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICB0aGlzLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5lbmFibGVUZW1wUGFyZW50KCk7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZVRlbXBQYXJlbnQobnVsbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIGNhbnZhc1xuICogQHByaXZhdGVcbiAqIEBtZXRob2QgX3JlbmRlckNhY2hlZENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbn07XG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSBXZWJHTCB2ZXJzaW9uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZ2V0IGJvdW5kcyBhY3R1YWxseSB0cmFuc2Zvcm1zIHRoZSBvYmplY3QgZm9yIHVzIGFscmVhZHkhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSk7XG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgIHZhciBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIuX3Byb2pUcmFuc2Zvcm07XG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiBib3VuZHMud2lkdGgsIGhlaWdodDogYm91bmRzLmhlaWdodCB9KTtcbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyB1aWQoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcbiAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8obSk7XG4gICAgbS5pbnZlcnQoKTtcbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG4gICAgLy8gbS5hcHBlbmQodGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uKVxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCB7IHJlbmRlclRleHR1cmU6IHJlbmRlclRleHR1cmUsIGNsZWFyOiB0cnVlLCB0cmFuc2Zvcm06IG0sIHNraXBVcGRhdGVUcmFuc2Zvcm06IGZhbHNlIH0pO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG4gICAgcmVuZGVyZXIuX3Byb2pUcmFuc2Zvcm0gPSBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBXZWJHTFxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZFxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcygpIHtcbiAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xufTtcbi8qKlxuICogR2V0cyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlLlxuICogQHByaXZhdGVcbiAqIEBtZXRob2RcbiAqIEByZXR1cm5zIHtSZWN0YW5nbGV9IFRoZSBsb2NhbCBib3VuZHMuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9nZXRDYWNoZWRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIF9nZXRDYWNoZWRMb2NhbEJvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5nZXRMb2NhbEJvdW5kcyhudWxsKTtcbn07XG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgc3ByaXRlLlxuICogQHByaXZhdGVcbiAqIEBtZXRob2RcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuZGVzdHJveShvcHRpb25zKTtcbn07XG5cbmV4cG9ydCB7IENhY2hlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tY2FjaGUtYXMtYml0bWFwLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBUaGUgaW5zdGFuY2UgbmFtZSBvZiB0aGUgb2JqZWN0LlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBSZWN1cnNpdmUgc2VhcmNoZXMgYXJlIGRvbmUgaW4gYSBwcmVvcmRlciB0cmF2ZXJzYWwuXG4gKiBAbWV0aG9kIGdldENoaWxkQnlOYW1lXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIEluc3RhbmNlIG5hbWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59W2RlZXA9ZmFsc2VdIC0gV2hldGhlciB0byBzZWFyY2ggcmVjdXJzaXZlbHlcbiAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAqL1xuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUsIGRlZXApIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkZWVwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLmdldENoaWxkQnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gY2hpbGQuZ2V0Q2hpbGRCeU5hbWUobmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24gLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbiBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKiBAbWV0aG9kIGdldEdsb2JhbFBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnQ9bmV3IFBJWEkuUG9pbnQoKV0gLSBUaGUgcG9pbnQgdG8gd3JpdGUgdGhlIGdsb2JhbCB2YWx1ZSB0by5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIEByZXR1cm5zIHtQSVhJLlBvaW50fSBUaGUgdXBkYXRlZCBwb2ludC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbihwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgIGlmIChwb2ludCA9PT0gdm9pZCAwKSB7IHBvaW50ID0gbmV3IFBvaW50KCk7IH1cbiAgICBpZiAoc2tpcFVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBVcGRhdGUgPSBmYWxzZTsgfVxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5tanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FwcCAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9hcHAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zLCBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogTWlkZGxld2FyZSBmb3IgZm9yIEFwcGxpY2F0aW9uJ3MgcmVzaXplIGZ1bmN0aW9uYWxpdHlcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqL1xudmFyIFJlc2l6ZVBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVQbHVnaW4oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSBhcHBsaWNhdGlvbiBvcHRpb25zXG4gICAgICovXG4gICAgUmVzaXplUGx1Z2luLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc2l6ZVRvJywgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSFRNTCBlbGVtZW50IG9yIHdpbmRvdyB0byBhdXRvbWF0aWNhbGx5IHJlc2l6ZSB0aGVcbiAgICAgICAgICogcmVuZGVyZXIncyB2aWV3IGVsZW1lbnQgdG8gbWF0Y2ggd2lkdGggYW5kIGhlaWdodC5cbiAgICAgICAgICogQG1lbWJlciB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAgICAgKiBAbmFtZSByZXNpemVUb1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICovXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRvbSkge1xuICAgICAgICAgICAgICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc2l6ZSBpcyB0aHJvdHRsZWQsIHNvIGl0J3Mgc2FmZSB0byBjYWxsIHRoaXMgbXVsdGlwbGUgdGltZXMgcGVyIGZyYW1lIGFuZCBpdCdsbFxuICAgICAgICAgKiBvbmx5IGJlIGNhbGxlZCBvbmNlLlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQG1ldGhvZCBxdWV1ZVJlc2l6ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgICAgICAvLyAvLyBUaHJvdHRsZSByZXNpemUgZXZlbnRzIHBlciByYWZcbiAgICAgICAgICAgIF90aGlzLl9yZXNpemVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZXNpemUoKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW5jZWwgdGhlIHJlc2l6ZSBxdWV1ZS5cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBtZXRob2QgY2FuY2VsUmVzaXplXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbmNlbFJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fcmVzaXplSWQpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShfdGhpcy5fcmVzaXplSWQpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeGVjdXRlIGFuIGltbWVkaWF0ZSByZXNpemUgb24gdGhlIHJlbmRlcmVyLCB0aGlzIGlzIG5vdFxuICAgICAgICAgKiB0aHJvdHRsZWQgYW5kIGNhbiBiZSBleHBlbnNpdmUgdG8gY2FsbCBtYW55IHRpbWVzIGluIGEgcm93LlxuICAgICAgICAgKiBXaWxsIHJlc2l6ZSBvbmx5IGlmIGByZXNpemVUb2AgcHJvcGVydHkgaXMgc2V0LlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQG1ldGhvZCByZXNpemVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzaXplVG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhciBxdWV1ZSByZXNpemVcbiAgICAgICAgICAgIF90aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodDtcbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byB0aGUgd2luZG93XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jlc2l6ZVRvID09PSBnbG9iYWxUaGlzLndpbmRvdykge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gZ2xvYmFsVGhpcy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IGdsb2JhbFRoaXMuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gb3RoZXIgSFRNTCBlbnRpdGllc1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuX3Jlc2l6ZVRvLCBjbGllbnRXaWR0aCA9IF9hLmNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgPSBfYS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBjbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBjbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXJlci5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIE9uIHJlc2l6ZVxuICAgICAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVUbyA9IG9wdGlvbnMucmVzaXplVG8gfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlc2l6ZVBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICB0aGlzLmNhbmNlbFJlc2l6ZSgpO1xuICAgICAgICB0aGlzLmNhbmNlbFJlc2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWVSZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZVRvID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemUgPSBudWxsO1xuICAgIH07XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBSZXNpemVQbHVnaW4uZXh0ZW5zaW9uID0gRXh0ZW5zaW9uVHlwZS5BcHBsaWNhdGlvbjtcbiAgICByZXR1cm4gUmVzaXplUGx1Z2luO1xufSgpKTtcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlciBhbmQgcm9vdCBjb250YWluZXIuXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBBZGQgdGhlIHZpZXcgdG8gdGhlIERPTVxuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gZXgsIGFkZCBkaXNwbGF5IG9iamVjdHNcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJykpO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXBwbGljYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1N0YXJ0PXRydWVdIC0gQXV0b21hdGljYWxseSBzdGFydHMgdGhlIHJlbmRlcmluZyBhZnRlciB0aGUgY29uc3RydWN0aW9uLlxuICAgICAqICAgICAqKk5vdGUqKjogU2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byBmYWxzZSBkb2VzIE5PVCBzdG9wIHRoZSBzaGFyZWQgdGlja2VyIGV2ZW4gaWYgeW91IHNldFxuICAgICAqICAgICBvcHRpb25zLnNoYXJlZFRpY2tlciB0byB0cnVlIGluIGNhc2UgdGhhdCBpdCBpcyBhbHJlYWR5IHN0YXJ0ZWQuIFN0b3AgaXQgYnkgeW91ciBvd24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZUNvbnRleHRBbHBoYT10cnVlXSAtIFBhc3MtdGhyb3VnaCB2YWx1ZSBmb3IgY2FudmFzJyBjb250ZXh0IGBhbHBoYWAgcHJvcGVydHkuXG4gICAgICogICBJZiB5b3Ugd2FudCB0byBzZXQgdHJhbnNwYXJlbmN5LCBwbGVhc2UgdXNlIGBiYWNrZ3JvdW5kQWxwaGFgLiBUaGlzIG9wdGlvbiBpcyBmb3IgY2FzZXMgd2hlcmUgdGhlXG4gICAgICogICBjYW52YXMgbmVlZHMgdG8gYmUgb3BhcXVlLCBwb3NzaWJseSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBvbiBzb21lIG9sZGVyIGRldmljZXMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj1QSVhJLnNldHRpbmdzLlJFU09MVVRJT05dIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudCwgdGhpc1xuICAgICAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gICAgICogICBpdCBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRBbHBoYT0xXSAtIFZhbHVlIGZyb20gMCAoZnVsbHkgdHJhbnNwYXJlbnQpIHRvIDEgKGZ1bGx5IG9wYXF1ZSkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZC4gKiooV2ViR0wgb25seSkqKi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZFRpY2tlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IHRpY2tlci5cbiAgICAgKiAgSWYgc2V0IHRvIGZhbHNlLCB5b3UgY2Fubm90IHJlZ2lzdGVyIGEgaGFuZGxlciB0byBvY2N1ciBiZWZvcmUgYW55dGhpbmcgdGhhdCBydW5zIG9uIHRoZSBzaGFyZWQgdGlja2VyLlxuICAgICAqICBUaGUgc3lzdGVtIHRpY2tlciB3aWxsIGFsd2F5cyBydW4gYmVmb3JlIGJvdGggdGhlIHNoYXJlZCB0aWNrZXIgYW5kIHRoZSBhcHAgdGlja2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkTG9hZGVyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5Mb2FkZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgTG9hZGVyLlxuICAgICAqIEBwYXJhbSB7V2luZG93fEhUTUxFbGVtZW50fSBbb3B0aW9ucy5yZXNpemVUb10gLSBFbGVtZW50IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHN0YWdlIHRvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFwcGxpY2F0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuICAgICAgICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIC8vIGluc3RhbGwgcGx1Z2lucyBoZXJlXG4gICAgICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgcGx1Z2luLmluaXQuY2FsbChfdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2UgdGhlIHtAbGluayBQSVhJLmV4dGVuc2lvbnMuYWRkfSBBUEkgdG8gcmVnaXN0ZXIgcGx1Z2lucy5cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA2LjUuMFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuSUFwcGxpY2F0aW9uUGx1Z2lufSBwbHVnaW4gLSBQbHVnaW4gYmVpbmcgaW5zdGFsbGVkXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc2LjUuMCcsICdBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbigpIGlzIGRlcHJlY2F0ZWQsIHVzZSBleHRlbnNpb25zLmFkZCgpJyk7XG4gICAgICAgIGV4dGVuc2lvbnMuYWRkKHtcbiAgICAgICAgICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuQXBwbGljYXRpb24sXG4gICAgICAgICAgICByZWY6IHBsdWdpbixcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKiogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLiAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJ2aWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJzY3JlZW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBgZmlsdGVyQXJlYWAgb3IgYGhpdEFyZWFgIGZvciB0aGUgd2hvbGUgc2NyZWVuLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKHJlbW92ZVZpZXcsIHN0YWdlT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBEZXN0cm95IHBsdWdpbnMgaW4gdGhlIG9wcG9zaXRlIG9yZGVyXG4gICAgICAgIC8vIHdoaWNoIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZFxuICAgICAgICB2YXIgcGx1Z2lucyA9IEFwcGxpY2F0aW9uLl9wbHVnaW5zLnNsaWNlKDApO1xuICAgICAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwoX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuICovXG4gICAgQXBwbGljYXRpb24uX3BsdWdpbnMgPSBbXTtcbiAgICByZXR1cm4gQXBwbGljYXRpb247XG59KCkpO1xuZXh0ZW5zaW9ucy5oYW5kbGVCeUxpc3QoRXh0ZW5zaW9uVHlwZS5BcHBsaWNhdGlvbiwgQXBwbGljYXRpb24uX3BsdWdpbnMpO1xuXG5leHRlbnNpb25zLmFkZChSZXNpemVQbHVnaW4pO1xuXG5leHBvcnQgeyBBcHBsaWNhdGlvbiwgUmVzaXplUGx1Z2luIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyAtIHY2LjUuOFxuICogQ29tcGlsZWQgU3VuLCAyMyBPY3QgMjAyMiAyMzowMTo0NSBVVENcbiAqXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaCwgTWVzaE1hdGVyaWFsIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBsYW5lR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBsYW5lR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBwbGFuZS5cbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcGxhbmUuXG4gICAgICogQHBhcmFtIHNlZ1dpZHRoIC0gTnVtYmVyIG9mIGhvcml6b250YWwgc2VnbWVudHMuXG4gICAgICogQHBhcmFtIHNlZ0hlaWdodCAtIE51bWJlciBvZiB2ZXJ0aWNhbCBzZWdtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQbGFuZUdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIHNlZ1dpZHRoLCBzZWdIZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAxMDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDEwMDsgfVxuICAgICAgICBpZiAoc2VnV2lkdGggPT09IHZvaWQgMCkgeyBzZWdXaWR0aCA9IDEwOyB9XG4gICAgICAgIGlmIChzZWdIZWlnaHQgPT09IHZvaWQgMCkgeyBzZWdIZWlnaHQgPSAxMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZWdXaWR0aCA9IHNlZ1dpZHRoO1xuICAgICAgICBfdGhpcy5zZWdIZWlnaHQgPSBzZWdIZWlnaHQ7XG4gICAgICAgIF90aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIF90aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgX3RoaXMuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsYW5lR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnNlZ1dpZHRoICogdGhpcy5zZWdIZWlnaHQ7XG4gICAgICAgIHZhciB2ZXJ0cyA9IFtdO1xuICAgICAgICB2YXIgdXZzID0gW107XG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnNlZ1dpZHRoIC0gMTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWSA9IHRoaXMuc2VnSGVpZ2h0IC0gMTtcbiAgICAgICAgdmFyIHNpemVYID0gKHRoaXMud2lkdGgpIC8gc2VnbWVudHNYO1xuICAgICAgICB2YXIgc2l6ZVkgPSAodGhpcy5oZWlnaHQpIC8gc2VnbWVudHNZO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gKGkgJSB0aGlzLnNlZ1dpZHRoKTtcbiAgICAgICAgICAgIHZhciB5ID0gKChpIC8gdGhpcy5zZWdXaWR0aCkgfCAwKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdGFsU3ViID0gc2VnbWVudHNYICogc2VnbWVudHNZO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU3ViOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4cG9zID0gaSAlIHNlZ21lbnRzWDtcbiAgICAgICAgICAgIHZhciB5cG9zID0gKGkgLyBzZWdtZW50c1gpIHwgMDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTMgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUsIHZhbHVlMiwgdmFsdWUzLCB2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydHMpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGxhbmVHZW9tZXRyeTtcbn0oTWVzaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogUm9wZUdlb21ldHJ5IGFsbG93cyB5b3UgdG8gZHJhdyBhIGdlb21ldHJ5IGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50cy5cbiAqXG4gKiBgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogY29uc3Qgcm9wZSA9IG5ldyBQSVhJLlJvcGVHZW9tZXRyeSgxMDAsIHBvaW50cyk7XG4gKiBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSb3BlR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvcGVHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHBvaW50cyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICogQHBhcmFtIHRleHR1cmVTY2FsZSAtIEJ5IGRlZmF1bHQgdGhlIHJvcGUgdGV4dHVyZSB3aWxsIGJlIHN0cmV0Y2hlZCB0byBtYXRjaFxuICAgICAqICAgICByb3BlIGxlbmd0aC4gSWYgdGV4dHVyZVNjYWxlIGlzIHBvc2l0aXZlIHRoaXMgdmFsdWUgd2lsbCBiZSB0cmVhdGVkIGFzIGEgc2NhbGluZ1xuICAgICAqICAgICBmYWN0b3IgYW5kIHRoZSB0ZXh0dXJlIHdpbGwgcHJlc2VydmUgaXRzIGFzcGVjdCByYXRpbyBpbnN0ZWFkLiBUbyBjcmVhdGUgYSB0aWxpbmcgcm9wZVxuICAgICAqICAgICBzZXQgYmFzZVRleHR1cmUud3JhcE1vZGUgdG8ge0BsaW5rIFBJWEkuV1JBUF9NT0RFUy5SRVBFQVR9IGFuZCB1c2UgYSBwb3dlciBvZiB0d28gdGV4dHVyZSxcbiAgICAgKiAgICAgdGhlbiBzZXQgdGV4dHVyZVNjYWxlPTEgdG8ga2VlcCB0aGUgb3JpZ2luYWwgdGV4dHVyZSBwaXhlbCBzaXplLlxuICAgICAqICAgICBJbiBvcmRlciB0byByZWR1Y2UgYWxwaGEgY2hhbm5lbCBhcnRpZmFjdHMgcHJvdmlkZSBhIGxhcmdlciB0ZXh0dXJlIGFuZCBkb3duc2FtcGxlIC1cbiAgICAgKiAgICAgaS5lLiBzZXQgdGV4dHVyZVNjYWxlPTAuNSB0byBzY2FsZSBpdCBkb3duIHR3aWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvcGVHZW9tZXRyeSh3aWR0aCwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAyMDA7IH1cbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwKSB7IHRleHR1cmVTY2FsZSA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLCBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICBfdGhpcy50ZXh0dXJlU2NhbGUgPSB0ZXh0dXJlU2NhbGU7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJvcGVHZW9tZXRyeS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIFJlZnJlc2hlcyBSb3BlIGluZGljZXMgYW5kIHV2cyAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgaWYgKCFwb2ludHMpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICB2YXIgdXZCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4KCk7XG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZCB3ZSB3aWxsIG5lZWQgdG8gcmVjcmVhdGUgdGhlIGFycmF5YnVmZmVyc1xuICAgICAgICBpZiAodmVydGV4QnVmZmVyLmRhdGEubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHV2QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG4gICAgICAgIHZhciBhbW91bnQgPSAwO1xuICAgICAgICB2YXIgcHJldiA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIHRleHR1cmVXaWR0aCA9IHRoaXMuX3dpZHRoICogdGhpcy50ZXh0dXJlU2NhbGU7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7IC8vIC0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aW1lIHRvIGRvIHNvbWUgc21hcnQgZHJhd2luZyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBwaXhlbCBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHBvaW50XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gcHJldi54IC0gcG9pbnRzW2ldLng7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gcHJldi55IC0gcG9pbnRzW2ldLnk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgICAgICAgICAgcHJldiA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBhbW91bnQgKz0gZGlzdGFuY2UgLyB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzdHJldGNoIHRleHR1cmVcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBpIC8gKHRvdGFsIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMl0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAzXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4Q291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAzO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB1dkJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICB9O1xuICAgIC8qKiByZWZyZXNoZXMgdmVydGljZXMgb2YgUm9wZSBtZXNoICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbmV4dFBvaW50O1xuICAgICAgICB2YXIgcGVycFggPSAwO1xuICAgICAgICB2YXIgcGVycFkgPSAwO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZXJwWSA9IC0obmV4dFBvaW50LnggLSBsYXN0UG9pbnQueCk7XG4gICAgICAgICAgICBwZXJwWCA9IG5leHRQb2ludC55IC0gbGFzdFBvaW50Lnk7XG4gICAgICAgICAgICB2YXIgcGVycExlbmd0aCA9IE1hdGguc3FydCgocGVycFggKiBwZXJwWCkgKyAocGVycFkgKiBwZXJwWSkpO1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMudGV4dHVyZVNjYWxlID4gMCA/IHRoaXMudGV4dHVyZVNjYWxlICogdGhpcy5fd2lkdGggLyAyIDogdGhpcy5fd2lkdGggLyAyO1xuICAgICAgICAgICAgcGVycFggLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWCAqPSBudW07XG4gICAgICAgICAgICBwZXJwWSAqPSBudW07XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgfTtcbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5idWlsZCgpOyAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSBVVnNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJvcGVHZW9tZXRyeTtcbn0oTWVzaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlNpbXBsZVJvcGUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2ltcGxlUm9wZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlUm9wZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgcm9wZS5cbiAgICAgKiBAcGFyYW0gcG9pbnRzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGV4dHVyZVNjYWxlIC0gT3B0aW9uYWwuIFBvc2l0aXZlIHZhbHVlcyBzY2FsZSByb3BlIHRleHR1cmVcbiAgICAgKiBrZWVwaW5nIGl0cyBhc3BlY3QgcmF0aW8uIFlvdSBjYW4gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIGJ5IHByb3ZpZGluZyBhIGxhcmdlciB0ZXh0dXJlXG4gICAgICogYW5kIGRvd25zYW1wbGluZyBoZXJlLiBJZiBzZXQgdG8gemVybywgdGV4dHVyZSB3aWxsIGJlIHN0cmV0Y2hlZCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZVJvcGUodGV4dHVyZSwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpIHtcbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwKSB7IHRleHR1cmVTY2FsZSA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJvcGVHZW9tZXRyeSA9IG5ldyBSb3BlR2VvbWV0cnkodGV4dHVyZS5oZWlnaHQsIHBvaW50cywgdGV4dHVyZVNjYWxlKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAvLyBhdHRlbXB0IHRvIHNldCBVViB3cmFwcGluZywgd2lsbCBmYWlsIG9uIG5vbi1wb3dlciBvZiB0d28gdGV4dHVyZXNcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvcGVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogcmUtY2FsY3VsYXRlIHZlcnRpY2VzIGJ5IHJvcGUgcG9pbnRzIGVhY2ggZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNpbXBsZVJvcGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSB8fCBnZW9tZXRyeS5fd2lkdGggIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5fd2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdlb21ldHJ5LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVSb3BlO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFNpbXBsZVBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFNpbXBsZVBsYW5lID0gbmV3IFBJWEkuU2ltcGxlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2ltcGxlUGxhbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZVBsYW5lLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBTaW1wbGVQbGFuZS5cbiAgICAgKiBAcGFyYW0gdmVydGljZXNYIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeC1heGlzXG4gICAgICogQHBhcmFtIHZlcnRpY2VzWSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHktYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZVBsYW5lKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwbGFuZUdlb21ldHJ5ID0gbmV3IFBsYW5lR2VvbWV0cnkodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHZlcnRpY2VzWCwgdmVydGljZXNZKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5XSElURSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcGxhbmVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKSB8fCB0aGlzO1xuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIF90aGlzLmF1dG9SZXNpemUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIGZvciBvdmVycmlkZXMsIHRvIGRvIHNvbWV0aGluZyBpbiBjYXNlIHRleHR1cmUgZnJhbWUgd2FzIGNoYW5nZWQuXG4gICAgICogTWVzaGVzIGJhc2VkIG9uIHBsYW5lIGNhbiBvdmVycmlkZSBpdCBhbmQgY2hhbmdlIG1vcmUgZGV0YWlscyBiYXNlZCBvbiB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS50ZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuc2hhZGVyLnRleHR1cmUsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1Jlc2l6ZSAmJiAoZ2VvbWV0cnkud2lkdGggIT09IHdpZHRoIHx8IGdlb21ldHJ5LmhlaWdodCAhPT0gaGVpZ2h0KSkge1xuICAgICAgICAgICAgZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2VvbWV0cnkuaGVpZ2h0ID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBnZW9tZXRyeS5idWlsZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlUGxhbmUucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gVHJhY2sgdGV4dHVyZSBzYW1lIHdheSBzcHJpdGUgZG9lcy5cbiAgICAgICAgICAgIC8vIEZvciBnZW5lcmF0ZWQgbWVzaGVzIGxpa2UgTmluZVNsaWNlUGxhbmUgaXQgY2FuIGNoYW5nZSB0aGUgZ2VvbWV0cnkuXG4gICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGlzIG1ldGhvZCBtaWdodCBub3Qgd29yayBpZiB5b3UgZGlyZWN0bHkgY2hhbmdlIHRleHR1cmUgaW4gbWF0ZXJpYWwuXG4gICAgICAgICAgICBpZiAodGhpcy5zaGFkZXIudGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlUGxhbmU7XG59KE1lc2gpKTtcblxuLyoqXG4gKiBUaGUgU2ltcGxlIE1lc2ggY2xhc3MgbWltaWNzIE1lc2ggaW4gUGl4aUpTIHY0LCBwcm92aWRpbmcgZWFzeS10by11c2UgY29uc3RydWN0b3IgYXJndW1lbnRzLlxuICogRm9yIG1vcmUgcm9idXN0IGN1c3RvbWl6YXRpb24sIHVzZSB7QGxpbmsgUElYSS5NZXNofS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaW1wbGVNZXNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVNZXNoLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt2ZXJ0aWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdXZzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHV2c1xuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICAgKiBAcGFyYW0gZHJhd01vZGUgLSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIE1lc2guRFJBV19NT0RFUyBjb25zdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVNZXNoKHRleHR1cmUsIHZlcnRpY2VzLCB1dnMsIGluZGljZXMsIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlID09PSB2b2lkIDApIHsgdGV4dHVyZSA9IFRleHR1cmUuRU1QVFk7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzKTtcbiAgICAgICAgZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5zdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZ2VvbWV0cnksIG1lc2hNYXRlcmlhbCwgbnVsbCwgZHJhd01vZGUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW1wbGVNZXNoLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHZlcnRpY2VzIGRhdGEuXG4gICAgICAgICAqIEB0eXBlIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTaW1wbGVNZXNoLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlTWVzaDtcbn0oTWVzaCkpO1xuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuLyoqXG4gKiBUaGUgTmluZVNsaWNlUGxhbmUgYWxsb3dzIHlvdSB0byBzdHJldGNoIGEgdGV4dHVyZSB1c2luZyA5LXNsaWNlIHNjYWxpbmcuIFRoZSBjb3JuZXJzIHdpbGwgcmVtYWluIHVuc2NhbGVkICh1c2VmdWxcbiAqIGZvciBidXR0b25zIHdpdGggcm91bmRlZCBjb3JuZXJzIGZvciBleGFtcGxlKSBhbmQgdGhlIG90aGVyIGFyZWFzIHdpbGwgYmUgc2NhbGVkIGhvcml6b250YWxseSBhbmQgb3IgdmVydGljYWxseVxuICpcbiAqYGBganNcbiAqIGxldCBQbGFuZTkgPSBuZXcgUElYSS5OaW5lU2xpY2VQbGFuZShQSVhJLlRleHR1cmUuZnJvbSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTmluZVNsaWNlUGxhbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5pbmVTbGljZVBsYW5lLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlZnRXaWR0aD0xMF0gLSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RvcEhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSB0b3AgaG9yaXpvbnRhbCBiYXIgKEMpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyaWdodFdpZHRoPTEwXSAtIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JvdHRvbUhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmluZVNsaWNlUGxhbmUodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodCkge1xuICAgICAgICBpZiAobGVmdFdpZHRoID09PSB2b2lkIDApIHsgbGVmdFdpZHRoID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAodG9wSGVpZ2h0ID09PSB2b2lkIDApIHsgdG9wSGVpZ2h0ID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAocmlnaHRXaWR0aCA9PT0gdm9pZCAwKSB7IHJpZ2h0V2lkdGggPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIGlmIChib3R0b21IZWlnaHQgPT09IHZvaWQgMCkgeyBib3R0b21IZWlnaHQgPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFRleHR1cmUuV0hJVEUsIDQsIDQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIF90aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZS4gKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gX3RoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmUuICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBfdGhpcy5fb3JpZ0hlaWdodDtcbiAgICAgICAgX3RoaXMuX2xlZnRXaWR0aCA9IGxlZnRXaWR0aDtcbiAgICAgICAgX3RoaXMuX3JpZ2h0V2lkdGggPSByaWdodFdpZHRoO1xuICAgICAgICBfdGhpcy5fdG9wSGVpZ2h0ID0gdG9wSGVpZ2h0O1xuICAgICAgICBfdGhpcy5fYm90dG9tSGVpZ2h0ID0gYm90dG9tSGVpZ2h0O1xuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBVcGRhdGVzIHRoZSBob3Jpem9udGFsIHZlcnRpY2VzLiAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVIb3Jpem9udGFsVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG4gICAgICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzE3XSA9IHZlcnRpY2VzWzE5XSA9IHZlcnRpY2VzWzIxXSA9IHZlcnRpY2VzWzIzXSA9IHRoaXMuX2hlaWdodCAtICh0aGlzLl9ib3R0b21IZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzI1XSA9IHZlcnRpY2VzWzI3XSA9IHZlcnRpY2VzWzI5XSA9IHZlcnRpY2VzWzMxXSA9IHRoaXMuX2hlaWdodDtcbiAgICB9O1xuICAgIC8qKiBVcGRhdGVzIHRoZSB2ZXJ0aWNhbCB2ZXJ0aWNlcy4gKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlVmVydGljYWxWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZ2V0TWluU2NhbGUoKTtcbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1sxMF0gPSB2ZXJ0aWNlc1sxOF0gPSB2ZXJ0aWNlc1syNl0gPSB0aGlzLl9sZWZ0V2lkdGggKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtICh0aGlzLl9yaWdodFdpZHRoICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1s2XSA9IHZlcnRpY2VzWzE0XSA9IHZlcnRpY2VzWzIyXSA9IHZlcnRpY2VzWzMwXSA9IHRoaXMuX3dpZHRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc21hbGxlciBvZiBhIHNldCBvZiB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FsZSBvZiBuaW5lIHNsaWNlIGNvcm5lcnMuXG4gICAgICogQHJldHVybnMgU21hbGxlciBudW1iZXIgb2YgdmVydGljYWwgYW5kIGhvcml6b250YWwgc2NhbGUuXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9nZXRNaW5TY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHcgPSB0aGlzLl9sZWZ0V2lkdGggKyB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB2YXIgc2NhbGVXID0gdGhpcy5fd2lkdGggPiB3ID8gMS4wIDogdGhpcy5fd2lkdGggLyB3O1xuICAgICAgICB2YXIgaCA9IHRoaXMuX3RvcEhlaWdodCArIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlSCA9IHRoaXMuX2hlaWdodCA+IGggPyAxLjAgOiB0aGlzLl9oZWlnaHQgLyBoO1xuICAgICAgICB2YXIgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVcsIHNjYWxlSCk7XG4gICAgICAgIHJldHVybiBzY2FsZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKiogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwibGVmdFdpZHRoXCIsIHtcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4uICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJyaWdodFdpZHRoXCIsIHtcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ0b3BIZWlnaHRcIiwge1xuICAgICAgICAvKiogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdy4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImJvdHRvbUhlaWdodFwiLCB7XG4gICAgICAgIC8qKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS4gKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLmRhdGE7XG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICB2YXIgX3V2aCA9IDEuMCAvIHRoaXMuX29yaWdIZWlnaHQ7XG4gICAgICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICAgICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICAgICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE5pbmVTbGljZVBsYW5lO1xufShTaW1wbGVQbGFuZSkpO1xuXG5leHBvcnQgeyBOaW5lU2xpY2VQbGFuZSwgUGxhbmVHZW9tZXRyeSwgUm9wZUdlb21ldHJ5LCBTaW1wbGVNZXNoLCBTaW1wbGVQbGFuZSwgU2ltcGxlUm9wZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzaC1leHRyYXMubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUtYW5pbWF0ZWQgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLWFuaW1hdGVkIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQW4gQW5pbWF0ZWRTcHJpdGUgaXMgYSBzaW1wbGUgd2F5IHRvIGRpc3BsYXkgYW4gYW5pbWF0aW9uIGRlcGljdGVkIGJ5IGEgbGlzdCBvZiB0ZXh0dXJlcy5cbiAqXG4gKiBgYGBqc1xuICogbGV0IGFsaWVuSW1hZ2VzID0gW1wiaW1hZ2Vfc2VxdWVuY2VfMDEucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMi5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAzLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDQucG5nXCJdO1xuICogbGV0IHRleHR1cmVBcnJheSA9IFtdO1xuICpcbiAqIGZvciAobGV0IGk9MDsgaSA8IDQ7IGkrKylcbiAqIHtcbiAqICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbShhbGllbkltYWdlc1tpXSk7XG4gKiAgICAgIHRleHR1cmVBcnJheS5wdXNoKHRleHR1cmUpO1xuICogfTtcbiAqXG4gKiBsZXQgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZSh0ZXh0dXJlQXJyYXkpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IGFuZCBzaW1wbGVyIHdheSB0byBjcmVhdGUgYW4gYW5pbWF0ZWQgc3ByaXRlIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9XG4gKiBjb250YWluaW5nIHRoZSBhbmltYXRpb24gZGVmaW5pdGlvbnM6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJpbWFnZV9zZXF1ZW5jZVwiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQW5pbWF0ZWRTcHJpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFuaW1hdGVkU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlcyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlRleHR1cmV9IG9yIGZyYW1lXG4gICAgICogIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1VwZGF0ZT10cnVlXSAtIFdoZXRoZXIgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcywgYXV0b1VwZGF0ZSkge1xuICAgICAgICBpZiAoYXV0b1VwZGF0ZSA9PT0gdm9pZCAwKSB7IGF1dG9VcGRhdGUgPSB0cnVlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3RleHR1cmVzID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZTtcbiAgICAgICAgX3RoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uU3BlZWQgPSAxO1xuICAgICAgICBfdGhpcy5sb29wID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMudXBkYXRlQW5jaG9yID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICBfdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgX3RoaXMub25Mb29wID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgX3RoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuICAgICAgICBfdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUuICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogUGxheXMgdGhlIEFuaW1hdGVkU3ByaXRlLiAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZS5cbiAgICAgKiBAcGFyYW0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdG9wIGF0LlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kU3RvcCA9IGZ1bmN0aW9uIChmcmFtZU51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIHNwZWNpZmljIGZyYW1lIGFuZCBiZWdpbnMgcGxheWluZyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICogQHBhcmFtIGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gKGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIGRlbHRhVGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgaWYgKHRoaXMuX2R1cmF0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxhZyA9IHRoaXMuX2N1cnJlbnRUaW1lICUgMSAqIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICBsYWcgKz0gZWxhcHNlZCAvIDYwICogMTAwMDtcbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgICAgICAgICBsYWcgKz0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSkge1xuICAgICAgICAgICAgICAgIGxhZyAtPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBzaWduO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4LiAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIGlmICh0aGlzLl9wcmV2aW91c0ZyYW1lID09PSBjdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcmV2aW91c0ZyYW1lID0gY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbY3VycmVudEZyYW1lXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgICAgICBpZiAodGhpcy51cGRhdGVBbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh0aGlzLl90ZXh0dXJlLmRlZmF1bHRBbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZGVzdHJveXMgaXQuXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBJZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHMuXG4gICAgICogQHBhcmFtIGZyYW1lcyAtIFRoZSBhcnJheSBvZiBmcmFtZXMgaWRzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybnMgLSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21GcmFtZXMgPSBmdW5jdGlvbiAoZnJhbWVzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oZnJhbWVzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgaW1hZ2UgaWRzLlxuICAgICAqIEBwYXJhbSBpbWFnZXMgLSBUaGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm5zIFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIChpbWFnZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwidG90YWxGcmFtZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAgKiBhc3NpZ25lZCB0byB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcInRleHR1cmVzXCIsIHtcbiAgICAgICAgLyoqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcImN1cnJlbnRGcmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgQW5pbWF0ZWRTcHJpdGVzIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJwbGF5aW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgQW5pbWF0ZWRTcHJpdGUgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwiYXV0b1VwZGF0ZVwiLCB7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgJiYgdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBbmltYXRlZFNwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbmV4cG9ydCB7IEFuaW1hdGVkU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtYW5pbWF0ZWQubWpzLm1hcFxuIiwiLyohXG4gKiBwaXhpLmpzIC0gdjYuNS44XG4gKiBDb21waWxlZCBTdW4sIDIzIE9jdCAyMDIyIDIzOjAxOjQ1IFVUQ1xuICpcbiAqIHBpeGkuanMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgJ0BwaXhpL3BvbHlmaWxsJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJ0BwaXhpL3V0aWxzJztcbmV4cG9ydCB7IHV0aWxzIH07XG5pbXBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciB9IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hbmFnZXIgfSBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5pbXBvcnQgeyBleHRlbnNpb25zLCBCYXRjaFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEV4dHJhY3QgfSBmcm9tICdAcGl4aS9leHRyYWN0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuaW1wb3J0IHsgQXBwTG9hZGVyUGx1Z2luIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLCBERFNMb2FkZXIsIEtUWExvYWRlciB9IGZyb20gJ0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29tcHJlc3NlZC10ZXh0dXJlcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvcGFydGljbGUtY29udGFpbmVyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3BhcnRpY2xlLWNvbnRhaW5lcic7XG5pbXBvcnQgeyBQcmVwYXJlIH0gZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuaW1wb3J0IHsgQml0bWFwRm9udExvYWRlciB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItYWxwaGEnO1xuaW1wb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfSBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5pbXBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgnO1xuaW1wb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCc7XG5pbXBvcnQgeyBGWEFBRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuaW1wb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItbm9pc2UnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21hdGgnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoLWV4dHJhcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ydW5uZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS1hbmltYXRlZCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuZXh0ZW5zaW9ucy5hZGQoXG4vLyBJbnN0YWxsIHJlbmRlcmVyIHBsdWdpbnNcbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLCBFeHRyYWN0LCBJbnRlcmFjdGlvbk1hbmFnZXIsIFBhcnRpY2xlUmVuZGVyZXIsIFByZXBhcmUsIEJhdGNoUmVuZGVyZXIsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLCBcbi8vIEluc3RhbGwgbG9hZGVyIHBsdWdpbnNcbkJpdG1hcEZvbnRMb2FkZXIsIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLCBERFNMb2FkZXIsIEtUWExvYWRlciwgU3ByaXRlc2hlZXRMb2FkZXIsIFxuLy8gSW5zdGFsbCBhcHBsaWNhdGlvbiBwbHVnaW5zXG5UaWNrZXJQbHVnaW4sIEFwcExvYWRlclBsdWdpbik7XG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIFdlYkdMLW9ubHkgZGlzcGxheSBmaWx0ZXJzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAqIHRvIERpc3BsYXlPYmplY3RzIHVzaW5nIHRoZSB7QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2ZpbHRlcnMgZmlsdGVyc30gcHJvcGVydHkuXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnNcbiAqIGNhbiBiZSBkb3dubG9hZGVkIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZVxuICogUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBBbGwgZmlsdGVycyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5GaWx0ZXJ9LlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgZ3JlZW4gcmVjdGFuZ2xlXG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCBhIGJsdXIgZmlsdGVyXG4gKiByZWN0LmZpbHRlcnMgPSBbbmV3IFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyKCldO1xuICpcbiAqIC8vIERpc3BsYXkgcmVjdGFuZ2xlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqIEBuYW1lc3BhY2UgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBmaWx0ZXJzID0ge1xuICAgIEFscGhhRmlsdGVyOiBBbHBoYUZpbHRlcixcbiAgICBCbHVyRmlsdGVyOiBCbHVyRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXJQYXNzOiBCbHVyRmlsdGVyUGFzcyxcbiAgICBDb2xvck1hdHJpeEZpbHRlcjogQ29sb3JNYXRyaXhGaWx0ZXIsXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyOiBEaXNwbGFjZW1lbnRGaWx0ZXIsXG4gICAgRlhBQUZpbHRlcjogRlhBQUZpbHRlcixcbiAgICBOb2lzZUZpbHRlcjogTm9pc2VGaWx0ZXIsXG59O1xuXG5leHBvcnQgeyBmaWx0ZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXhpLm1qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvYmFzaXMgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvYmFzaXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBCdWZmZXJSZXNvdXJjZSwgVGV4dHVyZSwgQmFzZVRleHR1cmUsIGV4dGVuc2lvbnMgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFRZUEVTLCBGT1JNQVRTLCBNSVBNQVBfTU9ERVMsIEFMUEhBX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IElOVEVSTkFMX0ZPUk1BVFMsIENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9jb21wcmVzc2VkLXRleHR1cmVzJztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgeyB0aHJvdyB0WzFdOyB9IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTsgfVxyXG4gICAgICAgIHdoaWxlIChfKSB7IHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSB7IHJldHVybiB0OyB9XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgeyBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdOyB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIHsgXy5vcHMucG9wKCk7IH1cclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH0gfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHsgdGhyb3cgb3BbMV07IH0gcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxuXG52YXIgX2EsIF9iLCBfYztcbi8qKlxuICogVGhlIHRyYW5zY29kaW5nIGZvcm1hdHMgcHJvdmlkZWQgYnkgYmFzaXNfdW5pdmVyc2FsLlxuICpcbiAqIE5PVEU6IE5vdCBhbGwgb2YgdGhlc2UgZm9ybWF0cyBhcmUgc3VwcG9ydGVkIG9uIFdlYkdMIVxuICogQGlnbm9yZVxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UsIEB0eXBlc2NyaXB0LWVzbGludC9pbmRlbnQgKi9cbnZhciBCQVNJU19GT1JNQVRTO1xuKGZ1bmN0aW9uIChCQVNJU19GT1JNQVRTKSB7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGRVRDMVwiXSA9IDBdID0gXCJjVEZFVEMxXCI7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGRVRDMlwiXSA9IDFdID0gXCJjVEZFVEMyXCI7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGQkMxXCJdID0gMl0gPSBcImNURkJDMVwiO1xuICAgIEJBU0lTX0ZPUk1BVFNbQkFTSVNfRk9STUFUU1tcImNURkJDM1wiXSA9IDNdID0gXCJjVEZCQzNcIjtcbiAgICBCQVNJU19GT1JNQVRTW0JBU0lTX0ZPUk1BVFNbXCJjVEZCQzRcIl0gPSA0XSA9IFwiY1RGQkM0XCI7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGQkM1XCJdID0gNV0gPSBcImNURkJDNVwiO1xuICAgIEJBU0lTX0ZPUk1BVFNbQkFTSVNfRk9STUFUU1tcImNURkJDN1wiXSA9IDZdID0gXCJjVEZCQzdcIjtcbiAgICBCQVNJU19GT1JNQVRTW0JBU0lTX0ZPUk1BVFNbXCJjVEZQVlJUQzFfNF9SR0JcIl0gPSA4XSA9IFwiY1RGUFZSVEMxXzRfUkdCXCI7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGUFZSVEMxXzRfUkdCQVwiXSA9IDldID0gXCJjVEZQVlJUQzFfNF9SR0JBXCI7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGQVNUQ180eDRcIl0gPSAxMF0gPSBcImNURkFTVENfNHg0XCI7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGQVRDX1JHQlwiXSA9IDExXSA9IFwiY1RGQVRDX1JHQlwiO1xuICAgIEJBU0lTX0ZPUk1BVFNbQkFTSVNfRk9STUFUU1tcImNURkFUQ19SR0JBX0lOVEVSUE9MQVRFRF9BTFBIQVwiXSA9IDEyXSA9IFwiY1RGQVRDX1JHQkFfSU5URVJQT0xBVEVEX0FMUEhBXCI7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGUkdCQTMyXCJdID0gMTNdID0gXCJjVEZSR0JBMzJcIjtcbiAgICBCQVNJU19GT1JNQVRTW0JBU0lTX0ZPUk1BVFNbXCJjVEZSR0I1NjVcIl0gPSAxNF0gPSBcImNURlJHQjU2NVwiO1xuICAgIEJBU0lTX0ZPUk1BVFNbQkFTSVNfRk9STUFUU1tcImNURkJHUjU2NVwiXSA9IDE1XSA9IFwiY1RGQkdSNTY1XCI7XG4gICAgQkFTSVNfRk9STUFUU1tCQVNJU19GT1JNQVRTW1wiY1RGUkdCQTQ0NDRcIl0gPSAxNl0gPSBcImNURlJHQkE0NDQ0XCI7XG59KShCQVNJU19GT1JNQVRTIHx8IChCQVNJU19GT1JNQVRTID0ge30pKTtcbi8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlLCBAdHlwZXNjcmlwdC1lc2xpbnQvaW5kZW50ICovXG4vKipcbiAqIE1hcHMge0BsaW5rIEJBU0lTX0ZPUk1BVFN9IHRvIHtAbGluayBQSVhJLklOVEVSTkFMX0ZPUk1BVFN9XG4gKiBAaWdub3JlXG4gKi9cbnZhciBCQVNJU19GT1JNQVRfVE9fSU5URVJOQUxfRk9STUFUID0gKF9hID0ge30sXG4gICAgX2FbQkFTSVNfRk9STUFUUy5jVEZFVEMxXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTCxcbiAgICBfYVtCQVNJU19GT1JNQVRTLmNURkJDMV0gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQsXG4gICAgX2FbQkFTSVNfRk9STUFUUy5jVEZCQzNdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCxcbiAgICBfYVtCQVNJU19GT1JNQVRTLmNURlBWUlRDMV80X1JHQl0gPSBJTlRFUk5BTF9GT1JNQVRTLkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUcsXG4gICAgX2FbQkFTSVNfRk9STUFUUy5jVEZQVlJUQzFfNF9SR0JBXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUcsXG4gICAgX2FbQkFTSVNfRk9STUFUUy5jVEZBVENfUkdCXSA9IElOVEVSTkFMX0ZPUk1BVFMuQ09NUFJFU1NFRF9SR0JfQVRDX1dFQkdMLFxuICAgIF9hW0JBU0lTX0ZPUk1BVFMuY1RGQVNUQ180eDRdID0gSU5URVJOQUxfRk9STUFUUy5DT01QUkVTU0VEX1JHQkFfQVNUQ180eDRfS0hSLFxuICAgIF9hKTtcbi8qKlxuICogTWFwcyB7QGxpbmsgQkFTSVNfRk9STUFUU30gdG8ge0BsaW5rIFBJWEkuVFlQRVN9LiBUaGVzZSBmb3JtYXRzIGFyZSBhIGZhbGxiYWNrIHdoZW4gdGhlIGJhc2lzIGZpbGUgY2Fubm90IGJlIHRyYW5zY29kZWRcbiAqIHRvIGEgdmFsaWQgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdC5cbiAqXG4gKiBOT1RFOiB7QGxpbmsgQkFTSVNfRk9STUFUUy5jVEZCR1I1NjV9IGlzIG5vdCBzdXBwb3J0ZWQsIHdoaWxlIHtAbGluayBCQVNJU19GT1JNQVRTLmNURlJHQkE0NDQ0fSBpcyBub3QgaW1wbGVtZW50ZWQgYnlcbiAqICBbYXRdcGl4aS9iYXNpcy5cbiAqIEBpZ25vcmVcbiAqL1xudmFyIEJBU0lTX0ZPUk1BVF9UT19UWVBFID0gKF9iID0ge30sXG4gICAgX2JbQkFTSVNfRk9STUFUUy5jVEZSR0JBMzJdID0gVFlQRVMuVU5TSUdORURfQllURSxcbiAgICBfYltCQVNJU19GT1JNQVRTLmNURlJHQjU2NV0gPSBUWVBFUy5VTlNJR05FRF9TSE9SVF81XzZfNSxcbiAgICBfYltCQVNJU19GT1JNQVRTLmNURlJHQkE0NDQ0XSA9IFRZUEVTLlVOU0lHTkVEX1NIT1JUXzRfNF80XzQsXG4gICAgX2IpO1xuLyoqXG4gKiBNYXBzIHtAbGluayBQSVhJLklOVEVSTkFMX0ZPUk1BVFN9IHRvIHtAbGluayBCQVNJU19GT1JNQVRTfVxuICogQGlnbm9yZVxuICovXG52YXIgSU5URVJOQUxfRk9STUFUX1RPX0JBU0lTX0ZPUk1BVCA9IE9iamVjdC5rZXlzKEJBU0lTX0ZPUk1BVF9UT19JTlRFUk5BTF9GT1JNQVQpXG4gICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBOdW1iZXIoa2V5KTsgfSlcbiAgICAucmVkdWNlKGZ1bmN0aW9uIChyZXZlcnNlTWFwLCBiYXNpc0Zvcm1hdCkge1xuICAgIHJldmVyc2VNYXBbQkFTSVNfRk9STUFUX1RPX0lOVEVSTkFMX0ZPUk1BVFtiYXNpc0Zvcm1hdF1dID0gYmFzaXNGb3JtYXQ7XG4gICAgcmV0dXJuIHJldmVyc2VNYXA7XG59LCB7fSk7XG4vKipcbiAqIEVudW1lcmF0ZXMgdGhlIGJhc2lzIGZvcm1hdHMgd2l0aCBhbHBoYSBjb21wb25lbnRzXG4gKiBAaWdub3JlXG4gKi9cbnZhciBCQVNJU19GT1JNQVRTX0FMUEhBID0gKF9jID0ge30sXG4gICAgX2NbQkFTSVNfRk9STUFUUy5jVEZCQzNdID0gdHJ1ZSxcbiAgICBfY1tCQVNJU19GT1JNQVRTLmNURlBWUlRDMV80X1JHQkFdID0gdHJ1ZSxcbiAgICBfY1tCQVNJU19GT1JNQVRTLmNURkFTVENfNHg0XSA9IHRydWUsXG4gICAgX2MpO1xuXG4vKipcbiAqIFRoaXMgd3JhcHMgdGhlIHRyYW5zY29kZXIgd2ViLXdvcmtlciBmdW5jdGlvbmFsaXR5OyBpdCBjYW4gYmUgY29udmVydGVkIGludG8gYSBzdHJpbmcgdG8gZ2V0IHRoZSBzb3VyY2UgY29kZS4gSXQgZXhwZWN0c1xuICogeW91IHRvIHByZXBlbmQgdGhlIHRyYW5zY29kZXIgSmF2YVNjcmlwdCBjb2RlIHNvIHRoYXQgdGhlIGBCQVNJU2AgbmFtZXNwYWNlIGlzIGF2YWlsYWJsZS5cbiAqXG4gKiBUaGUgdHJhbnNjb2RlciB3b3JrZXIgcmVzcG9uZHMgdG8gdHdvIHR5cGVzIG9mIG1lc3NhZ2VzOiBcImluaXRcIiBhbmQgXCJ0cmFuc2NvZGVcIi4gWW91IG11c3QgYWx3YXlzIHNlbmQgdGhlIGZpcnN0IFwiaW5pdFwiXG4gKiB7QGxpbmsgSUluaXRpYWxpemVUcmFuc2NvZGVyTWVzc2FnZX0gbWVzc2FnZSB3aXRoIHRoZSBXZWJBc3NlbWJseSBiaW5hcnk7IGlmIHRoZSB0cmFuc2NvZGVyIGlzIHN1Y2Nlc3NmdWxseSBpbml0aWFsaXplZCxcbiAqIHRoZSB3ZWItd29ya2VyIHdpbGwgcmVzcG9uZCBieSBzZW5kaW5nIGFub3RoZXIge0BsaW5rIElUcmFuc2NvZGVSZXNwb25zZX0gbWVzc2FnZSB3aXRoIGBzdWNjZXNzOiB0cnVlYC5cbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gVHJhbnNjb2RlcldvcmtlcldyYXBwZXIoKSB7XG4gICAgdmFyIGJhc2lzQmluZGluZztcbiAgICB2YXIgbWVzc2FnZUhhbmRsZXJzID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKCFzZWxmLkJBU0lTKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdqc1NvdXJjZSB3YXMgbm90IHByZXBlbmRlZD8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5pdCcsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuQkFTSVMoeyB3YXNtQmluYXJ5OiBtZXNzYWdlLndhc21Tb3VyY2UgfSkudGhlbihmdW5jdGlvbiAoYmFzaXNMaWJyYXJ5KSB7XG4gICAgICAgICAgICAgICAgYmFzaXNMaWJyYXJ5LmluaXRpYWxpemVCYXNpcygpO1xuICAgICAgICAgICAgICAgIGJhc2lzQmluZGluZyA9IGJhc2lzTGlicmFyeTtcbiAgICAgICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luaXQnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICB0cmFuc2NvZGU6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICB2YXIgYmFzaXNEYXRhID0gbWVzc2FnZS5iYXNpc0RhdGE7XG4gICAgICAgICAgICB2YXIgQkFTSVMgPSBiYXNpc0JpbmRpbmc7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGJhc2lzRGF0YTtcbiAgICAgICAgICAgIHZhciBiYXNpc0ZpbGUgPSBuZXcgQkFTSVMuQmFzaXNGaWxlKGRhdGEpO1xuICAgICAgICAgICAgdmFyIGltYWdlQ291bnQgPSBiYXNpc0ZpbGUuZ2V0TnVtSW1hZ2VzKCk7XG4gICAgICAgICAgICB2YXIgaGFzQWxwaGEgPSBiYXNpc0ZpbGUuZ2V0SGFzQWxwaGEoKTtcbiAgICAgICAgICAgIHZhciBiYXNpc0Zvcm1hdCA9IGhhc0FscGhhXG4gICAgICAgICAgICAgICAgPyBtZXNzYWdlLnJnYmFGb3JtYXRcbiAgICAgICAgICAgICAgICA6IG1lc3NhZ2UucmdiRm9ybWF0O1xuICAgICAgICAgICAgdmFyIGJhc2lzRmFsbGJhY2tGb3JtYXQgPSAxNDsgLy8gQkFTSVNfRk9STUFUUy5jVEZSR0I1NjUgKGNhbm5vdCBpbXBvcnQgdmFsdWVzIGludG8gd2ViLXdvcmtlciEpXG4gICAgICAgICAgICB2YXIgaW1hZ2VBcnJheSA9IG5ldyBBcnJheShpbWFnZUNvdW50KTtcbiAgICAgICAgICAgIHZhciBmYWxsYmFja01vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICghYmFzaXNGaWxlLnN0YXJ0VHJhbnNjb2RpbmcoKSkge1xuICAgICAgICAgICAgICAgIGJhc2lzRmlsZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGJhc2lzRmlsZS5kZWxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhbnNjb2RlJyxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElEOiBtZXNzYWdlLnJlcXVlc3RJRCxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGltYWdlQXJyYXk6IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWxzID0gYmFzaXNGaWxlLmdldE51bUxldmVscyhpKTtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VSZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VJRDogaSxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxBcnJheTogbmV3IEFycmF5KCksXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGV2ZWxzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9ICFmYWxsYmFja01vZGUgPyBiYXNpc0Zvcm1hdCA6IGJhc2lzRmFsbGJhY2tGb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IGJhc2lzRmlsZS5nZXRJbWFnZVdpZHRoKGksIGopO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYmFzaXNGaWxlLmdldEltYWdlSGVpZ2h0KGksIGopO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnl0ZVNpemUgPSBiYXNpc0ZpbGUuZ2V0SW1hZ2VUcmFuc2NvZGVkU2l6ZUluQnl0ZXMoaSwgaiwgZm9ybWF0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsaWduZWRXaWR0aCA9ICh3aWR0aCArIDMpICYgfjM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGlnbmVkSGVpZ2h0ID0gKGhlaWdodCArIDMpICYgfjM7XG4gICAgICAgICAgICAgICAgICAgIC8vIExldmVsIDAgaXMgdGV4dHVyZSdzIGFjdHVhbCB3aWR0aCwgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVJlc291cmNlLndpZHRoID0gYWxpZ25lZFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VSZXNvdXJjZS5oZWlnaHQgPSBhbGlnbmVkSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ5dGVTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFiYXNpc0ZpbGUudHJhbnNjb2RlSW1hZ2UoaW1hZ2VCdWZmZXIsIGksIGosIGZvcm1hdCwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZhaWxlZCBpbiBmYWxsYmFjayBtb2RlIGFzIHdlbGwhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkJhc2lzIGZhaWxlZCB0byB0cmFuc2NvZGUgaW1hZ2UgXCIgKyBpICsgXCIsIGxldmVsIFwiICsgaiArIFwiIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiAndHJhbnNjb2RlJywgcmVxdWVzdElEOiBtZXNzYWdlLnJlcXVlc3RJRCwgc3VjY2VzczogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJCYXNpcyBmYWlsZWQgdG8gdHJhbnNjb2RlIGltYWdlIFwiICsgaSArIFwiLCBsZXZlbCBcIiArIGogKyBcIiEgUmV0cnlpbmcgdG8gYW4gdW5jb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0IVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbWFnZVJlc291cmNlLmxldmVsQXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbElEOiBqLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxXaWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbEhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxCdWZmZXI6IGltYWdlQnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbWFnZUFycmF5W2ldID0gaW1hZ2VSZXNvdXJjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2lzRmlsZS5jbG9zZSgpO1xuICAgICAgICAgICAgYmFzaXNGaWxlLmRlbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhbnNjb2RlJyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0SUQ6IG1lc3NhZ2UucmVxdWVzdElELFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgYmFzaXNGb3JtYXQ6ICFmYWxsYmFja01vZGUgPyBiYXNpc0Zvcm1hdCA6IGJhc2lzRmFsbGJhY2tGb3JtYXQsXG4gICAgICAgICAgICAgICAgaW1hZ2VBcnJheTogaW1hZ2VBcnJheVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbXNnID0gZS5kYXRhO1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBtZXNzYWdlSGFuZGxlcnNbbXNnLnR5cGVdKG1zZyk7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKipcbiAqIFdvcmtlciBjbGFzcyBmb3IgdHJhbnNjb2RpbmcgKi5iYXNpcyBmaWxlcyBpbiBiYWNrZ3JvdW5kIHRocmVhZHMuXG4gKlxuICogVG8gZW5hYmxlIGFzeW5jaHJvbm91cyB0cmFuc2NvZGluZywgeW91IG5lZWQgdG8gcHJvdmlkZSB0aGUgVVJMIHRvIHRoZSBiYXNpc191bml2ZXJzYWwgdHJhbnNjb2RpbmdcbiAqIGxpYnJhcnkuXG4gKiBAbWVtYmVyb2YgUElYSS5CYXNpc0xvYWRlclxuICovXG52YXIgVHJhbnNjb2RlcldvcmtlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmFuc2NvZGVyV29ya2VyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlcXVlc3RzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGVzIHJlc3BvbnNlcyBmcm9tIHRoZSB3ZWItd29ya2VyXG4gICAgICAgICAqIEBwYXJhbSBlIC0gYSBtZXNzYWdlIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHRyYW5zY29kZWQgcmVzcG9uc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25NZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2luaXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYXNpc1Jlc291cmNlLlRyYW5zY29kZXJXb3JrZXIgZmFpbGVkIHRvIGluaXRpYWxpemUuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLmlzSW5pdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMub25Jbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd0cmFuc2NvZGUnKSB7XG4gICAgICAgICAgICAgICAgLS1fdGhpcy5sb2FkO1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0SUQgPSBkYXRhLnJlcXVlc3RJRDtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlcXVlc3RzW3JlcXVlc3RJRF0ucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlcXVlc3RzW3JlcXVlc3RJRF0ucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5yZXF1ZXN0c1tyZXF1ZXN0SURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzSW5pdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvYWQgPSAwO1xuICAgICAgICB0aGlzLmluaXRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsgX3RoaXMub25Jbml0ID0gcmVzb2x2ZTsgfSk7XG4gICAgICAgIGlmICghVHJhbnNjb2Rlcldvcmtlci53YXNtU291cmNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BJWEkucmVzb3VyY2VzLkJhc2lzUmVzb3VyY2UuVHJhbnNjb2RlcldvcmtlciBoYXMgbm90IGJlZW4gZ2l2ZW4gdGhlIHRyYW5zY29kZXIgV0FTTSBiaW5hcnkhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyKFRyYW5zY29kZXJXb3JrZXIud29ya2VyVVJMKTtcbiAgICAgICAgdGhpcy53b3JrZXIub25tZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2U7XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHR5cGU6ICdpbml0JyxcbiAgICAgICAgICAgIGpzU291cmNlOiBUcmFuc2NvZGVyV29ya2VyLmpzU291cmNlLFxuICAgICAgICAgICAgd2FzbVNvdXJjZTogVHJhbnNjb2Rlcldvcmtlci53YXNtU291cmNlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNjb2RlcldvcmtlciwgXCJ3b3JrZXJVUkxcIiwge1xuICAgICAgICAvKiogR2VuZXJhdGVkIFVSTCBmb3IgdGhlIHRyYW5zY29kZXIgd29ya2VyIHNjcmlwdC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIVRyYW5zY29kZXJXb3JrZXIuX3dvcmtlclVSTCkge1xuICAgICAgICAgICAgICAgIHZhciB3b3JrZXJTb3VyY2UgPSBUcmFuc2NvZGVyV29ya2VyV3JhcHBlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHZhciBiZWdpbkluZGV4ID0gd29ya2VyU291cmNlLmluZGV4T2YoJ3snKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kSW5kZXggPSB3b3JrZXJTb3VyY2UubGFzdEluZGV4T2YoJ30nKTtcbiAgICAgICAgICAgICAgICB3b3JrZXJTb3VyY2UgPSB3b3JrZXJTb3VyY2Uuc2xpY2UoYmVnaW5JbmRleCArIDEsIGVuZEluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoVHJhbnNjb2Rlcldvcmtlci5qc1NvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXJTb3VyY2UgPSBUcmFuc2NvZGVyV29ya2VyLmpzU291cmNlICsgXCJcXG5cIiArIHdvcmtlclNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVHJhbnNjb2Rlcldvcmtlci5fd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbd29ya2VyU291cmNlXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRyYW5zY29kZXJXb3JrZXIuX3dvcmtlclVSTDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB3ZWItd29ya2VyIGlzIGluaXRpYWxpemVkICovXG4gICAgVHJhbnNjb2Rlcldvcmtlci5wcm90b3R5cGUuaW5pdEFzeW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0UHJvbWlzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIHRyYW5zY29kaW5nIG9mIGEgKi5iYXNpcyBmaWxlIGlzIGNvbXBsZXRlLlxuICAgICAqIEBwYXJhbSBiYXNpc0RhdGEgLSAqLmJhc2lzIGZpbGUgY29udGVudHNcbiAgICAgKiBAcGFyYW0gcmdiYUZvcm1hdCAtIHRyYW5zY29kaW5nIGZvcm1hdCBmb3IgUkdCQSBmaWxlc1xuICAgICAqIEBwYXJhbSByZ2JGb3JtYXQgLSB0cmFuc2NvZGluZyBmb3JtYXQgZm9yIFJHQiBmaWxlc1xuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdpdGggdGhlIHRyYW5zY29kaW5nIHJlc3BvbnNlIG9mIHRoZSB3ZWItd29ya2VyXG4gICAgICovXG4gICAgVHJhbnNjb2Rlcldvcmtlci5wcm90b3R5cGUudHJhbnNjb2RlQXN5bmMgPSBmdW5jdGlvbiAoYmFzaXNEYXRhLCByZ2JhRm9ybWF0LCByZ2JGb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0SUQsIHJlcXVlc3RQcm9taXNlO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICArK3RoaXMubG9hZDtcbiAgICAgICAgICAgICAgICByZXF1ZXN0SUQgPSBUcmFuc2NvZGVyV29ya2VyLl90ZW1wSUQrKztcbiAgICAgICAgICAgICAgICByZXF1ZXN0UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVxdWVzdHNbcmVxdWVzdElEXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElEOiByZXF1ZXN0SUQsXG4gICAgICAgICAgICAgICAgICAgIGJhc2lzRGF0YTogYmFzaXNEYXRhLFxuICAgICAgICAgICAgICAgICAgICByZ2JhRm9ybWF0OiByZ2JhRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICByZ2JGb3JtYXQ6IHJnYkZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYW5zY29kZSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVxdWVzdFByb21pc2VdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIHRyYW5zY29kZXIgc291cmNlIGNvZGVcbiAgICAgKiBAcGFyYW0ganNVUkwgLSBVUkwgdG8gdGhlIGphdmFzY3JpcHQgYmFzaXMgdHJhbnNjb2RlclxuICAgICAqIEBwYXJhbSB3YXNtVVJMIC0gVVJMIHRvIHRoZSB3YXNtIGJhc2lzIHRyYW5zY29kZXJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGJvdGggdGhlIGpzIGFuZCB3YXNtIHRyYW5zY29kZXJzIGhhdmUgYmVlbiBsb2FkZWQuXG4gICAgICovXG4gICAgVHJhbnNjb2Rlcldvcmtlci5sb2FkVHJhbnNjb2RlciA9IGZ1bmN0aW9uIChqc1VSTCwgd2FzbVVSTCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIganNQcm9taXNlID0gZmV0Y2goanNVUkwpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMudGV4dCgpOyB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsgVHJhbnNjb2Rlcldvcmtlci5qc1NvdXJjZSA9IHRleHQ7IH0pO1xuICAgICAgICB2YXIgd2FzbVByb21pc2UgPSBmZXRjaCh3YXNtVVJMKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLmFycmF5QnVmZmVyKCk7IH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHsgVHJhbnNjb2Rlcldvcmtlci53YXNtU291cmNlID0gYXJyYXlCdWZmZXI7IH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2pzUHJvbWlzZSwgd2FzbVByb21pc2VdKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5fb25UcmFuc2NvZGVySW5pdGlhbGl6ZWRSZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHRyYW5zY29kZXIgc291cmNlIGNvZGUgZGlyZWN0bHlcbiAgICAgKiBAcGFyYW0ganNTb3VyY2UgLSBzb3VyY2UgZm9yIHRoZSBqYXZhc2NyaXB0IGJhc2lzIHRyYW5zY29kZXJcbiAgICAgKiBAcGFyYW0gd2FzbVNvdXJjZSAtIHNvdXJjZSBmb3IgdGhlIHdhc20gYmFzaXMgdHJhbnNjb2RlclxuICAgICAqL1xuICAgIFRyYW5zY29kZXJXb3JrZXIuc2V0VHJhbnNjb2RlciA9IGZ1bmN0aW9uIChqc1NvdXJjZSwgd2FzbVNvdXJjZSkge1xuICAgICAgICBUcmFuc2NvZGVyV29ya2VyLmpzU291cmNlID0ganNTb3VyY2U7XG4gICAgICAgIFRyYW5zY29kZXJXb3JrZXIud2FzbVNvdXJjZSA9IHdhc21Tb3VyY2U7XG4gICAgfTtcbiAgICAvKiogYSBwcm9taXNlIHRoYXQgd2hlbiByZXNsdmVkIG1lYW5zIHRoZSB0cmFuc2NvZGVyIGlzIHJlYWR5IHRvIGJlIHVzZWQgKi9cbiAgICBUcmFuc2NvZGVyV29ya2VyLm9uVHJhbnNjb2RlckluaXRpYWxpemVkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgVHJhbnNjb2Rlcldvcmtlci5fb25UcmFuc2NvZGVySW5pdGlhbGl6ZWRSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgICBUcmFuc2NvZGVyV29ya2VyLl90ZW1wSUQgPSAwO1xuICAgIHJldHVybiBUcmFuc2NvZGVyV29ya2VyO1xufSgpKTtcblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBCQVNJUyBzdXBlcmNvbXByZXNzZWQgdGV4dHVyZSBmaWxlcy5cbiAqXG4gKiBUbyB1c2UgdGhpcyBsb2FkZXIsIHlvdSBtdXN0IGJpbmQgdGhlIGJhc2lzX3VuaXZlcnNhbCBXZWJBc3NlbWJseSB0cmFuc2NvZGVyLiBUaGVyZSBhcmUgdHdvIHdheXMgb2ZcbiAqIGRvaW5nIHRoaXM6XG4gKlxuICogMS4gQWRkaW5nIGEgJmx0O3NjcmlwdCZndDsgdGFnIHRvIHlvdXIgSFRNTCBwYWdlIHRvIHRoZSB0cmFuc2NvZGVyIGJ1bmRsZSBpbiB0aGlzIHBhY2thZ2UsIGFuZCBzZXJ2aW5nXG4gKiB0aGUgV0FTTSBiaW5hcnkgZnJvbSB0aGUgc2FtZSBsb2NhdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogLy8gQ29weSAuL25vZGVfbW9kdWxlcy9AcGl4aS9iYXNpcy9hc3NldHMvYmFzaXNfLndhc20gaW50byB5b3VyIGFzc2V0cyBkaXJlY3RvcnlcbiAqIC8vIGFzIHdlbGwsIHNvIGl0IGlzIHNlcnZlZCBmcm9tIHRoZSBzYW1lIGZvbGRlciBhcyB0aGUgSmF2YVNjcmlwdCFcbiAqICZsdDtzY3JpcHQgc3JjPVwiLi9ub2RlX21vZHVsZXMvQHBpeGkvYmFzaXMvYXNzZXRzL2Jhc2lzX3RyYW5zY29kZXIuanNcIiAvJmd0O1xuICogYGBgXG4gKlxuICogTk9URTogYGJhc2lzX3RyYW5zY29kZXIuanNgIGV4cGVjdHMgdGhlIFdlYkFzc2VtYmx5IGJpbmFyeSB0byBiZSBuYW1lZCBgYmFzaXNfdHJhbnNjb2Rlci53YXNtYC5cbiAqIE5PVEUtMjogVGhpcyBtZXRob2Qgc3VwcG9ydHMgdHJhbnNjb2Rpbmcgb24gdGhlIG1haW4tdGhyZWFkLiBPbmx5IHVzZSB0aGlzIGlmIHlvdSBoYXZlIDEgb3IgMiAqLmJhc2lzXG4gKiBmaWxlcy5cbiAqXG4gKiAyLiBMb2FkaW5nIHRoZSB0cmFuc2NvZGVyIHNvdXJjZSBmcm9tIGEgVVJMLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBVc2UgdGhpcyBpZiB5b3UgdG8gdXNlIHRoZSBkZWZhdWx0IENETiB1cmwgZm9yIEBwaXhpL2Jhc2lzXG4gKiBCYXNpc1BhcnNlci5sb2FkVHJhbnNjb2RlcigpO1xuICpcbiAqIC8vIFVzZSB0aGlzIGlmIHlvdSB3YW50IHRvIHNlcnZlIHRoZSB0cmFuc2NvZGVyIG9uIHlvdXIgb3duXG4gKiBCYXNpc1BhcnNlci5sb2FkVHJhbnNjb2RlcignLi9iYXNpc190cmFuc2NvZGVyLmpzJywgJy4vYmFzaXNfdHJhbnNjb2Rlci53YXNtJyk7XG4gKiBgYGBcbiAqXG4gKiBOT1RFOiBUaGlzIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCB3ZWItd29ya2Vycy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIHtQSVhJLklMb2FkZXJQbHVnaW59XG4gKi9cbnZhciBCYXNpc1BhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNpc1BhcnNlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVucyB0cmFuc2NvZGluZyBhbmQgcG9wdWxhdGVzIHtAbGluayBpbWFnZUFycmF5fS4gSXQgd2lsbCBydW4gdGhlIHRyYW5zY29kaW5nIGluIGEgd2ViIHdvcmtlclxuICAgICAqIGlmIHRoZXkgYXJlIGF2YWlsYWJsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2lzUGFyc2VyLnRyYW5zY29kZSA9IGZ1bmN0aW9uIChhcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc291cmNlcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnICYmIEJhc2lzUGFyc2VyLlRyYW5zY29kZXJXb3JrZXIud2FzbVNvdXJjZSkpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIEJhc2lzUGFyc2VyLnRyYW5zY29kZUFzeW5jKGFycmF5QnVmZmVyKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXMgPSBCYXNpc1BhcnNlci50cmFuc2NvZGVTeW5jKGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzb3VyY2VzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaW5kcyBhIHN1aXRhYmxlIHdvcmtlciBmb3IgdHJhbnNjb2RpbmcgYW5kIHNlbmRzIGEgdHJhbnNjb2RpbmcgcmVxdWVzdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGFzeW5jXG4gICAgICovXG4gICAgQmFzaXNQYXJzZXIudHJhbnNjb2RlQXN5bmMgPSBmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3b3JrZXJQb29sLCBsZWFzdExvYWQsIHdvcmtlciwgaSwgaiwgcmVzcG9uc2UsIGJhc2lzRm9ybWF0LCBpbWFnZUFycmF5LCBmYWxsYmFja01vZGUsIGltYWdlUmVzb3VyY2VzLCBmb3JtYXQsIGksIGo7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUJhc2lzUGFyc2VyLmRlZmF1bHRSR0JBRm9ybWF0ICYmICFCYXNpc1BhcnNlci5kZWZhdWx0UkdCRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFzaXNQYXJzZXIuYXV0b0RldGVjdEZvcm1hdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlclBvb2wgPSBCYXNpc1BhcnNlci53b3JrZXJQb29sO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVhc3RMb2FkID0gMHgxMDAwMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBqID0gd29ya2VyUG9vbC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod29ya2VyUG9vbFtpXS5sb2FkIDwgbGVhc3RMb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlciA9IHdvcmtlclBvb2xbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXN0TG9hZCA9IHdvcmtlci5sb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd29ya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyID0gbmV3IFRyYW5zY29kZXJXb3JrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrZXJQb29sLnB1c2god29ya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgdW50aWwgd29ya2VyIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB3b3JrZXIuaW5pdEFzeW5jKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IHVudGlsIHdvcmtlciBpcyByZWFkeVxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgd29ya2VyLnRyYW5zY29kZUFzeW5jKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSwgQmFzaXNQYXJzZXIuZGVmYXVsdFJHQkFGb3JtYXQuYmFzaXNGb3JtYXQsIEJhc2lzUGFyc2VyLmRlZmF1bHRSR0JGb3JtYXQuYmFzaXNGb3JtYXQpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNpc0Zvcm1hdCA9IHJlc3BvbnNlLmJhc2lzRm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VBcnJheSA9IHJlc3BvbnNlLmltYWdlQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxsYmFja01vZGUgPSBiYXNpc0Zvcm1hdCA+IDEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmYWxsYmFja01vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQgPSBCQVNJU19GT1JNQVRfVE9fSU5URVJOQUxfRk9STUFUW3Jlc3BvbnNlLmJhc2lzRm9ybWF0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBISU5UOiB0aGlzLmltYWdlQXJyYXkgaXMgQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZVtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VSZXNvdXJjZXMgPSBuZXcgQXJyYXkoaW1hZ2VBcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGogPSBpbWFnZUFycmF5Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVJlc291cmNlc1tpXSA9IG5ldyBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlKG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGltYWdlQXJyYXlbaV0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGltYWdlQXJyYXlbaV0uaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxCdWZmZXJzOiBpbWFnZUFycmF5W2ldLmxldmVsQXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHM6IGltYWdlQXJyYXlbaV0ubGV2ZWxBcnJheS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEJ1ZmZlclJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgbWFudWFsIG1pcG1hcHBpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VSZXNvdXJjZXMgPSBpbWFnZUFycmF5Lm1hcChmdW5jdGlvbiAoaW1hZ2UpIHsgcmV0dXJuIG5ldyBCdWZmZXJSZXNvdXJjZShuZXcgVWludDE2QXJyYXkoaW1hZ2UubGV2ZWxBcnJheVswXS5sZXZlbEJ1ZmZlci5idWZmZXIpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpbWFnZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWFnZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VSZXNvdXJjZXMuYmFzaXNGb3JtYXQgPSBiYXNpc0Zvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpbWFnZVJlc291cmNlc107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUnVucyB0cmFuc2NvZGluZyBvbiB0aGUgbWFpbiB0aHJlYWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNpc1BhcnNlci50cmFuc2NvZGVTeW5jID0gZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgICAgIGlmICghQmFzaXNQYXJzZXIuZGVmYXVsdFJHQkFGb3JtYXQgJiYgIUJhc2lzUGFyc2VyLmRlZmF1bHRSR0JGb3JtYXQpIHtcbiAgICAgICAgICAgIEJhc2lzUGFyc2VyLmF1dG9EZXRlY3RGb3JtYXRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIEJBU0lTID0gQmFzaXNQYXJzZXIuYmFzaXNCaW5kaW5nO1xuICAgICAgICB2YXIgZGF0YSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgdmFyIGJhc2lzRmlsZSA9IG5ldyBCQVNJUy5CYXNpc0ZpbGUoZGF0YSk7XG4gICAgICAgIHZhciBpbWFnZUNvdW50ID0gYmFzaXNGaWxlLmdldE51bUltYWdlcygpO1xuICAgICAgICB2YXIgaGFzQWxwaGEgPSBiYXNpc0ZpbGUuZ2V0SGFzQWxwaGEoKTtcbiAgICAgICAgdmFyIGJhc2lzRm9ybWF0ID0gaGFzQWxwaGFcbiAgICAgICAgICAgID8gQmFzaXNQYXJzZXIuZGVmYXVsdFJHQkFGb3JtYXQuYmFzaXNGb3JtYXRcbiAgICAgICAgICAgIDogQmFzaXNQYXJzZXIuZGVmYXVsdFJHQkZvcm1hdC5iYXNpc0Zvcm1hdDtcbiAgICAgICAgdmFyIGJhc2lzRmFsbGJhY2tGb3JtYXQgPSBCQVNJU19GT1JNQVRTLmNURlJHQjU2NTtcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VzID0gbmV3IEFycmF5KGltYWdlQ291bnQpO1xuICAgICAgICB2YXIgZmFsbGJhY2tNb2RlID0gQmFzaXNQYXJzZXIuZmFsbGJhY2tNb2RlO1xuICAgICAgICBpZiAoIWJhc2lzRmlsZS5zdGFydFRyYW5zY29kaW5nKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJCYXNpcyBmYWlsZWQgdG8gc3RhcnQgdHJhbnNjb2RpbmchXCIpO1xuICAgICAgICAgICAgYmFzaXNGaWxlLmNsb3NlKCk7XG4gICAgICAgICAgICBiYXNpc0ZpbGUuZGVsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgLy8gRG9uJ3QgdHJhbnNjb2RlIGFsbCBtaXBtYXAgbGV2ZWxzIGluIGZhbGxiYWNrIG1vZGUhXG4gICAgICAgICAgICB2YXIgbGV2ZWxzID0gIWZhbGxiYWNrTW9kZSA/IGJhc2lzRmlsZS5nZXROdW1MZXZlbHMoaSkgOiAxO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gYmFzaXNGaWxlLmdldEltYWdlV2lkdGgoaSwgMCk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYmFzaXNGaWxlLmdldEltYWdlSGVpZ2h0KGksIDApO1xuICAgICAgICAgICAgdmFyIGFsaWduZWRXaWR0aCA9ICh3aWR0aCArIDMpICYgfjM7XG4gICAgICAgICAgICB2YXIgYWxpZ25lZEhlaWdodCA9IChoZWlnaHQgKyAzKSAmIH4zO1xuICAgICAgICAgICAgdmFyIGltYWdlTGV2ZWxzID0gbmV3IEFycmF5KGxldmVscyk7XG4gICAgICAgICAgICAvLyBUcmFuc2NvZGUgbWlwbWFwIGxldmVscyBpbnRvIFwiaW1hZ2VMZXZlbHNcIlxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZXZlbHM7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbFdpZHRoID0gYmFzaXNGaWxlLmdldEltYWdlV2lkdGgoaSwgaik7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsSGVpZ2h0ID0gYmFzaXNGaWxlLmdldEltYWdlSGVpZ2h0KGksIGopO1xuICAgICAgICAgICAgICAgIHZhciBieXRlU2l6ZSA9IGJhc2lzRmlsZS5nZXRJbWFnZVRyYW5zY29kZWRTaXplSW5CeXRlcyhpLCAwLCAhZmFsbGJhY2tNb2RlID8gYmFzaXNGb3JtYXQgOiBiYXNpc0ZhbGxiYWNrRm9ybWF0KTtcbiAgICAgICAgICAgICAgICBpbWFnZUxldmVsc1tqXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxJRDogaixcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxCdWZmZXI6IG5ldyBVaW50OEFycmF5KGJ5dGVTaXplKSxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxXaWR0aDogbGV2ZWxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxIZWlnaHQ6IGxldmVsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNpc0ZpbGUudHJhbnNjb2RlSW1hZ2UoaW1hZ2VMZXZlbHNbal0ubGV2ZWxCdWZmZXIsIGksIDAsICFmYWxsYmFja01vZGUgPyBiYXNpc0Zvcm1hdCA6IGJhc2lzRmFsbGJhY2tGb3JtYXQsIGZhbHNlLCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkJhc2lzIGZhaWxlZCB0byB0cmFuc2NvZGUgaW1hZ2UgXCIgKyBpICsgXCIsIGxldmVsIFwiICsgMCArIFwiIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRyYW5zY29kaW5nIHRvIGFuIHVuY29tcHJlc3NlZCBmb3JtYXQgYmVmb3JlIGdpdmluZyB1cCFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IFdlIG11c3Qgc3RhcnQgYWxsIG92ZXIgYWdhaW4gYXMgYWxsIFJlc291cmNlcyBtdXN0IGJlIGluIGNvbXByZXNzZWQgT1IgdW5jb21wcmVzc2VkLlxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJCYXNpcyBmYWlsZWQgdG8gdHJhbnNjb2RlIGltYWdlIFwiICsgaSArIFwiLCBsZXZlbCBcIiArIDAgKyBcIiB0byBhIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQuIFJldHJ5aW5nIHRvIGFuIHVuY29tcHJlc3NlZCBmYWxsYmFjayBmb3JtYXQhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW1hZ2VSZXNvdXJjZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICghZmFsbGJhY2tNb2RlKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VSZXNvdXJjZSA9IG5ldyBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlKG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBCQVNJU19GT1JNQVRfVE9fSU5URVJOQUxfRk9STUFUW2Jhc2lzRm9ybWF0XSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGFsaWduZWRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBhbGlnbmVkSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBsZXZlbEJ1ZmZlcnM6IGltYWdlTGV2ZWxzLFxuICAgICAgICAgICAgICAgICAgICBsZXZlbHM6IGxldmVscyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEJ1ZmZlclJlc291cmNlIGRvZXNuJ3Qgc3VwcG9ydCBtYW51YWwgbWlwbWFwIGxldmVsc1xuICAgICAgICAgICAgICAgIGltYWdlUmVzb3VyY2UgPSBuZXcgQnVmZmVyUmVzb3VyY2UobmV3IFVpbnQxNkFycmF5KGltYWdlTGV2ZWxzWzBdLmxldmVsQnVmZmVyLmJ1ZmZlciksIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltYWdlUmVzb3VyY2VzW2ldID0gaW1hZ2VSZXNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBiYXNpc0ZpbGUuY2xvc2UoKTtcbiAgICAgICAgYmFzaXNGaWxlLmRlbGV0ZSgpO1xuICAgICAgICB2YXIgdHJhbnNjb2RlZFJlc291cmNlcyA9IGltYWdlUmVzb3VyY2VzO1xuICAgICAgICB0cmFuc2NvZGVkUmVzb3VyY2VzLmJhc2lzRm9ybWF0ID0gIWZhbGxiYWNrTW9kZSA/IGJhc2lzRm9ybWF0IDogYmFzaXNGYWxsYmFja0Zvcm1hdDtcbiAgICAgICAgcmV0dXJuIHRyYW5zY29kZWRSZXNvdXJjZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIHRoZSBhdmFpbGFibGUgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdHMgb24gdGhlIGRldmljZS5cbiAgICAgKiBAcGFyYW0gZXh0ZW5zaW9ucyAtIGV4dGVuc2lvbnMgcHJvdmlkZWQgYnkgYSBXZWJHTCBjb250ZXh0XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIEJhc2lzUGFyc2VyLmF1dG9EZXRlY3RGb3JtYXRzID0gZnVuY3Rpb24gKGV4dGVuc2lvbnMpIHtcbiAgICAgICAgLy8gQXV0by1kZXRlY3QgV2ViR0wgY29tcHJlc3NlZC10ZXh0dXJlIGV4dGVuc2lvbnNcbiAgICAgICAgaWYgKCFleHRlbnNpb25zKSB7XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gc2V0dGluZ3MuQURBUFRFUi5jcmVhdGVDYW52YXMoKTtcbiAgICAgICAgICAgIHZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpO1xuICAgICAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYkdMIG5vdCBhdmFpbGFibGUgZm9yIEJBU0lTIHRyYW5zY29kaW5nLiBTaWxlbnRseSBmYWlsaW5nLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4dGVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgczN0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycpLFxuICAgICAgICAgICAgICAgIHMzdGNfc1JHQjogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiJyksXG4gICAgICAgICAgICAgICAgYXN0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YycpLFxuICAgICAgICAgICAgICAgIGV0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjJyksXG4gICAgICAgICAgICAgICAgZXRjMTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMScpLFxuICAgICAgICAgICAgICAgIHB2cnRjOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpLFxuICAgICAgICAgICAgICAgIGF0YzogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXRjJyksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIERpc2NvdmVyIHRoZSBhdmFpbGFibGUgdGV4dHVyZSBmb3JtYXRzXG4gICAgICAgIHZhciBzdXBwb3J0ZWRGb3JtYXRzID0ge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBleHRlbnNpb25zKSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1trZXldO1xuICAgICAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3VwcG9ydGVkRm9ybWF0cywgT2JqZWN0LmdldFByb3RvdHlwZU9mKGV4dGVuc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgZGVmYXVsdCBhbHBoYS9ub24tYWxwaGEgb3V0cHV0IGZvcm1hdHMgZm9yIGJhc2lzdSB0cmFuc2NvZGluZ1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRldGVjdFdpdGhBbHBoYSA9ICEhaTtcbiAgICAgICAgICAgIHZhciBpbnRlcm5hbEZvcm1hdCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBiYXNpc0Zvcm1hdCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGZvciAodmFyIGlkIGluIHN1cHBvcnRlZEZvcm1hdHMpIHtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEZvcm1hdCA9IHN1cHBvcnRlZEZvcm1hdHNbaWRdO1xuICAgICAgICAgICAgICAgIGJhc2lzRm9ybWF0ID0gSU5URVJOQUxfRk9STUFUX1RPX0JBU0lTX0ZPUk1BVFtpbnRlcm5hbEZvcm1hdF07XG4gICAgICAgICAgICAgICAgaWYgKGJhc2lzRm9ybWF0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChkZXRlY3RXaXRoQWxwaGEgJiYgQkFTSVNfRk9STUFUU19BTFBIQVtiYXNpc0Zvcm1hdF0pXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoIWRldGVjdFdpdGhBbHBoYSAmJiAhQkFTSVNfRk9STUFUU19BTFBIQVtiYXNpc0Zvcm1hdF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnRlcm5hbEZvcm1hdCkge1xuICAgICAgICAgICAgICAgIEJhc2lzUGFyc2VyW2RldGVjdFdpdGhBbHBoYSA/ICdkZWZhdWx0UkdCQUZvcm1hdCcgOiAnZGVmYXVsdFJHQkZvcm1hdCddID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRm9ybWF0OiBpbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgYmFzaXNGb3JtYXQ6IGJhc2lzRm9ybWF0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBCYXNpc1BhcnNlcltkZXRlY3RXaXRoQWxwaGEgPyAnZGVmYXVsdFJHQkFGb3JtYXQnIDogJ2RlZmF1bHRSR0JGb3JtYXQnXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZvcm1hdDogVFlQRVMuVU5TSUdORURfU0hPUlRfNV82XzUsXG4gICAgICAgICAgICAgICAgICAgIGJhc2lzRm9ybWF0OiBCQVNJU19GT1JNQVRTLmNURlJHQjU2NSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIEJhc2lzUGFyc2VyLmZhbGxiYWNrTW9kZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmRzIHRoZSBiYXNpc191bml2ZXJzYWwgdHJhbnNjb2RlciB0byBkZWNvbXByZXNzICouYmFzaXMgZmlsZXMuIFlvdSBtdXN0IGluaXRpYWxpemUgdGhlIHRyYW5zY29kZXIgbGlicmFyeSB5b3Vyc2VsZi5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaW1wb3J0IHsgQmFzaXNQYXJzZXIgfSBmcm9tICdAcGl4aS9iYXNpcyc7XG4gICAgICogaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gICAgICpcbiAgICAgKiAvLyB3aW5kb3cuQkFTSVMoKSByZXR1cm5zIGEgUHJvbWlzZS1saWtlIG9iamVjdFxuICAgICAqIHdpbmRvdy5CQVNJUygpLnRoZW4oKGJhc2lzTGlicmFyeSkgPT5cbiAgICAgKiB7XG4gICAgICogICAgIC8vIEluaXRpYWxpemUgYmFzaXMtbGlicmFyeTsgb3RoZXJ3aXNlLCB0cmFuc2NvZGVkIHJlc3VsdHMgbWF5YmUgY29ycnVwdCFcbiAgICAgKiAgICAgYmFzaXNMaWJyYXJ5LmluaXRpYWxpemVCYXNpcygpO1xuICAgICAqXG4gICAgICogICAgIC8vIEJpbmQgQmFzaXNQYXJzZXIgdG8gdGhlIHRyYW5zY29kZXJcbiAgICAgKiAgICAgQmFzaXNQYXJzZXIuYmluZFRyYW5zY29kZXIoYmFzaXNMaWJyYXJ5KTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gYmFzaXNMaWJyYXJ5IC0gdGhlIGluaXRpYWxpemVkIHRyYW5zY29kZXIgbGlicmFyeVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzaXNQYXJzZXIuYmluZFRyYW5zY29kZXIgPSBmdW5jdGlvbiAoYmFzaXNMaWJyYXJ5KSB7XG4gICAgICAgIEJhc2lzUGFyc2VyLmJhc2lzQmluZGluZyA9IGJhc2lzTGlicmFyeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWRzIHRoZSB0cmFuc2NvZGVyIHNvdXJjZSBjb2RlIGZvciB1c2UgaW4ge0BsaW5rIFBJWEkuQmFzaXNQYXJzZXIuVHJhbnNjb2Rlcldvcmtlcn0uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ganNVUkwgLSBVUkwgdG8gdGhlIGphdmFzY3JpcHQgYmFzaXMgdHJhbnNjb2RlclxuICAgICAqIEBwYXJhbSB3YXNtVVJMIC0gVVJMIHRvIHRoZSB3YXNtIGJhc2lzIHRyYW5zY29kZXJcbiAgICAgKi9cbiAgICBCYXNpc1BhcnNlci5sb2FkVHJhbnNjb2RlciA9IGZ1bmN0aW9uIChqc1VSTCwgd2FzbVVSTCkge1xuICAgICAgICByZXR1cm4gQmFzaXNQYXJzZXIuVHJhbnNjb2Rlcldvcmtlci5sb2FkVHJhbnNjb2Rlcihqc1VSTCwgd2FzbVVSTCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHRyYW5zY29kZXIgc291cmNlIGNvZGUgZGlyZWN0bHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBqc1NvdXJjZSAtIHNvdXJjZSBmb3IgdGhlIGphdmFzY3JpcHQgYmFzaXMgdHJhbnNjb2RlclxuICAgICAqIEBwYXJhbSB3YXNtU291cmNlIC0gc291cmNlIGZvciB0aGUgd2FzbSBiYXNpcyB0cmFuc2NvZGVyXG4gICAgICovXG4gICAgQmFzaXNQYXJzZXIuc2V0VHJhbnNjb2RlciA9IGZ1bmN0aW9uIChqc1NvdXJjZSwgd2FzbVNvdXJjZSkge1xuICAgICAgICBCYXNpc1BhcnNlci5UcmFuc2NvZGVyV29ya2VyLnNldFRyYW5zY29kZXIoanNTb3VyY2UsIHdhc21Tb3VyY2UpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2lzUGFyc2VyLCBcIlRSQU5TQ09ERVJfV09SS0VSX1BPT0xfTElNSVRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndvcmtlclBvb2wubGVuZ3RoIHx8IDE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxpbWl0KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBEZXN0cm95IHdvcmtlcnM/XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy53b3JrZXJQb29sLmxlbmd0aDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlclBvb2xbaV0gPSBuZXcgVHJhbnNjb2RlcldvcmtlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMud29ya2VyUG9vbFtpXS5pbml0QXN5bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgQmFzaXNQYXJzZXIuZXh0ZW5zaW9uID0gRXh0ZW5zaW9uVHlwZS5Mb2FkZXI7XG4gICAgQmFzaXNQYXJzZXIuZmFsbGJhY2tNb2RlID0gZmFsc2U7XG4gICAgQmFzaXNQYXJzZXIud29ya2VyUG9vbCA9IFtdO1xuICAgIEJhc2lzUGFyc2VyLlRyYW5zY29kZXJXb3JrZXIgPSBUcmFuc2NvZGVyV29ya2VyO1xuICAgIHJldHVybiBCYXNpc1BhcnNlcjtcbn0oKSk7XG5cbkxvYWRlclJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2Jhc2lzJywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKTtcbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgQkFTSVMgc3VwZXJjb21wcmVzc2VkIHRleHR1cmUgZmlsZXMuXG4gKlxuICogVG8gdXNlIHRoaXMgbG9hZGVyLCB5b3UgbXVzdCBiaW5kIHRoZSBiYXNpc191bml2ZXJzYWwgV2ViQXNzZW1ibHkgdHJhbnNjb2Rlci4gVGhlcmUgYXJlIHR3byB3YXlzIG9mXG4gKiBkb2luZyB0aGlzOlxuICpcbiAqIDEuIEFkZGluZyBhICZsdDtzY3JpcHQmZ3Q7IHRhZyB0byB5b3VyIEhUTUwgcGFnZSB0byB0aGUgdHJhbnNjb2RlciBidW5kbGUgaW4gdGhpcyBwYWNrYWdlLCBhbmQgc2VydmluZ1xuICogdGhlIFdBU00gYmluYXJ5IGZyb20gdGhlIHNhbWUgbG9jYXRpb24uXG4gKlxuICogYGBganNcbiAqIC8vIENvcHkgLi9ub2RlX21vZHVsZXMvQHBpeGkvYmFzaXMvYXNzZXRzL2Jhc2lzXy53YXNtIGludG8geW91ciBhc3NldHMgZGlyZWN0b3J5XG4gKiAvLyBhcyB3ZWxsLCBzbyBpdCBpcyBzZXJ2ZWQgZnJvbSB0aGUgc2FtZSBmb2xkZXIgYXMgdGhlIEphdmFTY3JpcHQhXG4gKiAmbHQ7c2NyaXB0IHNyYz1cIi4vbm9kZV9tb2R1bGVzL0BwaXhpL2Jhc2lzL2Fzc2V0cy9iYXNpc190cmFuc2NvZGVyLmpzXCIgLyZndDtcbiAqIGBgYFxuICpcbiAqIE5PVEU6IGBiYXNpc190cmFuc2NvZGVyLmpzYCBleHBlY3RzIHRoZSBXZWJBc3NlbWJseSBiaW5hcnkgdG8gYmUgbmFtZWQgYGJhc2lzX3RyYW5zY29kZXIud2FzbWAuXG4gKiBOT1RFLTI6IFRoaXMgbWV0aG9kIHN1cHBvcnRzIHRyYW5zY29kaW5nIG9uIHRoZSBtYWluLXRocmVhZC4gT25seSB1c2UgdGhpcyBpZiB5b3UgaGF2ZSAxIG9yIDIgKi5iYXNpc1xuICogZmlsZXMuXG4gKlxuICogMi4gTG9hZGluZyB0aGUgdHJhbnNjb2RlciBzb3VyY2UgZnJvbSBhIFVSTC5cbiAqXG4gKiBgYGBqc1xuICogLy8gVXNlIHRoaXMgaWYgeW91IHRvIHVzZSB0aGUgZGVmYXVsdCBDRE4gdXJsIGZvciBAcGl4aS9iYXNpc1xuICogQmFzaXNMb2FkZXIubG9hZFRyYW5zY29kZXIoKTtcbiAqXG4gKiAvLyBVc2UgdGhpcyBpZiB5b3Ugd2FudCB0byBzZXJ2ZSB0aGUgdHJhbnNjb2RlciBvbiB5b3VyIG93blxuICogQmFzaXNMb2FkZXIubG9hZFRyYW5zY29kZXIoJy4vYmFzaXNfdHJhbnNjb2Rlci5qcycsICcuL2Jhc2lzX3RyYW5zY29kZXIud2FzbScpO1xuICogYGBgXG4gKlxuICogTk9URTogVGhpcyBjYW4gb25seSBiZSB1c2VkIHdpdGggd2ViLXdvcmtlcnMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyB7UElYSS5JTG9hZGVyUGx1Z2lufVxuICovXG52YXIgQmFzaXNMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFzaXNMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zY29kZXMgdGhlICouYmFzaXMgZGF0YSB3aGVuIHRoZSBkYXRhIGlzIGxvYWRlZC4gSWYgdGhlIHRyYW5zY29kZXIgaXMgbm90IGJvdW5kIHlldCwgaXRcbiAgICAgKiB3aWxsIGhvb2sgdHJhbnNjb2RpbmcgdG8ge0BsaW5rIEJhc2lzUmVzb3VyY2Ujb25UcmFuc2NvZGVySW5pdGlhbGl6ZWR9LlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSByZXNvdXJjZSAtIGxvYWRlciByZXNvdXJjZSB0aGF0IGlzIGNoZWNrZWQgdG8gc2VlIGlmIGl0IGlzIGEgYmFzaXMgZmlsZVxuICAgICAqIEBwYXJhbSBuZXh0IC0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmVcbiAgICAgKi9cbiAgICBCYXNpc0xvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHJlc291cmNlLmV4dGVuc2lvbiA9PT0gJ2Jhc2lzJyAmJiByZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIUJhc2lzUGFyc2VyLmJhc2lzQmluZGluZyAmJiAoIUJhc2lzUGFyc2VyLlRyYW5zY29kZXJXb3JrZXIud2FzbVNvdXJjZSkpKSB7IHJldHVybiBbMyAvKmJyZWFrKi8sIDJdOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgVHJhbnNjb2Rlcldvcmtlci5vblRyYW5zY29kZXJJbml0aWFsaXplZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgQmFzaXNQYXJzZXIudHJhbnNjb2RlKHJlc291cmNlLmRhdGEpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXNvdXJjZSwgQmFzaXNMb2FkZXIucmVnaXN0ZXJUZXh0dXJlcyhyZXNvdXJjZS51cmwsIHJlc291cmNlcywgcmVzb3VyY2UubWV0YWRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTsgfSkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0ZXh0dXJlcyBhbmQgYWRkcyB0aGVtIHRvIHRoZSB0ZXh0dXJlIGNhY2hlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gdXJsIC0gdXJsIG9mIHRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgYXMgaXRzIElEIGZvciB0aGUgdGV4dHVyZSBjYWNoZVxuICAgICAqIEBwYXJhbSByZXNvdXJjZXMgLSB0aGUgdHJhbnNjb2RlZCByZXNvdXJjZXNcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGEgLSByZXNvdXJjZSBtZXRhZGF0YVxuICAgICAqL1xuICAgIEJhc2lzTG9hZGVyLnJlZ2lzdGVyVGV4dHVyZXMgPSBmdW5jdGlvbiAodXJsLCByZXNvdXJjZXMsIG1ldGFkYXRhKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICB0ZXh0dXJlczoge30sXG4gICAgICAgICAgICB0ZXh0dXJlOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXJlc291cmNlcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG91bGQgYmUgYSB2YWxpZCBUWVBFUywgRk9STUFUUyBmb3IgdW5jb21wcmVzc2VkIGJhc2lzIGZvcm1hdHNcbiAgICAgICAgdmFyIHR5cGUgPSBCQVNJU19GT1JNQVRfVE9fVFlQRVtyZXNvdXJjZXMuYmFzaXNGb3JtYXRdO1xuICAgICAgICB2YXIgZm9ybWF0ID0gcmVzb3VyY2VzLmJhc2lzRm9ybWF0ICE9PSBCQVNJU19GT1JNQVRTLmNURlJHQkEzMiA/IEZPUk1BVFMuUkdCIDogRk9STUFUUy5SR0JBO1xuICAgICAgICB2YXIgcmVzb3VyY2VMaXN0ID0gcmVzb3VyY2VzO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSByZXNvdXJjZUxpc3QubWFwKGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIChuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIG1pcG1hcDogcmVzb3VyY2UgaW5zdGFuY2VvZiBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlICYmIHJlc291cmNlLmxldmVscyA+IDFcbiAgICAgICAgICAgICAgICAgICAgPyBNSVBNQVBfTU9ERVMuT05fTUFOVUFMXG4gICAgICAgICAgICAgICAgICAgIDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgICAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5PX1BSRU1VTFRJUExJRURfQUxQSEEsXG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgICAgIH0sIG1ldGFkYXRhKSkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRleHR1cmVzLmZvckVhY2goZnVuY3Rpb24gKHRleHR1cmUsIGkpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB2YXIgY2FjaGVJRCA9IHVybCArIFwiLVwiICsgKGkgKyAxKTtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSUQpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGNhY2hlSUQpO1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCB1cmwpO1xuICAgICAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCB1cmwpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC50ZXh0dXJlc1tjYWNoZUlEXSA9IHRleHR1cmU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgdGhlIGJhc2lzX3VuaXZlcnNhbCB0cmFuc2NvZGVyIHRvIGRlY29tcHJlc3MgKi5iYXNpcyBmaWxlcy4gWW91IG11c3QgaW5pdGlhbGl6ZSB0aGUgdHJhbnNjb2RlciBsaWJyYXJ5IHlvdXJzZWxmLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbXBvcnQgeyBCYXNpc0xvYWRlciB9IGZyb20gJ0BwaXhpL2Jhc2lzJztcbiAgICAgKiBpbXBvcnQgeyBMb2FkZXIgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbiAgICAgKlxuICAgICAqIC8vIHdpbmRvdy5CQVNJUygpIHJldHVybnMgYSBQcm9taXNlLWxpa2Ugb2JqZWN0XG4gICAgICogd2luZG93LkJBU0lTKCkudGhlbigoYmFzaXNMaWJyYXJ5KSA9PlxuICAgICAqIHtcbiAgICAgKiAgICAgLy8gSW5pdGlhbGl6ZSBiYXNpcy1saWJyYXJ5OyBvdGhlcndpc2UsIHRyYW5zY29kZWQgcmVzdWx0cyBtYXliZSBjb3JydXB0IVxuICAgICAqICAgICBiYXNpc0xpYnJhcnkuaW5pdGlhbGl6ZUJhc2lzKCk7XG4gICAgICpcbiAgICAgKiAgICAgLy8gQmluZCBCYXNpc0xvYWRlciB0byB0aGUgdHJhbnNjb2RlclxuICAgICAqICAgICBCYXNpc0xvYWRlci5iaW5kVHJhbnNjb2RlcihiYXNpc0xpYnJhcnkpO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBiYXNpc0xpYnJhcnkgLSB0aGUgaW5pdGlhbGl6ZWQgdHJhbnNjb2RlciBsaWJyYXJ5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNpc0xvYWRlci5iaW5kVHJhbnNjb2RlciA9IGZ1bmN0aW9uIChiYXNpc0xpYnJhcnkpIHtcbiAgICAgICAgQmFzaXNQYXJzZXIuYmFzaXNCaW5kaW5nID0gYmFzaXNMaWJyYXJ5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIHRyYW5zY29kZXIgc291cmNlIGNvZGUgZm9yIHVzZSBpbiB7QGxpbmsgUElYSS5CYXNpc0xvYWRlci5UcmFuc2NvZGVyV29ya2VyfS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBqc1VSTCAtIFVSTCB0byB0aGUgamF2YXNjcmlwdCBiYXNpcyB0cmFuc2NvZGVyXG4gICAgICogQHBhcmFtIHdhc21VUkwgLSBVUkwgdG8gdGhlIHdhc20gYmFzaXMgdHJhbnNjb2RlclxuICAgICAqL1xuICAgIEJhc2lzTG9hZGVyLmxvYWRUcmFuc2NvZGVyID0gZnVuY3Rpb24gKGpzVVJMLCB3YXNtVVJMKSB7XG4gICAgICAgIHJldHVybiBCYXNpc1BhcnNlci5UcmFuc2NvZGVyV29ya2VyLmxvYWRUcmFuc2NvZGVyKGpzVVJMLCB3YXNtVVJMKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdHJhbnNjb2RlciBzb3VyY2UgY29kZSBkaXJlY3RseVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGpzU291cmNlIC0gc291cmNlIGZvciB0aGUgamF2YXNjcmlwdCBiYXNpcyB0cmFuc2NvZGVyXG4gICAgICogQHBhcmFtIHdhc21Tb3VyY2UgLSBzb3VyY2UgZm9yIHRoZSB3YXNtIGJhc2lzIHRyYW5zY29kZXJcbiAgICAgKi9cbiAgICBCYXNpc0xvYWRlci5zZXRUcmFuc2NvZGVyID0gZnVuY3Rpb24gKGpzU291cmNlLCB3YXNtU291cmNlKSB7XG4gICAgICAgIEJhc2lzUGFyc2VyLlRyYW5zY29kZXJXb3JrZXIuc2V0VHJhbnNjb2Rlcihqc1NvdXJjZSwgd2FzbVNvdXJjZSk7XG4gICAgfTtcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIEJhc2lzTG9hZGVyLmV4dGVuc2lvbiA9IEV4dGVuc2lvblR5cGUuTG9hZGVyO1xuICAgIHJldHVybiBCYXNpc0xvYWRlcjtcbn0oKSk7XG5cbmV4dGVuc2lvbnMuYWRkKEJhc2lzTG9hZGVyKTtcblxuZXhwb3J0IHsgQkFTSVNfRk9STUFUUywgQkFTSVNfRk9STUFUU19BTFBIQSwgQkFTSVNfRk9STUFUX1RPX0lOVEVSTkFMX0ZPUk1BVCwgQkFTSVNfRk9STUFUX1RPX1RZUEUsIEJhc2lzTG9hZGVyLCBCYXNpc1BhcnNlciwgSU5URVJOQUxfRk9STUFUX1RPX0JBU0lTX0ZPUk1BVCwgVHJhbnNjb2RlcldvcmtlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzaXMubWpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hc3NldHMgLSB2Ni41LjhcbiAqIENvbXBpbGVkIFN1biwgMjMgT2N0IDIwMjIgMjM6MDE6NDUgVVRDXG4gKlxuICogQHBpeGkvYXNzZXRzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUsIEV4dGVuc2lvblR5cGUsIFNWR1Jlc291cmNlLCBleHRlbnNpb25zIGFzIGV4dGVuc2lvbnMkMSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlc2hlZXQgfSBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5pbXBvcnQgeyBwYXRoLCBnZXRSZXNvbHV0aW9uT2ZVcmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEJhc2lzUGFyc2VyLCBCQVNJU19GT1JNQVRfVE9fVFlQRSwgQkFTSVNfRk9STUFUUywgVHJhbnNjb2RlcldvcmtlciB9IGZyb20gJ0BwaXhpL2Jhc2lzJztcbmltcG9ydCB7IFRleHRGb3JtYXQsIFhNTFN0cmluZ0Zvcm1hdCwgQml0bWFwRm9udCB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IENvbXByZXNzZWRUZXh0dXJlUmVzb3VyY2UsIHBhcnNlRERTLCBwYXJzZUtUWCB9IGZyb20gJ0BwaXhpL2NvbXByZXNzZWQtdGV4dHVyZXMnO1xuaW1wb3J0IHsgRk9STUFUUywgTUlQTUFQX01PREVTLCBBTFBIQV9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzJDFbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB7IHRbcF0gPSBzW3BdOyB9IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHsgdGhyb3cgdFsxXTsgfSByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7IH1cclxuICAgICAgICB3aGlsZSAoXykgeyB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgeyByZXR1cm4gdDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIHsgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTsgfVxyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSB7IF8ub3BzLnBvcCgpOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB7IHRocm93IG9wWzFdOyB9IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cblxuLyoqXG4gKiBRdWlldGx5IExvYWRzIGFzc2V0cyBpbiB0aGUgYmFja2dyb3VuZC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYWNrZ3JvdW5kTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBsb2FkZXJcbiAgICAgKiBAcGFyYW0gdmVyYm9zZSAtIHNob3VsZCB0aGUgbG9hZGVyIGxvZyB0byB0aGUgY29uc29sZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhY2tncm91bmRMb2FkZXIobG9hZGVyLCB2ZXJib3NlKSB7XG4gICAgICAgIGlmICh2ZXJib3NlID09PSB2b2lkIDApIHsgdmVyYm9zZSA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IGxvYWRlcjtcbiAgICAgICAgdGhpcy5fYXNzZXRMaXN0ID0gW107XG4gICAgICAgIHRoaXMuX2lzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tYXhDb25jdXJyZW50ID0gMTtcbiAgICAgICAgdGhpcy52ZXJib3NlID0gdmVyYm9zZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBhcnJheSBvZiBhc3NldHMgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0gYXNzZXRVcmxzIC0gYXNzZXRzIHRvIGxvYWRcbiAgICAgKi9cbiAgICBCYWNrZ3JvdW5kTG9hZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoYXNzZXRVcmxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGFzc2V0VXJscy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICBfdGhpcy5fYXNzZXRMaXN0LnB1c2goYSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBpZiAodGhpcy52ZXJib3NlKVxuICAgICAgICAgICAgeyBjb25zb2xlLmxvZygnW0JhY2tncm91bmRMb2FkZXJdIGFzc2V0czogJywgdGhpcy5fYXNzZXRMaXN0KTsgfVxuICAgICAgICBpZiAodGhpcy5faXNBY3RpdmUgJiYgIXRoaXMuX2lzTG9hZGluZykge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgbmV4dCBzZXQgb2YgYXNzZXRzLiBXaWxsIHRyeSB0byBsb2FkIGFzIG1hbnkgYXNzZXRzIGFzIGl0IGNhbiBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAqXG4gICAgICogVGhlIG1heCBhc3NldHMgaXQgd2lsbCB0cnkgdG8gbG9hZCBhdCBvbmUgdGltZSB3aWxsIGJlIDQuXG4gICAgICovXG4gICAgQmFja2dyb3VuZExvYWRlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdG9Mb2FkLCB0b0xvYWRBbW91bnQsIGk7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0aGlzLl9hc3NldExpc3QubGVuZ3RoICYmIHRoaXMuX2lzQWN0aXZlKSkgeyByZXR1cm4gWzMgLypicmVhayovLCAyXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvTG9hZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9Mb2FkQW1vdW50ID0gTWF0aC5taW4odGhpcy5fYXNzZXRMaXN0Lmxlbmd0aCwgdGhpcy5fbWF4Q29uY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9Mb2FkQW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0xvYWQucHVzaCh0aGlzLl9hc3NldExpc3QucG9wKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fbG9hZGVyLmxvYWQodG9Mb2FkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFja2dyb3VuZExvYWRlci5wcm90b3R5cGUsIFwiYWN0aXZlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIGNsYXNzIGlzIGFjdGl2ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBBY3RpdmF0ZS9EZWFjdGl2YXRlIHRoZSBsb2FkaW5nLiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIGl0IHdpbGwgaW1tZWRpYXRlbHkgY29udGludWUgdG8gbG9hZCB0aGUgbmV4dCBhc3NldC4gKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0FjdGl2ZSA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX2lzQWN0aXZlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgIXRoaXMuX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYWNrZ3JvdW5kTG9hZGVyO1xufSgpKTtcblxudmFyIGNvbnZlcnRUb0xpc3QgPSBmdW5jdGlvbiAoaW5wdXQsIHRyYW5zZm9ybSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgaW5wdXQgPSBbaW5wdXRdO1xuICAgIH1cbiAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybShpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIHByb2Nlc3NYKGJhc2UsIGlkcywgZGVwdGgsIHJlc3VsdCwgdGFncykge1xuICAgIHZhciBpZCA9IGlkc1tkZXB0aF07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdmFsdWUgPSBpZFtpXTtcbiAgICAgICAgaWYgKGRlcHRoIDwgaWRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHByb2Nlc3NYKGJhc2UucmVwbGFjZShyZXN1bHRbZGVwdGhdLCB2YWx1ZSksIGlkcywgZGVwdGggKyAxLCByZXN1bHQsIHRhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFncy5wdXNoKGJhc2UucmVwbGFjZShyZXN1bHRbZGVwdGhdLCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgbGlzdCBvZiBhbGwgcG9zc2libGUgY29tYmluYXRpb25zIG9mIHRoZSBnaXZlbiBzdHJpbmdzLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG91dDIgPSBjcmVhdGVTdHJpbmdWYXJpYXRpb25zKCduYW1lIGlzIHtjaGlja2VuLHdvbGYsc2hlZXB9Jyk7XG4gKiBjb25zb2xlLmxvZyhvdXQyKTsgLy8gWyAnbmFtZSBpcyBjaGlja2VuJywgJ25hbWUgaXMgd29sZicsICduYW1lIGlzIHNoZWVwJyBdXG4gKiBAcGFyYW0gc3RyaW5nIC0gVGhlIHN0cmluZyB0byBwcm9jZXNzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0cmluZ1ZhcmlhdGlvbnMoc3RyaW5nKSB7XG4gICAgdmFyIHJlZ2V4ID0gL1xceyguKj8pXFx9L2c7XG4gICAgdmFyIHJlc3VsdCA9IHN0cmluZy5tYXRjaChyZWdleCk7XG4gICAgdmFyIHRhZ3MgPSBbXTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHZhciBpZHNfMSA9IFtdO1xuICAgICAgICByZXN1bHQuZm9yRWFjaChmdW5jdGlvbiAodmFycykge1xuICAgICAgICAgICAgLy8gZmlyc3QgcmVtb3ZlIHRoZSBicmFja2V0cy4uLlxuICAgICAgICAgICAgdmFyIHNwbGl0ID0gdmFycy5zdWJzdHJpbmcoMSwgdmFycy5sZW5ndGggLSAxKS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgaWRzXzEucHVzaChzcGxpdCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9jZXNzWChzdHJpbmcsIGlkc18xLCAwLCByZXN1bHQsIHRhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGFncy5wdXNoKHN0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiB0YWdzO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gYXJyYXkuXG4gKiBAcGFyYW0gaXRlbSAtIFRoZSBpdGVtIHRvIHRlc3RcbiAqL1xudmFyIGlzU2luZ2xlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAoIUFycmF5LmlzQXJyYXkoaXRlbSkpOyB9O1xuXG4vKipcbiAqIEEgc2luZ2xlIENhY2hlIGZvciBhbGwgYXNzZXRzLlxuICpcbiAqIFdoZW4gYXNzZXRzIGFyZSBhZGRlZCB0byB0aGUgY2FjaGUgdmlhIHNldCB0aGV5IG5vcm1hbGx5IGFyZSBhZGRlZCB0byB0aGUgY2FjaGUgYXMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIFdpdGggdGhpcyBjYWNoZSwgeW91IGNhbiBhZGQgcGFyc2VycyB0aGF0IHdpbGwgdGFrZSB0aGUgb2JqZWN0IGFuZCBjb252ZXJ0IGl0IHRvIGEgbGlzdCBvZiBhc3NldHMgdGhhdCBjYW4gYmUgY2FjaGVkLlxuICogZm9yIGV4YW1wbGUgYSBjYWNoZVNwcml0ZSBTaGVldCBwYXJzZXIgd2lsbCBhZGQgYWxsIG9mIHRoZSB0ZXh0dXJlcyBmb3VuZCB3aXRoaW4gaXRzIHNwcml0ZSBzaGVldCBkaXJlY3RseSB0byB0aGUgY2FjaGUuXG4gKlxuICogVGhpcyBnaXZlcyBkZXZzIHRoZSBmbGV4aWJpbGl0eSB0byBjYWNoZSBhbnkgdHlwZSBvZiBvYmplY3QgaG93ZXZlciB3ZSB3YW50LlxuICpcbiAqIEl0IGlzIG5vdCBpbnRlbmRlZCB0aGF0IHRoaXMgY2xhc3MgaXMgY3JlYXRlZCBieSBkZXZlbG9wZXJzIC0gaXQgaXMgcGFydCBvZiB0aGUgQXNzZXQgcGFja2FnZS5cbiAqIFRoaXMgaXMgdGhlIGZpcnN0IG1ham9yIHN5c3RlbSBvZiBQaXhpSlMnIG1haW4gQXNzZXRzIGNsYXNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjbGFzcyBDYWNoZVxuICovXG52YXIgQ2FjaGVDbGFzcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWNoZUNsYXNzKCkge1xuICAgICAgICB0aGlzLl9wYXJzZXJzID0gW107XG4gICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9jYWNoZU1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqIENsZWFyIGFsbCBlbnRyaWVzLiAqL1xuICAgIENhY2hlQ2xhc3MucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jYWNoZU1hcC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9jYWNoZS5jbGVhcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGtleSBleGlzdHNcbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byBjaGVja1xuICAgICAqL1xuICAgIENhY2hlQ2xhc3MucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLmhhcyhrZXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmV0Y2ggZW50cnkgYnkga2V5XG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGdldFxuICAgICAqL1xuICAgIENhY2hlQ2xhc3MucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2NhY2hlLmdldChrZXkpO1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW0Fzc2V0c10gQXNzZXQgaWQgXCIgKyBrZXkgKyBcIiB3YXMgbm90IGZvdW5kIGluIHRoZSBDYWNoZVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IGEgdmFsdWUgYnkga2V5IG9yIGtleXMgbmFtZVxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IG9yIGtleXMgdG8gc2V0XG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHN0b3JlIGluIHRoZSBjYWNoZSBvciBmcm9tIHdoaWNoIGNhY2hlYWJsZSBhc3NldHMgd2lsbCBiZSBkZXJpdmVkLlxuICAgICAqL1xuICAgIENhY2hlQ2xhc3MucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBrZXlzID0gY29udmVydFRvTGlzdChrZXkpO1xuICAgICAgICB2YXIgY2FjaGVhYmxlQXNzZXRzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnNlciA9IHRoaXMucGFyc2Vyc1tpXTtcbiAgICAgICAgICAgIGlmIChwYXJzZXIudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjYWNoZWFibGVBc3NldHMgPSBwYXJzZXIuZ2V0Q2FjaGVhYmxlQXNzZXRzKGtleXMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhY2hlYWJsZUFzc2V0cykge1xuICAgICAgICAgICAgY2FjaGVhYmxlQXNzZXRzID0ge307XG4gICAgICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGNhY2hlYWJsZUFzc2V0c1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FjaGVLZXlzID0gT2JqZWN0LmtleXMoY2FjaGVhYmxlQXNzZXRzKTtcbiAgICAgICAgdmFyIGNhY2hlZEFzc2V0cyA9IHtcbiAgICAgICAgICAgIGNhY2hlS2V5czogY2FjaGVLZXlzLFxuICAgICAgICAgICAga2V5czoga2V5c1xuICAgICAgICB9O1xuICAgICAgICAvLyB0aGlzIGlzIHNvIHdlIGNhbiByZW1vdmUgdGhlbSBsYXRlci4uXG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBfdGhpcy5fY2FjaGVNYXAuc2V0KGtleSwgY2FjaGVkQXNzZXRzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNhY2hlS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fY2FjaGUuaGFzKGtleSkgJiYgX3RoaXMuX2NhY2hlLmdldChrZXkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW0NhY2hlXSBhbHJlYWR5IGhhcyBrZXk6Jywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9jYWNoZS5zZXQoa2V5LCBjYWNoZWFibGVBc3NldHNba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB0ZW1wb3JhcnkgdG8ga2VlcCBjb21wYXRpYmxlIHdpdGggZXhpc3RpbmcgdGV4dHVyZSBjYWNoaW5nLi4gdW50aWwgd2UgcmVtb3ZlIHRoZW0hXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlXzEgPSB2YWx1ZTtcbiAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmVfMS5iYXNlVGV4dHVyZSAhPT0gVGV4dHVyZS5FTVBUWS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmVfMS5iYXNlVGV4dHVyZSwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmVfMSwga2V5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZW50cnkgYnkga2V5XG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYWxzbyByZW1vdmUgYW55IGFzc29jaWF0ZWQgYWxpYXMgZnJvbSB0aGUgY2FjaGUgYWxzby5cbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gcmVtb3ZlXG4gICAgICovXG4gICAgQ2FjaGVDbGFzcy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9jYWNoZU1hcC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZU1hcC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW0Fzc2V0c10gQXNzZXQgaWQgXCIgKyBrZXkgKyBcIiB3YXMgbm90IGZvdW5kIGluIHRoZSBDYWNoZVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FjaGVNYXAgPSB0aGlzLl9jYWNoZU1hcC5nZXQoa2V5KTtcbiAgICAgICAgdmFyIGNhY2hlS2V5cyA9IGNhY2hlTWFwLmNhY2hlS2V5cztcbiAgICAgICAgY2FjaGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgX3RoaXMuX2NhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FjaGVNYXAua2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIF90aGlzLl9jYWNoZU1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FjaGVDbGFzcy5wcm90b3R5cGUsIFwicGFyc2Vyc1wiLCB7XG4gICAgICAgIC8qKiBBbGwgbG9hZGVyIHBhcnNlcnMgcmVnaXN0ZXJlZCAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJzZXJzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENhY2hlQ2xhc3M7XG59KCkpO1xudmFyIENhY2hlID0gbmV3IENhY2hlQ2xhc3MoKTtcblxuZnVuY3Rpb24gZ2V0Q2FjaGVhYmxlQXNzZXRzKGtleXMsIGFzc2V0LCBpZ25vcmVNdWx0aVBhY2spIHtcbiAgICB2YXIgb3V0ID0ge307XG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgb3V0W2tleV0gPSBhc3NldDtcbiAgICB9KTtcbiAgICBPYmplY3Qua2V5cyhhc3NldC50ZXh0dXJlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIG91dFtrZXldID0gYXNzZXQudGV4dHVyZXNba2V5XTtcbiAgICB9KTtcbiAgICBpZiAoIWlnbm9yZU11bHRpUGFjaykge1xuICAgICAgICB2YXIgYmFzZVBhdGhfMSA9IHBhdGguZGlybmFtZShrZXlzWzBdKTtcbiAgICAgICAgYXNzZXQubGlua2VkU2hlZXRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIHZhciBvdXQyID0gZ2V0Q2FjaGVhYmxlQXNzZXRzKFtiYXNlUGF0aF8xICsgXCIvXCIgKyBhc3NldC5kYXRhLm1ldGEucmVsYXRlZF9tdWx0aV9wYWNrc1tpXV0sIGl0ZW0sIHRydWUpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvdXQsIG91dDIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbnZhciBjYWNoZVNwcml0ZXNoZWV0ID0ge1xuICAgIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5DYWNoZVBhcnNlcixcbiAgICB0ZXN0OiBmdW5jdGlvbiAoYXNzZXQpIHsgcmV0dXJuIGFzc2V0IGluc3RhbmNlb2YgU3ByaXRlc2hlZXQ7IH0sXG4gICAgZ2V0Q2FjaGVhYmxlQXNzZXRzOiBmdW5jdGlvbiAoa2V5cywgYXNzZXQpIHsgcmV0dXJuIGdldENhY2hlYWJsZUFzc2V0cyhrZXlzLCBhc3NldCwgZmFsc2UpOyB9XG59O1xuXG52YXIgY2FjaGVUZXh0dXJlQXJyYXkgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLkNhY2hlUGFyc2VyLFxuICAgIHRlc3Q6IGZ1bmN0aW9uIChhc3NldCkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShhc3NldCkgJiYgYXNzZXQuZXZlcnkoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgaW5zdGFuY2VvZiBUZXh0dXJlOyB9KTsgfSxcbiAgICBnZXRDYWNoZWFibGVBc3NldHM6IGZ1bmN0aW9uIChrZXlzLCBhc3NldCkge1xuICAgICAgICB2YXIgb3V0ID0ge307XG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBhc3NldC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgb3V0W2tleSArIChpID09PSAwID8gJycgOiBpICsgMSldID0gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBhZGRGb3JtYXRzKCkge1xuICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGZvcm1hdCA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZvcm1hdFtfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZm9ybWF0cykgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBmb3JtYXRzLnVuc2hpZnQuYXBwbHkoZm9ybWF0cywgZm9ybWF0KTtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmb3JtYXRzXTtcbiAgICAgICAgfSk7XG4gICAgfSk7IH07XG59XG5mdW5jdGlvbiByZW1vdmVGb3JtYXRzKCkge1xuICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGZvcm1hdCA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZvcm1hdFtfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZm9ybWF0cykgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2ksIGZvcm1hdF8xLCBmLCBpbmRleDtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgZm9yIChfaSA9IDAsIGZvcm1hdF8xID0gZm9ybWF0OyBfaSA8IGZvcm1hdF8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGYgPSBmb3JtYXRfMVtfaV07XG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXRzLmluZGV4T2YoZik7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZvcm1hdHNdO1xuICAgICAgICB9KTtcbiAgICB9KTsgfTtcbn1cblxudmFyIGRldGVjdEF2aWYgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLkRldGVjdGlvblBhcnNlcixcbiAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGF2aWZEYXRhLCBibG9iO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWdsb2JhbFRoaXMuY3JlYXRlSW1hZ2VCaXRtYXApXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07IH1cbiAgICAgICAgICAgICAgICAgICAgYXZpZkRhdGEgPSAnZGF0YTppbWFnZS9hdmlmO2Jhc2U2NCxBQUFBSUdaMGVYQmhkbWxtQUFBQUFHRjJhV1p0YVdZeGJXbGhaazFCTVVJQUFBRHliV1YwWVFBQUFBQUFBQUFvYUdSc2NnQUFBQUFBQUFBQWNHbGpkQUFBQUFBQUFBQUFBQUFBQUd4cFltRjJhV1lBQUFBQURuQnBkRzBBQUFBQUFBRUFBQUFlYVd4dll3QUFBQUJFQUFBQkFBRUFBQUFCQUFBQkdnQUFBQjBBQUFBb2FXbHVaZ0FBQUFBQUFRQUFBQnBwYm1abEFnQUFBQUFCQUFCaGRqQXhRMjlzYjNJQUFBQUFhbWx3Y25BQUFBQkxhWEJqYndBQUFCUnBjM0JsQUFBQUFBQUFBQUlBQUFBQ0FBQUFFSEJwZUdrQUFBQUFBd2dJQ0FBQUFBeGhkakZEZ1EwTUFBQUFBQk5qYjJ4eWJtTnNlQUFDQUFJQUFZQUFBQUFYYVhCdFlRQUFBQUFBQUFBQkFBRUVBUUtEQkFBQUFDVnRaR0YwRWdBS0NCZ0FOb2dRRUF3Z01nOGY4RC8vLzhXZmh3QjgrRXJLNDJBPSc7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNldHRpbmdzLkFEQVBURVIuZmV0Y2goYXZpZkRhdGEpLnRoZW4oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuYmxvYigpOyB9KV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBibG9iID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY3JlYXRlSW1hZ2VCaXRtYXAoYmxvYikudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTsgfSxcbiAgICBhZGQ6IGFkZEZvcm1hdHMoJ2F2aWYnKSxcbiAgICByZW1vdmU6IHJlbW92ZUZvcm1hdHMoJ2F2aWYnKVxufTtcblxudmFyIHN0b3JlZEdsO1xudmFyIGV4dGVuc2lvbnM7XG5mdW5jdGlvbiBnZXRDb21wcmVzc2VkVGV4dHVyZUV4dGVuc2lvbnMoKSB7XG4gICAgZXh0ZW5zaW9ucyA9IHtcbiAgICAgICAgczN0Yzogc3RvcmVkR2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycpLFxuICAgICAgICBzM3RjX3NSR0I6IHN0b3JlZEdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYicpLFxuICAgICAgICBldGM6IHN0b3JlZEdsLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YycpLFxuICAgICAgICBldGMxOiBzdG9yZWRHbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxJyksXG4gICAgICAgIHB2cnRjOiBzdG9yZWRHbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpXG4gICAgICAgICAgICB8fCBzdG9yZWRHbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnKSxcbiAgICAgICAgYXRjOiBzdG9yZWRHbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGMnKSxcbiAgICAgICAgYXN0Yzogc3RvcmVkR2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YycpXG4gICAgfTtcbn1cbnZhciBkZXRlY3RDb21wcmVzc2VkVGV4dHVyZXMgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLkRldGVjdGlvblBhcnNlcixcbiAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbnZhcywgZ2w7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IHNldHRpbmdzLkFEQVBURVIuY3JlYXRlQ2FudmFzKCk7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpO1xuICAgICAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignV2ViR0wgbm90IGF2YWlsYWJsZSBmb3IgY29tcHJlc3NlZCB0ZXh0dXJlcy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RvcmVkR2wgPSBnbDtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgfSk7XG4gICAgfSk7IH0sXG4gICAgYWRkOiBmdW5jdGlvbiAoZm9ybWF0cykgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlRm9ybWF0cywgZXh0ZW5zaW9uTmFtZSwgZXh0ZW5zaW9uO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBpZiAoIWV4dGVuc2lvbnMpXG4gICAgICAgICAgICAgICAgeyBnZXRDb21wcmVzc2VkVGV4dHVyZUV4dGVuc2lvbnMoKTsgfVxuICAgICAgICAgICAgdGV4dHVyZUZvcm1hdHMgPSBbXTtcbiAgICAgICAgICAgIC8vIEFzc2lnbiBhbGwgYXZhaWxhYmxlIGNvbXByZXNzZWQtdGV4dHVyZSBmb3JtYXRzXG4gICAgICAgICAgICBmb3IgKGV4dGVuc2lvbk5hbWUgaW4gZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHR1cmVGb3JtYXRzLnB1c2goZXh0ZW5zaW9uTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtYXRzLnVuc2hpZnQuYXBwbHkoZm9ybWF0cywgdGV4dHVyZUZvcm1hdHMpO1xuICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZvcm1hdHNdO1xuICAgICAgICB9KTtcbiAgICB9KTsgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIChmb3JtYXRzKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgaWYgKCFleHRlbnNpb25zKVxuICAgICAgICAgICAgICAgIHsgZ2V0Q29tcHJlc3NlZFRleHR1cmVFeHRlbnNpb25zKCk7IH1cbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmb3JtYXRzLmZpbHRlcihmdW5jdGlvbiAoZikgeyByZXR1cm4gIShmIGluIGV4dGVuc2lvbnMpOyB9KV07XG4gICAgICAgIH0pO1xuICAgIH0pOyB9LFxufTtcblxudmFyIGRldGVjdEJhc2lzID0ge1xuICAgIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5EZXRlY3Rpb25QYXJzZXIsXG4gICAgdGVzdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sICEhKEJhc2lzUGFyc2VyLmJhc2lzQmluZGluZyAmJiBCYXNpc1BhcnNlci5UcmFuc2NvZGVyV29ya2VyLndhc21Tb3VyY2UpXTtcbiAgICB9KTsgfSk7IH0sXG4gICAgYWRkOiBhZGRGb3JtYXRzKCdiYXNpcycpLFxuICAgIHJlbW92ZTogcmVtb3ZlRm9ybWF0cygnYmFzaXMnKVxufTtcblxudmFyIGRldGVjdFdlYnAgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLkRldGVjdGlvblBhcnNlcixcbiAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdlYnBEYXRhLCBibG9iO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWdsb2JhbFRoaXMuY3JlYXRlSW1hZ2VCaXRtYXApXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07IH1cbiAgICAgICAgICAgICAgICAgICAgd2VicERhdGEgPSAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QUFBQUFBZlEvLzczdi8rQmlPaC9BQUE9JztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh3ZWJwRGF0YSkudGhlbihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ibG9iKCk7IH0pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGJsb2IgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjcmVhdGVJbWFnZUJpdG1hcChibG9iKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9KV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pOyB9LFxuICAgIGFkZDogYWRkRm9ybWF0cygnd2VicCcpLFxuICAgIHJlbW92ZTogcmVtb3ZlRm9ybWF0cygnd2VicCcpXG59O1xuXG52YXIgdmFsaWRFeHRlbnNpb25zID0gWycueG1sJywgJy5mbnQnXTtcbi8qKiBzaW1wbGUgbG9hZGVyIHBsdWdpbiBmb3IgbG9hZGluZyBpbiBiaXRtYXAgZm9udHMhICovXG52YXIgbG9hZEJpdG1hcEZvbnQgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gICAgdGVzdDogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICByZXR1cm4gdmFsaWRFeHRlbnNpb25zLmluY2x1ZGVzKHBhdGguZXh0bmFtZSh1cmwpKTtcbiAgICB9LFxuICAgIHRlc3RQYXJzZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgVGV4dEZvcm1hdC50ZXN0KGRhdGEpIHx8IFhNTFN0cmluZ0Zvcm1hdC50ZXN0KGRhdGEpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHBhcnNlOiBmdW5jdGlvbiAoYXNzZXQsIGRhdGEsIGxvYWRlcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZvbnREYXRhLCBzcmMsIHBhZ2VzLCB0ZXh0dXJlVXJscywgaSwgcGFnZUZpbGUsIGltYWdlUGF0aCwgbG9hZGVkVGV4dHVyZXMsIHRleHR1cmVzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udERhdGEgPSBUZXh0Rm9ybWF0LnRlc3QoYXNzZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBUZXh0Rm9ybWF0LnBhcnNlKGFzc2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogWE1MU3RyaW5nRm9ybWF0LnBhcnNlKGFzc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IGRhdGEuc3JjO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZXMgPSBmb250RGF0YS5wYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVVybHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VGaWxlID0gcGFnZXNbaV0uZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVBhdGggPSBwYXRoLmpvaW4ocGF0aC5kaXJuYW1lKHNyYyksIHBhZ2VGaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlVXJscy5wdXNoKGltYWdlUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBsb2FkZXIubG9hZCh0ZXh0dXJlVXJscyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWRUZXh0dXJlcyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVzID0gdGV4dHVyZVVybHMubWFwKGZ1bmN0aW9uICh1cmwpIHsgcmV0dXJuIGxvYWRlZFRleHR1cmVzW3VybF07IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIEJpdG1hcEZvbnQuaW5zdGFsbChmb250RGF0YSwgdGV4dHVyZXMsIHRydWUpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBsb2FkOiBmdW5jdGlvbiAodXJsLCBfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZS50ZXh0KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHVubG9hZDogZnVuY3Rpb24gKGJpdG1hcEZvbnQpIHtcbiAgICAgICAgYml0bWFwRm9udC5kZXN0cm95KCk7XG4gICAgfVxufTtcblxuLyoqIHNpbXBsZSBsb2FkZXIgcGx1Z2luIGZvciBsb2FkaW5nIGpzb24gZGF0YSAqL1xudmFyIGxvYWRKc29uID0ge1xuICAgIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHRlc3Q6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgcmV0dXJuIChwYXRoLmV4dG5hbWUodXJsKS5pbmNsdWRlcygnLmpzb24nKSk7XG4gICAgfSxcbiAgICBsb2FkOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UsIGpzb247XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHNldHRpbmdzLkFEQVBURVIuZmV0Y2godXJsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuanNvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAganNvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBqc29uXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogTG9hZGVyIHBsdWdpbiB0aGF0IHBhcnNlcyBzcHJpdGUgc2hlZXRzIVxuICogb25jZSB0aGUgSlNPTiBoYXMgYmVlbiBsb2FkZWQgdGhpcyBjaGVja3MgdG8gc2VlIGlmIHRoZSBKU09OIGlzIHNwcml0ZXNoZWV0IGRhdGEuXG4gKiBJZiBpdCBpcywgd2UgbG9hZCB0aGUgc3ByaXRlc2hlZXRzIGltYWdlIGFuZCBwYXJzZSB0aGUgZGF0YSBpbnRvIFBJWEkuU3ByaXRlc2hlZXRcbiAqIEFsbCB0ZXh0dXJlcyBpbiB0aGUgc3ByaXRlIHNoZWV0IGFyZSB0aGVuIGFkZGVkIHRvIHRoZSBjYWNoZVxuICovXG52YXIgbG9hZFNwcml0ZXNoZWV0ID0ge1xuICAgIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHRlc3RQYXJzZTogZnVuY3Rpb24gKGFzc2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIChwYXRoLmV4dG5hbWUob3B0aW9ucy5zcmMpLmluY2x1ZGVzKCcuanNvbicpICYmICEhYXNzZXQuZnJhbWVzKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24gKGFzc2V0LCBvcHRpb25zLCBsb2FkZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlUGF0aCwgaW1hZ2VQYXRoLCBhc3NldHMsIHRleHR1cmUsIHNwcml0ZXNoZWV0LCBtdWx0aVBhY2tzLCBwcm9taXNlcywgX2ksIG11bHRpUGFja3NfMSwgaXRlbSwgaXRlbVVybCwgcmVzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGggPSBwYXRoLmRpcm5hbWUob3B0aW9ucy5zcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2VQYXRoICYmIGJhc2VQYXRoLmxhc3RJbmRleE9mKCcvJykgIT09IChiYXNlUGF0aC5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VQYXRoICs9ICcvJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlUGF0aCA9IGJhc2VQYXRoICsgYXNzZXQubWV0YS5pbWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvYWRlci5sb2FkKFtpbWFnZVBhdGhdKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0cyA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUgPSBhc3NldHNbaW1hZ2VQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZXNoZWV0ID0gbmV3IFNwcml0ZXNoZWV0KHRleHR1cmUuYmFzZVRleHR1cmUsIGFzc2V0LCBvcHRpb25zLnNyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzcHJpdGVzaGVldC5wYXJzZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlQYWNrcyA9IChfYSA9IGFzc2V0ID09PSBudWxsIHx8IGFzc2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhc3NldC5tZXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVsYXRlZF9tdWx0aV9wYWNrcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShtdWx0aVBhY2tzKSkgeyByZXR1cm4gWzMgLypicmVhayovLCA0XTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2kgPSAwLCBtdWx0aVBhY2tzXzEgPSBtdWx0aVBhY2tzOyBfaSA8IG11bHRpUGFja3NfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gbXVsdGlQYWNrc18xW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtVXJsID0gYmFzZVBhdGggKyBpdGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBmaWxlIHdhc24ndCBhbHJlYWR5IGFkZGVkIGFzIG11bHRpcGFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX2IgPSBvcHRpb25zLmRhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pZ25vcmVNdWx0aVBhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gobG9hZGVyLmxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IGl0ZW1VcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZU11bHRpUGFjazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKHByb21pc2VzKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZXNoZWV0LmxpbmtlZFNoZWV0cyA9IHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5saW5rZWRTaGVldHMgPSBbc3ByaXRlc2hlZXRdLmNvbmNhdChzcHJpdGVzaGVldC5saW5rZWRTaGVldHMuZmlsdGVyKGZ1bmN0aW9uIChzcCkgeyByZXR1cm4gKHNwICE9PSBpdGVtKTsgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHNwcml0ZXNoZWV0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmxvYWQ6IGZ1bmN0aW9uIChzcHJpdGVzaGVldCkge1xuICAgICAgICBzcHJpdGVzaGVldC5kZXN0cm95KHRydWUpO1xuICAgIH0sXG59O1xuXG4vKiogU2ltcGxlIGxvYWRlciBwbHVnaW4gZm9yIGxvYWRpbmcgdGV4dCBkYXRhICovXG52YXIgbG9hZFR4dCA9IHtcbiAgICBleHRlbnNpb246IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICB0ZXN0OiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiAocGF0aC5leHRuYW1lKHVybCkuaW5jbHVkZXMoJy50eHQnKSk7XG4gICAgfSxcbiAgICBsb2FkOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UsIHR4dDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh1cmwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS50ZXh0KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0eHQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdHh0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbn07XG5cbnZhciB2YWxpZFdlaWdodHMgPSBbJ25vcm1hbCcsICdib2xkJyxcbiAgICAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgJzgwMCcsICc5MDAnIF07XG52YXIgdmFsaWRGb250cyA9IFsnd29mZicsICd3b2ZmMicsICd0dGYnLCAnb3RmJ107XG4vKipcbiAqIFJldHVybiBmb250IGZhY2UgbmFtZSBmcm9tIGEgZmlsZSBuYW1lXG4gKiBFeC46ICdmb250cy90aXRhbC1vbmUud29mZicgdHVybnMgaW50byAnVGl0YW4gT25lJ1xuICogQHBhcmFtIHVybCAtIEZpbGUgdXJsXG4gKi9cbmZ1bmN0aW9uIGdldEZvbnRGYW1pbHlOYW1lKHVybCkge1xuICAgIHZhciBleHQgPSBwYXRoLmV4dG5hbWUodXJsKTtcbiAgICB2YXIgbmFtZSA9IHBhdGguYmFzZW5hbWUodXJsLCBleHQpO1xuICAgIC8vIFJlcGxhY2UgZGFzaGVzIGJ5IHdoaXRlIHNwYWNlc1xuICAgIHZhciBuYW1lV2l0aFNwYWNlcyA9IG5hbWUucmVwbGFjZSgvKC18XykvZywgJyAnKTtcbiAgICAvLyBVcHBlciBjYXNlIGZpcnN0IGNoYXJhY3RlciBvZiBlYWNoIHdvcmRcbiAgICB2YXIgbmFtZVRpdGxlQ2FzZSA9IG5hbWVXaXRoU3BhY2VzLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgLm1hcChmdW5jdGlvbiAod29yZCkgeyByZXR1cm4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSk7IH0pXG4gICAgICAgIC5qb2luKCcgJyk7XG4gICAgcmV0dXJuIG5hbWVUaXRsZUNhc2U7XG59XG4vKiogV2ViIGZvbnQgbG9hZGVyIHBsdWdpbiAqL1xudmFyIGxvYWRXZWJGb250ID0ge1xuICAgIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIHRlc3Q6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIHRlbXBVUkwgPSB1cmwuc3BsaXQoJz8nKVswXTtcbiAgICAgICAgdmFyIGV4dGVuc2lvbiA9IHRlbXBVUkwuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkRm9udHMuaW5jbHVkZXMoZXh0ZW5zaW9uKTtcbiAgICB9LFxuICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZm9udEZhY2VzLCBuYW1lLCB3ZWlnaHRzLCBkYXRhLCBpLCB3ZWlnaHQsIGZvbnQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9nKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfZy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGxvYWRpbmcgZm9udCBpZiBuYXZpZ2F0b3IgaXMgbm90IG9ubGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cubmF2aWdhdG9yLm9uTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW2xvYWRXZWJGb250XSBDYW5ub3QgbG9hZCBmb250IC0gbmF2aWdhdG9yIGlzIG9mZmxpbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCdGb250RmFjZScgaW4gd2luZG93KSkgeyByZXR1cm4gWzMgLypicmVhayovLCA1XTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhY2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gKF9iID0gKF9hID0gb3B0aW9ucy5kYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmFtaWx5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBnZXRGb250RmFtaWx5TmFtZSh1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0cyA9IChfZSA9IChfZCA9IChfYyA9IG9wdGlvbnMuZGF0YSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLndlaWdodHMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5maWx0ZXIoZnVuY3Rpb24gKHdlaWdodCkgeyByZXR1cm4gdmFsaWRXZWlnaHRzLmluY2x1ZGVzKHdlaWdodCk7IH0pKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBbJ25vcm1hbCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IChfZiA9IG9wdGlvbnMuZGF0YSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDoge307XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9nLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA8IHdlaWdodHMubGVuZ3RoKSkgeyByZXR1cm4gWzMgLypicmVhayovLCA0XTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0ID0gd2VpZ2h0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQgPSBuZXcgRm9udEZhY2UobmFtZSwgXCJ1cmwoXCIgKyB1cmwgKyBcIilcIiwgX19hc3NpZ24oX19hc3NpZ24oe30sIGRhdGEpLCB7IHdlaWdodDogd2VpZ2h0IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZvbnQubG9hZCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2cuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGZvbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhY2VzLnB1c2goZm9udCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZy5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCBmb250RmFjZXMubGVuZ3RoID09PSAxID8gZm9udEZhY2VzWzBdIDogZm9udEZhY2VzXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbbG9hZFdlYkZvbnRdIEZvbnRGYWNlIEFQSSBpcyBub3Qgc3VwcG9ydGVkLiBTa2lwcGluZyBsb2FkaW5nIGZvbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmxvYWQ6IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIChBcnJheS5pc0FycmF5KGZvbnQpID8gZm9udCA6IFtmb250XSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7IHJldHVybiBkb2N1bWVudC5mb250cy5kZWxldGUodCk7IH0pO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGNoZWNrRXh0ZW5zaW9uKHVybCwgZXh0ZW5zaW9uKSB7XG4gICAgdmFyIHRlbXBVUkwgPSB1cmwuc3BsaXQoJz8nKVswXTtcbiAgICB2YXIgZXh0ID0gcGF0aC5leHRuYW1lKHRlbXBVUkwpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSkge1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uLmluY2x1ZGVzKGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpID09PSBleHRlbnNpb247XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoYmFzZSwgbG9hZGVyLCB1cmwpIHtcbiAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2UpO1xuICAgIC8vIG1ha2Ugc3VyZSB0byBudWtlIHRoZSBwcm9taXNlIGlmIGEgdGV4dHVyZSBpcyBkZXN0cm95ZWQuLlxuICAgIHRleHR1cmUuYmFzZVRleHR1cmUub24oJ2Rpc3Bvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSBsb2FkZXIucHJvbWlzZUNhY2hlW3VybF07XG4gICAgfSk7XG4gICAgcmV0dXJuIHRleHR1cmU7XG59XG5cbi8qKiBMb2FkIEJBU0lTIHRleHR1cmVzISAqL1xudmFyIGxvYWRCYXNpcyA9IHtcbiAgICBleHRlbnNpb246IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICB0ZXN0OiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBjaGVja0V4dGVuc2lvbih1cmwsICcuYmFzaXMnKTtcbiAgICB9LFxuICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwsIGFzc2V0LCBsb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXNwb25zZSwgYXJyYXlCdWZmZXIsIHJlc291cmNlcywgdHlwZSwgZm9ybWF0LCB0ZXh0dXJlcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgVHJhbnNjb2Rlcldvcmtlci5vblRyYW5zY29kZXJJbml0aWFsaXplZF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNldHRpbmdzLkFEQVBURVIuZmV0Y2godXJsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5QnVmZmVyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgQmFzaXNQYXJzZXIudHJhbnNjb2RlKGFycmF5QnVmZmVyKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBCQVNJU19GT1JNQVRfVE9fVFlQRVtyZXNvdXJjZXMuYmFzaXNGb3JtYXRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gcmVzb3VyY2VzLmJhc2lzRm9ybWF0ICE9PSBCQVNJU19GT1JNQVRTLmNURlJHQkEzMiA/IEZPUk1BVFMuUkdCIDogRk9STUFUUy5SR0JBO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlID0gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBfX2Fzc2lnbih7IG1pcG1hcDogcmVzb3VyY2UgaW5zdGFuY2VvZiBDb21wcmVzc2VkVGV4dHVyZVJlc291cmNlICYmIHJlc291cmNlLmxldmVscyA+IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gTUlQTUFQX01PREVTLk9OX01BTlVBTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBNSVBNQVBfTU9ERVMuT0ZGLCBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5PX1BSRU1VTFRJUExJRURfQUxQSEEsIHR5cGU6IHR5cGUsIGZvcm1hdDogZm9ybWF0IH0sIGFzc2V0LmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVGV4dHVyZShiYXNlLCBsb2FkZXIsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0ZXh0dXJlcy5sZW5ndGggPT09IDEgPyB0ZXh0dXJlc1swXSA6IHRleHR1cmVzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmxvYWQ6IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRleHR1cmUpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZGVzdHJveSh0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKiogTG9hZCBvdXIgRERTIHRleHR1cmVzISAqL1xudmFyIGxvYWRERFMgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gICAgdGVzdDogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICByZXR1cm4gY2hlY2tFeHRlbnNpb24odXJsLCAnLmRkcycpO1xuICAgIH0sXG4gICAgbG9hZDogZnVuY3Rpb24gKHVybCwgYXNzZXQsIGxvYWRlcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlLCBhcnJheUJ1ZmZlciwgcmVzb3VyY2VzLCB0ZXh0dXJlcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0dGluZ3MuQURBUFRFUi5mZXRjaCh1cmwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5hcnJheUJ1ZmZlcigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlCdWZmZXIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXMgPSBwYXJzZUREUyhhcnJheUJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlcyA9IHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2UgPSBuZXcgQmFzZVRleHR1cmUocmVzb3VyY2UsIF9fYXNzaWduKHsgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLCBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5PX1BSRU1VTFRJUExJRURfQUxQSEEsIHJlc29sdXRpb246IGdldFJlc29sdXRpb25PZlVybCh1cmwpIH0sIGFzc2V0LmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVGV4dHVyZShiYXNlLCBsb2FkZXIsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0ZXh0dXJlcy5sZW5ndGggPT09IDEgPyB0ZXh0dXJlc1swXSA6IHRleHR1cmVzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmxvYWQ6IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRleHR1cmUpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZGVzdHJveSh0cnVlKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKiogTG9hZHMgS1RYIHRleHR1cmVzISAqL1xudmFyIGxvYWRLVFggPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsXG4gICAgdGVzdDogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICByZXR1cm4gY2hlY2tFeHRlbnNpb24odXJsLCAnLmt0eCcpO1xuICAgIH0sXG4gICAgbG9hZDogZnVuY3Rpb24gKHVybCwgYXNzZXQsIGxvYWRlcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlLCBhcnJheUJ1ZmZlciwgX2EsIGNvbXByZXNzZWQsIHVuY29tcHJlc3NlZCwga3ZEYXRhLCByZXNvdXJjZXMsIG9wdGlvbnMsIHRleHR1cmVzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmFycmF5QnVmZmVyKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheUJ1ZmZlciA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gcGFyc2VLVFgodXJsLCBhcnJheUJ1ZmZlciksIGNvbXByZXNzZWQgPSBfYS5jb21wcmVzc2VkLCB1bmNvbXByZXNzZWQgPSBfYS51bmNvbXByZXNzZWQsIGt2RGF0YSA9IF9hLmt2RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlcyA9IGNvbXByZXNzZWQgIT09IG51bGwgJiYgY29tcHJlc3NlZCAhPT0gdm9pZCAwID8gY29tcHJlc3NlZCA6IHVuY29tcHJlc3NlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfX2Fzc2lnbih7IG1pcG1hcDogTUlQTUFQX01PREVTLk9GRiwgYWxwaGFNb2RlOiBBTFBIQV9NT0RFUy5OT19QUkVNVUxUSVBMSUVEX0FMUEhBLCByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsKSB9LCBhc3NldC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVzID0gcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzID09PSB1bmNvbXByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiByZXNvdXJjZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiByZXNvdXJjZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5rdHhLZXlWYWx1ZURhdGEgPSBrdkRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVRleHR1cmUoYmFzZSwgbG9hZGVyLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGV4dHVyZXMubGVuZ3RoID09PSAxID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5sb2FkOiBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0dXJlKSkge1xuICAgICAgICAgICAgdGV4dHVyZS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LmRlc3Ryb3kodHJ1ZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIFVVSUQgPSAwO1xudmFyIE1BWF9XT1JLRVJTO1xuLy8gMXgxIFdoaXRlIFBORyBEYXRhIFVSTFxudmFyIFdISVRFX1BORyA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVFBQUFDMUhBd0NBQUFBQzBsRVFWUjQybSdcbiAgICArICdQOC94OEFBd01DQU8raXAxc0FBQUFBU1VWT1JLNUNZSUk9JztcbnZhciBjaGVja0ltYWdlQml0bWFwQ29kZSA9IHtcbiAgICBpZDogJ2NoZWNrSW1hZ2VCaXRtYXAnLFxuICAgIGNvZGU6IFwiXFxuICAgIGFzeW5jIGZ1bmN0aW9uIGNoZWNrSW1hZ2VCaXRtYXAoKVxcbiAgICB7XFxuICAgICAgICB0cnlcXG4gICAgICAgIHtcXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XFxuXFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnXCIgKyBXSElURV9QTkcgKyBcIicpO1xcbiAgICAgICAgICAgIGNvbnN0IGltYWdlQmxvYiA9ICBhd2FpdCByZXNwb25zZS5ibG9iKCk7XFxuICAgICAgICAgICAgY29uc3QgaW1hZ2VCaXRtYXAgPSBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChpbWFnZUJsb2IpO1xcblxcbiAgICAgICAgICAgIHJldHVybiBpbWFnZUJpdG1hcC53aWR0aCA9PT0gMSAmJiBpbWFnZUJpdG1hcC5oZWlnaHQgPT09IDE7XFxuICAgICAgICB9XFxuICAgICAgICBjYXRjaCAoZSlcXG4gICAgICAgIHtcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgY2hlY2tJbWFnZUJpdG1hcCgpLnRoZW4oKHJlc3VsdCkgPT4geyBzZWxmLnBvc3RNZXNzYWdlKHJlc3VsdCk7IH0pO1xcbiAgICBcIixcbn07XG52YXIgd29ya2VyQ29kZSA9IHtcbiAgICBpZDogJ2xvYWRJbWFnZUJpdG1hcCcsXG4gICAgY29kZTogXCJcXG4gICAgYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlQml0bWFwKHVybClcXG4gICAge1xcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xcblxcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcXG4gICAgICAgIHtcXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtXb3JrZXJNYW5hZ2VyLmxvYWRJbWFnZUJpdG1hcF0gRmFpbGVkIHRvIGZldGNoICR7dXJsfTogYFxcbiAgICAgICAgICAgICAgICArIGAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgY29uc3QgaW1hZ2VCbG9iID0gIGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcXG4gICAgICAgIGNvbnN0IGltYWdlQml0bWFwID0gYXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAoaW1hZ2VCbG9iKTtcXG5cXG4gICAgICAgIHJldHVybiBpbWFnZUJpdG1hcDtcXG4gICAgfVxcbiAgICBzZWxmLm9ubWVzc2FnZSA9IGFzeW5jIChldmVudCkgPT5cXG4gICAge1xcbiAgICAgICAgdHJ5XFxuICAgICAgICB7XFxuICAgICAgICAgICAgY29uc3QgaW1hZ2VCaXRtYXAgPSBhd2FpdCBsb2FkSW1hZ2VCaXRtYXAoZXZlbnQuZGF0YS5kYXRhWzBdKTtcXG5cXG4gICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcXG4gICAgICAgICAgICAgICAgZGF0YTogaW1hZ2VCaXRtYXAsXFxuICAgICAgICAgICAgICAgIHV1aWQ6IGV2ZW50LmRhdGEudXVpZCxcXG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmRhdGEuaWQsXFxuICAgICAgICAgICAgfSwgW2ltYWdlQml0bWFwXSk7XFxuICAgICAgICB9XFxuICAgICAgICBjYXRjaChlKVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xcbiAgICAgICAgICAgICAgICBlcnJvcjogZSxcXG4gICAgICAgICAgICAgICAgdXVpZDogZXZlbnQuZGF0YS51dWlkLFxcbiAgICAgICAgICAgICAgICBpZDogZXZlbnQuZGF0YS5pZCxcXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgIH1cXG4gICAgfTtcIixcbn07XG52YXIgd29ya2VyVVJMO1xudmFyIFdvcmtlck1hbmFnZXJDbGFzcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXb3JrZXJNYW5hZ2VyQ2xhc3MoKSB7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NyZWF0ZWRXb3JrZXJzID0gMDtcbiAgICAgICAgdGhpcy53b3JrZXJQb29sID0gW107XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5yZXNvbHZlSGFzaCA9IHt9O1xuICAgIH1cbiAgICBXb3JrZXJNYW5hZ2VyQ2xhc3MucHJvdG90eXBlLmlzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0ltYWdlQml0bWFwU3VwcG9ydGVkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7IHJldHVybiB0aGlzLl9pc0ltYWdlQml0bWFwU3VwcG9ydGVkOyB9XG4gICAgICAgIHRoaXMuX2lzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgdmFyIHdvcmtlclVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2NoZWNrSW1hZ2VCaXRtYXBDb2RlLmNvZGVdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9KSk7XG4gICAgICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJVUkwpO1xuICAgICAgICAgICAgd29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0ltYWdlQml0bWFwU3VwcG9ydGVkO1xuICAgIH07XG4gICAgV29ya2VyTWFuYWdlckNsYXNzLnByb3RvdHlwZS5sb2FkSW1hZ2VCaXRtYXAgPSBmdW5jdGlvbiAoc3JjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydW4oJ2xvYWRJbWFnZUJpdG1hcCcsIFtzcmNdKTtcbiAgICB9O1xuICAgIFdvcmtlck1hbmFnZXJDbGFzcy5wcm90b3R5cGUuX2luaXRXb3JrZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luaXRpYWxpemVkKVxuICAgICAgICAgICAgICAgICAgICB7IHJldHVybiBbMiAvKnJldHVybiovXTsgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXb3JrZXJNYW5hZ2VyQ2xhc3MucHJvdG90eXBlLmdldFdvcmtlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKE1BWF9XT1JLRVJTID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE1BWF9XT1JLRVJTID0gbmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kgfHwgNDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd29ya2VyID0gdGhpcy53b3JrZXJQb29sLnBvcCgpO1xuICAgICAgICBpZiAoIXdvcmtlciAmJiB0aGlzLl9jcmVhdGVkV29ya2VycyA8IE1BWF9XT1JLRVJTKSB7XG4gICAgICAgICAgICBpZiAoIXdvcmtlclVSTCkge1xuICAgICAgICAgICAgICAgIHdvcmtlclVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3dvcmtlckNvZGUuY29kZV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgY3JlYXRlIGFzIG1hbnkgYXMgTUFYX1dPUktFUlMgYWxsb3dzLi5cbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZWRXb3JrZXJzKys7XG4gICAgICAgICAgICB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG4gICAgICAgICAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbXBsZXRlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJldHVybldvcmtlcihldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgICAgIF90aGlzLm5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfTtcbiAgICBXb3JrZXJNYW5hZ2VyQ2xhc3MucHJvdG90eXBlLnJldHVybldvcmtlciA9IGZ1bmN0aW9uICh3b3JrZXIpIHtcbiAgICAgICAgdGhpcy53b3JrZXJQb29sLnB1c2god29ya2VyKTtcbiAgICB9O1xuICAgIFdvcmtlck1hbmFnZXJDbGFzcy5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5lcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVIYXNoW2RhdGEudXVpZF0ucmVqZWN0KGRhdGEuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlSGFzaFtkYXRhLnV1aWRdLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc29sdmVIYXNoW2RhdGEudXVpZF0gPSBudWxsO1xuICAgIH07XG4gICAgV29ya2VyTWFuYWdlckNsYXNzLnByb3RvdHlwZS5fcnVuID0gZnVuY3Rpb24gKGlkLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZTtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2luaXRXb3JrZXJzKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnF1ZXVlLnB1c2goeyBpZDogaWQsIGFyZ3VtZW50czogYXJncywgcmVzb2x2ZTogcmVzb2x2ZSwgcmVqZWN0OiByZWplY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHByb21pc2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdvcmtlck1hbmFnZXJDbGFzcy5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIHdvcmtlciA9IHRoaXMuZ2V0V29ya2VyKCk7XG4gICAgICAgIC8vIG5vIHdvcmtlcnMgYXZhaWxhYmxlLi4uXG4gICAgICAgIGlmICghd29ya2VyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvRG8gPSB0aGlzLnF1ZXVlLnBvcCgpO1xuICAgICAgICB2YXIgaWQgPSB0b0RvLmlkO1xuICAgICAgICB0aGlzLnJlc29sdmVIYXNoW1VVSURdID0geyByZXNvbHZlOiB0b0RvLnJlc29sdmUsIHJlamVjdDogdG9Eby5yZWplY3QgfTtcbiAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRhdGE6IHRvRG8uYXJndW1lbnRzLFxuICAgICAgICAgICAgdXVpZDogVVVJRCsrLFxuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBXb3JrZXJNYW5hZ2VyQ2xhc3M7XG59KCkpO1xudmFyIFdvcmtlck1hbmFnZXIgPSBuZXcgV29ya2VyTWFuYWdlckNsYXNzKCk7XG5cbnZhciB2YWxpZEltYWdlcyQxID0gWycuanBnJywgJy5wbmcnLCAnLmpwZWcnLCAnLmF2aWYnLCAnLndlYnAnXTtcbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBhbiBJbWFnZUJpdG1hcHMuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIHVzZWQgYnkgYSB3b3JrZXIuXG4gKiBQYXJ0IG9mIFdvcmtlck1hbmFnZXIhXG4gKiBAcGFyYW0gdXJsIC0gVGhlIGltYWdlIHRvIGxvYWQgYW4gaW1hZ2UgYml0bWFwIGZvclxuICovXG5mdW5jdGlvbiBsb2FkSW1hZ2VCaXRtYXAodXJsKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlLCBpbWFnZUJsb2IsIGltYWdlQml0bWFwO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltsb2FkSW1hZ2VCaXRtYXBdIEZhaWxlZCB0byBmZXRjaCBcIiArIHVybCArIFwiOiBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKHJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmJsb2IoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpbWFnZUJsb2IgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNyZWF0ZUltYWdlQml0bWFwKGltYWdlQmxvYildO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VCaXRtYXAgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpbWFnZUJpdG1hcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBMb2FkcyBvdXIgdGV4dHVyZXMhXG4gKiB0aGlzIG1ha2VzIHVzZSBvZiBpbWFnZUJpdG1hcHMgd2hlcmUgYXZhaWxhYmxlLlxuICogV2UgbG9hZCB0aGUgSW1hZ2VCaXRtYXAgb24gYSBkaWZmZXJlbnQgdGhyZWFkIHVzaW5nIHRoZSBXb3JrZXJNYW5hZ2VyXG4gKiBXZSBjYW4gdGhlbiB1c2UgdGhlIEltYWdlQml0bWFwIGFzIGEgc291cmNlIGZvciBhIFBpeGkgVGV4dHVyZVxuICovXG52YXIgbG9hZFRleHR1cmVzID0ge1xuICAgIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5Mb2FkUGFyc2VyLFxuICAgIGNvbmZpZzoge1xuICAgICAgICBwcmVmZXJXb3JrZXJzOiB0cnVlLFxuICAgIH0sXG4gICAgdGVzdDogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgaXNWYWxpZEJhc2U2NFN1ZmZpeCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbGlkSW1hZ2VzJDEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZihcImRhdGE6aW1hZ2UvXCIgKyB2YWxpZEltYWdlcyQxW2ldLnNsaWNlKDEpKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlzVmFsaWRCYXNlNjRTdWZmaXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1ZhbGlkQmFzZTY0U3VmZml4IHx8IGNoZWNrRXh0ZW5zaW9uKHVybCwgdmFsaWRJbWFnZXMkMSk7XG4gICAgfSxcbiAgICBsb2FkOiBmdW5jdGlvbiAodXJsLCBhc3NldCwgbG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3JjLCBfYSwgYmFzZTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCkgeyByZXR1cm4gWzMgLypicmVhayovLCA3XTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzLmNvbmZpZy5wcmVmZXJXb3JrZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfYSkgeyByZXR1cm4gWzMgLypicmVhayovLCAyXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgV29ya2VyTWFuYWdlci5pc0ltYWdlQml0bWFwU3VwcG9ydGVkKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IChfYi5zZW50KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9hKSB7IHJldHVybiBbMyAvKmJyZWFrKi8sIDRdOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBXb3JrZXJNYW5hZ2VyLmxvYWRJbWFnZUJpdG1hcCh1cmwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFs0IC8qeWllbGQqLywgbG9hZEltYWdlQml0bWFwKHVybCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDY7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFs0IC8qeWllbGQqLywgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMuc3JjID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcmMuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3JjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gOTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZSA9IG5ldyBCYXNlVGV4dHVyZShzcmMsIF9fYXNzaWduKHsgcmVzb2x1dGlvbjogZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCkgfSwgYXNzZXQuZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5yZXNvdXJjZS5zcmMgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY3JlYXRlVGV4dHVyZShiYXNlLCBsb2FkZXIsIHVybCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHVubG9hZDogZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cbn07XG5cbi8qKiBMb2FkcyBTVkcncyBpbnRvIFRleHR1cmVzICovXG52YXIgbG9hZFNWRyA9IHtcbiAgICBleHRlbnNpb246IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICB0ZXN0OiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiAocGF0aC5leHRuYW1lKHVybCkuaW5jbHVkZXMoJy5zdmcnKSk7XG4gICAgfSxcbiAgICB0ZXN0UGFyc2U6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFNWR1Jlc291cmNlLnRlc3QoZGF0YSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcGFyc2U6IGZ1bmN0aW9uIChhc3NldCwgZGF0YSwgbG9hZGVyKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNyYywgYmFzZSwgdGV4dHVyZTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2QpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9kLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IG5ldyBTVkdSZXNvdXJjZShhc3NldCwgKF9hID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXNvdXJjZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZSA9IG5ldyBCYXNlVGV4dHVyZShzcmMsIF9fYXNzaWduKHsgcmVzb2x1dGlvbjogZ2V0UmVzb2x1dGlvbk9mVXJsKGFzc2V0KSB9LCBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZS5yZXNvdXJjZS5zcmMgPSBhc3NldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGJhc2UsIGxvYWRlciwgYXNzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhKChfYyA9IChfYiA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVzb3VyY2VPcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYXV0b0xvYWQpKSB7IHJldHVybiBbMyAvKmJyZWFrKi8sIDJdOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzcmMubG9hZCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Quc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2QubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCB0ZXh0dXJlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBsb2FkOiBmdW5jdGlvbiAodXJsLCBfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXR0aW5ncy5BREFQVEVSLmZldGNoKHVybCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZS50ZXh0KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHVubG9hZDogbG9hZFRleHR1cmVzLnVubG9hZCxcbn07XG5cbi8qKlxuICogVGhlIExvYWRlciBpcyByZXNwb25zaWJsZSBmb3IgbG9hZGluZyBhbGwgYXNzZXRzLCBzdWNoIGFzIGltYWdlcywgc3ByaXRlc2hlZXRzLCBhdWRpbyBmaWxlcywgZXRjLlxuICogSXQgZG9lcyBub3QgZG8gYW55dGhpbmcgY2xldmVyIHdpdGggVVJMcyAtIGl0IGp1c3QgbG9hZHMgc3R1ZmYhXG4gKiBCZWhpbmQgdGhlIHNjZW5lcyBhbGwgdGhpbmdzIGFyZSBjYWNoZWQgdXNpbmcgcHJvbWlzZXMuIFRoaXMgbWVhbnMgaXQncyBpbXBvc3NpYmxlIHRvIGxvYWQgYW4gYXNzZXQgbW9yZSB0aGFuIG9uY2UuXG4gKiBUaHJvdWdoIHRoZSB1c2Ugb2YgTG9hZGVyUGFyc2VycywgdGhlIGxvYWRlciBjYW4gdW5kZXJzdGFuZCBob3cgdG8gbG9hZCBhbnkga2luZCBvZiBmaWxlIVxuICpcbiAqIEl0IGlzIG5vdCBpbnRlbmRlZCB0aGF0IHRoaXMgY2xhc3MgaXMgY3JlYXRlZCBieSBkZXZlbG9wZXJzIC0gaXRzIHBhcnQgb2YgdGhlIEFzc2V0IGNsYXNzXG4gKiBUaGlzIGlzIHRoZSBzZWNvbmQgbWFqb3Igc3lzdGVtIG9mIFBpeGlKUycgbWFpbiBBc3NldHMgY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY2xhc3MgQXNzZXRMb2FkZXJcbiAqL1xudmFyIExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gICAgICAgIHRoaXMuX3BhcnNlcnMgPSBbXTtcbiAgICAgICAgLyoqIENhY2hlIGxvYWRpbmcgcHJvbWlzZXMgdGhhdCBhZSBjdXJyZW50bHkgYWN0aXZlICovXG4gICAgICAgIHRoaXMucHJvbWlzZUNhY2hlID0ge307XG4gICAgfVxuICAgIC8qKiBmdW5jdGlvbiB1c2VkIGZvciB0ZXN0aW5nICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9taXNlQ2FjaGUgPSB7fTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byBnZW5lcmF0ZSBhIHByb21pc2UgZm9yIHRoZSBhc3NldCB0byBiZSBsb2FkZWQuXG4gICAgICogQHBhcmFtIHVybCAtIFRoZSBVUkwgdG8gYmUgbG9hZGVkXG4gICAgICogQHBhcmFtIGRhdGEgLSBhbnkgY3VzdG9tIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVsZXZhbnQgdG8gdGhlIGFzc2V0IGJlaW5nIGxvYWRlZFxuICAgICAqIEByZXR1cm5zIC0gYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHRvIGFuIEFzc2V0IGZvciBleGFtcGxlIGEgVGV4dHVyZSBvZiBhIEpTT04gb2JqZWN0XG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fZ2V0TG9hZFByb21pc2VBbmRQYXJzZXIgPSBmdW5jdGlvbiAodXJsLCBkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICBwcm9taXNlOiBudWxsLFxuICAgICAgICAgICAgcGFyc2VyOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHJlc3VsdC5wcm9taXNlID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhc3NldCwgaSwgcGFyc2VyLCBpLCBwYXJzZXIsIF9hO1xuICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2QpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9kLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2QubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpIDwgdGhpcy5wYXJzZXJzLmxlbmd0aCkpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlciA9IHRoaXMucGFyc2Vyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBhcnNlci5sb2FkICYmICgoX2IgPSBwYXJzZXIudGVzdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwocGFyc2VyLCB1cmwsIGRhdGEsIHRoaXMpKSkpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgM107IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHBhcnNlci5sb2FkKHVybCwgZGF0YSwgdGhpcyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NldCA9IF9kLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LnBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW0Fzc2V0c10gXCIgKyB1cmwgKyBcIiBjb3VsZCBub3QgYmUgbG9hZGVkIGFzIHdlIGRvbid0IGtub3cgaG93IHRvIHBhcnNlIGl0LCBlbnN1cmUgdGhlIGNvcnJlY3QgcGFyc2VyIGhhcyBiZWluZyBhZGRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kLmxhYmVsID0gNTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA8IHRoaXMucGFyc2Vycy5sZW5ndGgpKSB7IHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VyID0gdGhpcy5wYXJzZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJzZXIucGFyc2UpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gcGFyc2VyLnBhcnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfYSkgeyByZXR1cm4gWzMgLypicmVhayovLCA3XTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKChfYyA9IHBhcnNlci50ZXN0UGFyc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHBhcnNlciwgYXNzZXQsIGRhdGEsIHRoaXMpKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gKF9kLnNlbnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZC5sYWJlbCA9IDc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2EpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHBhcnNlci5wYXJzZShhc3NldCwgZGF0YSwgdGhpcyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIGFzc2V0Li5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0ID0gKF9kLnNlbnQoKSkgfHwgYXNzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2QubGFiZWwgPSA5O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGFzc2V0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7IH0pKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBhc3NldChzKSB1c2luZyB0aGUgcGFyc2VycyBhZGRlZCB0byB0aGUgTG9hZGVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gc2luZ2xlIGFzc2V0OlxuICAgICAqIGNvbnN0IGFzc2V0ID0gYXdhaXQgTG9hZGVyLmxvYWQoJ2Nvb2wucG5nJyk7XG4gICAgICogY29uc29sZS5sb2coYXNzZXQpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gbXVsdGlwbGUgYXNzZXRzOlxuICAgICAqIGNvbnN0IGFzc2V0cyA9IGF3YWl0ICBMb2FkZXIubG9hZChbJ2Nvb2wucG5nJywgJ2Nvb2xlci5wbmcnXSk7XG4gICAgICogY29uc29sZS5sb2coYXNzZXRzKTtcbiAgICAgKiBAcGFyYW0gYXNzZXRzVG9Mb2FkSW4gLSB1cmxzIHRoYXQgeW91IHdhbnQgdG8gbG9hZCwgb3IgYSBzaW5nbGUgb25lIVxuICAgICAqIEBwYXJhbSBvblByb2dyZXNzIC0gYSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXNcbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoYXNzZXRzVG9Mb2FkSW4sIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb3VudCwgYXNzZXRzLCBzaW5nbGVBc3NldCwgYXNzZXRzVG9Mb2FkLCB0b3RhbCwgcHJvbWlzZXM7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVBc3NldCA9IGlzU2luZ2xlSXRlbShhc3NldHNUb0xvYWRJbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NldHNUb0xvYWQgPSBjb252ZXJ0VG9MaXN0KGFzc2V0c1RvTG9hZEluLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IGFzc2V0c1RvTG9hZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcyA9IGFzc2V0c1RvTG9hZC5tYXAoZnVuY3Rpb24gKGFzc2V0KSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCwgX2EsIF9iLCBlXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gcGF0aC50b0Fic29sdXRlKGFzc2V0LnNyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhYXNzZXRzW2Fzc2V0LnNyY10pIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJvbWlzZUNhY2hlW3VybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9taXNlQ2FjaGVbdXJsXSA9IHRoaXMuX2dldExvYWRQcm9taXNlQW5kUGFyc2VyKHVybCwgYXNzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYSA9IGFzc2V0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYiA9IGFzc2V0LnNyYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnByb21pc2VDYWNoZVt1cmxdLnByb21pc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hW19iXSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHByb2dyZXNzIGlmIG5vdGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvblByb2dyZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG9uUHJvZ3Jlc3MoKytjb3VudCAvIHRvdGFsKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgZXZlbnR1YWxseSByZWdpc3RlcmVkIGZpbGUgYW5kIHByb21pc2VzIGZyb20gaW50ZXJuYWwgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB0aGV5IGNhbiBiZSBlbGlnaWJsZSBmb3IgYW5vdGhlciBsb2FkaW5nIGF0dGVtcHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5wcm9taXNlQ2FjaGVbdXJsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXNzZXRzW2Fzc2V0LnNyY107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBmdXJ0aGVyIGV4ZWN1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltMb2FkZXIubG9hZF0gRmFpbGVkIHRvIGxvYWQgXCIgKyB1cmwgKyBcIi5cXG5cIiArIGVfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwocHJvbWlzZXMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHNpbmdsZUFzc2V0ID8gYXNzZXRzW2Fzc2V0c1RvTG9hZFswXS5zcmNdIDogYXNzZXRzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmxvYWRzIGFuIGFzc2V0KHMpLiBBbnkgdW5sb2FkZWQgYXNzZXRzIHdpbGwgYmUgZGVzdHJveWVkLCBmcmVlaW5nIHVwIG1lbW9yeSBmb3IgeW91ciBhcHAuXG4gICAgICogVGhlIHBhcnNlciB0aGF0IGNyZWF0ZWQgdGhlIGFzc2V0LCB3aWxsIGJlIHRoZSBvbmUgdGhhdCB1bmxvYWRzIGl0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gc2luZ2xlIGFzc2V0OlxuICAgICAqIGNvbnN0IGFzc2V0ID0gYXdhaXQgTG9hZGVyLmxvYWQoJ2Nvb2wucG5nJyk7XG4gICAgICpcbiAgICAgKiBhd2FpdCBMb2FkZXIudW5sb2FkKCdjb29sLnBuZycpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXNzZXQuZGVzdHJveWVkKTsgLy8gdHJ1ZVxuICAgICAqIEBwYXJhbSBhc3NldHNUb1VubG9hZEluIC0gdXJscyB0aGF0IHlvdSB3YW50IHRvIHVubG9hZCwgb3IgYSBzaW5nbGUgb25lIVxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKGFzc2V0c1RvVW5sb2FkSW4pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhc3NldHNUb1VubG9hZCwgcHJvbWlzZXM7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRzVG9VbmxvYWQgPSBjb252ZXJ0VG9MaXN0KGFzc2V0c1RvVW5sb2FkSW4sIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzID0gYXNzZXRzVG9VbmxvYWQubWFwKGZ1bmN0aW9uIChhc3NldCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwsIGxvYWRQcm9taXNlLCBsb2FkZWRBc3NldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHBhdGgudG9BYnNvbHV0ZShhc3NldC5zcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQcm9taXNlID0gdGhpcy5wcm9taXNlQ2FjaGVbdXJsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvYWRQcm9taXNlKSB7IHJldHVybiBbMyAvKmJyZWFrKi8sIDJdOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbG9hZFByb21pc2UucHJvbWlzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkQXNzZXQgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gKF9hID0gbG9hZFByb21pc2UucGFyc2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudW5sb2FkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgbG9hZGVkQXNzZXQsIGFzc2V0LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5wcm9taXNlQ2FjaGVbdXJsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwocHJvbWlzZXMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2FkZXIucHJvdG90eXBlLCBcInBhcnNlcnNcIiwge1xuICAgICAgICAvKiogQWxsIGxvYWRlciBwYXJzZXJzIHJlZ2lzdGVyZWQgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBMb2FkZXI7XG59KCkpO1xuXG52YXIgdmFsaWRJbWFnZXMgPSBbJ2pwZycsICdwbmcnLCAnanBlZycsICdhdmlmJywgJ3dlYnAnXTtcbnZhciByZXNvbHZlU3ByaXRlU2hlZXRVcmwgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLlJlc29sdmVQYXJzZXIsXG4gICAgdGVzdDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciB0ZW1wVVJMID0gdmFsdWUuc3BsaXQoJz8nKVswXTtcbiAgICAgICAgdmFyIHNwbGl0ID0gdGVtcFVSTC5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgZXh0ZW5zaW9uID0gc3BsaXQucG9wKCk7XG4gICAgICAgIHZhciBmb3JtYXQgPSBzcGxpdC5wb3AoKTtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ2pzb24nICYmIHZhbGlkSW1hZ2VzLmluY2x1ZGVzKGZvcm1hdCk7XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHZhciBzcGxpdCA9IHZhbHVlLnNwbGl0KCcuJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNvbHV0aW9uOiBwYXJzZUZsb2F0KChfYiA9IChfYSA9IHNldHRpbmdzLlJFVElOQV9QUkVGSVguZXhlYyh2YWx1ZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVsxXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJzEnKSxcbiAgICAgICAgICAgIGZvcm1hdDogc3BsaXRbc3BsaXQubGVuZ3RoIC0gMl0sXG4gICAgICAgICAgICBzcmM6IHZhbHVlLFxuICAgICAgICB9O1xuICAgIH0sXG59O1xuXG52YXIgcmVzb2x2ZVRleHR1cmVVcmwgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLlJlc29sdmVQYXJzZXIsXG4gICAgdGVzdDogbG9hZFRleHR1cmVzLnRlc3QsXG4gICAgcGFyc2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgIHJlc29sdXRpb246IHBhcnNlRmxvYXQoKF9iID0gKF9hID0gc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHZhbHVlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzFdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnMScpLFxuICAgICAgICAgICAgZm9ybWF0OiB2YWx1ZS5zcGxpdCgnLicpLnBvcCgpLFxuICAgICAgICAgICAgc3JjOiB2YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfSxcbn07XG5cbnZhciByZXNvbHZlQ29tcHJlc3NlZFRleHR1cmVVcmwgPSB7XG4gICAgZXh0ZW5zaW9uOiBFeHRlbnNpb25UeXBlLlJlc29sdmVQYXJzZXIsXG4gICAgdGVzdDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciB0ZW1wID0gdmFsdWUuc3BsaXQoJz8nKVswXTtcbiAgICAgICAgdmFyIGV4dGVuc2lvbiA9IHRlbXAuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgICAgcmV0dXJuIFsnYmFzaXMnLCAna3R4JywgJ2RkcyddLmluY2x1ZGVzKGV4dGVuc2lvbik7XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdmFyIHRlbXAgPSB2YWx1ZS5zcGxpdCgnPycpWzBdO1xuICAgICAgICB2YXIgZXh0ZW5zaW9uID0gdGVtcC5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uID09PSAna3R4Jykge1xuICAgICAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSBbXG4gICAgICAgICAgICAgICAgJy5zM3RjLmt0eCcsXG4gICAgICAgICAgICAgICAgJy5zM3RjX3NSR0Iua3R4JyxcbiAgICAgICAgICAgICAgICAnLmV0Yy5rdHgnLFxuICAgICAgICAgICAgICAgICcuZXRjMS5rdHgnLFxuICAgICAgICAgICAgICAgICcucHZydC5rdHgnLFxuICAgICAgICAgICAgICAgICcuYXRjLmt0eCcsXG4gICAgICAgICAgICAgICAgJy5hc3RjLmt0eCdcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB2YWx1ZSBlbmRzIHdpdGggb25lIG9mIHRoZSBleHRlbnNpb25zXG4gICAgICAgICAgICBpZiAoZXh0ZW5zaW9ucy5zb21lKGZ1bmN0aW9uIChleHQpIHsgcmV0dXJuIHZhbHVlLmVuZHNXaXRoKGV4dCk7IH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcGFyc2VGbG9hdCgoX2IgPSAoX2EgPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModmFsdWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcxJyksXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZXh0ZW5zaW9ucy5maW5kKGZ1bmN0aW9uIChleHQpIHsgcmV0dXJuIHZhbHVlLmVuZHNXaXRoKGV4dCk7IH0pLFxuICAgICAgICAgICAgICAgICAgICBzcmM6IHZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc29sdXRpb246IHBhcnNlRmxvYXQoKF9kID0gKF9jID0gc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHZhbHVlKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jWzFdKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnMScpLFxuICAgICAgICAgICAgZm9ybWF0OiB2YWx1ZS5zcGxpdCgnLicpLnBvcCgpLFxuICAgICAgICAgICAgc3JjOiB2YWx1ZSxcbiAgICAgICAgfTtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBtYXBwaW5nIGFzc2V0IFVSTHMgdG8ga2V5cy5cbiAqIEF0IGl0cyBtb3N0IGJhc2ljIGl0IGNhbiBiZSB1c2VkIGZvciBBbGlhc2VzOlxuICpcbiAqIGBgYFxuICogcmVzb2x2ZXIuYWRkKCdmb28nLCAnYmFyJyk7XG4gKiByZXNvbHZlci5yZXNvbHZlVXJsKCdmb28nKSAvLyA9PiAnYmFyJ1xuICogYGBgXG4gKlxuICogSXQgY2FuIGFsc28gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBtb3N0IGFwcHJvcHJpYXRlIGFzc2V0IGZvciBhIGdpdmVuIFVSTDpcbiAqXG4gKiBgYGBcbiAqICByZXNvbHZlci5wcmVmZXIoe1xuICogICAgICBwYXJhbXM6e1xuICogICAgICAgICAgZm9ybWF0Oid3ZWJwJyxcbiAqICAgICAgICAgIHJlc29sdXRpb246IDIsXG4gKiAgICAgIH1cbiAqICB9KVxuICpcbiAqICByZXNvbHZlci5hZGQoJ2ZvbycsIFsnYmFyQDJ4LndlYnAnLCAnYmFyQDJ4LnBuZycsICdiYXIud2VicCcsICdiYXIucG5nJ10pO1xuICpcbiAqICByZXNvbHZlci5yZXNvbHZlVXJsKCdmb28nKSAvLyA9PiAnYmFyQDJ4LndlYnAnXG4gKiBgYGBcbiAqIE90aGVyIGZlYXR1cmVzIGluY2x1ZGU6XG4gKiAtIEFiaWxpdHkgdG8gcHJvY2VzcyBhIG1hbmlmZXN0IGZpbGUgdG8gZ2V0IHRoZSBjb3JyZWN0IHVuZGVyc3RhbmRpbmcgb2YgaG93IHRvIHJlc29sdmUgYWxsIGFzc2V0c1xuICogLSBBYmlsaXR5IHRvIGFkZCBjdXN0b20gcGFyc2VycyBmb3Igc3BlY2lmaWMgZmlsZSB0eXBlc1xuICogLSBBYmlsaXR5IHRvIGFkZCBjdXN0b20gcHJlZmVyIHJ1bGVzXG4gKlxuICogVGhpcyBjbGFzcyBvbmx5IGNhcmVzIGFib3V0IHRoZSBVUkwsIG5vdCB0aGUgbG9hZGluZyBvZiB0aGUgYXNzZXQgaXRzZWxmLlxuICpcbiAqIEl0IGlzIG5vdCBpbnRlbmRlZCB0aGF0IHRoaXMgY2xhc3MgaXMgY3JlYXRlZCBieSBkZXZlbG9wZXJzIC0gaXRzIHBhcnQgb2YgdGhlIEFzc2V0IGNsYXNzXG4gKiBUaGlzIGlzIHRoZSB0aGlyZCBtYWpvciBzeXN0ZW0gb2YgUGl4aUpTJyBtYWluIEFzc2V0cyBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlc29sdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc29sdmVyKCkge1xuICAgICAgICB0aGlzLl9hc3NldE1hcCA9IHt9O1xuICAgICAgICB0aGlzLl9wcmVmZXJyZWRPcmRlciA9IFtdO1xuICAgICAgICB0aGlzLl9wYXJzZXJzID0gW107XG4gICAgICAgIHRoaXMuX3Jlc29sdmVySGFzaCA9IHt9O1xuICAgICAgICB0aGlzLl9idW5kbGVzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExldCB0aGUgcmVzb2x2ZXIga25vdyB3aGljaCBhc3NldHMgeW91IHByZWZlciB0byB1c2Ugd2hlbiByZXNvbHZpbmcgYXNzZXRzLlxuICAgICAqIE11bHRpcGxlIHByZWZlciB1c2VyIGRlZmluZWQgcnVsZXMgY2FuIGJlIGFkZGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVzb2x2ZXIucHJlZmVyKHtcbiAgICAgKiAgICAgLy8gZmlyc3QgbG9vayBmb3Igc29tZXRoaW5nIHdpdGggdGhlIGNvcnJlY3QgZm9ybWF0LCBhbmQgdGhlbiB0aGVuIGNvcnJlY3QgcmVzb2x1dGlvblxuICAgICAqICAgICBwcmlvcml0eTogWydmb3JtYXQnLCAncmVzb2x1dGlvbiddLFxuICAgICAqICAgICBwYXJhbXM6e1xuICAgICAqICAgICAgICAgZm9ybWF0Oid3ZWJwJywgLy8gcHJlZmVyIHdlYnAgaW1hZ2VzXG4gICAgICogICAgICAgICByZXNvbHV0aW9uOiAyLCAvLyBwcmVmZXIgYSByZXNvbHV0aW9uIG9mIDJcbiAgICAgKiAgICAgfVxuICAgICAqIH0pXG4gICAgICogcmVzb2x2ZXIuYWRkKCdmb28nLCBbJ2JhckAyeC53ZWJwJywgJ2JhckAyeC5wbmcnLCAnYmFyLndlYnAnLCAnYmFyLnBuZyddKTtcbiAgICAgKiByZXNvbHZlci5yZXNvbHZlVXJsKCdmb28nKSAvLyA9PiAnYmFyQDJ4LndlYnAnXG4gICAgICogQHBhcmFtIHByZWZlck9yZGVycyAtIHRoZSBwcmVmZXIgb3B0aW9uc1xuICAgICAqL1xuICAgIFJlc29sdmVyLnByb3RvdHlwZS5wcmVmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcHJlZmVyT3JkZXJzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwcmVmZXJPcmRlcnNbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHByZWZlck9yZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmZXIpIHtcbiAgICAgICAgICAgIF90aGlzLl9wcmVmZXJyZWRPcmRlci5wdXNoKHByZWZlcik7XG4gICAgICAgICAgICBpZiAoIXByZWZlci5wcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIC8vIGdlbmVyYXRlIHRoZSBwcmlvcml0eSBiYXNlZCBvbiB0aGUgb3JkZXIgb2YgdGhlIG9iamVjdFxuICAgICAgICAgICAgICAgIHByZWZlci5wcmlvcml0eSA9IE9iamVjdC5rZXlzKHByZWZlci5wYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZXJIYXNoID0ge307XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb2x2ZXIucHJvdG90eXBlLCBcImJhc2VQYXRoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFzZVBhdGg7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGJhc2UgcGF0aCB0byBwcmVwZW5kIHRvIGFsbCB1cmxzIHdoZW4gcmVzb2x2aW5nXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIHJlc29sdmVyLmJhc2VQYXRoID0gJ2h0dHBzOi8vaG9tZS5jb20vJztcbiAgICAgICAgICogcmVzb2x2ZXIuYWRkKCdmb28nLCAnYmFyLm9uZycpO1xuICAgICAgICAgKiByZXNvbHZlci5yZXNvbHZlVXJsKCdmb28nLCAnYmFyLnBuZycpOyAvLyA9PiAnaHR0cHM6Ly9ob21lLmNvbS9iYXIucG5nJ1xuICAgICAgICAgKiBAcGFyYW0gYmFzZVBhdGggLSB0aGUgYmFzZSBwYXRoIHRvIHVzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYmFzZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2Jhc2VQYXRoID0gYmFzZVBhdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb2x2ZXIucHJvdG90eXBlLCBcInJvb3RQYXRoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm9vdFBhdGg7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHJvb3QgcGF0aCBmb3Igcm9vdC1yZWxhdGl2ZSBVUkxzLiBCeSBkZWZhdWx0IHRoZSBgYmFzZVBhdGhgJ3Mgcm9vdCBpcyB1c2VkLiBJZiBubyBgYmFzZVBhdGhgIGlzIHNldCwgdGhlbiB0aGVcbiAgICAgICAgICogZGVmYXVsdCB2YWx1ZSBmb3IgYnJvd3NlcnMgaXMgYHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5gXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIEFwcGxpY2F0aW9uIGhvc3RlZCBvbiBodHRwczovL2hvbWUuY29tL3NvbWUtcGF0aC9pbmRleC5odG1sXG4gICAgICAgICAqIHJlc29sdmVyLmJhc2VQYXRoID0gJ2h0dHBzOi8vaG9tZS5jb20vc29tZS1wYXRoLyc7XG4gICAgICAgICAqIHJlc29sdmVyLnJvb3RQYXRoID0gJ2h0dHBzOi8vaG9tZS5jb20vJztcbiAgICAgICAgICogcmVzb2x2ZXIuYWRkKCdmb28nLCAnL2Jhci5wbmcnKTtcbiAgICAgICAgICogcmVzb2x2ZXIucmVzb2x2ZVVybCgnZm9vJywgJy9iYXIucG5nJyk7IC8vID0+ICdodHRwczovL2hvbWUuY29tL2Jhci5wbmcnXG4gICAgICAgICAqIEBwYXJhbSByb290UGF0aCAtIHRoZSByb290IHBhdGggdG8gdXNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyb290UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdFBhdGggPSByb290UGF0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNvbHZlci5wcm90b3R5cGUsIFwicGFyc2Vyc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGwgdGhlIGFjdGl2ZSBVUkwgcGFyc2VycyB0aGF0IGhlbHAgdGhlIHBhcnNlciB0byBleHRyYWN0IGluZm9ybWF0aW9uIGFuZCBjcmVhdGVcbiAgICAgICAgICogYW4gYXNzZXQgb2JqZWN0LWJhc2VkIG9uIHBhcnNpbmcgdGhlIFVSTCBpdHNlbGYuXG4gICAgICAgICAqXG4gICAgICAgICAqIENhbiBiZSBhZGRlZCB1c2luZyB0aGUgZXh0ZW5zaW9ucyBBUElcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogcmVzb2x2ZXIuYWRkKCdmb28nLCBbXG4gICAgICAgICAqICAgIHtcbiAgICAgICAgICogICAgICByZXNvbHV0aW9uOjIsXG4gICAgICAgICAqICAgICAgZm9ybWF0OidwbmcnXG4gICAgICAgICAqICAgICAgc3JjOiAnaW1hZ2VAMngucG5nJ1xuICAgICAgICAgKiAgICB9LFxuICAgICAgICAgKiAgICB7XG4gICAgICAgICAqICAgICAgcmVzb2x1dGlvbjoxLFxuICAgICAgICAgKiAgICAgIGZvcm1hdDoncG5nJ1xuICAgICAgICAgKiAgICAgIHNyYzogJ2ltYWdlLnBuZydcbiAgICAgICAgICogICAgfVxuICAgICAgICAgKiBdKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gd2l0aCBhIHVybCBwYXJzZXIgdGhlIGluZm9ybWF0aW9uIHN1Y2ggYXMgcmVzb2x1dGlvbiBhbmQgZmlsZSBmb3JtYXQgY291bGQgZXh0cmFjdGVkIGZyb20gdGhlIHVybCBpdHNlbGY6XG4gICAgICAgICAqIGV4dGVuc2lvbnMuYWRkKHtcbiAgICAgICAgICogICAgIGV4dGVuc2lvbjogRXh0ZW5zaW9uVHlwZS5SZXNvbHZlUGFyc2VyLFxuICAgICAgICAgKiAgICAgdGVzdDogbG9hZFRleHR1cmVzLnRlc3QsIC8vIHRlc3QgaWYgdXJsIGVuZHMgaW4gYW4gaW1hZ2VcbiAgICAgICAgICogICAgIHBhcnNlOiAodmFsdWU6IHN0cmluZykgPT5cbiAgICAgICAgICogICAgICh7XG4gICAgICAgICAqICAgICAgICAgcmVzb2x1dGlvbjogcGFyc2VGbG9hdChzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModmFsdWUpPy5bMV0gPz8gJzEnKSxcbiAgICAgICAgICogICAgICAgICBmb3JtYXQ6IHZhbHVlLnNwbGl0KCcuJykucG9wKCksXG4gICAgICAgICAqICAgICAgICAgc3JjOiB2YWx1ZSxcbiAgICAgICAgICogICAgIH0pLFxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gbm93IHJlc29sdXRpb24gYW5kIGZvcm1hdCBjYW4gYmUgZXh0cmFjdGVkIGZyb20gdGhlIHVybFxuICAgICAgICAgKiByZXNvbHZlci5hZGQoJ2ZvbycsIFtcbiAgICAgICAgICogICAgJ2ltYWdlQDJ4LnBuZydcbiAgICAgICAgICogICAgJ2ltYWdlLnBuZydcbiAgICAgICAgICogXSk7XG4gICAgICAgICAqIEBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogVXNlZCBmb3IgdGVzdGluZywgdGhpcyByZXNldHMgdGhlIHJlc29sdmVyIHRvIGl0cyBpbml0aWFsIHN0YXRlICovXG4gICAgUmVzb2x2ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wcmVmZXJyZWRPcmRlciA9IFtdO1xuICAgICAgICB0aGlzLl9yZXNvbHZlckhhc2ggPSB7fTtcbiAgICAgICAgdGhpcy5fYXNzZXRNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5fcm9vdFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXNlUGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hbmlmZXN0ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIG1hbmlmZXN0IHRvIHRoZSBhc3NldCByZXNvbHZlci4gVGhpcyBpcyBhIG5pY2Ugd2F5IHRvIGFkZCBhbGwgdGhlIGFzc2V0IGluZm9ybWF0aW9uIGluIG9uZSBnby5cbiAgICAgKiBnZW5lcmFsbHkgYSBtYW5pZmVzdCB3b3VsZCBiZSBidWlsdCB1c2luZyBhIHRvb2wuXG4gICAgICogQHBhcmFtIG1hbmlmZXN0IC0gdGhlIG1hbmlmZXN0IHRvIGFkZCB0byB0aGUgcmVzb2x2ZXJcbiAgICAgKi9cbiAgICBSZXNvbHZlci5wcm90b3R5cGUuYWRkTWFuaWZlc3QgPSBmdW5jdGlvbiAobWFuaWZlc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX21hbmlmZXN0KSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tSZXNvbHZlcl0gTWFuaWZlc3QgYWxyZWFkeSBleGlzdHMsIHRoaXMgd2lsbCBiZSBvdmVyd3JpdHRlbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICAgIG1hbmlmZXN0LmJ1bmRsZXMuZm9yRWFjaChmdW5jdGlvbiAoYnVuZGxlKSB7XG4gICAgICAgICAgICBfdGhpcy5hZGRCdW5kbGUoYnVuZGxlLm5hbWUsIGJ1bmRsZS5hc3NldHMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgYWRkcyBhIGJ1bmRsZSBvZiBhc3NldHMgaW4gb25lIGdvIHNvIHRoYXQgeW91IGNhbiByZXNvbHZlIHRoZW0gYXMgYSBncm91cC5cbiAgICAgKiBGb3IgZXhhbXBsZSB5b3UgY291bGQgYWRkIGEgYnVuZGxlIGZvciBlYWNoIHNjcmVlbiBpbiB5b3UgcGl4aSBhcHBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICByZXNvbHZlci5hZGRCdW5kbGUoJ2FuaW1hbHMnLCB7XG4gICAgICogICAgYnVubnk6ICdidW5ueS5wbmcnLFxuICAgICAqICAgIGNoaWNrZW46ICdjaGlja2VuLnBuZycsXG4gICAgICogICAgdGh1bXBlcjogJ3RodW1wZXIucG5nJyxcbiAgICAgKiAgfSk7XG4gICAgICpcbiAgICAgKiBjb25zdCByZXNvbHZlZEFzc2V0cyA9IGF3YWl0IHJlc29sdmVyLnJlc29sdmVCdW5kbGUoJ2FuaW1hbHMnKTtcbiAgICAgKiBAcGFyYW0gYnVuZGxlSWQgLSBUaGUgaWQgb2YgdGhlIGJ1bmRsZSB0byBhZGRcbiAgICAgKiBAcGFyYW0gYXNzZXRzIC0gQSByZWNvcmQgb2YgdGhlIGFzc2V0IG9yIGFzc2V0cyB0aGF0IHdpbGwgYmUgY2hvc2VuIGZyb20gd2hlbiBsb2FkaW5nIHZpYSB0aGUgc3BlY2lmaWVkIGtleVxuICAgICAqL1xuICAgIFJlc29sdmVyLnByb3RvdHlwZS5hZGRCdW5kbGUgPSBmdW5jdGlvbiAoYnVuZGxlSWQsIGFzc2V0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXNzZXROYW1lcyA9IFtdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhc3NldHMpKSB7XG4gICAgICAgICAgICBhc3NldHMuZm9yRWFjaChmdW5jdGlvbiAoYXNzZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFzc2V0Lm5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0TmFtZXMucHVzaChhc3NldC5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0TmFtZXMucHVzaC5hcHBseShhc3NldE5hbWVzLCBhc3NldC5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkKGFzc2V0Lm5hbWUsIGFzc2V0LnNyY3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhc3NldHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGFzc2V0TmFtZXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZChrZXksIGFzc2V0c1trZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1bmRsZXNbYnVuZGxlSWRdID0gYXNzZXROYW1lcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlbGxzIHRoZSByZXNvbHZlciB3aGF0IGtleXMgYXJlIGFzc29jaWF0ZWQgd2l0aCB3aXRjaCBhc3NldC5cbiAgICAgKiBUaGUgbW9zdCBpbXBvcnRhbnQgdGhpbmcgdGhlIHJlc29sdmVyIGRvZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHNpbmdsZSBrZXksIHNpbmdsZSBhc3NldDpcbiAgICAgKiByZXNvbHZlci5hZGQoJ2ZvbycsICdiYXIucG5nJyk7XG4gICAgICogcmVzb2x2ZXIucmVzb2x2ZVVybCgnZm9vJykgLy8gPT4gJ2Jhci5wbmcnXG4gICAgICpcbiAgICAgKiAvLyBtdWx0aXBsZSBrZXlzLCBzaW5nbGUgYXNzZXQ6XG4gICAgICogcmVzb2x2ZXIuYWRkKFsnZm9vJywgJ2JvbyddLCAnYmFyLnBuZycpO1xuICAgICAqIHJlc29sdmVyLnJlc29sdmVVcmwoJ2ZvbycpIC8vID0+ICdiYXIucG5nJ1xuICAgICAqIHJlc29sdmVyLnJlc29sdmVVcmwoJ2JvbycpIC8vID0+ICdiYXIucG5nJ1xuICAgICAqXG4gICAgICogLy8gbXVsdGlwbGUga2V5cywgbXVsdGlwbGUgYXNzZXRzOlxuICAgICAqIHJlc29sdmVyLmFkZChbJ2ZvbycsICdib28nXSwgWydiYXIucG5nJywgJ2Jhci53ZWJwJ10pO1xuICAgICAqIHJlc29sdmVyLnJlc29sdmVVcmwoJ2ZvbycpIC8vID0+ICdiYXIucG5nJ1xuICAgICAqXG4gICAgICogLy8gYWRkIGN1c3RvbSBkYXRhIGF0dGFjaGVkIHRvIHRoZSByZXNvbHZlclxuICAgICAqIFJlc29sdmVyLmFkZChcbiAgICAgKiAgICAgJ2J1bm55Qm9vQm9vU21vb3RoJyxcbiAgICAgKiAgICAgJ2J1bm55e3BuZyx3ZWJwfScsXG4gICAgICogICAgIHtzY2FsZU1vZGU6U0NBTEVfTU9ERVMuTkVBUkVTVH0gLy8gYmFzZSB0ZXh0dXJlIG9wdGlvbnNcbiAgICAgKiApO1xuICAgICAqXG4gICAgICogcmVzb2x2ZXIucmVzb2x2ZSgnYnVubnlCb29Cb29TbW9vdGgnKSAvLyA9PiB7c3JjOiAnYnVubnkucG5nJywgZGF0YToge3NjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVH19XG4gICAgICogQHBhcmFtIGtleXNJbiAtIFRoZSBrZXlzIHRvIG1hcCwgY2FuIGJlIGFuIGFycmF5IG9yIGEgc2luZ2xlIGtleVxuICAgICAqIEBwYXJhbSBhc3NldHNJbiAtIFRoZSBhc3NldHMgdG8gYXNzb2NpYXRlIHdpdGggdGhlIGtleShzKVxuICAgICAqIEBwYXJhbSBkYXRhIC0gVGhlIGRhdGEgdGhhdCB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBvYmplY3QgdGhhdCByZXNvbHZlZCBvYmplY3QuXG4gICAgICovXG4gICAgUmVzb2x2ZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXlzSW4sIGFzc2V0c0luLCBkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBrZXlzID0gY29udmVydFRvTGlzdChrZXlzSW4pO1xuICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9hc3NldE1hcFtrZXldKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1Jlc29sdmVyXSBhbHJlYWR5IGhhcyBrZXk6IFwiICsga2V5ICsgXCIgb3ZlcndyaXRpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXNzZXRzSW4pKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFzc2V0c0luID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGFzc2V0c0luID0gY3JlYXRlU3RyaW5nVmFyaWF0aW9ucyhhc3NldHNJbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NldHNJbiA9IFthc3NldHNJbl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFzc2V0TWFwID0gYXNzZXRzSW4ubWFwKGZ1bmN0aW9uIChhc3NldCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIGZvcm1hdHRlZEFzc2V0ID0gYXNzZXQ7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBpcyBhIHN0cmluZ1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhc3NldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCBzZWUgaWYgaXQgY29udGFpbnMgYW55IHt9IHRhZ3MuLi5cbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5fcGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gX3RoaXMuX3BhcnNlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZXIudGVzdChhc3NldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEFzc2V0ID0gcGFyc2VyLnBhcnNlKGFzc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRBc3NldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogYXNzZXQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFmb3JtYXR0ZWRBc3NldC5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRBc3NldC5mb3JtYXQgPSBmb3JtYXR0ZWRBc3NldC5zcmMuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZm9ybWF0dGVkQXNzZXQuYWxpYXMpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRBc3NldC5hbGlhcyA9IGtleXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2Jhc2VQYXRoIHx8IF90aGlzLl9yb290UGF0aCkge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZEFzc2V0LnNyYyA9IHBhdGgudG9BYnNvbHV0ZShmb3JtYXR0ZWRBc3NldC5zcmMsIF90aGlzLl9iYXNlUGF0aCwgX3RoaXMuX3Jvb3RQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm1hdHRlZEFzc2V0LmRhdGEgPSAoX2EgPSBmb3JtYXR0ZWRBc3NldC5kYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkYXRhO1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZEFzc2V0O1xuICAgICAgICB9KTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIF90aGlzLl9hc3NldE1hcFtrZXldID0gYXNzZXRNYXA7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHJlc29sdmVyIGhhcyBoYWQgYSBtYW5pZmVzdCBzZXQgdmlhIHNldE1hbmlmZXN0LCB0aGlzIHdpbGwgcmV0dXJuIHRoZSBhc3NldHMgdXJscyBmb3JcbiAgICAgKiBhIGdpdmVuIGJ1bmRsZUlkIG9yIGJ1bmRsZUlkcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIG1hbmlmZXN0IGV4YW1wbGVcbiAgICAgKiBjb25zdCBtYW5pZmVzdCA9IHtcbiAgICAgKiAgIGJ1bmRsZXM6W3tcbiAgICAgKiAgICAgIG5hbWU6J2xvYWQtc2NyZWVuJyxcbiAgICAgKiAgICAgIGFzc2V0czpbXG4gICAgICogICAgICAgICAge1xuICAgICAqICAgICAgICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kJyxcbiAgICAgKiAgICAgICAgICAgICBzcmNzOiAnc3Vuc2V0LnBuZycsXG4gICAgICogICAgICAgICAgfSxcbiAgICAgKiAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgbmFtZTogJ2JhcicsXG4gICAgICogICAgICAgICAgICAgc3JjczogJ2xvYWQtYmFyLntwbmcsd2VicH0nLFxuICAgICAqICAgICAgICAgIH1cbiAgICAgKiAgICAgIF1cbiAgICAgKiAgIH0sXG4gICAgICogICB7XG4gICAgICogICAgICBuYW1lOidnYW1lLXNjcmVlbicsXG4gICAgICogICAgICBhc3NldHM6W1xuICAgICAqICAgICAgICAgIHtcbiAgICAgKiAgICAgICAgICAgICBuYW1lOiAnY2hhcmFjdGVyJyxcbiAgICAgKiAgICAgICAgICAgICBzcmNzOiAncm9ib3QucG5nJyxcbiAgICAgKiAgICAgICAgICB9LFxuICAgICAqICAgICAgICAgIHtcbiAgICAgKiAgICAgICAgICAgICBuYW1lOiAnZW5lbXknLFxuICAgICAqICAgICAgICAgICAgIHNyY3M6ICdiYWQtZ3V5LnBuZycsXG4gICAgICogICAgICAgICAgfVxuICAgICAqICAgICAgXVxuICAgICAqICAgfV1cbiAgICAgKiB9fVxuICAgICAqIHJlc29sdmVyLnNldE1hbmlmZXN0KG1hbmlmZXN0KTtcbiAgICAgKiBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVyLnJlc29sdmVCdW5kbGUoJ2xvYWQtc2NyZWVuJyk7XG4gICAgICogQHBhcmFtIGJ1bmRsZUlkcyAtIFRoZSBidW5kbGUgaWRzIHRvIHJlc29sdmVcbiAgICAgKiBAcmV0dXJucyBBbGwgdGhlIGJ1bmRsZXMgYXNzZXRzIG9yIGEgaGFzaCBvZiBhc3NldHMgZm9yIGVhY2ggYnVuZGxlIHNwZWNpZmllZFxuICAgICAqL1xuICAgIFJlc29sdmVyLnByb3RvdHlwZS5yZXNvbHZlQnVuZGxlID0gZnVuY3Rpb24gKGJ1bmRsZUlkcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2luZ2xlQXNzZXQgPSBpc1NpbmdsZUl0ZW0oYnVuZGxlSWRzKTtcbiAgICAgICAgYnVuZGxlSWRzID0gY29udmVydFRvTGlzdChidW5kbGVJZHMpO1xuICAgICAgICB2YXIgb3V0ID0ge307XG4gICAgICAgIGJ1bmRsZUlkcy5mb3JFYWNoKGZ1bmN0aW9uIChidW5kbGVJZCkge1xuICAgICAgICAgICAgdmFyIGFzc2V0TmFtZXMgPSBfdGhpcy5fYnVuZGxlc1tidW5kbGVJZF07XG4gICAgICAgICAgICBpZiAoYXNzZXROYW1lcykge1xuICAgICAgICAgICAgICAgIG91dFtidW5kbGVJZF0gPSBfdGhpcy5yZXNvbHZlKGFzc2V0TmFtZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNpbmdsZUFzc2V0ID8gb3V0W2J1bmRsZUlkc1swXV0gOiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEb2VzIGV4YWN0bHkgd2hhdCByZXNvbHZlIGRvZXMsIGJ1dCByZXR1cm5zIGp1c3QgdGhlIFVSTCByYXRoZXIgdGhhbiB0aGUgd2hvbGUgYXNzZXQgb2JqZWN0XG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBrZXkgb3Iga2V5cyB0byByZXNvbHZlXG4gICAgICogQHJldHVybnMgLSBUaGUgVVJMcyBhc3NvY2lhdGVkIHdpdGggdGhlIGtleShzKVxuICAgICAqL1xuICAgIFJlc29sdmVyLnByb3RvdHlwZS5yZXNvbHZlVXJsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5yZXNvbHZlKGtleSk7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSByZXN1bHRbaV0uc3JjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LnNyYztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGVhY2gga2V5IGluIHRoZSBsaXN0IHRvIGFuIGFzc2V0IG9iamVjdC5cbiAgICAgKiBBbm90aGVyIGtleSBmdW5jdGlvbiBvZiB0aGUgcmVzb2x2ZXIhIEFmdGVyIGFkZGluZyBhbGwgdGhlIHZhcmlvdXMga2V5L2Fzc2V0IHBhaXJzLiB0aGlzIHdpbGwgcnVuIHRoZSBsb2dpY1xuICAgICAqIG9mIGZpbmRpbmcgd2hpY2ggYXNzZXQgdG8gcmV0dXJuIGJhc2VkIG9uIGFueSBwcmVmZXJlbmNlcyBzZXQgdXNpbmcgdGhlIGBwcmVmZXJgIGZ1bmN0aW9uXG4gICAgICogYnkgZGVmYXVsdCB0aGUgc2FtZSBrZXkgcGFzc2VkIGluIHdpbGwgYmUgcmV0dXJuZWQgaWYgbm90aGluZyBpcyBtYXRjaGVkIGJ5IHRoZSByZXNvbHZlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHJlc29sdmVyLmFkZCgnYm9vJywgJ2J1bm55LnBuZycpO1xuICAgICAqXG4gICAgICogcmVzb2x2ZXIucmVzb2x2ZSgnYm9vJykgLy8gPT4ge3NyYzonYnVubnkucG5nJ31cbiAgICAgKlxuICAgICAqIC8vIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHN0cmluZyBhcyBubyBrZXkgd2FzIGFkZGVkIGZvciB0aGlzIHZhbHVlLi5cbiAgICAgKiByZXNvbHZlci5yZXNvbHZlKCdhbm90aGVyLXRoaW5nLnBuZycpIC8vID0+IHtzcmM6J2Fub3RoZXItdGhpbmcucG5nJ31cbiAgICAgKiBAcGFyYW0ga2V5cyAtIGtleSBvciBrZXlzIHRvIHJlc29sdmVcbiAgICAgKiBAcmV0dXJucyAtIHRoZSByZXNvbHZlIGFzc2V0IG9yIGEgaGFzaCBvZiByZXNvbHZlIGFzc2V0cyBmb3IgZWFjaCBrZXkgc3BlY2lmaWVkXG4gICAgICovXG4gICAgUmVzb2x2ZXIucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2luZ2xlQXNzZXQgPSBpc1NpbmdsZUl0ZW0oa2V5cyk7XG4gICAgICAgIGtleXMgPSBjb252ZXJ0VG9MaXN0KGtleXMpO1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNvbHZlckhhc2hba2V5XSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fYXNzZXRNYXBba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXRzXzEgPSBfdGhpcy5fYXNzZXRNYXBba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZWZlcnJlZE9yZGVyXzEgPSBfdGhpcy5fZ2V0UHJlZmVycmVkT3JkZXIoYXNzZXRzXzEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdEFzc2V0ID0gYXNzZXRzXzFbMF07XG4gICAgICAgICAgICAgICAgICAgIHByZWZlcnJlZE9yZGVyXzEgPT09IG51bGwgfHwgcHJlZmVycmVkT3JkZXJfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJlZmVycmVkT3JkZXJfMS5wcmlvcml0eS5mb3JFYWNoKGZ1bmN0aW9uIChwcmlvcml0eUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmVycmVkT3JkZXJfMS5wYXJhbXNbcHJpb3JpdHlLZXldLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkQXNzZXRzID0gYXNzZXRzXzEuZmlsdGVyKGZ1bmN0aW9uIChhc3NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXRbcHJpb3JpdHlLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXNzZXRbcHJpb3JpdHlLZXldID09PSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkQXNzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldHNfMSA9IGZpbHRlcmVkQXNzZXRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmVySGFzaFtrZXldID0gKChfYSA9IGFzc2V0c18xWzBdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBiZXN0QXNzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IGtleTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9iYXNlUGF0aCB8fCBfdGhpcy5fcm9vdFBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IHBhdGgudG9BYnNvbHV0ZShzcmMsIF90aGlzLl9iYXNlUGF0aCwgX3RoaXMuX3Jvb3RQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcmVzb2x2ZXIgZmFpbHMgd2UganVzdCBwYXNzIGJhY2sgdGhlIGtleSBhc3N1bWluZyBpdHMgYSB1cmxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmVySGFzaFtrZXldID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBzcmMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBfdGhpcy5fcmVzb2x2ZXJIYXNoW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2luZ2xlQXNzZXQgPyByZXN1bHRba2V5c1swXV0gOiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBmdW5jdGlvbiBmb3IgZmlndXJpbmcgb3V0IHdoYXQgcHJlZmVyIGNyaXRlcmlhIGFuIGFzc2V0IHNob3VsZCB1c2UuXG4gICAgICogQHBhcmFtIGFzc2V0c1xuICAgICAqL1xuICAgIFJlc29sdmVyLnByb3RvdHlwZS5fZ2V0UHJlZmVycmVkT3JkZXIgPSBmdW5jdGlvbiAoYXNzZXRzKSB7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBhc3NldCA9IGFzc2V0c1swXTtcbiAgICAgICAgICAgIHZhciBwcmVmZXJyZWQgPSB0aGlzXzEuX3ByZWZlcnJlZE9yZGVyLmZpbmQoZnVuY3Rpb24gKHByZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlZmVyZW5jZS5wYXJhbXMuZm9ybWF0LmluY2x1ZGVzKGFzc2V0LmZvcm1hdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwcmVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcHJlZmVycmVkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8xKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlXzEgPT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgeyByZXR1cm4gc3RhdGVfMS52YWx1ZTsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVmZXJyZWRPcmRlclswXTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNvbHZlcjtcbn0oKSk7XG5cbi8qKlxuICogQSBvbmUgc3RvcCBzaG9wIGZvciBhbGwgUGl4aSByZXNvdXJjZSBtYW5hZ2VtZW50IVxuICogU3VwZXIgbW9kZXJuIGFuZCBlYXN5IHRvIHVzZSwgd2l0aCBlbm91Z2ggZmxleGliaWxpdHkgdG8gY3VzdG9taXplIGFuZCBkbyB3aGF0IHlvdSBuZWVkIVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lc3BhY2UgQXNzZXRzXG4gKlxuICogT25seSBvbmUgQXNzZXQgQ2xhc3MgZXhpc3RzIGFjY2Vzc2VkIHZpYSB0aGUgR2xvYmFsIEFzc2V0IG9iamVjdC5cbiAqXG4gKiBJdCBoYXMgZm91ciBtYWluIHJlc3BvbnNpYmlsaXRpZXM6XG4gKiAxLiBBbGxvd3MgdXNlcnMgdG8gbWFwIFVSTHMgdG8ga2V5cyBhbmQgcmVzb2x2ZSB0aGVtIGFjY29yZGluZyB0byB0aGUgdXNlcidzIGJyb3dzZXIgY2FwYWJpbGl0aWVzLlxuICogMi4gTG9hZHMgdGhlIHJlc291cmNlcyBhbmQgdHJhbnNmb3JtcyB0aGVtIGludG8gYXNzZXRzIHRoYXQgZGV2ZWxvcGVycyB1bmRlcnN0YW5kLlxuICogMy4gQ2FjaGVzIHRoZSBhc3NldHMgYW5kIHByb3ZpZGVzIGEgd2F5IHRvIGFjY2VzcyB0aGVtLlxuICogNC4gQWxsb3cgZGV2ZWxvcGVycyB0byB1bmxvYWQgYXNzZXRzIGFuZCBjbGVhciB0aGUgY2FjaGUuXG4gKlxuICogSXQgYWxzbyBoYXMgYSBmZXcgYWR2YW5jZWQgZmVhdHVyZXM6XG4gKiAxLiBBbGxvd3MgZGV2ZWxvcGVycyB0byBwcm92aWRlIGEgbWFuaWZlc3QgdXBmcm9udCBvZiBhbGwgYXNzZXRzIGFuZCBoZWxwIG1hbmFnZSB0aGVtIHZpYSAnYnVuZGxlcycuXG4gKiAyLiBBbGxvd3MgdXNlcnMgdG8gYmFja2dyb3VuZCBsb2FkIGFzc2V0cy4gU2hvcnRlbmluZyAob3IgZWxpbWluYXRpbmcpIGxvYWQgdGltZXMgYW5kIGltcHJvdmluZyBVWC4gV2l0aCB0aGlzIGZlYXR1cmUsXG4gKiBpbi1nYW1lIGxvYWRpbmcgYmFycyBjYW4gYmUgYSB0aGluZyBvZiB0aGUgcGFzdCFcbiAqXG4gKlxuICogIyMjIFNldHVwXG4gKlxuICogQXMgZm9yIFBpeGlKUyB2Ni54LCBgQHBpeGkvYXNzZXRzYCBpcyBhbiBvcHQtaW4gcGFja2FnZSwgc28geW91IG5lZWQgdG8gaW1wb3J0IGl0IGZpcnN0LlxuICpcbiAqICMjIyMgTlBNIEluc3RhbGxcbiAqXG4gKiBgYGBzaFxuICogbnBtIGluc3RhbGwgQHBpeGkvYXNzZXRzQHY2LnhcbiAqIGBgYFxuICpcbiAqIFRoZXJlIGlzIG5vIGRlZmF1bHQgZXhwb3J0LiBUaGUgY29ycmVjdCB3YXkgdG8gaW1wb3J0IEFzc2V0cyBpczpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSAnQHBpeGkvYXNzZXRzJztcbiAqIGBgYFxuICpcbiAqICMjIyMgQ0ROIEluc3RhbGxcbiAqXG4gKiBWaWEganNEZWxpdnI6XG4gKlxuICogYGBgaHRtbFxuICogPHNjcmlwdCBzcmM9XCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BwaXhpL2Fzc2V0c0A2LngvZGlzdC9icm93c2VyL2Fzc2V0cy5taW4uanNcIj48L3NjcmlwdD5cbiAqIGBgYFxuICpcbiAqIE9yIHZpYSB1bnBrZzpcbiAqXG4gKiBgYGBodG1sXG4gKiA8c2NyaXB0IHNyYz1cImh0dHBzOi8vdW5wa2cuY29tL0BwaXhpL2Fzc2V0c0A2LngvZGlzdC9icm93c2VyL2Fzc2V0cy5taW4uanNcIj48L3NjcmlwdD5cbiAqIGBgYFxuICpcbiAqIF9Ob3RlOiBUaGUgdmVyc2lvbiBvZiBgQHBpeGkvYXNzZXRzYCBzaG91bGQgYmUgdGhlIHNhbWUgYXMgdGhlIHZlcnNpb24gb2YgYHBpeGkuanNgIHlvdSBhcmUgdXNpbmcuX1xuICpcbiAqICMjIyBBc3NldHMgTG9hZGluZ1xuICpcbiAqIERvIG5vdCBiZSBhZnJhaWQgdG8gbG9hZCB0aGluZ3MgbXVsdGlwbGUgdGltZXMgLSB1bmRlciB0aGUgaG9vZCwgaXQgd2lsbCBORVZFUiBsb2FkIGFueXRoaW5nIG1vcmUgdGhhbiBvbmNlLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYFxuICogcHJvbWlzZTEgPSBQSVhJLkFzc2V0cy5sb2FkKCdidW5ueS5wbmcnKVxuICogcHJvbWlzZTIgPSBQSVhJLkFzc2V0cy5sb2FkKCdidW5ueS5wbmcnKVxuICpcbiAqIC8vIHByb21pc2UxID09PSBwcm9taXNlMlxuICogYGBgXG4gKlxuICogSGVyZSBib3RoIHByb21pc2VzIHdpbGwgYmUgdGhlIHNhbWUuIE9uY2UgcmVzb2x2ZWQuLi4gRm9yZXZlciByZXNvbHZlZCEgSXQgbWFrZXMgZm9yIHJlYWxseSBlYXN5IHJlc291cmNlIG1hbmFnZW1lbnQhXG4gKlxuICogT3V0IG9mIHRoZSBib3ggaXQgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBmaWxlczpcbiAqICogdGV4dHVyZXMgKGF2aWYsIHdlYnAsIHBuZywganBnLCBnaWYpXG4gKiAqIHNwcml0ZSBzaGVldHMgKGpzb24pXG4gKiAqIGJpdG1hcCBmb250cyAoeG1sLCBmbnQsIHR4dClcbiAqICogd2ViIGZvbnRzICh0dGYsIHdvZmYsIHdvZmYyKVxuICogKiBqc29uIGZpbGVzIChqc29uKVxuICogKiB0ZXh0IGZpbGVzICh0eHQpXG4gKlxuICogTW9yZSB0eXBlcyBjYW4gYmUgYWRkZWQgZmFpcmx5IGVhc2lseSBieSBjcmVhdGluZyBhZGRpdGlvbmFsIGxvYWRlciBwYXJzZXJzLlxuICpcbiAqICMjIyBUZXh0dXJlc1xuICogLSBUZXh0dXJlcyBhcmUgbG9hZGVkIGFzIEltYWdlQml0bWFwIG9uIGEgd29ya2VyIHRocmVhZCB3aGVyZSBwb3NzaWJsZS5cbiAqIExlYWRpbmcgdG8gbXVjaCBsZXNzIGphbmt5IGxvYWQgKyBwYXJzZSB0aW1lcy5cbiAqIC0gQnkgZGVmYXVsdCwgd2Ugd2lsbCBwcmVmZXIgdG8gbG9hZCBBVklGIGFuZCBXZWJQIGltYWdlIGZpbGVzIGlmIHlvdSBzcGVjaWZ5IHRoZW0uXG4gKiBCdXQgaWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IEFWSUYgb3IgV2ViUCB3ZSB3aWxsIGZhbGwgYmFjayB0byBwbmcgYW5kIGpwZy5cbiAqIC0gVGV4dHVyZXMgY2FuIGFsc28gYmUgYWNjZXNzZWQgdmlhIFRleHR1cmUuZnJvbSguLi4pIGFuZCBub3cgdXNlIHRoaXMgYXNzZXQgbWFuYWdlciB1bmRlciB0aGUgaG9vZCFcbiAqIC0gRG9uJ3Qgd29ycnkgaWYgeW91IHNldCBwcmVmZXJlbmNlcyBmb3IgdGV4dHVyZXMgdGhhdCBkb24ndCBleGlzdCAoZm9yIGV4YW1wbGUgeW91IHByZWZlciAyeCByZXNvbHV0aW9ucyBpbWFnZXNcbiAqICBidXQgb25seSAxeCBpcyBhdmFpbGFibGUgZm9yIHRoYXQgdGV4dHVyZSwgdGhlIEFzc2V0IG1hbmFnZXIgd2lsbCBwaWNrIHRoYXQgdXAgYXMgYSBmYWxsYmFjayBhdXRvbWF0aWNhbGx5KVxuICogIyMjIyBTcHJpdGUgc2hlZXRzXG4gKiAtIGl0J3MgaGFyZCB0byBrbm93IHdoYXQgcmVzb2x1dGlvbiBhIHNwcml0ZSBzaGVldCBpcyB3aXRob3V0IGxvYWRpbmcgaXQgZmlyc3QsIHRvIGFkZHJlc3MgdGhpc1xuICogdGhlcmUgaXMgYSBuYW1pbmcgY29udmVudGlvbiB3ZSBoYXZlIGFkZGVkIHRoYXQgd2lsbCBsZXQgUGl4aSB1bmRlcnN0YW5kIHRoZSBpbWFnZSBmb3JtYXQgYW5kIHJlc29sdXRpb25cbiAqIG9mIHRoZSBzcHJpdGVzaGVldCB2aWEgaXRzIGZpbGUgbmFtZTpcbiAqXG4gKiBgbXktc3ByaXRlc2hlZXR7cmVzb2x1dGlvbn0ue2ltYWdlRm9ybWF0fS5qc29uYFxuICpcbiAqIGZvciBleGFtcGxlOlxuICpcbiAqIGBteS1zcHJpdGVzaGVldEAyeC53ZWJwLmpzb25gIC8vIDJ4IHJlc29sdXRpb24sIFdlYlAgc3ByaXRlIHNoZWV0XG4gKiBgbXktc3ByaXRlc2hlZXRAMC41eC5wbmcuanNvbmAgLy8gMC41eCByZXNvbHV0aW9uLCBwbmcgc3ByaXRlIHNoZWV0XG4gKlxuICogVGhpcyBpcyBvcHRpb25hbCEgeW91IGNhbiBqdXN0IGxvYWQgYSBzcHJpdGUgc2hlZXQgYXMgbm9ybWFsLFxuICogVGhpcyBpcyBvbmx5IHVzZWZ1bCBpZiB5b3UgaGF2ZSBhIGJ1bmNoIG9mIGRpZmZlcmVudCByZXMgLyBmb3JtYXR0ZWQgc3ByaXRlc2hlZXRzXG4gKlxuICogIyMjIEZvbnRzXG4gKiAqIFdlYiBmb250cyB3aWxsIGJlIGxvYWRlZCB3aXRoIGFsbCB3ZWlnaHRzLlxuICogaXQgaXMgcG9zc2libGUgdG8gbG9hZCBvbmx5IHNwZWNpZmljIHdlaWdodHMgYnkgZG9pbmcgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiBgYGBcbiAqIC8vIGxvYWQgc3BlY2lmaWMgd2VpZ2h0cy4uXG4gKiBhd2FpdCBQSVhJLkFzc2V0cy5sb2FkKHtcbiAqICAgIGRhdGE6IHtcbiAqICAgICAgd2VpZ2h0czogWydub3JtYWwnXSwgLy8gb25seSBsb2FkcyB0aGUgd2VpZ2h0XG4gKiAgICB9LFxuICogICAgc3JjOiBgb3V0Zml0LndvZmYyYCxcbiAqIH0pO1xuICpcbiAqIC8vIGxvYWQgZXZlcnl0aGluZy4uLlxuICogYXdhaXQgUElYSS5Bc3NldHMubG9hZChgb3V0Zml0LndvZmYyYCk7XG4gKiBgYGBcbiAqICMjIyBCYWNrZ3JvdW5kIExvYWRpbmdcbiAqIEJhY2tncm91bmQgbG9hZGluZyB3aWxsIGxvYWQgc3R1ZmYgZm9yIHlvdSBwYXNzaXZlbHkgYmVoaW5kIHRoZSBzY2VuZXMuIFRvIG1pbmltaXplIGphbmssXG4gKiBpdCB3aWxsIG9ubHkgbG9hZCBvbmUgYXNzZXQgYXQgYSB0aW1lLiBBcyBzb29uIGFzIGEgZGV2ZWxvcGVyIGNhbGxzIGBQSVhJLkFzc2V0cy5sb2FkKC4uLilgIHRoZVxuICogYmFja2dyb3VuZCBsb2FkZXIgaXMgcGF1c2VkIGFuZCByZXF1ZXN0ZWQgYXNzZXRzIGFyZSBsb2FkZWQgYXMgYSBwcmlvcml0eS5cbiAqIERvbid0IHdvcnJ5IGlmIHNvbWV0aGluZyBpcyBpbiB0aGVyZSB0aGF0J3MgYWxyZWFkeSBsb2FkZWQsIGl0IHdpbGwganVzdCBnZXQgc2tpcHBlZCFcbiAqXG4gKiBZb3Ugc3RpbGwgbmVlZCB0byBjYWxsIGBQSVhJLkFzc2V0cy5sb2FkKC4uLilgIHRvIGdldCBhbiBhc3NldCB0aGF0IGhhcyBiZWVuIGxvYWRlZCBpbiB0aGUgYmFja2dyb3VuZC5cbiAqIEl0J3MganVzdCB0aGF0IHRoaXMgcHJvbWlzZSB3aWxsIHJlc29sdmUgaW5zdGFudGx5IGlmIHRoZSBhc3NldFxuICogaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuXG4gKlxuICogIyMjIE1hbmlmZXN0IGFuZCBCdW5kbGVzXG4gKiAtIE1hbmlmZXN0IGlzIGEgSlNPTiBmaWxlIHRoYXQgY29udGFpbnMgYSBsaXN0IG9mIGFsbCBhc3NldHMgYW5kIHRoZWlyIHByb3BlcnRpZXMuXG4gKiAtIEJ1bmRsZXMgYXJlIGEgd2F5IHRvIGdyb3VwIGFzc2V0cyB0b2dldGhlci5cbiAqXG4gKiBgYGBcbiAqIC8vIG1hbmlmZXN0IGV4YW1wbGVcbiAqIGNvbnN0IG1hbmlmZXN0ID0ge1xuICogICBidW5kbGVzOlt7XG4gKiAgICAgIG5hbWU6J2xvYWQtc2NyZWVuJyxcbiAqICAgICAgYXNzZXRzOltcbiAqICAgICAgICAgIHtcbiAqICAgICAgICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kJyxcbiAqICAgICAgICAgICAgIHNyY3M6ICdzdW5zZXQucG5nJyxcbiAqICAgICAgICAgIH0sXG4gKiAgICAgICAgICB7XG4gKiAgICAgICAgICAgICBuYW1lOiAnYmFyJyxcbiAqICAgICAgICAgICAgIHNyY3M6ICdsb2FkLWJhci57cG5nLHdlYnB9JyxcbiAqICAgICAgICAgIH1cbiAqICAgICAgXVxuICogICB9LFxuICogICB7XG4gKiAgICAgIG5hbWU6J2dhbWUtc2NyZWVuJyxcbiAqICAgICAgYXNzZXRzOltcbiAqICAgICAgICAgIHtcbiAqICAgICAgICAgICAgIG5hbWU6ICdjaGFyYWN0ZXInLFxuICogICAgICAgICAgICAgc3JjczogJ3JvYm90LnBuZycsXG4gKiAgICAgICAgICB9LFxuICogICAgICAgICAge1xuICogICAgICAgICAgICAgbmFtZTogJ2VuZW15JyxcbiAqICAgICAgICAgICAgIHNyY3M6ICdiYWQtZ3V5LnBuZycsXG4gKiAgICAgICAgICB9XG4gKiAgICAgIF1cbiAqICAgfV1cbiAqIH19XG4gKlxuICogYXdhaXQgUElYSS5Bc3NldC5pbml0KHtcbiAqICBtYW5pZmVzdFxuICogfSk7XG4gKlxuICogLy8gbG9hZCBhIGJ1bmRsZS4uXG4gKiBsb2FkU2NyZWVuQXNzZXRzID0gYXdhaXQgUElYSS5Bc3NldHMubG9hZEJ1bmRsZSgnbG9hZC1zY3JlZW4nKTtcbiAqIC8vIGxvYWQgYW5vdGhlci4uXG4gKiBnYW1lU2NyZWVuQXNzZXRzID0gYXdhaXQgUElYSS5Bc3NldHMubG9hZEJ1bmRsZSgnZ2FtZS1zY3JlZW4nKTtcbiAqIGBgYFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGJ1bm55ID0gYXdhaXQgUElYSS5Bc3NldHMubG9hZCgnYnVubnkucG5nJyk7XG4gKi9cbnZhciBBc3NldHNDbGFzcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3NldHNDbGFzcygpIHtcbiAgICAgICAgdGhpcy5fZGV0ZWN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlc29sdmVyID0gbmV3IFJlc29sdmVyKCk7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAgICB0aGlzLmNhY2hlID0gQ2FjaGU7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIgPSBuZXcgQmFja2dyb3VuZExvYWRlcih0aGlzLmxvYWRlcik7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZXN0IHByYWN0aWNlIGlzIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiBiZWZvcmUgYW55IGxvYWRpbmcgY29tbWVuY2VzXG4gICAgICogSW5pdGlhdGluZyBpcyB0aGUgYmVzdCB0aW1lIHRvIGFkZCBhbnkgY3VzdG9taXphdGlvbiB0byB0aGUgd2F5IHRoaW5ncyBhcmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogeW91IGRvIG5vdCBuZWVkIHRvIGNhbGwgdGhpcyBmb3IgdGhlIEFzc2V0IGNsYXNzIHRvIHdvcmssIG9ubHkgaWYgeW91IHdhbnQgdG8gc2V0IGFueSBpbml0aWFsIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9wdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgQXNzZXQgbWFuYWdlciB3aXRoXG4gICAgICovXG4gICAgQXNzZXRzQ2xhc3MucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWFuaWZlc3QsIHJlc29sdXRpb25QcmVmLCByZXNvbHV0aW9uLCBmb3JtYXRzLCBmb3JtYXRQcmVmLCBfaSwgX2UsIGRldGVjdGlvbiwgX2YsIF9nLCBkZXRlY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9oKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfaC5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tBc3NldHNdQXNzZXRNYW5hZ2VyIGFscmVhZHkgaW5pdGlhbGl6ZWQsIGRpZCB5b3UgbG9hZCBiZWZvcmUgY2FsbGluZyB0aGlzIEFzc2V0LmluaXQoKT8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5iYXNlUGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZXIuYmFzZVBhdGggPSBvcHRpb25zLmJhc2VQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLm1hbmlmZXN0KSB7IHJldHVybiBbMyAvKmJyZWFrKi8sIDNdOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5pZmVzdCA9IG9wdGlvbnMubWFuaWZlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgbWFuaWZlc3QgPT09ICdzdHJpbmcnKSkgeyByZXR1cm4gWzMgLypicmVhayovLCAyXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5sb2FkKG1hbmlmZXN0KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hbmlmZXN0ID0gKF9oLnNlbnQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaC5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZXIuYWRkTWFuaWZlc3QobWFuaWZlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2gubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uUHJlZiA9IChfYiA9IChfYSA9IG9wdGlvbnMudGV4dHVyZVByZWZlcmVuY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXNvbHV0aW9uKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbiA9ICh0eXBlb2YgcmVzb2x1dGlvblByZWYgPT09ICdudW1iZXInKSA/IFtyZXNvbHV0aW9uUHJlZl0gOiByZXNvbHV0aW9uUHJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKChfYyA9IG9wdGlvbnMudGV4dHVyZVByZWZlcmVuY2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5mb3JtYXQpKSB7IHJldHVybiBbMyAvKmJyZWFrKi8sIDldOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRQcmVmID0gKF9kID0gb3B0aW9ucy50ZXh0dXJlUHJlZmVyZW5jZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHMgPSAodHlwZW9mIGZvcm1hdFByZWYgPT09ICdzdHJpbmcnKSA/IFtmb3JtYXRQcmVmXSA6IGZvcm1hdFByZWY7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaSA9IDAsIF9lID0gdGhpcy5fZGV0ZWN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBfZS5sZW5ndGgpKSB7IHJldHVybiBbMyAvKmJyZWFrKi8sIDhdOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRlY3Rpb24gPSBfZVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkZXRlY3Rpb24udGVzdCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhKF9oLnNlbnQoKSkpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgN107IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRldGVjdGlvbi5yZW1vdmUoZm9ybWF0cyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRzID0gX2guc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2gubGFiZWwgPSA3O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBfaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszIC8qYnJlYWsqLywgMTRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRzID0gWydwbmcnLCAnanBnJywgJ2pwZWcnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mID0gMCwgX2cgPSB0aGlzLl9kZXRlY3Rpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2gubGFiZWwgPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9mIDwgX2cubGVuZ3RoKSkgeyByZXR1cm4gWzMgLypicmVhayovLCAxNF07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGVjdGlvbiA9IF9nW19mXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRldGVjdGlvbi50ZXN0KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaC5zZW50KCkpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgMTNdOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkZXRlY3Rpb24uYWRkKGZvcm1hdHMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHMgPSBfaC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaC5sYWJlbCA9IDEzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2YrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZXIucHJlZmVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgeW91IHRvIHNwZWNpZnkgaG93IHRvIHJlc29sdmUgYW55IGFzc2V0cyBsb2FkIHJlcXVlc3RzLlxuICAgICAqIFRoZXJlIGFyZSBhIGZldyB3YXlzIHRvIGFkZCB0aGluZ3MgaGVyZSBhcyBzaG93biBiZWxvdzpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHNpbXBsZVxuICAgICAqIFBJWEkuQXNzZXRzLmFkZCgnYnVubnlCb29Cb28nLCAnYnVubnkucG5nJyk7XG4gICAgICogY29uc3QgYnVubnkgPSBhd2FpdCBQSVhJLkFzc2V0cy5sb2FkKCdidW5ueUJvb0JvbycpO1xuICAgICAqXG4gICAgICogLy8gbXVsdGlwbGUga2V5czpcbiAgICAgKiBQSVhJLkFzc2V0cy5hZGQoWydidXJnZXInLCAnY2hpY2tlbiddLCAnYnVubnkucG5nJyk7XG4gICAgICpcbiAgICAgKiBjb25zdCBidW5ueSA9IGF3YWl0IFBJWEkuQXNzZXRzLmxvYWQoJ2J1cmdlcicpO1xuICAgICAqIGNvbnN0IGJ1bm55MiA9IGF3YWl0IFBJWEkuQXNzZXRzLmxvYWQoJ2NoaWNrZW4nKTtcbiAgICAgKlxuICAgICAqIC8vIHBhc3Npbmcgb3B0aW9ucyB0byB0byB0aGUgb2JqZWN0XG4gICAgICogUElYSS5Bc3NldHMuYWRkKFxuICAgICAqICAgICAnYnVubnlCb29Cb29TbW9vdGgnLFxuICAgICAqICAgICAnYnVubnl7cG5nLHdlYnB9JyxcbiAgICAgKiAgICAge3NjYWxlTW9kZTpTQ0FMRV9NT0RFUy5ORUFSRVNUfSAvLyBiYXNlIHRleHR1cmUgb3B0aW9uc1xuICAgICAqICk7XG4gICAgICpcbiAgICAgKiAvLyBtdWx0aXBsZSBhc3NldHMsXG4gICAgICpcbiAgICAgKiAvLyB0aGUgZm9sbG93aW5nIGFsbCBkbyB0aGUgc2FtZSB0aGluZzpcbiAgICAgKlxuICAgICAqIFBJWEkuQXNzZXRzLmFkZCgnYnVubnlCb29Cb28nLCAnYnVubnl7cG5nLHdlYnB9Jyk7XG4gICAgICpcbiAgICAgKiBQSVhJLkFzc2V0cy5hZGQoJ2J1bm55Qm9vQm9vJywgW1xuICAgICAqICdidW5ueS5wbmcnLFxuICAgICAqICdidW5ueS53ZWJwJ1xuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogUElYSS5Bc3NldHMuYWRkKCdidW5ueUJvb0JvbycsIFtcbiAgICAgKiAgICB7XG4gICAgICogICAgICAgZm9ybWF0OidwbmcnLFxuICAgICAqICAgICAgIHNyYzonYnVubnkucG5nJyxcbiAgICAgKiAgICB9LFxuICAgICAqICAgIHtcbiAgICAgKiAgICAgICBmb3JtYXQ6J3dlYnAnLFxuICAgICAqICAgICAgIHNyYzonYnVubnkud2VicCcsXG4gICAgICogICAgfVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogY29uc3QgYnVubnkgPSBhd2FpdCBQSVhJLkFzc2V0cy5sb2FkKCdidW5ueUJvb0JvbycpOyAvLyB3aWxsIHRyeSB0byBsb2FkIFdlYlAgaWYgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIGtleXNJbiAtIHRoZSBrZXkgb3Iga2V5cyB0aGF0IHlvdSB3aWxsIHJlZmVyZW5jZSB3aGVuIGxvYWRpbmcgdGhpcyBhc3NldFxuICAgICAqIEBwYXJhbSBhc3NldHNJbiAtIHRoZSBhc3NldCBvciBhc3NldHMgdGhhdCB3aWxsIGJlIGNob3NlbiBmcm9tIHdoZW4gbG9hZGluZyB2aWEgdGhlIHNwZWNpZmllZCBrZXlcbiAgICAgKiBAcGFyYW0gZGF0YSAtIGFzc2V0LXNwZWNpZmljIGRhdGEgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgbG9hZGVyc1xuICAgICAqIC0gVXNlZnVsIGlmIHlvdSB3YW50IHRvIGluaXRpYXRlIGxvYWRlZCBvYmplY3RzIHdpdGggc3BlY2lmaWMgZGF0YVxuICAgICAqL1xuICAgIEFzc2V0c0NsYXNzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5c0luLCBhc3NldHNJbiwgZGF0YSkge1xuICAgICAgICB0aGlzLnJlc29sdmVyLmFkZChrZXlzSW4sIGFzc2V0c0luLCBkYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWRzIHlvdXIgYXNzZXRzISBZb3UgcGFzcyBpbiBhIGtleSBvciBVUkwgYW5kIGl0IHdpbGwgcmV0dXJuIGEgcHJvbWlzZSB0aGF0XG4gICAgICogcmVzb2x2ZXMgdG8gdGhlIGxvYWRlZCBhc3NldC4gSWYgbXVsdGlwbGUgYXNzZXRzIGEgcmVxdWVzdGVkLCBpdCB3aWxsIHJldHVybiBhIGhhc2ggb2YgYXNzZXRzLlxuICAgICAqXG4gICAgICogRG9uJ3Qgd29ycnkgYWJvdXQgbG9hZGluZyB0aGluZ3MgbXVsdGlwbGUgdGltZXMsIGJlaGluZCB0aGUgc2NlbmVzIGFzc2V0cyBhcmUgb25seSBldmVyIGxvYWRlZFxuICAgICAqIG9uY2UgYW5kIHRoZSBzYW1lIHByb21pc2UgcmV1c2VkIGJlaGluZCB0aGUgc2NlbmVzIHNvIHlvdSBjYW4gc2FmZWx5IGNhbGwgdGhpcyBmdW5jdGlvbiBtdWx0aXBsZVxuICAgICAqIHRpbWVzIHdpdGggdGhlIHNhbWUga2V5IGFuZCBpdCB3aWxsIGFsd2F5cyByZXR1cm4gdGhlIHNhbWUgYXNzZXQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBsb2FkIGEgVVJMOlxuICAgICAqIGNvbnN0IG15SW1hZ2VUZXh0dXJlID0gYXdhaXQgUElYSS5Bc3NldHMubG9hZCgnaHR0cDovL3NvbWUudXJsLmNvbS9pbWFnZS5wbmcnKTsgLy8gPT4gcmV0dXJucyBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIFBJWEkuQXNzZXRzLmFkZCgndGh1bXBlcicsICdidW5ueS5wbmcnKTtcbiAgICAgKiBQSVhJLkFzc2V0cy5hZGQoJ2NoaWNrbycsICdjaGlja2VuLnBuZycpO1xuICAgICAqXG4gICAgICogLy8gbG9hZCBtdWx0aXBsZSBhc3NldHM6XG4gICAgICogY29uc3QgdGV4dHVyZXMgPSBhd2FpdCBQSVhJLkFzc2V0cy5sb2FkKFsndGh1bXBlcicsICdjaGlja28nXSk7IC8vID0+IHt0aHVtcGVyOiBUZXh0dXJlLCBjaGlja286IFRleHR1cmV9XG4gICAgICogQHBhcmFtIHVybHMgLSB0aGUgdXJscyB0byBsb2FkXG4gICAgICogQHBhcmFtIG9uUHJvZ3Jlc3MgLSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHByb2dyZXNzIG9uIGFzc2V0IGxvYWRpbmcgaXMgbWFkZS5cbiAgICAgKiBUaGUgZnVuY3Rpb24gaXMgcGFzc2VkIGEgc2luZ2xlIHBhcmFtZXRlciwgYHByb2dyZXNzYCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgcGVyY2VudGFnZVxuICAgICAqICgwLjAgLSAxLjApIG9mIHRoZSBhc3NldHMgbG9hZGVkLlxuICAgICAqIEByZXR1cm5zIC0gdGhlIGFzc2V0cyB0aGF0IHdlcmUgbG9hZGVkLCBlaXRoZXIgYSBzaW5nbGUgYXNzZXQgb3IgYSBoYXNoIG9mIGFzc2V0c1xuICAgICAqL1xuICAgIEFzc2V0c0NsYXNzLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKHVybHMsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzaW5nbGVBc3NldCwgdXJsQXJyYXksIHJlc29sdmVSZXN1bHRzLCBvdXQ7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5faW5pdGlhbGl6ZWQpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5pdCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVBc3NldCA9IGlzU2luZ2xlSXRlbSh1cmxzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybEFycmF5ID0gY29udmVydFRvTGlzdCh1cmxzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNvbHZlci5hZGQodXJsLnNyYywgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybC5zcmM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVSZXN1bHRzID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlKHVybEFycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX21hcExvYWRUb1Jlc29sdmUocmVzb2x2ZVJlc3VsdHMsIG9uUHJvZ3Jlc3MpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHNpbmdsZUFzc2V0ID8gb3V0W3VybEFycmF5WzBdXSA6IG91dF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBhZGRzIGEgYnVuZGxlIG9mIGFzc2V0cyBpbiBvbmUgZ28gc28gdGhhdCB5b3UgY2FuIGxvYWQgdGhlbSBhcyBhIGdyb3VwLlxuICAgICAqIEZvciBleGFtcGxlIHlvdSBjb3VsZCBhZGQgYSBidW5kbGUgZm9yIGVhY2ggc2NyZWVuIGluIHlvdSBwaXhpIGFwcFxuICAgICAqIEBleGFtcGxlXG4gICAgICogIFBJWEkuQXNzZXRzLmFkZEJ1bmRsZSgnYW5pbWFscycsIHtcbiAgICAgKiAgICBidW5ueTogJ2J1bm55LnBuZycsXG4gICAgICogICAgY2hpY2tlbjogJ2NoaWNrZW4ucG5nJyxcbiAgICAgKiAgICB0aHVtcGVyOiAndGh1bXBlci5wbmcnLFxuICAgICAqICB9KTtcbiAgICAgKlxuICAgICAqIGNvbnN0IGFzc2V0cyA9IGF3YWl0IFBJWEkuQXNzZXRzLmxvYWRCdW5kbGUoJ2FuaW1hbHMnKTtcbiAgICAgKiBAcGFyYW0gYnVuZGxlSWQgLSB0aGUgaWQgb2YgdGhlIGJ1bmRsZSB0byBhZGRcbiAgICAgKiBAcGFyYW0gYXNzZXRzIC0gYSByZWNvcmQgb2YgdGhlIGFzc2V0IG9yIGFzc2V0cyB0aGF0IHdpbGwgYmUgY2hvc2VuIGZyb20gd2hlbiBsb2FkaW5nIHZpYSB0aGUgc3BlY2lmaWVkIGtleVxuICAgICAqL1xuICAgIEFzc2V0c0NsYXNzLnByb3RvdHlwZS5hZGRCdW5kbGUgPSBmdW5jdGlvbiAoYnVuZGxlSWQsIGFzc2V0cykge1xuICAgICAgICB0aGlzLnJlc29sdmVyLmFkZEJ1bmRsZShidW5kbGVJZCwgYXNzZXRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJ1bmRsZXMgYXJlIGEgd2F5IHRvIGxvYWQgbXVsdGlwbGUgYXNzZXRzIGF0IG9uY2UuXG4gICAgICogSWYgYSBtYW5pZmVzdCBoYXMgYmVlbiBwcm92aWRlZCB0byB0aGUgaW5pdCBmdW5jdGlvbiB0aGVuIHlvdSBjYW4gbG9hZCBhIGJ1bmRsZSwgb3IgYnVuZGxlcy5cbiAgICAgKiB5b3UgY2FuIGFsc28gYWRkIGJ1bmRsZXMgdmlhIGBhZGRCdW5kbGVgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBtYW5pZmVzdCBleGFtcGxlXG4gICAgICogY29uc3QgbWFuaWZlc3QgPSB7XG4gICAgICogICBidW5kbGVzOlt7XG4gICAgICogICAgICBuYW1lOidsb2FkLXNjcmVlbicsXG4gICAgICogICAgICBhc3NldHM6W1xuICAgICAqICAgICAgICAgIHtcbiAgICAgKiAgICAgICAgICAgICBuYW1lOiAnYmFja2dyb3VuZCcsXG4gICAgICogICAgICAgICAgICAgc3JjczogJ3N1bnNldC5wbmcnLFxuICAgICAqICAgICAgICAgIH0sXG4gICAgICogICAgICAgICAge1xuICAgICAqICAgICAgICAgICAgIG5hbWU6ICdiYXInLFxuICAgICAqICAgICAgICAgICAgIHNyY3M6ICdsb2FkLWJhci57cG5nLHdlYnB9JyxcbiAgICAgKiAgICAgICAgICB9XG4gICAgICogICAgICBdXG4gICAgICogICB9LFxuICAgICAqICAge1xuICAgICAqICAgICAgbmFtZTonZ2FtZS1zY3JlZW4nLFxuICAgICAqICAgICAgYXNzZXRzOltcbiAgICAgKiAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgbmFtZTogJ2NoYXJhY3RlcicsXG4gICAgICogICAgICAgICAgICAgc3JjczogJ3JvYm90LnBuZycsXG4gICAgICogICAgICAgICAgfSxcbiAgICAgKiAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgbmFtZTogJ2VuZW15JyxcbiAgICAgKiAgICAgICAgICAgICBzcmNzOiAnYmFkLWd1eS5wbmcnLFxuICAgICAqICAgICAgICAgIH1cbiAgICAgKiAgICAgIF1cbiAgICAgKiAgIH1dXG4gICAgICogfX1cbiAgICAgKlxuICAgICAqIGF3YWl0IEFzc2V0LmluaXQoe1xuICAgICAqICBtYW5pZmVzdFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gbG9hZCBhIGJ1bmRsZS4uXG4gICAgICogbG9hZFNjcmVlbkFzc2V0cyA9IGF3YWl0IFBJWEkuQXNzZXRzLmxvYWRCdW5kbGUoJ2xvYWQtc2NyZWVuJyk7XG4gICAgICogLy8gbG9hZCBhbm90aGVyLi5cbiAgICAgKiBnYW1lU2NyZWVuQXNzZXRzID0gYXdhaXQgUElYSS5Bc3NldHMubG9hZEJ1bmRsZSgnZ2FtZS1zY3JlZW4nKTtcbiAgICAgKiBAcGFyYW0gYnVuZGxlSWRzIC0gdGhlIGJ1bmRsZSBpZCBvciBpZHMgdG8gbG9hZFxuICAgICAqIEBwYXJhbSBvblByb2dyZXNzIC0gb3B0aW9uYWwgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBwcm9ncmVzcyBvbiBhc3NldCBsb2FkaW5nIGlzIG1hZGUuXG4gICAgICogVGhlIGZ1bmN0aW9uIGlzIHBhc3NlZCBhIHNpbmdsZSBwYXJhbWV0ZXIsIGBwcm9ncmVzc2AsIHdoaWNoIHJlcHJlc2VudHMgdGhlIHBlcmNlbnRhZ2UgKDAuMCAtIDEuMClcbiAgICAgKiBvZiB0aGUgYXNzZXRzIGxvYWRlZC5cbiAgICAgKiBAcmV0dXJucyBhbGwgdGhlIGJ1bmRsZXMgYXNzZXRzIG9yIGEgaGFzaCBvZiBhc3NldHMgZm9yIGVhY2ggYnVuZGxlIHNwZWNpZmllZFxuICAgICAqL1xuICAgIEFzc2V0c0NsYXNzLnByb3RvdHlwZS5sb2FkQnVuZGxlID0gZnVuY3Rpb24gKGJ1bmRsZUlkcywgb25Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNpbmdsZUFzc2V0LCByZXNvbHZlUmVzdWx0cywgb3V0LCBrZXlzLCBjb3VudCwgdG90YWwsIF9vblByb2dyZXNzLCBwcm9taXNlcztcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLl9pbml0aWFsaXplZCkgeyByZXR1cm4gWzMgLypicmVhayovLCAyXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pbml0KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZUFzc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJ1bmRsZUlkcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVBc3NldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVuZGxlSWRzID0gW2J1bmRsZUlkc107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlUmVzdWx0cyA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZUJ1bmRsZShidW5kbGVJZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMocmVzb2x2ZVJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29uUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcyA9PT0gbnVsbCB8fCBvblByb2dyZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblByb2dyZXNzKCsrY291bnQgLyB0b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMgPSBrZXlzLm1hcChmdW5jdGlvbiAoYnVuZGxlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZVJlc3VsdCA9IHJlc29sdmVSZXN1bHRzW2J1bmRsZUlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSBPYmplY3Qua2V5cyhyZXNvbHZlUmVzdWx0KS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9tYXBMb2FkVG9SZXNvbHZlKHJlc29sdmVSZXN1bHQsIF9vblByb2dyZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzb2x2ZVJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRbYnVuZGxlSWRdID0gcmVzb2x2ZVJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwocHJvbWlzZXMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHNpbmdsZUFzc2V0ID8gb3V0W2J1bmRsZUlkc1swXV0gOiBvdXRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYXRlIGEgYmFja2dyb3VuZCBsb2FkIG9mIHNvbWUgYXNzZXRzLiBpdCB3aWxsIHBhc3NpdmVseSBiZWdpbiB0byBsb2FkIHRoZXNlIGFzc2V0cyBpbiB0aGUgYmFja2dyb3VuZC5cbiAgICAgKiBTbyB3aGVuIHlvdSBhY3R1YWxseSBjb21lIHRvIGxvYWRpbmcgdGhlbSB5b3Ugd2lsbCBnZXQgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGxvYWRlZCBhc3NldHMgaW1tZWRpYXRlbHlcbiAgICAgKlxuICAgICAqIEFuIGV4YW1wbGUgb2YgdGhpcyBtaWdodCBiZSB0aGF0IHlvdSB3b3VsZCBiYWNrZ3JvdW5kIGxvYWQgZ2FtZSBhc3NldHMgYWZ0ZXIgeW91ciBpbml0YWwgbG9hZC5cbiAgICAgKiB0aGVuIHdoZW4geW91IGdvdCB0byBhY3R1YWxseSBsb2FkIHlvdXIgZ2FtZSBzY3JlZW4gYXNzZXRzIHdoZW4gYSBwbGF5ZXIgZ29lcyB0byB0aGUgZ2FtZSAtIHRoZSBsb2FkaW5nXG4gICAgICogd291bGQgYWxyZWFkeSBoYXZlIHN0YXJlZCBvciBtYXkgZXZlbiBiZSBjb21wbGV0ZSwgc2F2aW5nIHlvdSBoYXZpbmcgdG8gc2hvdyBhbiBpbnRlcmltIGxvYWQgYmFyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogUElYSS5Bc3NldHMuYmFja2dyb3VuZExvYWQoJ2J1bm55LnBuZycpO1xuICAgICAqXG4gICAgICogLy8gbGF0ZXIgb24gaW4geW91ciBhcHAuLi5cbiAgICAgKiBhd2FpdCBQSVhJLkFzc2V0cy5sb2FkQnVuZGxlKCdidW5ueS5wbmcnKTsgLy8gd2lsbCByZXNvbHZlIHF1aWNrZXIgYXMgbG9hZGluZyBtYXkgaGF2ZSBjb21wbGV0ZWQhXG4gICAgICogQHBhcmFtIHVybHMgLSB0aGUgdXJsIC8gdXJscyB5b3Ugd2FudCB0byBiYWNrZ3JvdW5kIGxvYWRcbiAgICAgKi9cbiAgICBBc3NldHNDbGFzcy5wcm90b3R5cGUuYmFja2dyb3VuZExvYWQgPSBmdW5jdGlvbiAodXJscykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc29sdmVSZXN1bHRzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5faW5pdGlhbGl6ZWQpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5pdCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVybHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJscyA9IFt1cmxzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVSZXN1bHRzID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlKHVybHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZExvYWRlci5hZGQoT2JqZWN0LnZhbHVlcyhyZXNvbHZlUmVzdWx0cykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYXRlIGEgYmFja2dyb3VuZCBvZiBhIGJ1bmRsZSwgd29ya3MgZXhhY3RseSBsaWtlIGJhY2tncm91bmRMb2FkIGJ1dCBmb3IgYnVuZGxlcy5cbiAgICAgKiB0aGlzIGNhbiBvbmx5IGJlIHVzZWQgaWYgdGhlIGxvYWRlciBoYXMgYmVlbiBpbml0aWF0ZWQgd2l0aCBhIG1hbmlmZXN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBhd2FpdCBQSVhJLkFzc2V0cy5pbml0KHtcbiAgICAgKiAgICBtYW5pZmVzdDoge1xuICAgICAqICAgICAgIGJ1bmRsZXM6IFtcbiAgICAgKiAgICAgICB7XG4gICAgICogICAgICAgICAgbmFtZTonbG9hZC1zY3JlZW4nLFxuICAgICAqICAgICAgICAgIGFzc2V0czpbLi4uXVxuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgICAuLi5dXG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBQSVhJLkFzc2V0cy5iYWNrZ3JvdW5kTG9hZEJ1bmRsZSgnbG9hZC1zY3JlZW4nKTtcbiAgICAgKlxuICAgICAqIC8vIGxhdGVyIG9uIGluIHlvdXIgYXBwLi4uXG4gICAgICogYXdhaXQgUElYSS5Bc3NldHMubG9hZEJ1bmRsZSgnbG9hZC1zY3JlZW4nKTsgLy8gd2lsbCByZXNvbHZlIHF1aWNrZXIgYXMgbG9hZGluZyBtYXkgaGF2ZSBjb21wbGV0ZWQhXG4gICAgICogQHBhcmFtIGJ1bmRsZUlkcyAtIHRoZSBidW5kbGVJZCAvIGJ1bmRsZUlkcyB5b3Ugd2FudCB0byBiYWNrZ3JvdW5kIGxvYWRcbiAgICAgKi9cbiAgICBBc3NldHNDbGFzcy5wcm90b3R5cGUuYmFja2dyb3VuZExvYWRCdW5kbGUgPSBmdW5jdGlvbiAoYnVuZGxlSWRzKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZVJlc3VsdHM7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5faW5pdGlhbGl6ZWQpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5pdCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJ1bmRsZUlkcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidW5kbGVJZHMgPSBbYnVuZGxlSWRzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVSZXN1bHRzID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlQnVuZGxlKGJ1bmRsZUlkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKHJlc29sdmVSZXN1bHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvbHZlUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2JhY2tncm91bmRMb2FkZXIuYWRkKE9iamVjdC52YWx1ZXMocmVzb2x2ZVJlc3VsdCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT25seSBpbnRlbmRlZCBmb3IgZGV2ZWxvcG1lbnQgcHVycG9zZXMuXG4gICAgICogVGhpcyB3aWxsIHdpcGUgdGhlIHJlc29sdmVyIGFuZCBjYWNoZXMuXG4gICAgICogWW91IHdpbGwgbmVlZCB0byByZWluaXRpYWxpemUgdGhlIEFzc2V0XG4gICAgICovXG4gICAgQXNzZXRzQ2xhc3MucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlc29sdmVyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMubG9hZGVyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuY2FjaGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluc3RhbnRseSBnZXRzIGFuIGFzc2V0IGFscmVhZHkgbG9hZGVkIGZyb20gdGhlIGNhY2hlLiBJZiB0aGUgYXNzZXQgaGFzIG5vdCB5ZXQgYmVlbiBsb2FkZWQsXG4gICAgICogaXQgd2lsbCByZXR1cm4gdW5kZWZpbmVkLiBTbyBpdCdzIG9uIHlvdSEgV2hlbiBpbiBkb3VidCBqdXN0IHVzZSBgUElYSS5Bc3NldHMubG9hZGAgaW5zdGVhZC5cbiAgICAgKiAocmVtZW1iZXIsIHRoZSBsb2FkZXIgd2lsbCBuZXZlciBsb2FkIHRoaW5ncyBtb3JlIHRoYW4gb25jZSEpXG4gICAgICogQHBhcmFtIGtleXMgLSBUaGUga2V5IG9yIGtleXMgZm9yIHRoZSBhc3NldHMgdGhhdCB5b3Ugd2FudCB0byBhY2Nlc3NcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBhc3NldHMgb3IgaGFzaCBvZiBhc3NldHMgcmVxdWVzdGVkXG4gICAgICovXG4gICAgQXNzZXRzQ2xhc3MucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBDYWNoZS5nZXQoa2V5cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFzc2V0cyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFzc2V0c1tpXSA9IENhY2hlLmdldChrZXlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNzZXRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogaGVscGVyIGZ1bmN0aW9uIHRvIG1hcCByZXNvbHZlZCBhc3NldHMgYmFjayB0byBsb2FkZWQgYXNzZXRzXG4gICAgICogQHBhcmFtIHJlc29sdmVSZXN1bHRzIC0gdGhlIHJlc29sdmUgcmVzdWx0cyBmcm9tIHRoZSByZXNvbHZlclxuICAgICAqIEBwYXJhbSBvblByb2dyZXNzIC0gdGhlIHByb2dyZXNzIGNhbGxiYWNrXG4gICAgICovXG4gICAgQXNzZXRzQ2xhc3MucHJvdG90eXBlLl9tYXBMb2FkVG9SZXNvbHZlID0gZnVuY3Rpb24gKHJlc29sdmVSZXN1bHRzLCBvblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZUFycmF5LCByZXNvbHZlS2V5cywgbG9hZGVkQXNzZXRzLCBvdXQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlQXJyYXkgPSBPYmplY3QudmFsdWVzKHJlc29sdmVSZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVLZXlzID0gT2JqZWN0LmtleXMocmVzb2x2ZVJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF1c2UgYmFja2dyb3VuZCBsb2FkZXIuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmxvYWRlci5sb2FkKHJlc29sdmVBcnJheSwgb25Qcm9ncmVzcyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWRBc3NldHMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXN1bWUgYmFja2dyb3VuZCBsb2FkZXIuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRMb2FkZXIuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUFycmF5LmZvckVhY2goZnVuY3Rpb24gKHJlc29sdmVSZXN1bHQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXQgPSBsb2FkZWRBc3NldHNbcmVzb2x2ZVJlc3VsdC5zcmNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gW3Jlc29sdmVSZXN1bHQuc3JjXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZVJlc3VsdC5hbGlhcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgcmVzb2x2ZVJlc3VsdC5hbGlhcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dFtyZXNvbHZlS2V5c1tpXV0gPSBhc3NldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYWNoZS5zZXQoa2V5cywgYXNzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgb3V0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbmxvYWQgYW4gYXNzZXQgb3IgYXNzZXRzLiBBcyB0aGUgQXNzZXRzIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgYXNzZXRzIHZpYSB0aGUgYGxvYWRgIGZ1bmN0aW9uXG4gICAgICogdGhpcyB3aWxsIG1ha2Ugc3VyZSB0byBkZXN0cm95IGFueSBhc3NldHMgYW5kIHJlbGVhc2UgdGhlbSBmcm9tIG1lbW9yeS5cbiAgICAgKiBPbmNlIHVubG9hZGVkLCB5b3Ugd2lsbCBuZWVkIHRvIGxvYWQgdGhlIGFzc2V0IGFnYWluLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgdG8gaGVscCBtYW5hZ2UgYXNzZXRzIGlmIHlvdSBmaW5kIHRoYXQgeW91IGhhdmUgYSBsYXJnZSBhcHAgYW5kIHlvdSB3YW50IHRvIGZyZWUgdXAgbWVtb3J5LlxuICAgICAqXG4gICAgICogKiBpdCdzIHVwIHRvIHlvdSBhcyB0aGUgZGV2ZWxvcGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRleHR1cmVzIGFyZSBub3QgYWN0aXZlbHkgYmVpbmcgdXNlZCB3aGVuIHlvdSB1bmxvYWQgdGhlbSxcbiAgICAgKiBQaXhpIHdvbid0IGJyZWFrIGJ1dCB5b3Ugd2lsbCBlbmQgdXAgd2l0aCBtaXNzaW5nIGFzc2V0cy4gTm90IGEgZ29vZCBsb29rIGZvciB0aGUgdXNlciFcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGxvYWQgYSBVUkw6XG4gICAgICogY29uc3QgbXlJbWFnZVRleHR1cmUgPSBhd2FpdCBQSVhJLkFzc2V0cy5sb2FkKCdodHRwOi8vc29tZS51cmwuY29tL2ltYWdlLnBuZycpOyAvLyA9PiByZXR1cm5zIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogYXdhaXQgUElYSS5Bc3NldHMudW5sb2FkKCdodHRwOi8vc29tZS51cmwuY29tL2ltYWdlLnBuZycpXG4gICAgICpcbiAgICAgKiBteUltYWdlVGV4dHVyZSA8LS0gd2lsbCBub3cgYmUgZGVzdHJveWVkLlxuICAgICAqXG4gICAgICogLy8gdW5sb2FkIG11bHRpcGxlIGFzc2V0czpcbiAgICAgKiBjb25zdCB0ZXh0dXJlcyA9IGF3YWl0IFBJWEkuQXNzZXRzLnVubG9hZChbJ3RodW1wZXInLCAnY2hpY2tvJ10pO1xuICAgICAqIEBwYXJhbSB1cmxzIC0gdGhlIHVybHMgdG8gdW5sb2FkXG4gICAgICovXG4gICAgQXNzZXRzQ2xhc3MucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uICh1cmxzKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdXJsQXJyYXksIHJlc29sdmVSZXN1bHRzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5faW5pdGlhbGl6ZWQpIHsgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaW5pdCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmxBcnJheSA9IGNvbnZlcnRUb0xpc3QodXJscylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykgPyB1cmwuc3JjIDogdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVJlc3VsdHMgPSB0aGlzLnJlc29sdmVyLnJlc29sdmUodXJsQXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fdW5sb2FkRnJvbVJlc29sdmVkKHJlc29sdmVSZXN1bHRzKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCdW5kbGVzIGFyZSBhIHdheSB0byBtYW5hZ2UgbXVsdGlwbGUgYXNzZXRzIGF0IG9uY2UuXG4gICAgICogdGhpcyB3aWxsIHVubG9hZCBhbGwgZmlsZXMgaW4gYSBidW5kbGUuXG4gICAgICpcbiAgICAgKiBvbmNlIGEgYnVuZGxlIGhhcyBiZWVuIHVubG9hZGVkLCB5b3UgbmVlZCB0byBsb2FkIGl0IGFnYWluIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBhc3NldHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBQSVhJLkFzc2V0cy5hZGRCdW5kbGUoe1xuICAgICAqICAgJ3RodW1wZXInOiAnaHR0cDovL3NvbWUudXJsLmNvbS90aHVtcGVyLnBuZycsXG4gICAgICogfSlcbiAgICAgKlxuICAgICAqIGNvbnN0IGFzc2V0cyA9IGF3YWl0IFBJWEkuQXNzZXRzLmxvYWRCdW5kbGUoJ3RodW1wZXInKTtcbiAgICAgKlxuICAgICAqIC8vIG5vdyB0byB1bmxvYWQuLlxuICAgICAqXG4gICAgICogYXdhaXQgYXdhaXQgUElYSS5Bc3NldHMudW5sb2FkQnVuZGxlKCd0aHVtcGVyJyk7XG4gICAgICpcbiAgICAgKiAvLyBhbGwgYXNzZXRzIGluIHRoZSBhc3NldHMgb2JqZWN0IHdpbGwgbm93IGhhdmUgYmVlbiBkZXN0cm95ZWQgYW5kIHB1cmdlZCBmcm9tIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSBidW5kbGVJZHMgLSB0aGUgYnVuZGxlIGlkIG9yIGlkcyB0byB1bmxvYWRcbiAgICAgKi9cbiAgICBBc3NldHNDbGFzcy5wcm90b3R5cGUudW5sb2FkQnVuZGxlID0gZnVuY3Rpb24gKGJ1bmRsZUlkcykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc29sdmVSZXN1bHRzLCBwcm9taXNlcztcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLl9pbml0aWFsaXplZCkgeyByZXR1cm4gWzMgLypicmVhayovLCAyXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pbml0KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bmRsZUlkcyA9IGNvbnZlcnRUb0xpc3QoYnVuZGxlSWRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVSZXN1bHRzID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlQnVuZGxlKGJ1bmRsZUlkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcyA9IE9iamVjdC5rZXlzKHJlc29sdmVSZXN1bHRzKS5tYXAoZnVuY3Rpb24gKGJ1bmRsZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl91bmxvYWRGcm9tUmVzb2x2ZWQocmVzb2x2ZVJlc3VsdHNbYnVuZGxlSWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwocHJvbWlzZXMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEFzc2V0c0NsYXNzLnByb3RvdHlwZS5fdW5sb2FkRnJvbVJlc29sdmVkID0gZnVuY3Rpb24gKHJlc29sdmVSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc29sdmVBcnJheTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVBcnJheSA9IE9iamVjdC52YWx1ZXMocmVzb2x2ZVJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAocmVzb2x2ZVJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhY2hlLnJlbW92ZShyZXNvbHZlUmVzdWx0LnNyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMubG9hZGVyLnVubG9hZChyZXNvbHZlQXJyYXkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBc3NldHNDbGFzcy5wcm90b3R5cGUsIFwiZGV0ZWN0aW9uc1wiLCB7XG4gICAgICAgIC8qKiBBbGwgdGhlIGRldGVjdGlvbiBwYXJzZXJzIGN1cnJlbnRseSBhZGRlZCB0byB0aGUgQXNzZXRzIGNsYXNzLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZXRlY3Rpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFzc2V0c0NsYXNzO1xufSgpKTtcbnZhciBBc3NldHMgPSBuZXcgQXNzZXRzQ2xhc3MoKTtcbi8vIEhhbmRsZSByZWdpc3RyYXRpb24gb2YgZXh0ZW5zaW9uc1xuZXh0ZW5zaW9ucyQxXG4gICAgLmhhbmRsZUJ5TGlzdChFeHRlbnNpb25UeXBlLkxvYWRQYXJzZXIsIEFzc2V0cy5sb2FkZXIucGFyc2VycylcbiAgICAuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuUmVzb2x2ZVBhcnNlciwgQXNzZXRzLnJlc29sdmVyLnBhcnNlcnMpXG4gICAgLmhhbmRsZUJ5TGlzdChFeHRlbnNpb25UeXBlLkNhY2hlUGFyc2VyLCBBc3NldHMuY2FjaGUucGFyc2VycylcbiAgICAuaGFuZGxlQnlMaXN0KEV4dGVuc2lvblR5cGUuRGV0ZWN0aW9uUGFyc2VyLCBBc3NldHMuZGV0ZWN0aW9ucyk7XG5leHRlbnNpb25zJDEuYWRkKGxvYWRUZXh0dXJlcywgbG9hZFNWRywgbG9hZFR4dCwgbG9hZEpzb24sIGxvYWRTcHJpdGVzaGVldCwgbG9hZEJpdG1hcEZvbnQsIGxvYWRXZWJGb250LCBcbi8vIGNhY2hlIGV4dGVuc2lvbnNcbmNhY2hlU3ByaXRlc2hlZXQsIGNhY2hlVGV4dHVyZUFycmF5LCBcbi8vIHJlc29sdmUgZXh0ZW5zaW9uc1xucmVzb2x2ZVRleHR1cmVVcmwsIHJlc29sdmVTcHJpdGVTaGVldFVybCwgXG4vLyBkZXRlY3Rpb24gZXh0ZW5zaW9uc1xuZGV0ZWN0V2VicCwgZGV0ZWN0QXZpZik7XG5cbmV4cG9ydCB7IEFzc2V0cywgQXNzZXRzQ2xhc3MsIENhY2hlLCBhZGRGb3JtYXRzLCBjYWNoZVNwcml0ZXNoZWV0LCBjYWNoZVRleHR1cmVBcnJheSwgY29udmVydFRvTGlzdCwgY3JlYXRlU3RyaW5nVmFyaWF0aW9ucywgZGV0ZWN0QXZpZiwgZGV0ZWN0QmFzaXMsIGRldGVjdENvbXByZXNzZWRUZXh0dXJlcywgZGV0ZWN0V2VicCwgZ2V0Rm9udEZhbWlseU5hbWUsIGlzU2luZ2xlSXRlbSwgbG9hZEJhc2lzLCBsb2FkQml0bWFwRm9udCwgbG9hZEREUywgbG9hZEltYWdlQml0bWFwLCBsb2FkSnNvbiwgbG9hZEtUWCwgbG9hZFNWRywgbG9hZFNwcml0ZXNoZWV0LCBsb2FkVGV4dHVyZXMsIGxvYWRUeHQsIGxvYWRXZWJGb250LCByZW1vdmVGb3JtYXRzLCByZXNvbHZlQ29tcHJlc3NlZFRleHR1cmVVcmwsIHJlc29sdmVTcHJpdGVTaGVldFVybCwgcmVzb2x2ZVRleHR1cmVVcmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2V0cy5tanMubWFwXG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuLy8gaW1wb3J0ICogYXMgQXNzZXRzIGZyb20gJ0BwaXhpL2Fzc2V0cyc7XG5pbXBvcnQgeyBBc3NldHMgfSBmcm9tICdAcGl4aS9hc3NldHMnO1xuLy8gUElYSS5Bc3NldHMgPSBBc3NldHM7XG5cbndpbmRvdy5QSVhJID0gUElYSTtcblxubGV0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKHsgd2lkdGg6IDY0MCwgaGVpZ2h0OiAzNjAsIGJhY2tncm91bmRDb2xvcjogMHgxMDk5YmIgfSk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcblxuUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9wdXJwbGUtZ2VtLmpzb25cIik7XG5cblBJWEkuTG9hZGVyLnNoYXJlZC5sb2FkKCgpID0+IHtcbiAgY29uc3QgZ2VtID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoXG4gICAgUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9wdXJwbGUtZ2VtLmpzb25cIl0uc3ByaXRlc2hlZXQuYW5pbWF0aW9uc1tcInB1cnBsZS1nZW1cIl0pO1xuICBnZW0ueCA9IDQ1MDtcbiAgZ2VtLnkgPSAxMDtcbiAgZ2VtLmFuaW1hdGlvblNwZWVkID0gMC41O1xuICBnZW0ucGxheSgpO1xuICBhcHAuc3RhZ2UuYWRkQ2hpbGQoZ2VtKTtcbn0pO1xuXG5jb25zdCB0aXRsZSA9IG5ldyBQSVhJLlRleHQoJ1dFTENPTUUgVE8gU0hNQVonKTtcbnRpdGxlLnggPSA1MDtcbnRpdGxlLnkgPSA1MDtcbmFwcC5zdGFnZS5hZGRDaGlsZCh0aXRsZSk7XG5cbmNvbnN0IHB1cnBsZUdlbXMgPSBuZXcgUElYSS5UZXh0KFwiXCIpO1xucHVycGxlR2Vtcy54ID0gNTAwO1xucHVycGxlR2Vtcy55ID0gMjA7XG5hcHAuc3RhZ2UuYWRkQ2hpbGQocHVycGxlR2Vtcyk7XG5cbmxldCBwZ2MgPSAxMDtcblxuY29uc3QgbWFrZUJ1dHRvbiA9ICh4LCBvbkNsaWNrKSA9PiB7XG4gIGNvbnN0IGJ1dHRvbiA9IFBJWEkuU3ByaXRlLmZyb20oJ2Fzc2V0cy9odXNreTEuanBnJyk7XG4gIGJ1dHRvbi54ID0geDtcbiAgYnV0dG9uLnkgPSAxNTA7XG4gIGJ1dHRvbi53aWR0aCA9IDE1MDtcbiAgYnV0dG9uLmhlaWdodCA9IDEwMDtcbiAgYnV0dG9uLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgYnV0dG9uLm9uKFwiY2xpY2tcIiwgb25DbGljayk7XG4gIHJldHVybiBidXR0b247XG59O1xuXG5jb25zdCBidXR0b24xID0gbWFrZUJ1dHRvbig1MCwgICgpID0+IHsgcGdjID0gcGdjIC0gMzsgfSk7XG5jb25zdCBidXR0b24yID0gbWFrZUJ1dHRvbigyNTAsICgpID0+IHsgcGdjID0gcGdjIC0gNTsgfSk7XG5jb25zdCBidXR0b24zID0gbWFrZUJ1dHRvbig0NTAsICgpID0+IHsgcGdjID0gcGdjIC0gMTA7IH0pO1xuXG5hcHAuc3RhZ2UuYWRkQ2hpbGQoYnV0dG9uMSk7XG5hcHAuc3RhZ2UuYWRkQ2hpbGQoYnV0dG9uMik7XG5hcHAuc3RhZ2UuYWRkQ2hpbGQoYnV0dG9uMyk7XG5cbmFwcC50aWNrZXIuYWRkKChkZWx0YSkgPT4ge1xuICBwdXJwbGVHZW1zLnRleHQgPSBcIj0gXCIgKyBwZ2M7XG59KTtcbiJdLCJuYW1lcyI6WyJlYXJjdXQiLCJkYXRhIiwiaG9sZUluZGljZXMiLCJkaW0iLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwieCIsInkiLCJpbnZTaXplIiwiaGFzSG9sZXMiLCJsZW5ndGgiLCJvdXRlckxlbiIsIm91dGVyTm9kZSIsImxpbmtlZExpc3QiLCJ0cmlhbmdsZXMiLCJuZXh0IiwicHJldiIsImkiLCJsZW4iLCJsaXN0IiwicXVldWUiLCJzdGVpbmVyIiwicHVzaCIsImdldExlZnRtb3N0Iiwic29ydCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImVsaW1pbmF0ZUhvbGVzIiwiTWF0aCIsIm1heCIsImVhcmN1dExpbmtlZCIsInN0YXJ0IiwiZW5kIiwiY2xvY2t3aXNlIiwibGFzdCIsInNpZ25lZEFyZWEiLCJpbnNlcnROb2RlIiwiZXF1YWxzIiwicmVtb3ZlTm9kZSIsImZpbHRlclBvaW50cyIsImFnYWluIiwicCIsImFyZWEiLCJlYXIiLCJwYXNzIiwieiIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJxIiwiZSIsInRhaWwiLCJudW1NZXJnZXMiLCJwU2l6ZSIsInFTaXplIiwiaW5TaXplIiwic29ydExpbmtlZCIsImluZGV4Q3VydmUiLCJzdG9wIiwiaXNFYXJIYXNoZWQiLCJpc0VhciIsImN1cmVMb2NhbEludGVyc2VjdGlvbnMiLCJzcGxpdEVhcmN1dCIsImEiLCJiIiwiYyIsImF4IiwiYngiLCJjeCIsImF5IiwiYnkiLCJjeSIsIngwIiwieTAiLCJ4MSIsInkxIiwicG9pbnRJblRyaWFuZ2xlIiwibWluWiIsIm1heFoiLCJuIiwiaW50ZXJzZWN0cyIsImxvY2FsbHlJbnNpZGUiLCJpc1ZhbGlkRGlhZ29uYWwiLCJzcGxpdFBvbHlnb24iLCJob2xlIiwiYnJpZGdlIiwibSIsImh4IiwiaHkiLCJxeCIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJJbmZpbml0eSIsImFicyIsInNlY3RvckNvbnRhaW5zU2VjdG9yIiwiZmluZEhvbGVCcmlkZ2UiLCJicmlkZ2VSZXZlcnNlIiwibGVmdG1vc3QiLCJweCIsInB5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJyIiwicDEiLCJwMiIsInExIiwicTIiLCJvMSIsInNpZ24iLCJvMiIsIm8zIiwibzQiLCJvblNlZ21lbnQiLCJtaW4iLCJudW0iLCJhMiIsIk5vZGUiLCJiMiIsImFuIiwiYnAiLCJ0aGlzIiwic3VtIiwiaiIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwicmVzdWx0IiwidmVydGljZXMiLCJob2xlcyIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJkIiwiaGFzIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwiY29udGV4dCIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsIlR5cGVFcnJvciIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJjcmVhdGUiLCJfX3Byb3RvX18iLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZSIsIm5hbWVzIiwiY2FsbCIsInNsaWNlIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiY29uY2F0IiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJsIiwiZWUiLCJBcnJheSIsImxpc3RlbmVyQ291bnQiLCJlbWl0IiwiYTEiLCJhMyIsImE0IiwiYTUiLCJhcmdzIiwiYXJndW1lbnRzIiwicmVtb3ZlTGlzdGVuZXIiLCJ1bmRlZmluZWQiLCJhcHBseSIsIm9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b09iamVjdCIsInZhbCIsImFzc2lnbiIsInRlc3QxIiwiU3RyaW5nIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwibWFwIiwiam9pbiIsInRlc3QzIiwic3BsaXQiLCJmb3JFYWNoIiwibGV0dGVyIiwia2V5cyIsImVyciIsInNob3VsZFVzZU5hdGl2ZSIsInRhcmdldCIsInNvdXJjZSIsImZyb20iLCJzeW1ib2xzIiwidG8iLCJzIiwia2V5Iiwicm9vdCIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsImciLCJnbG9iYWwiLCJ3aW5kb3ciLCJzZWxmIiwicHVueWNvZGUiLCJtYXhJbnQiLCJiYXNlIiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJyZWdleFNlcGFyYXRvcnMiLCJlcnJvcnMiLCJmbG9vciIsInN0cmluZ0Zyb21DaGFyQ29kZSIsImVycm9yIiwidHlwZSIsIlJhbmdlRXJyb3IiLCJhcnJheSIsIm1hcERvbWFpbiIsInN0cmluZyIsInBhcnRzIiwicmVwbGFjZSIsInVjczJkZWNvZGUiLCJ2YWx1ZSIsImV4dHJhIiwib3V0cHV0IiwiY291bnRlciIsImNoYXJDb2RlQXQiLCJ1Y3MyZW5jb2RlIiwiZGlnaXRUb0Jhc2ljIiwiZGlnaXQiLCJmbGFnIiwiYWRhcHQiLCJkZWx0YSIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImsiLCJiYXNlTWludXNUTWluIiwiZGVjb2RlIiwiaW5wdXQiLCJvdXQiLCJiYXNpYyIsImluZGV4Iiwib2xkaSIsInciLCJ0IiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImxhc3RJbmRleE9mIiwic3BsaWNlIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ0ZXN0IiwidG9Mb3dlckNhc2UiLCJvYmoiLCJwcm9wIiwicXMiLCJzZXAiLCJlcSIsIm9wdGlvbnMiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJ2IiwiaWR4IiwiaW5kZXhPZiIsInN1YnN0ciIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzQXJyYXkiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJpc0Zpbml0ZSIsImtzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ1dGlsIiwiVXJsIiwicHJvdG9jb2wiLCJzbGFzaGVzIiwiYXV0aCIsImhvc3QiLCJwb3J0IiwiaG9zdG5hbWUiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInBhdGgiLCJocmVmIiwidXJsUGFyc2UiLCJyZWxhdGl2ZSIsInJlc29sdmUiLCJpc1N0cmluZyIsImZvcm1hdCIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJ1bndpc2UiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwicXVlcnlzdHJpbmciLCJ1cmwiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwic2xhc2hlc0Rlbm90ZUhvc3QiLCJpc09iamVjdCIsInUiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXN0IiwidHJpbSIsInNpbXBsZVBhdGgiLCJleGVjIiwicHJvdG8iLCJsb3dlclByb3RvIiwibWF0Y2giLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInVuc2hpZnQiLCJ0b0FTQ0lJIiwiaCIsImFlIiwiZXNjIiwiZXNjYXBlIiwicW0iLCJjaGFyQXQiLCJyZXNvbHZlT2JqZWN0IiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJzaGlmdCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJwb3AiLCJpc051bGxPclVuZGVmaW5lZCIsImF1dGhJbkhvc3QiLCJpc051bGwiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwiYXJnIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIm5tZCIsInBhdGhzIiwiY2hpbGRyZW4iLCJzZXRUaW1lb3V0RnVuYyIsInNldFRpbWVvdXQiLCJCb29sZWFuIiwibm9vcCIsIl9zdGF0ZSIsIl9oYW5kbGVkIiwiX3ZhbHVlIiwiX2RlZmVycmVkcyIsImRvUmVzb2x2ZSIsImhhbmRsZSIsImRlZmVycmVkIiwiX2ltbWVkaWF0ZUZuIiwiY2IiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJyZXQiLCJyZWplY3QiLCJwcm9taXNlIiwibmV3VmFsdWUiLCJ0aGVuIiwiZmluYWxlIiwidGhpc0FyZyIsIl91bmhhbmRsZWRSZWplY3Rpb25GbiIsIkhhbmRsZXIiLCJkb25lIiwicmVhc29uIiwiZXgiLCJwcm9tIiwiY29uc3RydWN0b3IiLCJjYWxsYmFjayIsImFsbCIsImFyciIsInJlbWFpbmluZyIsInJlcyIsImFsbFNldHRsZWQiLCJzdGF0dXMiLCJyYWNlIiwic2V0SW1tZWRpYXRlIiwiY29uc29sZSIsIndhcm4iLCJQcm9taXNlIiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJwZXJmb3JtYW5jZSIsInN0YXJ0VGltZV8xIiwiRU5WIiwiUkVOREVSRVJfVFlQRSIsIkJVRkZFUl9CSVRTIiwiQkxFTkRfTU9ERVMiLCJEUkFXX01PREVTIiwiRk9STUFUUyIsIlRBUkdFVFMiLCJUWVBFUyIsIlNBTVBMRVJfVFlQRVMiLCJTQ0FMRV9NT0RFUyIsIldSQVBfTU9ERVMiLCJNSVBNQVBfTU9ERVMiLCJBTFBIQV9NT0RFUyIsIkNMRUFSX01PREVTIiwiR0NfTU9ERVMiLCJQUkVDSVNJT04iLCJNQVNLX1RZUEVTIiwiQ09MT1JfTUFTS19CSVRTIiwiTVNBQV9RVUFMSVRZIiwiQlVGRkVSX1RZUEUiLCJsYXN0VGltZSIsInZlbmRvcnMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImN1cnJlbnRUaW1lIiwiZGVsYXkiLCJjbGVhclRpbWVvdXQiLCJOdW1iZXIiLCJpc05hTiIsImlzSW50ZWdlciIsIkFycmF5QnVmZmVyIiwiRmxvYXQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQ4QXJyYXkiLCJJbnQzMkFycmF5IiwiQnJvd3NlckFkYXB0ZXIiLCJjcmVhdGVDYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldFdlYkdMUmVuZGVyaW5nQ29udGV4dCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImdldE5hdmlnYXRvciIsIm5hdmlnYXRvciIsImdldEJhc2VVcmwiLCJfYSIsImJhc2VVUkkiLCJsb2NhdGlvbiIsImZldGNoIiwiYXBwbGVJcGhvbmUiLCJhcHBsZUlwb2QiLCJhcHBsZVRhYmxldCIsImFwcGxlVW5pdmVyc2FsIiwiYW5kcm9pZFBob25lIiwiYW5kcm9pZFRhYmxldCIsImFtYXpvblBob25lIiwiYW1hem9uVGFibGV0Iiwid2luZG93c1Bob25lIiwid2luZG93c1RhYmxldCIsIm90aGVyQmxhY2tCZXJyeSIsIm90aGVyQmxhY2tCZXJyeTEwIiwib3RoZXJPcGVyYSIsIm90aGVyQ2hyb21lIiwib3RoZXJGaXJlZm94IiwiaXNBcHBsZVRhYmxldE9uSW9zMTMiLCJwbGF0Zm9ybSIsIm1heFRvdWNoUG9pbnRzIiwiTVNTdHJlYW0iLCJpc01vYmlsZSIsInBhcmFtIiwibmF2IiwidXNlckFnZW50IiwidG1wIiwicmVnZXgiLCJjcmVhdGVNYXRjaCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwidW5pdmVyc2FsIiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJjaHJvbWUiLCJhbnkiLCJpc01vYmlsZSQxIiwic2V0dGluZ3MiLCJBREFQVEVSIiwiTUlQTUFQX1RFWFRVUkVTIiwiUE9XMiIsIkFOSVNPVFJPUElDX0xFVkVMIiwiUkVTT0xVVElPTiIsIkZJTFRFUl9SRVNPTFVUSU9OIiwiRklMVEVSX01VTFRJU0FNUExFIiwiTk9ORSIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJhbGxvd01heCIsInBhcnNlSW50IiwibWF4UmVjb21tZW5kZWRUZXh0dXJlcyIsIlNQUklURV9CQVRDSF9TSVpFIiwiUkVOREVSX09QVElPTlMiLCJ2aWV3IiwiYW50aWFsaWFzIiwiYXV0b0RlbnNpdHkiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kQWxwaGEiLCJ1c2VDb250ZXh0QWxwaGEiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsImxlZ2FjeSIsIkdDX01PREUiLCJBVVRPIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJDTEFNUCIsIlNDQUxFX01PREUiLCJMSU5FQVIiLCJQUkVDSVNJT05fVkVSVEVYIiwiSElHSCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIk1FRElVTSIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJDUkVBVEVfSU1BR0VfQklUTUFQIiwiUk9VTkRfUElYRUxTIiwiYXNzZXJ0UGF0aCIsIkpTT04iLCJyZW1vdmVVcmxQYXJhbXMiLCJ0b1Bvc2l4IiwiUmVnRXhwIiwiaXNVcmwiLCJpc0RhdGFVcmwiLCJoYXNQcm90b2NvbCIsImdldFByb3RvY29sIiwiaXNGaWxlIiwiaXNIdHRwIiwiaXNXaW5kb3dzIiwidG9BYnNvbHV0ZSIsImN1c3RvbUJhc2VVcmwiLCJjdXN0b21Sb290VXJsIiwiYmFzZVVybCIsInJvb3RVcmwiLCJyb290bmFtZSIsInN0YXJ0c1dpdGgiLCJub3JtYWxpemUiLCJ0cmFpbGluZ1NlcGFyYXRvciIsImVuZHNXaXRoIiwiYWxsb3dBYm92ZVJvb3QiLCJjb2RlIiwibGFzdFNlZ21lbnRMZW5ndGgiLCJsYXN0U2xhc2giLCJkb3RzIiwibGFzdFNsYXNoSW5kZXgiLCJub3JtYWxpemVTdHJpbmdQb3NpeCIsImpvaW5lZCIsImFyZ3VtZW50cyQxIiwic2VnbWVudHMiLCJfaSIsInByZXZBcmciLCJleHRuYW1lIiwiZGlybmFtZSIsImhhc1Jvb3QiLCJtYXRjaGVkU2xhc2giLCJvcmlncGF0aCIsImJhc2VuYW1lIiwiZXh0IiwiZXh0SWR4IiwiZmlyc3ROb25TbGFzaEVuZCIsInN0YXJ0RG90Iiwic3RhcnRQYXJ0IiwicHJlRG90U3RhdGUiLCJkaXIiLCJkZWxpbWl0ZXIiLCJSRVRJTkFfUFJFRklYIiwiRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQiLCJzdXBwb3J0ZWQiLCJzYWlkSGVsbG8iLCJza2lwSGVsbG8iLCJzYXlIZWxsbyIsImxvZyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJjb250ZXh0T3B0aW9ucyIsInN0ZW5jaWwiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiZ2wiLCJnZXRDb250ZXh0Iiwic3VjY2VzcyIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwibG9zZUNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJjc3NDb2xvck5hbWVzIiwiYWxpY2VibHVlIiwiYW50aXF1ZXdoaXRlIiwiYXF1YSIsImFxdWFtYXJpbmUiLCJhenVyZSIsImJlaWdlIiwiYmlzcXVlIiwiYmxhY2siLCJibGFuY2hlZGFsbW9uZCIsImJsdWUiLCJibHVldmlvbGV0IiwiYnJvd24iLCJidXJseXdvb2QiLCJjYWRldGJsdWUiLCJjaGFydHJldXNlIiwiY2hvY29sYXRlIiwiY29yYWwiLCJjb3JuZmxvd2VyYmx1ZSIsImNvcm5zaWxrIiwiY3JpbXNvbiIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dvbGRlbnJvZCIsImRhcmtncmF5IiwiZGFya2dyZWVuIiwiZGFya2dyZXkiLCJkYXJra2hha2kiLCJkYXJrbWFnZW50YSIsImRhcmtvbGl2ZWdyZWVuIiwiZGFya29yYW5nZSIsImRhcmtvcmNoaWQiLCJkYXJrcmVkIiwiZGFya3NhbG1vbiIsImRhcmtzZWFncmVlbiIsImRhcmtzbGF0ZWJsdWUiLCJkYXJrc2xhdGVncmF5IiwiZGFya3NsYXRlZ3JleSIsImRhcmt0dXJxdW9pc2UiLCJkYXJrdmlvbGV0IiwiZGVlcHBpbmsiLCJkZWVwc2t5Ymx1ZSIsImRpbWdyYXkiLCJkaW1ncmV5IiwiZG9kZ2VyYmx1ZSIsImZpcmVicmljayIsImZsb3JhbHdoaXRlIiwiZm9yZXN0Z3JlZW4iLCJmdWNoc2lhIiwiZ2FpbnNib3JvIiwiZ2hvc3R3aGl0ZSIsImdvbGRlbnJvZCIsImdvbGQiLCJncmF5IiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImdyZXkiLCJob25leWRldyIsImhvdHBpbmsiLCJpbmRpYW5yZWQiLCJpbmRpZ28iLCJpdm9yeSIsImtoYWtpIiwibGF2ZW5kZXJibHVzaCIsImxhdmVuZGVyIiwibGF3bmdyZWVuIiwibGVtb25jaGlmZm9uIiwibGlnaHRibHVlIiwibGlnaHRjb3JhbCIsImxpZ2h0Y3lhbiIsImxpZ2h0Z29sZGVucm9keWVsbG93IiwibGlnaHRncmF5IiwibGlnaHRncmVlbiIsImxpZ2h0Z3JleSIsImxpZ2h0cGluayIsImxpZ2h0c2FsbW9uIiwibGlnaHRzZWFncmVlbiIsImxpZ2h0c2t5Ymx1ZSIsImxpZ2h0c2xhdGVncmF5IiwibGlnaHRzbGF0ZWdyZXkiLCJsaWdodHN0ZWVsYmx1ZSIsImxpZ2h0eWVsbG93IiwibGltZSIsImxpbWVncmVlbiIsImxpbmVuIiwibWFnZW50YSIsIm1hcm9vbiIsIm1lZGl1bWFxdWFtYXJpbmUiLCJtZWRpdW1ibHVlIiwibWVkaXVtb3JjaGlkIiwibWVkaXVtcHVycGxlIiwibWVkaXVtc2VhZ3JlZW4iLCJtZWRpdW1zbGF0ZWJsdWUiLCJtZWRpdW1zcHJpbmdncmVlbiIsIm1lZGl1bXR1cnF1b2lzZSIsIm1lZGl1bXZpb2xldHJlZCIsIm1pZG5pZ2h0Ymx1ZSIsIm1pbnRjcmVhbSIsIm1pc3R5cm9zZSIsIm1vY2Nhc2luIiwibmF2YWpvd2hpdGUiLCJuYXZ5Iiwib2xkbGFjZSIsIm9saXZlIiwib2xpdmVkcmFiIiwib3JhbmdlIiwib3JhbmdlcmVkIiwib3JjaGlkIiwicGFsZWdvbGRlbnJvZCIsInBhbGVncmVlbiIsInBhbGV0dXJxdW9pc2UiLCJwYWxldmlvbGV0cmVkIiwicGFwYXlhd2hpcCIsInBlYWNocHVmZiIsInBlcnUiLCJwaW5rIiwicGx1bSIsInBvd2RlcmJsdWUiLCJwdXJwbGUiLCJyZWJlY2NhcHVycGxlIiwicmVkIiwicm9zeWJyb3duIiwicm95YWxibHVlIiwic2FkZGxlYnJvd24iLCJzYWxtb24iLCJzYW5keWJyb3duIiwic2VhZ3JlZW4iLCJzZWFzaGVsbCIsInNpZW5uYSIsInNpbHZlciIsInNreWJsdWUiLCJzbGF0ZWJsdWUiLCJzbGF0ZWdyYXkiLCJzbGF0ZWdyZXkiLCJzbm93Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJoZXgycmdiIiwiaGV4IiwiaGV4MnN0cmluZyIsImhleFN0cmluZyIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwic3RyaW5nMmhleCIsInJnYjJoZXgiLCJyZ2IiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwiTk9STUFMX05QTSIsIk5PUk1BTCIsIkFERF9OUE0iLCJBREQiLCJTQ1JFRU5fTlBNIiwiU0NSRUVOIiwibWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5UmdiYSIsImFscGhhIiwicHJlbXVsdGlwbHkiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiUiIsIkciLCJCIiwicHJlbXVsdGlwbHlUaW50VG9SZ2JhIiwiY3JlYXRlSW5kaWNlc0ZvclF1YWRzIiwic2l6ZSIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsIkVycm9yIiwiZ2V0QnVmZmVyVHlwZSIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiaW50ZXJsZWF2ZVR5cGVkQXJyYXlzIiwiYXJyYXlzIiwic2l6ZXMiLCJvdXRTaXplIiwic3RyaWRlIiwidmlld3MiLCJidWZmZXIiLCJsaXR0bGVPZmZzZXQiLCJuZXh0UG93MiIsImlzUG93MiIsImxvZzIiLCJyZW1vdmVJdGVtcyIsInN0YXJ0SWR4IiwicmVtb3ZlQ291bnQiLCJuZXh0VWlkIiwidWlkIiwid2FybmluZ3MiLCJkZXByZWNhdGlvbiIsInZlcnNpb24iLCJtZXNzYWdlIiwiaWdub3JlRGVwdGgiLCJzdGFjayIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJQcm9ncmFtQ2FjaGUiLCJUZXh0dXJlQ2FjaGUiLCJCYXNlVGV4dHVyZUNhY2hlIiwiZGVzdHJveVRleHR1cmVDYWNoZSIsImRlc3Ryb3kiLCJjbGVhclRleHR1cmVDYWNoZSIsIkNhbnZhc1JlbmRlclRhcmdldCIsInJlc29sdXRpb24iLCJyZXNpemUiLCJjbGVhciIsInNldFRyYW5zZm9ybSIsImNsZWFyUmVjdCIsImRlc2lyZWRXaWR0aCIsImRlc2lyZWRIZWlnaHQiLCJyb3VuZCIsInNldCIsImNvbmZpZ3VyYWJsZSIsInRyaW1DYW52YXMiLCJ3aWxsUmVhZEZyZXF1ZW50bHkiLCJwaXhlbHMiLCJnZXRJbWFnZURhdGEiLCJib3VuZCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInRlbXBBbmNob3IiLCJEQVRBX1VSSSIsImRlY29tcG9zZURhdGFVcmkiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwibWVkaWFUeXBlIiwic3ViVHlwZSIsImNoYXJzZXQiLCJlbmNvZGluZyIsImRldGVybWluZUNyb3NzT3JpZ2luIiwidXJsJDEiLCJsb2MiLCJwYXJzZWRVcmwiLCJzYW1lUG9ydCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJTSEFQRVMiLCJQSV8yIiwiUEkiLCJSQURfVE9fREVHIiwiREVHX1RPX1JBRCIsIlBvaW50IiwiY2xvbmUiLCJjb3B5RnJvbSIsImNvcHlUbyIsInRlbXBQb2ludHMiLCJSZWN0YW5nbGUiLCJSRUNUIiwicmVjdGFuZ2xlIiwiY29udGFpbnMiLCJ0cmFuc2Zvcm0iLCJ4MF8xIiwieTBfMSIsImx0IiwibGIiLCJydCIsInJiIiwibngiLCJueSIsIm4wMCIsIm4xMCIsIm4wMSIsIm4xMSIsIm0wMCIsIm0xMCIsIm0wMSIsIm0xMSIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MiIsInkyIiwiY2VpbCIsImVwcyIsImVubGFyZ2UiLCJDaXJjbGUiLCJyYWRpdXMiLCJDSVJDIiwicjIiLCJkeCIsImR5IiwiZ2V0Qm91bmRzIiwiRWxsaXBzZSIsImhhbGZXaWR0aCIsImhhbGZIZWlnaHQiLCJFTElQIiwibm9ybXgiLCJub3JteSIsIlBvbHlnb24iLCJwb2ludHMiLCJmbGF0IiwiaWwiLCJQT0xZIiwiY2xvc2VTdHJva2UiLCJwb2x5Z29uIiwieGkiLCJ5aSIsInhqIiwieWoiLCJyZWR1Y2UiLCJwb2ludHNEZXNjIiwiY3VycmVudFBvaW50IiwiUm91bmRlZFJlY3RhbmdsZSIsIlJSRUMiLCJyYWRpdXMyIiwiT2JzZXJ2YWJsZVBvaW50Iiwic2NvcGUiLCJfeCIsIl95IiwiTWF0cml4IiwidHgiLCJ0eSIsImZyb21BcnJheSIsInRvQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJhcHBseUludmVyc2UiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInJvdGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInBpdm90IiwiYXRhbjIiLCJza2V3Iiwic3FydCIsInBvc2l0aW9uIiwiaW52ZXJ0IiwiaWRlbnRpdHkiLCJ1eCIsInV5IiwidngiLCJ2eSIsInJvdGF0aW9uQ2F5bGV5Iiwicm90YXRpb25NYXRyaWNlcyIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsIm1hdCIsImluaXQiLCJncm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk5XIiwiTiIsIk5FIiwiTUlSUk9SX1ZFUlRJQ0FMIiwiTUFJTl9ESUFHT05BTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwiUkVWRVJTRV9ESUFHT05BTCIsInVYIiwiaW5kIiwidVkiLCJ2WCIsInZZIiwiaW52IiwiYWRkIiwicm90YXRpb25TZWNvbmQiLCJyb3RhdGlvbkZpcnN0Iiwic3ViIiwicm90YXRlMTgwIiwiaXNWZXJ0aWNhbCIsImJ5RGlyZWN0aW9uIiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJUcmFuc2Zvcm0iLCJ3b3JsZFRyYW5zZm9ybSIsImxvY2FsVHJhbnNmb3JtIiwib25DaGFuZ2UiLCJ1cGRhdGVTa2V3IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5IiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJfd29ybGRJRCIsIl9wYXJlbnRJRCIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwidXBkYXRlVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsInNldEZyb21NYXRyaXgiLCJJREVOVElUWSIsIlNPUlRBQkxFX0NISUxEUkVOIiwiQm91bmRzIiwicmVjdCIsInVwZGF0ZUlEIiwiaXNFbXB0eSIsImdldFJlY3RhbmdsZSIsIkVNUFRZIiwiYWRkUG9pbnQiLCJwb2ludCIsImFkZFBvaW50TWF0cml4IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwiYWRkRnJhbWVNYXRyaXgiLCJhZGRWZXJ0ZXhEYXRhIiwidmVydGV4RGF0YSIsImJlZ2luT2Zmc2V0IiwiZW5kT2Zmc2V0IiwiYWRkVmVydGljZXMiLCJhZGRWZXJ0aWNlc01hdHJpeCIsInBhZFgiLCJwYWRZIiwicmF3WCIsInJhd1kiLCJhZGRCb3VuZHMiLCJib3VuZHMiLCJhZGRCb3VuZHNNYXNrIiwibWFzayIsIl9taW5YIiwiX21pblkiLCJfbWF4WCIsIl9tYXhZIiwiYWRkQm91bmRzTWF0cml4IiwiYWRkQm91bmRzQXJlYSIsImFkZEZyYW1lUGFkIiwiZXh0ZW5kU3RhdGljcyIsInNldFByb3RvdHlwZU9mIiwiX19leHRlbmRzIiwiX18iLCJEaXNwbGF5T2JqZWN0IiwiX3N1cGVyIiwiX3RoaXMiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInZpc2libGUiLCJyZW5kZXJhYmxlIiwiY3VsbGFibGUiLCJjdWxsQXJlYSIsInBhcmVudCIsIndvcmxkQWxwaGEiLCJfbGFzdFNvcnRlZEluZGV4IiwiX3pJbmRleCIsImZpbHRlckFyZWEiLCJmaWx0ZXJzIiwiX2VuYWJsZWRGaWx0ZXJzIiwiX2JvdW5kcyIsIl9sb2NhbEJvdW5kcyIsIl9ib3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX21hc2tSZWZDb3VudCIsIl9kZXN0cm95ZWQiLCJpc1Nwcml0ZSIsImlzTWFzayIsIm1peGluIiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwiZ2V0TG9jYWxCb3VuZHMiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ3b3JsZEJvdW5kcyIsIndvcmxkQm91bmRzSUQiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJfb3B0aW9ucyIsInJlbW92ZUNoaWxkIiwiaGl0QXJlYSIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIlRlbXBvcmFyeURpc3BsYXlPYmplY3QiLCJlbmFibGVUZW1wUGFyZW50IiwibXlQYXJlbnQiLCJkaXNhYmxlVGVtcFBhcmVudCIsImNhY2hlUGFyZW50Iiwic29ydERpcnR5IiwiaXRlbSIsIm1hc2tPYmplY3QiLCJpc01hc2tEYXRhIiwic29ydENoaWxkcmVuIiwiekluZGV4IiwiQ29udGFpbmVyIiwic29ydGFibGVDaGlsZHJlbiIsIm9uQ2hpbGRyZW5DaGFuZ2UiLCJfbGVuZ3RoIiwiY2hpbGQiLCJhZGRDaGlsZEF0Iiwic3dhcENoaWxkcmVuIiwiY2hpbGQyIiwiaW5kZXgxIiwiZ2V0Q2hpbGRJbmRleCIsImluZGV4MiIsInNldENoaWxkSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJnZXRDaGlsZEF0IiwicmVtb3ZlQ2hpbGRBdCIsInJlbW92ZUNoaWxkcmVuIiwiYmVnaW5JbmRleCIsImVuZEluZGV4IiwicmVtb3ZlZCIsImJlZ2luIiwicmFuZ2UiLCJzb3J0UmVxdWlyZWQiLCJfY2FsY3VsYXRlQm91bmRzIiwic2tpcENoaWxkcmVuVXBkYXRlIiwiX3JlbmRlcldpdGhDdWxsaW5nIiwicmVuZGVyZXIiLCJzb3VyY2VGcmFtZSIsInJlbmRlclRleHR1cmUiLCJfcmVuZGVyIiwiY2hpbGRDdWxsYWJsZSIsInJlbmRlciIsInJlbmRlckFkdmFuY2VkIiwiZW5hYmxlZCIsImZsdXNoIiwiYXV0b0RldGVjdCIsImJhdGNoIiwiZmlsdGVyIiwiX3JlbmRlcmVyIiwiZGVzdHJveUNoaWxkcmVuIiwib2xkQ2hpbGRyZW4iLCJfd2lkdGgiLCJfaGVpZ2h0IiwiY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtIiwiRXh0ZW5zaW9uVHlwZSIsIl9fYXNzaWduIiwiVVBEQVRFX1BSSU9SSVRZIiwibm9ybWFsaXplRXh0ZW5zaW9uIiwiZXh0ZW5zaW9uIiwibWV0YWRhdGEiLCJyZWYiLCJleHRlbnNpb25zIiwiX2FkZEhhbmRsZXJzIiwiX3JlbW92ZUhhbmRsZXJzIiwiX3F1ZXVlIiwicmVtb3ZlIiwiX2IiLCJvbkFkZCIsIm9uUmVtb3ZlIiwiYWRkSGFuZGxlcnMiLCJyZW1vdmVIYW5kbGVycyIsImhhbmRsZUJ5TWFwIiwiaGFuZGxlQnlMaXN0IiwiTG9hZGVyIiwiUnVubmVyIiwiaXRlbXMiLCJfbmFtZSIsIl9hbGlhc0NvdW50IiwiYTAiLCJhNiIsImE3IiwiZW5zdXJlTm9uQWxpYXNlZEl0ZW1zIiwicmVtb3ZlQWxsIiwiZGVmaW5lUHJvcGVydGllcyIsImRpc3BhdGNoIiwicnVuIiwiVEFSR0VUX0ZQTVMiLCJUaWNrZXJMaXN0ZW5lciIsInByaW9yaXR5IiwicHJldmlvdXMiLCJkZWx0YVRpbWUiLCJyZWRpcmVjdCIsImNvbm5lY3QiLCJoYXJkIiwiVGlja2VyIiwiYXV0b1N0YXJ0Iiwic3BlZWQiLCJzdGFydGVkIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJfbWluRWxhcHNlZE1TIiwiX3Byb3RlY3RlZCIsIl9sYXN0RnJhbWUiLCJfaGVhZCIsImRlbHRhTVMiLCJlbGFwc2VkTVMiLCJfdGljayIsInRpbWUiLCJ1cGRhdGUiLCJfcmVxdWVzdElmTmVlZGVkIiwiX2NhbmNlbElmTmVlZGVkIiwiX3N0YXJ0SWZQb3NzaWJsZSIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJjdXJyZW50IiwiY291bnQiLCJoZWFkIiwiZnBzIiwibWluRlBTIiwibWF4RlBTIiwibWluRlBNUyIsIl9zaGFyZWQiLCJzaGFyZWQiLCJfc3lzdGVtIiwic3lzdGVtIiwiVGlja2VyUGx1Z2luIiwic2hhcmVkVGlja2VyIiwidGlja2VyIiwiX3RpY2tlciIsIkxPVyIsIm9sZFRpY2tlciIsIkFwcGxpY2F0aW9uIiwiUFJFRkVSX0VOViIsIldFQkdMIiwiV0VCR0wyIiwiU1RSSUNUX1RFWFRVUkVfQ0FDSEUiLCJJTlNUQUxMRUQiLCJhdXRvRGV0ZWN0UmVzb3VyY2UiLCJSZXNvdXJjZVBsdWdpbiIsIlJlc291cmNlIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsImJpbmQiLCJiYXNlVGV4dHVyZSIsInVuYmluZCIsImxvYWQiLCJzdHlsZSIsIl9iYXNlVGV4dHVyZSIsIl9nbFRleHR1cmUiLCJkaXNwb3NlIiwiX3NvdXJjZSIsIl9leHRlbnNpb24iLCJCdWZmZXJSZXNvdXJjZSIsInVwbG9hZCIsImdsVGV4dHVyZSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwiYWxwaGFNb2RlIiwiVU5QQUNLIiwicmVhbFdpZHRoIiwicmVhbEhlaWdodCIsInRleFN1YkltYWdlMkQiLCJ0ZXhJbWFnZTJEIiwiaW50ZXJuYWxGb3JtYXQiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsIk5FQVJFU1QiLCJSR0JBIiwiTlBNIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInJlc291cmNlT3B0aW9ucyIsIl9taXBtYXAiLCJfd3JhcE1vZGUiLCJfc2NhbGVNb2RlIiwiVU5TSUdORURfQllURSIsIlRFWFRVUkVfMkQiLCJ0b3VjaGVkIiwiaXNQb3dlck9mVHdvIiwiX3JlZnJlc2hQT1QiLCJfZ2xUZXh0dXJlcyIsImRpcnR5SWQiLCJkaXJ0eVN0eWxlSWQiLCJjYWNoZUlkIiwidmFsaWQiLCJ0ZXh0dXJlQ2FjaGVJZHMiLCJfYmF0Y2hFbmFibGVkIiwiX2JhdGNoTG9jYXRpb24iLCJwYXJlbnRUZXh0dXJlQXJyYXkiLCJzZXRSZXNvdXJjZSIsInNldFN0eWxlIiwiZGlydHkiLCJzZXRTaXplIiwic2V0UmVhbFNpemUiLCJzZXRSZXNvbHV0aW9uIiwib2xkUmVzb2x1dGlvbiIsInJlbW92ZUZyb21DYWNoZSIsImNhc3RUb0Jhc2VUZXh0dXJlIiwic3RyaWN0IiwiaXNGcmFtZSIsIl9waXhpSWQiLCJwaXhpSWRQcmVmaXgiLCJhZGRUb0NhY2hlIiwiZnJvbUJ1ZmZlciIsIkZMT0FUIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJfZ2xvYmFsQmF0Y2giLCJBYnN0cmFjdE11bHRpUmVzb3VyY2UiLCJpdGVtRGlydHlJZHMiLCJwYXJ0VGV4dHVyZSIsIl9sb2FkIiwiaW5pdEZyb21BcnJheSIsInJlc291cmNlcyIsImFkZEJhc2VUZXh0dXJlQXQiLCJhZGRSZXNvdXJjZUF0IiwicHJvbWlzZXMiLCJBcnJheVJlc291cmNlIiwidXJscyIsIlRFWFRVUkVfMkRfQVJSQVkiLCJ0ZXh0dXJlIiwidGV4SW1hZ2UzRCIsInRleFN1YkltYWdlM0QiLCJCYXNlSW1hZ2VSZXNvdXJjZSIsInNvdXJjZUFueSIsIm5hdHVyYWxXaWR0aCIsInZpZGVvV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJub1N1YkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJlbGVtZW50IiwiY3Jvc3NvcmlnaW4iLCJIVE1MSW1hZ2VFbGVtZW50IiwiY29tcGxldGUiLCJIVE1MVmlkZW9FbGVtZW50IiwicmVhZHlTdGF0ZSIsIkNhbnZhc1Jlc291cmNlIiwiT2Zmc2NyZWVuQ2FudmFzIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJDdWJlUmVzb3VyY2UiLCJhdXRvTG9hZCIsImxpbmtCYXNlVGV4dHVyZSIsIlNJREVTIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YIiwiVEVYVFVSRV9DVUJFX01BUCIsInNpZGUiLCJJbWFnZVJlc291cmNlIiwiaW1hZ2VFbGVtZW50IiwiSW1hZ2UiLCJzcmMiLCJfcHJvY2VzcyIsInByZXNlcnZlQml0bWFwIiwiY3JlYXRlQml0bWFwIiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJiaXRtYXAiLCJjb21wbGV0ZWQiLCJvbmxvYWQiLCJvbmVycm9yIiwicHJvY2VzcyIsImNvcnMiLCJtb2RlIiwiYmxvYiIsInByZW11bHRpcGx5QWxwaGEiLCJnbFRleHR1cmVzIiwib3RoZXJUZXgiLCJjbG9zZSIsIlNWR1Jlc291cmNlIiwic291cmNlQmFzZTY0Iiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsIlNWR19YTUwiLCJidG9hIiwidW5lc2NhcGUiLCJfbG9hZFN2ZyIsInRlbXBJbWFnZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0IiwiZHJhd0ltYWdlIiwiZ2V0U2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwiVmlkZW9SZXNvdXJjZSIsInZpZGVvRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImZpcnN0U3JjIiwic291cmNlRWxlbWVudCIsIm1pbWUiLCJiYXNlU3JjIiwiTUlNRV9UWVBFUyIsImFwcGVuZENoaWxkIiwiX2F1dG9VcGRhdGUiLCJfaXNDb25uZWN0ZWRUb1RpY2tlciIsIl91cGRhdGVGUFMiLCJ1cGRhdGVGUFMiLCJfbXNUb05leHRVcGRhdGUiLCJhdXRvUGxheSIsIl9vbkNhblBsYXkiLCJfb25FcnJvciIsIl9kZWx0YVRpbWUiLCJwbGF5YmFja1JhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfb25QbGF5U3RhcnQiLCJfb25QbGF5U3RvcCIsIl9pc1NvdXJjZVJlYWR5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9pc1NvdXJjZVBsYXlpbmciLCJwYXVzZWQiLCJlbmRlZCIsImF1dG9VcGRhdGUiLCJwbGF5IiwicGF1c2UiLCJvZ3YiLCJtb3YiLCJtNHYiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJfcmVzb3VyY2VzIiwiRGVwdGhSZXNvdXJjZSIsIkZyYW1lYnVmZmVyIiwiZGVwdGgiLCJkaXJ0eUZvcm1hdCIsImRpcnR5U2l6ZSIsImRlcHRoVGV4dHVyZSIsImNvbG9yVGV4dHVyZXMiLCJnbEZyYW1lYnVmZmVycyIsImRpc3Bvc2VSdW5uZXIiLCJtdWx0aXNhbXBsZSIsImFkZENvbG9yVGV4dHVyZSIsIk9GRiIsImFkZERlcHRoVGV4dHVyZSIsIkRFUFRIX0NPTVBPTkVOVCIsIlVOU0lHTkVEX1NIT1JUIiwiZW5hYmxlRGVwdGgiLCJlbmFibGVTdGVuY2lsIiwiZGVzdHJveURlcHRoVGV4dHVyZSIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiY2xlYXJDb2xvciIsImZyYW1lYnVmZmVyIiwibWFza1N0YWNrIiwiZmlsdGVyU3RhY2siLCJUZXh0dXJlVXZzIiwieDMiLCJ5MyIsInV2c0Zsb2F0MzIiLCJmcmFtZSIsImJhc2VGcmFtZSIsInR3IiwidGgiLCJ3MiIsImgyIiwiY1giLCJjWSIsIkRFRkFVTFRfVVZTIiwicmVtb3ZlQWxsSGFuZGxlcnMiLCJ0ZXgiLCJUZXh0dXJlIiwib3JpZyIsImFuY2hvciIsIm5vRnJhbWUiLCJfZnJhbWUiLCJfdXZzIiwidXZNYXRyaXgiLCJfcm90YXRlIiwiZGVmYXVsdEFuY2hvciIsIl91cGRhdGVJRCIsIm9uQmFzZVRleHR1cmVVcGRhdGVkIiwidXBkYXRlVXZzIiwiZGVzdHJveUJhc2UiLCJjbG9uZWRGcmFtZSIsImNsb25lZE9yaWciLCJjbG9uZWRUZXh0dXJlIiwiZnJvbVVSTCIsImZyb21Mb2FkZXIiLCJpbWFnZVVybCIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsIl9FTVBUWSIsIl9XSElURSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiUmVuZGVyVGV4dHVyZSIsImJhc2VSZW5kZXJUZXh0dXJlIiwiZmlsdGVyRnJhbWUiLCJmaWx0ZXJQb29sS2V5IiwicmVzaXplQmFzZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlUG9vbCIsInRleHR1cmVPcHRpb25zIiwidGV4dHVyZVBvb2wiLCJlbmFibGVGdWxsU2NyZWVuIiwiX3BpeGVsc1dpZHRoIiwiX3BpeGVsc0hlaWdodCIsImNyZWF0ZVRleHR1cmUiLCJnZXRPcHRpbWFsVGV4dHVyZSIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiZ2V0RmlsdGVyVGV4dHVyZSIsImZpbHRlclRleHR1cmUiLCJyZXR1cm5UZXh0dXJlIiwicmV0dXJuRmlsdGVyVGV4dHVyZSIsImRlc3Ryb3lUZXh0dXJlcyIsInRleHR1cmVzIiwic2V0U2NyZWVuU2l6ZSIsIlNDUkVFTl9LRVkiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwiaW5zdGFuY2UiLCJVSUQkNCIsIkJ1ZmZlciIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJBUlJBWV9CVUZGRVIiLCJtYXAkMSIsImJ5dGVTaXplTWFwJDEiLCJVSUQkMyIsIkdlb21ldHJ5IiwiYnVmZmVycyIsImF0dHJpYnV0ZXMiLCJpbmRleEJ1ZmZlciIsImdsVmVydGV4QXJyYXlPYmplY3RzIiwiaW5zdGFuY2VkIiwiaW5zdGFuY2VDb3VudCIsInJlZkNvdW50IiwiYWRkQXR0cmlidXRlIiwiaWRzIiwiYnVmZmVySW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJnZXRCdWZmZXIiLCJhZGRJbmRleCIsImdldEluZGV4IiwiaW50ZXJsZWF2ZSIsImludGVybGVhdmVkQnVmZmVyIiwiYXR0cmlidXRlIiwiZ2VvbWV0cnkiLCJhdHRyaWIiLCJtZXJnZSIsImdlb21ldHJpZXMiLCJnZW9tZXRyeU91dCIsIm9mZnNldHMiLCJvZmZzZXQiLCJvZmZzZXQyIiwiYnVmZmVySW5kZXhUb0NvdW50IiwiaW5kZXhCdWZmZXJEYXRhIiwiUXVhZCIsIlF1YWRVdiIsInV2cyIsInZlcnRleEJ1ZmZlciIsInV2QnVmZmVyIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsImludmFsaWRhdGUiLCJVSUQkMiIsIlVuaWZvcm1Hcm91cCIsInVuaWZvcm1zIiwiaXNTdGF0aWMiLCJpc1VibyIsImdyb3VwIiwic3luY1VuaWZvcm1zIiwidWJvIiwiVU5JRk9STV9CVUZGRVIiLCJhdXRvTWFuYWdlIiwiX3VibyIsInVib0Zyb20iLCJGaWx0ZXJTdGF0ZSIsImJpbmRpbmdTb3VyY2VGcmFtZSIsImJpbmRpbmdEZXN0aW5hdGlvbkZyYW1lIiwidGVtcE1hdHJpeCQyIiwiRmlsdGVyU3lzdGVtIiwiZGVmYXVsdEZpbHRlclN0YWNrIiwic3RhdGVQb29sIiwicXVhZCIsInF1YWRVdiIsInRlbXBSZWN0IiwiYWN0aXZlU3RhdGUiLCJnbG9iYWxVbmlmb3JtcyIsIm91dHB1dEZyYW1lIiwiaW5wdXRTaXplIiwiaW5wdXRQaXhlbCIsImlucHV0Q2xhbXAiLCJmaWx0ZXJDbGFtcCIsImZvcmNlQ2xlYXIiLCJ1c2VNYXhQYWRkaW5nIiwic3RhdGUiLCJyZW5kZXJUZXh0dXJlU3lzdGVtIiwicGFkZGluZyIsImF1dG9GaXQiLCJzb3VyY2VGcmFtZVByb2plY3RlZCIsInByb2plY3Rpb24iLCJ0cmFuc2Zvcm1BQUJCIiwicm91bmRGcmFtZSIsImdldE9wdGltYWxGaWx0ZXJUZXh0dXJlIiwibGFzdFN0YXRlIiwiYmxpdCIsIkJMRU5EIiwiZmxpcCIsImZsb3AiLCJDTEVBUiIsImJpbmRBbmRDbGVhciIsImNsZWFyTW9kZSIsInN0YXRlU3lzdGVtIiwiYXV0b0NsZWFyIiwic3RhdGVJZCIsIkJMSVQiLCJhcHBseUZpbHRlciIsInVTYW1wbGVyIiwiZmlsdGVyR2xvYmFscyIsInNoYWRlciIsInByb2dyYW0iLCJhdHRyaWJ1dGVEYXRhIiwiYVRleHR1cmVDb29yZCIsImRyYXciLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsIl90ZXh0dXJlIiwibWFwcGVkTWF0cml4IiwiVEVNUF9NQVRSSVgiLCJzd2FwIiwiZW1wdHlQb29sIiwiT2JqZWN0UmVuZGVyZXIiLCJfb2JqZWN0IiwiQmF0Y2hTeXN0ZW0iLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJvYmplY3RSZW5kZXJlciIsInJlc2V0IiwiY29weUJvdW5kVGV4dHVyZXMiLCJtYXhUZXh0dXJlcyIsImJvdW5kVGV4dHVyZXMiLCJib3VuZEFycmF5IiwidGV4QXJyYXkiLCJiYXRjaElkIiwiZWxlbWVudHMiLCJDT05URVhUX1VJRF9DT1VOVEVSIiwiQ29udGV4dFN5c3RlbSIsIndlYkdMVmVyc2lvbiIsInN1cHBvcnRzIiwidWludDMySW5kaWNlcyIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiaXNDb250ZXh0TG9zdCIsImNvbnRleHRDaGFuZ2UiLCJDT05URVhUX1VJRCIsInJlc3RvcmVDb250ZXh0IiwiaW5pdEZyb21Db250ZXh0IiwidmFsaWRhdGVDb250ZXh0IiwicnVubmVycyIsImluaXRGcm9tT3B0aW9ucyIsImNyZWF0ZUNvbnRleHQiLCJnZXRFeHRlbnNpb25zIiwiY29tbW9uIiwiYW5pc290cm9waWNGaWx0ZXJpbmciLCJmbG9hdFRleHR1cmVMaW5lYXIiLCJzM3RjIiwiczN0Y19zUkdCIiwiZXRjIiwiZXRjMSIsInB2cnRjIiwiYXRjIiwiYXN0YyIsImRyYXdCdWZmZXJzIiwidmVydGV4QXJyYXlPYmplY3QiLCJ1aW50MzJFbGVtZW50SW5kZXgiLCJmbG9hdFRleHR1cmUiLCJ0ZXh0dXJlSGFsZkZsb2F0IiwidGV4dHVyZUhhbGZGbG9hdExpbmVhciIsImNvbG9yQnVmZmVyRmxvYXQiLCJwcmV2ZW50RGVmYXVsdCIsInVzZVByb2dyYW0iLCJwb3N0cmVuZGVyIiwicmVuZGVyaW5nVG9TY3JlZW4iLCJpc1dlYkdsMiIsIldlYkdMMlJlbmRlcmluZ0NvbnRleHQiLCJoYXN1aW50MzIiLCJHTEZyYW1lYnVmZmVyIiwibXNhYUJ1ZmZlciIsImJsaXRGcmFtZWJ1ZmZlciIsIm1pcExldmVsIiwidGVtcFJlY3RhbmdsZSIsIkZyYW1lYnVmZmVyU3lzdGVtIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsIm1zYWFTYW1wbGVzIiwidmlld3BvcnQiLCJoYXNNUlQiLCJ3cml0ZURlcHRoVGV4dHVyZSIsImRpc3Bvc2VBbGwiLCJuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiV0VCR0xfTEVHQUNZIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIiLCJSRU5ERVJCVUZGRVIiLCJSR0JBOCIsIlNBTVBMRVMiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJtaXBXaWR0aCIsIm1pcEhlaWdodCIsInNldFZpZXdwb3J0IiwiQ09MT1IiLCJERVBUSCIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiZGV0ZWN0U2FtcGxlcyIsImJpbmRSZW5kZXJidWZmZXIiLCJyZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUiLCJERVBUSDI0X1NURU5DSUw4IiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJwYXJlbnRUZXh0dXJlIiwiY2FuTXVsdGlzYW1wbGVGcmFtZWJ1ZmZlciIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkRFUFRIX0FUVEFDSE1FTlQiLCJERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQiLCJzYW1wbGVzIiwic291cmNlUGl4ZWxzIiwiZGVzdFBpeGVscyIsImNvbG9yVGV4dHVyZSIsInNhbWVTaXplIiwiUkVBRF9GUkFNRUJVRkZFUiIsIkNPTE9SX0JVRkZFUl9CSVQiLCJkaXNwb3NlRnJhbWVidWZmZXIiLCJjb250ZXh0TG9zdCIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZm9yY2VTdGVuY2lsIiwiYnl0ZVNpemVNYXAiLCJHZW9tZXRyeVN5c3RlbSIsIl9hY3RpdmVHZW9tZXRyeSIsIl9hY3RpdmVWYW8iLCJoYXNWYW8iLCJoYXNJbnN0YW5jZSIsImNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCIsIm1hbmFnZWRHZW9tZXRyaWVzIiwibmF0aXZlVmFvRXh0ZW5zaW9uXzEiLCJjcmVhdGVWZXJ0ZXhBcnJheSIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiYmluZFZlcnRleEFycmF5IiwidmFvIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsImluc3RhbmNlRXh0XzEiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yIiwidmVydGV4QXR0cmliRGl2aXNvckFOR0xFIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLCJkcmF3QXJyYXlzSW5zdGFuY2VkIiwiZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIiwidmFvcyIsImluY1JlZkNvdW50IiwiaW5pdEdlb21ldHJ5VmFvIiwiYWN0aXZhdGVWYW8iLCJ1cGRhdGVCdWZmZXJzIiwiYnVmZmVyU3lzdGVtIiwiY2hlY2tDb21wYXRpYmlsaXR5IiwiZ2VvbWV0cnlBdHRyaWJ1dGVzIiwic2hhZGVyQXR0cmlidXRlcyIsImdldFNpZ25hdHVyZSIsImF0dHJpYnMiLCJzdHJpbmdzIiwiZ2xQcm9ncmFtcyIsImdlbmVyYXRlUHJvZ3JhbSIsInNpZ25hdHVyZSIsInZhb09iamVjdEhhc2giLCJ0ZW1wU3RyaWRlIiwidGVtcFN0YXJ0IiwiYXR0cmliU2l6ZSIsImRpc3Bvc2VHZW9tZXRyeSIsImJ1ZiIsInZhb0lkIiwibGFzdEJ1ZmZlciIsImdsQnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiYnl0ZVNpemUiLCJnbFR5cGUiLCJVTlNJR05FRF9JTlQiLCJkcmF3RWxlbWVudHMiLCJkcmF3QXJyYXlzIiwiTWFza0RhdGEiLCJwb29sZWQiLCJjb2xvck1hc2siLCJfZmlsdGVycyIsIl9zdGVuY2lsQ291bnRlciIsIl9zY2lzc29yQ291bnRlciIsIl9zY2lzc29yUmVjdCIsIl9zY2lzc29yUmVjdExvY2FsIiwiX2NvbG9yTWFzayIsIl90YXJnZXQiLCJjb3B5Q291bnRlcnNPclJlc2V0IiwibWFza0Fib3ZlIiwiY29tcGlsZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImxvZ1ByZXR0eVNoYWRlckVycm9yIiwic2hhZGVyU3JjIiwiZ2V0U2hhZGVyU291cmNlIiwibGluZSIsInNoYWRlckxvZyIsImdldFNoYWRlckluZm9Mb2ciLCJzcGxpdFNoYWRlciIsImRlZHVwZSIsImxpbmVOdW1iZXJzIiwibG9nQXJncyIsIm51bWJlciIsImZyYWdtZW50U291cmNlVG9Mb2ciLCJib29sZWFuQXJyYXkiLCJtYXhGcmFnbWVudFByZWNpc2lvbiIsInVua25vd25Db250ZXh0IiwiZ2V0VGVzdENvbnRleHQiLCJzZXRQcmVjaXNpb24iLCJyZXF1ZXN0ZWRQcmVjaXNpb24iLCJtYXhTdXBwb3J0ZWRQcmVjaXNpb24iLCJwcmVjaXNpb24iLCJHTFNMX1RPX1NJWkUiLCJmbG9hdCIsInZlYzIiLCJ2ZWMzIiwidmVjNCIsImludCIsIml2ZWMyIiwiaXZlYzMiLCJpdmVjNCIsInVpbnQiLCJ1dmVjMiIsInV2ZWMzIiwidXZlYzQiLCJib29sIiwiYnZlYzIiLCJidmVjMyIsImJ2ZWM0IiwibWF0MiIsIm1hdDMiLCJtYXQ0Iiwic2FtcGxlcjJEIiwibWFwU2l6ZSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIlVOU0lHTkVEX0lOVF9WRUMyIiwiVU5TSUdORURfSU5UX1ZFQzMiLCJVTlNJR05FRF9JTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwiSU5UX1NBTVBMRVJfMkQiLCJVTlNJR05FRF9JTlRfU0FNUExFUl8yRCIsIlNBTVBMRVJfQ1VCRSIsIklOVF9TQU1QTEVSX0NVQkUiLCJVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFIiwiU0FNUExFUl8yRF9BUlJBWSIsIklOVF9TQU1QTEVSXzJEX0FSUkFZIiwiVU5TSUdORURfSU5UX1NBTVBMRVJfMkRfQVJSQVkiLCJtYXBUeXBlIiwidHlwZU5hbWVzIiwidG4iLCJ1bnNhZmVFdmFsIiwidW5pZm9ybVBhcnNlcnMiLCJ1bmlmb3JtIiwiY29kZVVibyIsIkdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIiwic2FtcGxlckN1YmUiLCJzYW1wbGVyMkRBcnJheSIsIkdMU0xfVE9fQVJSQVlfU0VUVEVSUyIsImZyYWdUZW1wbGF0ZSIsImdlbmVyYXRlSWZUZXN0U3JjIiwibWF4SWZzIiwiY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImZyYWdtZW50U3JjIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJVSUQkMSIsIm5hbWVDYWNoZSIsIlByb2dyYW0iLCJ2ZXJ0ZXhTcmMiLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0Iiwic2hhZGVyRnJhZ21lbnQiLCJISUdIX0ZMT0FUIiwiZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24iLCJTaGFkZXIiLCJ1bmlmb3JtQmluZENvdW50IiwidW5pZm9ybUdyb3VwIiwiY2hlY2tVbmlmb3JtRXhpc3RzIiwiU3RhdGUiLCJwb2x5Z29uT2Zmc2V0IiwiYmxlbmQiLCJkZXB0aE1hc2siLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJjdWxsaW5nIiwiZm9yMmQiLCJkZXB0aFRlc3QiLCJGaWx0ZXIiLCJmaWx0ZXJNYW5hZ2VyIiwiX2N1cnJlbnRTdGF0ZSIsIl9yZXNvbHV0aW9uIiwidGVtcE1hdCIsIlRleHR1cmVNYXRyaXgiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJfdGV4dHVyZUlEIiwiY2xhbXBPZmZzZXQiLCJpc1NpbXBsZSIsIm11bHRpcGx5VXZzIiwiZm9yY2VVcGRhdGUiLCJ0ZXhCYXNlIiwibWFyZ2luIiwiU3ByaXRlTWFza0ZpbHRlciIsIm1hc2tTcHJpdGUiLCJtYXNrTWF0cml4IiwiX21hc2tTcHJpdGUiLCJucG1BbHBoYSIsIm90aGVyTWF0cml4IiwibWFza0NsYW1wIiwiTWFza1N5c3RlbSIsImVuYWJsZVNjaXNzb3IiLCJhbHBoYU1hc2tQb29sIiwibWFza0RhdGFQb29sIiwiYWxwaGFNYXNrSW5kZXgiLCJzZXRNYXNrU3RhY2siLCJzY2lzc29yIiwibWFza0RhdGFPclRhcmdldCIsIm1hc2tEYXRhIiwiZGV0ZWN0IiwiU1BSSVRFIiwiU0NJU1NPUiIsIlNURU5DSUwiLCJwdXNoU3ByaXRlTWFzayIsInB1c2hDb2xvck1hc2siLCJwb3BTcHJpdGVNYXNrIiwicG9wQ29sb3JNYXNrIiwibWFza0N1cnJlbnQiLCJ0ZXN0U2Npc3NvciIsImFscGhhTWFza0ZpbHRlciIsInN0YXNoRmlsdGVyQXJlYSIsImN1cnJDb2xvck1hc2siLCJuZXh0Q29sb3JNYXNrIiwiQWJzdHJhY3RNYXNrU3lzdGVtIiwiZ2xDb25zdCIsImdldFN0YWNrTGVuZ3RoIiwiY3VyU3RhY2tMZW4iLCJuZXdTdGFja0xlbiIsImRpc2FibGUiLCJlbmFibGUiLCJfdXNlQ3VycmVudCIsInRlbXBNYXRyaXgkMSIsInJlY3RQb29sIiwiU2Npc3NvclN5c3RlbSIsIlNDSVNTT1JfVEVTVCIsImNhbGNTY2lzc29yUmVjdCIsInByZXZEYXRhIiwicm91bmRGcmFtZVRvUGl4ZWxzIiwiaXNNYXRyaXhSb3RhdGVkIiwiaXNGYXN0UmVjdCIsIlN0ZW5jaWxTeXN0ZW0iLCJTVEVOQ0lMX1RFU1QiLCJwcmV2TWFza0NvdW50IiwiY2xlYXJTdGVuY2lsIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiREVDUiIsIlByb2plY3Rpb25TeXN0ZW0iLCJkZWZhdWx0RnJhbWUiLCJwcm9qZWN0aW9uTWF0cml4IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN5bmNVbmlmb3JtR3JvdXAiLCJnbG9iYWxzIiwiX2Rlc3RpbmF0aW9uRnJhbWUiLCJfbWF0cml4IiwidGVtcFJlY3QyIiwiUmVuZGVyVGV4dHVyZVN5c3RlbSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwiZGVmYXVsdE1hc2tTdGFjayIsInZpZXdwb3J0RnJhbWUiLCJzY3JlZW4iLCJjbGVhck1hc2siLCJ1Ym9VcGRhdGUiLCJfdWQiLCJfdXYiLCJfc3luY0RhdGEiLCJVQk9fVE9fU0lOR0xFX1NFVFRFUlMiLCJHTFNMX1RPX1NURDQwX1NJWkUiLCJjcmVhdGVVQk9FbGVtZW50cyIsInVuaWZvcm1EYXRhIiwidWJvRWxlbWVudHMiLCJkYXRhTGVuIiwiY2h1bmtTaXplIiwidWJvRWxlbWVudCIsImxpbmVVcFZhbHVlIiwiZ2V0VUJPRGF0YSIsInVzZWRVbmlmb3JtRGF0YXMiLCJnZW5lcmF0ZVVuaWZvcm1CdWZmZXJTeW5jIiwic3luY0Z1bmMiLCJmdW5jRnJhZ21lbnRzIiwicGFyc2VkIiwidW5pZm9ybVBhcnNlciIsInNpemVfMSIsInJvd1NpemUiLCJlbGVtZW50U2l6ZSIsInJlbWFpbmRlciIsInRlbXBsYXRlIiwiSUdMVW5pZm9ybURhdGEiLCJHTFByb2dyYW0iLCJ1bmlmb3JtR3JvdXBzIiwidW5pZm9ybURpcnR5R3JvdXBzIiwidW5pZm9ybUJ1ZmZlckJpbmRpbmdzIiwiZ2xWZXJ0U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIndlYkdMUHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJsb2dQcm9ncmFtRXJyb3IiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImdldEF0dHJpYnV0ZURhdGEiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImdldFVuaWZvcm1EYXRhIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwiZGVsZXRlU2hhZGVyIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiVUlEIiwiZGVmYXVsdFN5bmNEYXRhIiwidGV4dHVyZUNvdW50IiwidWJvQ291bnQiLCJTaGFkZXJTeXN0ZW0iLCJzeXN0ZW1DaGVjayIsImNhY2hlIiwiX3Vib0NhY2hlIiwiZnVuYyIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsInNldFVuaWZvcm1zIiwic3luY0RhdGEiLCJnZXRHbFByb2dyYW0iLCJjcmVhdGVTeW5jR3JvdXBzIiwiZ2VuZXJhdGVVbmlmb3Jtc1N5bmMiLCJzeW5jVW5pZm9ybUJ1ZmZlckdyb3VwIiwiY3JlYXRlU3luY0J1ZmZlckdyb3VwIiwiYmluZEJ1ZmZlckJhc2UiLCJ1bmlmb3JtQmxvY2tJbmRleCIsImdldFVuaWZvcm1CbG9ja0luZGV4IiwidW5pZm9ybUJsb2NrQmluZGluZyIsInVib0RhdGEiLCJwcmVGaXgiLCJkaXNwb3NlU2hhZGVyIiwiU3RhdGVTeXN0ZW0iLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJzZXREZXB0aE1hc2siLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIk1VTFRJUExZIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkxVTUlOT1NJVFkiLCJTUkNfQUxQSEEiLCJTUkNfSU4iLCJEU1RfQUxQSEEiLCJaRVJPIiwiU1JDX09VVCIsIk9ORV9NSU5VU19EU1RfQUxQSEEiLCJTUkNfQVRPUCIsIkRTVF9PVkVSIiwiRFNUX0lOIiwiRFNUX09VVCIsIkRTVF9BVE9QIiwiWE9SIiwiU1VCVFJBQ1QiLCJGVU5DX1JFVkVSU0VfU1VCVFJBQ1QiLCJGVU5DX0FERCIsIm1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsImRpZmYiLCJmb3JjZVN0YXRlIiwidXBkYXRlQ2hlY2siLCJjaGVja0JsZW5kTW9kZSIsImNoZWNrUG9seWdvbk9mZnNldCIsIlBPTFlHT05fT0ZGU0VUX0ZJTEwiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwic2V0QmxlbmRNb2RlIiwiYmxlbmRGdW5jIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJibGVuZEVxdWF0aW9uU2VwYXJhdGUiLCJzZXRQb2x5Z29uT2Zmc2V0IiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIlRleHR1cmVHQ1N5c3RlbSIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsIk1BTlVBTCIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwiZGlzcGxheU9iamVjdCIsIkdMVGV4dHVyZSIsInNhbXBsZXJUeXBlIiwiVGV4dHVyZVN5c3RlbSIsImN1cnJlbnRMb2NhdGlvbiIsIl91bmtub3duQm91bmRUZXh0dXJlcyIsInVua25vd25UZXh0dXJlIiwiaGFzSW50ZWdlclRleHR1cmVzIiwiaW50ZXJuYWxGb3JtYXRzIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiX2oiLCJfayIsIl9sIiwiX20iLCJfbyIsIl9wIiwiX3EiLCJfciIsIl9zIiwiX3QiLCJfdSIsIl92IiwiX3ciLCJ0YWJsZSIsIlJHQiIsIlJHQjgiLCJSRyIsIlJHOCIsIlJFRCIsIlI4IiwiUkdCQV9JTlRFR0VSIiwiUkdCQThVSSIsIlJHQl9JTlRFR0VSIiwiUkdCOFVJIiwiUkdfSU5URUdFUiIsIlJHOFVJIiwiUkVEX0lOVEVHRVIiLCJSOFVJIiwiQUxQSEEiLCJMVU1JTkFOQ0UiLCJMVU1JTkFOQ0VfQUxQSEEiLCJCWVRFIiwiUkdCQThfU05PUk0iLCJSR0I4X1NOT1JNIiwiUkc4X1NOT1JNIiwiUjhfU05PUk0iLCJSR0JBOEkiLCJSR0I4SSIsIlJHOEkiLCJSOEkiLCJSR0JBMTZVSSIsIlJHQjE2VUkiLCJSRzE2VUkiLCJSMTZVSSIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiU0hPUlQiLCJSR0JBMTZJIiwiUkdCMTZJIiwiUkcxNkkiLCJSMTZJIiwiUkdCQTMyVUkiLCJSR0IzMlVJIiwiUkczMlVJIiwiUjMyVUkiLCJERVBUSF9DT01QT05FTlQyNCIsIlJHQkEzMkkiLCJSR0IzMkkiLCJSRzMySSIsIlIzMkkiLCJSR0JBMzJGIiwiUkdCMzJGIiwiUkczMkYiLCJSMzJGIiwiREVQVEhfQ09NUE9ORU5UMzJGIiwiSEFMRl9GTE9BVCIsIlJHQkExNkYiLCJSR0IxNkYiLCJSRzE2RiIsIlIxNkYiLCJVTlNJR05FRF9TSE9SVF81XzZfNSIsIlJHQjU2NSIsIlVOU0lHTkVEX1NIT1JUXzRfNF80XzQiLCJSR0JBNCIsIlVOU0lHTkVEX1NIT1JUXzVfNV81XzEiLCJSR0I1X0ExIiwiVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWIiwiUkdCMTBfQTIiLCJSR0IxMF9BMlVJIiwiVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFViIsIlIxMUZfRzExRl9CMTBGIiwiVU5TSUdORURfSU5UXzVfOV85XzlfUkVWIiwiUkdCOV9FNSIsIlVOU0lHTkVEX0lOVF8yNF84IiwiRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWIiwiREVQVEgzMkZfU1RFTkNJTDgiLCJtYXBUeXBlQW5kRm9ybWF0VG9JbnRlcm5hbEZvcm1hdCIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiZW1wdHlUZXh0dXJlcyIsImVtcHR5VGV4dHVyZTJEIiwiYmluZFRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwidGV4dHVyZUdDIiwiaW5pdFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1cGRhdGVUZXh0dXJlIiwidXBkYXRlVGV4dHVyZVN0eWxlIiwiZW5zdXJlU2FtcGxlclR5cGUiLCJpbml0VGV4dHVyZVR5cGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsIk9OX01BTlVBTCIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJfc3lzdGVtcyIsInRlbXBNYXRyaXgiLCJBYnN0cmFjdFJlbmRlcmVyIiwiVU5LTk9XTiIsIl9iYWNrZ3JvdW5kQ29sb3IiLCJfYmFja2dyb3VuZENvbG9yU3RyaW5nIiwidHJhbnNwYXJlbnQiLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwicGx1Z2lucyIsImluaXRQbHVnaW5zIiwic3RhdGljTWFwIiwiZGVzaXJlZFNjcmVlbldpZHRoIiwiZGVzaXJlZFNjcmVlbkhlaWdodCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwibWFudWFsUmVnaW9uIiwiX19yZXN0Iiwic2tpcFVwZGF0ZVRyYW5zZm9ybSIsInJlbW92ZVZpZXciLCJwYXJlbnROb2RlIiwidGhpc0FueSIsIkdMQnVmZmVyIiwiYnl0ZUxlbmd0aCIsIkJ1ZmZlclN5c3RlbSIsIm1hbmFnZWRCdWZmZXJzIiwiYm91bmRCdWZmZXJCYXNlcyIsImNyZWF0ZUdMQnVmZmVyIiwiYmluZEJ1ZmZlciIsImJpbmRCdWZmZXJSYW5nZSIsImJ1ZmZlclN1YkRhdGEiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYnVmZmVyRGF0YSIsImRlbGV0ZUJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsIlJlbmRlcmVyIiwicHJlcmVuZGVyIiwiYWRkU3lzdGVtIiwiX19wbHVnaW5zIiwicHJlbXVsdGlwbGllZEFscGhhIiwicG93ZXJQcmVmZXJlbmNlIiwiRlJBTUVCVUZGRVJfQklORElORyIsIkRSQVdfRlJBTUVCVUZGRVJfQklORElORyIsIkRSQVdfRlJBTUVCVUZGRVIiLCJDbGFzc1JlZiIsImlzTG9zdCIsImV4dHJhY3QiLCJyZWdpc3RlclBsdWdpbiIsInBsdWdpbk5hbWUiLCJjdG9yIiwiUmVuZGVyZXJQbHVnaW4iLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJkZWZhdWx0VmVydGV4JDEiLCJkZWZhdWx0RmlsdGVyVmVydGV4IiwiU3lzdGVtIiwiQmF0Y2hEcmF3Q2FsbCIsIkJhdGNoVGV4dHVyZUFycmF5IiwiVmlld2FibGVCdWZmZXIiLCJzaXplT3JCdWZmZXIiLCJyYXdCaW5hcnlEYXRhIiwidWludDMyVmlldyIsImZsb2F0MzJWaWV3IiwiX2ludDhWaWV3IiwiSW50OEFycmF5IiwiX3VpbnQ4VmlldyIsIl9pbnQxNlZpZXciLCJJbnQxNkFycmF5IiwiX3VpbnQxNlZpZXciLCJfaW50MzJWaWV3Iiwic2l6ZU9mIiwiQWJzdHJhY3RCYXRjaFJlbmRlcmVyIiwic2hhZGVyR2VuZXJhdG9yIiwiZ2VvbWV0cnlDbGFzcyIsInZlcnRleFNpemUiLCJfdmVydGV4Q291bnQiLCJfaW5kZXhDb3VudCIsIl9idWZmZXJlZEVsZW1lbnRzIiwiX2J1ZmZlcmVkVGV4dHVyZXMiLCJfYnVmZmVyU2l6ZSIsIl9zaGFkZXIiLCJfcGFja2VkR2VvbWV0cmllcyIsIl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplIiwiX2ZsdXNoSWQiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsIl9kY0luZGV4IiwiX2FJbmRleCIsIl9pSW5kZXgiLCJfYXR0cmlidXRlQnVmZmVyIiwiX2luZGV4QnVmZmVyIiwiX3RlbXBCb3VuZFRleHR1cmVzIiwiZ2VuZXJhdGVTaGFkZXIiLCJpbml0Rmx1c2hCdWZmZXJzIiwiX2RyYXdDYWxsUG9vbCIsIl90ZXh0dXJlQXJyYXlQb29sIiwiTUFYX1NQUklURVMiLCJNQVhfVEEiLCJpbmRpY2VzIiwiYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscyIsInRleHR1cmVBcnJheXMiLCJ0b3VjaCIsIlRJQ0siLCJjb3VudFRleEFycmF5cyIsImJ1aWxkRHJhd0NhbGxzIiwiZmluaXNoIiwiZHJhd0NhbGxzIiwiZGNJbmRleCIsImFJbmRleCIsImlJbmRleCIsImRyYXdDYWxsIiwic3ByaXRlQmxlbmRNb2RlIiwicGFja0ludGVybGVhdmVkR2VvbWV0cnkiLCJiaW5kQW5kQ2xlYXJUZXhBcnJheSIsInRleHR1cmVTeXN0ZW0iLCJ1cGRhdGVHZW9tZXRyeSIsInBhY2tlZEdlb21ldHJpZXMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJfYnVmZmVyIiwiZHJhd0JhdGNoZXMiLCJkY0NvdW50IiwiY3VyVGV4QXJyYXkiLCJnZXRBdHRyaWJ1dGVCdWZmZXIiLCJnZXRJbmRleEJ1ZmZlciIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsInBhY2tlZFZlcnRpY2VzIiwiaW5kaWNpZXMiLCJ0ZXh0dXJlSWQiLCJhcmdiIiwiX3RpbnRSR0IiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInByb2dyYW1DYWNoZSIsImRlZmF1bHRHcm91cENhY2hlIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsImRlZmF1bHQiLCJCYXRjaEdlb21ldHJ5IiwiZGVmYXVsdFZlcnRleCIsImRlZmF1bHRGcmFnbWVudCIsIkJhdGNoUGx1Z2luRmFjdG9yeSIsInZlcnRleCIsImZyYWdtZW50IiwiQmF0Y2hQbHVnaW4iLCJCYXRjaFJlbmRlcmVyIiwiX2xvb3BfMSIsInN5c3RlbXMiLCJfbG9vcF8yIiwiYWNjZXNzaWJsZVRhcmdldCIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsImFjY2Vzc2libGVUeXBlIiwiYWNjZXNzaWJsZVBvaW50ZXJFdmVudHMiLCJhY2Nlc3NpYmxlQ2hpbGRyZW4iLCJyZW5kZXJJZCIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiZGVidWciLCJfaXNBY3RpdmUiLCJfaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IiwicG9vbCIsImFuZHJvaWRVcGRhdGVDb3VudCIsImFuZHJvaWRVcGRhdGVGcmVxdWVuY3kiLCJfaG9va0RpdiIsImNyZWF0ZVRvdWNoSG9vayIsImRpdiIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwiX29uS2V5RG93biIsIl9vbk1vdXNlTW92ZSIsImhvb2tEaXYiLCJESVZfSE9PS19TSVpFIiwiRElWX0hPT0tfUE9TX1giLCJESVZfSE9PS19QT1NfWSIsInRpdGxlIiwiYWN0aXZhdGUiLCJkZXN0cm95VG91Y2hIb29rIiwiYm9keSIsImRlYWN0aXZhdGUiLCJ1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJzeCIsInN5IiwiY2FwSGl0QXJlYSIsInVwZGF0ZURlYnVnSFRNTCIsImlubmVySFRNTCIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwicG9pbnRlckV2ZW50cyIsImludGVyYWN0aW9uTWFuYWdlciIsImludGVyYWN0aW9uIiwiZXZlbnREYXRhIiwiZGlzcGF0Y2hFdmVudCIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJDYW52YXNSZW5kZXJlclBsdWdpbiIsIkludGVyYWN0aW9uRGF0YSIsInByZXNzdXJlIiwicm90YXRpb25BbmdsZSIsInR3aXN0IiwidGFuZ2VudGlhbFByZXNzdXJlIiwib3JpZ2luYWxFdmVudCIsImlkZW50aWZpZXIiLCJpc1ByaW1hcnkiLCJidXR0b24iLCJidXR0b25zIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImdsb2JhbFBvcyIsImNvcHlFdmVudCIsIndoaWNoIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJzdG9wc1Byb3BhZ2F0aW5nQXQiLCJzdG9wUHJvcGFnYXRpb25IaW50IiwiY3VycmVudFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwicG9pbnRlcklkIiwiX3BvaW50ZXJJZCIsIl9mbGFncyIsIkZMQUdTIiwiX2RvU2V0IiwieW4iLCJmbGFncyIsIk9WRVIiLCJSSUdIVF9ET1dOIiwiTEVGVF9ET1dOIiwiZnJlZXplIiwiVHJlZVNlYXJjaCIsIl90ZW1wUG9pbnQiLCJyZWN1cnNpdmVGaW5kSGl0IiwiaW50ZXJhY3Rpb25FdmVudCIsImhpdFRlc3QiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNvbnRhaW5zUG9pbnQiLCJjaGlsZEhpdCIsImZpbmRIaXQiLCJpbnRlcmFjdGl2ZVRhcmdldCIsImJ1dHRvbk1vZGUiLCJjdXJzb3IiLCJ0cmFja2VkUG9pbnRlcnMiLCJfdHJhY2tlZFBvaW50ZXJzIiwiaGl0VGVzdEV2ZW50IiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiaW50ZXJhY3Rpb25GcmVxdWVuY3kiLCJtb3VzZSIsImFjdGl2ZUludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRGF0YVBvb2wiLCJpbnRlcmFjdGlvbkRPTUVsZW1lbnQiLCJtb3ZlV2hlbkluc2lkZSIsImV2ZW50c0FkZGVkIiwidGlja2VyQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsInBvaW50ZXIiLCJjdXJyZW50Q3Vyc29yTW9kZSIsImRlbGF5ZWRFdmVudHMiLCJfdGVtcERpc3BsYXlPYmplY3QiLCJfZXZlbnRMaXN0ZW5lck9wdGlvbnMiLCJjYXB0dXJlIiwicGFzc2l2ZSIsIl91c2VTeXN0ZW1UaWNrZXIiLCJ1c2VTeXN0ZW1UaWNrZXIiLCJzZXRUYXJnZXRFbGVtZW50IiwiYWRkVGlja2VyTGlzdGVuZXIiLCJyZW1vdmVUaWNrZXJMaXN0ZW5lciIsImdsb2JhbFBvaW50IiwibGFzdE9iamVjdFJlbmRlcmVkIiwicHJvY2Vzc0ludGVyYWN0aXZlIiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwidGlja2VyVXBkYXRlIiwiSU5URVJBQ1RJT04iLCJtc1BvaW50ZXJFbmFibGVkIiwibXNDb250ZW50Wm9vbWluZyIsIm1zVG91Y2hBY3Rpb24iLCJ0b3VjaEFjdGlvbiIsIl9kaWRNb3ZlIiwiaW50ZXJhY3Rpb25EYXRhIiwiY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50Iiwic2V0Q3Vyc29yTW9kZSIsImFwcGx5U3R5bGVzIiwiZXZlbnRTdHJpbmciLCJkZWxheURpc3BhdGNoRXZlbnQiLCJtYXBQb3NpdGlvblRvUG9pbnQiLCJwYXJlbnRFbGVtZW50IiwicmVzb2x1dGlvbk11bHRpcGxpZXIiLCJkZWxheWVkTGVuIiwiZGlzcGxheU9iamVjdF8xIiwibm9ybWFsaXplVG9Qb2ludGVyRGF0YSIsImlzTm9ybWFsaXplZCIsImNhbmNlbGFibGUiLCJldmVudExlbiIsImdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsImlzUmlnaHRCdXR0b24iLCJyaWdodERvd24iLCJsZWZ0RG93biIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiY29tcG9zZWRQYXRoIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzTW91c2UiLCJpc01vdXNlVGFwIiwiaXNEb3duIiwib3ZlciIsIm5vbmUiLCJwb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJ0ZW1wRXZlbnQiLCJURU1QX1JFQ1QiLCJFeHRyYWN0IiwiaW1hZ2UiLCJxdWFsaXR5IiwiYmFzZTY0IiwidG9EYXRhVVJMIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJjYW52YXNCdWZmZXIiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwiYXJyYXlQb3N0RGl2aWRlIiwicHV0SW1hZ2VEYXRhIiwidGFyZ2V0XzEiLCJTaWduYWxCaW5kaW5nIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9uZXh0IiwiX3ByZXYiLCJfb3duZXIiLCJkZXRhY2giLCJfYWRkU2lnbmFsQmluZGluZyIsIm5vZGUiLCJfdGFpbCIsInVzZVhkciIsIlNpZ25hbCIsImV4aXN0cyIsImRldGFjaEFsbCIsInBhcnNlVXJpIiwic3RyIiwib3B0cyIsInBhcnNlciIsImxvb3NlIiwic3RyaWN0TW9kZSIsInVyaSIsIl90MCIsInQxIiwidDIiLCJfbm9vcCQxIiwic2V0RXh0TWFwIiwicmVxVHlwZSIsInhociIsIkxvYWRlclJlc291cmNlIiwiX2RlcXVldWUiLCJfb25Mb2FkQmluZGluZyIsIl9lbGVtZW50VGltZXIiLCJfYm91bmRDb21wbGV0ZSIsIl9ib3VuZE9uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX2JvdW5kT25UaW1lb3V0IiwiX2JvdW5kWGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl9ib3VuZFhock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfc2V0RmxhZyIsIlNUQVRVU19GTEFHUyIsIkRBVEFfVVJMIiwiX2dldEV4dGVuc2lvbiIsInRpbWVvdXQiLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJUWVBFIiwicHJvZ3Jlc3NDaHVuayIsIl9vblByb2dyZXNzIiwiX29uVGltZW91dCIsIl94aHJPbkVycm9yIiwiX3hock9uVGltZW91dCIsIl94aHJPbkFib3J0IiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfaGFzRmxhZyIsIkNPTVBMRVRFIiwiTE9BRElORyIsIl9jbGVhckV2ZW50cyIsIl9maW5pc2giLCJhYm9ydCIsInhkciIsIkVNUFRZX0dJRiIsImZpcnN0Q2hpbGQiLCJpc0xvYWRpbmciLCJpc0NvbXBsZXRlIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiWERvbWFpblJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0NvY29vbkpTIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX2RldGVybWluZVhoclR5cGUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvcGVuIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJET0NVTUVOVCIsInJlc3BvbnNlVHlwZSIsIlRFWFQiLCJzZW5kIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwidG90YWwiLCJzdGF0dXNUZXh0IiwidGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIlhNTCIsImUkMSIsInJlc3BvbnNlIiwicmVzcG9uc2VVUkwiLCJvcmlnaW4iLCJzbGFzaEluZGV4IiwicXVlcnlTdGFydCIsImhhc2hTdGFydCIsIl9nZXRNaW1lRnJvbVhoclR5cGUiLCJCTE9CIiwiREVGQVVMVCIsIl9ub29wIiwib25seU9uY2UiLCJjYWxsRm4iLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJhdmlmIiwibXAzIiwib2dnIiwid2F2IiwibXA0Iiwid2VibSIsInhodG1sIiwiaHRtbCIsImh0bSIsInhtbCIsInRteCIsInRzeCIsImpzb24iLCJ0eHQiLCJ0dGYiLCJvdGYiLCJBc3luY1F1ZXVlSXRlbSIsIkFzeW5jUXVldWUiLCJ3b3JrZXIiLCJjb25jdXJyZW5jeSIsIndvcmtlcnMiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImVtcHR5IiwiZHJhaW4iLCJfdGFza3MiLCJfaW5zZXJ0IiwiaW5zZXJ0QXRGcm9udCIsImlkbGUiLCJ0YXNrIiwiX3dvcmtlciIsImtpbGwiLCJydW5uaW5nIiwicmVzdW1lIiwiZWFjaFNlcmllcyIsIml0ZXJhdG9yIiwiZGVmZXJOZXh0Iiwicmd4RXh0cmFjdFVybEhhc2giLCJwcm9ncmVzcyIsImxvYWRpbmciLCJkZWZhdWx0UXVlcnlTdHJpbmciLCJfYmVmb3JlTWlkZGxld2FyZSIsIl9hZnRlck1pZGRsZXdhcmUiLCJfcmVzb3VyY2VzUGFyc2luZyIsIl9ib3VuZExvYWRSZXNvdXJjZSIsIl9sb2FkUmVzb3VyY2UiLCJvbkxvYWQiLCJfcGx1Z2lucyIsInBsdWdpbiIsInByZSIsInVzZSIsIl9hZGQiLCJwYXJlbnRSZXNvdXJjZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwiZGVxdWV1ZSIsIl9vbkxvYWQiLCJBcHBMb2FkZXJQbHVnaW4iLCJzaGFyZWRMb2FkZXIiLCJsb2FkZXIiLCJUZXh0dXJlTG9hZGVyIiwiY2F0Y2giLCJwYXJzaW5nIiwiQmxvYiIsIlVybF8xIiwiVVJMIiwid2Via2l0VVJMIiwic3JjXzEiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJlbmNvZGVCaW5hcnkiLCJfYSQyIiwiSU5URVJOQUxfRk9STUFUUyIsIlBhcnNpbmdMb2FkZXIiLCJJTlRFUk5BTF9GT1JNQVRfVE9fQllURVNfUEVSX1BJWEVMIiwiQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVCIsIkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhUIiwiQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQiLCJDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVCIsIkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUIiwiQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQiLCJDT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQzX0VYVCIsIkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUIiwiQ09NUFJFU1NFRF9SMTFfRUFDIiwiQ09NUFJFU1NFRF9TSUdORURfUjExX0VBQyIsIkNPTVBSRVNTRURfUkcxMV9FQUMiLCJDT01QUkVTU0VEX1NJR05FRF9SRzExX0VBQyIsIkNPTVBSRVNTRURfUkdCOF9FVEMyIiwiQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQyIsIkNPTVBSRVNTRURfU1JHQjhfRVRDMiIsIkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDIiwiQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMiIsIkNPTVBSRVNTRURfU1JHQjhfUFVOQ0hUSFJPVUdIX0FMUEhBMV9FVEMyIiwiQ09NUFJFU1NFRF9SR0JfUFZSVENfNEJQUFYxX0lNRyIsIkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HIiwiQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRyIsIkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HIiwiQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTCIsIkNPTVBSRVNTRURfUkdCX0FUQ19XRUJHTCIsIkNPTVBSRVNTRURfUkdCQV9BVENfRVhQTElDSVRfQUxQSEFfV0VCR0wiLCJDT01QUkVTU0VEX1JHQkFfQVRDX0lOVEVSUE9MQVRFRF9BTFBIQV9XRUJHTCIsIkNPTVBSRVNTRURfUkdCQV9BU1RDXzR4NF9LSFIiLCJfYSQxIiwiX2IkMSIsIkJsb2JSZXNvdXJjZSIsIm9uQmxvYkxvYWRlZCIsIl9kYXRhIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsImFycmF5QnVmZmVyIiwiZiIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIm9wIiwic3RlcCIsIl9fZ2VuZXJhdG9yIiwiUCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiQ29tcHJlc3NlZFRleHR1cmVSZXNvdXJjZSIsImxldmVscyIsIl9mb3JtYXRUb0V4dGVuc2lvbiIsImxldmVsQnVmZmVycyIsIl9sZXZlbEJ1ZmZlcnMiLCJfY3JlYXRlTGV2ZWxCdWZmZXJzIiwidWludDhWaWV3IiwibGV2ZWxJRCIsImxldmVsV2lkdGgiLCJsZXZlbEhlaWdodCIsImxldmVsQnVmZmVyIiwiY29tcHJlc3NlZFRleEltYWdlMkQiLCJibG9ja1dpZHRoIiwiYmxvY2tIZWlnaHQiLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJieXRlT2Zmc2V0IiwiYWxpZ25lZExldmVsV2lkdGgiLCJhbGlnbmVkTGV2ZWxIZWlnaHQiLCJsZXZlbFNpemUiLCJDb21wcmVzc2VkVGV4dHVyZUxvYWRlciIsImNhY2hlSUQiLCJ0ZXh0dXJlVVJMIiwiZmFsbGJhY2tVUkwiLCJ1cmxfMSIsInRleHR1cmVGb3JtYXRzIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwicmVzb3VyY2VOYW1lIiwiX3RleHR1cmVFeHRlbnNpb25zIiwiX3RleHR1cmVGb3JtYXRzIiwidGV4dHVyZUV4dGVuc2lvbnMiLCJleHRlbnNpb25OYW1lIiwiZ2V0UHJvdG90eXBlT2YiLCJyZWdpc3RlckNvbXByZXNzZWRUZXh0dXJlcyIsIk5PX1BSRU1VTFRJUExJRURfQUxQSEEiLCJEWEdJX0ZPUk1BVCIsIkQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTiIsIkZPVVJDQ19UT19GT1JNQVQiLCJEWEdJX1RPX0ZPUk1BVCIsIkRYR0lfRk9STUFUX0JDMV9UWVBFTEVTUyIsIkRYR0lfRk9STUFUX0JDMV9VTk9STSIsIkRYR0lfRk9STUFUX0JDMl9UWVBFTEVTUyIsIkRYR0lfRk9STUFUX0JDMl9VTk9STSIsIkRYR0lfRk9STUFUX0JDM19UWVBFTEVTUyIsIkRYR0lfRk9STUFUX0JDM19VTk9STSIsIkRYR0lfRk9STUFUX0JDMV9VTk9STV9TUkdCIiwiRFhHSV9GT1JNQVRfQkMyX1VOT1JNX1NSR0IiLCJEWEdJX0ZPUk1BVF9CQzNfVU5PUk1fU1JHQiIsInBhcnNlRERTIiwiaGVhZGVyIiwibWlwbWFwQ291bnQiLCJwaXhlbEZvcm1hdCIsImZvcm1hdEZsYWdzIiwiZm91ckNDIiwiaW50ZXJuYWxGb3JtYXRfMSIsInRleERhdGEiLCJERFNfTUFHSUNfU0laRSIsImR4MTBIZWFkZXIiLCJkeGdpRm9ybWF0IiwicmVzb3VyY2VEaW1lbnNpb24iLCJtaXNjRmxhZyIsImFycmF5U2l6ZSIsImludGVybmFsRm9ybWF0XzIiLCJERFNfRElNRU5TSU9OX1RFWFRVUkUzRCIsImltYWdlQnVmZmVycyIsInBpeGVsU2l6ZSIsImltYWdlU2l6ZSIsImltYWdlT2Zmc2V0IiwiRklMRV9JREVOVElGSUVSIiwiVFlQRVNfVE9fQllURVNfUEVSX0NPTVBPTkVOVCIsIkZPUk1BVFNfVE9fQ09NUE9ORU5UUyIsIlRZUEVTX1RPX0JZVEVTX1BFUl9QSVhFTCIsInBhcnNlS1RYIiwibG9hZEtleVZhbHVlRGF0YSIsImRhdGFWaWV3IiwiRGF0YVZpZXciLCJnZXRVaW50OCIsInZhbGlkYXRlIiwibGl0dGxlRW5kaWFuIiwiZ2V0VWludDMyIiwiZ2xGb3JtYXQiLCJnbEludGVybmFsRm9ybWF0IiwicGl4ZWxXaWR0aCIsInBpeGVsSGVpZ2h0IiwicGl4ZWxEZXB0aCIsIm51bWJlck9mQXJyYXlFbGVtZW50cyIsIm51bWJlck9mRmFjZXMiLCJudW1iZXJPZk1pcG1hcExldmVscyIsImJ5dGVzT2ZLZXlWYWx1ZURhdGEiLCJpbWFnZVBpeGVsQnl0ZVNpemUiLCJhbGlnbmVkV2lkdGgiLCJhbGlnbmVkSGVpZ2h0IiwiaW1hZ2VQaXhlbHMiLCJrdkRhdGEiLCJNYXAiLCJieXRlc0ludG9LZXlWYWx1ZURhdGEiLCJrZXlBbmRWYWx1ZUJ5dGVTaXplIiwia2V5QW5kVmFsdWVCeXRlT2Zmc2V0IiwidmFsdWVQYWRkaW5nIiwia2V5TnVsQnl0ZSIsIlRleHREZWNvZGVyIiwicGFyc2VLdkRhdGEiLCJtaXBCeXRlU2l6ZSIsImFsaWduZWRNaXBXaWR0aCIsImFsaWduZWRNaXBIZWlnaHQiLCJtaXBtYXBMZXZlbCIsImVsZW1lbnRPZmZzZXQiLCJhcnJheUVsZW1lbnQiLCJtaXBzIiwidW5jb21wcmVzc2VkIiwiY29udmVydFRvSW50IiwiY29udmVydEZvcm1hdFRvSW50ZWdlciIsImNvbXByZXNzZWQiLCJERFNMb2FkZXIiLCJLVFhMb2FkZXIiLCJrdkRhdGFfMSIsImt0eEtleVZhbHVlRGF0YSIsInRleHR1cmVzXzEiLCJMSU5FX0pPSU4iLCJMSU5FX0NBUCIsIlBhcnRpY2xlQ29udGFpbmVyIiwibWF4U2l6ZSIsInByb3BlcnRpZXMiLCJiYXRjaFNpemUiLCJhdXRvUmVzaXplIiwiX3Byb3BlcnRpZXMiLCJfbWF4U2l6ZSIsIl9iYXRjaFNpemUiLCJfYnVmZmVycyIsIl9idWZmZXJVcGRhdGVJRHMiLCJyb3VuZFBpeGVscyIsInNldFByb3BlcnRpZXMiLCJfdGludCIsInRpbnRSZ2IiLCJwYXJ0aWNsZSIsInNtYWxsZXN0Q2hpbGRJbmRleCIsIlBhcnRpY2xlQnVmZmVyIiwiZHluYW1pY1Byb3BlcnR5RmxhZ3MiLCJkeW5hbWljUHJvcGVydGllcyIsInN0YXRpY1Byb3BlcnRpZXMiLCJwcm9wZXJ0eSIsImF0dHJpYnV0ZU5hbWUiLCJ1cGxvYWRGdW5jdGlvbiIsInN0YXRpY1N0cmlkZSIsInN0YXRpY0J1ZmZlciIsInN0YXRpY0RhdGEiLCJzdGF0aWNEYXRhVWludDMyIiwiZHluYW1pY1N0cmlkZSIsImR5bmFtaWNCdWZmZXIiLCJkeW5hbWljRGF0YSIsImR5bmFtaWNEYXRhVWludDMyIiwiaW5pdEJ1ZmZlcnMiLCJkeW5hbWljT2Zmc2V0IiwiZHluQnVmZmVyIiwic3RhdGljT2Zmc2V0Iiwic3RhdEJ1ZmZlciIsInVwbG9hZER5bmFtaWMiLCJzdGFydEluZGV4IiwiYW1vdW50IiwidXBsb2FkU3RhdGljIiwiUGFydGljbGVSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwidXBsb2FkUG9zaXRpb24iLCJ1cGxvYWRSb3RhdGlvbiIsInVwbG9hZFV2cyIsInVwbG9hZFRpbnQiLCJ0b3RhbENoaWxkcmVuIiwiZ2VuZXJhdGVCdWZmZXJzIiwidUNvbG9yIiwidXBkYXRlU3RhdGljIiwiX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciIsImJpZCIsIncwIiwidzEiLCJoMCIsImgxIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJHUkFQSElDU19DVVJWRVMiLCJhZGFwdGl2ZSIsIm1heExlbmd0aCIsIm1pblNlZ21lbnRzIiwibWF4U2VnbWVudHMiLCJlcHNpbG9uIiwiX3NlZ21lbnRzQ291bnQiLCJkZWZhdWx0U2VnbWVudHMiLCJGaWxsU3R5bGUiLCJjb2xvciIsIldISVRFIiwiZml4T3JpZW50YXRpb24iLCJpMSIsImkyIiwiaTMiLCJpNCIsImJ1aWxkUG9seSIsImJ1aWxkIiwiZ3JhcGhpY3NEYXRhIiwic2hhcGUiLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJ2ZXJ0cyIsImhvbGVBcnJheSIsInZlcnRQb3MiLCJidWlsZENpcmNsZSIsInJ4IiwicnkiLCJjaXJjbGUiLCJlbGxpcHNlIiwicm91bmRlZFJlY3QiLCJqMSIsImoyIiwiajMiLCJqNCIsImNlbnRlciIsImJ1aWxkUmVjdGFuZ2xlIiwicmVjdERhdGEiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJmcm9tWCIsImZyb21ZIiwiY3BYIiwiY3BZIiwidG9YIiwidG9ZIiwieGEiLCJ5YSIsInhiIiwieWIiLCJidWlsZFJvdW5kZWRSZWN0YW5nbGUiLCJHcmFwaGljcyIsIm5leHRSb3VuZGVkUmVjdEJlaGF2aW9yIiwicnJlY3REYXRhIiwidmVjUG9zIiwic3F1YXJlIiwiaW5uZXJXZWlnaHQiLCJvdXRlcldlaWdodCIsImV4eCIsImV5eSIsImVpeCIsImVpeSIsImVveCIsImVveSIsImV5IiwiY3gycDB4IiwiY3kycDB5IiwiYW5nbGUwIiwiYW5nbGUxIiwic3RhcnRBbmdsZSIsImFuZ2xlRGlmZiIsImFic0FuZ2xlRGlmZiIsInNlZ0NvdW50IiwiYW5nbGVJbmMiLCJidWlsZExpbmUiLCJsaW5lU3R5bGUiLCJuYXRpdmUiLCJjbG9zZWRTaGFwZSIsImJ1aWxkTmF0aXZlTGluZSIsImNsb3NlUG9pbnRFcHMiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwiY2xvc2VkUGF0aCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0Iiwid2lkdGhTcXVhcmVkIiwibWl0ZXJMaW1pdFNxdWFyZWQiLCJtaXRlckxpbWl0IiwicGVycHgiLCJwZXJweSIsInBlcnAxeCIsInBlcnAxeSIsImRpc3QiLCJyYXRpbyIsImFsaWdubWVudCIsImNhcCIsIlJPVU5EIiwiU1FVQVJFIiwiZHgwIiwiZHkwIiwiZHgxIiwiZHkxIiwiZG90IiwiY3Jvc3MiLCJjMiIsInBkaXN0IiwiaW14IiwiaW15Iiwib214Iiwib215IiwiaW5zaWRlV2VpZ2h0IiwiQkVWRUwiLCJNSVRFUiIsImVwczIiLCJidWlsZE5vbk5hdGl2ZUxpbmUiLCJURVhUX0dSQURJRU5UIiwiQXJjVXRpbHMiLCJjdXJ2ZVRvIiwibW0iLCJkZCIsImNjIiwidHQiLCJrMSIsImsyIiwicXkiLCJlbmRBbmdsZSIsImFudGljbG9ja3dpc2UiLCJhcmMiLCJfc3RhcnRYIiwiX3N0YXJ0WSIsIl9hbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJ0aGV0YSIsInRoZXRhMiIsImNUaGV0YSIsInNUaGV0YSIsInNlZ01pbnVzIiwiQmV6aWVyVXRpbHMiLCJjdXJ2ZUxlbmd0aCIsImNwWDIiLCJjcFkyIiwidDMiLCJudCIsIm50MiIsIm50MyIsInByZXZYIiwicHJldlkiLCJkdCIsImR0MiIsImR0MyIsIlF1YWRyYXRpY1V0aWxzIiwiYTMyIiwiYmEiLCJCYXRjaFBhcnQiLCJhdHRyaWJTdGFydCIsImVuZEF0dHJpYiIsIkZJTExfQ09NTUFORFMiLCJCQVRDSF9QT09MIiwiRFJBV19DQUxMX1BPT0wiLCJHcmFwaGljc0RhdGEiLCJ0bXBQb2ludCIsIkdyYXBoaWNzR2VvbWV0cnkiLCJib3VuZHNQYWRkaW5nIiwiaW5kaWNlc1VpbnQxNiIsImJhdGNoYWJsZSIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiYmF0Y2hlcyIsImNhY2hlRGlydHkiLCJjbGVhckRpcnR5Iiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwidXBkYXRlQmF0Y2hlcyIsImJhdGNoUGFydCIsImRyYXdTaGFwZSIsImRyYXdIb2xlIiwibGFzdFNoYXBlIiwiaGl0SG9sZSIsImlfMSIsInZhbGlkYXRlQmF0Y2hpbmciLCJjdXJyZW50U3R5bGUiLCJ0cmFuc2Zvcm1Qb2ludHMiLCJwcm9jZXNzSG9sZXMiLCJuZXh0VGV4dHVyZSIsImluZGV4XzEiLCJhdHRyaWJJbmRleCIsIlJFUEVBVCIsInByb2Nlc3NGaWxsIiwicHJvY2Vzc0xpbmUiLCJfY29tcGFyZVN0eWxlcyIsImFkZFV2cyIsIm5lZWQzMiIsImlzQmF0Y2hhYmxlIiwicGFja0JhdGNoZXMiLCJzdHlsZUEiLCJzdHlsZUIiLCJmaWxsIiwiQkFUQ0hBQkxFX1NJWkUiLCJjdXJyZW50R3JvdXAiLCJjdXJyZW50VGV4dHVyZSIsImRyYXdNb2RlIiwiTElORVMiLCJhZGRDb2xvcnMiLCJhZGRUZXh0dXJlSWRzIiwicGFja0F0dHJpYnV0ZXMiLCJnbFBvaW50cyIsImYzMiIsInUzMiIsInJnYmEiLCJ1dnNTdGFydCIsImFkanVzdFV2cyIsIkxpbmVTdHlsZSIsIkJVVFQiLCJ0ZW1wIiwiREVGQVVMVF9TSEFERVJTIiwiY3VycmVudFBhdGgiLCJiYXRjaFRpbnQiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9ob2xlTW9kZSIsIl9nZW9tZXRyeSIsIl90cmFuc2Zvcm1JRCIsImZpbmlzaFBvbHkiLCJsaW5lVGV4dHVyZVN0eWxlIiwic3RhcnRQb2x5IiwibW92ZVRvIiwibGluZVRvIiwiX2luaXRDdXJ2ZSIsInF1YWRyYXRpY0N1cnZlVG8iLCJiZXppZXJDdXJ2ZVRvIiwiYXJjVG8iLCJyYWRpdXNfMSIsInN0YXJ0WCIsInN0YXJ0WSIsInhEaWZmIiwieURpZmYiLCJiZWdpbkZpbGwiLCJiZWdpblRleHR1cmVGaWxsIiwiZW5kRmlsbCIsImRyYXdSZWN0IiwiZHJhd1JvdW5kZWRSZWN0IiwiZHJhd0NpcmNsZSIsImRyYXdFbGxpcHNlIiwiZHJhd1BvbHlnb24iLCJwb2x5IiwiX3BvcHVsYXRlQmF0Y2hlcyIsIl9yZW5kZXJCYXRjaGVkIiwiX3JlbmRlckRpcmVjdCIsImdJIiwiX2JhdGNoUkdCIiwiY2FsY3VsYXRlVmVydGljZXMiLCJjYWxjdWxhdGVUaW50cyIsIl9yZXNvbHZlRGlyZWN0U2hhZGVyIiwiX3JlbmRlckRyYXdDYWxsRGlyZWN0IiwiZ3JvdXBUZXh0dXJlQ291bnQiLCJfVEVNUF9QT0lOVCIsInRpbnRSR0IiLCJ3dElEIiwiY2xvc2VQYXRoIiwic2V0TWF0cml4IiwiYmVnaW5Ib2xlIiwiZW5kSG9sZSIsImdyYXBoaWNzVXRpbHMiLCJ0ZW1wUG9pbnQiLCJTcHJpdGUiLCJfYW5jaG9yIiwiX29uQW5jaG9yVXBkYXRlIiwiX2NhY2hlZFRpbnQiLCJ2ZXJ0ZXhUcmltbWVkRGF0YSIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsIl9yb3VuZFBpeGVscyIsIl9vblRleHR1cmVVcGRhdGUiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImJyZWFrV29yZHMiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJmaWxsR3JhZGllbnRUeXBlIiwiTElORUFSX1ZFUlRJQ0FMIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsImxpbmVKb2luIiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiVGV4dFN0eWxlIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsImNsb25lZFByb3BlcnRpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJnZXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJ0b0ZvbnRTdHJpbmciLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsImdldFNpbmdsZUNvbG9yIiwicHJvcGVydHlPYmoiLCJjb250ZXh0U2V0dGluZ3MiLCJUZXh0TWV0cmljcyIsImxpbmVzIiwibGluZVdpZHRocyIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJfY2FudmFzIiwiZm9udCIsIm1lYXN1cmVGb250IiwiYXNjZW50IiwibGluZVdpZHRoIiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJ3b3JkV3JhcFNwbGl0IiwiY2hhciIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiX25leHRDaGFyIiwiX2JyZWFraW5nU3BhY2VzIiwiX3Rva2VuIiwiX2NoYXIiLCJfaW5kZXgiLCJfZm9udHMiLCJkZXNjZW50IiwiX2NvbnRleHQiLCJtZXRyaWNzU3RyaW5nIiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJiYXNlbGluZSIsIkhFSUdIVF9NVUxUSVBMSUVSIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiY2xlYXJNZXRyaWNzIiwiX19jYW52YXMiLCJfX2NvbnRleHQiLCJkZWZhdWx0RGVzdHJveU9wdGlvbnMiLCJUZXh0Iiwib3duQ2FudmFzIiwiX293bkNhbnZhcyIsIl9hdXRvUmVzb2x1dGlvbiIsIl90ZXh0IiwiX3N0eWxlIiwiX3N0eWxlTGlzdGVuZXIiLCJfZm9udCIsImxvY2FsU3R5bGVJRCIsInVwZGF0ZVRleHQiLCJyZXNwZWN0RGlydHkiLCJsaW5lUG9zaXRpb25YIiwibGluZVBvc2l0aW9uWSIsIm1lYXN1cmVkIiwicGFzc2VzQ291bnQiLCJpc1NoYWRvd1Bhc3MiLCJkc09mZnNldFRleHQiLCJkc09mZnNldFNoYWRvdyIsInN0cm9rZVN0eWxlIiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJfZ2VuZXJhdGVGaWxsU3R5bGUiLCJsaW5lUG9zaXRpb25ZU2hpZnQiLCJuZXh0TGluZUhlaWdodEJlaGF2aW9yIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsInN1cHBvcnRMZXR0ZXJTcGFjaW5nIiwiZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyIsIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsInRleHRMZXR0ZXJTcGFjaW5nIiwic3Ryb2tlVGV4dCIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwidGV4dFN0ciIsInRyaW1tZWQiLCJtZXRyaWNzIiwiZ3JhZGllbnQiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJ0ZXh0SGVpZ2h0IiwibGFzdExpbmVCb3R0b20iLCJ0aGlzTGluZVRvcCIsInRoaXNMaW5lR3JhZGllbnRTdGFydCIsInRoaXNMaW5lQm90dG9tIiwibmV4dExpbmVUb3AiLCJ0aGlzTGluZUdyYWRpZW50RW5kIiwiZ3JhZFN0b3BMaW5lSGVpZ2h0IiwibGluZVN0b3AiLCJnbG9iYWxTdG9wIiwidG9GaXhlZCIsImFkZENvbG9yU3RvcCIsInRvdGFsSXRlcmF0aW9ucyIsImN1cnJlbnRJdGVyYXRpb24iLCJVUExPQURTX1BFUl9GUkFNRSIsIkNvdW50TGltaXRlciIsIm1heEl0ZW1zUGVyRnJhbWUiLCJpdGVtc0xlZnQiLCJiZWdpbkZyYW1lIiwiYWxsb3dlZFRvVXBsb2FkIiwiZmluZE11bHRpcGxlQmFzZVRleHR1cmVzIiwiX3RleHR1cmVzIiwiZmluZEJhc2VUZXh0dXJlIiwiZmluZFRleHR1cmUiLCJkcmF3VGV4dCIsIl9oZWxwZXIiLCJjYWxjdWxhdGVUZXh0U3R5bGUiLCJmaW5kVGV4dCIsImZpbmRUZXh0U3R5bGUiLCJCYXNlUHJlcGFyZSIsImxpbWl0ZXIiLCJ1cGxvYWRIb29rSGVscGVyIiwiYWRkSG9va3MiLCJ1cGxvYWRIb29rcyIsImNvbXBsZXRlcyIsInRpY2tpbmciLCJkZWxheWVkVGljayIsInByZXBhcmVJdGVtcyIsInJlZ2lzdGVyRmluZEhvb2siLCJyZWdpc3RlclVwbG9hZEhvb2siLCJ0aWNrIiwiVVRJTElUWSIsInVwbG9hZGVkIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJ1cGxvYWRCYXNlVGV4dHVyZXMiLCJ1cGxvYWRHcmFwaGljcyIsImZpbmRHcmFwaGljcyIsIlByZXBhcmUiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJTcHJpdGVzaGVldCIsInJlc29sdXRpb25GaWxlbmFtZSIsImxpbmtlZFNoZWV0cyIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJtZXRhIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibXVsdGlQYWNrcyIsInJlbGF0ZWRfbXVsdGlfcGFja3MiLCJpdGVtTmFtZSIsIml0ZW1VcmwiLCJ2YWx1ZXMiLCJzb21lIiwibXVsdGlQYWNrc18xIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxpbmdTcHJpdGUiLCJ0aWxlVHJhbnNmb3JtIiwidXZSZXNwZWN0QW5jaG9yIiwiZ2wxVmVydGV4U3JjIiwiVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJzaW1wbGVTaGFkZXIiLCJ0cyIsImFuY2hvclgiLCJhbmNob3JZIiwiYmFzZVRleCIsInV2IiwiSCIsInVNYXBDb29yZCIsInVUcmFuc2Zvcm0iLCJNZXNoQmF0Y2hVdnMiLCJfYnVmZmVyVXBkYXRlSWQiLCJfdGV4dHVyZVVwZGF0ZUlkIiwidGVtcFBvbHlnb24iLCJNZXNoIiwidmVydGV4RGlydHkiLCJiYXRjaFV2cyIsIl9yZW5kZXJUb0JhdGNoIiwiX3JlbmRlckRlZmF1bHQiLCJjYWxjdWxhdGVVdnMiLCJtYXRlcmlhbCIsInZlcnRpY2VzQnVmZmVyIiwidmVydGV4RGlydHlJZCIsImdlb21VdnMiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJfY2FjaGVkVGV4dHVyZSIsIk1lc2hNYXRlcmlhbCIsInVUZXh0dXJlTWF0cml4IiwiX2NvbG9yRGlydHkiLCJfYWxwaGEiLCJNZXNoR2VvbWV0cnkiLCJ1dnNCdWZmZXIiLCJfdXBkYXRlSWQiLCJCaXRtYXBGb250RGF0YSIsImluZm8iLCJwYWdlIiwia2VybmluZyIsImRpc3RhbmNlRmllbGQiLCJUZXh0Rm9ybWF0IiwicmF3RGF0YSIsImNoYXJzIiwia2VybmluZ3MiLCJhdHRyaWJ1dGVMaXN0IiwiaXRlbURhdGEiLCJzdHJWYWx1ZSIsImZsb2F0VmFsdWUiLCJmYWNlIiwiZmlsZSIsInhvZmZzZXQiLCJ5b2Zmc2V0IiwieGFkdmFuY2UiLCJmaXJzdCIsInNlY29uZCIsImRmIiwiZGlzdGFuY2VSYW5nZSIsImZpZWxkVHlwZSIsIlhNTEZvcm1hdCIsIlhNTERvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJYTUxTdHJpbmdGb3JtYXQiLCJ4bWxUeHQiLCJmb3JtYXRzIiwiYXV0b0RldGVjdEZvcm1hdCIsImRyYXdHbHlwaCIsImxhc3RJdGVyYXRpb25TdG9wIiwiY2xhbXBlZFN0b3AiLCJnZW5lcmF0ZUZpbGxTdHlsZSIsInNwbGl0VGV4dFRvQ2hhcmFjdGVycyIsImV4dHJhY3RDaGFyQ29kZSIsImNvZGVQb2ludEF0IiwiQml0bWFwRm9udCIsIm93bnNUZXh0dXJlcyIsInBhZ2VUZXh0dXJlcyIsIl9vd25zVGV4dHVyZXMiLCJwYWdlXzEiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhBZHZhbmNlIiwiZGlzdGFuY2VGaWVsZFJhbmdlIiwiZGlzdGFuY2VGaWVsZFR5cGUiLCJpbnN0YWxsIiwiZm9udERhdGEiLCJhdmFpbGFibGUiLCJ1bmluc3RhbGwiLCJ0ZXh0U3R5bGUiLCJkZWZhdWx0T3B0aW9ucyIsInRleHR1cmVXaWR0aCIsInRleHR1cmVIZWlnaHQiLCJjaGFyc0xpc3QiLCJzdGFydENvZGUiLCJlbmRDb2RlIiwial8xIiwicmVzb2x2ZUNoYXJhY3RlcnMiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJtYXhDaGFySGVpZ2h0IiwiY2hhcmFjdGVyIiwidGV4dHVyZUdseXBoV2lkdGgiLCJOVU1FUklDIiwiQUxQSEFOVU1FUklDIiwiQVNDSUkiLCJwYWdlTWVzaERhdGFEZWZhdWx0UGFnZU1lc2hEYXRhIiwicGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YSIsImNoYXJSZW5kZXJEYXRhUG9vbCIsIkJpdG1hcFRleHQiLCJzdHlsZURlZmF1bHRzIiwibWF4V2lkdGgiLCJmb250TmFtZSIsIl9hY3RpdmVQYWdlc01lc2hEYXRhIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2ZvbnROYW1lIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJfdGV4dHVyZUNhY2hlIiwibGluZVNwYWNlcyIsImNoYXJzSW5wdXQiLCJwYWdlTWVzaERhdGFQb29sIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RCcmVha1BvcyIsImxhc3RCcmVha1dpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJzcGFjZUNvdW50IiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImNoYXJSZW5kZXJEYXRhIiwicHJldlNwYWNlcyIsImxpbmVBbGlnbk9mZnNldHMiLCJhbGlnbk9mZnNldCIsImxlbkNoYXJzIiwicGFnZXNNZXNoRGF0YSIsIm5ld1BhZ2VzTWVzaERhdGEiLCJhY3RpdmVQYWdlc01lc2hEYXRhIiwiYmFzZVRleHR1cmVVaWQiLCJwYWdlTWVzaERhdGEiLCJtZXNoQmxlbmRNb2RlIiwidUZXaWR0aCIsIm1lc2giLCJ2ZXJ0ZXhDb3VudCIsInV2c0NvdW50IiwidG90YWxfMSIsInhQb3MiLCJ5UG9zIiwicGFnZU1lc2giLCJ0ZXh0dXJlRnJhbWUiLCJhbmNob3JPZmZzZXRYIiwiYW5jaG9yT2Zmc2V0WSIsImlfMiIsInRleHR1cmVCdWZmZXIiLCJ3b3JsZFNjYWxlIiwiZm9udFNjYWxlIiwiQml0bWFwRm9udExvYWRlciIsInBhZ2VGaWxlIiwiYml0bWFwRm9udCIsImJpdG1hcFJlc291cmNlIiwicmVzVXJsIiwiQWxwaGFGaWx0ZXIiLCJ1QWxwaGEiLCJHQVVTU0lBTl9WQUxVRVMiLCJCbHVyRmlsdGVyUGFzcyIsImhvcml6b250YWwiLCJzdHJlbmd0aCIsImtlcm5lbFNpemUiLCJ2ZXJ0U3JjIiwiaGFsZkxlbmd0aCIsInZlcnRTb3VyY2UiLCJibHVyTG9vcCIsImJsdXIiLCJnZW5lcmF0ZUJsdXJWZXJ0U291cmNlIiwiZnJhZ1NyYyIsImtlcm5lbCIsImZyYWdTb3VyY2UiLCJnZW5lcmF0ZUJsdXJGcmFnU291cmNlIiwiX3F1YWxpdHkiLCJwYXNzZXMiLCJyZW5kZXJUYXJnZXQiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsInJlcGVhdEVkZ2VQaXhlbHMiLCJ4U3RyZW5ndGgiLCJ5U3RyZW5ndGgiLCJ1cGRhdGVQYWRkaW5nIiwiX3JlcGVhdEVkZ2VQaXhlbHMiLCJDb2xvck1hdHJpeEZpbHRlciIsIl9sb2FkTWF0cml4IiwibXVsdGlwbHkiLCJuZXdNYXRyaXgiLCJfbXVsdGlwbHkiLCJfY29sb3JNYXRyaXgiLCJicmlnaHRuZXNzIiwiZ3JleXNjYWxlIiwiYmxhY2tBbmRXaGl0ZSIsImh1ZSIsImNvc1IiLCJzaW5SIiwic3FyVyIsImNvbnRyYXN0Iiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwibmVnYXRpdmUiLCJzZXBpYSIsInRlY2huaWNvbG9yIiwicG9sYXJvaWQiLCJ0b0JHUiIsImtvZGFjaHJvbWUiLCJicm93bmkiLCJ2aW50YWdlIiwiY29sb3JUb25lIiwiZGVzYXR1cmF0aW9uIiwidG9uZWQiLCJsaWdodENvbG9yIiwiZGFya0NvbG9yIiwibFIiLCJsRyIsImxCIiwiZFIiLCJkRyIsImRCIiwibmlnaHQiLCJpbnRlbnNpdHkiLCJwcmVkYXRvciIsImxzZCIsImdyYXlzY2FsZSIsIkRpc3BsYWNlbWVudEZpbHRlciIsIm1hcFNhbXBsZXIiLCJmaWx0ZXJNYXRyaXgiLCJsZW5YIiwibGVuWSIsIkZYQUFGaWx0ZXIiLCJOb2lzZUZpbHRlciIsIm5vaXNlIiwic2VlZCIsInJhbmRvbSIsInVOb2lzZSIsInVTZWVkIiwiX3RlbXBNYXRyaXgiLCJfY2FjaGVBc0JpdG1hcCIsIl9jYWNoZURhdGEiLCJfY2FjaGVBc0JpdG1hcFJlc29sdXRpb24iLCJfY2FjaGVBc0JpdG1hcE11bHRpc2FtcGxlIiwiQ2FjaGVEYXRhIiwidGV4dHVyZUNhY2hlSWQiLCJvcmlnaW5hbFJlbmRlciIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJvcmlnaW5hbENvbnRhaW5zUG9pbnQiLCJjYWNoZUFzQml0bWFwUmVzb2x1dGlvbiIsImNhY2hlQXNCaXRtYXAiLCJjYWNoZUFzQml0bWFwTXVsdGlzYW1wbGUiLCJyZW5kZXJDYW52YXMiLCJfcmVuZGVyQ2FjaGVkIiwiX3JlbmRlckNhY2hlZENhbnZhcyIsIl9jYWNoZUFzQml0bWFwRGVzdHJveSIsIl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCIsImNhY2hlQWxwaGEiLCJjYWNoZWRSZW5kZXJUZXh0dXJlIiwiY2FjaGVkU291cmNlRnJhbWUiLCJjYWNoZWREZXN0aW5hdGlvbkZyYW1lIiwiY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSIsIl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMiLCJfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMiLCJjYWNoZWRTcHJpdGUiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMiLCJfcmVuZGVyQ2FudmFzIiwiY2FjaGVkUmVuZGVyVGFyZ2V0IiwiX3Byb2pUcmFuc2Zvcm0iLCJnZXRDaGlsZEJ5TmFtZSIsImRlZXAiLCJnZXRHbG9iYWxQb3NpdGlvbiIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsInF1ZXVlUmVzaXplIiwiX3Jlc2l6ZVRvIiwiY2FuY2VsUmVzaXplIiwiX3Jlc2l6ZUlkIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJyZXNpemVUbyIsInN0YWdlIiwiZm9yY2VDYW52YXMiLCJzdGFnZU9wdGlvbnMiLCJyZXZlcnNlIiwiUGxhbmVHZW9tZXRyeSIsInNlZ1dpZHRoIiwic2VnSGVpZ2h0Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJSb3BlR2VvbWV0cnkiLCJ0ZXh0dXJlU2NhbGUiLCJkaXN0YW5jZSIsInVwZGF0ZVZlcnRpY2VzIiwibmV4dFBvaW50IiwicGVycFgiLCJwZXJwWSIsInBlcnBMZW5ndGgiLCJTaW1wbGVSb3BlIiwicm9wZUdlb21ldHJ5IiwibWVzaE1hdGVyaWFsIiwiU2ltcGxlUGxhbmUiLCJ2ZXJ0aWNlc1giLCJ2ZXJ0aWNlc1kiLCJwbGFuZUdlb21ldHJ5IiwidGV4dHVyZVVwZGF0ZWQiLCJTaW1wbGVNZXNoIiwiTmluZVNsaWNlUGxhbmUiLCJsZWZ0V2lkdGgiLCJ0b3BIZWlnaHQiLCJyaWdodFdpZHRoIiwiYm90dG9tSGVpZ2h0IiwiX29yaWdXaWR0aCIsIl9vcmlnSGVpZ2h0IiwiX2xlZnRXaWR0aCIsIl9yaWdodFdpZHRoIiwiX3RvcEhlaWdodCIsIl9ib3R0b21IZWlnaHQiLCJfcmVmcmVzaCIsInVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyIsIl9nZXRNaW5TY2FsZSIsInVwZGF0ZVZlcnRpY2FsVmVydGljZXMiLCJzY2FsZVciLCJzY2FsZUgiLCJfdXZ3IiwiX3V2aCIsIkFuaW1hdGVkU3ByaXRlIiwiX2R1cmF0aW9ucyIsImFuaW1hdGlvblNwZWVkIiwibG9vcCIsInVwZGF0ZUFuY2hvciIsIm9uRnJhbWVDaGFuZ2UiLCJvbkxvb3AiLCJfY3VycmVudFRpbWUiLCJfcGxheWluZyIsIl9wcmV2aW91c0ZyYW1lIiwiZ290b0FuZFN0b3AiLCJmcmFtZU51bWJlciIsInByZXZpb3VzRnJhbWUiLCJjdXJyZW50RnJhbWUiLCJnb3RvQW5kUGxheSIsImVsYXBzZWQiLCJsYWciLCJmcm9tRnJhbWVzIiwiZnJvbUltYWdlcyIsImltYWdlcyIsIkJBU0lTX0ZPUk1BVFMiLCJCQVNJU19GT1JNQVRfVE9fSU5URVJOQUxfRk9STUFUIiwiY1RGRVRDMSIsImNURkJDMSIsImNURkJDMyIsImNURlBWUlRDMV80X1JHQiIsImNURlBWUlRDMV80X1JHQkEiLCJjVEZBVENfUkdCIiwiY1RGQVNUQ180eDQiLCJCQVNJU19GT1JNQVRfVE9fVFlQRSIsImNURlJHQkEzMiIsImNURlJHQjU2NSIsImNURlJHQkE0NDQ0IiwiSU5URVJOQUxfRk9STUFUX1RPX0JBU0lTX0ZPUk1BVCIsInJldmVyc2VNYXAiLCJiYXNpc0Zvcm1hdCIsIkJBU0lTX0ZPUk1BVFNfQUxQSEEiLCJUcmFuc2NvZGVyV29ya2VyV3JhcHBlciIsImJhc2lzQmluZGluZyIsIm1lc3NhZ2VIYW5kbGVycyIsIkJBU0lTIiwid2FzbUJpbmFyeSIsIndhc21Tb3VyY2UiLCJiYXNpc0xpYnJhcnkiLCJpbml0aWFsaXplQmFzaXMiLCJwb3N0TWVzc2FnZSIsInRyYW5zY29kZSIsImJhc2lzRGF0YSIsImJhc2lzRmlsZSIsIkJhc2lzRmlsZSIsImltYWdlQ291bnQiLCJnZXROdW1JbWFnZXMiLCJnZXRIYXNBbHBoYSIsInJnYmFGb3JtYXQiLCJyZ2JGb3JtYXQiLCJpbWFnZUFycmF5IiwiZmFsbGJhY2tNb2RlIiwic3RhcnRUcmFuc2NvZGluZyIsImRlbGV0ZSIsInJlcXVlc3RJRCIsImdldE51bUxldmVscyIsImltYWdlUmVzb3VyY2UiLCJpbWFnZUlEIiwibGV2ZWxBcnJheSIsImdldEltYWdlV2lkdGgiLCJnZXRJbWFnZUhlaWdodCIsImdldEltYWdlVHJhbnNjb2RlZFNpemVJbkJ5dGVzIiwiaW1hZ2VCdWZmZXIiLCJ0cmFuc2NvZGVJbWFnZSIsIm9ubWVzc2FnZSIsIm1zZyIsIlRyYW5zY29kZXJXb3JrZXIiLCJyZXF1ZXN0cyIsIm9uTWVzc2FnZSIsImlzSW5pdCIsIm9uSW5pdCIsImluaXRQcm9taXNlIiwiV29ya2VyIiwid29ya2VyVVJMIiwianNTb3VyY2UiLCJfd29ya2VyVVJMIiwid29ya2VyU291cmNlIiwiaW5pdEFzeW5jIiwidHJhbnNjb2RlQXN5bmMiLCJyZXF1ZXN0UHJvbWlzZSIsIl90ZW1wSUQiLCJsb2FkVHJhbnNjb2RlciIsImpzVVJMIiwid2FzbVVSTCIsImpzUHJvbWlzZSIsIndhc21Qcm9taXNlIiwiX29uVHJhbnNjb2RlckluaXRpYWxpemVkUmVzb2x2ZSIsInNldFRyYW5zY29kZXIiLCJvblRyYW5zY29kZXJJbml0aWFsaXplZCIsIkJhc2lzUGFyc2VyIiwidHJhbnNjb2RlU3luYyIsIndvcmtlclBvb2wiLCJsZWFzdExvYWQiLCJpbWFnZVJlc291cmNlcyIsImRlZmF1bHRSR0JBRm9ybWF0IiwiZGVmYXVsdFJHQkZvcm1hdCIsImF1dG9EZXRlY3RGb3JtYXRzIiwiYmFzaXNGYWxsYmFja0Zvcm1hdCIsImltYWdlTGV2ZWxzIiwidHJhbnNjb2RlZFJlc291cmNlcyIsInN1cHBvcnRlZEZvcm1hdHMiLCJkZXRlY3RXaXRoQWxwaGEiLCJ0ZXh0dXJlRm9ybWF0IiwiYmluZFRyYW5zY29kZXIiLCJsaW1pdCIsIkJhc2lzTG9hZGVyIiwicmVnaXN0ZXJUZXh0dXJlcyIsIkJhY2tncm91bmRMb2FkZXIiLCJ2ZXJib3NlIiwiX2xvYWRlciIsIl9hc3NldExpc3QiLCJfaXNMb2FkaW5nIiwiX21heENvbmN1cnJlbnQiLCJhc3NldFVybHMiLCJ0b0xvYWQiLCJ0b0xvYWRBbW91bnQiLCJjb252ZXJ0VG9MaXN0IiwicHJvY2Vzc1giLCJ0YWdzIiwiY3JlYXRlU3RyaW5nVmFyaWF0aW9ucyIsImlkc18xIiwidmFycyIsImlzU2luZ2xlSXRlbSIsIkNhY2hlIiwiQ2FjaGVDbGFzcyIsIl9wYXJzZXJzIiwiX2NhY2hlIiwiX2NhY2hlTWFwIiwiY2FjaGVhYmxlQXNzZXRzIiwicGFyc2VycyIsImdldENhY2hlYWJsZUFzc2V0cyIsImNhY2hlS2V5cyIsImNhY2hlZEFzc2V0cyIsInRleHR1cmVfMSIsImNhY2hlTWFwIiwiYXNzZXQiLCJpZ25vcmVNdWx0aVBhY2siLCJiYXNlUGF0aF8xIiwib3V0MiIsImNhY2hlU3ByaXRlc2hlZXQiLCJDYWNoZVBhcnNlciIsImNhY2hlVGV4dHVyZUFycmF5IiwiZXZlcnkiLCJhZGRGb3JtYXRzIiwicmVtb3ZlRm9ybWF0cyIsImZvcm1hdF8xIiwiZGV0ZWN0QXZpZiIsIkRldGVjdGlvblBhcnNlciIsImRldGVjdFdlYnAiLCJ2YWxpZEV4dGVuc2lvbnMiLCJsb2FkQml0bWFwRm9udCIsIkxvYWRQYXJzZXIiLCJpbmNsdWRlcyIsInRlc3RQYXJzZSIsInBhZ2VzIiwidGV4dHVyZVVybHMiLCJpbWFnZVBhdGgiLCJsb2FkZWRUZXh0dXJlcyIsImxvYWRKc29uIiwibG9hZFNwcml0ZXNoZWV0IiwiYmFzZVBhdGgiLCJhc3NldHMiLCJzcCIsImxvYWRUeHQiLCJ2YWxpZFdlaWdodHMiLCJ2YWxpZEZvbnRzIiwibG9hZFdlYkZvbnQiLCJmb250RmFjZXMiLCJ3ZWlnaHRzIiwid2VpZ2h0Iiwib25MaW5lIiwiZmFtaWx5Iiwid29yZCIsInRvVXBwZXJDYXNlIiwiZ2V0Rm9udEZhbWlseU5hbWUiLCJGb250RmFjZSIsImZvbnRzIiwicHJvbWlzZUNhY2hlIiwiTUFYX1dPUktFUlMiLCJVVUlEIiwiY2hlY2tJbWFnZUJpdG1hcENvZGUiLCJXb3JrZXJNYW5hZ2VyQ2xhc3MiLCJfaW5pdGlhbGl6ZWQiLCJfY3JlYXRlZFdvcmtlcnMiLCJyZXNvbHZlSGFzaCIsImlzSW1hZ2VCaXRtYXBTdXBwb3J0ZWQiLCJfaXNJbWFnZUJpdG1hcFN1cHBvcnRlZCIsInRlcm1pbmF0ZSIsImxvYWRJbWFnZUJpdG1hcCIsIl9ydW4iLCJfaW5pdFdvcmtlcnMiLCJnZXRXb3JrZXIiLCJoYXJkd2FyZUNvbmN1cnJlbmN5IiwicmV0dXJuV29ya2VyIiwidXVpZCIsInRvRG8iLCJXb3JrZXJNYW5hZ2VyIiwidmFsaWRJbWFnZXMkMSIsImltYWdlQmxvYiIsIm9rIiwibG9hZFRleHR1cmVzIiwiY29uZmlnIiwicHJlZmVyV29ya2VycyIsImlzVmFsaWRCYXNlNjRTdWZmaXgiLCJ0ZW1wVVJMIiwiY2hlY2tFeHRlbnNpb24iLCJsb2FkU1ZHIiwiX2dldExvYWRQcm9taXNlQW5kUGFyc2VyIiwiYXNzZXRzVG9Mb2FkSW4iLCJzaW5nbGVBc3NldCIsImFzc2V0c1RvTG9hZCIsImVfMSIsImFzc2V0c1RvVW5sb2FkSW4iLCJhc3NldHNUb1VubG9hZCIsImxvYWRQcm9taXNlIiwibG9hZGVkQXNzZXQiLCJ2YWxpZEltYWdlcyIsInJlc29sdmVTcHJpdGVTaGVldFVybCIsIlJlc29sdmVQYXJzZXIiLCJyZXNvbHZlVGV4dHVyZVVybCIsIlJlc29sdmVyIiwiX2Fzc2V0TWFwIiwiX3ByZWZlcnJlZE9yZGVyIiwiX3Jlc29sdmVySGFzaCIsIl9idW5kbGVzIiwicHJlZmVyIiwicHJlZmVyT3JkZXJzIiwicGFyYW1zIiwiX2Jhc2VQYXRoIiwiX3Jvb3RQYXRoIiwicm9vdFBhdGgiLCJfbWFuaWZlc3QiLCJhZGRNYW5pZmVzdCIsIm1hbmlmZXN0IiwiYnVuZGxlcyIsImJ1bmRsZSIsImFkZEJ1bmRsZSIsImJ1bmRsZUlkIiwiYXNzZXROYW1lcyIsInNyY3MiLCJrZXlzSW4iLCJhc3NldHNJbiIsImFzc2V0TWFwIiwiZm9ybWF0dGVkQXNzZXQiLCJhbGlhcyIsInJlc29sdmVCdW5kbGUiLCJidW5kbGVJZHMiLCJyZXNvbHZlVXJsIiwiYXNzZXRzXzEiLCJwcmVmZXJyZWRPcmRlcl8xIiwiX2dldFByZWZlcnJlZE9yZGVyIiwiYmVzdEFzc2V0IiwicHJpb3JpdHlLZXkiLCJmaWx0ZXJlZEFzc2V0cyIsInByZWZlcnJlZCIsInRoaXNfMSIsImZpbmQiLCJwcmVmZXJlbmNlIiwic3RhdGVfMSIsIkFzc2V0c0NsYXNzIiwiX2RldGVjdGlvbnMiLCJyZXNvbHZlciIsIl9iYWNrZ3JvdW5kTG9hZGVyIiwiYWN0aXZlIiwicmVzb2x1dGlvblByZWYiLCJmb3JtYXRQcmVmIiwiZGV0ZWN0aW9uIiwidGV4dHVyZVByZWZlcmVuY2UiLCJ1cmxBcnJheSIsInJlc29sdmVSZXN1bHRzIiwiX21hcExvYWRUb1Jlc29sdmUiLCJsb2FkQnVuZGxlIiwicmVzb2x2ZVJlc3VsdCIsImJhY2tncm91bmRMb2FkIiwiYmFja2dyb3VuZExvYWRCdW5kbGUiLCJyZXNvbHZlQXJyYXkiLCJyZXNvbHZlS2V5cyIsImxvYWRlZEFzc2V0cyIsIl91bmxvYWRGcm9tUmVzb2x2ZWQiLCJ1bmxvYWRCdW5kbGUiLCJBc3NldHMiLCJkZXRlY3Rpb25zIiwiUElYSSIsImFwcCIsImdlbSIsInB1cnBsZUdlbXMiLCJwZ2MiLCJtYWtlQnV0dG9uIiwib25DbGljayIsImJ1dHRvbjEiLCJidXR0b24yIiwiYnV0dG9uMyJdLCJzb3VyY2VSb290IjoiIn0=